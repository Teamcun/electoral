function yve(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function VC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yM={exports:{}},V1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B9;function _ve(){if(B9)return V1;B9=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:s,ref:i!==void 0?i:null,props:a}}return V1.Fragment=e,V1.jsx=t,V1.jsxs=t,V1}var V9;function xve(){return V9||(V9=1,yM.exports=_ve()),yM.exports}var G=xve(),_M={exports:{}},er={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9;function wve(){if(z9)return er;z9=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function h(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(q,Q,j){this.props=q,this.context=Q,this.refs=m,this.updater=j||p}y.prototype.isReactComponent={},y.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function x(){}x.prototype=y.prototype;function w(q,Q,j){this.props=q,this.context=Q,this.refs=m,this.updater=j||p}var b=w.prototype=new x;b.constructor=w,v(b,y.prototype),b.isPureReactComponent=!0;var T=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function E(q,Q,j,J,te,se){return j=se.ref,{$$typeof:r,type:q,key:Q,ref:j!==void 0?j:null,props:se}}function R(q,Q){return E(q.type,Q,void 0,void 0,void 0,q.props)}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function k(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(j){return Q[j]})}var L=/\/+/g;function O(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?k(""+q.key):Q.toString(36)}function N(){}function W(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(N,N):(q.status="pending",q.then(function(Q){q.status==="pending"&&(q.status="fulfilled",q.value=Q)},function(Q){q.status==="pending"&&(q.status="rejected",q.reason=Q)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function U(q,Q,j,J,te){var se=typeof q;(se==="undefined"||se==="boolean")&&(q=null);var de=!1;if(q===null)de=!0;else switch(se){case"bigint":case"string":case"number":de=!0;break;case"object":switch(q.$$typeof){case r:case e:de=!0;break;case c:return de=q._init,U(de(q._payload),Q,j,J,te)}}if(de)return te=te(q),de=J===""?"."+O(q,0):J,T(te)?(j="",de!=null&&(j=de.replace(L,"$&/")+"/"),U(te,Q,j,"",function(ye){return ye})):te!=null&&(M(te)&&(te=R(te,j+(te.key==null||q&&q.key===te.key?"":(""+te.key).replace(L,"$&/")+"/")+de)),Q.push(te)),1;de=0;var Oe=J===""?".":J+":";if(T(q))for(var Ae=0;Ae<q.length;Ae++)J=q[Ae],se=Oe+O(J,Ae),de+=U(J,Q,j,se,te);else if(Ae=h(q),typeof Ae=="function")for(q=Ae.call(q),Ae=0;!(J=q.next()).done;)J=J.value,se=Oe+O(J,Ae++),de+=U(J,Q,j,se,te);else if(se==="object"){if(typeof q.then=="function")return U(W(q),Q,j,J,te);throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function z(q,Q,j){if(q==null)return q;var J=[],te=0;return U(q,J,"","",function(se){return Q.call(j,se,te++)}),J}function Y(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(j){(q._status===0||q._status===-1)&&(q._status=1,q._result=j)},function(j){(q._status===0||q._status===-1)&&(q._status=2,q._result=j)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var re=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function K(){}return er.Children={map:z,forEach:function(q,Q,j){z(q,function(){Q.apply(this,arguments)},j)},count:function(q){var Q=0;return z(q,function(){Q++}),Q},toArray:function(q){return z(q,function(Q){return Q})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},er.Component=y,er.Fragment=t,er.Profiler=i,er.PureComponent=w,er.StrictMode=n,er.Suspense=l,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,er.__COMPILER_RUNTIME={__proto__:null,c:function(q){return C.H.useMemoCache(q)}},er.cache=function(q){return function(){return q.apply(null,arguments)}},er.cloneElement=function(q,Q,j){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var J=v({},q.props),te=q.key,se=void 0;if(Q!=null)for(de in Q.ref!==void 0&&(se=void 0),Q.key!==void 0&&(te=""+Q.key),Q)!D.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(J[de]=Q[de]);var de=arguments.length-2;if(de===1)J.children=j;else if(1<de){for(var Oe=Array(de),Ae=0;Ae<de;Ae++)Oe[Ae]=arguments[Ae+2];J.children=Oe}return E(q.type,te,void 0,void 0,se,J)},er.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},er.createElement=function(q,Q,j){var J,te={},se=null;if(Q!=null)for(J in Q.key!==void 0&&(se=""+Q.key),Q)D.call(Q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(te[J]=Q[J]);var de=arguments.length-2;if(de===1)te.children=j;else if(1<de){for(var Oe=Array(de),Ae=0;Ae<de;Ae++)Oe[Ae]=arguments[Ae+2];te.children=Oe}if(q&&q.defaultProps)for(J in de=q.defaultProps,de)te[J]===void 0&&(te[J]=de[J]);return E(q,se,void 0,void 0,null,te)},er.createRef=function(){return{current:null}},er.forwardRef=function(q){return{$$typeof:o,render:q}},er.isValidElement=M,er.lazy=function(q){return{$$typeof:c,_payload:{_status:-1,_result:q},_init:Y}},er.memo=function(q,Q){return{$$typeof:u,type:q,compare:Q===void 0?null:Q}},er.startTransition=function(q){var Q=C.T,j={};C.T=j;try{var J=q(),te=C.S;te!==null&&te(j,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(K,re)}catch(se){re(se)}finally{C.T=Q}},er.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},er.use=function(q){return C.H.use(q)},er.useActionState=function(q,Q,j){return C.H.useActionState(q,Q,j)},er.useCallback=function(q,Q){return C.H.useCallback(q,Q)},er.useContext=function(q){return C.H.useContext(q)},er.useDebugValue=function(){},er.useDeferredValue=function(q,Q){return C.H.useDeferredValue(q,Q)},er.useEffect=function(q,Q,j){var J=C.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(q,Q)},er.useId=function(){return C.H.useId()},er.useImperativeHandle=function(q,Q,j){return C.H.useImperativeHandle(q,Q,j)},er.useInsertionEffect=function(q,Q){return C.H.useInsertionEffect(q,Q)},er.useLayoutEffect=function(q,Q){return C.H.useLayoutEffect(q,Q)},er.useMemo=function(q,Q){return C.H.useMemo(q,Q)},er.useOptimistic=function(q,Q){return C.H.useOptimistic(q,Q)},er.useReducer=function(q,Q,j){return C.H.useReducer(q,Q,j)},er.useRef=function(q){return C.H.useRef(q)},er.useState=function(q){return C.H.useState(q)},er.useSyncExternalStore=function(q,Q,j){return C.H.useSyncExternalStore(q,Q,j)},er.useTransition=function(){return C.H.useTransition()},er.version="19.1.0",er}var U9;function zC(){return U9||(U9=1,_M.exports=wve()),_M.exports}var ue=zC();const Qc=VC(ue),bve=yve({__proto__:null,default:Qc},[ue]);var xM={exports:{}},z1={},wM={exports:{}},bM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H9;function Sve(){return H9||(H9=1,function(r){function e(z,Y){var re=z.length;z.push(Y);e:for(;0<re;){var K=re-1>>>1,q=z[K];if(0<i(q,Y))z[K]=Y,z[re]=q,re=K;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Y=z[0],re=z.pop();if(re!==Y){z[0]=re;e:for(var K=0,q=z.length,Q=q>>>1;K<Q;){var j=2*(K+1)-1,J=z[j],te=j+1,se=z[te];if(0>i(J,re))te<q&&0>i(se,J)?(z[K]=se,z[te]=re,K=te):(z[K]=J,z[j]=re,K=j);else if(te<q&&0>i(se,re))z[K]=se,z[te]=re,K=te;else break e}}return Y}function i(z,Y){var re=z.sortIndex-Y.sortIndex;return re!==0?re:z.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,v=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function T(z){for(var Y=t(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=z)n(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(u)}}function C(z){if(m=!1,T(z),!v)if(t(l)!==null)v=!0,D||(D=!0,O());else{var Y=t(u);Y!==null&&U(C,Y.startTime-z)}}var D=!1,E=-1,R=5,M=-1;function k(){return y?!0:!(r.unstable_now()-M<R)}function L(){if(y=!1,D){var z=r.unstable_now();M=z;var Y=!0;try{e:{v=!1,m&&(m=!1,w(E),E=-1),p=!0;var re=h;try{t:{for(T(z),f=t(l);f!==null&&!(f.expirationTime>z&&k());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var q=K(f.expirationTime<=z);if(z=r.unstable_now(),typeof q=="function"){f.callback=q,T(z),Y=!0;break t}f===t(l)&&n(l),T(z)}else n(l);f=t(l)}if(f!==null)Y=!0;else{var Q=t(u);Q!==null&&U(C,Q.startTime-z),Y=!1}}break e}finally{f=null,h=re,p=!1}Y=void 0}}finally{Y?O():D=!1}}}var O;if(typeof b=="function")O=function(){b(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,W=N.port2;N.port1.onmessage=L,O=function(){W.postMessage(null)}}else O=function(){x(L,0)};function U(z,Y){E=x(function(){z(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(z){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var re=h;h=Y;try{return z()}finally{h=re}},r.unstable_requestPaint=function(){y=!0},r.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=h;h=z;try{return Y()}finally{h=re}},r.unstable_scheduleCallback=function(z,Y,re){var K=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?K+re:K):re=K,z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=re+q,z={id:c++,callback:Y,priorityLevel:z,startTime:re,expirationTime:q,sortIndex:-1},re>K?(z.sortIndex=re,e(u,z),t(l)===null&&z===t(u)&&(m?(w(E),E=-1):m=!0,U(C,re-K))):(z.sortIndex=q,e(l,z),v||p||(v=!0,D||(D=!0,O()))),z},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(z){var Y=h;return function(){var re=h;h=Y;try{return z.apply(this,arguments)}finally{h=re}}}}(bM)),bM}var G9;function Tve(){return G9||(G9=1,wM.exports=Sve()),wM.exports}var SM={exports:{}},wa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j9;function Ave(){if(j9)return wa;j9=1;var r=zC();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return wa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wa.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},wa.flushSync=function(l){var u=s.T,c=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=u,n.p=c,n.d.f()}},wa.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},wa.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},wa.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):c==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},wa.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},wa.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},wa.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},wa.requestFormReset=function(l){n.d.r(l)},wa.unstable_batchedUpdates=function(l,u){return l(u)},wa.useFormState=function(l,u,c){return s.H.useFormState(l,u,c)},wa.useFormStatus=function(){return s.H.useHostTransitionStatus()},wa.version="19.1.0",wa}var W9;function KQ(){if(W9)return SM.exports;W9=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),SM.exports=Ave(),SM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $9;function Eve(){if($9)return z1;$9=1;var r=Tve(),e=zC(),t=KQ();function n(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function a(d){var g=d,_=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,(g.flags&4098)!==0&&(_=g.return),d=g.return;while(d)}return g.tag===3?_:null}function s(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function o(d){if(a(d)!==d)throw Error(n(188))}function l(d){var g=d.alternate;if(!g){if(g=a(d),g===null)throw Error(n(188));return g!==d?null:d}for(var _=d,S=g;;){var I=_.return;if(I===null)break;var P=I.alternate;if(P===null){if(S=I.return,S!==null){_=S;continue}break}if(I.child===P.child){for(P=I.child;P;){if(P===_)return o(I),d;if(P===S)return o(I),g;P=P.sibling}throw Error(n(188))}if(_.return!==S.return)_=I,S=P;else{for(var H=!1,Z=I.child;Z;){if(Z===_){H=!0,_=I,S=P;break}if(Z===S){H=!0,S=I,_=P;break}Z=Z.sibling}if(!H){for(Z=P.child;Z;){if(Z===_){H=!0,_=P,S=I;break}if(Z===S){H=!0,S=P,_=I;break}Z=Z.sibling}if(!H)throw Error(n(189))}}if(_.alternate!==S)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?d:g}function u(d){var g=d.tag;if(g===5||g===26||g===27||g===6)return d;for(d=d.child;d!==null;){if(g=u(d),g!==null)return g;d=d.sibling}return null}var c=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function O(d){return d===null||typeof d!="object"?null:(d=L&&d[L]||d["@@iterator"],typeof d=="function"?d:null)}var N=Symbol.for("react.client.reference");function W(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===N?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case v:return"Fragment";case y:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList";case M:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case p:return"Portal";case b:return(d.displayName||"Context")+".Provider";case w:return(d._context.displayName||"Context")+".Consumer";case T:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case E:return g=d.displayName||null,g!==null?g:W(d.type)||"Memo";case R:g=d._payload,d=d._init;try{return W(d(g))}catch{}}return null}var U=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},K=[],q=-1;function Q(d){return{current:d}}function j(d){0>q||(d.current=K[q],K[q]=null,q--)}function J(d,g){q++,K[q]=d.current,d.current=g}var te=Q(null),se=Q(null),de=Q(null),Oe=Q(null);function Ae(d,g){switch(J(de,g),J(se,d),J(te,null),g.nodeType){case 9:case 11:d=(d=g.documentElement)&&(d=d.namespaceURI)?h9(d):0;break;default:if(d=g.tagName,g=g.namespaceURI)g=h9(g),d=d9(g,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}j(te),J(te,d)}function ye(){j(te),j(se),j(de)}function Se(d){d.memoizedState!==null&&J(Oe,d);var g=te.current,_=d9(g,d.type);g!==_&&(J(se,d),J(te,_))}function me(d){se.current===d&&(j(te),j(se)),Oe.current===d&&(j(Oe),L1._currentValue=re)}var ee=Object.prototype.hasOwnProperty,mt=r.unstable_scheduleCallback,rt=r.unstable_cancelCallback,at=r.unstable_shouldYield,ot=r.unstable_requestPaint,Ue=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,vr=r.unstable_ImmediatePriority,en=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,ni=r.unstable_LowPriority,Or=r.unstable_IdlePriority,zn=r.log,ya=r.unstable_setDisableYieldValue,We=null,qe=null;function Ze(d){if(typeof zn=="function"&&ya(d),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(We,d)}catch{}}var dt=Math.clz32?Math.clz32:gr,yt=Math.log,_r=Math.LN2;function gr(d){return d>>>=0,d===0?32:31-(yt(d)/_r|0)|0}var Rt=256,Kt=4194304;function pn(d){var g=d&42;if(g!==0)return g;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Xa(d,g,_){var S=d.pendingLanes;if(S===0)return 0;var I=0,P=d.suspendedLanes,H=d.pingedLanes;d=d.warmLanes;var Z=S&134217727;return Z!==0?(S=Z&~P,S!==0?I=pn(S):(H&=Z,H!==0?I=pn(H):_||(_=Z&~d,_!==0&&(I=pn(_))))):(Z=S&~P,Z!==0?I=pn(Z):H!==0?I=pn(H):_||(_=S&~d,_!==0&&(I=pn(_)))),I===0?0:g!==0&&g!==I&&(g&P)===0&&(P=I&-I,_=g&-g,P>=_||P===32&&(_&4194048)!==0)?g:I}function Ki(d,g){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&g)===0}function Zi(d,g){switch(d){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var d=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),d}function Hs(){var d=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),d}function _a(d){for(var g=[],_=0;31>_;_++)g.push(d);return g}function Gs(d,g){d.pendingLanes|=g,g!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Jl(d,g,_,S,I,P){var H=d.pendingLanes;d.pendingLanes=_,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=_,d.entangledLanes&=_,d.errorRecoveryDisabledLanes&=_,d.shellSuspendCounter=0;var Z=d.entanglements,fe=d.expirationTimes,be=d.hiddenUpdates;for(_=H&~_;0<_;){var Ne=31-dt(_),Ve=1<<Ne;Z[Ne]=0,fe[Ne]=-1;var Ce=be[Ne];if(Ce!==null)for(be[Ne]=null,Ne=0;Ne<Ce.length;Ne++){var Ie=Ce[Ne];Ie!==null&&(Ie.lane&=-536870913)}_&=~Ve}S!==0&&xo(d,S,0),P!==0&&I===0&&d.tag!==0&&(d.suspendedLanes|=P&~(H&~g))}function xo(d,g,_){d.pendingLanes|=g,d.suspendedLanes&=~g;var S=31-dt(g);d.entangledLanes|=g,d.entanglements[S]=d.entanglements[S]|1073741824|_&4194090}function Ed(d,g){var _=d.entangledLanes|=g;for(d=d.entanglements;_;){var S=31-dt(_),I=1<<S;I&g|d[S]&g&&(d[S]|=g),_&=~I}}function eu(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Ef(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function tu(){var d=Y.p;return d!==0?d:(d=window.event,d===void 0?32:k9(d.type))}function mg(d,g){var _=Y.p;try{return Y.p=d,g()}finally{Y.p=_}}var rn=Math.random().toString(36).slice(2),Un="__reactFiber$"+rn,vn="__reactProps$"+rn,ws="__reactContainer$"+rn,Cd="__reactEvents$"+rn,Uy="__reactListeners$"+rn,X="__reactHandles$"+rn,le="__reactResources$"+rn,ie="__reactMarker$"+rn;function ae(d){delete d[Un],delete d[vn],delete d[Cd],delete d[Uy],delete d[X]}function oe(d){var g=d[Un];if(g)return g;for(var _=d.parentNode;_;){if(g=_[ws]||_[Un]){if(_=g.alternate,g.child!==null||_!==null&&_.child!==null)for(d=m9(d);d!==null;){if(_=d[Un])return _;d=m9(d)}return g}d=_,_=d.parentNode}return null}function ce(d){if(d=d[Un]||d[ws]){var g=d.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return d}return null}function we(d){var g=d.tag;if(g===5||g===26||g===27||g===6)return d.stateNode;throw Error(n(33))}function Re(d){var g=d[le];return g||(g=d[le]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function ve(d){d[ie]=!0}var Te=new Set,Ee={};function He(d,g){Ke(d,g),Ke(d+"Capture",g)}function Ke(d,g){for(Ee[d]=g,d=0;d<g.length;d++)Te.add(g[d])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ye={},nt={};function Nt(d){return ee.call(nt,d)?!0:ee.call(Ye,d)?!1:st.test(d)?nt[d]=!0:(Ye[d]=!0,!1)}function Rr(d,g,_){if(Nt(g))if(_===null)d.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":d.removeAttribute(g);return;case"boolean":var S=g.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){d.removeAttribute(g);return}}d.setAttribute(g,""+_)}}function xr(d,g,_){if(_===null)d.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(g);return}d.setAttribute(g,""+_)}}function wr(d,g,_,S){if(S===null)d.removeAttribute(_);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(_);return}d.setAttributeNS(g,_,""+S)}}var js,ru;function Ka(d){if(js===void 0)try{throw Error()}catch(_){var g=_.stack.trim().match(/\n( *(at )?)/);js=g&&g[1]||"",ru=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+js+d+ru}var bs=!1;function nu(d,g){if(!d||bs)return"";bs=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(g){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Ie){var Ce=Ie}Reflect.construct(d,[],Ve)}else{try{Ve.call()}catch(Ie){Ce=Ie}d.call(Ve.prototype)}}else{try{throw Error()}catch(Ie){Ce=Ie}(Ve=d())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Ie){if(Ie&&Ce&&typeof Ie.stack=="string")return[Ie.stack,Ce.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=S.DetermineComponentFrameRoot(),H=P[0],Z=P[1];if(H&&Z){var fe=H.split(`
`),be=Z.split(`
`);for(I=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;I<be.length&&!be[I].includes("DetermineComponentFrameRoot");)I++;if(S===fe.length||I===be.length)for(S=fe.length-1,I=be.length-1;1<=S&&0<=I&&fe[S]!==be[I];)I--;for(;1<=S&&0<=I;S--,I--)if(fe[S]!==be[I]){if(S!==1||I!==1)do if(S--,I--,0>I||fe[S]!==be[I]){var Ne=`
`+fe[S].replace(" at new "," at ");return d.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",d.displayName)),Ne}while(1<=S&&0<=I);break}}}finally{bs=!1,Error.prepareStackTrace=_}return(_=d?d.displayName||d.name:"")?Ka(_):""}function Za(d){switch(d.tag){case 26:case 27:case 5:return Ka(d.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 15:return nu(d.type,!1);case 11:return nu(d.type.render,!1);case 1:return nu(d.type,!0);case 31:return Ka("Activity");default:return""}}function yg(d){try{var g="";do g+=Za(d),d=d.return;while(d);return g}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function Qa(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Hy(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function bI(d){var g=Hy(d)?"checked":"value",_=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),S=""+d[g];if(!d.hasOwnProperty(g)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var I=_.get,P=_.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return I.call(this)},set:function(H){S=""+H,P.call(this,H)}}),Object.defineProperty(d,g,{enumerable:_.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function _g(d){d._valueTracker||(d._valueTracker=bI(d))}function Gy(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var _=g.getValue(),S="";return d&&(S=Hy(d)?d.checked?"true":"false":d.value),d=S,d!==_?(g.setValue(d),!0):!1}function Dd(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var SI=/[\n"\\]/g;function ai(d){return d.replace(SI,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function Ws(d,g,_,S,I,P,H,Z){d.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?d.type=H:d.removeAttribute("type"),g!=null?H==="number"?(g===0&&d.value===""||d.value!=g)&&(d.value=""+Qa(g)):d.value!==""+Qa(g)&&(d.value=""+Qa(g)):H!=="submit"&&H!=="reset"||d.removeAttribute("value"),g!=null?Cf(d,H,Qa(g)):_!=null?Cf(d,H,Qa(_)):S!=null&&d.removeAttribute("value"),I==null&&P!=null&&(d.defaultChecked=!!P),I!=null&&(d.checked=I&&typeof I!="function"&&typeof I!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?d.name=""+Qa(Z):d.removeAttribute("name")}function Id(d,g,_,S,I,P,H,Z){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),g!=null||_!=null){if(!(P!=="submit"&&P!=="reset"||g!=null))return;_=_!=null?""+Qa(_):"",g=g!=null?""+Qa(g):_,Z||g===d.value||(d.value=g),d.defaultValue=g}S=S??I,S=typeof S!="function"&&typeof S!="symbol"&&!!S,d.checked=Z?d.checked:!!S,d.defaultChecked=!!S,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(d.name=H)}function Cf(d,g,_){g==="number"&&Dd(d.ownerDocument)===d||d.defaultValue===""+_||(d.defaultValue=""+_)}function hc(d,g,_,S){if(d=d.options,g){g={};for(var I=0;I<_.length;I++)g["$"+_[I]]=!0;for(_=0;_<d.length;_++)I=g.hasOwnProperty("$"+d[_].value),d[_].selected!==I&&(d[_].selected=I),I&&S&&(d[_].defaultSelected=!0)}else{for(_=""+Qa(_),g=null,I=0;I<d.length;I++){if(d[I].value===_){d[I].selected=!0,S&&(d[I].defaultSelected=!0);return}g!==null||d[I].disabled||(g=d[I])}g!==null&&(g.selected=!0)}}function Yr(d,g,_){if(g!=null&&(g=""+Qa(g),g!==d.value&&(d.value=g),_==null)){d.defaultValue!==g&&(d.defaultValue=g);return}d.defaultValue=_!=null?""+Qa(_):""}function Rd(d,g,_,S){if(g==null){if(S!=null){if(_!=null)throw Error(n(92));if(U(S)){if(1<S.length)throw Error(n(93));S=S[0]}_=S}_==null&&(_=""),g=_}_=Qa(g),d.defaultValue=_,S=d.textContent,S===_&&S!==""&&S!==null&&(d.value=S)}function wo(d,g){if(g){var _=d.firstChild;if(_&&_===d.lastChild&&_.nodeType===3){_.nodeValue=g;return}}d.textContent=g}var Md=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qb(d,g,_){var S=g.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?S?d.setProperty(g,""):g==="float"?d.cssFloat="":d[g]="":S?d.setProperty(g,_):typeof _!="number"||_===0||Md.has(g)?g==="float"?d.cssFloat=_:d[g]=(""+_).trim():d[g]=_+"px"}function jy(d,g,_){if(g!=null&&typeof g!="object")throw Error(n(62));if(d=d.style,_!=null){for(var S in _)!_.hasOwnProperty(S)||g!=null&&g.hasOwnProperty(S)||(S.indexOf("--")===0?d.setProperty(S,""):S==="float"?d.cssFloat="":d[S]="");for(var I in g)S=g[I],g.hasOwnProperty(I)&&_[I]!==S&&qb(d,I,S)}else for(var P in g)g.hasOwnProperty(P)&&qb(d,P,g[P])}function Wy(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xg(d){return AI.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var dc=null;function bo(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var pc=null,vc=null;function $y(d){var g=ce(d);if(g&&(d=g.stateNode)){var _=d[vn]||null;e:switch(d=g.stateNode,g.type){case"input":if(Ws(d,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),g=_.name,_.type==="radio"&&g!=null){for(_=d;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+ai(""+g)+'"][type="radio"]'),g=0;g<_.length;g++){var S=_[g];if(S!==d&&S.form===d.form){var I=S[vn]||null;if(!I)throw Error(n(90));Ws(S,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(g=0;g<_.length;g++)S=_[g],S.form===d.form&&Gy(S)}break e;case"textarea":Yr(d,_.value,_.defaultValue);break e;case"select":g=_.value,g!=null&&hc(d,!!_.multiple,g,!1)}}}var iu=!1;function Yb(d,g,_){if(iu)return d(g,_);iu=!0;try{var S=d(g);return S}finally{if(iu=!1,(pc!==null||vc!==null)&&(US(),pc&&(g=pc,d=vc,vc=pc=null,$y(g),d)))for(g=0;g<d.length;g++)$y(d[g])}}function kd(d,g){var _=d.stateNode;if(_===null)return null;var S=_[vn]||null;if(S===null)return null;_=S[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(d=d.type,S=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!S;break e;default:d=!1}if(d)return null;if(_&&typeof _!="function")throw Error(n(231,g,typeof _));return _}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=!1;if(vl)try{var Pd={};Object.defineProperty(Pd,"passive",{get:function(){So=!0}}),window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{So=!1}var au=null,Df=null,gc=null;function qy(){if(gc)return gc;var d,g=Df,_=g.length,S,I="value"in au?au.value:au.textContent,P=I.length;for(d=0;d<_&&g[d]===I[d];d++);var H=_-d;for(S=1;S<=H&&g[_-S]===I[P-S];S++);return gc=I.slice(d,1<S?1-S:void 0)}function su(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function ou(){return!0}function Yy(){return!1}function Fi(d){function g(_,S,I,P,H){this._reactName=_,this._targetInst=I,this.type=S,this.nativeEvent=P,this.target=H,this.currentTarget=null;for(var Z in d)d.hasOwnProperty(Z)&&(_=d[Z],this[Z]=_?_(P):P[Z]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?ou:Yy,this.isPropagationStopped=Yy,this}return c(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),g}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=Fi(Vr),Ld=c({},Vr,{view:0,detail:0}),Xb=Fi(Ld),bg,Sg,lu,Od=c({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bd,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==lu&&(lu&&d.type==="mousemove"?(bg=d.screenX-lu.screenX,Sg=d.screenY-lu.screenY):Sg=bg=0,lu=d),bg)},movementY:function(d){return"movementY"in d?d.movementY:Sg}}),To=Fi(Od),Kb=c({},Od,{dataTransfer:0}),EI=Fi(Kb),Nd=c({},Ld,{relatedTarget:0}),Tg=Fi(Nd),Xy=c({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ag=Fi(Xy),Zb=c({},Vr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Eg=Fi(Zb),CI=c({},Vr,{data:0}),Ky=Fi(CI),Fd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=Jb[d])?!!g[d]:!1}function Bd(){return Zy}var eS=c({},Ld,{key:function(d){if(d.key){var g=Fd[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=su(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Qb[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bd,charCode:function(d){return d.type==="keypress"?su(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?su(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Cg=Fi(eS),tS=c({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=Fi(tS),mc=c({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bd}),rS=Fi(mc),nS=c({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),iS=Fi(nS),aS=c({},Od,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=Fi(aS),Ja=c({},Vr,{newState:0,oldState:0}),sS=Fi(Ja),oS=[9,13,27,32],uu=vl&&"CompositionEvent"in window,A=null;vl&&"documentMode"in document&&(A=document.documentMode);var F=vl&&"TextEvent"in window&&!A,V=vl&&(!uu||A&&8<A&&11>=A),ne=" ",_e=!1;function Me(d,g){switch(d){case"keyup":return oS.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var br=!1;function wi(d,g){switch(d){case"compositionend":return et(g);case"keypress":return g.which!==32?null:(_e=!0,ne);case"textInput":return d=g.data,d===ne&&_e?null:d;default:return null}}function Sr(d,g){if(br)return d==="compositionend"||!uu&&Me(d,g)?(d=qy(),gc=Df=au=null,br=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return V&&g.locale!=="ko"?null:g.data;default:return null}}var Bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bi(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!Bi[d.type]:g==="textarea"}function yc(d,g,_,S){pc?vc?vc.push(S):vc=[S]:pc=S,g=qS(g,"onChange"),0<g.length&&(_=new wg("onChange","change",null,_,S),d.push({event:_,listeners:g}))}var Qi=null,cu=null;function Jy(d){o9(d,0)}function lS(d){var g=we(d);if(Gy(g))return d}function D6(d,g){if(d==="change")return g}var I6=!1;if(vl){var DI;if(vl){var II="oninput"in document;if(!II){var R6=document.createElement("div");R6.setAttribute("oninput","return;"),II=typeof R6.oninput=="function"}DI=II}else DI=!1;I6=DI&&(!document.documentMode||9<document.documentMode)}function M6(){Qi&&(Qi.detachEvent("onpropertychange",k6),cu=Qi=null)}function k6(d){if(d.propertyName==="value"&&lS(cu)){var g=[];yc(g,cu,d,bo(d)),Yb(Jy,g)}}function Yde(d,g,_){d==="focusin"?(M6(),Qi=g,cu=_,Qi.attachEvent("onpropertychange",k6)):d==="focusout"&&M6()}function Xde(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return lS(cu)}function Kde(d,g){if(d==="click")return lS(g)}function Zde(d,g){if(d==="input"||d==="change")return lS(g)}function Qde(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var $s=typeof Object.is=="function"?Object.is:Qde;function e1(d,g){if($s(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var _=Object.keys(d),S=Object.keys(g);if(_.length!==S.length)return!1;for(S=0;S<_.length;S++){var I=_[S];if(!ee.call(g,I)||!$s(d[I],g[I]))return!1}return!0}function P6(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function L6(d,g){var _=P6(d);d=0;for(var S;_;){if(_.nodeType===3){if(S=d+_.textContent.length,d<=g&&S>=g)return{node:_,offset:g-d};d=S}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=P6(_)}}function O6(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?O6(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function N6(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var g=Dd(d.document);g instanceof d.HTMLIFrameElement;){try{var _=typeof g.contentWindow.location.href=="string"}catch{_=!1}if(_)d=g.contentWindow;else break;g=Dd(d.document)}return g}function RI(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}var Jde=vl&&"documentMode"in document&&11>=document.documentMode,Ig=null,MI=null,t1=null,kI=!1;function F6(d,g,_){var S=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;kI||Ig==null||Ig!==Dd(S)||(S=Ig,"selectionStart"in S&&RI(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),t1&&e1(t1,S)||(t1=S,S=qS(MI,"onSelect"),0<S.length&&(g=new wg("onSelect","select",null,g,_),d.push({event:g,listeners:S}),g.target=Ig)))}function Vd(d,g){var _={};return _[d.toLowerCase()]=g.toLowerCase(),_["Webkit"+d]="webkit"+g,_["Moz"+d]="moz"+g,_}var Rg={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionrun:Vd("Transition","TransitionRun"),transitionstart:Vd("Transition","TransitionStart"),transitioncancel:Vd("Transition","TransitionCancel"),transitionend:Vd("Transition","TransitionEnd")},PI={},B6={};vl&&(B6=document.createElement("div").style,"AnimationEvent"in window||(delete Rg.animationend.animation,delete Rg.animationiteration.animation,delete Rg.animationstart.animation),"TransitionEvent"in window||delete Rg.transitionend.transition);function zd(d){if(PI[d])return PI[d];if(!Rg[d])return d;var g=Rg[d],_;for(_ in g)if(g.hasOwnProperty(_)&&_ in B6)return PI[d]=g[_];return d}var V6=zd("animationend"),z6=zd("animationiteration"),U6=zd("animationstart"),epe=zd("transitionrun"),tpe=zd("transitionstart"),rpe=zd("transitioncancel"),H6=zd("transitionend"),G6=new Map,LI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");LI.push("scrollEnd");function gl(d,g){G6.set(d,g),He(g,[d])}var j6=new WeakMap;function Ao(d,g){if(typeof d=="object"&&d!==null){var _=j6.get(d);return _!==void 0?_:(g={value:d,source:g,stack:yg(g)},j6.set(d,g),g)}return{value:d,source:g,stack:yg(g)}}var Eo=[],Mg=0,OI=0;function uS(){for(var d=Mg,g=OI=Mg=0;g<d;){var _=Eo[g];Eo[g++]=null;var S=Eo[g];Eo[g++]=null;var I=Eo[g];Eo[g++]=null;var P=Eo[g];if(Eo[g++]=null,S!==null&&I!==null){var H=S.pending;H===null?I.next=I:(I.next=H.next,H.next=I),S.pending=I}P!==0&&W6(_,I,P)}}function cS(d,g,_,S){Eo[Mg++]=d,Eo[Mg++]=g,Eo[Mg++]=_,Eo[Mg++]=S,OI|=S,d.lanes|=S,d=d.alternate,d!==null&&(d.lanes|=S)}function NI(d,g,_,S){return cS(d,g,_,S),fS(d)}function kg(d,g){return cS(d,null,null,g),fS(d)}function W6(d,g,_){d.lanes|=_;var S=d.alternate;S!==null&&(S.lanes|=_);for(var I=!1,P=d.return;P!==null;)P.childLanes|=_,S=P.alternate,S!==null&&(S.childLanes|=_),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(I=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,I&&g!==null&&(I=31-dt(_),d=P.hiddenUpdates,S=d[I],S===null?d[I]=[g]:S.push(g),g.lane=_|536870912),P):null}function fS(d){if(50<E1)throw E1=0,HR=null,Error(n(185));for(var g=d.return;g!==null;)d=g,g=d.return;return d.tag===3?d.stateNode:null}var Pg={};function npe(d,g,_,S){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(d,g,_,S){return new npe(d,g,_,S)}function FI(d){return d=d.prototype,!(!d||!d.isReactComponent)}function _c(d,g){var _=d.alternate;return _===null?(_=qs(d.tag,g,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=g,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&65011712,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,g=d.dependencies,_.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_.refCleanup=d.refCleanup,_}function $6(d,g){d.flags&=65011714;var _=d.alternate;return _===null?(d.childLanes=0,d.lanes=g,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=_.childLanes,d.lanes=_.lanes,d.child=_.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=_.memoizedProps,d.memoizedState=_.memoizedState,d.updateQueue=_.updateQueue,d.type=_.type,g=_.dependencies,d.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),d}function hS(d,g,_,S,I,P){var H=0;if(S=d,typeof d=="function")FI(d)&&(H=1);else if(typeof d=="string")H=ave(d,_,te.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case M:return d=qs(31,_,g,I),d.elementType=M,d.lanes=P,d;case v:return Ud(_.children,I,P,g);case m:H=8,I|=24;break;case y:return d=qs(12,_,g,I|2),d.elementType=y,d.lanes=P,d;case C:return d=qs(13,_,g,I),d.elementType=C,d.lanes=P,d;case D:return d=qs(19,_,g,I),d.elementType=D,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case x:case b:H=10;break e;case w:H=9;break e;case T:H=11;break e;case E:H=14;break e;case R:H=16,S=null;break e}H=29,_=Error(n(130,d===null?"null":typeof d,"")),S=null}return g=qs(H,_,g,I),g.elementType=d,g.type=S,g.lanes=P,g}function Ud(d,g,_,S){return d=qs(7,d,S,g),d.lanes=_,d}function BI(d,g,_){return d=qs(6,d,null,g),d.lanes=_,d}function VI(d,g,_){return g=qs(4,d.children!==null?d.children:[],d.key,g),g.lanes=_,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}var Lg=[],Og=0,dS=null,pS=0,Co=[],Do=0,Hd=null,xc=1,wc="";function Gd(d,g){Lg[Og++]=pS,Lg[Og++]=dS,dS=d,pS=g}function q6(d,g,_){Co[Do++]=xc,Co[Do++]=wc,Co[Do++]=Hd,Hd=d;var S=xc;d=wc;var I=32-dt(S)-1;S&=~(1<<I),_+=1;var P=32-dt(g)+I;if(30<P){var H=I-I%5;P=(S&(1<<H)-1).toString(32),S>>=H,I-=H,xc=1<<32-dt(g)+I|_<<I|S,wc=P+d}else xc=1<<P|_<<I|S,wc=d}function zI(d){d.return!==null&&(Gd(d,1),q6(d,1,0))}function UI(d){for(;d===dS;)dS=Lg[--Og],Lg[Og]=null,pS=Lg[--Og],Lg[Og]=null;for(;d===Hd;)Hd=Co[--Do],Co[Do]=null,wc=Co[--Do],Co[Do]=null,xc=Co[--Do],Co[Do]=null}var es=null,Dn=null,Nr=!1,jd=null,fu=!1,HI=Error(n(519));function Wd(d){var g=Error(n(418,""));throw i1(Ao(g,d)),HI}function Y6(d){var g=d.stateNode,_=d.type,S=d.memoizedProps;switch(g[Un]=d,g[vn]=S,_){case"dialog":lr("cancel",g),lr("close",g);break;case"iframe":case"object":case"embed":lr("load",g);break;case"video":case"audio":for(_=0;_<D1.length;_++)lr(D1[_],g);break;case"source":lr("error",g);break;case"img":case"image":case"link":lr("error",g),lr("load",g);break;case"details":lr("toggle",g);break;case"input":lr("invalid",g),Id(g,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),_g(g);break;case"select":lr("invalid",g);break;case"textarea":lr("invalid",g),Rd(g,S.value,S.defaultValue,S.children),_g(g)}_=S.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||g.textContent===""+_||S.suppressHydrationWarning===!0||f9(g.textContent,_)?(S.popover!=null&&(lr("beforetoggle",g),lr("toggle",g)),S.onScroll!=null&&lr("scroll",g),S.onScrollEnd!=null&&lr("scrollend",g),S.onClick!=null&&(g.onclick=YS),g=!0):g=!1,g||Wd(d)}function X6(d){for(es=d.return;es;)switch(es.tag){case 5:case 13:fu=!1;return;case 27:case 3:fu=!0;return;default:es=es.return}}function r1(d){if(d!==es)return!1;if(!Nr)return X6(d),Nr=!0,!1;var g=d.tag,_;if((_=g!==3&&g!==27)&&((_=g===5)&&(_=d.type,_=!(_!=="form"&&_!=="button")||iM(d.type,d.memoizedProps)),_=!_),_&&Dn&&Wd(d),X6(d),g===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8)if(_=d.data,_==="/$"){if(g===0){Dn=yl(d.nextSibling);break e}g--}else _!=="$"&&_!=="$!"&&_!=="$?"||g++;d=d.nextSibling}Dn=null}}else g===27?(g=Dn,jf(d.type)?(d=lM,lM=null,Dn=d):Dn=g):Dn=es?yl(d.stateNode.nextSibling):null;return!0}function n1(){Dn=es=null,Nr=!1}function K6(){var d=jd;return d!==null&&(As===null?As=d:As.push.apply(As,d),jd=null),d}function i1(d){jd===null?jd=[d]:jd.push(d)}var GI=Q(null),$d=null,bc=null;function If(d,g,_){J(GI,g._currentValue),g._currentValue=_}function Sc(d){d._currentValue=GI.current,j(GI)}function jI(d,g,_){for(;d!==null;){var S=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,S!==null&&(S.childLanes|=g)):S!==null&&(S.childLanes&g)!==g&&(S.childLanes|=g),d===_)break;d=d.return}}function WI(d,g,_,S){var I=d.child;for(I!==null&&(I.return=d);I!==null;){var P=I.dependencies;if(P!==null){var H=I.child;P=P.firstContext;e:for(;P!==null;){var Z=P;P=I;for(var fe=0;fe<g.length;fe++)if(Z.context===g[fe]){P.lanes|=_,Z=P.alternate,Z!==null&&(Z.lanes|=_),jI(P.return,_,d),S||(H=null);break e}P=Z.next}}else if(I.tag===18){if(H=I.return,H===null)throw Error(n(341));H.lanes|=_,P=H.alternate,P!==null&&(P.lanes|=_),jI(H,_,d),H=null}else H=I.child;if(H!==null)H.return=I;else for(H=I;H!==null;){if(H===d){H=null;break}if(I=H.sibling,I!==null){I.return=H.return,H=I;break}H=H.return}I=H}}function a1(d,g,_,S){d=null;for(var I=g,P=!1;I!==null;){if(!P){if((I.flags&524288)!==0)P=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var H=I.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var Z=I.type;$s(I.pendingProps.value,H.value)||(d!==null?d.push(Z):d=[Z])}}else if(I===Oe.current){if(H=I.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(d!==null?d.push(L1):d=[L1])}I=I.return}d!==null&&WI(g,d,_,S),g.flags|=262144}function vS(d){for(d=d.firstContext;d!==null;){if(!$s(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function qd(d){$d=d,bc=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function xa(d){return Z6($d,d)}function gS(d,g){return $d===null&&qd(d),Z6(d,g)}function Z6(d,g){var _=g._currentValue;if(g={context:g,memoizedValue:_,next:null},bc===null){if(d===null)throw Error(n(308));bc=g,d.dependencies={lanes:0,firstContext:g},d.flags|=524288}else bc=bc.next=g;return _}var ipe=typeof AbortController<"u"?AbortController:function(){var d=[],g=this.signal={aborted:!1,addEventListener:function(_,S){d.push(S)}};this.abort=function(){g.aborted=!0,d.forEach(function(_){return _()})}},ape=r.unstable_scheduleCallback,spe=r.unstable_NormalPriority,Si={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $I(){return{controller:new ipe,data:new Map,refCount:0}}function s1(d){d.refCount--,d.refCount===0&&ape(spe,function(){d.controller.abort()})}var o1=null,qI=0,Ng=0,Fg=null;function ope(d,g){if(o1===null){var _=o1=[];qI=0,Ng=XR(),Fg={status:"pending",value:void 0,then:function(S){_.push(S)}}}return qI++,g.then(Q6,Q6),g}function Q6(){if(--qI===0&&o1!==null){Fg!==null&&(Fg.status="fulfilled");var d=o1;o1=null,Ng=0,Fg=null;for(var g=0;g<d.length;g++)(0,d[g])()}}function lpe(d,g){var _=[],S={status:"pending",value:null,reason:null,then:function(I){_.push(I)}};return d.then(function(){S.status="fulfilled",S.value=g;for(var I=0;I<_.length;I++)(0,_[I])(g)},function(I){for(S.status="rejected",S.reason=I,I=0;I<_.length;I++)(0,_[I])(void 0)}),S}var J6=z.S;z.S=function(d,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&ope(d,g),J6!==null&&J6(d,g)};var Yd=Q(null);function YI(){var d=Yd.current;return d!==null?d:nn.pooledCache}function mS(d,g){g===null?J(Yd,Yd.current):J(Yd,g.pool)}function ez(){var d=YI();return d===null?null:{parent:Si._currentValue,pool:d}}var l1=Error(n(460)),tz=Error(n(474)),yS=Error(n(542)),XI={then:function(){}};function rz(d){return d=d.status,d==="fulfilled"||d==="rejected"}function _S(){}function nz(d,g,_){switch(_=d[_],_===void 0?d.push(g):_!==g&&(g.then(_S,_S),g=_),g.status){case"fulfilled":return g.value;case"rejected":throw d=g.reason,az(d),d;default:if(typeof g.status=="string")g.then(_S,_S);else{if(d=nn,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=g,d.status="pending",d.then(function(S){if(g.status==="pending"){var I=g;I.status="fulfilled",I.value=S}},function(S){if(g.status==="pending"){var I=g;I.status="rejected",I.reason=S}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw d=g.reason,az(d),d}throw u1=g,l1}}var u1=null;function iz(){if(u1===null)throw Error(n(459));var d=u1;return u1=null,d}function az(d){if(d===l1||d===yS)throw Error(n(483))}var Rf=!1;function KI(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ZI(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Mf(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function kf(d,g,_){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,(jr&2)!==0){var I=S.pending;return I===null?g.next=g:(g.next=I.next,I.next=g),S.pending=g,g=fS(d),W6(d,null,_),g}return cS(d,S,g,_),fS(d)}function c1(d,g,_){if(g=g.updateQueue,g!==null&&(g=g.shared,(_&4194048)!==0)){var S=g.lanes;S&=d.pendingLanes,_|=S,g.lanes=_,Ed(d,_)}}function QI(d,g){var _=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,_===S)){var I=null,P=null;if(_=_.firstBaseUpdate,_!==null){do{var H={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};P===null?I=P=H:P=P.next=H,_=_.next}while(_!==null);P===null?I=P=g:P=P.next=g}else I=P=g;_={baseState:S.baseState,firstBaseUpdate:I,lastBaseUpdate:P,shared:S.shared,callbacks:S.callbacks},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=g:d.next=g,_.lastBaseUpdate=g}var JI=!1;function f1(){if(JI){var d=Fg;if(d!==null)throw d}}function h1(d,g,_,S){JI=!1;var I=d.updateQueue;Rf=!1;var P=I.firstBaseUpdate,H=I.lastBaseUpdate,Z=I.shared.pending;if(Z!==null){I.shared.pending=null;var fe=Z,be=fe.next;fe.next=null,H===null?P=be:H.next=be,H=fe;var Ne=d.alternate;Ne!==null&&(Ne=Ne.updateQueue,Z=Ne.lastBaseUpdate,Z!==H&&(Z===null?Ne.firstBaseUpdate=be:Z.next=be,Ne.lastBaseUpdate=fe))}if(P!==null){var Ve=I.baseState;H=0,Ne=be=fe=null,Z=P;do{var Ce=Z.lane&-536870913,Ie=Ce!==Z.lane;if(Ie?(Tr&Ce)===Ce:(S&Ce)===Ce){Ce!==0&&Ce===Ng&&(JI=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Ft=d,Mt=Z;Ce=g;var Zr=_;switch(Mt.tag){case 1:if(Ft=Mt.payload,typeof Ft=="function"){Ve=Ft.call(Zr,Ve,Ce);break e}Ve=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Mt.payload,Ce=typeof Ft=="function"?Ft.call(Zr,Ve,Ce):Ft,Ce==null)break e;Ve=c({},Ve,Ce);break e;case 2:Rf=!0}}Ce=Z.callback,Ce!==null&&(d.flags|=64,Ie&&(d.flags|=8192),Ie=I.callbacks,Ie===null?I.callbacks=[Ce]:Ie.push(Ce))}else Ie={lane:Ce,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ne===null?(be=Ne=Ie,fe=Ve):Ne=Ne.next=Ie,H|=Ce;if(Z=Z.next,Z===null){if(Z=I.shared.pending,Z===null)break;Ie=Z,Z=Ie.next,Ie.next=null,I.lastBaseUpdate=Ie,I.shared.pending=null}}while(!0);Ne===null&&(fe=Ve),I.baseState=fe,I.firstBaseUpdate=be,I.lastBaseUpdate=Ne,P===null&&(I.shared.lanes=0),zf|=H,d.lanes=H,d.memoizedState=Ve}}function sz(d,g){if(typeof d!="function")throw Error(n(191,d));d.call(g)}function oz(d,g){var _=d.callbacks;if(_!==null)for(d.callbacks=null,d=0;d<_.length;d++)sz(_[d],g)}var Bg=Q(null),xS=Q(0);function lz(d,g){d=Rc,J(xS,d),J(Bg,g),Rc=d|g.baseLanes}function eR(){J(xS,Rc),J(Bg,Bg.current)}function tR(){Rc=xS.current,j(Bg),j(xS)}var Pf=0,nr=null,Xr=null,si=null,wS=!1,Vg=!1,Xd=!1,bS=0,d1=0,zg=null,upe=0;function Hn(){throw Error(n(321))}function rR(d,g){if(g===null)return!1;for(var _=0;_<g.length&&_<d.length;_++)if(!$s(d[_],g[_]))return!1;return!0}function nR(d,g,_,S,I,P){return Pf=P,nr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,z.H=d===null||d.memoizedState===null?Wz:$z,Xd=!1,P=_(S,I),Xd=!1,Vg&&(P=cz(g,_,S,I)),uz(d),P}function uz(d){z.H=DS;var g=Xr!==null&&Xr.next!==null;if(Pf=0,si=Xr=nr=null,wS=!1,d1=0,zg=null,g)throw Error(n(300));d===null||Vi||(d=d.dependencies,d!==null&&vS(d)&&(Vi=!0))}function cz(d,g,_,S){nr=d;var I=0;do{if(Vg&&(zg=null),d1=0,Vg=!1,25<=I)throw Error(n(301));if(I+=1,si=Xr=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}z.H=gpe,P=g(_,S)}while(Vg);return P}function cpe(){var d=z.H,g=d.useState()[0];return g=typeof g.then=="function"?p1(g):g,d=d.useState()[0],(Xr!==null?Xr.memoizedState:null)!==d&&(nr.flags|=1024),g}function iR(){var d=bS!==0;return bS=0,d}function aR(d,g,_){g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~_}function sR(d){if(wS){for(d=d.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}wS=!1}Pf=0,si=Xr=nr=null,Vg=!1,d1=bS=0,zg=null}function Ss(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?nr.memoizedState=si=d:si=si.next=d,si}function oi(){if(Xr===null){var d=nr.alternate;d=d!==null?d.memoizedState:null}else d=Xr.next;var g=si===null?nr.memoizedState:si.next;if(g!==null)si=g,Xr=d;else{if(d===null)throw nr.alternate===null?Error(n(467)):Error(n(310));Xr=d,d={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},si===null?nr.memoizedState=si=d:si=si.next=d}return si}function oR(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function p1(d){var g=d1;return d1+=1,zg===null&&(zg=[]),d=nz(zg,d,g),g=nr,(si===null?g.memoizedState:si.next)===null&&(g=g.alternate,z.H=g===null||g.memoizedState===null?Wz:$z),d}function SS(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return p1(d);if(d.$$typeof===b)return xa(d)}throw Error(n(438,String(d)))}function lR(d){var g=null,_=nr.updateQueue;if(_!==null&&(g=_.memoCache),g==null){var S=nr.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(g={data:S.data.map(function(I){return I.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),_===null&&(_=oR(),nr.updateQueue=_),_.memoCache=g,_=g.data[g.index],_===void 0)for(_=g.data[g.index]=Array(d),S=0;S<d;S++)_[S]=k;return g.index++,_}function Tc(d,g){return typeof g=="function"?g(d):g}function TS(d){var g=oi();return uR(g,Xr,d)}function uR(d,g,_){var S=d.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=_;var I=d.baseQueue,P=S.pending;if(P!==null){if(I!==null){var H=I.next;I.next=P.next,P.next=H}g.baseQueue=I=P,S.pending=null}if(P=d.baseState,I===null)d.memoizedState=P;else{g=I.next;var Z=H=null,fe=null,be=g,Ne=!1;do{var Ve=be.lane&-536870913;if(Ve!==be.lane?(Tr&Ve)===Ve:(Pf&Ve)===Ve){var Ce=be.revertLane;if(Ce===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Ve===Ng&&(Ne=!0);else if((Pf&Ce)===Ce){be=be.next,Ce===Ng&&(Ne=!0);continue}else Ve={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},fe===null?(Z=fe=Ve,H=P):fe=fe.next=Ve,nr.lanes|=Ce,zf|=Ce;Ve=be.action,Xd&&_(P,Ve),P=be.hasEagerState?be.eagerState:_(P,Ve)}else Ce={lane:Ve,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},fe===null?(Z=fe=Ce,H=P):fe=fe.next=Ce,nr.lanes|=Ve,zf|=Ve;be=be.next}while(be!==null&&be!==g);if(fe===null?H=P:fe.next=Z,!$s(P,d.memoizedState)&&(Vi=!0,Ne&&(_=Fg,_!==null)))throw _;d.memoizedState=P,d.baseState=H,d.baseQueue=fe,S.lastRenderedState=P}return I===null&&(S.lanes=0),[d.memoizedState,S.dispatch]}function cR(d){var g=oi(),_=g.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=d;var S=_.dispatch,I=_.pending,P=g.memoizedState;if(I!==null){_.pending=null;var H=I=I.next;do P=d(P,H.action),H=H.next;while(H!==I);$s(P,g.memoizedState)||(Vi=!0),g.memoizedState=P,g.baseQueue===null&&(g.baseState=P),_.lastRenderedState=P}return[P,S]}function fz(d,g,_){var S=nr,I=oi(),P=Nr;if(P){if(_===void 0)throw Error(n(407));_=_()}else _=g();var H=!$s((Xr||I).memoizedState,_);H&&(I.memoizedState=_,Vi=!0),I=I.queue;var Z=pz.bind(null,S,I,d);if(v1(2048,8,Z,[d]),I.getSnapshot!==g||H||si!==null&&si.memoizedState.tag&1){if(S.flags|=2048,Ug(9,AS(),dz.bind(null,S,I,_,g),null),nn===null)throw Error(n(349));P||(Pf&124)!==0||hz(S,g,_)}return _}function hz(d,g,_){d.flags|=16384,d={getSnapshot:g,value:_},g=nr.updateQueue,g===null?(g=oR(),nr.updateQueue=g,g.stores=[d]):(_=g.stores,_===null?g.stores=[d]:_.push(d))}function dz(d,g,_,S){g.value=_,g.getSnapshot=S,vz(g)&&gz(d)}function pz(d,g,_){return _(function(){vz(g)&&gz(d)})}function vz(d){var g=d.getSnapshot;d=d.value;try{var _=g();return!$s(d,_)}catch{return!0}}function gz(d){var g=kg(d,2);g!==null&&Qs(g,d,2)}function fR(d){var g=Ss();if(typeof d=="function"){var _=d;if(d=_(),Xd){Ze(!0);try{_()}finally{Ze(!1)}}}return g.memoizedState=g.baseState=d,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:d},g}function mz(d,g,_,S){return d.baseState=_,uR(d,Xr,typeof S=="function"?S:Tc)}function fpe(d,g,_,S,I){if(CS(d))throw Error(n(485));if(d=g.action,d!==null){var P={payload:I,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){P.listeners.push(H)}};z.T!==null?_(!0):P.isTransition=!1,S(P),_=g.pending,_===null?(P.next=g.pending=P,yz(g,P)):(P.next=_.next,g.pending=_.next=P)}}function yz(d,g){var _=g.action,S=g.payload,I=d.state;if(g.isTransition){var P=z.T,H={};z.T=H;try{var Z=_(I,S),fe=z.S;fe!==null&&fe(H,Z),_z(d,g,Z)}catch(be){hR(d,g,be)}finally{z.T=P}}else try{P=_(I,S),_z(d,g,P)}catch(be){hR(d,g,be)}}function _z(d,g,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(S){xz(d,g,S)},function(S){return hR(d,g,S)}):xz(d,g,_)}function xz(d,g,_){g.status="fulfilled",g.value=_,wz(g),d.state=_,g=d.pending,g!==null&&(_=g.next,_===g?d.pending=null:(_=_.next,g.next=_,yz(d,_)))}function hR(d,g,_){var S=d.pending;if(d.pending=null,S!==null){S=S.next;do g.status="rejected",g.reason=_,wz(g),g=g.next;while(g!==S)}d.action=null}function wz(d){d=d.listeners;for(var g=0;g<d.length;g++)(0,d[g])()}function bz(d,g){return g}function Sz(d,g){if(Nr){var _=nn.formState;if(_!==null){e:{var S=nr;if(Nr){if(Dn){t:{for(var I=Dn,P=fu;I.nodeType!==8;){if(!P){I=null;break t}if(I=yl(I.nextSibling),I===null){I=null;break t}}P=I.data,I=P==="F!"||P==="F"?I:null}if(I){Dn=yl(I.nextSibling),S=I.data==="F!";break e}}Wd(S)}S=!1}S&&(g=_[0])}}return _=Ss(),_.memoizedState=_.baseState=g,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bz,lastRenderedState:g},_.queue=S,_=Hz.bind(null,nr,S),S.dispatch=_,S=fR(!1),P=mR.bind(null,nr,!1,S.queue),S=Ss(),I={state:g,dispatch:null,action:d,pending:null},S.queue=I,_=fpe.bind(null,nr,I,P,_),I.dispatch=_,S.memoizedState=d,[g,_,!1]}function Tz(d){var g=oi();return Az(g,Xr,d)}function Az(d,g,_){if(g=uR(d,g,bz)[0],d=TS(Tc)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var S=p1(g)}catch(H){throw H===l1?yS:H}else S=g;g=oi();var I=g.queue,P=I.dispatch;return _!==g.memoizedState&&(nr.flags|=2048,Ug(9,AS(),hpe.bind(null,I,_),null)),[S,P,d]}function hpe(d,g){d.action=g}function Ez(d){var g=oi(),_=Xr;if(_!==null)return Az(g,_,d);oi(),g=g.memoizedState,_=oi();var S=_.queue.dispatch;return _.memoizedState=d,[g,S,!1]}function Ug(d,g,_,S){return d={tag:d,create:_,deps:S,inst:g,next:null},g=nr.updateQueue,g===null&&(g=oR(),nr.updateQueue=g),_=g.lastEffect,_===null?g.lastEffect=d.next=d:(S=_.next,_.next=d,d.next=S,g.lastEffect=d),d}function AS(){return{destroy:void 0,resource:void 0}}function Cz(){return oi().memoizedState}function ES(d,g,_,S){var I=Ss();S=S===void 0?null:S,nr.flags|=d,I.memoizedState=Ug(1|g,AS(),_,S)}function v1(d,g,_,S){var I=oi();S=S===void 0?null:S;var P=I.memoizedState.inst;Xr!==null&&S!==null&&rR(S,Xr.memoizedState.deps)?I.memoizedState=Ug(g,P,_,S):(nr.flags|=d,I.memoizedState=Ug(1|g,P,_,S))}function Dz(d,g){ES(8390656,8,d,g)}function Iz(d,g){v1(2048,8,d,g)}function Rz(d,g){return v1(4,2,d,g)}function Mz(d,g){return v1(4,4,d,g)}function kz(d,g){if(typeof g=="function"){d=d();var _=g(d);return function(){typeof _=="function"?_():g(null)}}if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function Pz(d,g,_){_=_!=null?_.concat([d]):null,v1(4,4,kz.bind(null,g,d),_)}function dR(){}function Lz(d,g){var _=oi();g=g===void 0?null:g;var S=_.memoizedState;return g!==null&&rR(g,S[1])?S[0]:(_.memoizedState=[d,g],d)}function Oz(d,g){var _=oi();g=g===void 0?null:g;var S=_.memoizedState;if(g!==null&&rR(g,S[1]))return S[0];if(S=d(),Xd){Ze(!0);try{d()}finally{Ze(!1)}}return _.memoizedState=[S,g],S}function pR(d,g,_){return _===void 0||(Pf&1073741824)!==0?d.memoizedState=g:(d.memoizedState=_,d=B8(),nr.lanes|=d,zf|=d,_)}function Nz(d,g,_,S){return $s(_,g)?_:Bg.current!==null?(d=pR(d,_,S),$s(d,g)||(Vi=!0),d):(Pf&42)===0?(Vi=!0,d.memoizedState=_):(d=B8(),nr.lanes|=d,zf|=d,g)}function Fz(d,g,_,S,I){var P=Y.p;Y.p=P!==0&&8>P?P:8;var H=z.T,Z={};z.T=Z,mR(d,!1,g,_);try{var fe=I(),be=z.S;if(be!==null&&be(Z,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ne=lpe(fe,S);g1(d,g,Ne,Zs(d))}else g1(d,g,S,Zs(d))}catch(Ve){g1(d,g,{then:function(){},status:"rejected",reason:Ve},Zs())}finally{Y.p=P,z.T=H}}function dpe(){}function vR(d,g,_,S){if(d.tag!==5)throw Error(n(476));var I=Bz(d).queue;Fz(d,I,g,re,_===null?dpe:function(){return Vz(d),_(S)})}function Bz(d){var g=d.memoizedState;if(g!==null)return g;g={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:re},next:null};var _={};return g.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:_},next:null},d.memoizedState=g,d=d.alternate,d!==null&&(d.memoizedState=g),g}function Vz(d){var g=Bz(d).next.queue;g1(d,g,{},Zs())}function gR(){return xa(L1)}function zz(){return oi().memoizedState}function Uz(){return oi().memoizedState}function ppe(d){for(var g=d.return;g!==null;){switch(g.tag){case 24:case 3:var _=Zs();d=Mf(_);var S=kf(g,d,_);S!==null&&(Qs(S,g,_),c1(S,g,_)),g={cache:$I()},d.payload=g;return}g=g.return}}function vpe(d,g,_){var S=Zs();_={lane:S,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},CS(d)?Gz(g,_):(_=NI(d,g,_,S),_!==null&&(Qs(_,d,S),jz(_,g,S)))}function Hz(d,g,_){var S=Zs();g1(d,g,_,S)}function g1(d,g,_,S){var I={lane:S,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(CS(d))Gz(g,I);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=g.lastRenderedReducer,P!==null))try{var H=g.lastRenderedState,Z=P(H,_);if(I.hasEagerState=!0,I.eagerState=Z,$s(Z,H))return cS(d,g,I,0),nn===null&&uS(),!1}catch{}finally{}if(_=NI(d,g,I,S),_!==null)return Qs(_,d,S),jz(_,g,S),!0}return!1}function mR(d,g,_,S){if(S={lane:2,revertLane:XR(),action:S,hasEagerState:!1,eagerState:null,next:null},CS(d)){if(g)throw Error(n(479))}else g=NI(d,_,S,2),g!==null&&Qs(g,d,2)}function CS(d){var g=d.alternate;return d===nr||g!==null&&g===nr}function Gz(d,g){Vg=wS=!0;var _=d.pending;_===null?g.next=g:(g.next=_.next,_.next=g),d.pending=g}function jz(d,g,_){if((_&4194048)!==0){var S=g.lanes;S&=d.pendingLanes,_|=S,g.lanes=_,Ed(d,_)}}var DS={readContext:xa,use:SS,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn},Wz={readContext:xa,use:SS,useCallback:function(d,g){return Ss().memoizedState=[d,g===void 0?null:g],d},useContext:xa,useEffect:Dz,useImperativeHandle:function(d,g,_){_=_!=null?_.concat([d]):null,ES(4194308,4,kz.bind(null,g,d),_)},useLayoutEffect:function(d,g){return ES(4194308,4,d,g)},useInsertionEffect:function(d,g){ES(4,2,d,g)},useMemo:function(d,g){var _=Ss();g=g===void 0?null:g;var S=d();if(Xd){Ze(!0);try{d()}finally{Ze(!1)}}return _.memoizedState=[S,g],S},useReducer:function(d,g,_){var S=Ss();if(_!==void 0){var I=_(g);if(Xd){Ze(!0);try{_(g)}finally{Ze(!1)}}}else I=g;return S.memoizedState=S.baseState=I,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:I},S.queue=d,d=d.dispatch=vpe.bind(null,nr,d),[S.memoizedState,d]},useRef:function(d){var g=Ss();return d={current:d},g.memoizedState=d},useState:function(d){d=fR(d);var g=d.queue,_=Hz.bind(null,nr,g);return g.dispatch=_,[d.memoizedState,_]},useDebugValue:dR,useDeferredValue:function(d,g){var _=Ss();return pR(_,d,g)},useTransition:function(){var d=fR(!1);return d=Fz.bind(null,nr,d.queue,!0,!1),Ss().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,g,_){var S=nr,I=Ss();if(Nr){if(_===void 0)throw Error(n(407));_=_()}else{if(_=g(),nn===null)throw Error(n(349));(Tr&124)!==0||hz(S,g,_)}I.memoizedState=_;var P={value:_,getSnapshot:g};return I.queue=P,Dz(pz.bind(null,S,P,d),[d]),S.flags|=2048,Ug(9,AS(),dz.bind(null,S,P,_,g),null),_},useId:function(){var d=Ss(),g=nn.identifierPrefix;if(Nr){var _=wc,S=xc;_=(S&~(1<<32-dt(S)-1)).toString(32)+_,g="«"+g+"R"+_,_=bS++,0<_&&(g+="H"+_.toString(32)),g+="»"}else _=upe++,g="«"+g+"r"+_.toString(32)+"»";return d.memoizedState=g},useHostTransitionStatus:gR,useFormState:Sz,useActionState:Sz,useOptimistic:function(d){var g=Ss();g.memoizedState=g.baseState=d;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=_,g=mR.bind(null,nr,!0,_),_.dispatch=g,[d,g]},useMemoCache:lR,useCacheRefresh:function(){return Ss().memoizedState=ppe.bind(null,nr)}},$z={readContext:xa,use:SS,useCallback:Lz,useContext:xa,useEffect:Iz,useImperativeHandle:Pz,useInsertionEffect:Rz,useLayoutEffect:Mz,useMemo:Oz,useReducer:TS,useRef:Cz,useState:function(){return TS(Tc)},useDebugValue:dR,useDeferredValue:function(d,g){var _=oi();return Nz(_,Xr.memoizedState,d,g)},useTransition:function(){var d=TS(Tc)[0],g=oi().memoizedState;return[typeof d=="boolean"?d:p1(d),g]},useSyncExternalStore:fz,useId:zz,useHostTransitionStatus:gR,useFormState:Tz,useActionState:Tz,useOptimistic:function(d,g){var _=oi();return mz(_,Xr,d,g)},useMemoCache:lR,useCacheRefresh:Uz},gpe={readContext:xa,use:SS,useCallback:Lz,useContext:xa,useEffect:Iz,useImperativeHandle:Pz,useInsertionEffect:Rz,useLayoutEffect:Mz,useMemo:Oz,useReducer:cR,useRef:Cz,useState:function(){return cR(Tc)},useDebugValue:dR,useDeferredValue:function(d,g){var _=oi();return Xr===null?pR(_,d,g):Nz(_,Xr.memoizedState,d,g)},useTransition:function(){var d=cR(Tc)[0],g=oi().memoizedState;return[typeof d=="boolean"?d:p1(d),g]},useSyncExternalStore:fz,useId:zz,useHostTransitionStatus:gR,useFormState:Ez,useActionState:Ez,useOptimistic:function(d,g){var _=oi();return Xr!==null?mz(_,Xr,d,g):(_.baseState=d,[d,_.queue.dispatch])},useMemoCache:lR,useCacheRefresh:Uz},Hg=null,m1=0;function IS(d){var g=m1;return m1+=1,Hg===null&&(Hg=[]),nz(Hg,d,g)}function y1(d,g){g=g.props.ref,d.ref=g!==void 0?g:null}function RS(d,g){throw g.$$typeof===f?Error(n(525)):(d=Object.prototype.toString.call(g),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d)))}function qz(d){var g=d._init;return g(d._payload)}function Yz(d){function g(pe,he){if(d){var xe=pe.deletions;xe===null?(pe.deletions=[he],pe.flags|=16):xe.push(he)}}function _(pe,he){if(!d)return null;for(;he!==null;)g(pe,he),he=he.sibling;return null}function S(pe){for(var he=new Map;pe!==null;)pe.key!==null?he.set(pe.key,pe):he.set(pe.index,pe),pe=pe.sibling;return he}function I(pe,he){return pe=_c(pe,he),pe.index=0,pe.sibling=null,pe}function P(pe,he,xe){return pe.index=xe,d?(xe=pe.alternate,xe!==null?(xe=xe.index,xe<he?(pe.flags|=67108866,he):xe):(pe.flags|=67108866,he)):(pe.flags|=1048576,he)}function H(pe){return d&&pe.alternate===null&&(pe.flags|=67108866),pe}function Z(pe,he,xe,Fe){return he===null||he.tag!==6?(he=BI(xe,pe.mode,Fe),he.return=pe,he):(he=I(he,xe),he.return=pe,he)}function fe(pe,he,xe,Fe){var vt=xe.type;return vt===v?Ne(pe,he,xe.props.children,Fe,xe.key):he!==null&&(he.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&qz(vt)===he.type)?(he=I(he,xe.props),y1(he,xe),he.return=pe,he):(he=hS(xe.type,xe.key,xe.props,null,pe.mode,Fe),y1(he,xe),he.return=pe,he)}function be(pe,he,xe,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==xe.containerInfo||he.stateNode.implementation!==xe.implementation?(he=VI(xe,pe.mode,Fe),he.return=pe,he):(he=I(he,xe.children||[]),he.return=pe,he)}function Ne(pe,he,xe,Fe,vt){return he===null||he.tag!==7?(he=Ud(xe,pe.mode,Fe,vt),he.return=pe,he):(he=I(he,xe),he.return=pe,he)}function Ve(pe,he,xe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=BI(""+he,pe.mode,xe),he.return=pe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case h:return xe=hS(he.type,he.key,he.props,null,pe.mode,xe),y1(xe,he),xe.return=pe,xe;case p:return he=VI(he,pe.mode,xe),he.return=pe,he;case R:var Fe=he._init;return he=Fe(he._payload),Ve(pe,he,xe)}if(U(he)||O(he))return he=Ud(he,pe.mode,xe,null),he.return=pe,he;if(typeof he.then=="function")return Ve(pe,IS(he),xe);if(he.$$typeof===b)return Ve(pe,gS(pe,he),xe);RS(pe,he)}return null}function Ce(pe,he,xe,Fe){var vt=he!==null?he.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return vt!==null?null:Z(pe,he,""+xe,Fe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case h:return xe.key===vt?fe(pe,he,xe,Fe):null;case p:return xe.key===vt?be(pe,he,xe,Fe):null;case R:return vt=xe._init,xe=vt(xe._payload),Ce(pe,he,xe,Fe)}if(U(xe)||O(xe))return vt!==null?null:Ne(pe,he,xe,Fe,null);if(typeof xe.then=="function")return Ce(pe,he,IS(xe),Fe);if(xe.$$typeof===b)return Ce(pe,he,gS(pe,xe),Fe);RS(pe,xe)}return null}function Ie(pe,he,xe,Fe,vt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return pe=pe.get(xe)||null,Z(he,pe,""+Fe,vt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case h:return pe=pe.get(Fe.key===null?xe:Fe.key)||null,fe(he,pe,Fe,vt);case p:return pe=pe.get(Fe.key===null?xe:Fe.key)||null,be(he,pe,Fe,vt);case R:var ir=Fe._init;return Fe=ir(Fe._payload),Ie(pe,he,xe,Fe,vt)}if(U(Fe)||O(Fe))return pe=pe.get(xe)||null,Ne(he,pe,Fe,vt,null);if(typeof Fe.then=="function")return Ie(pe,he,xe,IS(Fe),vt);if(Fe.$$typeof===b)return Ie(pe,he,xe,gS(he,Fe),vt);RS(he,Fe)}return null}function Ft(pe,he,xe,Fe){for(var vt=null,ir=null,wt=he,kt=he=0,Ui=null;wt!==null&&kt<xe.length;kt++){wt.index>kt?(Ui=wt,wt=null):Ui=wt.sibling;var Mr=Ce(pe,wt,xe[kt],Fe);if(Mr===null){wt===null&&(wt=Ui);break}d&&wt&&Mr.alternate===null&&g(pe,wt),he=P(Mr,he,kt),ir===null?vt=Mr:ir.sibling=Mr,ir=Mr,wt=Ui}if(kt===xe.length)return _(pe,wt),Nr&&Gd(pe,kt),vt;if(wt===null){for(;kt<xe.length;kt++)wt=Ve(pe,xe[kt],Fe),wt!==null&&(he=P(wt,he,kt),ir===null?vt=wt:ir.sibling=wt,ir=wt);return Nr&&Gd(pe,kt),vt}for(wt=S(wt);kt<xe.length;kt++)Ui=Ie(wt,pe,kt,xe[kt],Fe),Ui!==null&&(d&&Ui.alternate!==null&&wt.delete(Ui.key===null?kt:Ui.key),he=P(Ui,he,kt),ir===null?vt=Ui:ir.sibling=Ui,ir=Ui);return d&&wt.forEach(function(Xf){return g(pe,Xf)}),Nr&&Gd(pe,kt),vt}function Mt(pe,he,xe,Fe){if(xe==null)throw Error(n(151));for(var vt=null,ir=null,wt=he,kt=he=0,Ui=null,Mr=xe.next();wt!==null&&!Mr.done;kt++,Mr=xe.next()){wt.index>kt?(Ui=wt,wt=null):Ui=wt.sibling;var Xf=Ce(pe,wt,Mr.value,Fe);if(Xf===null){wt===null&&(wt=Ui);break}d&&wt&&Xf.alternate===null&&g(pe,wt),he=P(Xf,he,kt),ir===null?vt=Xf:ir.sibling=Xf,ir=Xf,wt=Ui}if(Mr.done)return _(pe,wt),Nr&&Gd(pe,kt),vt;if(wt===null){for(;!Mr.done;kt++,Mr=xe.next())Mr=Ve(pe,Mr.value,Fe),Mr!==null&&(he=P(Mr,he,kt),ir===null?vt=Mr:ir.sibling=Mr,ir=Mr);return Nr&&Gd(pe,kt),vt}for(wt=S(wt);!Mr.done;kt++,Mr=xe.next())Mr=Ie(wt,pe,kt,Mr.value,Fe),Mr!==null&&(d&&Mr.alternate!==null&&wt.delete(Mr.key===null?kt:Mr.key),he=P(Mr,he,kt),ir===null?vt=Mr:ir.sibling=Mr,ir=Mr);return d&&wt.forEach(function(mve){return g(pe,mve)}),Nr&&Gd(pe,kt),vt}function Zr(pe,he,xe,Fe){if(typeof xe=="object"&&xe!==null&&xe.type===v&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case h:e:{for(var vt=xe.key;he!==null;){if(he.key===vt){if(vt=xe.type,vt===v){if(he.tag===7){_(pe,he.sibling),Fe=I(he,xe.props.children),Fe.return=pe,pe=Fe;break e}}else if(he.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&qz(vt)===he.type){_(pe,he.sibling),Fe=I(he,xe.props),y1(Fe,xe),Fe.return=pe,pe=Fe;break e}_(pe,he);break}else g(pe,he);he=he.sibling}xe.type===v?(Fe=Ud(xe.props.children,pe.mode,Fe,xe.key),Fe.return=pe,pe=Fe):(Fe=hS(xe.type,xe.key,xe.props,null,pe.mode,Fe),y1(Fe,xe),Fe.return=pe,pe=Fe)}return H(pe);case p:e:{for(vt=xe.key;he!==null;){if(he.key===vt)if(he.tag===4&&he.stateNode.containerInfo===xe.containerInfo&&he.stateNode.implementation===xe.implementation){_(pe,he.sibling),Fe=I(he,xe.children||[]),Fe.return=pe,pe=Fe;break e}else{_(pe,he);break}else g(pe,he);he=he.sibling}Fe=VI(xe,pe.mode,Fe),Fe.return=pe,pe=Fe}return H(pe);case R:return vt=xe._init,xe=vt(xe._payload),Zr(pe,he,xe,Fe)}if(U(xe))return Ft(pe,he,xe,Fe);if(O(xe)){if(vt=O(xe),typeof vt!="function")throw Error(n(150));return xe=vt.call(xe),Mt(pe,he,xe,Fe)}if(typeof xe.then=="function")return Zr(pe,he,IS(xe),Fe);if(xe.$$typeof===b)return Zr(pe,he,gS(pe,xe),Fe);RS(pe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,he!==null&&he.tag===6?(_(pe,he.sibling),Fe=I(he,xe),Fe.return=pe,pe=Fe):(_(pe,he),Fe=BI(xe,pe.mode,Fe),Fe.return=pe,pe=Fe),H(pe)):_(pe,he)}return function(pe,he,xe,Fe){try{m1=0;var vt=Zr(pe,he,xe,Fe);return Hg=null,vt}catch(wt){if(wt===l1||wt===yS)throw wt;var ir=qs(29,wt,null,pe.mode);return ir.lanes=Fe,ir.return=pe,ir}finally{}}}var Gg=Yz(!0),Xz=Yz(!1),Io=Q(null),hu=null;function Lf(d){var g=d.alternate;J(Ti,Ti.current&1),J(Io,d),hu===null&&(g===null||Bg.current!==null||g.memoizedState!==null)&&(hu=d)}function Kz(d){if(d.tag===22){if(J(Ti,Ti.current),J(Io,d),hu===null){var g=d.alternate;g!==null&&g.memoizedState!==null&&(hu=d)}}else Of()}function Of(){J(Ti,Ti.current),J(Io,Io.current)}function Ac(d){j(Io),hu===d&&(hu=null),j(Ti)}var Ti=Q(0);function MS(d){for(var g=d;g!==null;){if(g.tag===13){var _=g.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||oM(_)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function yR(d,g,_,S){g=d.memoizedState,_=_(S,g),_=_==null?g:c({},g,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var _R={enqueueSetState:function(d,g,_){d=d._reactInternals;var S=Zs(),I=Mf(S);I.payload=g,_!=null&&(I.callback=_),g=kf(d,I,S),g!==null&&(Qs(g,d,S),c1(g,d,S))},enqueueReplaceState:function(d,g,_){d=d._reactInternals;var S=Zs(),I=Mf(S);I.tag=1,I.payload=g,_!=null&&(I.callback=_),g=kf(d,I,S),g!==null&&(Qs(g,d,S),c1(g,d,S))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var _=Zs(),S=Mf(_);S.tag=2,g!=null&&(S.callback=g),g=kf(d,S,_),g!==null&&(Qs(g,d,_),c1(g,d,_))}};function Zz(d,g,_,S,I,P,H){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,P,H):g.prototype&&g.prototype.isPureReactComponent?!e1(_,S)||!e1(I,P):!0}function Qz(d,g,_,S){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(_,S),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(_,S),g.state!==d&&_R.enqueueReplaceState(g,g.state,null)}function Kd(d,g){var _=g;if("ref"in g){_={};for(var S in g)S!=="ref"&&(_[S]=g[S])}if(d=d.defaultProps){_===g&&(_=c({},_));for(var I in d)_[I]===void 0&&(_[I]=d[I])}return _}var kS=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function Jz(d){kS(d)}function e8(d){console.error(d)}function t8(d){kS(d)}function PS(d,g){try{var _=d.onUncaughtError;_(g.value,{componentStack:g.stack})}catch(S){setTimeout(function(){throw S})}}function r8(d,g,_){try{var S=d.onCaughtError;S(_.value,{componentStack:_.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function xR(d,g,_){return _=Mf(_),_.tag=3,_.payload={element:null},_.callback=function(){PS(d,g)},_}function n8(d){return d=Mf(d),d.tag=3,d}function i8(d,g,_,S){var I=_.type.getDerivedStateFromError;if(typeof I=="function"){var P=S.value;d.payload=function(){return I(P)},d.callback=function(){r8(g,_,S)}}var H=_.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(d.callback=function(){r8(g,_,S),typeof I!="function"&&(Uf===null?Uf=new Set([this]):Uf.add(this));var Z=S.stack;this.componentDidCatch(S.value,{componentStack:Z!==null?Z:""})})}function mpe(d,g,_,S,I){if(_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(g=_.alternate,g!==null&&a1(g,_,I,!0),_=Io.current,_!==null){switch(_.tag){case 13:return hu===null?jR():_.alternate===null&&In===0&&(In=3),_.flags&=-257,_.flags|=65536,_.lanes=I,S===XI?_.flags|=16384:(g=_.updateQueue,g===null?_.updateQueue=new Set([S]):g.add(S),$R(d,S,I)),!1;case 22:return _.flags|=65536,S===XI?_.flags|=16384:(g=_.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([S])},_.updateQueue=g):(_=g.retryQueue,_===null?g.retryQueue=new Set([S]):_.add(S)),$R(d,S,I)),!1}throw Error(n(435,_.tag))}return $R(d,S,I),jR(),!1}if(Nr)return g=Io.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=I,S!==HI&&(d=Error(n(422),{cause:S}),i1(Ao(d,_)))):(S!==HI&&(g=Error(n(423),{cause:S}),i1(Ao(g,_))),d=d.current.alternate,d.flags|=65536,I&=-I,d.lanes|=I,S=Ao(S,_),I=xR(d.stateNode,S,I),QI(d,I),In!==4&&(In=2)),!1;var P=Error(n(520),{cause:S});if(P=Ao(P,_),A1===null?A1=[P]:A1.push(P),In!==4&&(In=2),g===null)return!0;S=Ao(S,_),_=g;do{switch(_.tag){case 3:return _.flags|=65536,d=I&-I,_.lanes|=d,d=xR(_.stateNode,S,d),QI(_,d),!1;case 1:if(g=_.type,P=_.stateNode,(_.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Uf===null||!Uf.has(P))))return _.flags|=65536,I&=-I,_.lanes|=I,I=n8(I),i8(I,d,_,S),QI(_,I),!1}_=_.return}while(_!==null);return!1}var a8=Error(n(461)),Vi=!1;function Ji(d,g,_,S){g.child=d===null?Xz(g,null,_,S):Gg(g,d.child,_,S)}function s8(d,g,_,S,I){_=_.render;var P=g.ref;if("ref"in S){var H={};for(var Z in S)Z!=="ref"&&(H[Z]=S[Z])}else H=S;return qd(g),S=nR(d,g,_,H,P,I),Z=iR(),d!==null&&!Vi?(aR(d,g,I),Ec(d,g,I)):(Nr&&Z&&zI(g),g.flags|=1,Ji(d,g,S,I),g.child)}function o8(d,g,_,S,I){if(d===null){var P=_.type;return typeof P=="function"&&!FI(P)&&P.defaultProps===void 0&&_.compare===null?(g.tag=15,g.type=P,l8(d,g,P,S,I)):(d=hS(_.type,null,S,g,g.mode,I),d.ref=g.ref,d.return=g,g.child=d)}if(P=d.child,!DR(d,I)){var H=P.memoizedProps;if(_=_.compare,_=_!==null?_:e1,_(H,S)&&d.ref===g.ref)return Ec(d,g,I)}return g.flags|=1,d=_c(P,S),d.ref=g.ref,d.return=g,g.child=d}function l8(d,g,_,S,I){if(d!==null){var P=d.memoizedProps;if(e1(P,S)&&d.ref===g.ref)if(Vi=!1,g.pendingProps=S=P,DR(d,I))(d.flags&131072)!==0&&(Vi=!0);else return g.lanes=d.lanes,Ec(d,g,I)}return wR(d,g,_,S,I)}function u8(d,g,_){var S=g.pendingProps,I=S.children,P=d!==null?d.memoizedState:null;if(S.mode==="hidden"){if((g.flags&128)!==0){if(S=P!==null?P.baseLanes|_:_,d!==null){for(I=g.child=d.child,P=0;I!==null;)P=P|I.lanes|I.childLanes,I=I.sibling;g.childLanes=P&~S}else g.childLanes=0,g.child=null;return c8(d,g,S,_)}if((_&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},d!==null&&mS(g,P!==null?P.cachePool:null),P!==null?lz(g,P):eR(),Kz(g);else return g.lanes=g.childLanes=536870912,c8(d,g,P!==null?P.baseLanes|_:_,_)}else P!==null?(mS(g,P.cachePool),lz(g,P),Of(),g.memoizedState=null):(d!==null&&mS(g,null),eR(),Of());return Ji(d,g,I,_),g.child}function c8(d,g,_,S){var I=YI();return I=I===null?null:{parent:Si._currentValue,pool:I},g.memoizedState={baseLanes:_,cachePool:I},d!==null&&mS(g,null),eR(),Kz(g),d!==null&&a1(d,g,S,!0),null}function LS(d,g){var _=g.ref;if(_===null)d!==null&&d.ref!==null&&(g.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(n(284));(d===null||d.ref!==_)&&(g.flags|=4194816)}}function wR(d,g,_,S,I){return qd(g),_=nR(d,g,_,S,void 0,I),S=iR(),d!==null&&!Vi?(aR(d,g,I),Ec(d,g,I)):(Nr&&S&&zI(g),g.flags|=1,Ji(d,g,_,I),g.child)}function f8(d,g,_,S,I,P){return qd(g),g.updateQueue=null,_=cz(g,S,_,I),uz(d),S=iR(),d!==null&&!Vi?(aR(d,g,P),Ec(d,g,P)):(Nr&&S&&zI(g),g.flags|=1,Ji(d,g,_,P),g.child)}function h8(d,g,_,S,I){if(qd(g),g.stateNode===null){var P=Pg,H=_.contextType;typeof H=="object"&&H!==null&&(P=xa(H)),P=new _(S,P),g.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=_R,g.stateNode=P,P._reactInternals=g,P=g.stateNode,P.props=S,P.state=g.memoizedState,P.refs={},KI(g),H=_.contextType,P.context=typeof H=="object"&&H!==null?xa(H):Pg,P.state=g.memoizedState,H=_.getDerivedStateFromProps,typeof H=="function"&&(yR(g,_,H,S),P.state=g.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(H=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),H!==P.state&&_R.enqueueReplaceState(P,P.state,null),h1(g,S,P,I),f1(),P.state=g.memoizedState),typeof P.componentDidMount=="function"&&(g.flags|=4194308),S=!0}else if(d===null){P=g.stateNode;var Z=g.memoizedProps,fe=Kd(_,Z);P.props=fe;var be=P.context,Ne=_.contextType;H=Pg,typeof Ne=="object"&&Ne!==null&&(H=xa(Ne));var Ve=_.getDerivedStateFromProps;Ne=typeof Ve=="function"||typeof P.getSnapshotBeforeUpdate=="function",Z=g.pendingProps!==Z,Ne||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Z||be!==H)&&Qz(g,P,S,H),Rf=!1;var Ce=g.memoizedState;P.state=Ce,h1(g,S,P,I),f1(),be=g.memoizedState,Z||Ce!==be||Rf?(typeof Ve=="function"&&(yR(g,_,Ve,S),be=g.memoizedState),(fe=Rf||Zz(g,_,fe,S,Ce,be,H))?(Ne||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(g.flags|=4194308)):(typeof P.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=S,g.memoizedState=be),P.props=S,P.state=be,P.context=H,S=fe):(typeof P.componentDidMount=="function"&&(g.flags|=4194308),S=!1)}else{P=g.stateNode,ZI(d,g),H=g.memoizedProps,Ne=Kd(_,H),P.props=Ne,Ve=g.pendingProps,Ce=P.context,be=_.contextType,fe=Pg,typeof be=="object"&&be!==null&&(fe=xa(be)),Z=_.getDerivedStateFromProps,(be=typeof Z=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==Ve||Ce!==fe)&&Qz(g,P,S,fe),Rf=!1,Ce=g.memoizedState,P.state=Ce,h1(g,S,P,I),f1();var Ie=g.memoizedState;H!==Ve||Ce!==Ie||Rf||d!==null&&d.dependencies!==null&&vS(d.dependencies)?(typeof Z=="function"&&(yR(g,_,Z,S),Ie=g.memoizedState),(Ne=Rf||Zz(g,_,Ne,S,Ce,Ie,fe)||d!==null&&d.dependencies!==null&&vS(d.dependencies))?(be||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(S,Ie,fe),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(S,Ie,fe)),typeof P.componentDidUpdate=="function"&&(g.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof P.componentDidUpdate!="function"||H===d.memoizedProps&&Ce===d.memoizedState||(g.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===d.memoizedProps&&Ce===d.memoizedState||(g.flags|=1024),g.memoizedProps=S,g.memoizedState=Ie),P.props=S,P.state=Ie,P.context=fe,S=Ne):(typeof P.componentDidUpdate!="function"||H===d.memoizedProps&&Ce===d.memoizedState||(g.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===d.memoizedProps&&Ce===d.memoizedState||(g.flags|=1024),S=!1)}return P=S,LS(d,g),S=(g.flags&128)!==0,P||S?(P=g.stateNode,_=S&&typeof _.getDerivedStateFromError!="function"?null:P.render(),g.flags|=1,d!==null&&S?(g.child=Gg(g,d.child,null,I),g.child=Gg(g,null,_,I)):Ji(d,g,_,I),g.memoizedState=P.state,d=g.child):d=Ec(d,g,I),d}function d8(d,g,_,S){return n1(),g.flags|=256,Ji(d,g,_,S),g.child}var bR={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function SR(d){return{baseLanes:d,cachePool:ez()}}function TR(d,g,_){return d=d!==null?d.childLanes&~_:0,g&&(d|=Ro),d}function p8(d,g,_){var S=g.pendingProps,I=!1,P=(g.flags&128)!==0,H;if((H=P)||(H=d!==null&&d.memoizedState===null?!1:(Ti.current&2)!==0),H&&(I=!0,g.flags&=-129),H=(g.flags&32)!==0,g.flags&=-33,d===null){if(Nr){if(I?Lf(g):Of(),Nr){var Z=Dn,fe;if(fe=Z){e:{for(fe=Z,Z=fu;fe.nodeType!==8;){if(!Z){Z=null;break e}if(fe=yl(fe.nextSibling),fe===null){Z=null;break e}}Z=fe}Z!==null?(g.memoizedState={dehydrated:Z,treeContext:Hd!==null?{id:xc,overflow:wc}:null,retryLane:536870912,hydrationErrors:null},fe=qs(18,null,null,0),fe.stateNode=Z,fe.return=g,g.child=fe,es=g,Dn=null,fe=!0):fe=!1}fe||Wd(g)}if(Z=g.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return oM(Z)?g.lanes=32:g.lanes=536870912,null;Ac(g)}return Z=S.children,S=S.fallback,I?(Of(),I=g.mode,Z=OS({mode:"hidden",children:Z},I),S=Ud(S,I,_,null),Z.return=g,S.return=g,Z.sibling=S,g.child=Z,I=g.child,I.memoizedState=SR(_),I.childLanes=TR(d,H,_),g.memoizedState=bR,S):(Lf(g),AR(g,Z))}if(fe=d.memoizedState,fe!==null&&(Z=fe.dehydrated,Z!==null)){if(P)g.flags&256?(Lf(g),g.flags&=-257,g=ER(d,g,_)):g.memoizedState!==null?(Of(),g.child=d.child,g.flags|=128,g=null):(Of(),I=S.fallback,Z=g.mode,S=OS({mode:"visible",children:S.children},Z),I=Ud(I,Z,_,null),I.flags|=2,S.return=g,I.return=g,S.sibling=I,g.child=S,Gg(g,d.child,null,_),S=g.child,S.memoizedState=SR(_),S.childLanes=TR(d,H,_),g.memoizedState=bR,g=I);else if(Lf(g),oM(Z)){if(H=Z.nextSibling&&Z.nextSibling.dataset,H)var be=H.dgst;H=be,S=Error(n(419)),S.stack="",S.digest=H,i1({value:S,source:null,stack:null}),g=ER(d,g,_)}else if(Vi||a1(d,g,_,!1),H=(_&d.childLanes)!==0,Vi||H){if(H=nn,H!==null&&(S=_&-_,S=(S&42)!==0?1:eu(S),S=(S&(H.suspendedLanes|_))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,kg(d,S),Qs(H,d,S),a8;Z.data==="$?"||jR(),g=ER(d,g,_)}else Z.data==="$?"?(g.flags|=192,g.child=d.child,g=null):(d=fe.treeContext,Dn=yl(Z.nextSibling),es=g,Nr=!0,jd=null,fu=!1,d!==null&&(Co[Do++]=xc,Co[Do++]=wc,Co[Do++]=Hd,xc=d.id,wc=d.overflow,Hd=g),g=AR(g,S.children),g.flags|=4096);return g}return I?(Of(),I=S.fallback,Z=g.mode,fe=d.child,be=fe.sibling,S=_c(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,be!==null?I=_c(be,I):(I=Ud(I,Z,_,null),I.flags|=2),I.return=g,S.return=g,S.sibling=I,g.child=S,S=I,I=g.child,Z=d.child.memoizedState,Z===null?Z=SR(_):(fe=Z.cachePool,fe!==null?(be=Si._currentValue,fe=fe.parent!==be?{parent:be,pool:be}:fe):fe=ez(),Z={baseLanes:Z.baseLanes|_,cachePool:fe}),I.memoizedState=Z,I.childLanes=TR(d,H,_),g.memoizedState=bR,S):(Lf(g),_=d.child,d=_.sibling,_=_c(_,{mode:"visible",children:S.children}),_.return=g,_.sibling=null,d!==null&&(H=g.deletions,H===null?(g.deletions=[d],g.flags|=16):H.push(d)),g.child=_,g.memoizedState=null,_)}function AR(d,g){return g=OS({mode:"visible",children:g},d.mode),g.return=d,d.child=g}function OS(d,g){return d=qs(22,d,null,g),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function ER(d,g,_){return Gg(g,d.child,null,_),d=AR(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function v8(d,g,_){d.lanes|=g;var S=d.alternate;S!==null&&(S.lanes|=g),jI(d.return,g,_)}function CR(d,g,_,S,I){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:S,tail:_,tailMode:I}:(P.isBackwards=g,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=_,P.tailMode=I)}function g8(d,g,_){var S=g.pendingProps,I=S.revealOrder,P=S.tail;if(Ji(d,g,S.children,_),S=Ti.current,(S&2)!==0)S=S&1|2,g.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&v8(d,_,g);else if(d.tag===19)v8(d,_,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}switch(J(Ti,S),I){case"forwards":for(_=g.child,I=null;_!==null;)d=_.alternate,d!==null&&MS(d)===null&&(I=_),_=_.sibling;_=I,_===null?(I=g.child,g.child=null):(I=_.sibling,_.sibling=null),CR(g,!1,I,_,P);break;case"backwards":for(_=null,I=g.child,g.child=null;I!==null;){if(d=I.alternate,d!==null&&MS(d)===null){g.child=I;break}d=I.sibling,I.sibling=_,_=I,I=d}CR(g,!0,_,null,P);break;case"together":CR(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Ec(d,g,_){if(d!==null&&(g.dependencies=d.dependencies),zf|=g.lanes,(_&g.childLanes)===0)if(d!==null){if(a1(d,g,_,!1),(_&g.childLanes)===0)return null}else return null;if(d!==null&&g.child!==d.child)throw Error(n(153));if(g.child!==null){for(d=g.child,_=_c(d,d.pendingProps),g.child=_,_.return=g;d.sibling!==null;)d=d.sibling,_=_.sibling=_c(d,d.pendingProps),_.return=g;_.sibling=null}return g.child}function DR(d,g){return(d.lanes&g)!==0?!0:(d=d.dependencies,!!(d!==null&&vS(d)))}function ype(d,g,_){switch(g.tag){case 3:Ae(g,g.stateNode.containerInfo),If(g,Si,d.memoizedState.cache),n1();break;case 27:case 5:Se(g);break;case 4:Ae(g,g.stateNode.containerInfo);break;case 10:If(g,g.type,g.memoizedProps.value);break;case 13:var S=g.memoizedState;if(S!==null)return S.dehydrated!==null?(Lf(g),g.flags|=128,null):(_&g.child.childLanes)!==0?p8(d,g,_):(Lf(g),d=Ec(d,g,_),d!==null?d.sibling:null);Lf(g);break;case 19:var I=(d.flags&128)!==0;if(S=(_&g.childLanes)!==0,S||(a1(d,g,_,!1),S=(_&g.childLanes)!==0),I){if(S)return g8(d,g,_);g.flags|=128}if(I=g.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),J(Ti,Ti.current),S)break;return null;case 22:case 23:return g.lanes=0,u8(d,g,_);case 24:If(g,Si,d.memoizedState.cache)}return Ec(d,g,_)}function m8(d,g,_){if(d!==null)if(d.memoizedProps!==g.pendingProps)Vi=!0;else{if(!DR(d,_)&&(g.flags&128)===0)return Vi=!1,ype(d,g,_);Vi=(d.flags&131072)!==0}else Vi=!1,Nr&&(g.flags&1048576)!==0&&q6(g,pS,g.index);switch(g.lanes=0,g.tag){case 16:e:{d=g.pendingProps;var S=g.elementType,I=S._init;if(S=I(S._payload),g.type=S,typeof S=="function")FI(S)?(d=Kd(S,d),g.tag=1,g=h8(null,g,S,d,_)):(g.tag=0,g=wR(null,g,S,d,_));else{if(S!=null){if(I=S.$$typeof,I===T){g.tag=11,g=s8(null,g,S,d,_);break e}else if(I===E){g.tag=14,g=o8(null,g,S,d,_);break e}}throw g=W(S)||S,Error(n(306,g,""))}}return g;case 0:return wR(d,g,g.type,g.pendingProps,_);case 1:return S=g.type,I=Kd(S,g.pendingProps),h8(d,g,S,I,_);case 3:e:{if(Ae(g,g.stateNode.containerInfo),d===null)throw Error(n(387));S=g.pendingProps;var P=g.memoizedState;I=P.element,ZI(d,g),h1(g,S,null,_);var H=g.memoizedState;if(S=H.cache,If(g,Si,S),S!==P.cache&&WI(g,[Si],_,!0),f1(),S=H.element,P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:H.cache},g.updateQueue.baseState=P,g.memoizedState=P,g.flags&256){g=d8(d,g,S,_);break e}else if(S!==I){I=Ao(Error(n(424)),g),i1(I),g=d8(d,g,S,_);break e}else{switch(d=g.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Dn=yl(d.firstChild),es=g,Nr=!0,jd=null,fu=!0,_=Xz(g,null,S,_),g.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(n1(),S===I){g=Ec(d,g,_);break e}Ji(d,g,S,_)}g=g.child}return g;case 26:return LS(d,g),d===null?(_=w9(g.type,null,g.pendingProps,null))?g.memoizedState=_:Nr||(_=g.type,d=g.pendingProps,S=XS(de.current).createElement(_),S[Un]=g,S[vn]=d,ta(S,_,d),ve(S),g.stateNode=S):g.memoizedState=w9(g.type,d.memoizedProps,g.pendingProps,d.memoizedState),null;case 27:return Se(g),d===null&&Nr&&(S=g.stateNode=y9(g.type,g.pendingProps,de.current),es=g,fu=!0,I=Dn,jf(g.type)?(lM=I,Dn=yl(S.firstChild)):Dn=I),Ji(d,g,g.pendingProps.children,_),LS(d,g),d===null&&(g.flags|=4194304),g.child;case 5:return d===null&&Nr&&((I=S=Dn)&&(S=$pe(S,g.type,g.pendingProps,fu),S!==null?(g.stateNode=S,es=g,Dn=yl(S.firstChild),fu=!1,I=!0):I=!1),I||Wd(g)),Se(g),I=g.type,P=g.pendingProps,H=d!==null?d.memoizedProps:null,S=P.children,iM(I,P)?S=null:H!==null&&iM(I,H)&&(g.flags|=32),g.memoizedState!==null&&(I=nR(d,g,cpe,null,null,_),L1._currentValue=I),LS(d,g),Ji(d,g,S,_),g.child;case 6:return d===null&&Nr&&((d=_=Dn)&&(_=qpe(_,g.pendingProps,fu),_!==null?(g.stateNode=_,es=g,Dn=null,d=!0):d=!1),d||Wd(g)),null;case 13:return p8(d,g,_);case 4:return Ae(g,g.stateNode.containerInfo),S=g.pendingProps,d===null?g.child=Gg(g,null,S,_):Ji(d,g,S,_),g.child;case 11:return s8(d,g,g.type,g.pendingProps,_);case 7:return Ji(d,g,g.pendingProps,_),g.child;case 8:return Ji(d,g,g.pendingProps.children,_),g.child;case 12:return Ji(d,g,g.pendingProps.children,_),g.child;case 10:return S=g.pendingProps,If(g,g.type,S.value),Ji(d,g,S.children,_),g.child;case 9:return I=g.type._context,S=g.pendingProps.children,qd(g),I=xa(I),S=S(I),g.flags|=1,Ji(d,g,S,_),g.child;case 14:return o8(d,g,g.type,g.pendingProps,_);case 15:return l8(d,g,g.type,g.pendingProps,_);case 19:return g8(d,g,_);case 31:return S=g.pendingProps,_=g.mode,S={mode:S.mode,children:S.children},d===null?(_=OS(S,_),_.ref=g.ref,g.child=_,_.return=g,g=_):(_=_c(d.child,S),_.ref=g.ref,g.child=_,_.return=g,g=_),g;case 22:return u8(d,g,_);case 24:return qd(g),S=xa(Si),d===null?(I=YI(),I===null&&(I=nn,P=$I(),I.pooledCache=P,P.refCount++,P!==null&&(I.pooledCacheLanes|=_),I=P),g.memoizedState={parent:S,cache:I},KI(g),If(g,Si,I)):((d.lanes&_)!==0&&(ZI(d,g),h1(g,null,null,_),f1()),I=d.memoizedState,P=g.memoizedState,I.parent!==S?(I={parent:S,cache:S},g.memoizedState=I,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=I),If(g,Si,S)):(S=P.cache,If(g,Si,S),S!==I.cache&&WI(g,[Si],_,!0))),Ji(d,g,g.pendingProps.children,_),g.child;case 29:throw g.pendingProps}throw Error(n(156,g.tag))}function Cc(d){d.flags|=4}function y8(d,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!E9(g)){if(g=Io.current,g!==null&&((Tr&4194048)===Tr?hu!==null:(Tr&62914560)!==Tr&&(Tr&536870912)===0||g!==hu))throw u1=XI,tz;d.flags|=8192}}function NS(d,g){g!==null&&(d.flags|=4),d.flags&16384&&(g=d.tag!==22?Hs():536870912,d.lanes|=g,qg|=g)}function _1(d,g){if(!Nr)switch(d.tailMode){case"hidden":g=d.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var S=null;_!==null;)_.alternate!==null&&(S=_),_=_.sibling;S===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function bn(d){var g=d.alternate!==null&&d.alternate.child===d.child,_=0,S=0;if(g)for(var I=d.child;I!==null;)_|=I.lanes|I.childLanes,S|=I.subtreeFlags&65011712,S|=I.flags&65011712,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)_|=I.lanes|I.childLanes,S|=I.subtreeFlags,S|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=S,d.childLanes=_,g}function _pe(d,g,_){var S=g.pendingProps;switch(UI(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(g),null;case 1:return bn(g),null;case 3:return _=g.stateNode,S=null,d!==null&&(S=d.memoizedState.cache),g.memoizedState.cache!==S&&(g.flags|=2048),Sc(Si),ye(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(r1(g)?Cc(g):d===null||d.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,K6())),bn(g),null;case 26:return _=g.memoizedState,d===null?(Cc(g),_!==null?(bn(g),y8(g,_)):(bn(g),g.flags&=-16777217)):_?_!==d.memoizedState?(Cc(g),bn(g),y8(g,_)):(bn(g),g.flags&=-16777217):(d.memoizedProps!==S&&Cc(g),bn(g),g.flags&=-16777217),null;case 27:me(g),_=de.current;var I=g.type;if(d!==null&&g.stateNode!=null)d.memoizedProps!==S&&Cc(g);else{if(!S){if(g.stateNode===null)throw Error(n(166));return bn(g),null}d=te.current,r1(g)?Y6(g):(d=y9(I,S,_),g.stateNode=d,Cc(g))}return bn(g),null;case 5:if(me(g),_=g.type,d!==null&&g.stateNode!=null)d.memoizedProps!==S&&Cc(g);else{if(!S){if(g.stateNode===null)throw Error(n(166));return bn(g),null}if(d=te.current,r1(g))Y6(g);else{switch(I=XS(de.current),d){case 1:d=I.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:d=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":d=I.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":d=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":d=I.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof S.is=="string"?I.createElement("select",{is:S.is}):I.createElement("select"),S.multiple?d.multiple=!0:S.size&&(d.size=S.size);break;default:d=typeof S.is=="string"?I.createElement(_,{is:S.is}):I.createElement(_)}}d[Un]=g,d[vn]=S;e:for(I=g.child;I!==null;){if(I.tag===5||I.tag===6)d.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===g)break e;for(;I.sibling===null;){if(I.return===null||I.return===g)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}g.stateNode=d;e:switch(ta(d,_,S),_){case"button":case"input":case"select":case"textarea":d=!!S.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Cc(g)}}return bn(g),g.flags&=-16777217,null;case 6:if(d&&g.stateNode!=null)d.memoizedProps!==S&&Cc(g);else{if(typeof S!="string"&&g.stateNode===null)throw Error(n(166));if(d=de.current,r1(g)){if(d=g.stateNode,_=g.memoizedProps,S=null,I=es,I!==null)switch(I.tag){case 27:case 5:S=I.memoizedProps}d[Un]=g,d=!!(d.nodeValue===_||S!==null&&S.suppressHydrationWarning===!0||f9(d.nodeValue,_)),d||Wd(g)}else d=XS(d).createTextNode(S),d[Un]=g,g.stateNode=d}return bn(g),null;case 13:if(S=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(I=r1(g),S!==null&&S.dehydrated!==null){if(d===null){if(!I)throw Error(n(318));if(I=g.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Un]=g}else n1(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;bn(g),I=!1}else I=K6(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=I),I=!0;if(!I)return g.flags&256?(Ac(g),g):(Ac(g),null)}if(Ac(g),(g.flags&128)!==0)return g.lanes=_,g;if(_=S!==null,d=d!==null&&d.memoizedState!==null,_){S=g.child,I=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(I=S.alternate.memoizedState.cachePool.pool);var P=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),P!==I&&(S.flags|=2048)}return _!==d&&_&&(g.child.flags|=8192),NS(g,g.updateQueue),bn(g),null;case 4:return ye(),d===null&&JR(g.stateNode.containerInfo),bn(g),null;case 10:return Sc(g.type),bn(g),null;case 19:if(j(Ti),I=g.memoizedState,I===null)return bn(g),null;if(S=(g.flags&128)!==0,P=I.rendering,P===null)if(S)_1(I,!1);else{if(In!==0||d!==null&&(d.flags&128)!==0)for(d=g.child;d!==null;){if(P=MS(d),P!==null){for(g.flags|=128,_1(I,!1),d=P.updateQueue,g.updateQueue=d,NS(g,d),g.subtreeFlags=0,d=_,_=g.child;_!==null;)$6(_,d),_=_.sibling;return J(Ti,Ti.current&1|2),g.child}d=d.sibling}I.tail!==null&&Ue()>VS&&(g.flags|=128,S=!0,_1(I,!1),g.lanes=4194304)}else{if(!S)if(d=MS(P),d!==null){if(g.flags|=128,S=!0,d=d.updateQueue,g.updateQueue=d,NS(g,d),_1(I,!0),I.tail===null&&I.tailMode==="hidden"&&!P.alternate&&!Nr)return bn(g),null}else 2*Ue()-I.renderingStartTime>VS&&_!==536870912&&(g.flags|=128,S=!0,_1(I,!1),g.lanes=4194304);I.isBackwards?(P.sibling=g.child,g.child=P):(d=I.last,d!==null?d.sibling=P:g.child=P,I.last=P)}return I.tail!==null?(g=I.tail,I.rendering=g,I.tail=g.sibling,I.renderingStartTime=Ue(),g.sibling=null,d=Ti.current,J(Ti,S?d&1|2:d&1),g):(bn(g),null);case 22:case 23:return Ac(g),tR(),S=g.memoizedState!==null,d!==null?d.memoizedState!==null!==S&&(g.flags|=8192):S&&(g.flags|=8192),S?(_&536870912)!==0&&(g.flags&128)===0&&(bn(g),g.subtreeFlags&6&&(g.flags|=8192)):bn(g),_=g.updateQueue,_!==null&&NS(g,_.retryQueue),_=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==_&&(g.flags|=2048),d!==null&&j(Yd),null;case 24:return _=null,d!==null&&(_=d.memoizedState.cache),g.memoizedState.cache!==_&&(g.flags|=2048),Sc(Si),bn(g),null;case 25:return null;case 30:return null}throw Error(n(156,g.tag))}function xpe(d,g){switch(UI(g),g.tag){case 1:return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return Sc(Si),ye(),d=g.flags,(d&65536)!==0&&(d&128)===0?(g.flags=d&-65537|128,g):null;case 26:case 27:case 5:return me(g),null;case 13:if(Ac(g),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(n(340));n1()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return j(Ti),null;case 4:return ye(),null;case 10:return Sc(g.type),null;case 22:case 23:return Ac(g),tR(),d!==null&&j(Yd),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 24:return Sc(Si),null;case 25:return null;default:return null}}function _8(d,g){switch(UI(g),g.tag){case 3:Sc(Si),ye();break;case 26:case 27:case 5:me(g);break;case 4:ye();break;case 13:Ac(g);break;case 19:j(Ti);break;case 10:Sc(g.type);break;case 22:case 23:Ac(g),tR(),d!==null&&j(Yd);break;case 24:Sc(Si)}}function x1(d,g){try{var _=g.updateQueue,S=_!==null?_.lastEffect:null;if(S!==null){var I=S.next;_=I;do{if((_.tag&d)===d){S=void 0;var P=_.create,H=_.inst;S=P(),H.destroy=S}_=_.next}while(_!==I)}}catch(Z){tn(g,g.return,Z)}}function Nf(d,g,_){try{var S=g.updateQueue,I=S!==null?S.lastEffect:null;if(I!==null){var P=I.next;S=P;do{if((S.tag&d)===d){var H=S.inst,Z=H.destroy;if(Z!==void 0){H.destroy=void 0,I=g;var fe=_,be=Z;try{be()}catch(Ne){tn(I,fe,Ne)}}}S=S.next}while(S!==P)}}catch(Ne){tn(g,g.return,Ne)}}function x8(d){var g=d.updateQueue;if(g!==null){var _=d.stateNode;try{oz(g,_)}catch(S){tn(d,d.return,S)}}}function w8(d,g,_){_.props=Kd(d.type,d.memoizedProps),_.state=d.memoizedState;try{_.componentWillUnmount()}catch(S){tn(d,g,S)}}function w1(d,g){try{var _=d.ref;if(_!==null){switch(d.tag){case 26:case 27:case 5:var S=d.stateNode;break;case 30:S=d.stateNode;break;default:S=d.stateNode}typeof _=="function"?d.refCleanup=_(S):_.current=S}}catch(I){tn(d,g,I)}}function du(d,g){var _=d.ref,S=d.refCleanup;if(_!==null)if(typeof S=="function")try{S()}catch(I){tn(d,g,I)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(I){tn(d,g,I)}else _.current=null}function b8(d){var g=d.type,_=d.memoizedProps,S=d.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":_.autoFocus&&S.focus();break e;case"img":_.src?S.src=_.src:_.srcSet&&(S.srcset=_.srcSet)}}catch(I){tn(d,d.return,I)}}function IR(d,g,_){try{var S=d.stateNode;Upe(S,d.type,_,g),S[vn]=g}catch(I){tn(d,d.return,I)}}function S8(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&jf(d.type)||d.tag===4}function RR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||S8(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&jf(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function MR(d,g,_){var S=d.tag;if(S===5||S===6)d=d.stateNode,g?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(d,g):(g=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,g.appendChild(d),_=_._reactRootContainer,_!=null||g.onclick!==null||(g.onclick=YS));else if(S!==4&&(S===27&&jf(d.type)&&(_=d.stateNode,g=null),d=d.child,d!==null))for(MR(d,g,_),d=d.sibling;d!==null;)MR(d,g,_),d=d.sibling}function FS(d,g,_){var S=d.tag;if(S===5||S===6)d=d.stateNode,g?_.insertBefore(d,g):_.appendChild(d);else if(S!==4&&(S===27&&jf(d.type)&&(_=d.stateNode),d=d.child,d!==null))for(FS(d,g,_),d=d.sibling;d!==null;)FS(d,g,_),d=d.sibling}function T8(d){var g=d.stateNode,_=d.memoizedProps;try{for(var S=d.type,I=g.attributes;I.length;)g.removeAttributeNode(I[0]);ta(g,S,_),g[Un]=d,g[vn]=_}catch(P){tn(d,d.return,P)}}var Dc=!1,Gn=!1,kR=!1,A8=typeof WeakSet=="function"?WeakSet:Set,zi=null;function wpe(d,g){if(d=d.containerInfo,rM=tT,d=N6(d),RI(d)){if("selectionStart"in d)var _={start:d.selectionStart,end:d.selectionEnd};else e:{_=(_=d.ownerDocument)&&_.defaultView||window;var S=_.getSelection&&_.getSelection();if(S&&S.rangeCount!==0){_=S.anchorNode;var I=S.anchorOffset,P=S.focusNode;S=S.focusOffset;try{_.nodeType,P.nodeType}catch{_=null;break e}var H=0,Z=-1,fe=-1,be=0,Ne=0,Ve=d,Ce=null;t:for(;;){for(var Ie;Ve!==_||I!==0&&Ve.nodeType!==3||(Z=H+I),Ve!==P||S!==0&&Ve.nodeType!==3||(fe=H+S),Ve.nodeType===3&&(H+=Ve.nodeValue.length),(Ie=Ve.firstChild)!==null;)Ce=Ve,Ve=Ie;for(;;){if(Ve===d)break t;if(Ce===_&&++be===I&&(Z=H),Ce===P&&++Ne===S&&(fe=H),(Ie=Ve.nextSibling)!==null)break;Ve=Ce,Ce=Ve.parentNode}Ve=Ie}_=Z===-1||fe===-1?null:{start:Z,end:fe}}else _=null}_=_||{start:0,end:0}}else _=null;for(nM={focusedElem:d,selectionRange:_},tT=!1,zi=g;zi!==null;)if(g=zi,d=g.child,(g.subtreeFlags&1024)!==0&&d!==null)d.return=g,zi=d;else for(;zi!==null;){switch(g=zi,P=g.alternate,d=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,_=g,I=P.memoizedProps,P=P.memoizedState,S=_.stateNode;try{var Ft=Kd(_.type,I,_.elementType===_.type);d=S.getSnapshotBeforeUpdate(Ft,P),S.__reactInternalSnapshotBeforeUpdate=d}catch(Mt){tn(_,_.return,Mt)}}break;case 3:if((d&1024)!==0){if(d=g.stateNode.containerInfo,_=d.nodeType,_===9)sM(d);else if(_===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":sM(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=g.sibling,d!==null){d.return=g.return,zi=d;break}zi=g.return}}function E8(d,g,_){var S=_.flags;switch(_.tag){case 0:case 11:case 15:Ff(d,_),S&4&&x1(5,_);break;case 1:if(Ff(d,_),S&4)if(d=_.stateNode,g===null)try{d.componentDidMount()}catch(H){tn(_,_.return,H)}else{var I=Kd(_.type,g.memoizedProps);g=g.memoizedState;try{d.componentDidUpdate(I,g,d.__reactInternalSnapshotBeforeUpdate)}catch(H){tn(_,_.return,H)}}S&64&&x8(_),S&512&&w1(_,_.return);break;case 3:if(Ff(d,_),S&64&&(d=_.updateQueue,d!==null)){if(g=null,_.child!==null)switch(_.child.tag){case 27:case 5:g=_.child.stateNode;break;case 1:g=_.child.stateNode}try{oz(d,g)}catch(H){tn(_,_.return,H)}}break;case 27:g===null&&S&4&&T8(_);case 26:case 5:Ff(d,_),g===null&&S&4&&b8(_),S&512&&w1(_,_.return);break;case 12:Ff(d,_);break;case 13:Ff(d,_),S&4&&I8(d,_),S&64&&(d=_.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(_=Rpe.bind(null,_),Ype(d,_))));break;case 22:if(S=_.memoizedState!==null||Dc,!S){g=g!==null&&g.memoizedState!==null||Gn,I=Dc;var P=Gn;Dc=S,(Gn=g)&&!P?Bf(d,_,(_.subtreeFlags&8772)!==0):Ff(d,_),Dc=I,Gn=P}break;case 30:break;default:Ff(d,_)}}function C8(d){var g=d.alternate;g!==null&&(d.alternate=null,C8(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&ae(g)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var gn=null,Ts=!1;function Ic(d,g,_){for(_=_.child;_!==null;)D8(d,g,_),_=_.sibling}function D8(d,g,_){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(We,_)}catch{}switch(_.tag){case 26:Gn||du(_,g),Ic(d,g,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Gn||du(_,g);var S=gn,I=Ts;jf(_.type)&&(gn=_.stateNode,Ts=!1),Ic(d,g,_),R1(_.stateNode),gn=S,Ts=I;break;case 5:Gn||du(_,g);case 6:if(S=gn,I=Ts,gn=null,Ic(d,g,_),gn=S,Ts=I,gn!==null)if(Ts)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(_.stateNode)}catch(P){tn(_,g,P)}else try{gn.removeChild(_.stateNode)}catch(P){tn(_,g,P)}break;case 18:gn!==null&&(Ts?(d=gn,g9(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,_.stateNode),B1(d)):g9(gn,_.stateNode));break;case 4:S=gn,I=Ts,gn=_.stateNode.containerInfo,Ts=!0,Ic(d,g,_),gn=S,Ts=I;break;case 0:case 11:case 14:case 15:Gn||Nf(2,_,g),Gn||Nf(4,_,g),Ic(d,g,_);break;case 1:Gn||(du(_,g),S=_.stateNode,typeof S.componentWillUnmount=="function"&&w8(_,g,S)),Ic(d,g,_);break;case 21:Ic(d,g,_);break;case 22:Gn=(S=Gn)||_.memoizedState!==null,Ic(d,g,_),Gn=S;break;default:Ic(d,g,_)}}function I8(d,g){if(g.memoizedState===null&&(d=g.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{B1(d)}catch(_){tn(g,g.return,_)}}function bpe(d){switch(d.tag){case 13:case 19:var g=d.stateNode;return g===null&&(g=d.stateNode=new A8),g;case 22:return d=d.stateNode,g=d._retryCache,g===null&&(g=d._retryCache=new A8),g;default:throw Error(n(435,d.tag))}}function PR(d,g){var _=bpe(d);g.forEach(function(S){var I=Mpe.bind(null,d,S);_.has(S)||(_.add(S),S.then(I,I))})}function Ys(d,g){var _=g.deletions;if(_!==null)for(var S=0;S<_.length;S++){var I=_[S],P=d,H=g,Z=H;e:for(;Z!==null;){switch(Z.tag){case 27:if(jf(Z.type)){gn=Z.stateNode,Ts=!1;break e}break;case 5:gn=Z.stateNode,Ts=!1;break e;case 3:case 4:gn=Z.stateNode.containerInfo,Ts=!0;break e}Z=Z.return}if(gn===null)throw Error(n(160));D8(P,H,I),gn=null,Ts=!1,P=I.alternate,P!==null&&(P.return=null),I.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)R8(g,d),g=g.sibling}var ml=null;function R8(d,g){var _=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Ys(g,d),Xs(d),S&4&&(Nf(3,d,d.return),x1(3,d),Nf(5,d,d.return));break;case 1:Ys(g,d),Xs(d),S&512&&(Gn||_===null||du(_,_.return)),S&64&&Dc&&(d=d.updateQueue,d!==null&&(S=d.callbacks,S!==null&&(_=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=_===null?S:_.concat(S))));break;case 26:var I=ml;if(Ys(g,d),Xs(d),S&512&&(Gn||_===null||du(_,_.return)),S&4){var P=_!==null?_.memoizedState:null;if(S=d.memoizedState,_===null)if(S===null)if(d.stateNode===null){e:{S=d.type,_=d.memoizedProps,I=I.ownerDocument||I;t:switch(S){case"title":P=I.getElementsByTagName("title")[0],(!P||P[ie]||P[Un]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=I.createElement(S),I.head.insertBefore(P,I.querySelector("head > title"))),ta(P,S,_),P[Un]=d,ve(P),S=P;break e;case"link":var H=T9("link","href",I).get(S+(_.href||""));if(H){for(var Z=0;Z<H.length;Z++)if(P=H[Z],P.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&P.getAttribute("rel")===(_.rel==null?null:_.rel)&&P.getAttribute("title")===(_.title==null?null:_.title)&&P.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){H.splice(Z,1);break t}}P=I.createElement(S),ta(P,S,_),I.head.appendChild(P);break;case"meta":if(H=T9("meta","content",I).get(S+(_.content||""))){for(Z=0;Z<H.length;Z++)if(P=H[Z],P.getAttribute("content")===(_.content==null?null:""+_.content)&&P.getAttribute("name")===(_.name==null?null:_.name)&&P.getAttribute("property")===(_.property==null?null:_.property)&&P.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&P.getAttribute("charset")===(_.charSet==null?null:_.charSet)){H.splice(Z,1);break t}}P=I.createElement(S),ta(P,S,_),I.head.appendChild(P);break;default:throw Error(n(468,S))}P[Un]=d,ve(P),S=P}d.stateNode=S}else A9(I,d.type,d.stateNode);else d.stateNode=S9(I,S,d.memoizedProps);else P!==S?(P===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):P.count--,S===null?A9(I,d.type,d.stateNode):S9(I,S,d.memoizedProps)):S===null&&d.stateNode!==null&&IR(d,d.memoizedProps,_.memoizedProps)}break;case 27:Ys(g,d),Xs(d),S&512&&(Gn||_===null||du(_,_.return)),_!==null&&S&4&&IR(d,d.memoizedProps,_.memoizedProps);break;case 5:if(Ys(g,d),Xs(d),S&512&&(Gn||_===null||du(_,_.return)),d.flags&32){I=d.stateNode;try{wo(I,"")}catch(Ie){tn(d,d.return,Ie)}}S&4&&d.stateNode!=null&&(I=d.memoizedProps,IR(d,I,_!==null?_.memoizedProps:I)),S&1024&&(kR=!0);break;case 6:if(Ys(g,d),Xs(d),S&4){if(d.stateNode===null)throw Error(n(162));S=d.memoizedProps,_=d.stateNode;try{_.nodeValue=S}catch(Ie){tn(d,d.return,Ie)}}break;case 3:if(QS=null,I=ml,ml=KS(g.containerInfo),Ys(g,d),ml=I,Xs(d),S&4&&_!==null&&_.memoizedState.isDehydrated)try{B1(g.containerInfo)}catch(Ie){tn(d,d.return,Ie)}kR&&(kR=!1,M8(d));break;case 4:S=ml,ml=KS(d.stateNode.containerInfo),Ys(g,d),Xs(d),ml=S;break;case 12:Ys(g,d),Xs(d);break;case 13:Ys(g,d),Xs(d),d.child.flags&8192&&d.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(VR=Ue()),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,PR(d,S)));break;case 22:I=d.memoizedState!==null;var fe=_!==null&&_.memoizedState!==null,be=Dc,Ne=Gn;if(Dc=be||I,Gn=Ne||fe,Ys(g,d),Gn=Ne,Dc=be,Xs(d),S&8192)e:for(g=d.stateNode,g._visibility=I?g._visibility&-2:g._visibility|1,I&&(_===null||fe||Dc||Gn||Zd(d)),_=null,g=d;;){if(g.tag===5||g.tag===26){if(_===null){fe=_=g;try{if(P=fe.stateNode,I)H=P.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Z=fe.stateNode;var Ve=fe.memoizedProps.style,Ce=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;Z.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(Ie){tn(fe,fe.return,Ie)}}}else if(g.tag===6){if(_===null){fe=g;try{fe.stateNode.nodeValue=I?"":fe.memoizedProps}catch(Ie){tn(fe,fe.return,Ie)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===d)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break e;for(;g.sibling===null;){if(g.return===null||g.return===d)break e;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}S&4&&(S=d.updateQueue,S!==null&&(_=S.retryQueue,_!==null&&(S.retryQueue=null,PR(d,_))));break;case 19:Ys(g,d),Xs(d),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,PR(d,S)));break;case 30:break;case 21:break;default:Ys(g,d),Xs(d)}}function Xs(d){var g=d.flags;if(g&2){try{for(var _,S=d.return;S!==null;){if(S8(S)){_=S;break}S=S.return}if(_==null)throw Error(n(160));switch(_.tag){case 27:var I=_.stateNode,P=RR(d);FS(d,P,I);break;case 5:var H=_.stateNode;_.flags&32&&(wo(H,""),_.flags&=-33);var Z=RR(d);FS(d,Z,H);break;case 3:case 4:var fe=_.stateNode.containerInfo,be=RR(d);MR(d,be,fe);break;default:throw Error(n(161))}}catch(Ne){tn(d,d.return,Ne)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function M8(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var g=d;M8(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),d=d.sibling}}function Ff(d,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)E8(d,g.alternate,g),g=g.sibling}function Zd(d){for(d=d.child;d!==null;){var g=d;switch(g.tag){case 0:case 11:case 14:case 15:Nf(4,g,g.return),Zd(g);break;case 1:du(g,g.return);var _=g.stateNode;typeof _.componentWillUnmount=="function"&&w8(g,g.return,_),Zd(g);break;case 27:R1(g.stateNode);case 26:case 5:du(g,g.return),Zd(g);break;case 22:g.memoizedState===null&&Zd(g);break;case 30:Zd(g);break;default:Zd(g)}d=d.sibling}}function Bf(d,g,_){for(_=_&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var S=g.alternate,I=d,P=g,H=P.flags;switch(P.tag){case 0:case 11:case 15:Bf(I,P,_),x1(4,P);break;case 1:if(Bf(I,P,_),S=P,I=S.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(be){tn(S,S.return,be)}if(S=P,I=S.updateQueue,I!==null){var Z=S.stateNode;try{var fe=I.shared.hiddenCallbacks;if(fe!==null)for(I.shared.hiddenCallbacks=null,I=0;I<fe.length;I++)sz(fe[I],Z)}catch(be){tn(S,S.return,be)}}_&&H&64&&x8(P),w1(P,P.return);break;case 27:T8(P);case 26:case 5:Bf(I,P,_),_&&S===null&&H&4&&b8(P),w1(P,P.return);break;case 12:Bf(I,P,_);break;case 13:Bf(I,P,_),_&&H&4&&I8(I,P);break;case 22:P.memoizedState===null&&Bf(I,P,_),w1(P,P.return);break;case 30:break;default:Bf(I,P,_)}g=g.sibling}}function LR(d,g){var _=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),d=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(d=g.memoizedState.cachePool.pool),d!==_&&(d!=null&&d.refCount++,_!=null&&s1(_))}function OR(d,g){d=null,g.alternate!==null&&(d=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==d&&(g.refCount++,d!=null&&s1(d))}function pu(d,g,_,S){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)k8(d,g,_,S),g=g.sibling}function k8(d,g,_,S){var I=g.flags;switch(g.tag){case 0:case 11:case 15:pu(d,g,_,S),I&2048&&x1(9,g);break;case 1:pu(d,g,_,S);break;case 3:pu(d,g,_,S),I&2048&&(d=null,g.alternate!==null&&(d=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==d&&(g.refCount++,d!=null&&s1(d)));break;case 12:if(I&2048){pu(d,g,_,S),d=g.stateNode;try{var P=g.memoizedProps,H=P.id,Z=P.onPostCommit;typeof Z=="function"&&Z(H,g.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(fe){tn(g,g.return,fe)}}else pu(d,g,_,S);break;case 13:pu(d,g,_,S);break;case 23:break;case 22:P=g.stateNode,H=g.alternate,g.memoizedState!==null?P._visibility&2?pu(d,g,_,S):b1(d,g):P._visibility&2?pu(d,g,_,S):(P._visibility|=2,jg(d,g,_,S,(g.subtreeFlags&10256)!==0)),I&2048&&LR(H,g);break;case 24:pu(d,g,_,S),I&2048&&OR(g.alternate,g);break;default:pu(d,g,_,S)}}function jg(d,g,_,S,I){for(I=I&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var P=d,H=g,Z=_,fe=S,be=H.flags;switch(H.tag){case 0:case 11:case 15:jg(P,H,Z,fe,I),x1(8,H);break;case 23:break;case 22:var Ne=H.stateNode;H.memoizedState!==null?Ne._visibility&2?jg(P,H,Z,fe,I):b1(P,H):(Ne._visibility|=2,jg(P,H,Z,fe,I)),I&&be&2048&&LR(H.alternate,H);break;case 24:jg(P,H,Z,fe,I),I&&be&2048&&OR(H.alternate,H);break;default:jg(P,H,Z,fe,I)}g=g.sibling}}function b1(d,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var _=d,S=g,I=S.flags;switch(S.tag){case 22:b1(_,S),I&2048&&LR(S.alternate,S);break;case 24:b1(_,S),I&2048&&OR(S.alternate,S);break;default:b1(_,S)}g=g.sibling}}var S1=8192;function Wg(d){if(d.subtreeFlags&S1)for(d=d.child;d!==null;)P8(d),d=d.sibling}function P8(d){switch(d.tag){case 26:Wg(d),d.flags&S1&&d.memoizedState!==null&&ove(ml,d.memoizedState,d.memoizedProps);break;case 5:Wg(d);break;case 3:case 4:var g=ml;ml=KS(d.stateNode.containerInfo),Wg(d),ml=g;break;case 22:d.memoizedState===null&&(g=d.alternate,g!==null&&g.memoizedState!==null?(g=S1,S1=16777216,Wg(d),S1=g):Wg(d));break;default:Wg(d)}}function L8(d){var g=d.alternate;if(g!==null&&(d=g.child,d!==null)){g.child=null;do g=d.sibling,d.sibling=null,d=g;while(d!==null)}}function T1(d){var g=d.deletions;if((d.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var S=g[_];zi=S,N8(S,d)}L8(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)O8(d),d=d.sibling}function O8(d){switch(d.tag){case 0:case 11:case 15:T1(d),d.flags&2048&&Nf(9,d,d.return);break;case 3:T1(d);break;case 12:T1(d);break;case 22:var g=d.stateNode;d.memoizedState!==null&&g._visibility&2&&(d.return===null||d.return.tag!==13)?(g._visibility&=-3,BS(d)):T1(d);break;default:T1(d)}}function BS(d){var g=d.deletions;if((d.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var S=g[_];zi=S,N8(S,d)}L8(d)}for(d=d.child;d!==null;){switch(g=d,g.tag){case 0:case 11:case 15:Nf(8,g,g.return),BS(g);break;case 22:_=g.stateNode,_._visibility&2&&(_._visibility&=-3,BS(g));break;default:BS(g)}d=d.sibling}}function N8(d,g){for(;zi!==null;){var _=zi;switch(_.tag){case 0:case 11:case 15:Nf(8,_,g);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var S=_.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:s1(_.memoizedState.cache)}if(S=_.child,S!==null)S.return=_,zi=S;else e:for(_=d;zi!==null;){S=zi;var I=S.sibling,P=S.return;if(C8(S),S===_){zi=null;break e}if(I!==null){I.return=P,zi=I;break e}zi=P}}}var Spe={getCacheForType:function(d){var g=xa(Si),_=g.data.get(d);return _===void 0&&(_=d(),g.data.set(d,_)),_}},Tpe=typeof WeakMap=="function"?WeakMap:Map,jr=0,nn=null,or=null,Tr=0,Wr=0,Ks=null,Vf=!1,$g=!1,NR=!1,Rc=0,In=0,zf=0,Qd=0,FR=0,Ro=0,qg=0,A1=null,As=null,BR=!1,VR=0,VS=1/0,zS=null,Uf=null,ea=0,Hf=null,Yg=null,Xg=0,zR=0,UR=null,F8=null,E1=0,HR=null;function Zs(){if((jr&2)!==0&&Tr!==0)return Tr&-Tr;if(z.T!==null){var d=Ng;return d!==0?d:XR()}return tu()}function B8(){Ro===0&&(Ro=(Tr&536870912)===0||Nr?ii():536870912);var d=Io.current;return d!==null&&(d.flags|=32),Ro}function Qs(d,g,_){(d===nn&&(Wr===2||Wr===9)||d.cancelPendingCommit!==null)&&(Kg(d,0),Gf(d,Tr,Ro,!1)),Gs(d,_),((jr&2)===0||d!==nn)&&(d===nn&&((jr&2)===0&&(Qd|=_),In===4&&Gf(d,Tr,Ro,!1)),vu(d))}function V8(d,g,_){if((jr&6)!==0)throw Error(n(327));var S=!_&&(g&124)===0&&(g&d.expiredLanes)===0||Ki(d,g),I=S?Cpe(d,g):WR(d,g,!0),P=S;do{if(I===0){$g&&!S&&Gf(d,g,0,!1);break}else{if(_=d.current.alternate,P&&!Ape(_)){I=WR(d,g,!1),P=!1;continue}if(I===2){if(P=g,d.errorRecoveryDisabledLanes&P)var H=0;else H=d.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){g=H;e:{var Z=d;I=A1;var fe=Z.current.memoizedState.isDehydrated;if(fe&&(Kg(Z,H).flags|=256),H=WR(Z,H,!1),H!==2){if(NR&&!fe){Z.errorRecoveryDisabledLanes|=P,Qd|=P,I=4;break e}P=As,As=I,P!==null&&(As===null?As=P:As.push.apply(As,P))}I=H}if(P=!1,I!==2)continue}}if(I===1){Kg(d,0),Gf(d,g,0,!0);break}e:{switch(S=d,P=I,P){case 0:case 1:throw Error(n(345));case 4:if((g&4194048)!==g)break;case 6:Gf(S,g,Ro,!Vf);break e;case 2:As=null;break;case 3:case 5:break;default:throw Error(n(329))}if((g&62914560)===g&&(I=VR+300-Ue(),10<I)){if(Gf(S,g,Ro,!Vf),Xa(S,0,!0)!==0)break e;S.timeoutHandle=p9(z8.bind(null,S,_,As,zS,BR,g,Ro,Qd,qg,Vf,P,2,-0,0),I);break e}z8(S,_,As,zS,BR,g,Ro,Qd,qg,Vf,P,0,-0,0)}}break}while(!0);vu(d)}function z8(d,g,_,S,I,P,H,Z,fe,be,Ne,Ve,Ce,Ie){if(d.timeoutHandle=-1,Ve=g.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(P1={stylesheets:null,count:0,unsuspend:sve},P8(g),Ve=lve(),Ve!==null)){d.cancelPendingCommit=Ve(q8.bind(null,d,g,P,_,S,I,H,Z,fe,Ne,1,Ce,Ie)),Gf(d,P,H,!be);return}q8(d,g,P,_,S,I,H,Z,fe)}function Ape(d){for(var g=d;;){var _=g.tag;if((_===0||_===11||_===15)&&g.flags&16384&&(_=g.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var S=0;S<_.length;S++){var I=_[S],P=I.getSnapshot;I=I.value;try{if(!$s(P(),I))return!1}catch{return!1}}if(_=g.child,g.subtreeFlags&16384&&_!==null)_.return=g,g=_;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Gf(d,g,_,S){g&=~FR,g&=~Qd,d.suspendedLanes|=g,d.pingedLanes&=~g,S&&(d.warmLanes|=g),S=d.expirationTimes;for(var I=g;0<I;){var P=31-dt(I),H=1<<P;S[P]=-1,I&=~H}_!==0&&xo(d,_,g)}function US(){return(jr&6)===0?(C1(0),!1):!0}function GR(){if(or!==null){if(Wr===0)var d=or.return;else d=or,bc=$d=null,sR(d),Hg=null,m1=0,d=or;for(;d!==null;)_8(d.alternate,d),d=d.return;or=null}}function Kg(d,g){var _=d.timeoutHandle;_!==-1&&(d.timeoutHandle=-1,Gpe(_)),_=d.cancelPendingCommit,_!==null&&(d.cancelPendingCommit=null,_()),GR(),nn=d,or=_=_c(d.current,null),Tr=g,Wr=0,Ks=null,Vf=!1,$g=Ki(d,g),NR=!1,qg=Ro=FR=Qd=zf=In=0,As=A1=null,BR=!1,(g&8)!==0&&(g|=g&32);var S=d.entangledLanes;if(S!==0)for(d=d.entanglements,S&=g;0<S;){var I=31-dt(S),P=1<<I;g|=d[I],S&=~P}return Rc=g,uS(),_}function U8(d,g){nr=null,z.H=DS,g===l1||g===yS?(g=iz(),Wr=3):g===tz?(g=iz(),Wr=4):Wr=g===a8?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Ks=g,or===null&&(In=1,PS(d,Ao(g,d.current)))}function H8(){var d=z.H;return z.H=DS,d===null?DS:d}function G8(){var d=z.A;return z.A=Spe,d}function jR(){In=4,Vf||(Tr&4194048)!==Tr&&Io.current!==null||($g=!0),(zf&134217727)===0&&(Qd&134217727)===0||nn===null||Gf(nn,Tr,Ro,!1)}function WR(d,g,_){var S=jr;jr|=2;var I=H8(),P=G8();(nn!==d||Tr!==g)&&(zS=null,Kg(d,g)),g=!1;var H=In;e:do try{if(Wr!==0&&or!==null){var Z=or,fe=Ks;switch(Wr){case 8:GR(),H=6;break e;case 3:case 2:case 9:case 6:Io.current===null&&(g=!0);var be=Wr;if(Wr=0,Ks=null,Zg(d,Z,fe,be),_&&$g){H=0;break e}break;default:be=Wr,Wr=0,Ks=null,Zg(d,Z,fe,be)}}Epe(),H=In;break}catch(Ne){U8(d,Ne)}while(!0);return g&&d.shellSuspendCounter++,bc=$d=null,jr=S,z.H=I,z.A=P,or===null&&(nn=null,Tr=0,uS()),H}function Epe(){for(;or!==null;)j8(or)}function Cpe(d,g){var _=jr;jr|=2;var S=H8(),I=G8();nn!==d||Tr!==g?(zS=null,VS=Ue()+500,Kg(d,g)):$g=Ki(d,g);e:do try{if(Wr!==0&&or!==null){g=or;var P=Ks;t:switch(Wr){case 1:Wr=0,Ks=null,Zg(d,g,P,1);break;case 2:case 9:if(rz(P)){Wr=0,Ks=null,W8(g);break}g=function(){Wr!==2&&Wr!==9||nn!==d||(Wr=7),vu(d)},P.then(g,g);break e;case 3:Wr=7;break e;case 4:Wr=5;break e;case 7:rz(P)?(Wr=0,Ks=null,W8(g)):(Wr=0,Ks=null,Zg(d,g,P,7));break;case 5:var H=null;switch(or.tag){case 26:H=or.memoizedState;case 5:case 27:var Z=or;if(!H||E9(H)){Wr=0,Ks=null;var fe=Z.sibling;if(fe!==null)or=fe;else{var be=Z.return;be!==null?(or=be,HS(be)):or=null}break t}}Wr=0,Ks=null,Zg(d,g,P,5);break;case 6:Wr=0,Ks=null,Zg(d,g,P,6);break;case 8:GR(),In=6;break e;default:throw Error(n(462))}}Dpe();break}catch(Ne){U8(d,Ne)}while(!0);return bc=$d=null,z.H=S,z.A=I,jr=_,or!==null?0:(nn=null,Tr=0,uS(),In)}function Dpe(){for(;or!==null&&!at();)j8(or)}function j8(d){var g=m8(d.alternate,d,Rc);d.memoizedProps=d.pendingProps,g===null?HS(d):or=g}function W8(d){var g=d,_=g.alternate;switch(g.tag){case 15:case 0:g=f8(_,g,g.pendingProps,g.type,void 0,Tr);break;case 11:g=f8(_,g,g.pendingProps,g.type.render,g.ref,Tr);break;case 5:sR(g);default:_8(_,g),g=or=$6(g,Rc),g=m8(_,g,Rc)}d.memoizedProps=d.pendingProps,g===null?HS(d):or=g}function Zg(d,g,_,S){bc=$d=null,sR(g),Hg=null,m1=0;var I=g.return;try{if(mpe(d,I,g,_,Tr)){In=1,PS(d,Ao(_,d.current)),or=null;return}}catch(P){if(I!==null)throw or=I,P;In=1,PS(d,Ao(_,d.current)),or=null;return}g.flags&32768?(Nr||S===1?d=!0:$g||(Tr&536870912)!==0?d=!1:(Vf=d=!0,(S===2||S===9||S===3||S===6)&&(S=Io.current,S!==null&&S.tag===13&&(S.flags|=16384))),$8(g,d)):HS(g)}function HS(d){var g=d;do{if((g.flags&32768)!==0){$8(g,Vf);return}d=g.return;var _=_pe(g.alternate,g,Rc);if(_!==null){or=_;return}if(g=g.sibling,g!==null){or=g;return}or=g=d}while(g!==null);In===0&&(In=5)}function $8(d,g){do{var _=xpe(d.alternate,d);if(_!==null){_.flags&=32767,or=_;return}if(_=d.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!g&&(d=d.sibling,d!==null)){or=d;return}or=d=_}while(d!==null);In=6,or=null}function q8(d,g,_,S,I,P,H,Z,fe){d.cancelPendingCommit=null;do GS();while(ea!==0);if((jr&6)!==0)throw Error(n(327));if(g!==null){if(g===d.current)throw Error(n(177));if(P=g.lanes|g.childLanes,P|=OI,Jl(d,_,P,H,Z,fe),d===nn&&(or=nn=null,Tr=0),Yg=g,Hf=d,Xg=_,zR=P,UR=I,F8=S,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,kpe(Gr,function(){return Q8(),null})):(d.callbackNode=null,d.callbackPriority=0),S=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||S){S=z.T,z.T=null,I=Y.p,Y.p=2,H=jr,jr|=4;try{wpe(d,g,_)}finally{jr=H,Y.p=I,z.T=S}}ea=1,Y8(),X8(),K8()}}function Y8(){if(ea===1){ea=0;var d=Hf,g=Yg,_=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||_){_=z.T,z.T=null;var S=Y.p;Y.p=2;var I=jr;jr|=4;try{R8(g,d);var P=nM,H=N6(d.containerInfo),Z=P.focusedElem,fe=P.selectionRange;if(H!==Z&&Z&&Z.ownerDocument&&O6(Z.ownerDocument.documentElement,Z)){if(fe!==null&&RI(Z)){var be=fe.start,Ne=fe.end;if(Ne===void 0&&(Ne=be),"selectionStart"in Z)Z.selectionStart=be,Z.selectionEnd=Math.min(Ne,Z.value.length);else{var Ve=Z.ownerDocument||document,Ce=Ve&&Ve.defaultView||window;if(Ce.getSelection){var Ie=Ce.getSelection(),Ft=Z.textContent.length,Mt=Math.min(fe.start,Ft),Zr=fe.end===void 0?Mt:Math.min(fe.end,Ft);!Ie.extend&&Mt>Zr&&(H=Zr,Zr=Mt,Mt=H);var pe=L6(Z,Mt),he=L6(Z,Zr);if(pe&&he&&(Ie.rangeCount!==1||Ie.anchorNode!==pe.node||Ie.anchorOffset!==pe.offset||Ie.focusNode!==he.node||Ie.focusOffset!==he.offset)){var xe=Ve.createRange();xe.setStart(pe.node,pe.offset),Ie.removeAllRanges(),Mt>Zr?(Ie.addRange(xe),Ie.extend(he.node,he.offset)):(xe.setEnd(he.node,he.offset),Ie.addRange(xe))}}}}for(Ve=[],Ie=Z;Ie=Ie.parentNode;)Ie.nodeType===1&&Ve.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ve.length;Z++){var Fe=Ve[Z];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}tT=!!rM,nM=rM=null}finally{jr=I,Y.p=S,z.T=_}}d.current=g,ea=2}}function X8(){if(ea===2){ea=0;var d=Hf,g=Yg,_=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||_){_=z.T,z.T=null;var S=Y.p;Y.p=2;var I=jr;jr|=4;try{E8(d,g.alternate,g)}finally{jr=I,Y.p=S,z.T=_}}ea=3}}function K8(){if(ea===4||ea===3){ea=0,ot();var d=Hf,g=Yg,_=Xg,S=F8;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?ea=5:(ea=0,Yg=Hf=null,Z8(d,d.pendingLanes));var I=d.pendingLanes;if(I===0&&(Uf=null),Ef(_),g=g.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(We,g,void 0,(g.current.flags&128)===128)}catch{}if(S!==null){g=z.T,I=Y.p,Y.p=2,z.T=null;try{for(var P=d.onRecoverableError,H=0;H<S.length;H++){var Z=S[H];P(Z.value,{componentStack:Z.stack})}}finally{z.T=g,Y.p=I}}(Xg&3)!==0&&GS(),vu(d),I=d.pendingLanes,(_&4194090)!==0&&(I&42)!==0?d===HR?E1++:(E1=0,HR=d):E1=0,C1(0)}}function Z8(d,g){(d.pooledCacheLanes&=g)===0&&(g=d.pooledCache,g!=null&&(d.pooledCache=null,s1(g)))}function GS(d){return Y8(),X8(),K8(),Q8()}function Q8(){if(ea!==5)return!1;var d=Hf,g=zR;zR=0;var _=Ef(Xg),S=z.T,I=Y.p;try{Y.p=32>_?32:_,z.T=null,_=UR,UR=null;var P=Hf,H=Xg;if(ea=0,Yg=Hf=null,Xg=0,(jr&6)!==0)throw Error(n(331));var Z=jr;if(jr|=4,O8(P.current),k8(P,P.current,H,_),jr=Z,C1(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(We,P)}catch{}return!0}finally{Y.p=I,z.T=S,Z8(d,g)}}function J8(d,g,_){g=Ao(_,g),g=xR(d.stateNode,g,2),d=kf(d,g,2),d!==null&&(Gs(d,2),vu(d))}function tn(d,g,_){if(d.tag===3)J8(d,d,_);else for(;g!==null;){if(g.tag===3){J8(g,d,_);break}else if(g.tag===1){var S=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Uf===null||!Uf.has(S))){d=Ao(_,d),_=n8(2),S=kf(g,_,2),S!==null&&(i8(_,S,g,d),Gs(S,2),vu(S));break}}g=g.return}}function $R(d,g,_){var S=d.pingCache;if(S===null){S=d.pingCache=new Tpe;var I=new Set;S.set(g,I)}else I=S.get(g),I===void 0&&(I=new Set,S.set(g,I));I.has(_)||(NR=!0,I.add(_),d=Ipe.bind(null,d,g,_),g.then(d,d))}function Ipe(d,g,_){var S=d.pingCache;S!==null&&S.delete(g),d.pingedLanes|=d.suspendedLanes&_,d.warmLanes&=~_,nn===d&&(Tr&_)===_&&(In===4||In===3&&(Tr&62914560)===Tr&&300>Ue()-VR?(jr&2)===0&&Kg(d,0):FR|=_,qg===Tr&&(qg=0)),vu(d)}function e9(d,g){g===0&&(g=Hs()),d=kg(d,g),d!==null&&(Gs(d,g),vu(d))}function Rpe(d){var g=d.memoizedState,_=0;g!==null&&(_=g.retryLane),e9(d,_)}function Mpe(d,g){var _=0;switch(d.tag){case 13:var S=d.stateNode,I=d.memoizedState;I!==null&&(_=I.retryLane);break;case 19:S=d.stateNode;break;case 22:S=d.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(g),e9(d,_)}function kpe(d,g){return mt(d,g)}var jS=null,Qg=null,qR=!1,WS=!1,YR=!1,Jd=0;function vu(d){d!==Qg&&d.next===null&&(Qg===null?jS=Qg=d:Qg=Qg.next=d),WS=!0,qR||(qR=!0,Lpe())}function C1(d,g){if(!YR&&WS){YR=!0;do for(var _=!1,S=jS;S!==null;){if(d!==0){var I=S.pendingLanes;if(I===0)var P=0;else{var H=S.suspendedLanes,Z=S.pingedLanes;P=(1<<31-dt(42|d)+1)-1,P&=I&~(H&~Z),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(_=!0,i9(S,P))}else P=Tr,P=Xa(S,S===nn?P:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(P&3)===0||Ki(S,P)||(_=!0,i9(S,P));S=S.next}while(_);YR=!1}}function Ppe(){t9()}function t9(){WS=qR=!1;var d=0;Jd!==0&&(Hpe()&&(d=Jd),Jd=0);for(var g=Ue(),_=null,S=jS;S!==null;){var I=S.next,P=r9(S,g);P===0?(S.next=null,_===null?jS=I:_.next=I,I===null&&(Qg=_)):(_=S,(d!==0||(P&3)!==0)&&(WS=!0)),S=I}C1(d)}function r9(d,g){for(var _=d.suspendedLanes,S=d.pingedLanes,I=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var H=31-dt(P),Z=1<<H,fe=I[H];fe===-1?((Z&_)===0||(Z&S)!==0)&&(I[H]=Zi(Z,g)):fe<=g&&(d.expiredLanes|=Z),P&=~Z}if(g=nn,_=Tr,_=Xa(d,d===g?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),S=d.callbackNode,_===0||d===g&&(Wr===2||Wr===9)||d.cancelPendingCommit!==null)return S!==null&&S!==null&&rt(S),d.callbackNode=null,d.callbackPriority=0;if((_&3)===0||Ki(d,_)){if(g=_&-_,g===d.callbackPriority)return g;switch(S!==null&&rt(S),Ef(_)){case 2:case 8:_=en;break;case 32:_=Gr;break;case 268435456:_=Or;break;default:_=Gr}return S=n9.bind(null,d),_=mt(_,S),d.callbackPriority=g,d.callbackNode=_,g}return S!==null&&S!==null&&rt(S),d.callbackPriority=2,d.callbackNode=null,2}function n9(d,g){if(ea!==0&&ea!==5)return d.callbackNode=null,d.callbackPriority=0,null;var _=d.callbackNode;if(GS()&&d.callbackNode!==_)return null;var S=Tr;return S=Xa(d,d===nn?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),S===0?null:(V8(d,S,g),r9(d,Ue()),d.callbackNode!=null&&d.callbackNode===_?n9.bind(null,d):null)}function i9(d,g){if(GS())return null;V8(d,g,!0)}function Lpe(){jpe(function(){(jr&6)!==0?mt(vr,Ppe):t9()})}function XR(){return Jd===0&&(Jd=ii()),Jd}function a9(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:xg(""+d)}function s9(d,g){var _=g.ownerDocument.createElement("input");return _.name=g.name,_.value=g.value,d.id&&_.setAttribute("form",d.id),g.parentNode.insertBefore(_,g),d=new FormData(d),_.parentNode.removeChild(_),d}function Ope(d,g,_,S,I){if(g==="submit"&&_&&_.stateNode===I){var P=a9((I[vn]||null).action),H=S.submitter;H&&(g=(g=H[vn]||null)?a9(g.formAction):H.getAttribute("formAction"),g!==null&&(P=g,H=null));var Z=new wg("action","action",null,S,I);d.push({event:Z,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Jd!==0){var fe=H?s9(I,H):new FormData(I);vR(_,{pending:!0,data:fe,method:I.method,action:P},null,fe)}}else typeof P=="function"&&(Z.preventDefault(),fe=H?s9(I,H):new FormData(I),vR(_,{pending:!0,data:fe,method:I.method,action:P},P,fe))},currentTarget:I}]})}}for(var KR=0;KR<LI.length;KR++){var ZR=LI[KR],Npe=ZR.toLowerCase(),Fpe=ZR[0].toUpperCase()+ZR.slice(1);gl(Npe,"on"+Fpe)}gl(V6,"onAnimationEnd"),gl(z6,"onAnimationIteration"),gl(U6,"onAnimationStart"),gl("dblclick","onDoubleClick"),gl("focusin","onFocus"),gl("focusout","onBlur"),gl(epe,"onTransitionRun"),gl(tpe,"onTransitionStart"),gl(rpe,"onTransitionCancel"),gl(H6,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),He("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),He("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),He("onBeforeInput",["compositionend","keypress","textInput","paste"]),He("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bpe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(D1));function o9(d,g){g=(g&4)!==0;for(var _=0;_<d.length;_++){var S=d[_],I=S.event;S=S.listeners;e:{var P=void 0;if(g)for(var H=S.length-1;0<=H;H--){var Z=S[H],fe=Z.instance,be=Z.currentTarget;if(Z=Z.listener,fe!==P&&I.isPropagationStopped())break e;P=Z,I.currentTarget=be;try{P(I)}catch(Ne){kS(Ne)}I.currentTarget=null,P=fe}else for(H=0;H<S.length;H++){if(Z=S[H],fe=Z.instance,be=Z.currentTarget,Z=Z.listener,fe!==P&&I.isPropagationStopped())break e;P=Z,I.currentTarget=be;try{P(I)}catch(Ne){kS(Ne)}I.currentTarget=null,P=fe}}}}function lr(d,g){var _=g[Cd];_===void 0&&(_=g[Cd]=new Set);var S=d+"__bubble";_.has(S)||(l9(g,d,2,!1),_.add(S))}function QR(d,g,_){var S=0;g&&(S|=4),l9(_,d,S,g)}var $S="_reactListening"+Math.random().toString(36).slice(2);function JR(d){if(!d[$S]){d[$S]=!0,Te.forEach(function(_){_!=="selectionchange"&&(Bpe.has(_)||QR(_,!1,d),QR(_,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[$S]||(g[$S]=!0,QR("selectionchange",!1,g))}}function l9(d,g,_,S){switch(k9(g)){case 2:var I=fve;break;case 8:I=hve;break;default:I=dM}_=I.bind(null,g,_,d),I=void 0,!So||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(I=!0),S?I!==void 0?d.addEventListener(g,_,{capture:!0,passive:I}):d.addEventListener(g,_,!0):I!==void 0?d.addEventListener(g,_,{passive:I}):d.addEventListener(g,_,!1)}function eM(d,g,_,S,I){var P=S;if((g&1)===0&&(g&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var Z=S.stateNode.containerInfo;if(Z===I)break;if(H===4)for(H=S.return;H!==null;){var fe=H.tag;if((fe===3||fe===4)&&H.stateNode.containerInfo===I)return;H=H.return}for(;Z!==null;){if(H=oe(Z),H===null)return;if(fe=H.tag,fe===5||fe===6||fe===26||fe===27){S=P=H;continue e}Z=Z.parentNode}}S=S.return}Yb(function(){var be=P,Ne=bo(_),Ve=[];e:{var Ce=G6.get(d);if(Ce!==void 0){var Ie=wg,Ft=d;switch(d){case"keypress":if(su(_)===0)break e;case"keydown":case"keyup":Ie=Cg;break;case"focusin":Ft="focus",Ie=Tg;break;case"focusout":Ft="blur",Ie=Tg;break;case"beforeblur":case"afterblur":Ie=Tg;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=rS;break;case V6:case z6:case U6:Ie=Ag;break;case H6:Ie=iS;break;case"scroll":case"scrollend":Ie=Xb;break;case"wheel":Ie=Dg;break;case"copy":case"cut":case"paste":Ie=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Qy;break;case"toggle":case"beforetoggle":Ie=sS}var Mt=(g&4)!==0,Zr=!Mt&&(d==="scroll"||d==="scrollend"),pe=Mt?Ce!==null?Ce+"Capture":null:Ce;Mt=[];for(var he=be,xe;he!==null;){var Fe=he;if(xe=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||xe===null||pe===null||(Fe=kd(he,pe),Fe!=null&&Mt.push(I1(he,Fe,xe))),Zr)break;he=he.return}0<Mt.length&&(Ce=new Ie(Ce,Ft,null,_,Ne),Ve.push({event:Ce,listeners:Mt}))}}if((g&7)===0){e:{if(Ce=d==="mouseover"||d==="pointerover",Ie=d==="mouseout"||d==="pointerout",Ce&&_!==dc&&(Ft=_.relatedTarget||_.fromElement)&&(oe(Ft)||Ft[ws]))break e;if((Ie||Ce)&&(Ce=Ne.window===Ne?Ne:(Ce=Ne.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Ie?(Ft=_.relatedTarget||_.toElement,Ie=be,Ft=Ft?oe(Ft):null,Ft!==null&&(Zr=a(Ft),Mt=Ft.tag,Ft!==Zr||Mt!==5&&Mt!==27&&Mt!==6)&&(Ft=null)):(Ie=null,Ft=be),Ie!==Ft)){if(Mt=To,Fe="onMouseLeave",pe="onMouseEnter",he="mouse",(d==="pointerout"||d==="pointerover")&&(Mt=Qy,Fe="onPointerLeave",pe="onPointerEnter",he="pointer"),Zr=Ie==null?Ce:we(Ie),xe=Ft==null?Ce:we(Ft),Ce=new Mt(Fe,he+"leave",Ie,_,Ne),Ce.target=Zr,Ce.relatedTarget=xe,Fe=null,oe(Ne)===be&&(Mt=new Mt(pe,he+"enter",Ft,_,Ne),Mt.target=xe,Mt.relatedTarget=Zr,Fe=Mt),Zr=Fe,Ie&&Ft)t:{for(Mt=Ie,pe=Ft,he=0,xe=Mt;xe;xe=Jg(xe))he++;for(xe=0,Fe=pe;Fe;Fe=Jg(Fe))xe++;for(;0<he-xe;)Mt=Jg(Mt),he--;for(;0<xe-he;)pe=Jg(pe),xe--;for(;he--;){if(Mt===pe||pe!==null&&Mt===pe.alternate)break t;Mt=Jg(Mt),pe=Jg(pe)}Mt=null}else Mt=null;Ie!==null&&u9(Ve,Ce,Ie,Mt,!1),Ft!==null&&Zr!==null&&u9(Ve,Zr,Ft,Mt,!0)}}e:{if(Ce=be?we(be):window,Ie=Ce.nodeName&&Ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ce.type==="file")var vt=D6;else if(bi(Ce))if(I6)vt=Zde;else{vt=Xde;var ir=Yde}else Ie=Ce.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?be&&Wy(be.elementType)&&(vt=D6):vt=Kde;if(vt&&(vt=vt(d,be))){yc(Ve,vt,_,Ne);break e}ir&&ir(d,Ce,be),d==="focusout"&&be&&Ce.type==="number"&&be.memoizedProps.value!=null&&Cf(Ce,"number",Ce.value)}switch(ir=be?we(be):window,d){case"focusin":(bi(ir)||ir.contentEditable==="true")&&(Ig=ir,MI=be,t1=null);break;case"focusout":t1=MI=Ig=null;break;case"mousedown":kI=!0;break;case"contextmenu":case"mouseup":case"dragend":kI=!1,F6(Ve,_,Ne);break;case"selectionchange":if(Jde)break;case"keydown":case"keyup":F6(Ve,_,Ne)}var wt;if(uu)e:{switch(d){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else br?Me(d,_)&&(kt="onCompositionEnd"):d==="keydown"&&_.keyCode===229&&(kt="onCompositionStart");kt&&(V&&_.locale!=="ko"&&(br||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&br&&(wt=qy()):(au=Ne,Df="value"in au?au.value:au.textContent,br=!0)),ir=qS(be,kt),0<ir.length&&(kt=new Ky(kt,d,null,_,Ne),Ve.push({event:kt,listeners:ir}),wt?kt.data=wt:(wt=et(_),wt!==null&&(kt.data=wt)))),(wt=F?wi(d,_):Sr(d,_))&&(kt=qS(be,"onBeforeInput"),0<kt.length&&(ir=new Ky("onBeforeInput","beforeinput",null,_,Ne),Ve.push({event:ir,listeners:kt}),ir.data=wt)),Ope(Ve,d,be,_,Ne)}o9(Ve,g)})}function I1(d,g,_){return{instance:d,listener:g,currentTarget:_}}function qS(d,g){for(var _=g+"Capture",S=[];d!==null;){var I=d,P=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||P===null||(I=kd(d,_),I!=null&&S.unshift(I1(d,I,P)),I=kd(d,g),I!=null&&S.push(I1(d,I,P))),d.tag===3)return S;d=d.return}return[]}function Jg(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function u9(d,g,_,S,I){for(var P=g._reactName,H=[];_!==null&&_!==S;){var Z=_,fe=Z.alternate,be=Z.stateNode;if(Z=Z.tag,fe!==null&&fe===S)break;Z!==5&&Z!==26&&Z!==27||be===null||(fe=be,I?(be=kd(_,P),be!=null&&H.unshift(I1(_,be,fe))):I||(be=kd(_,P),be!=null&&H.push(I1(_,be,fe)))),_=_.return}H.length!==0&&d.push({event:g,listeners:H})}var Vpe=/\r\n?/g,zpe=/\u0000|\uFFFD/g;function c9(d){return(typeof d=="string"?d:""+d).replace(Vpe,`
`).replace(zpe,"")}function f9(d,g){return g=c9(g),c9(d)===g}function YS(){}function Kr(d,g,_,S,I,P){switch(_){case"children":typeof S=="string"?g==="body"||g==="textarea"&&S===""||wo(d,S):(typeof S=="number"||typeof S=="bigint")&&g!=="body"&&wo(d,""+S);break;case"className":xr(d,"class",S);break;case"tabIndex":xr(d,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(d,_,S);break;case"style":jy(d,S,P);break;case"data":if(g!=="object"){xr(d,"data",S);break}case"src":case"href":if(S===""&&(g!=="a"||_!=="href")){d.removeAttribute(_);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){d.removeAttribute(_);break}S=xg(""+S),d.setAttribute(_,S);break;case"action":case"formAction":if(typeof S=="function"){d.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(_==="formAction"?(g!=="input"&&Kr(d,g,"name",I.name,I,null),Kr(d,g,"formEncType",I.formEncType,I,null),Kr(d,g,"formMethod",I.formMethod,I,null),Kr(d,g,"formTarget",I.formTarget,I,null)):(Kr(d,g,"encType",I.encType,I,null),Kr(d,g,"method",I.method,I,null),Kr(d,g,"target",I.target,I,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){d.removeAttribute(_);break}S=xg(""+S),d.setAttribute(_,S);break;case"onClick":S!=null&&(d.onclick=YS);break;case"onScroll":S!=null&&lr("scroll",d);break;case"onScrollEnd":S!=null&&lr("scrollend",d);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(_=S.__html,_!=null){if(I.children!=null)throw Error(n(60));d.innerHTML=_}}break;case"multiple":d.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":d.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){d.removeAttribute("xlink:href");break}_=xg(""+S),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(_,""+S):d.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(_,""):d.removeAttribute(_);break;case"capture":case"download":S===!0?d.setAttribute(_,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(_,S):d.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?d.setAttribute(_,S):d.removeAttribute(_);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?d.removeAttribute(_):d.setAttribute(_,S);break;case"popover":lr("beforetoggle",d),lr("toggle",d),Rr(d,"popover",S);break;case"xlinkActuate":wr(d,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":wr(d,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":wr(d,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":wr(d,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":wr(d,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":wr(d,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":wr(d,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":wr(d,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":wr(d,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Rr(d,"is",S);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=TI.get(_)||_,Rr(d,_,S))}}function tM(d,g,_,S,I,P){switch(_){case"style":jy(d,S,P);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(_=S.__html,_!=null){if(I.children!=null)throw Error(n(60));d.innerHTML=_}}break;case"children":typeof S=="string"?wo(d,S):(typeof S=="number"||typeof S=="bigint")&&wo(d,""+S);break;case"onScroll":S!=null&&lr("scroll",d);break;case"onScrollEnd":S!=null&&lr("scrollend",d);break;case"onClick":S!=null&&(d.onclick=YS);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ee.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(I=_.endsWith("Capture"),g=_.slice(2,I?_.length-7:void 0),P=d[vn]||null,P=P!=null?P[_]:null,typeof P=="function"&&d.removeEventListener(g,P,I),typeof S=="function")){typeof P!="function"&&P!==null&&(_ in d?d[_]=null:d.hasAttribute(_)&&d.removeAttribute(_)),d.addEventListener(g,S,I);break e}_ in d?d[_]=S:S===!0?d.setAttribute(_,""):Rr(d,_,S)}}}function ta(d,g,_){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lr("error",d),lr("load",d);var S=!1,I=!1,P;for(P in _)if(_.hasOwnProperty(P)){var H=_[P];if(H!=null)switch(P){case"src":S=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,g));default:Kr(d,g,P,H,_,null)}}I&&Kr(d,g,"srcSet",_.srcSet,_,null),S&&Kr(d,g,"src",_.src,_,null);return;case"input":lr("invalid",d);var Z=P=H=I=null,fe=null,be=null;for(S in _)if(_.hasOwnProperty(S)){var Ne=_[S];if(Ne!=null)switch(S){case"name":I=Ne;break;case"type":H=Ne;break;case"checked":fe=Ne;break;case"defaultChecked":be=Ne;break;case"value":P=Ne;break;case"defaultValue":Z=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,g));break;default:Kr(d,g,S,Ne,_,null)}}Id(d,P,Z,fe,be,H,I,!1),_g(d);return;case"select":lr("invalid",d),S=H=P=null;for(I in _)if(_.hasOwnProperty(I)&&(Z=_[I],Z!=null))switch(I){case"value":P=Z;break;case"defaultValue":H=Z;break;case"multiple":S=Z;default:Kr(d,g,I,Z,_,null)}g=P,_=H,d.multiple=!!S,g!=null?hc(d,!!S,g,!1):_!=null&&hc(d,!!S,_,!0);return;case"textarea":lr("invalid",d),P=I=S=null;for(H in _)if(_.hasOwnProperty(H)&&(Z=_[H],Z!=null))switch(H){case"value":S=Z;break;case"defaultValue":I=Z;break;case"children":P=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(91));break;default:Kr(d,g,H,Z,_,null)}Rd(d,S,I,P),_g(d);return;case"option":for(fe in _)if(_.hasOwnProperty(fe)&&(S=_[fe],S!=null))switch(fe){case"selected":d.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Kr(d,g,fe,S,_,null)}return;case"dialog":lr("beforetoggle",d),lr("toggle",d),lr("cancel",d),lr("close",d);break;case"iframe":case"object":lr("load",d);break;case"video":case"audio":for(S=0;S<D1.length;S++)lr(D1[S],d);break;case"image":lr("error",d),lr("load",d);break;case"details":lr("toggle",d);break;case"embed":case"source":case"link":lr("error",d),lr("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in _)if(_.hasOwnProperty(be)&&(S=_[be],S!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,g));default:Kr(d,g,be,S,_,null)}return;default:if(Wy(g)){for(Ne in _)_.hasOwnProperty(Ne)&&(S=_[Ne],S!==void 0&&tM(d,g,Ne,S,_,void 0));return}}for(Z in _)_.hasOwnProperty(Z)&&(S=_[Z],S!=null&&Kr(d,g,Z,S,_,null))}function Upe(d,g,_,S){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,P=null,H=null,Z=null,fe=null,be=null,Ne=null;for(Ie in _){var Ve=_[Ie];if(_.hasOwnProperty(Ie)&&Ve!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":fe=Ve;default:S.hasOwnProperty(Ie)||Kr(d,g,Ie,null,S,Ve)}}for(var Ce in S){var Ie=S[Ce];if(Ve=_[Ce],S.hasOwnProperty(Ce)&&(Ie!=null||Ve!=null))switch(Ce){case"type":P=Ie;break;case"name":I=Ie;break;case"checked":be=Ie;break;case"defaultChecked":Ne=Ie;break;case"value":H=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,g));break;default:Ie!==Ve&&Kr(d,g,Ce,Ie,S,Ve)}}Ws(d,H,Z,fe,be,Ne,P,I);return;case"select":Ie=H=Z=Ce=null;for(P in _)if(fe=_[P],_.hasOwnProperty(P)&&fe!=null)switch(P){case"value":break;case"multiple":Ie=fe;default:S.hasOwnProperty(P)||Kr(d,g,P,null,S,fe)}for(I in S)if(P=S[I],fe=_[I],S.hasOwnProperty(I)&&(P!=null||fe!=null))switch(I){case"value":Ce=P;break;case"defaultValue":Z=P;break;case"multiple":H=P;default:P!==fe&&Kr(d,g,I,P,S,fe)}g=Z,_=H,S=Ie,Ce!=null?hc(d,!!_,Ce,!1):!!S!=!!_&&(g!=null?hc(d,!!_,g,!0):hc(d,!!_,_?[]:"",!1));return;case"textarea":Ie=Ce=null;for(Z in _)if(I=_[Z],_.hasOwnProperty(Z)&&I!=null&&!S.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Kr(d,g,Z,null,S,I)}for(H in S)if(I=S[H],P=_[H],S.hasOwnProperty(H)&&(I!=null||P!=null))switch(H){case"value":Ce=I;break;case"defaultValue":Ie=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:I!==P&&Kr(d,g,H,I,S,P)}Yr(d,Ce,Ie);return;case"option":for(var Ft in _)if(Ce=_[Ft],_.hasOwnProperty(Ft)&&Ce!=null&&!S.hasOwnProperty(Ft))switch(Ft){case"selected":d.selected=!1;break;default:Kr(d,g,Ft,null,S,Ce)}for(fe in S)if(Ce=S[fe],Ie=_[fe],S.hasOwnProperty(fe)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(fe){case"selected":d.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:Kr(d,g,fe,Ce,S,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in _)Ce=_[Mt],_.hasOwnProperty(Mt)&&Ce!=null&&!S.hasOwnProperty(Mt)&&Kr(d,g,Mt,null,S,Ce);for(be in S)if(Ce=S[be],Ie=_[be],S.hasOwnProperty(be)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,g));break;default:Kr(d,g,be,Ce,S,Ie)}return;default:if(Wy(g)){for(var Zr in _)Ce=_[Zr],_.hasOwnProperty(Zr)&&Ce!==void 0&&!S.hasOwnProperty(Zr)&&tM(d,g,Zr,void 0,S,Ce);for(Ne in S)Ce=S[Ne],Ie=_[Ne],!S.hasOwnProperty(Ne)||Ce===Ie||Ce===void 0&&Ie===void 0||tM(d,g,Ne,Ce,S,Ie);return}}for(var pe in _)Ce=_[pe],_.hasOwnProperty(pe)&&Ce!=null&&!S.hasOwnProperty(pe)&&Kr(d,g,pe,null,S,Ce);for(Ve in S)Ce=S[Ve],Ie=_[Ve],!S.hasOwnProperty(Ve)||Ce===Ie||Ce==null&&Ie==null||Kr(d,g,Ve,Ce,S,Ie)}var rM=null,nM=null;function XS(d){return d.nodeType===9?d:d.ownerDocument}function h9(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d9(d,g){if(d===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&g==="foreignObject"?0:d}function iM(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var aM=null;function Hpe(){var d=window.event;return d&&d.type==="popstate"?d===aM?!1:(aM=d,!0):(aM=null,!1)}var p9=typeof setTimeout=="function"?setTimeout:void 0,Gpe=typeof clearTimeout=="function"?clearTimeout:void 0,v9=typeof Promise=="function"?Promise:void 0,jpe=typeof queueMicrotask=="function"?queueMicrotask:typeof v9<"u"?function(d){return v9.resolve(null).then(d).catch(Wpe)}:p9;function Wpe(d){setTimeout(function(){throw d})}function jf(d){return d==="head"}function g9(d,g){var _=g,S=0,I=0;do{var P=_.nextSibling;if(d.removeChild(_),P&&P.nodeType===8)if(_=P.data,_==="/$"){if(0<S&&8>S){_=S;var H=d.ownerDocument;if(_&1&&R1(H.documentElement),_&2&&R1(H.body),_&4)for(_=H.head,R1(_),H=_.firstChild;H;){var Z=H.nextSibling,fe=H.nodeName;H[ie]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&H.rel.toLowerCase()==="stylesheet"||_.removeChild(H),H=Z}}if(I===0){d.removeChild(P),B1(g);return}I--}else _==="$"||_==="$?"||_==="$!"?I++:S=_.charCodeAt(0)-48;else S=0;_=P}while(_);B1(g)}function sM(d){var g=d.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var _=g;switch(g=g.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":sM(_),ae(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}d.removeChild(_)}}function $pe(d,g,_,S){for(;d.nodeType===1;){var I=_;if(d.nodeName.toLowerCase()!==g.toLowerCase()){if(!S&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(S){if(!d[ie])switch(g){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==I.rel||d.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||d.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||d.getAttribute("title")!==(I.title==null?null:I.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(I.src==null?null:I.src)||d.getAttribute("type")!==(I.type==null?null:I.type)||d.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(g==="input"&&d.type==="hidden"){var P=I.name==null?null:""+I.name;if(I.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=yl(d.nextSibling),d===null)break}return null}function qpe(d,g,_){if(g==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!_||(d=yl(d.nextSibling),d===null))return null;return d}function oM(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function Ype(d,g){var _=d.ownerDocument;if(d.data!=="$?"||_.readyState==="complete")g();else{var S=function(){g(),_.removeEventListener("DOMContentLoaded",S)};_.addEventListener("DOMContentLoaded",S),d._reactRetry=S}}function yl(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return d}var lM=null;function m9(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var _=d.data;if(_==="$"||_==="$!"||_==="$?"){if(g===0)return d;g--}else _==="/$"&&g++}d=d.previousSibling}return null}function y9(d,g,_){switch(g=XS(_),d){case"html":if(d=g.documentElement,!d)throw Error(n(452));return d;case"head":if(d=g.head,!d)throw Error(n(453));return d;case"body":if(d=g.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function R1(d){for(var g=d.attributes;g.length;)d.removeAttributeNode(g[0]);ae(d)}var Mo=new Map,_9=new Set;function KS(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Mc=Y.d;Y.d={f:Xpe,r:Kpe,D:Zpe,C:Qpe,L:Jpe,m:eve,X:rve,S:tve,M:nve};function Xpe(){var d=Mc.f(),g=US();return d||g}function Kpe(d){var g=ce(d);g!==null&&g.tag===5&&g.type==="form"?Vz(g):Mc.r(d)}var e0=typeof document>"u"?null:document;function x9(d,g,_){var S=e0;if(S&&typeof g=="string"&&g){var I=ai(g);I='link[rel="'+d+'"][href="'+I+'"]',typeof _=="string"&&(I+='[crossorigin="'+_+'"]'),_9.has(I)||(_9.add(I),d={rel:d,crossOrigin:_,href:g},S.querySelector(I)===null&&(g=S.createElement("link"),ta(g,"link",d),ve(g),S.head.appendChild(g)))}}function Zpe(d){Mc.D(d),x9("dns-prefetch",d,null)}function Qpe(d,g){Mc.C(d,g),x9("preconnect",d,g)}function Jpe(d,g,_){Mc.L(d,g,_);var S=e0;if(S&&d&&g){var I='link[rel="preload"][as="'+ai(g)+'"]';g==="image"&&_&&_.imageSrcSet?(I+='[imagesrcset="'+ai(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(I+='[imagesizes="'+ai(_.imageSizes)+'"]')):I+='[href="'+ai(d)+'"]';var P=I;switch(g){case"style":P=t0(d);break;case"script":P=r0(d)}Mo.has(P)||(d=c({rel:"preload",href:g==="image"&&_&&_.imageSrcSet?void 0:d,as:g},_),Mo.set(P,d),S.querySelector(I)!==null||g==="style"&&S.querySelector(M1(P))||g==="script"&&S.querySelector(k1(P))||(g=S.createElement("link"),ta(g,"link",d),ve(g),S.head.appendChild(g)))}}function eve(d,g){Mc.m(d,g);var _=e0;if(_&&d){var S=g&&typeof g.as=="string"?g.as:"script",I='link[rel="modulepreload"][as="'+ai(S)+'"][href="'+ai(d)+'"]',P=I;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=r0(d)}if(!Mo.has(P)&&(d=c({rel:"modulepreload",href:d},g),Mo.set(P,d),_.querySelector(I)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(k1(P)))return}S=_.createElement("link"),ta(S,"link",d),ve(S),_.head.appendChild(S)}}}function tve(d,g,_){Mc.S(d,g,_);var S=e0;if(S&&d){var I=Re(S).hoistableStyles,P=t0(d);g=g||"default";var H=I.get(P);if(!H){var Z={loading:0,preload:null};if(H=S.querySelector(M1(P)))Z.loading=5;else{d=c({rel:"stylesheet",href:d,"data-precedence":g},_),(_=Mo.get(P))&&uM(d,_);var fe=H=S.createElement("link");ve(fe),ta(fe,"link",d),fe._p=new Promise(function(be,Ne){fe.onload=be,fe.onerror=Ne}),fe.addEventListener("load",function(){Z.loading|=1}),fe.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,ZS(H,g,S)}H={type:"stylesheet",instance:H,count:1,state:Z},I.set(P,H)}}}function rve(d,g){Mc.X(d,g);var _=e0;if(_&&d){var S=Re(_).hoistableScripts,I=r0(d),P=S.get(I);P||(P=_.querySelector(k1(I)),P||(d=c({src:d,async:!0},g),(g=Mo.get(I))&&cM(d,g),P=_.createElement("script"),ve(P),ta(P,"link",d),_.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(I,P))}}function nve(d,g){Mc.M(d,g);var _=e0;if(_&&d){var S=Re(_).hoistableScripts,I=r0(d),P=S.get(I);P||(P=_.querySelector(k1(I)),P||(d=c({src:d,async:!0,type:"module"},g),(g=Mo.get(I))&&cM(d,g),P=_.createElement("script"),ve(P),ta(P,"link",d),_.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(I,P))}}function w9(d,g,_,S){var I=(I=de.current)?KS(I):null;if(!I)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(g=t0(_.href),_=Re(I).hoistableStyles,S=_.get(g),S||(S={type:"style",instance:null,count:0,state:null},_.set(g,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){d=t0(_.href);var P=Re(I).hoistableStyles,H=P.get(d);if(H||(I=I.ownerDocument||I,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,H),(P=I.querySelector(M1(d)))&&!P._p&&(H.instance=P,H.state.loading=5),Mo.has(d)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},Mo.set(d,_),P||ive(I,d,_,H.state))),g&&S===null)throw Error(n(528,""));return H}if(g&&S!==null)throw Error(n(529,""));return null;case"script":return g=_.async,_=_.src,typeof _=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=r0(_),_=Re(I).hoistableScripts,S=_.get(g),S||(S={type:"script",instance:null,count:0,state:null},_.set(g,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function t0(d){return'href="'+ai(d)+'"'}function M1(d){return'link[rel="stylesheet"]['+d+"]"}function b9(d){return c({},d,{"data-precedence":d.precedence,precedence:null})}function ive(d,g,_,S){d.querySelector('link[rel="preload"][as="style"]['+g+"]")?S.loading=1:(g=d.createElement("link"),S.preload=g,g.addEventListener("load",function(){return S.loading|=1}),g.addEventListener("error",function(){return S.loading|=2}),ta(g,"link",_),ve(g),d.head.appendChild(g))}function r0(d){return'[src="'+ai(d)+'"]'}function k1(d){return"script[async]"+d}function S9(d,g,_){if(g.count++,g.instance===null)switch(g.type){case"style":var S=d.querySelector('style[data-href~="'+ai(_.href)+'"]');if(S)return g.instance=S,ve(S),S;var I=c({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return S=(d.ownerDocument||d).createElement("style"),ve(S),ta(S,"style",I),ZS(S,_.precedence,d),g.instance=S;case"stylesheet":I=t0(_.href);var P=d.querySelector(M1(I));if(P)return g.state.loading|=4,g.instance=P,ve(P),P;S=b9(_),(I=Mo.get(I))&&uM(S,I),P=(d.ownerDocument||d).createElement("link"),ve(P);var H=P;return H._p=new Promise(function(Z,fe){H.onload=Z,H.onerror=fe}),ta(P,"link",S),g.state.loading|=4,ZS(P,_.precedence,d),g.instance=P;case"script":return P=r0(_.src),(I=d.querySelector(k1(P)))?(g.instance=I,ve(I),I):(S=_,(I=Mo.get(P))&&(S=c({},_),cM(S,I)),d=d.ownerDocument||d,I=d.createElement("script"),ve(I),ta(I,"link",S),d.head.appendChild(I),g.instance=I);case"void":return null;default:throw Error(n(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(S=g.instance,g.state.loading|=4,ZS(S,_.precedence,d));return g.instance}function ZS(d,g,_){for(var S=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=S.length?S[S.length-1]:null,P=I,H=0;H<S.length;H++){var Z=S[H];if(Z.dataset.precedence===g)P=Z;else if(P!==I)break}P?P.parentNode.insertBefore(d,P.nextSibling):(g=_.nodeType===9?_.head:_,g.insertBefore(d,g.firstChild))}function uM(d,g){d.crossOrigin==null&&(d.crossOrigin=g.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=g.referrerPolicy),d.title==null&&(d.title=g.title)}function cM(d,g){d.crossOrigin==null&&(d.crossOrigin=g.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=g.referrerPolicy),d.integrity==null&&(d.integrity=g.integrity)}var QS=null;function T9(d,g,_){if(QS===null){var S=new Map,I=QS=new Map;I.set(_,S)}else I=QS,S=I.get(_),S||(S=new Map,I.set(_,S));if(S.has(d))return S;for(S.set(d,null),_=_.getElementsByTagName(d),I=0;I<_.length;I++){var P=_[I];if(!(P[ie]||P[Un]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var H=P.getAttribute(g)||"";H=d+H;var Z=S.get(H);Z?Z.push(P):S.set(H,[P])}}return S}function A9(d,g,_){d=d.ownerDocument||d,d.head.insertBefore(_,g==="title"?d.querySelector("head > title"):null)}function ave(d,g,_){if(_===1||g.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return d=g.disabled,typeof g.precedence=="string"&&d==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function E9(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var P1=null;function sve(){}function ove(d,g,_){if(P1===null)throw Error(n(475));var S=P1;if(g.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var I=t0(_.href),P=d.querySelector(M1(I));if(P){d=P._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(S.count++,S=JS.bind(S),d.then(S,S)),g.state.loading|=4,g.instance=P,ve(P);return}P=d.ownerDocument||d,_=b9(_),(I=Mo.get(I))&&uM(_,I),P=P.createElement("link"),ve(P);var H=P;H._p=new Promise(function(Z,fe){H.onload=Z,H.onerror=fe}),ta(P,"link",_),g.instance=P}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(g,d),(d=g.state.preload)&&(g.state.loading&3)===0&&(S.count++,g=JS.bind(S),d.addEventListener("load",g),d.addEventListener("error",g))}}function lve(){if(P1===null)throw Error(n(475));var d=P1;return d.stylesheets&&d.count===0&&fM(d,d.stylesheets),0<d.count?function(g){var _=setTimeout(function(){if(d.stylesheets&&fM(d,d.stylesheets),d.unsuspend){var S=d.unsuspend;d.unsuspend=null,S()}},6e4);return d.unsuspend=g,function(){d.unsuspend=null,clearTimeout(_)}}:null}function JS(){if(this.count--,this.count===0){if(this.stylesheets)fM(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var eT=null;function fM(d,g){d.stylesheets=null,d.unsuspend!==null&&(d.count++,eT=new Map,g.forEach(uve,d),eT=null,JS.call(d))}function uve(d,g){if(!(g.state.loading&4)){var _=eT.get(d);if(_)var S=_.get(null);else{_=new Map,eT.set(d,_);for(var I=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<I.length;P++){var H=I[P];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(_.set(H.dataset.precedence,H),S=H)}S&&_.set(null,S)}I=g.instance,H=I.getAttribute("data-precedence"),P=_.get(H)||S,P===S&&_.set(null,I),_.set(H,I),this.count++,S=JS.bind(this),I.addEventListener("load",S),I.addEventListener("error",S),P?P.parentNode.insertBefore(I,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(I,d.firstChild)),g.state.loading|=4}}var L1={$$typeof:b,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function cve(d,g,_,S,I,P,H,Z){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=S,this.onUncaughtError=I,this.onCaughtError=P,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function C9(d,g,_,S,I,P,H,Z,fe,be,Ne,Ve){return d=new cve(d,g,_,H,Z,fe,be,Ve),g=1,P===!0&&(g|=24),P=qs(3,null,null,g),d.current=P,P.stateNode=d,g=$I(),g.refCount++,d.pooledCache=g,g.refCount++,P.memoizedState={element:S,isDehydrated:_,cache:g},KI(P),d}function D9(d){return d?(d=Pg,d):Pg}function I9(d,g,_,S,I,P){I=D9(I),S.context===null?S.context=I:S.pendingContext=I,S=Mf(g),S.payload={element:_},P=P===void 0?null:P,P!==null&&(S.callback=P),_=kf(d,S,g),_!==null&&(Qs(_,d,g),c1(_,d,g))}function R9(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<g?_:g}}function hM(d,g){R9(d,g),(d=d.alternate)&&R9(d,g)}function M9(d){if(d.tag===13){var g=kg(d,67108864);g!==null&&Qs(g,d,67108864),hM(d,67108864)}}var tT=!0;function fve(d,g,_,S){var I=z.T;z.T=null;var P=Y.p;try{Y.p=2,dM(d,g,_,S)}finally{Y.p=P,z.T=I}}function hve(d,g,_,S){var I=z.T;z.T=null;var P=Y.p;try{Y.p=8,dM(d,g,_,S)}finally{Y.p=P,z.T=I}}function dM(d,g,_,S){if(tT){var I=pM(S);if(I===null)eM(d,g,S,rT,_),P9(d,S);else if(pve(I,d,g,_,S))S.stopPropagation();else if(P9(d,S),g&4&&-1<dve.indexOf(d)){for(;I!==null;){var P=ce(I);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var H=pn(P.pendingLanes);if(H!==0){var Z=P;for(Z.pendingLanes|=2,Z.entangledLanes|=2;H;){var fe=1<<31-dt(H);Z.entanglements[1]|=fe,H&=~fe}vu(P),(jr&6)===0&&(VS=Ue()+500,C1(0))}}break;case 13:Z=kg(P,2),Z!==null&&Qs(Z,P,2),US(),hM(P,2)}if(P=pM(S),P===null&&eM(d,g,S,rT,_),P===I)break;I=P}I!==null&&S.stopPropagation()}else eM(d,g,S,null,_)}}function pM(d){return d=bo(d),vM(d)}var rT=null;function vM(d){if(rT=null,d=oe(d),d!==null){var g=a(d);if(g===null)d=null;else{var _=g.tag;if(_===13){if(d=s(g),d!==null)return d;d=null}else if(_===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null)}}return rT=d,null}function k9(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case vr:return 2;case en:return 8;case Gr:case ni:return 32;case Or:return 268435456;default:return 32}default:return 32}}var gM=!1,Wf=null,$f=null,qf=null,O1=new Map,N1=new Map,Yf=[],dve="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P9(d,g){switch(d){case"focusin":case"focusout":Wf=null;break;case"dragenter":case"dragleave":$f=null;break;case"mouseover":case"mouseout":qf=null;break;case"pointerover":case"pointerout":O1.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":N1.delete(g.pointerId)}}function F1(d,g,_,S,I,P){return d===null||d.nativeEvent!==P?(d={blockedOn:g,domEventName:_,eventSystemFlags:S,nativeEvent:P,targetContainers:[I]},g!==null&&(g=ce(g),g!==null&&M9(g)),d):(d.eventSystemFlags|=S,g=d.targetContainers,I!==null&&g.indexOf(I)===-1&&g.push(I),d)}function pve(d,g,_,S,I){switch(g){case"focusin":return Wf=F1(Wf,d,g,_,S,I),!0;case"dragenter":return $f=F1($f,d,g,_,S,I),!0;case"mouseover":return qf=F1(qf,d,g,_,S,I),!0;case"pointerover":var P=I.pointerId;return O1.set(P,F1(O1.get(P)||null,d,g,_,S,I)),!0;case"gotpointercapture":return P=I.pointerId,N1.set(P,F1(N1.get(P)||null,d,g,_,S,I)),!0}return!1}function L9(d){var g=oe(d.target);if(g!==null){var _=a(g);if(_!==null){if(g=_.tag,g===13){if(g=s(_),g!==null){d.blockedOn=g,mg(d.priority,function(){if(_.tag===13){var S=Zs();S=eu(S);var I=kg(_,S);I!==null&&Qs(I,_,S),hM(_,S)}});return}}else if(g===3&&_.stateNode.current.memoizedState.isDehydrated){d.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}d.blockedOn=null}function nT(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var _=pM(d.nativeEvent);if(_===null){_=d.nativeEvent;var S=new _.constructor(_.type,_);dc=S,_.target.dispatchEvent(S),dc=null}else return g=ce(_),g!==null&&M9(g),d.blockedOn=_,!1;g.shift()}return!0}function O9(d,g,_){nT(d)&&_.delete(g)}function vve(){gM=!1,Wf!==null&&nT(Wf)&&(Wf=null),$f!==null&&nT($f)&&($f=null),qf!==null&&nT(qf)&&(qf=null),O1.forEach(O9),N1.forEach(O9)}function iT(d,g){d.blockedOn===g&&(d.blockedOn=null,gM||(gM=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vve)))}var aT=null;function N9(d){aT!==d&&(aT=d,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){aT===d&&(aT=null);for(var g=0;g<d.length;g+=3){var _=d[g],S=d[g+1],I=d[g+2];if(typeof S!="function"){if(vM(S||_)===null)continue;break}var P=ce(_);P!==null&&(d.splice(g,3),g-=3,vR(P,{pending:!0,data:I,method:_.method,action:S},S,I))}}))}function B1(d){function g(fe){return iT(fe,d)}Wf!==null&&iT(Wf,d),$f!==null&&iT($f,d),qf!==null&&iT(qf,d),O1.forEach(g),N1.forEach(g);for(var _=0;_<Yf.length;_++){var S=Yf[_];S.blockedOn===d&&(S.blockedOn=null)}for(;0<Yf.length&&(_=Yf[0],_.blockedOn===null);)L9(_),_.blockedOn===null&&Yf.shift();if(_=(d.ownerDocument||d).$$reactFormReplay,_!=null)for(S=0;S<_.length;S+=3){var I=_[S],P=_[S+1],H=I[vn]||null;if(typeof P=="function")H||N9(_);else if(H){var Z=null;if(P&&P.hasAttribute("formAction")){if(I=P,H=P[vn]||null)Z=H.formAction;else if(vM(I)!==null)continue}else Z=H.action;typeof Z=="function"?_[S+1]=Z:(_.splice(S,3),S-=3),N9(_)}}}function mM(d){this._internalRoot=d}sT.prototype.render=mM.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(n(409));var _=g.current,S=Zs();I9(_,S,d,g,null,null)},sT.prototype.unmount=mM.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;I9(d.current,2,null,d,null,null),US(),g[ws]=null}};function sT(d){this._internalRoot=d}sT.prototype.unstable_scheduleHydration=function(d){if(d){var g=tu();d={blockedOn:null,target:d,priority:g};for(var _=0;_<Yf.length&&g!==0&&g<Yf[_].priority;_++);Yf.splice(_,0,d),_===0&&L9(d)}};var F9=e.version;if(F9!=="19.1.0")throw Error(n(527,F9,"19.1.0"));Y.findDOMNode=function(d){var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=l(g),d=d!==null?u(d):null,d=d===null?null:d.stateNode,d};var gve={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oT.isDisabled&&oT.supportsFiber)try{We=oT.inject(gve),qe=oT}catch{}}return z1.createRoot=function(d,g){if(!i(d))throw Error(n(299));var _=!1,S="",I=Jz,P=e8,H=t8,Z=null;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&(I=g.onUncaughtError),g.onCaughtError!==void 0&&(P=g.onCaughtError),g.onRecoverableError!==void 0&&(H=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Z=g.unstable_transitionCallbacks)),g=C9(d,1,!1,null,null,_,S,I,P,H,Z,null),d[ws]=g.current,JR(d),new mM(g)},z1.hydrateRoot=function(d,g,_){if(!i(d))throw Error(n(299));var S=!1,I="",P=Jz,H=e8,Z=t8,fe=null,be=null;return _!=null&&(_.unstable_strictMode===!0&&(S=!0),_.identifierPrefix!==void 0&&(I=_.identifierPrefix),_.onUncaughtError!==void 0&&(P=_.onUncaughtError),_.onCaughtError!==void 0&&(H=_.onCaughtError),_.onRecoverableError!==void 0&&(Z=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(fe=_.unstable_transitionCallbacks),_.formState!==void 0&&(be=_.formState)),g=C9(d,1,!0,g,_??null,S,I,P,H,Z,fe,be),g.context=D9(null),_=g.current,S=Zs(),S=eu(S),I=Mf(S),I.callback=null,kf(_,I,S),_=S,g.current.lanes=_,Gs(g,_),vu(g),d[ws]=g.current,JR(d),new sT(g)},z1.version="19.1.0",z1}var q9;function Cve(){if(q9)return xM.exports;q9=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xM.exports=Eve(),xM.exports}var Dve=Cve();KQ();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zx(){return zx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zx.apply(this,arguments)}var wh;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(wh||(wh={}));const Y9="popstate";function Ive(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return cO("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:RA(i)}return Mve(e,t,null,r)}function yi(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ZQ(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rve(){return Math.random().toString(36).substr(2,8)}function X9(r,e){return{usr:r.state,key:r.key,idx:e}}function cO(r,e,t,n){return t===void 0&&(t=null),zx({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?ny(e):e,{state:t,key:e&&e.key||n||Rve()})}function RA(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ny(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Mve(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=wh.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(zx({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=wh.Pop;let y=c(),x=y==null?null:y-u;u=y,l&&l({action:o,location:m.location,delta:x})}function h(y,x){o=wh.Push;let w=cO(m.location,y,x);u=c()+1;let b=X9(w,u),T=m.createHref(w);try{s.pushState(b,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}a&&l&&l({action:o,location:m.location,delta:1})}function p(y,x){o=wh.Replace;let w=cO(m.location,y,x);u=c();let b=X9(w,u),T=m.createHref(w);s.replaceState(b,"",T),a&&l&&l({action:o,location:m.location,delta:0})}function v(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:RA(y);return w=w.replace(/ $/,"%20"),yi(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return o},get location(){return r(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Y9,f),l=y,()=>{i.removeEventListener(Y9,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return s.go(y)}};return m}var K9;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(K9||(K9={}));function kve(r,e,t){return t===void 0&&(t="/"),Pve(r,e,t)}function Pve(r,e,t,n){let i=typeof e=="string"?ny(e):e,a=C3(i.pathname||"/",t);if(a==null)return null;let s=QQ(r);Lve(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=$ve(a);o=Gve(s[l],u)}return o}function QQ(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(yi(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Oh([n,l.relativePath]),c=t.concat(l);a.children&&a.children.length>0&&(yi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QQ(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Uve(u,a.index),routesMeta:c})};return r.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of JQ(a.path))i(a,s,l)}),e}function JQ(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=JQ(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function Lve(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Hve(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Ove=/^:[\w-]+$/,Nve=3,Fve=2,Bve=1,Vve=10,zve=-2,Z9=r=>r==="*";function Uve(r,e){let t=r.split("/"),n=t.length;return t.some(Z9)&&(n+=zve),e&&(n+=Fve),t.filter(i=>!Z9(i)).reduce((i,a)=>i+(Ove.test(a)?Nve:a===""?Bve:Vve),n)}function Hve(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Gve(r,e,t){let{routesMeta:n}=r,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=jve({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Oh([a,f.pathname]),pathnameBase:Kve(Oh([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Oh([a,f.pathnameBase]))}return s}function jve(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Wve(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let m=o[f]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:r}}function Wve(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ZQ(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $ve(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZQ(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function C3(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function qve(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ny(r):r;return{pathname:t?t.startsWith("/")?t:Yve(t,e):e,search:Zve(n),hash:Qve(i)}}function Yve(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function TM(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xve(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eJ(r,e){let t=Xve(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function tJ(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=ny(r):(i=zx({},r),yi(!i.pathname||!i.pathname.includes("?"),TM("?","pathname","search",i)),yi(!i.pathname||!i.pathname.includes("#"),TM("#","pathname","hash",i)),yi(!i.search||!i.search.includes("#"),TM("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=t;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=qve(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Oh=r=>r.join("/").replace(/\/\/+/g,"/"),Kve=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Zve=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Qve=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Jve(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const rJ=["post","put","patch","delete"];new Set(rJ);const ege=["get",...rJ];new Set(ege);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ux(){return Ux=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ux.apply(this,arguments)}const D3=ue.createContext(null),tge=ue.createContext(null),qv=ue.createContext(null),UC=ue.createContext(null),Yv=ue.createContext({outlet:null,matches:[],isDataRoute:!1}),nJ=ue.createContext(null);function rge(r,e){let{relative:t}=e===void 0?{}:e;jw()||yi(!1);let{basename:n,navigator:i}=ue.useContext(qv),{hash:a,pathname:s,search:o}=aJ(r,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Oh([n,s])),i.createHref({pathname:l,search:o,hash:a})}function jw(){return ue.useContext(UC)!=null}function Ww(){return jw()||yi(!1),ue.useContext(UC).location}function iJ(r){ue.useContext(qv).static||ue.useLayoutEffect(r)}function Sf(){let{isDataRoute:r}=ue.useContext(Yv);return r?vge():nge()}function nge(){jw()||yi(!1);let r=ue.useContext(D3),{basename:e,future:t,navigator:n}=ue.useContext(qv),{matches:i}=ue.useContext(Yv),{pathname:a}=Ww(),s=JSON.stringify(eJ(i,t.v7_relativeSplatPath)),o=ue.useRef(!1);return iJ(()=>{o.current=!0}),ue.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=tJ(u,JSON.parse(s),a,c.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Oh([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,a,r])}function aJ(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=ue.useContext(qv),{matches:i}=ue.useContext(Yv),{pathname:a}=Ww(),s=JSON.stringify(eJ(i,n.v7_relativeSplatPath));return ue.useMemo(()=>tJ(r,JSON.parse(s),a,t==="path"),[r,s,a,t])}function ige(r,e){return age(r,e)}function age(r,e,t,n){jw()||yi(!1);let{navigator:i}=ue.useContext(qv),{matches:a}=ue.useContext(Yv),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ww(),c;if(e){var f;let y=typeof e=="string"?ny(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||yi(!1),c=y}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=kve(r,{pathname:p}),m=cge(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Oh([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Oh([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,n);return e&&m?ue.createElement(UC.Provider,{value:{location:Ux({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:wh.Pop}},m):m}function sge(){let r=pge(),e=Jve(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),t?ue.createElement("pre",{style:i},t):null,null)}const oge=ue.createElement(sge,null);class lge extends ue.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ue.createElement(Yv.Provider,{value:this.props.routeContext},ue.createElement(nJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uge(r){let{routeContext:e,match:t,children:n}=r,i=ue.useContext(D3);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ue.createElement(Yv.Provider,{value:e},n)}function cge(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=(i=t)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);c>=0||yi(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=t,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let p,v=!1,m=null,y=null;t&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||oge,l&&(u<0&&h===0?(gge("route-fallback"),v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=m:v?b=y:f.route.Component?b=ue.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,ue.createElement(uge,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ue.createElement(lge,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var sJ=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(sJ||{}),oJ=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(oJ||{});function fge(r){let e=ue.useContext(D3);return e||yi(!1),e}function hge(r){let e=ue.useContext(tge);return e||yi(!1),e}function dge(r){let e=ue.useContext(Yv);return e||yi(!1),e}function lJ(r){let e=dge(),t=e.matches[e.matches.length-1];return t.route.id||yi(!1),t.route.id}function pge(){var r;let e=ue.useContext(nJ),t=hge(),n=lJ();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function vge(){let{router:r}=fge(sJ.UseNavigateStable),e=lJ(oJ.UseNavigateStable),t=ue.useRef(!1);return iJ(()=>{t.current=!0}),ue.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Ux({fromRouteId:e},a)))},[r,e])}const Q9={};function gge(r,e,t){Q9[r]||(Q9[r]=!0)}function mge(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Vo(r){yi(!1)}function yge(r){let{basename:e="/",children:t=null,location:n,navigationType:i=wh.Pop,navigator:a,static:s=!1,future:o}=r;jw()&&yi(!1);let l=e.replace(/^\/*/,"/"),u=ue.useMemo(()=>({basename:l,navigator:a,static:s,future:Ux({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=ny(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,m=ue.useMemo(()=>{let y=C3(c,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:v},navigationType:i}},[l,c,f,h,p,v,i]);return m==null?null:ue.createElement(qv.Provider,{value:u},ue.createElement(UC.Provider,{children:t,value:m}))}function _ge(r){let{children:e,location:t}=r;return ige(fO(e),t)}new Promise(()=>{});function fO(r,e){e===void 0&&(e=[]);let t=[];return ue.Children.forEach(r,(n,i)=>{if(!ue.isValidElement(n))return;let a=[...e,i];if(n.type===ue.Fragment){t.push.apply(t,fO(n.props.children,a));return}n.type!==Vo&&yi(!1),!n.props.index||!n.props.children||yi(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=fO(n.props.children,a)),t.push(s)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hO(){return hO=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hO.apply(this,arguments)}function xge(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function wge(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function bge(r,e){return r.button===0&&(!e||e==="_self")&&!wge(r)}const Sge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tge="6";try{window.__reactRouterVersion=Tge}catch{}const Age="startTransition",J9=bve[Age];function Ege(r){let{basename:e,children:t,future:n,window:i}=r,a=ue.useRef();a.current==null&&(a.current=Ive({window:i,v5Compat:!0}));let s=a.current,[o,l]=ue.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=ue.useCallback(f=>{u&&J9?J9(()=>l(f)):l(f)},[l,u]);return ue.useLayoutEffect(()=>s.listen(c),[s,c]),ue.useEffect(()=>mge(n),[n]),ue.createElement(yge,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,future:n})}const Cge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vc=ue.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=xge(e,Sge),{basename:p}=ue.useContext(qv),v,m=!1;if(typeof u=="string"&&Dge.test(u)&&(v=u,Cge))try{let b=new URL(window.location.href),T=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=C3(T.pathname,p);T.origin===b.origin&&C!=null?u=C+T.search+T.hash:m=!0}catch{}let y=rge(u,{relative:i}),x=Ige(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||x(b)}return ue.createElement("a",hO({},h,{href:v||y,onClick:m||a?n:w,ref:t,target:l}))});var eU;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(eU||(eU={}));var tU;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(tU||(tU={}));function Ige(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Sf(),u=Ww(),c=aJ(r,{relative:s});return ue.useCallback(f=>{if(bge(f,t)){f.preventDefault();let h=n!==void 0?n:RA(u)===RA(c);l(r,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,t,r,a,s,o])}const Rge=()=>{};var rU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Mge=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],s=r[t++],o=r[t++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=r[t++],s=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},cJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],s=i+1<r.length,o=s?r[i+1]:0,l=i+2<r.length,u=l?r[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),n.push(t[c],t[f],t[h],t[p])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(uJ(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Mge(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],o=i<r.length?t[r.charAt(i)]:0;++i;const u=i<r.length?t[r.charAt(i)]:64;++i;const f=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new kge;const h=a<<2|o>>4;if(n.push(h),u!==64){const p=o<<4&240|u>>2;if(n.push(p),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pge=function(r){const e=uJ(r);return cJ.encodeByteArray(e,!0)},MA=function(r){return Pge(r).replace(/\./g,"")},fJ=function(r){try{return cJ.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oge=()=>Lge().__FIREBASE_DEFAULTS__,Nge=()=>{if(typeof process>"u"||typeof rU>"u")return;const r=rU.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fge=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fJ(r[1]);return e&&JSON.parse(e)},HC=()=>{try{return Rge()||Oge()||Nge()||Fge()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hJ=r=>HC()?.emulatorHosts?.[r],dJ=r=>{const e=hJ(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},pJ=()=>HC()?.config,vJ=r=>HC()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I3(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...r};return[MA(JSON.stringify(t)),MA(JSON.stringify(s)),""].join(".")}const ex={};function Vge(){const r={prod:[],emulator:[]};for(const e of Object.keys(ex))ex[e]?r.emulator.push(e):r.prod.push(e);return r}function zge(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let nU=!1;function R3(r,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||ex[r]===e||ex[r]||nU)return;ex[r]=e;function t(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=Vge().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{nU=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=zge(n),p=t("text"),v=document.getElementById(p)||document.createElement("span"),m=t("learnmore"),y=document.getElementById(m)||document.createElement("a"),x=t("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),c(y,m);const T=u();l(w,x),b.append(w,v,y,T),document.body.appendChild(b)}a?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(za())}function Hge(){const r=HC()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gge(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jge(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wge(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $ge(){const r=za();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qge(){return!Hge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yge(){try{return typeof indexedDB=="object"}catch{return!1}}function Xge(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kge="FirebaseError";class ac extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Kge,Object.setPrototypeOf(this,ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$w.prototype.create)}}class $w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Zge(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ac(i,o,n)}}function Zge(r,e){return r.replace(Qge,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Qge=/\{\$([^}]+)}/g;function Jge(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Tv(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],s=e[i];if(iU(a)&&iU(s)){if(!Tv(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function iU(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function M_(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function k_(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function e0e(r,e){const t=new t0e(r,e);return t.subscribe.bind(t)}class t0e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");r0e(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=AM),i.error===void 0&&(i.error=AM),i.complete===void 0&&(i.complete=AM);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r0e(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function AM(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r){return r&&r._delegate?r._delegate:r}class Yh{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Bge;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a0e(e))try{this.getOrInitializeService({instanceIdentifier:kp})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=kp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kp){return this.instances.has(e)}getOptions(e=kp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:i0e(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=kp){return this.component?this.component.multipleInstances?e:kp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i0e(r){return r===kp?void 0:r}function a0e(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new n0e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ur||(ur={}));const o0e={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},l0e=ur.INFO,u0e={[ur.DEBUG]:"log",[ur.VERBOSE]:"log",[ur.INFO]:"info",[ur.WARN]:"warn",[ur.ERROR]:"error"},c0e=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=u0e[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M3{constructor(e){this.name=e,this._logLevel=l0e,this._logHandler=c0e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o0e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ur.DEBUG,...e),this._logHandler(this,ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ur.VERBOSE,...e),this._logHandler(this,ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ur.INFO,...e),this._logHandler(this,ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ur.WARN,...e),this._logHandler(this,ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ur.ERROR,...e),this._logHandler(this,ur.ERROR,...e)}}const f0e=(r,e)=>e.some(t=>r instanceof t);let aU,sU;function h0e(){return aU||(aU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d0e(){return sU||(sU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mJ=new WeakMap,dO=new WeakMap,yJ=new WeakMap,EM=new WeakMap,k3=new WeakMap;function p0e(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",s)},a=()=>{t(Nh(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&mJ.set(t,r)}).catch(()=>{}),k3.set(e,r),e}function v0e(r){if(dO.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",s),r.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",s),r.addEventListener("abort",s)});dO.set(r,e)}let pO={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return dO.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yJ.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nh(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function g0e(r){pO=r(pO)}function m0e(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(CM(this),e,...t);return yJ.set(n,e.sort?e.sort():[e]),Nh(n)}:d0e().includes(r)?function(...e){return r.apply(CM(this),e),Nh(mJ.get(this))}:function(...e){return Nh(r.apply(CM(this),e))}}function y0e(r){return typeof r=="function"?m0e(r):(r instanceof IDBTransaction&&v0e(r),f0e(r,h0e())?new Proxy(r,pO):r)}function Nh(r){if(r instanceof IDBRequest)return p0e(r);if(EM.has(r))return EM.get(r);const e=y0e(r);return e!==r&&(EM.set(r,e),k3.set(e,r)),e}const CM=r=>k3.get(r);function _0e(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(r,e),o=Nh(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Nh(s.result),l.oldVersion,l.newVersion,Nh(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const x0e=["get","getKey","getAll","getAllKeys","count"],w0e=["put","add","delete","clear"],DM=new Map;function oU(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(DM.get(e))return DM.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=w0e.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||x0e.includes(t)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),i&&l.done]))[0]};return DM.set(e,a),a}g0e(r=>({...r,get:(e,t,n)=>oU(e,t)||r.get(e,t,n),has:(e,t)=>!!oU(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(S0e(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function S0e(r){return r.getComponent()?.type==="VERSION"}const vO="@firebase/app",lU="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new M3("@firebase/app"),T0e="@firebase/app-compat",A0e="@firebase/analytics-compat",E0e="@firebase/analytics",C0e="@firebase/app-check-compat",D0e="@firebase/app-check",I0e="@firebase/auth",R0e="@firebase/auth-compat",M0e="@firebase/database",k0e="@firebase/data-connect",P0e="@firebase/database-compat",L0e="@firebase/functions",O0e="@firebase/functions-compat",N0e="@firebase/installations",F0e="@firebase/installations-compat",B0e="@firebase/messaging",V0e="@firebase/messaging-compat",z0e="@firebase/performance",U0e="@firebase/performance-compat",H0e="@firebase/remote-config",G0e="@firebase/remote-config-compat",j0e="@firebase/storage",W0e="@firebase/storage-compat",$0e="@firebase/firestore",q0e="@firebase/ai",Y0e="@firebase/firestore-compat",X0e="firebase",K0e="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="[DEFAULT]",Z0e={[vO]:"fire-core",[T0e]:"fire-core-compat",[E0e]:"fire-analytics",[A0e]:"fire-analytics-compat",[D0e]:"fire-app-check",[C0e]:"fire-app-check-compat",[I0e]:"fire-auth",[R0e]:"fire-auth-compat",[M0e]:"fire-rtdb",[k0e]:"fire-data-connect",[P0e]:"fire-rtdb-compat",[L0e]:"fire-fn",[O0e]:"fire-fn-compat",[N0e]:"fire-iid",[F0e]:"fire-iid-compat",[B0e]:"fire-fcm",[V0e]:"fire-fcm-compat",[z0e]:"fire-perf",[U0e]:"fire-perf-compat",[H0e]:"fire-rc",[G0e]:"fire-rc-compat",[j0e]:"fire-gcs",[W0e]:"fire-gcs-compat",[$0e]:"fire-fst",[Y0e]:"fire-fst-compat",[q0e]:"fire-vertex","fire-js":"fire-js",[X0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new Map,Q0e=new Map,mO=new Map;function uU(r,e){try{r.container.addComponent(e)}catch(t){lf.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Av(r){const e=r.name;if(mO.has(e))return lf.debug(`There were multiple attempts to register component ${e}.`),!1;mO.set(e,r);for(const t of kA.values())uU(t,r);for(const t of Q0e.values())uU(t,r);return!0}function GC(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function no(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fh=new $w("app","Firebase",J0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=K0e;function P3(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:gO,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Fh.create("bad-app-name",{appName:String(i)});if(t||(t=pJ()),!t)throw Fh.create("no-options");const a=kA.get(i);if(a){if(Tv(t,a.options)&&Tv(n,a.config))return a;throw Fh.create("duplicate-app",{appName:i})}const s=new s0e(i);for(const l of mO.values())s.addComponent(l);const o=new eme(t,n,s);return kA.set(i,o),o}function L3(r=gO){const e=kA.get(r);if(!e&&r===gO&&pJ())return P3();if(!e)throw Fh.create("no-app",{appName:r});return e}function Bu(r,e,t){let n=Z0e[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lf.warn(s.join(" "));return}Av(new Yh(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tme="firebase-heartbeat-database",rme=1,Hx="firebase-heartbeat-store";let IM=null;function _J(){return IM||(IM=_0e(tme,rme,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hx)}catch(t){console.warn(t)}}}}).catch(r=>{throw Fh.create("idb-open",{originalErrorMessage:r.message})})),IM}async function nme(r){try{const t=(await _J()).transaction(Hx),n=await t.objectStore(Hx).get(xJ(r));return await t.done,n}catch(e){if(e instanceof ac)lf.warn(e.message);else{const t=Fh.create("idb-get",{originalErrorMessage:e?.message});lf.warn(t.message)}}}async function cU(r,e){try{const n=(await _J()).transaction(Hx,"readwrite");await n.objectStore(Hx).put(e,xJ(r)),await n.done}catch(t){if(t instanceof ac)lf.warn(t.message);else{const n=Fh.create("idb-set",{originalErrorMessage:t?.message});lf.warn(n.message)}}}function xJ(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ime=1024,ame=30;class sme{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lme(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=fU();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>ame){const i=ume(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lf.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fU(),{heartbeatsToSend:t,unsentEntries:n}=ome(this._heartbeatsCache.heartbeats),i=MA(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return lf.warn(e),""}}}function fU(){return new Date().toISOString().substring(0,10)}function ome(r,e=ime){const t=[];let n=r.slice();for(const i of r){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),hU(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hU(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class lme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yge()?Xge().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nme(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return cU(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return cU(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function hU(r){return MA(JSON.stringify({version:2,heartbeats:r})).length}function ume(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cme(r){Av(new Yh("platform-logger",e=>new b0e(e),"PRIVATE")),Av(new Yh("heartbeat",e=>new sme(e),"PRIVATE")),Bu(vO,lU,r),Bu(vO,lU,"esm2020"),Bu("fire-js","")}cme("");var fme="firebase",hme="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bu(fme,hme,"app");function wJ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dme=wJ,bJ=new $w("auth","Firebase",wJ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new M3("@firebase/auth");function pme(r,...e){PA.logLevel<=ur.WARN&&PA.warn(`Auth (${Xv}): ${r}`,...e)}function q2(r,...e){PA.logLevel<=ur.ERROR&&PA.error(`Auth (${Xv}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r,...e){throw O3(r,...e)}function Vu(r,...e){return O3(r,...e)}function SJ(r,e,t){const n={...dme(),[e]:t};return new $w("auth","Firebase",n).create(e,{appName:r.name})}function Jc(r){return SJ(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O3(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return bJ.create(r,...e)}function Lt(r,e,...t){if(!r)throw O3(e,...t)}function Gc(r){const e="INTERNAL ASSERTION FAILED: "+r;throw q2(e),new Error(e)}function uf(r,e){r||Gc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return typeof self<"u"&&self.location?.href||""}function vme(){return dU()==="http:"||dU()==="https:"}function dU(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vme()||jge()||"connection"in navigator)?navigator.onLine:!0}function mme(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.shortDelay=e,this.longDelay=t,uf(t>e,"Short delay should be less than long delay!"),this.isMobile=Uge()||Wge()}get(){return gme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(r,e){uf(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _me=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xme=new Yw(3e4,6e4);function vd(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function gd(r,e,t,n,i={}){return AJ(r,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=qw({key:r.config.apiKey,...s}).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const u={method:e,headers:l,...a};return Gge()||(u.referrerPolicy="no-referrer"),r.emulatorConfig&&pd(r.emulatorConfig.host)&&(u.credentials="include"),TJ.fetch()(await EJ(r,r.config.apiHost,t,o),u)})}async function AJ(r,e,t){r._canInitEmulator=!1;const n={...yme,...e};try{const i=new bme(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw lT(r,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lT(r,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw lT(r,"email-already-in-use",s);if(l==="USER_DISABLED")throw lT(r,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SJ(r,c,u);Hl(r,c)}}catch(i){if(i instanceof ac)throw i;Hl(r,"network-request-failed",{message:String(i)})}}async function Xw(r,e,t,n,i={}){const a=await gd(r,e,t,n,i);return"mfaPendingCredential"in a&&Hl(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function EJ(r,e,t,n){const i=`${e}${t}?${n}`,a=r,s=a.config.emulator?N3(r.config,i):`${r.config.apiScheme}://${i}`;return _me.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function wme(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bme{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Vu(this.auth,"network-request-failed")),xme.get())})}}function lT(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Vu(r,e,n);return i.customData._tokenResponse=t,i}function pU(r){return r!==void 0&&r.enterprise!==void 0}class Sme{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wme(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tme(r,e){return gd(r,"GET","/v2/recaptchaConfig",vd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ame(r,e){return gd(r,"POST","/v1/accounts:delete",e)}async function LA(r,e){return gd(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Eme(r,e=!1){const t=Jn(r),n=await t.getIdToken(e),i=F3(n);Lt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:tx(RM(i.auth_time)),issuedAtTime:tx(RM(i.iat)),expirationTime:tx(RM(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function RM(r){return Number(r)*1e3}function F3(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return q2("JWT malformed, contained fewer than 3 sections"),null;try{const i=fJ(t);return i?JSON.parse(i):(q2("Failed to decode base64 JWT payload"),null)}catch(i){return q2("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vU(r){const e=F3(r);return Lt(e,"internal-error"),Lt(typeof e.exp<"u","internal-error"),Lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ac&&Cme(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function Cme({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tx(this.lastLoginAt),this.creationTime=tx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r){const e=r.auth,t=await r.getIdToken(),n=await Gx(r,LA(e,{idToken:t}));Lt(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const a=i.providerUserInfo?.length?CJ(i.providerUserInfo):[],s=Rme(r.providerData,a),o=r.isAnonymous,l=!(r.email&&i.passwordHash)&&!s?.length,u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _O(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(r,c)}async function Ime(r){const e=Jn(r);await OA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rme(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function CJ(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mme(r,e){const t=await AJ(r,{},async()=>{const n=qw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,s=await EJ(r,i,"/v1/token",`key=${a}`),o=await r._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return r.emulatorConfig&&pd(r.emulatorConfig.host)&&(l.credentials="include"),TJ.fetch()(s,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kme(r,e){return gd(r,"POST","/v2/accounts:revokeToken",vd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lt(e.idToken,"internal-error"),Lt(typeof e.idToken<"u","internal-error"),Lt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Lt(e.length!==0,"internal-error");const t=vU(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await Mme(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,s=new rm;return n&&(Lt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Lt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rm,this.toJSON())}_performRefresh(){return Gc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(r,e){Lt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Rl{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Dme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _O(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Gx(this,this.stsTokenManager.getToken(this.auth,e));return Lt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Eme(this,e)}reload(){return Ime(this)}_assign(e){this!==e&&(Lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await OA(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(no(this.auth.app))return Promise.reject(Jc(this.auth));const e=await this.getIdToken();return await Gx(this,Ame(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,s=t.photoURL??void 0,o=t.tenantId??void 0,l=t._redirectEventId??void 0,u=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:m}=t;Lt(f&&m,e,"internal-error");const y=rm.fromJSON(this.name,m);Lt(typeof f=="string",e,"internal-error"),Kf(n,e.name),Kf(i,e.name),Lt(typeof h=="boolean",e,"internal-error"),Lt(typeof p=="boolean",e,"internal-error"),Kf(a,e.name),Kf(s,e.name),Kf(o,e.name),Kf(l,e.name),Kf(u,e.name),Kf(c,e.name);const x=new Rl({uid:f,auth:e,email:i,emailVerified:h,displayName:n,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:u,lastLoginAt:c});return v&&Array.isArray(v)&&(x.providerData=v.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,t,n=!1){const i=new rm;i.updateFromServerResponse(t);const a=new Rl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await OA(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Lt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?CJ(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,o=new rm;o.updateFromIdToken(n);const l=new Rl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _O(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new Map;function jc(r){uf(r instanceof Function,"Expected a class definition");let e=gU.get(r);return e?(uf(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gU.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DJ.type="NONE";const mU=DJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r,e,t){return`firebase:${r}:${e}:${t}`}class nm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Y2(this.userKey,i.apiKey,a),this.fullPersistenceKey=Y2("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await LA(this.auth,{idToken:e}).catch(()=>{});return t?Rl._fromGetAccountInfoResponse(this.auth,t,e):null}return Rl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new nm(jc(mU),e,n);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||jc(mU);const s=Y2(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await LA(e,{idToken:c}).catch(()=>{});if(!h)break;f=await Rl._fromGetAccountInfoResponse(e,h,c)}else f=Rl._fromJSON(e,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new nm(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new nm(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kJ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IJ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LJ(e))return"Blackberry";if(OJ(e))return"Webos";if(RJ(e))return"Safari";if((e.includes("chrome/")||MJ(e))&&!e.includes("edge/"))return"Chrome";if(PJ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function IJ(r=za()){return/firefox\//i.test(r)}function RJ(r=za()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MJ(r=za()){return/crios\//i.test(r)}function kJ(r=za()){return/iemobile/i.test(r)}function PJ(r=za()){return/android/i.test(r)}function LJ(r=za()){return/blackberry/i.test(r)}function OJ(r=za()){return/webos/i.test(r)}function B3(r=za()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Pme(r=za()){return B3(r)&&!!window.navigator?.standalone}function Lme(){return $ge()&&document.documentMode===10}function NJ(r=za()){return B3(r)||PJ(r)||OJ(r)||LJ(r)||/windows phone/i.test(r)||kJ(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(r,e=[]){let t;switch(r){case"Browser":t=yU(za());break;case"Worker":t=`${yU(za())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nme(r,e={}){return gd(r,"GET","/v2/passwordPolicy",vd(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fme=6;class Bme{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Fme,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vme{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _U(this),this.idTokenSubscription=new _U(this),this.beforeStateQueue=new Ome(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bJ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nm.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await LA(this,{idToken:e}),n=await Rl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(no(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=n?._redirectEventId,o=await this.tryRedirectSignIn(e);(!a||a===s)&&o?.user&&(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await OA(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mme()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(no(this.app))return Promise.reject(Jc(this));const t=e?Jn(e):null;return t&&Lt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return no(this.app)?Promise.reject(Jc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return no(this.app)?Promise.reject(Jc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nme(this),t=new Bme(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $w("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await kme(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jc(e)||this._popupRedirectResolver;Lt(t,this,"argument-error"),this.redirectPersistenceManager=await nm.create(this,[jc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FJ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(no(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pme(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kv(r){return Jn(r)}class _U{constructor(e){this.auth=e,this.observer=null,this.addObserver=e0e(t=>this.observer=t)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zme(r){jC=r}function BJ(r){return jC.loadJS(r)}function Ume(){return jC.recaptchaEnterpriseScript}function Hme(){return jC.gapiScript}function Gme(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class jme{constructor(){this.enterprise=new Wme}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Wme{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $me="recaptcha-enterprise",VJ="NO_RECAPTCHA";class qme{constructor(e){this.type=$me,this.auth=Kv(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Tme(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Sme(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;pU(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(VJ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jme().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!t&&pU(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ume();l.length!==0&&(l+=o),BJ(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function xU(r,e,t,n=!1,i=!1){const a=new qme(r);let s;if(i)s=VJ;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const o={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xO(r,e,t,n,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await xU(r,e,t,t==="getOobCode");return n(r,a)}else return n(r,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await xU(r,e,t,t==="getOobCode");return n(r,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yme(r,e){const t=GC(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Tv(a,e??{}))return i;Hl(i,"already-initialized")}return t.initialize({options:e})}function Xme(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(jc);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function Kme(r,e,t){const n=Kv(r);Lt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=zJ(e),{host:s,port:o}=Zme(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Lt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Lt(Tv(u,n.config.emulator)&&Tv(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,pd(s)?(I3(`${a}//${s}${l}`),R3("Auth",!0)):Qme()}function zJ(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Zme(r){const e=zJ(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:wU(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:wU(s)}}}function wU(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Qme(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gc("not implemented")}_getIdTokenResponse(e){return Gc("not implemented")}_linkToIdToken(e,t){return Gc("not implemented")}_getReauthenticationResolver(e){return Gc("not implemented")}}async function Jme(r,e){return gd(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eye(r,e){return Xw(r,"POST","/v1/accounts:signInWithPassword",vd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tye(r,e){return Xw(r,"POST","/v1/accounts:signInWithEmailLink",vd(r,e))}async function rye(r,e){return Xw(r,"POST","/v1/accounts:signInWithEmailLink",vd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends V3{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new jx(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new jx(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xO(e,t,"signInWithPassword",eye);case"emailLink":return tye(e,{email:this._email,oobCode:this._password});default:Hl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xO(e,n,"signUpPassword",Jme);case"emailLink":return rye(e,{idToken:t,email:this._email,oobCode:this._password});default:Hl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(r,e){return Xw(r,"POST","/v1/accounts:signInWithIdp",vd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nye="http://localhost";class Ev extends V3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ev(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=t;if(!n||!i)return null;const s=new Ev(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return im(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,im(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,im(e,t)}buildRequest(){const e={requestUri:nye,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qw(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iye(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aye(r){const e=M_(k_(r)).link,t=e?M_(k_(e)).deep_link_id:null,n=M_(k_(r)).deep_link_id;return(n?M_(k_(n)).link:null)||n||t||e||r}class z3{constructor(e){const t=M_(k_(e)),n=t.apiKey??null,i=t.oobCode??null,a=iye(t.mode??null);Lt(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aye(e);try{return new z3(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.providerId=iy.PROVIDER_ID}static credential(e,t){return jx._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=z3.parseLink(t);return Lt(n,"argument-error"),jx._fromEmailAndCode(e,n.code,n.tenantId)}}iy.PROVIDER_ID="password";iy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends UJ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Kw{constructor(){super("facebook.com")}static credential(e){return Ev._fromParams({providerId:fh.PROVIDER_ID,signInMethod:fh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fh.credentialFromTaggedObject(e)}static credentialFromError(e){return fh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fh.credential(e.oauthAccessToken)}catch{return null}}}fh.FACEBOOK_SIGN_IN_METHOD="facebook.com";fh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Kw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ev._fromParams({providerId:hh.PROVIDER_ID,signInMethod:hh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hh.credentialFromTaggedObject(e)}static credentialFromError(e){return hh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return hh.credential(t,n)}catch{return null}}}hh.GOOGLE_SIGN_IN_METHOD="google.com";hh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Kw{constructor(){super("github.com")}static credential(e){return Ev._fromParams({providerId:dh.PROVIDER_ID,signInMethod:dh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dh.credentialFromTaggedObject(e)}static credentialFromError(e){return dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dh.credential(e.oauthAccessToken)}catch{return null}}}dh.GITHUB_SIGN_IN_METHOD="github.com";dh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Kw{constructor(){super("twitter.com")}static credential(e,t){return Ev._fromParams({providerId:ph.PROVIDER_ID,signInMethod:ph.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ph.credentialFromTaggedObject(e)}static credentialFromError(e){return ph.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ph.credential(t,n)}catch{return null}}}ph.TWITTER_SIGN_IN_METHOD="twitter.com";ph.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sye(r,e){return Xw(r,"POST","/v1/accounts:signUp",vd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await Rl._fromIdTokenResponse(e,n,i),s=bU(n);return new Cv({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=bU(n);return new Cv({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function bU(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA extends ac{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,NA.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new NA(e,t,n,i)}}function HJ(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?NA._fromErrorAndOperation(r,a,e,n):a})}async function oye(r,e,t=!1){const n=await Gx(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Cv._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lye(r,e,t=!1){const{auth:n}=r;if(no(n.app))return Promise.reject(Jc(n));const i="reauthenticate";try{const a=await Gx(r,HJ(n,i,e,r),t);Lt(a.idToken,n,"internal-error");const s=F3(a.idToken);Lt(s,n,"internal-error");const{sub:o}=s;return Lt(r.uid===o,n,"user-mismatch"),Cv._forOperation(r,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Hl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(r,e,t=!1){if(no(r.app))return Promise.reject(Jc(r));const n="signIn",i=await HJ(r,n,e),a=await Cv._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function uye(r,e){return GJ(Kv(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jJ(r){const e=Kv(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cye(r,e,t){if(no(r.app))return Promise.reject(Jc(r));const n=Kv(r),s=await xO(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sye).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jJ(r),l}),o=await Cv._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function fye(r,e,t){return no(r.app)?Promise.reject(Jc(r)):uye(Jn(r),iy.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&jJ(r),n})}function hye(r,e,t,n){return Jn(r).onIdTokenChanged(e,t,n)}function dye(r,e,t){return Jn(r).beforeAuthStateChanged(e,t)}function pye(r,e,t,n){return Jn(r).onAuthStateChanged(e,t,n)}const FA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(FA,"1"),this.storage.removeItem(FA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vye=1e3,gye=10;class $J extends WJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NJ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Lme()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gye):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},vye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$J.type="LOCAL";const mye=$J;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ extends WJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qJ.type="SESSION";const YJ=qJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yye(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new WC(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(t.origin,a)),l=await yye(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}WC.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=U3("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(){return window}function xye(r){zu().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(){return typeof zu().WorkerGlobalScope<"u"&&typeof zu().importScripts=="function"}async function wye(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bye(){return navigator?.serviceWorker?.controller||null}function Sye(){return XJ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ="firebaseLocalStorageDb",Tye=1,BA="firebaseLocalStorage",ZJ="fbase_key";class Zw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $C(r,e){return r.transaction([BA],e?"readwrite":"readonly").objectStore(BA)}function Aye(){const r=indexedDB.deleteDatabase(KJ);return new Zw(r).toPromise()}function wO(){const r=indexedDB.open(KJ,Tye);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(BA,{keyPath:ZJ})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(BA)?e(n):(n.close(),await Aye(),e(await wO()))})})}async function SU(r,e,t){const n=$C(r,!0).put({[ZJ]:e,value:t});return new Zw(n).toPromise()}async function Eye(r,e){const t=$C(r,!1).get(e),n=await new Zw(t).toPromise();return n===void 0?null:n.value}function TU(r,e){const t=$C(r,!0).delete(e);return new Zw(t).toPromise()}const Cye=800,Dye=3;class QJ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wO(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>Dye)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XJ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WC._getInstance(Sye()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wye(),!this.activeServiceWorker)return;this.sender=new _ye(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bye()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wO();return await SU(e,FA,"1"),await TU(e,FA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>SU(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Eye(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TU(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$C(i,!1).getAll();return new Zw(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QJ.type="LOCAL";const Iye=QJ;new Yw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rye(r,e){return e?jc(e):(Lt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3 extends V3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return im(e,this._buildIdpRequest())}_linkToIdToken(e,t){return im(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return im(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mye(r){return GJ(r.auth,new H3(r),r.bypassAuthState)}function kye(r){const{auth:e,user:t}=r;return Lt(t,e,"internal-error"),lye(t,new H3(r),r.bypassAuthState)}async function Pye(r){const{auth:e,user:t}=r;return Lt(t,e,"internal-error"),oye(t,new H3(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mye;case"linkViaPopup":case"linkViaRedirect":return Pye;case"reauthViaPopup":case"reauthViaRedirect":return kye;default:Hl(this.auth,"internal-error")}}resolve(e){uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lye=new Yw(2e3,1e4);class z0 extends JJ{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,z0.currentPopupAction&&z0.currentPopupAction.cancel(),z0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Lt(e,this.auth,"internal-error"),e}async onExecution(){uf(this.filter.length===1,"Popup operations only handle one event");const e=U3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,z0.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lye.get())};e()}}z0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oye="pendingRedirect",X2=new Map;class Nye extends JJ{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=X2.get(this.auth._key());if(!e){try{const n=await Fye(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}X2.set(this.auth._key(),e)}return this.bypassAuthState||X2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fye(r,e){const t=zye(e),n=Vye(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function Bye(r,e){X2.set(r._key(),e)}function Vye(r){return jc(r._redirectPersistence)}function zye(r){return Y2(Oye,r.config.apiKey,r.name)}async function Uye(r,e,t=!1){if(no(r.app))return Promise.reject(Jc(r));const n=Kv(r),i=Rye(n,e),s=await new Nye(n,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hye=600*1e3;class Gye{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jye(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!eee(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Vu(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hye&&this.cachedEventUids.clear(),this.cachedEventUids.has(AU(e))}saveEventToCache(e){this.cachedEventUids.add(AU(e)),this.lastProcessedEventTime=Date.now()}}function AU(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eee({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function jye(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eee(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wye(r,e={}){return gd(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qye=/^https?/;async function Yye(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Wye(r);for(const t of e)try{if(Xye(t))return}catch{}Hl(r,"unauthorized-domain")}function Xye(r){const e=yO(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!qye.test(t))return!1;if($ye.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kye=new Yw(3e4,6e4);function EU(){const r=zu().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Zye(r){return new Promise((e,t)=>{function n(){EU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EU(),t(Vu(r,"network-request-failed"))},timeout:Kye.get()})}if(zu().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zu().gapi?.load)n();else{const i=Gme("iframefcb");return zu()[i]=()=>{gapi.load?n():t(Vu(r,"network-request-failed"))},BJ(`${Hme()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw K2=null,e})}let K2=null;function Qye(r){return K2=K2||Zye(r),K2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jye=new Yw(5e3,15e3),e1e="__/auth/iframe",t1e="emulator/auth/iframe",r1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i1e(r){const e=r.config;Lt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?N3(e,t1e):`https://${r.config.authDomain}/${e1e}`,n={apiKey:e.apiKey,appName:r.name,v:Xv},i=n1e.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${qw(n).slice(1)}`}async function a1e(r){const e=await Qye(r),t=zu().gapi;return Lt(t,r,"internal-error"),e.open({where:document.body,url:i1e(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r1e,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Vu(r,"network-request-failed"),o=zu().setTimeout(()=>{a(s)},Jye.get());function l(){zu().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o1e=500,l1e=600,u1e="_blank",c1e="http://localhost";class CU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f1e(r,e,t,n=o1e,i=l1e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...s1e,width:n.toString(),height:i.toString(),top:a,left:s},u=za().toLowerCase();t&&(o=MJ(u)?u1e:t),IJ(u)&&(e=e||c1e,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Pme(u)&&o!=="_self")return h1e(e||"",o),new CU(null);const f=window.open(e||"",o,c);Lt(f,r,"popup-blocked");try{f.focus()}catch{}return new CU(f)}function h1e(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1e="__/auth/handler",p1e="emulator/auth/handler",v1e=encodeURIComponent("fac");async function DU(r,e,t,n,i,a){Lt(r.config.authDomain,r,"auth-domain-config-required"),Lt(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Xv,eventId:i};if(e instanceof UJ){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",Jge(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Kw){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}r.tenantId&&(s.tid=r.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await r._getAppCheckToken(),u=l?`#${v1e}=${encodeURIComponent(l)}`:"";return`${g1e(r)}?${qw(o).slice(1)}${u}`}function g1e({config:r}){return r.emulator?N3(r,p1e):`https://${r.authDomain}/${d1e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="webStorageSupport";class m1e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YJ,this._completeRedirectFn=Uye,this._overrideRedirectResult=Bye}async _openPopup(e,t,n,i){uf(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await DU(e,t,n,yO(),i);return f1e(e,a,U3())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await DU(e,t,n,yO(),i);return xye(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(uf(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await a1e(e),n=new Gye(e);return t.register("authEvent",i=>(Lt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MM,{type:MM},i=>{const a=i?.[0]?.[MM];a!==void 0&&t(!!a),Hl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yye(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NJ()||RJ()||B3()}}const y1e=m1e;var IU="@firebase/auth",RU="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1e(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w1e(r){Av(new Yh("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Lt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FJ(r)},u=new Vme(n,i,a,l);return Xme(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Av(new Yh("auth-internal",e=>{const t=Kv(e.getProvider("auth").getImmediate());return(n=>new _1e(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bu(IU,RU,x1e(r)),Bu(IU,RU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1e=300,S1e=vJ("authIdTokenMaxAge")||b1e;let MU=null;const T1e=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>S1e)return;const i=t?.token;MU!==i&&(MU=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bO(r=L3()){const e=GC(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Yme(r,{popupRedirectResolver:y1e,persistence:[Iye,mye,YJ]}),n=vJ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=T1e(a.toString());dye(t,s,()=>s(t.currentUser)),hye(t,o=>s(o))}}const i=hJ("auth");return i&&Kme(t,`http://${i}`),t}function A1e(){return document.getElementsByTagName("head")?.[0]??document}zme({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Vu("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",A1e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w1e("Browser");var kU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bh,tee;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,R){function M(){}M.prototype=R.prototype,E.D=R.prototype,E.prototype=new M,E.prototype.constructor=E,E.C=function(k,L,O){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return R.prototype[L].apply(k,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,R,M){M||(M=0);var k=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)k[L]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(L=0;16>L;++L)k[L]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=E.g[0],M=E.g[1],L=E.g[2];var O=E.g[3],N=R+(O^M&(L^O))+k[0]+3614090360&4294967295;R=M+(N<<7&4294967295|N>>>25),N=O+(L^R&(M^L))+k[1]+3905402710&4294967295,O=R+(N<<12&4294967295|N>>>20),N=L+(M^O&(R^M))+k[2]+606105819&4294967295,L=O+(N<<17&4294967295|N>>>15),N=M+(R^L&(O^R))+k[3]+3250441966&4294967295,M=L+(N<<22&4294967295|N>>>10),N=R+(O^M&(L^O))+k[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=O+(L^R&(M^L))+k[5]+1200080426&4294967295,O=R+(N<<12&4294967295|N>>>20),N=L+(M^O&(R^M))+k[6]+2821735955&4294967295,L=O+(N<<17&4294967295|N>>>15),N=M+(R^L&(O^R))+k[7]+4249261313&4294967295,M=L+(N<<22&4294967295|N>>>10),N=R+(O^M&(L^O))+k[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=O+(L^R&(M^L))+k[9]+2336552879&4294967295,O=R+(N<<12&4294967295|N>>>20),N=L+(M^O&(R^M))+k[10]+4294925233&4294967295,L=O+(N<<17&4294967295|N>>>15),N=M+(R^L&(O^R))+k[11]+2304563134&4294967295,M=L+(N<<22&4294967295|N>>>10),N=R+(O^M&(L^O))+k[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=O+(L^R&(M^L))+k[13]+4254626195&4294967295,O=R+(N<<12&4294967295|N>>>20),N=L+(M^O&(R^M))+k[14]+2792965006&4294967295,L=O+(N<<17&4294967295|N>>>15),N=M+(R^L&(O^R))+k[15]+1236535329&4294967295,M=L+(N<<22&4294967295|N>>>10),N=R+(L^O&(M^L))+k[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=O+(M^L&(R^M))+k[6]+3225465664&4294967295,O=R+(N<<9&4294967295|N>>>23),N=L+(R^M&(O^R))+k[11]+643717713&4294967295,L=O+(N<<14&4294967295|N>>>18),N=M+(O^R&(L^O))+k[0]+3921069994&4294967295,M=L+(N<<20&4294967295|N>>>12),N=R+(L^O&(M^L))+k[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=O+(M^L&(R^M))+k[10]+38016083&4294967295,O=R+(N<<9&4294967295|N>>>23),N=L+(R^M&(O^R))+k[15]+3634488961&4294967295,L=O+(N<<14&4294967295|N>>>18),N=M+(O^R&(L^O))+k[4]+3889429448&4294967295,M=L+(N<<20&4294967295|N>>>12),N=R+(L^O&(M^L))+k[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=O+(M^L&(R^M))+k[14]+3275163606&4294967295,O=R+(N<<9&4294967295|N>>>23),N=L+(R^M&(O^R))+k[3]+4107603335&4294967295,L=O+(N<<14&4294967295|N>>>18),N=M+(O^R&(L^O))+k[8]+1163531501&4294967295,M=L+(N<<20&4294967295|N>>>12),N=R+(L^O&(M^L))+k[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=O+(M^L&(R^M))+k[2]+4243563512&4294967295,O=R+(N<<9&4294967295|N>>>23),N=L+(R^M&(O^R))+k[7]+1735328473&4294967295,L=O+(N<<14&4294967295|N>>>18),N=M+(O^R&(L^O))+k[12]+2368359562&4294967295,M=L+(N<<20&4294967295|N>>>12),N=R+(M^L^O)+k[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=O+(R^M^L)+k[8]+2272392833&4294967295,O=R+(N<<11&4294967295|N>>>21),N=L+(O^R^M)+k[11]+1839030562&4294967295,L=O+(N<<16&4294967295|N>>>16),N=M+(L^O^R)+k[14]+4259657740&4294967295,M=L+(N<<23&4294967295|N>>>9),N=R+(M^L^O)+k[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=O+(R^M^L)+k[4]+1272893353&4294967295,O=R+(N<<11&4294967295|N>>>21),N=L+(O^R^M)+k[7]+4139469664&4294967295,L=O+(N<<16&4294967295|N>>>16),N=M+(L^O^R)+k[10]+3200236656&4294967295,M=L+(N<<23&4294967295|N>>>9),N=R+(M^L^O)+k[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=O+(R^M^L)+k[0]+3936430074&4294967295,O=R+(N<<11&4294967295|N>>>21),N=L+(O^R^M)+k[3]+3572445317&4294967295,L=O+(N<<16&4294967295|N>>>16),N=M+(L^O^R)+k[6]+76029189&4294967295,M=L+(N<<23&4294967295|N>>>9),N=R+(M^L^O)+k[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=O+(R^M^L)+k[12]+3873151461&4294967295,O=R+(N<<11&4294967295|N>>>21),N=L+(O^R^M)+k[15]+530742520&4294967295,L=O+(N<<16&4294967295|N>>>16),N=M+(L^O^R)+k[2]+3299628645&4294967295,M=L+(N<<23&4294967295|N>>>9),N=R+(L^(M|~O))+k[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=O+(M^(R|~L))+k[7]+1126891415&4294967295,O=R+(N<<10&4294967295|N>>>22),N=L+(R^(O|~M))+k[14]+2878612391&4294967295,L=O+(N<<15&4294967295|N>>>17),N=M+(O^(L|~R))+k[5]+4237533241&4294967295,M=L+(N<<21&4294967295|N>>>11),N=R+(L^(M|~O))+k[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=O+(M^(R|~L))+k[3]+2399980690&4294967295,O=R+(N<<10&4294967295|N>>>22),N=L+(R^(O|~M))+k[10]+4293915773&4294967295,L=O+(N<<15&4294967295|N>>>17),N=M+(O^(L|~R))+k[1]+2240044497&4294967295,M=L+(N<<21&4294967295|N>>>11),N=R+(L^(M|~O))+k[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=O+(M^(R|~L))+k[15]+4264355552&4294967295,O=R+(N<<10&4294967295|N>>>22),N=L+(R^(O|~M))+k[6]+2734768916&4294967295,L=O+(N<<15&4294967295|N>>>17),N=M+(O^(L|~R))+k[13]+1309151649&4294967295,M=L+(N<<21&4294967295|N>>>11),N=R+(L^(M|~O))+k[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=O+(M^(R|~L))+k[11]+3174756917&4294967295,O=R+(N<<10&4294967295|N>>>22),N=L+(R^(O|~M))+k[2]+718787259&4294967295,L=O+(N<<15&4294967295|N>>>17),N=M+(O^(L|~R))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+R&4294967295,E.g[1]=E.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+O&4294967295}n.prototype.u=function(E,R){R===void 0&&(R=E.length);for(var M=R-this.blockSize,k=this.B,L=this.h,O=0;O<R;){if(L==0)for(;O<=M;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<R;)if(k[L++]=E.charCodeAt(O++),L==this.blockSize){i(this,k),L=0;break}}else for(;O<R;)if(k[L++]=E[O++],L==this.blockSize){i(this,k),L=0;break}}this.h=L,this.o+=R},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var R=1;R<E.length-8;++R)E[R]=0;var M=8*this.o;for(R=E.length-8;R<E.length;++R)E[R]=M&255,M/=256;for(this.u(E),E=Array(16),R=M=0;4>R;++R)for(var k=0;32>k;k+=8)E[M++]=this.g[R]>>>k&255;return E};function a(E,R){var M=o;return Object.prototype.hasOwnProperty.call(M,E)?M[E]:M[E]=R(E)}function s(E,R){this.h=R;for(var M=[],k=!0,L=E.length-1;0<=L;L--){var O=E[L]|0;k&&O==R||(M[L]=O,k=!1)}this.g=M}var o={};function l(E){return-128<=E&&128>E?a(E,function(R){return new s([R|0],0>R?-1:0)}):new s([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return y(u(-E));for(var R=[],M=1,k=0;E>=M;k++)R[k]=E/M|0,M*=4294967296;return new s(R,0)}function c(E,R){if(E.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(E.charAt(0)=="-")return y(c(E.substring(1),R));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(R,8)),k=f,L=0;L<E.length;L+=8){var O=Math.min(8,E.length-L),N=parseInt(E.substring(L,L+O),R);8>O?(O=u(Math.pow(R,O)),k=k.j(O).add(u(N))):(k=k.j(M),k=k.add(u(N)))}return k}var f=l(0),h=l(1),p=l(16777216);r=s.prototype,r.m=function(){if(m(this))return-y(this).m();for(var E=0,R=1,M=0;M<this.g.length;M++){var k=this.i(M);E+=(0<=k?k:4294967296+k)*R,R*=4294967296}return E},r.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(m(this))return"-"+y(this).toString(E);for(var R=u(Math.pow(E,6)),M=this,k="";;){var L=T(M,R).g;M=x(M,L.j(R));var O=((0<M.g.length?M.g[0]:M.h)>>>0).toString(E);if(M=L,v(M))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},r.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var R=0;R<E.g.length;R++)if(E.g[R]!=0)return!1;return!0}function m(E){return E.h==-1}r.l=function(E){return E=x(this,E),m(E)?-1:v(E)?0:1};function y(E){for(var R=E.g.length,M=[],k=0;k<R;k++)M[k]=~E.g[k];return new s(M,~E.h).add(h)}r.abs=function(){return m(this)?y(this):this},r.add=function(E){for(var R=Math.max(this.g.length,E.g.length),M=[],k=0,L=0;L<=R;L++){var O=k+(this.i(L)&65535)+(E.i(L)&65535),N=(O>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);k=N>>>16,O&=65535,N&=65535,M[L]=N<<16|O}return new s(M,M[M.length-1]&-2147483648?-1:0)};function x(E,R){return E.add(y(R))}r.j=function(E){if(v(this)||v(E))return f;if(m(this))return m(E)?y(this).j(y(E)):y(y(this).j(E));if(m(E))return y(this.j(y(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var R=this.g.length+E.g.length,M=[],k=0;k<2*R;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<E.g.length;L++){var O=this.i(k)>>>16,N=this.i(k)&65535,W=E.i(L)>>>16,U=E.i(L)&65535;M[2*k+2*L]+=N*U,w(M,2*k+2*L),M[2*k+2*L+1]+=O*U,w(M,2*k+2*L+1),M[2*k+2*L+1]+=N*W,w(M,2*k+2*L+1),M[2*k+2*L+2]+=O*W,w(M,2*k+2*L+2)}for(k=0;k<R;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=R;k<2*R;k++)M[k]=0;return new s(M,0)};function w(E,R){for(;(E[R]&65535)!=E[R];)E[R+1]+=E[R]>>>16,E[R]&=65535,R++}function b(E,R){this.g=E,this.h=R}function T(E,R){if(v(R))throw Error("division by zero");if(v(E))return new b(f,f);if(m(E))return R=T(y(E),R),new b(y(R.g),y(R.h));if(m(R))return R=T(E,y(R)),new b(y(R.g),R.h);if(30<E.g.length){if(m(E)||m(R))throw Error("slowDivide_ only works with positive integers.");for(var M=h,k=R;0>=k.l(E);)M=C(M),k=C(k);var L=D(M,1),O=D(k,1);for(k=D(k,2),M=D(M,2);!v(k);){var N=O.add(k);0>=N.l(E)&&(L=L.add(M),O=N),k=D(k,1),M=D(M,1)}return R=x(E,L.j(R)),new b(L,R)}for(L=f;0<=E.l(R);){for(M=Math.max(1,Math.floor(E.m()/R.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=u(M),N=O.j(R);m(N)||0<N.l(E);)M-=k,O=u(M),N=O.j(R);v(O)&&(O=h),L=L.add(O),E=x(E,N)}return new b(L,E)}r.A=function(E){return T(this,E).h},r.and=function(E){for(var R=Math.max(this.g.length,E.g.length),M=[],k=0;k<R;k++)M[k]=this.i(k)&E.i(k);return new s(M,this.h&E.h)},r.or=function(E){for(var R=Math.max(this.g.length,E.g.length),M=[],k=0;k<R;k++)M[k]=this.i(k)|E.i(k);return new s(M,this.h|E.h)},r.xor=function(E){for(var R=Math.max(this.g.length,E.g.length),M=[],k=0;k<R;k++)M[k]=this.i(k)^E.i(k);return new s(M,this.h^E.h)};function C(E){for(var R=E.g.length+1,M=[],k=0;k<R;k++)M[k]=E.i(k)<<1|E.i(k-1)>>>31;return new s(M,E.h)}function D(E,R){var M=R>>5;R%=32;for(var k=E.g.length-M,L=[],O=0;O<k;O++)L[O]=0<R?E.i(O+M)>>>R|E.i(O+M+1)<<32-R:E.i(O+M);return new s(L,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,tee=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Bh=s}).apply(typeof kU<"u"?kU:typeof self<"u"?self:typeof window<"u"?window:{});var uT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ree,P_,nee,Z2,SO,iee,aee,see;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,F,V){return A==Array.prototype||A==Object.prototype||(A[F]=V.value),A};function t(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof uT=="object"&&uT];for(var F=0;F<A.length;++F){var V=A[F];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=t(this);function i(A,F){if(F)e:{var V=n;A=A.split(".");for(var ne=0;ne<A.length-1;ne++){var _e=A[ne];if(!(_e in V))break e;V=V[_e]}A=A[A.length-1],ne=V[A],F=F(ne),F!=ne&&F!=null&&e(V,A,{configurable:!0,writable:!0,value:F})}}function a(A,F){A instanceof String&&(A+="");var V=0,ne=!1,_e={next:function(){if(!ne&&V<A.length){var Me=V++;return{value:F(Me,A[Me]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return _e[Symbol.iterator]=function(){return _e},_e}i("Array.prototype.values",function(A){return A||function(){return a(this,function(F,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var F=typeof A;return F=F!="object"?F:A?Array.isArray(A)?"array":F:"null",F=="array"||F=="object"&&typeof A.length=="number"}function u(A){var F=typeof A;return F=="object"&&A!=null||F=="function"}function c(A,F,V){return A.call.apply(A.bind,arguments)}function f(A,F,V){if(!A)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var _e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_e,ne),A.apply(F,_e)}}return function(){return A.apply(F,arguments)}}function h(A,F,V){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(A,F){var V=Array.prototype.slice.call(arguments,1);return function(){var ne=V.slice();return ne.push.apply(ne,arguments),A.apply(this,ne)}}function v(A,F){function V(){}V.prototype=F.prototype,A.aa=F.prototype,A.prototype=new V,A.prototype.constructor=A,A.Qb=function(ne,_e,Me){for(var et=Array(arguments.length-2),br=2;br<arguments.length;br++)et[br-2]=arguments[br];return F.prototype[_e].apply(ne,et)}}function m(A){const F=A.length;if(0<F){const V=Array(F);for(let ne=0;ne<F;ne++)V[ne]=A[ne];return V}return[]}function y(A,F){for(let V=1;V<arguments.length;V++){const ne=arguments[V];if(l(ne)){const _e=A.length||0,Me=ne.length||0;A.length=_e+Me;for(let et=0;et<Me;et++)A[_e+et]=ne[et]}else A.push(ne)}}class x{constructor(F,V){this.i=F,this.j=V,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(A){return/^[\s\xa0]*$/.test(A)}function b(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function T(A){return T[" "](A),A}T[" "]=function(){};var C=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function D(A,F,V){for(const ne in A)F.call(V,A[ne],ne,A)}function E(A,F){for(const V in A)F.call(void 0,A[V],V,A)}function R(A){const F={};for(const V in A)F[V]=A[V];return F}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(A,F){let V,ne;for(let _e=1;_e<arguments.length;_e++){ne=arguments[_e];for(V in ne)A[V]=ne[V];for(let Me=0;Me<M.length;Me++)V=M[Me],Object.prototype.hasOwnProperty.call(ne,V)&&(A[V]=ne[V])}}function L(A){var F=1;A=A.split(":");const V=[];for(;0<F&&A.length;)V.push(A.shift()),F--;return A.length&&V.push(A.join(":")),V}function O(A){o.setTimeout(()=>{throw A},0)}function N(){var A=K;let F=null;return A.g&&(F=A.g,A.g=A.g.next,A.g||(A.h=null),F.next=null),F}class W{constructor(){this.h=this.g=null}add(F,V){const ne=U.get();ne.set(F,V),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var U=new x(()=>new z,A=>A.reset());class z{constructor(){this.next=this.g=this.h=null}set(F,V){this.h=F,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,re=!1,K=new W,q=()=>{const A=o.Promise.resolve(void 0);Y=()=>{A.then(Q)}};var Q=()=>{for(var A;A=N();){try{A.h.call(A.g)}catch(V){O(V)}var F=U;F.j(A),100>F.h&&(F.h++,A.next=F.g,F.g=A)}re=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(A,F){this.type=A,this.g=this.target=F,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,F=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const V=()=>{};o.addEventListener("test",V,F),o.removeEventListener("test",V,F)}catch{}return A}();function se(A,F){if(J.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var V=this.type=A.type,ne=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=F,F=A.relatedTarget){if(C){e:{try{T(F.nodeName);var _e=!0;break e}catch{}_e=!1}_e||(F=null)}}else V=="mouseover"?F=A.fromElement:V=="mouseout"&&(F=A.toElement);this.relatedTarget=F,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:de[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&se.aa.h.call(this)}}v(se,J);var de={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function ye(A,F,V,ne,_e){this.listener=A,this.proxy=null,this.src=F,this.type=V,this.capture=!!ne,this.ha=_e,this.key=++Ae,this.da=this.fa=!1}function Se(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function me(A){this.src=A,this.g={},this.h=0}me.prototype.add=function(A,F,V,ne,_e){var Me=A.toString();A=this.g[Me],A||(A=this.g[Me]=[],this.h++);var et=mt(A,F,ne,_e);return-1<et?(F=A[et],V||(F.fa=!1)):(F=new ye(F,this.src,Me,!!ne,_e),F.fa=V,A.push(F)),F};function ee(A,F){var V=F.type;if(V in A.g){var ne=A.g[V],_e=Array.prototype.indexOf.call(ne,F,void 0),Me;(Me=0<=_e)&&Array.prototype.splice.call(ne,_e,1),Me&&(Se(F),A.g[V].length==0&&(delete A.g[V],A.h--))}}function mt(A,F,V,ne){for(var _e=0;_e<A.length;++_e){var Me=A[_e];if(!Me.da&&Me.listener==F&&Me.capture==!!V&&Me.ha==ne)return _e}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),at={};function ot(A,F,V,ne,_e){if(Array.isArray(F)){for(var Me=0;Me<F.length;Me++)ot(A,F[Me],V,ne,_e);return null}return V=ya(V),A&&A[Oe]?A.K(F,V,u(ne)?!!ne.capture:!1,_e):Ue(A,F,V,!1,ne,_e)}function Ue(A,F,V,ne,_e,Me){if(!F)throw Error("Invalid event type");var et=u(_e)?!!_e.capture:!!_e,br=Or(A);if(br||(A[rt]=br=new me(A)),V=br.add(F,V,ne,et,Me),V.proxy)return V;if(ne=Jt(),V.proxy=ne,ne.src=A,ne.listener=V,A.addEventListener)te||(_e=et),_e===void 0&&(_e=!1),A.addEventListener(F.toString(),ne,_e);else if(A.attachEvent)A.attachEvent(Gr(F.toString()),ne);else if(A.addListener&&A.removeListener)A.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Jt(){function A(V){return F.call(A.src,A.listener,V)}const F=ni;return A}function vr(A,F,V,ne,_e){if(Array.isArray(F))for(var Me=0;Me<F.length;Me++)vr(A,F[Me],V,ne,_e);else ne=u(ne)?!!ne.capture:!!ne,V=ya(V),A&&A[Oe]?(A=A.i,F=String(F).toString(),F in A.g&&(Me=A.g[F],V=mt(Me,V,ne,_e),-1<V&&(Se(Me[V]),Array.prototype.splice.call(Me,V,1),Me.length==0&&(delete A.g[F],A.h--)))):A&&(A=Or(A))&&(F=A.g[F.toString()],A=-1,F&&(A=mt(F,V,ne,_e)),(V=-1<A?F[A]:null)&&en(V))}function en(A){if(typeof A!="number"&&A&&!A.da){var F=A.src;if(F&&F[Oe])ee(F.i,A);else{var V=A.type,ne=A.proxy;F.removeEventListener?F.removeEventListener(V,ne,A.capture):F.detachEvent?F.detachEvent(Gr(V),ne):F.addListener&&F.removeListener&&F.removeListener(ne),(V=Or(F))?(ee(V,A),V.h==0&&(V.src=null,F[rt]=null)):Se(A)}}}function Gr(A){return A in at?at[A]:at[A]="on"+A}function ni(A,F){if(A.da)A=!0;else{F=new se(F,this);var V=A.listener,ne=A.ha||A.src;A.fa&&en(A),A=V.call(ne,F)}return A}function Or(A){return A=A[rt],A instanceof me?A:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(A){return typeof A=="function"?A:(A[zn]||(A[zn]=function(F){return A.handleEvent(F)}),A[zn])}function We(){j.call(this),this.i=new me(this),this.M=this,this.F=null}v(We,j),We.prototype[Oe]=!0,We.prototype.removeEventListener=function(A,F,V,ne){vr(this,A,F,V,ne)};function qe(A,F){var V,ne=A.F;if(ne)for(V=[];ne;ne=ne.F)V.push(ne);if(A=A.M,ne=F.type||F,typeof F=="string")F=new J(F,A);else if(F instanceof J)F.target=F.target||A;else{var _e=F;F=new J(ne,A),k(F,_e)}if(_e=!0,V)for(var Me=V.length-1;0<=Me;Me--){var et=F.g=V[Me];_e=Ze(et,ne,!0,F)&&_e}if(et=F.g=A,_e=Ze(et,ne,!0,F)&&_e,_e=Ze(et,ne,!1,F)&&_e,V)for(Me=0;Me<V.length;Me++)et=F.g=V[Me],_e=Ze(et,ne,!1,F)&&_e}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var A=this.i,F;for(F in A.g){for(var V=A.g[F],ne=0;ne<V.length;ne++)Se(V[ne]);delete A.g[F],A.h--}}this.F=null},We.prototype.K=function(A,F,V,ne){return this.i.add(String(A),F,!1,V,ne)},We.prototype.L=function(A,F,V,ne){return this.i.add(String(A),F,!0,V,ne)};function Ze(A,F,V,ne){if(F=A.i.g[String(F)],!F)return!0;F=F.concat();for(var _e=!0,Me=0;Me<F.length;++Me){var et=F[Me];if(et&&!et.da&&et.capture==V){var br=et.listener,wi=et.ha||et.src;et.fa&&ee(A.i,et),_e=br.call(wi,ne)!==!1&&_e}}return _e&&!ne.defaultPrevented}function dt(A,F,V){if(typeof A=="function")V&&(A=h(A,V));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(A,F||0)}function yt(A){A.g=dt(()=>{A.g=null,A.i&&(A.i=!1,yt(A))},A.l);const F=A.h;A.h=null,A.m.apply(null,F)}class _r extends j{constructor(F,V){super(),this.m=F,this.l=V,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(A){j.call(this),this.h=A,this.g={}}v(gr,j);var Rt=[];function Kt(A){D(A.g,function(F,V){this.g.hasOwnProperty(V)&&en(F)},A),A.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Kt(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=o.JSON.stringify,Xa=o.JSON.parse,Ki=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Zi(){}Zi.prototype.h=null;function ii(A){return A.h||(A.h=A.i())}function Hs(){}var _a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gs(){J.call(this,"d")}v(Gs,J);function Jl(){J.call(this,"c")}v(Jl,J);var xo={},Ed=null;function eu(){return Ed=Ed||new We}xo.La="serverreachability";function Ef(A){J.call(this,xo.La,A)}v(Ef,J);function tu(A){const F=eu();qe(F,new Ef(F))}xo.STAT_EVENT="statevent";function mg(A,F){J.call(this,xo.STAT_EVENT,A),this.stat=F}v(mg,J);function rn(A){const F=eu();qe(F,new mg(F,A))}xo.Ma="timingevent";function Un(A,F){J.call(this,xo.Ma,A),this.size=F}v(Un,J);function vn(A,F){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},F)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Cd(A,F,V,ne,_e,Me){A.info(function(){if(A.g)if(Me)for(var et="",br=Me.split("&"),wi=0;wi<br.length;wi++){var Sr=br[wi].split("=");if(1<Sr.length){var Bi=Sr[0];Sr=Sr[1];var bi=Bi.split("_");et=2<=bi.length&&bi[1]=="type"?et+(Bi+"="+Sr+"&"):et+(Bi+"=redacted&")}}else et=null;else et=Me;return"XMLHTTP REQ ("+ne+") [attempt "+_e+"]: "+F+`
`+V+`
`+et})}function Uy(A,F,V,ne,_e,Me,et){A.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+_e+"]: "+F+`
`+V+`
`+Me+" "+et})}function X(A,F,V,ne){A.info(function(){return"XMLHTTP TEXT ("+F+"): "+ie(A,V)+(ne?" "+ne:"")})}function le(A,F){A.info(function(){return"TIMEOUT: "+F})}ws.prototype.info=function(){};function ie(A,F){if(!A.g)return F;if(!F)return null;try{var V=JSON.parse(F);if(V){for(A=0;A<V.length;A++)if(Array.isArray(V[A])){var ne=V[A];if(!(2>ne.length)){var _e=ne[1];if(Array.isArray(_e)&&!(1>_e.length)){var Me=_e[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var et=1;et<_e.length;et++)_e[et]=""}}}}return pn(V)}catch{return F}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ce;function we(){}v(we,Zi),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},ce=new we;function Re(A,F,V,ne){this.j=A,this.i=F,this.l=V,this.R=ne||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Te={},Ee={};function He(A,F,V){A.L=1,A.v=Rd(Ws(F)),A.m=V,A.P=!0,Ke(A,null)}function Ke(A,F){A.F=Date.now(),nt(A),A.A=Ws(A.v);var V=A.A,ne=A.R;Array.isArray(ne)||(ne=[String(ne)]),$y(V.i,"t",ne),A.C=0,V=A.j.J,A.h=new ve,A.g=iS(A.j,V?F:null,!A.m),0<A.O&&(A.M=new _r(h(A.Y,A,A.g),A.O)),F=A.U,V=A.g,ne=A.ca;var _e="readystatechange";Array.isArray(_e)||(_e&&(Rt[0]=_e.toString()),_e=Rt);for(var Me=0;Me<_e.length;Me++){var et=ot(V,_e[Me],ne||F.handleEvent,!1,F.h||F);if(!et)break;F.g[et.key]=et}F=A.H?R(A.H):{},A.m?(A.u||(A.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,F)):(A.u="GET",A.g.ea(A.A,A.u,null,F)),tu(),Cd(A.i,A.u,A.A,A.l,A.R,A.m)}Re.prototype.ca=function(A){A=A.target;const F=this.M;F&&To(A)==3?F.j():this.Y(A)},Re.prototype.Y=function(A){try{if(A==this.g)e:{const bi=To(this.g);var F=this.g.Ba();const yc=this.g.Z();if(!(3>bi)&&(bi!=3||this.g&&(this.h.h||this.g.oa()||Kb(this.g)))){this.J||bi!=4||F==7||(F==8||0>=yc?tu(3):tu(2)),Rr(this);var V=this.g.Z();this.X=V;t:if(st(this)){var ne=Kb(this.g);A="";var _e=ne.length,Me=To(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),xr(this);var et="";break t}this.h.i=new o.TextDecoder}for(F=0;F<_e;F++)this.h.h=!0,A+=this.h.i.decode(ne[F],{stream:!(Me&&F==_e-1)});ne.length=0,this.h.g+=A,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=V==200,Uy(this.i,this.u,this.A,this.l,this.R,bi,V),this.o){if(this.T&&!this.K){t:{if(this.g){var br,wi=this.g;if((br=wi.g?wi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(br)){var Sr=br;break t}}Sr=null}if(V=Sr)X(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,V);else{this.o=!1,this.s=3,rn(12),wr(this),xr(this);break e}}if(this.P){V=!0;let Qi;for(;!this.J&&this.C<et.length;)if(Qi=Ye(this,et),Qi==Ee){bi==4&&(this.s=4,rn(14),V=!1),X(this.i,this.l,null,"[Incomplete Response]");break}else if(Qi==Te){this.s=4,rn(15),X(this.i,this.l,et,"[Invalid Chunk]"),V=!1;break}else X(this.i,this.l,Qi,null),js(this,Qi);if(st(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bi!=4||et.length!=0||this.h.h||(this.s=1,rn(16),V=!1),this.o=this.o&&V,!V)X(this.i,this.l,et,"[Invalid Chunked Response]"),wr(this),xr(this);else if(0<et.length&&!this.W){this.W=!0;var Bi=this.j;Bi.g==this&&Bi.ba&&!Bi.M&&(Bi.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Bd(Bi),Bi.M=!0,rn(11))}}else X(this.i,this.l,et,null),js(this,et);bi==4&&wr(this),this.o&&!this.J&&(bi==4?tS(this.j,this):(this.o=!1,nt(this)))}else EI(this.g),V==400&&0<et.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),wr(this),xr(this)}}}catch{}finally{}};function st(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Ye(A,F){var V=A.C,ne=F.indexOf(`
`,V);return ne==-1?Ee:(V=Number(F.substring(V,ne)),isNaN(V)?Te:(ne+=1,ne+V>F.length?Ee:(F=F.slice(ne,ne+V),A.C=ne+V,F)))}Re.prototype.cancel=function(){this.J=!0,wr(this)};function nt(A){A.S=Date.now()+A.I,Nt(A,A.I)}function Nt(A,F){if(A.B!=null)throw Error("WatchDog timer not null");A.B=vn(h(A.ba,A),F)}function Rr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}Re.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(le(this.i,this.A),this.L!=2&&(tu(),rn(17)),wr(this),this.s=2,xr(this)):Nt(this,this.S-A)};function xr(A){A.j.G==0||A.J||tS(A.j,A)}function wr(A){Rr(A);var F=A.M;F&&typeof F.ma=="function"&&F.ma(),A.M=null,Kt(A.U),A.g&&(F=A.g,A.g=null,F.abort(),F.ma())}function js(A,F){try{var V=A.j;if(V.G!=0&&(V.g==A||Za(V.h,A))){if(!A.K&&Za(V.h,A)&&V.G==3){try{var ne=V.Da.g.parse(F)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var _e=ne;if(_e[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<A.F)Cg(V),Ag(V);else break e;Zy(V),rn(18)}}else V.za=_e[1],0<V.za-V.T&&37500>_e[2]&&V.F&&V.v==0&&!V.C&&(V.C=vn(h(V.Za,V),6e3));if(1>=nu(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else mc(V,11)}else if((A.K||V.g==A)&&Cg(V),!w(F))for(_e=V.Da.g.parse(F),F=0;F<_e.length;F++){let Sr=_e[F];if(V.T=Sr[0],Sr=Sr[1],V.G==2)if(Sr[0]=="c"){V.K=Sr[1],V.ia=Sr[2];const Bi=Sr[3];Bi!=null&&(V.la=Bi,V.j.info("VER="+V.la));const bi=Sr[4];bi!=null&&(V.Aa=bi,V.j.info("SVER="+V.Aa));const yc=Sr[5];yc!=null&&typeof yc=="number"&&0<yc&&(ne=1.5*yc,V.L=ne,V.j.info("backChannelRequestTimeoutMs_="+ne)),ne=V;const Qi=A.g;if(Qi){const cu=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var Me=ne.h;Me.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(yg(Me,Me.h),Me.h=null))}if(ne.D){const Jy=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Jy&&(ne.ya=Jy,Yr(ne.I,ne.D,Jy))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-A.F,V.j.info("Handshake RTT: "+V.R+"ms")),ne=V;var et=A;if(ne.qa=nS(ne,ne.J?ne.ia:null,ne.W),et.K){Qa(ne.h,et);var br=et,wi=ne.L;wi&&(br.I=wi),br.B&&(Rr(br),nt(br)),ne.g=et}else Jb(ne);0<V.i.length&&Eg(V)}else Sr[0]!="stop"&&Sr[0]!="close"||mc(V,7);else V.G==3&&(Sr[0]=="stop"||Sr[0]=="close"?Sr[0]=="stop"?mc(V,7):Xy(V):Sr[0]!="noop"&&V.l&&V.l.ta(Sr),V.v=0)}}tu(4)}catch{}}var ru=class{constructor(A,F){this.g=A,this.map=F}};function Ka(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bs(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function nu(A){return A.h?1:A.g?A.g.size:0}function Za(A,F){return A.h?A.h==F:A.g?A.g.has(F):!1}function yg(A,F){A.g?A.g.add(F):A.h=F}function Qa(A,F){A.h&&A.h==F?A.h=null:A.g&&A.g.has(F)&&A.g.delete(F)}Ka.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Hy(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let F=A.i;for(const V of A.g.values())F=F.concat(V.D);return F}return m(A.i)}function bI(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var F=[],V=A.length,ne=0;ne<V;ne++)F.push(A[ne]);return F}F=[],V=0;for(ne in A)F[V++]=A[ne];return F}function _g(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var F=[];A=A.length;for(var V=0;V<A;V++)F.push(V);return F}F=[],V=0;for(const ne in A)F[V++]=ne;return F}}}function Gy(A,F){if(A.forEach&&typeof A.forEach=="function")A.forEach(F,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,F,void 0);else for(var V=_g(A),ne=bI(A),_e=ne.length,Me=0;Me<_e;Me++)F.call(void 0,ne[Me],V&&V[Me],A)}var Dd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SI(A,F){if(A){A=A.split("&");for(var V=0;V<A.length;V++){var ne=A[V].indexOf("="),_e=null;if(0<=ne){var Me=A[V].substring(0,ne);_e=A[V].substring(ne+1)}else Me=A[V];F(Me,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function ai(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof ai){this.h=A.h,Id(this,A.j),this.o=A.o,this.g=A.g,Cf(this,A.s),this.l=A.l;var F=A.i,V=new dc;V.i=F.i,F.g&&(V.g=new Map(F.g),V.h=F.h),hc(this,V),this.m=A.m}else A&&(F=String(A).match(Dd))?(this.h=!1,Id(this,F[1]||"",!0),this.o=wo(F[2]||""),this.g=wo(F[3]||"",!0),Cf(this,F[4]),this.l=wo(F[5]||"",!0),hc(this,F[6]||"",!0),this.m=wo(F[7]||"")):(this.h=!1,this.i=new dc(null,this.h))}ai.prototype.toString=function(){var A=[],F=this.j;F&&A.push(Md(F,jy,!0),":");var V=this.g;return(V||F=="file")&&(A.push("//"),(F=this.o)&&A.push(Md(F,jy,!0),"@"),A.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&A.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&A.push("/"),A.push(Md(V,V.charAt(0)=="/"?TI:Wy,!0))),(V=this.i.toString())&&A.push("?",V),(V=this.m)&&A.push("#",Md(V,xg)),A.join("")};function Ws(A){return new ai(A)}function Id(A,F,V){A.j=V?wo(F,!0):F,A.j&&(A.j=A.j.replace(/:$/,""))}function Cf(A,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);A.s=F}else A.s=null}function hc(A,F,V){F instanceof dc?(A.i=F,Yb(A.i,A.h)):(V||(F=Md(F,AI)),A.i=new dc(F,A.h))}function Yr(A,F,V){A.i.set(F,V)}function Rd(A){return Yr(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function wo(A,F){return A?F?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Md(A,F,V){return typeof A=="string"?(A=encodeURI(A).replace(F,qb),V&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function qb(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var jy=/[#\/\?@]/g,Wy=/[#\?:]/g,TI=/[#\?]/g,AI=/[#\?@]/g,xg=/#/g;function dc(A,F){this.h=this.g=null,this.i=A||null,this.j=!!F}function bo(A){A.g||(A.g=new Map,A.h=0,A.i&&SI(A.i,function(F,V){A.add(decodeURIComponent(F.replace(/\+/g," ")),V)}))}r=dc.prototype,r.add=function(A,F){bo(this),this.i=null,A=iu(this,A);var V=this.g.get(A);return V||this.g.set(A,V=[]),V.push(F),this.h+=1,this};function pc(A,F){bo(A),F=iu(A,F),A.g.has(F)&&(A.i=null,A.h-=A.g.get(F).length,A.g.delete(F))}function vc(A,F){return bo(A),F=iu(A,F),A.g.has(F)}r.forEach=function(A,F){bo(this),this.g.forEach(function(V,ne){V.forEach(function(_e){A.call(F,_e,ne,this)},this)},this)},r.na=function(){bo(this);const A=Array.from(this.g.values()),F=Array.from(this.g.keys()),V=[];for(let ne=0;ne<F.length;ne++){const _e=A[ne];for(let Me=0;Me<_e.length;Me++)V.push(F[ne])}return V},r.V=function(A){bo(this);let F=[];if(typeof A=="string")vc(this,A)&&(F=F.concat(this.g.get(iu(this,A))));else{A=Array.from(this.g.values());for(let V=0;V<A.length;V++)F=F.concat(A[V])}return F},r.set=function(A,F){return bo(this),this.i=null,A=iu(this,A),vc(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[F]),this.h+=1,this},r.get=function(A,F){return A?(A=this.V(A),0<A.length?String(A[0]):F):F};function $y(A,F,V){pc(A,F),0<V.length&&(A.i=null,A.g.set(iu(A,F),m(V)),A.h+=V.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],F=Array.from(this.g.keys());for(var V=0;V<F.length;V++){var ne=F[V];const Me=encodeURIComponent(String(ne)),et=this.V(ne);for(ne=0;ne<et.length;ne++){var _e=Me;et[ne]!==""&&(_e+="="+encodeURIComponent(String(et[ne]))),A.push(_e)}}return this.i=A.join("&")};function iu(A,F){return F=String(F),A.j&&(F=F.toLowerCase()),F}function Yb(A,F){F&&!A.j&&(bo(A),A.i=null,A.g.forEach(function(V,ne){var _e=ne.toLowerCase();ne!=_e&&(pc(this,ne),$y(this,_e,V))},A)),A.j=F}function kd(A,F){const V=new ws;if(o.Image){const ne=new Image;ne.onload=p(So,V,"TestLoadImage: loaded",!0,F,ne),ne.onerror=p(So,V,"TestLoadImage: error",!1,F,ne),ne.onabort=p(So,V,"TestLoadImage: abort",!1,F,ne),ne.ontimeout=p(So,V,"TestLoadImage: timeout",!1,F,ne),o.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=A}else F(!1)}function vl(A,F){const V=new ws,ne=new AbortController,_e=setTimeout(()=>{ne.abort(),So(V,"TestPingServer: timeout",!1,F)},1e4);fetch(A,{signal:ne.signal}).then(Me=>{clearTimeout(_e),Me.ok?So(V,"TestPingServer: ok",!0,F):So(V,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(_e),So(V,"TestPingServer: error",!1,F)})}function So(A,F,V,ne,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),ne(V)}catch{}}function Pd(){this.g=new Ki}function au(A,F,V){const ne=V||"";try{Gy(A,function(_e,Me){let et=_e;u(_e)&&(et=pn(_e)),F.push(ne+Me+"="+encodeURIComponent(et))})}catch(_e){throw F.push(ne+"type="+encodeURIComponent("_badmap")),_e}}function Df(A){this.l=A.Ub||null,this.j=A.eb||!1}v(Df,Zi),Df.prototype.g=function(){return new gc(this.l,this.j)},Df.prototype.i=function(A){return function(){return A}}({});function gc(A,F){We.call(this),this.D=A,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(gc,We),r=gc.prototype,r.open=function(A,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=F,this.readyState=1,ou(this)},r.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(F.body=A),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,su(this)),this.readyState=0},r.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qy(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function qy(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}r.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var F=A.value?A.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!A.done}))&&(this.response=this.responseText+=F)}A.done?su(this):ou(this),this.readyState==3&&qy(this)}},r.Ra=function(A){this.g&&(this.response=this.responseText=A,su(this))},r.Qa=function(A){this.g&&(this.response=A,su(this))},r.ga=function(){this.g&&su(this)};function su(A){A.readyState=4,A.l=null,A.j=null,A.v=null,ou(A)}r.setRequestHeader=function(A,F){this.u.append(A,F)},r.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],F=this.h.entries();for(var V=F.next();!V.done;)V=V.value,A.push(V[0]+": "+V[1]),V=F.next();return A.join(`\r
`)};function ou(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Yy(A){let F="";return D(A,function(V,ne){F+=ne,F+=":",F+=V,F+=`\r
`}),F}function Fi(A,F,V){e:{for(ne in V){var ne=!1;break e}ne=!0}ne||(V=Yy(V),typeof A=="string"?V!=null&&encodeURIComponent(String(V)):Yr(A,F,V))}function Vr(A){We.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Vr,We);var wg=/^https?$/i,Ld=["POST","PUT"];r=Vr.prototype,r.Ha=function(A){this.J=A},r.ea=function(A,F,V,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);F=F?F.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=this.o?ii(this.o):ii(ce),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(A),!0),this.B=!1}catch(Me){Xb(this,Me);return}if(A=V||"",V=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var _e in ne)V.set(_e,ne[_e]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Me of ne.keys())V.set(Me,ne.get(Me));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(V.keys()).find(Me=>Me.toLowerCase()=="content-type"),_e=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ld,F,void 0))||ne||_e||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,et]of V)this.g.setRequestHeader(Me,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Od(this),this.u=!0,this.g.send(A),this.u=!1}catch(Me){Xb(this,Me)}};function Xb(A,F){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=F,A.m=5,bg(A),lu(A)}function bg(A){A.A||(A.A=!0,qe(A,"complete"),qe(A,"error"))}r.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,qe(this,"complete"),qe(this,"abort"),lu(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),Vr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Sg(this):this.bb())},r.bb=function(){Sg(this)};function Sg(A){if(A.h&&typeof s<"u"&&(!A.v[1]||To(A)!=4||A.Z()!=2)){if(A.u&&To(A)==4)dt(A.Ea,0,A);else if(qe(A,"readystatechange"),To(A)==4){A.h=!1;try{const et=A.Z();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var V;if(!(V=F)){var ne;if(ne=et===0){var _e=String(A.D).match(Dd)[1]||null;!_e&&o.self&&o.self.location&&(_e=o.self.location.protocol.slice(0,-1)),ne=!wg.test(_e?_e.toLowerCase():"")}V=ne}if(V)qe(A,"complete"),qe(A,"success");else{A.m=6;try{var Me=2<To(A)?A.g.statusText:""}catch{Me=""}A.l=Me+" ["+A.Z()+"]",bg(A)}}finally{lu(A)}}}}function lu(A,F){if(A.g){Od(A);const V=A.g,ne=A.v[0]?()=>{}:null;A.g=null,A.v=null,F||qe(A,"ready");try{V.onreadystatechange=ne}catch{}}}function Od(A){A.I&&(o.clearTimeout(A.I),A.I=null)}r.isActive=function(){return!!this.g};function To(A){return A.g?A.g.readyState:0}r.Z=function(){try{return 2<To(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(A){if(this.g){var F=this.g.responseText;return A&&F.indexOf(A)==0&&(F=F.substring(A.length)),Xa(F)}};function Kb(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function EI(A){const F={};A=(A.g&&2<=To(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<A.length;ne++){if(w(A[ne]))continue;var V=L(A[ne]);const _e=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Me=F[_e]||[];F[_e]=Me,Me.push(V)}E(F,function(ne){return ne.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nd(A,F,V){return V&&V.internalChannelParams&&V.internalChannelParams[A]||F}function Tg(A){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nd("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nd("baseRetryDelayMs",5e3,A),this.cb=Nd("retryDelaySeedMs",1e4,A),this.Wa=Nd("forwardChannelMaxRetries",2,A),this.wa=Nd("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new Ka(A&&A.concurrentRequestLimit),this.Da=new Pd,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Tg.prototype,r.la=8,r.G=1,r.connect=function(A,F,V,ne){rn(0),this.W=A,this.H=F||{},V&&ne!==void 0&&(this.H.OSID=V,this.H.OAID=ne),this.F=this.X,this.I=nS(this,null,this.W),Eg(this)};function Xy(A){if(Zb(A),A.G==3){var F=A.U++,V=Ws(A.I);if(Yr(V,"SID",A.K),Yr(V,"RID",F),Yr(V,"TYPE","terminate"),Fd(A,V),F=new Re(A,A.j,F),F.L=2,F.v=Rd(Ws(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!V&&o.Image&&(new Image().src=F.v,V=!0),V||(F.g=iS(F.j,null),F.g.ea(F.v)),F.F=Date.now(),nt(F)}rS(A)}function Ag(A){A.g&&(Bd(A),A.g.cancel(),A.g=null)}function Zb(A){Ag(A),A.u&&(o.clearTimeout(A.u),A.u=null),Cg(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Eg(A){if(!bs(A.h)&&!A.s){A.s=!0;var F=A.Ga;Y||q(),re||(Y(),re=!0),K.add(F,A),A.B=0}}function CI(A,F){return nu(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=F.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=vn(h(A.Ga,A,F),Qy(A,A.B)),A.B++,!0)}r.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const _e=new Re(this,this.j,A);let Me=this.o;if(this.S&&(Me?(Me=R(Me),k(Me,this.S)):Me=this.S),this.m!==null||this.O||(_e.H=Me,Me=null),this.P)e:{for(var F=0,V=0;V<this.i.length;V++){t:{var ne=this.i[V];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(F+=ne,4096<F){F=V;break e}if(F===4096||V===this.i.length-1){F=V+1;break e}}F=1e3}else F=1e3;F=Qb(this,_e,F),V=Ws(this.I),Yr(V,"RID",A),Yr(V,"CVER",22),this.D&&Yr(V,"X-HTTP-Session-Id",this.D),Fd(this,V),Me&&(this.O?F="headers="+encodeURIComponent(String(Yy(Me)))+"&"+F:this.m&&Fi(V,this.m,Me)),yg(this.h,_e),this.Ua&&Yr(V,"TYPE","init"),this.P?(Yr(V,"$req",F),Yr(V,"SID","null"),_e.T=!0,He(_e,V,null)):He(_e,V,F),this.G=2}}else this.G==3&&(A?Ky(this,A):this.i.length==0||bs(this.h)||Ky(this))};function Ky(A,F){var V;F?V=F.l:V=A.U++;const ne=Ws(A.I);Yr(ne,"SID",A.K),Yr(ne,"RID",V),Yr(ne,"AID",A.T),Fd(A,ne),A.m&&A.o&&Fi(ne,A.m,A.o),V=new Re(A,A.j,V,A.B+1),A.m===null&&(V.H=A.o),F&&(A.i=F.D.concat(A.i)),F=Qb(A,V,1e3),V.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),yg(A.h,V),He(V,ne,F)}function Fd(A,F){A.H&&D(A.H,function(V,ne){Yr(F,ne,V)}),A.l&&Gy({},function(V,ne){Yr(F,ne,V)})}function Qb(A,F,V){V=Math.min(A.i.length,V);var ne=A.l?h(A.l.Na,A.l,A):null;e:{var _e=A.i;let Me=-1;for(;;){const et=["count="+V];Me==-1?0<V?(Me=_e[0].g,et.push("ofs="+Me)):Me=0:et.push("ofs="+Me);let br=!0;for(let wi=0;wi<V;wi++){let Sr=_e[wi].g;const Bi=_e[wi].map;if(Sr-=Me,0>Sr)Me=Math.max(0,_e[wi].g-100),br=!1;else try{au(Bi,et,"req"+Sr+"_")}catch{ne&&ne(Bi)}}if(br){ne=et.join("&");break e}}}return A=A.i.splice(0,V),F.D=A,ne}function Jb(A){if(!A.g&&!A.u){A.Y=1;var F=A.Fa;Y||q(),re||(Y(),re=!0),K.add(F,A),A.v=0}}function Zy(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=vn(h(A.Fa,A),Qy(A,A.v)),A.v++,!0)}r.Fa=function(){if(this.u=null,eS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=vn(h(this.ab,this),A)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Ag(this),eS(this))};function Bd(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function eS(A){A.g=new Re(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var F=Ws(A.qa);Yr(F,"RID","rpc"),Yr(F,"SID",A.K),Yr(F,"AID",A.T),Yr(F,"CI",A.F?"0":"1"),!A.F&&A.ja&&Yr(F,"TO",A.ja),Yr(F,"TYPE","xmlhttp"),Fd(A,F),A.m&&A.o&&Fi(F,A.m,A.o),A.L&&(A.g.I=A.L);var V=A.g;A=A.ia,V.L=1,V.v=Rd(Ws(F)),V.m=null,V.P=!0,Ke(V,A)}r.Za=function(){this.C!=null&&(this.C=null,Ag(this),Zy(this),rn(19))};function Cg(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function tS(A,F){var V=null;if(A.g==F){Cg(A),Bd(A),A.g=null;var ne=2}else if(Za(A.h,F))V=F.D,Qa(A.h,F),ne=1;else return;if(A.G!=0){if(F.o)if(ne==1){V=F.m?F.m.length:0,F=Date.now()-F.F;var _e=A.B;ne=eu(),qe(ne,new Un(ne,V)),Eg(A)}else Jb(A);else if(_e=F.s,_e==3||_e==0&&0<F.X||!(ne==1&&CI(A,F)||ne==2&&Zy(A)))switch(V&&0<V.length&&(F=A.h,F.i=F.i.concat(V)),_e){case 1:mc(A,5);break;case 4:mc(A,10);break;case 3:mc(A,6);break;default:mc(A,2)}}}function Qy(A,F){let V=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(V*=2),V*F}function mc(A,F){if(A.j.info("Error code "+F),F==2){var V=h(A.fb,A),ne=A.Xa;const _e=!ne;ne=new ai(ne||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Id(ne,"https"),Rd(ne),_e?kd(ne.toString(),V):vl(ne.toString(),V)}else rn(2);A.G=0,A.l&&A.l.sa(F),rS(A),Zb(A)}r.fb=function(A){A?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function rS(A){if(A.G=0,A.ka=[],A.l){const F=Hy(A.h);(F.length!=0||A.i.length!=0)&&(y(A.ka,F),y(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function nS(A,F,V){var ne=V instanceof ai?Ws(V):new ai(V);if(ne.g!="")F&&(ne.g=F+"."+ne.g),Cf(ne,ne.s);else{var _e=o.location;ne=_e.protocol,F=F?F+"."+_e.hostname:_e.hostname,_e=+_e.port;var Me=new ai(null);ne&&Id(Me,ne),F&&(Me.g=F),_e&&Cf(Me,_e),V&&(Me.l=V),ne=Me}return V=A.D,F=A.ya,V&&F&&Yr(ne,V,F),Yr(ne,"VER",A.la),Fd(A,ne),ne}function iS(A,F,V){if(F&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=A.Ca&&!A.pa?new Vr(new Df({eb:V})):new Vr(A.pa),F.Ha(A.J),F}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function aS(){}r=aS.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Dg(){}Dg.prototype.g=function(A,F){return new Ja(A,F)};function Ja(A,F){We.call(this),this.g=new Tg(F),this.l=A,this.h=F&&F.messageUrlParams||null,A=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(A?A["X-WebChannel-Content-Type"]=F.messageContentType:A={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(A?A["X-WebChannel-Client-Profile"]=F.va:A={"X-WebChannel-Client-Profile":F.va}),this.g.S=A,(A=F&&F.Sb)&&!w(A)&&(this.g.m=A),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!w(F)&&(this.g.D=F,A=this.h,A!==null&&F in A&&(A=this.h,F in A&&delete A[F])),this.j=new uu(this)}v(Ja,We),Ja.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ja.prototype.close=function(){Xy(this.g)},Ja.prototype.o=function(A){var F=this.g;if(typeof A=="string"){var V={};V.__data__=A,A=V}else this.u&&(V={},V.__data__=pn(A),A=V);F.i.push(new ru(F.Ya++,A)),F.G==3&&Eg(F)},Ja.prototype.N=function(){this.g.l=null,delete this.j,Xy(this.g),delete this.g,Ja.aa.N.call(this)};function sS(A){Gs.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var F=A.__sm__;if(F){e:{for(const V in F){A=V;break e}A=void 0}(this.i=A)&&(A=this.i,F=F!==null&&A in F?F[A]:void 0),this.data=F}else this.data=A}v(sS,Gs);function oS(){Jl.call(this),this.status=1}v(oS,Jl);function uu(A){this.g=A}v(uu,aS),uu.prototype.ua=function(){qe(this.g,"a")},uu.prototype.ta=function(A){qe(this.g,new sS(A))},uu.prototype.sa=function(A){qe(this.g,new oS)},uu.prototype.ra=function(){qe(this.g,"b")},Dg.prototype.createWebChannel=Dg.prototype.g,Ja.prototype.send=Ja.prototype.o,Ja.prototype.open=Ja.prototype.m,Ja.prototype.close=Ja.prototype.close,see=function(){return new Dg},aee=function(){return eu()},iee=xo,SO={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Z2=ae,oe.COMPLETE="complete",nee=oe,Hs.EventType=_a,_a.OPEN="a",_a.CLOSE="b",_a.ERROR="c",_a.MESSAGE="d",We.prototype.listen=We.prototype.K,P_=Hs,Vr.prototype.listenOnce=Vr.prototype.L,Vr.prototype.getLastError=Vr.prototype.Ka,Vr.prototype.getLastErrorCode=Vr.prototype.Ba,Vr.prototype.getStatus=Vr.prototype.Z,Vr.prototype.getResponseJson=Vr.prototype.Oa,Vr.prototype.getResponseText=Vr.prototype.oa,Vr.prototype.send=Vr.prototype.ea,Vr.prototype.setWithCredentials=Vr.prototype.Ha,ree=Vr}).apply(typeof uT<"u"?uT:typeof self<"u"?self:typeof window<"u"?window:{});const PU="@firebase/firestore",LU="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Da.UNAUTHENTICATED=new Da(null),Da.GOOGLE_CREDENTIALS=new Da("google-credentials-uid"),Da.FIRST_PARTY=new Da("first-party-uid"),Da.MOCK_USER=new Da("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new M3("@firebase/firestore");function R0(){return Dv.logLevel}function ft(r,...e){if(Dv.logLevel<=ur.DEBUG){const t=e.map(G3);Dv.debug(`Firestore (${ay}): ${r}`,...t)}}function cf(r,...e){if(Dv.logLevel<=ur.ERROR){const t=e.map(G3);Dv.error(`Firestore (${ay}): ${r}`,...t)}}function Em(r,...e){if(Dv.logLevel<=ur.WARN){const t=e.map(G3);Dv.warn(`Firestore (${ay}): ${r}`,...t)}}function G3(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,oee(r,n,t)}function oee(r,e,t){let n=`FIRESTORE (${ay}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw cf(n),new Error(n)}function Hr(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||oee(e,i,n)}function qt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ac{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Da.UNAUTHENTICATED))}shutdown(){}}class C1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D1e{constructor(e){this.t=e,this.currentUser=Da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let a=new ef;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ef,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ef)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Hr(typeof n.accessToken=="string",31837,{l:n}),new lee(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hr(e===null||typeof e=="string",2055,{h:e}),new Da(e)}}class I1e{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Da.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R1e{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new I1e(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Da.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1e{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,no(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hr(this.o===void 0,3512);const n=a=>{a.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ft("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Hr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1e(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=k1e(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function fr(r,e){return r<e?-1:r>e?1:0}function TO(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),a=e.charAt(n);if(i!==a)return kM(i)===kM(a)?fr(i,a):kM(i)?1:-1}return fr(r.length,e.length)}const P1e=55296,L1e=57343;function kM(r){const e=r.charCodeAt(0);return e>=P1e&&e<=L1e}function Cm(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="__name__";class Cu{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ot(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ot(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Cu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cu?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Cu.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return fr(e.length,t.length)}static compareSegments(e,t){const n=Cu.isNumericId(e),i=Cu.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Cu.extractNumericId(e).compare(Cu.extractNumericId(t)):TO(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bh.fromString(e.substring(4,e.length-2))}}class on extends Cu{construct(e,t,n){return new on(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new lt(Be.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new on(t)}static emptyPath(){return new on([])}}const O1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oa extends Cu{construct(e,t,n){return new oa(e,t,n)}static isValidIdentifier(e){return O1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NU}static keyField(){return new oa([NU])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new lt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new lt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new lt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new lt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oa(t)}static emptyPath(){return new oa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(on.fromString(e))}static fromName(e){return new Tt(on.fromString(e).popFirst(5))}static empty(){return new Tt(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new on(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(r,e,t){if(!t)throw new lt(Be.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function N1e(r,e,t,n){if(e===!0&&n===!0)throw new lt(Be.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function FU(r){if(!Tt.isDocumentKey(r))throw new lt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function BU(r){if(Tt.isDocumentKey(r))throw new lt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cee(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qC(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ot(12329,{type:typeof r})}function Gl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qC(r);throw new lt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(r,e){const t={typeString:r};return e&&(t.value=e),t}function Qw(r,e){if(!cee(r))throw new lt(Be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const s=r[n];if(i&&typeof s!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new lt(Be.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=-62135596800,zU=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*zU);return new hn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VU)throw new lt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zU}_compareTo(e){return this.seconds===e.seconds?fr(this.nanoseconds,e.nanoseconds):fr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qw(e,hn._jsonSchema))return new hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hn._jsonSchemaVersion="firestore/timestamp/1.0",hn._jsonSchema={type:pi("string",hn._jsonSchemaVersion),seconds:pi("number"),nanoseconds:pi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new hn(0,0))}static max(){return new jt(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=-1;function F1e(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(n===1e9?new hn(t+1,0):new hn(t,n));return new Xh(i,Tt.empty(),e)}function B1e(r){return new Xh(r.readTime,r.key,Wx)}class Xh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xh(jt.min(),Tt.empty(),Wx)}static max(){return new Xh(jt.max(),Tt.empty(),Wx)}}function V1e(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Tt.comparator(r.documentKey,e.documentKey),t!==0?t:fr(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U1e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sy(r){if(r.code!==Be.FAILED_PRECONDITION||r.message!==z1e)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,n)=>{t(e)})}static reject(e){return new ze((t,n)=>{n(e)})}static waitFor(e){return new ze((t,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&t()},l=>n(l))}),s=!0,a===i&&t()})}static or(e){let t=ze.resolve(!1);for(const n of e)t=t.next(i=>i?ze.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new ze((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;t(e[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(e,t){return new ze((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function H1e(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oy(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}YC.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=-1;function XC(r){return r==null}function VA(r){return r===0&&1/r==-1/0}function G1e(r){return typeof r=="number"&&Number.isInteger(r)&&!VA(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee="";function j1e(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=UU(e)),e=W1e(r.get(t),e);return UU(e)}function W1e(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case fee:t+="";break;default:t+=a}}return t}function UU(r){return r+fee+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function md(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function hee(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t){this.comparator=e,this.root=t||aa.EMPTY}insert(e,t){return new En(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,aa.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,aa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cT(this.root,e,this.comparator,!1)}getReverseIterator(){return new cT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cT(this.root,e,this.comparator,!0)}}class cT{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class aa{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??aa.RED,this.left=i??aa.EMPTY,this.right=a??aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new aa(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return aa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return aa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ot(27949);return e+(this.isRed()?0:1)}}aa.EMPTY=null,aa.RED=!0,aa.BLACK=!1;aa.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new aa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GU(this.data.getIterator())}getIteratorFrom(e){return new GU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mi(this.comparator);return t.data=e,t}}class GU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.fields=e,e.sort(oa.comparator)}static empty(){return new oo([])}unionWith(e){let t=new Mi(oa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cm(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dee("Invalid base64 string: "+a):a}}(e);return new pa(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new pa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pa.EMPTY_BYTE_STRING=new pa("");const $1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kh(r){if(Hr(!!r,39018),typeof r=="string"){let e=0;const t=$1e.exec(r);if(Hr(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yn(r.seconds),nanos:Yn(r.nanos)}}function Yn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zh(r){return typeof r=="string"?pa.fromBase64String(r):pa.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee="server_timestamp",vee="__type__",gee="__previous_value__",mee="__local_write_time__";function $3(r){return(r?.mapValue?.fields||{})[vee]?.stringValue===pee}function KC(r){const e=r.mapValue.fields[gee];return $3(e)?KC(e):e}function $x(r){const e=Kh(r.mapValue.fields[mee].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1e{constructor(e,t,n,i,a,s,o,l,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const zA="(default)";class qx{constructor(e,t){this.projectId=e,this.database=t||zA}static empty(){return new qx("","")}get isDefaultDatabase(){return this.database===zA}isEqual(e){return e instanceof qx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee="__type__",Y1e="__max__",fT={mapValue:{}},_ee="__vector__",UA="value";function Qh(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$3(r)?4:K1e(r)?9007199254740991:X1e(r)?10:11:Ot(28295,{value:r})}function Qu(r,e){if(r===e)return!0;const t=Qh(r);if(t!==Qh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $x(r).isEqual($x(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Kh(i.timestampValue),o=Kh(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return Zh(i.bytesValue).isEqual(Zh(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Yn(i.geoPointValue.latitude)===Yn(a.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Yn(i.integerValue)===Yn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Yn(i.doubleValue),o=Yn(a.doubleValue);return s===o?VA(s)===VA(o):isNaN(s)&&isNaN(o)}return!1}(r,e);case 9:return Cm(r.arrayValue.values||[],e.arrayValue.values||[],Qu);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(HU(s)!==HU(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Qu(s[l],o[l])))return!1;return!0}(r,e);default:return Ot(52216,{left:r})}}function Yx(r,e){return(r.values||[]).find(t=>Qu(t,e))!==void 0}function Dm(r,e){if(r===e)return 0;const t=Qh(r),n=Qh(e);if(t!==n)return fr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return fr(r.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Yn(a.integerValue||a.doubleValue),l=Yn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(r,e);case 3:return jU(r.timestampValue,e.timestampValue);case 4:return jU($x(r),$x(e));case 5:return TO(r.stringValue,e.stringValue);case 6:return function(a,s){const o=Zh(a),l=Zh(s);return o.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=fr(o[u],l[u]);if(c!==0)return c}return fr(o.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,s){const o=fr(Yn(a.latitude),Yn(s.latitude));return o!==0?o:fr(Yn(a.longitude),Yn(s.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return WU(r.arrayValue,e.arrayValue);case 10:return function(a,s){const o=a.fields||{},l=s.fields||{},u=o[UA]?.arrayValue,c=l[UA]?.arrayValue,f=fr(u?.values?.length||0,c?.values?.length||0);return f!==0?f:WU(u,c)}(r.mapValue,e.mapValue);case 11:return function(a,s){if(a===fT.mapValue&&s===fT.mapValue)return 0;if(a===fT.mapValue)return 1;if(s===fT.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=TO(l[f],c[f]);if(h!==0)return h;const p=Dm(o[l[f]],u[c[f]]);if(p!==0)return p}return fr(l.length,c.length)}(r.mapValue,e.mapValue);default:throw Ot(23264,{he:t})}}function jU(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return fr(r,e);const t=Kh(r),n=Kh(e),i=fr(t.seconds,n.seconds);return i!==0?i:fr(t.nanos,n.nanos)}function WU(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Dm(t[i],n[i]);if(a)return a}return fr(t.length,n.length)}function Im(r){return AO(r)}function AO(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Kh(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Zh(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Tt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=AO(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${AO(t.fields[s])}`;return i+"}"}(r.mapValue):Ot(61005,{value:r})}function Q2(r){switch(Qh(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=KC(r);return e?16+Q2(e):16;case 5:return 2*r.stringValue.length;case 6:return Zh(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Q2(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return md(n.fields,(a,s)=>{i+=a.length+Q2(s)}),i}(r.mapValue);default:throw Ot(13486,{value:r})}}function $U(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function EO(r){return!!r&&"integerValue"in r}function q3(r){return!!r&&"arrayValue"in r}function qU(r){return!!r&&"nullValue"in r}function YU(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function J2(r){return!!r&&"mapValue"in r}function X1e(r){return(r?.mapValue?.fields||{})[yee]?.stringValue===_ee}function rx(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return md(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=rx(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rx(r.arrayValue.values[t]);return e}return{...r}}function K1e(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Y1e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!J2(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rx(t)}setAll(e){let t=oa.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,n,i),n={},i=[],t=o.popLast()}s?n[o.lastSegment()]=rx(s):i.push(o.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());J2(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];J2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){md(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ns(rx(this.value))}}function xee(r){const e=[];return md(r.fields,(t,n)=>{const i=new oa([t]);if(J2(n)){const a=xee(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new oo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,n,i,a,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ma(e,0,jt.min(),jt.min(),jt.min(),Ns.empty(),0)}static newFoundDocument(e,t,n,i){return new Ma(e,1,t,jt.min(),n,i,0)}static newNoDocument(e,t){return new Ma(e,2,t,jt.min(),jt.min(),Ns.empty(),0)}static newUnknownDocument(e,t){return new Ma(e,3,t,jt.min(),jt.min(),Ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ma&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ma(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.position=e,this.inclusive=t}}function XU(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],s=r.position[i];if(a.field.isKeyField()?n=Tt.comparator(Tt.fromName(s.referenceValue),t.key):n=Dm(s,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function KU(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Qu(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z1e(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{}class di extends wee{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new J1e(e,t,n):t==="array-contains"?new r_e(e,n):t==="in"?new n_e(e,n):t==="not-in"?new i_e(e,n):t==="array-contains-any"?new a_e(e,n):new di(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new e_e(e,n):new t_e(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Dm(t,this.value)):t!==null&&Qh(this.value)===Qh(t)&&this.matchesComparison(Dm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jl extends wee{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jl(e,t)}matches(e){return bee(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bee(r){return r.op==="and"}function See(r){return Q1e(r)&&bee(r)}function Q1e(r){for(const e of r.filters)if(e instanceof jl)return!1;return!0}function CO(r){if(r instanceof di)return r.field.canonicalString()+r.op.toString()+Im(r.value);if(See(r))return r.filters.map(e=>CO(e)).join(",");{const e=r.filters.map(t=>CO(t)).join(",");return`${r.op}(${e})`}}function Tee(r,e){return r instanceof di?function(n,i){return i instanceof di&&n.op===i.op&&n.field.isEqual(i.field)&&Qu(n.value,i.value)}(r,e):r instanceof jl?function(n,i){return i instanceof jl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&Tee(s,i.filters[o]),!0):!1}(r,e):void Ot(19439)}function Aee(r){return r instanceof di?function(t){return`${t.field.canonicalString()} ${t.op} ${Im(t.value)}`}(r):r instanceof jl?function(t){return t.op.toString()+" {"+t.getFilters().map(Aee).join(" ,")+"}"}(r):"Filter"}class J1e extends di{constructor(e,t,n){super(e,t,n),this.key=Tt.fromName(n.referenceValue)}matches(e){const t=Tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class e_e extends di{constructor(e,t){super(e,"in",t),this.keys=Eee("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class t_e extends di{constructor(e,t){super(e,"not-in",t),this.keys=Eee("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Eee(r,e){return(e.arrayValue?.values||[]).map(t=>Tt.fromName(t.referenceValue))}class r_e extends di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q3(t)&&Yx(t.arrayValue,this.value)}}class n_e extends di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yx(this.value.arrayValue,t)}}class i_e extends di{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yx(this.value.arrayValue,t)}}class a_e extends di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q3(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Yx(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_e{constructor(e,t=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function ZU(r,e=null,t=[],n=[],i=null,a=null,s=null){return new s_e(r,e,t,n,i,a,s)}function Y3(r){const e=qt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>CO(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),XC(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Im(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Im(n)).join(",")),e.Te=t}return e.Te}function X3(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Z1e(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Tee(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!KU(r.startAt,e.startAt)&&KU(r.endAt,e.endAt)}function DO(r){return Tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o_e(r,e,t,n,i,a,s,o){return new Jw(r,e,t,n,i,a,s,o)}function K3(r){return new Jw(r)}function QU(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cee(r){return r.collectionGroup!==null}function nx(r){const e=qt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Mi(oa.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new GA(a,n))}),t.has(oa.keyField().canonicalString())||e.Ie.push(new GA(oa.keyField(),n))}return e.Ie}function Uu(r){const e=qt(r);return e.Ee||(e.Ee=l_e(e,nx(r))),e.Ee}function l_e(r,e){if(r.limitType==="F")return ZU(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new GA(i.field,a)});const t=r.endAt?new HA(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new HA(r.startAt.position,r.startAt.inclusive):null;return ZU(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function IO(r,e){const t=r.filters.concat([e]);return new Jw(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function RO(r,e,t){return new Jw(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ZC(r,e){return X3(Uu(r),Uu(e))&&r.limitType===e.limitType}function Dee(r){return`${Y3(Uu(r))}|lt:${r.limitType}`}function M0(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>Aee(i)).join(", ")}]`),XC(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Im(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Im(i)).join(",")),`Target(${n})`}(Uu(r))}; limitType=${r.limitType})`}function QC(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Tt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of nx(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=XU(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,nx(n),i)||n.endAt&&!function(s,o,l){const u=XU(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,nx(n),i))}(r,e)}function u_e(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Iee(r){return(e,t)=>{let n=!1;for(const i of nx(r)){const a=c_e(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function c_e(r,e,t){const n=r.field.isKeyField()?Tt.comparator(e.key,t.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Dm(l,u):Ot(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ot(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){md(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return hee(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_e=new En(Tt.comparator);function ff(){return f_e}const Ree=new En(Tt.comparator);function L_(...r){let e=Ree;for(const t of r)e=e.insert(t.key,t);return e}function Mee(r){let e=Ree;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function $p(){return ix()}function kee(){return ix()}function ix(){return new Zv(r=>r.toString(),(r,e)=>r.isEqual(e))}const h_e=new En(Tt.comparator),d_e=new Mi(Tt.comparator);function pr(...r){let e=d_e;for(const t of r)e=e.add(t);return e}const p_e=new Mi(fr);function v_e(){return p_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VA(e)?"-0":e}}function Pee(r){return{integerValue:""+r}}function g_e(r,e){return G1e(e)?Pee(e):Z3(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._=void 0}}function m_e(r,e,t){return r instanceof Xx?function(i,a){const s={fields:{[vee]:{stringValue:pee},[mee]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&$3(a)&&(a=KC(a)),a&&(s.fields[gee]=a),{mapValue:s}}(t,e):r instanceof Kx?Oee(r,e):r instanceof Zx?Nee(r,e):function(i,a){const s=Lee(i,a),o=JU(s)+JU(i.Ae);return EO(s)&&EO(i.Ae)?Pee(o):Z3(i.serializer,o)}(r,e)}function y_e(r,e,t){return r instanceof Kx?Oee(r,e):r instanceof Zx?Nee(r,e):t}function Lee(r,e){return r instanceof jA?function(n){return EO(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Xx extends JC{}class Kx extends JC{constructor(e){super(),this.elements=e}}function Oee(r,e){const t=Fee(e);for(const n of r.elements)t.some(i=>Qu(i,n))||t.push(n);return{arrayValue:{values:t}}}class Zx extends JC{constructor(e){super(),this.elements=e}}function Nee(r,e){let t=Fee(e);for(const n of r.elements)t=t.filter(i=>!Qu(i,n));return{arrayValue:{values:t}}}class jA extends JC{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function JU(r){return Yn(r.integerValue||r.doubleValue)}function Fee(r){return q3(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(e,t){this.field=e,this.transform=t}}function x_e(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Kx&&i instanceof Kx||n instanceof Zx&&i instanceof Zx?Cm(n.elements,i.elements,Qu):n instanceof jA&&i instanceof jA?Qu(n.Ae,i.Ae):n instanceof Xx&&i instanceof Xx}(r.transform,e.transform)}class w_e{constructor(e,t){this.version=e,this.transformResults=t}}class Jo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jo}static exists(e){return new Jo(void 0,e)}static updateTime(e){return new Jo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eA(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class eD{}function Bee(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Q3(r.key,Jo.none()):new eb(r.key,r.data,Jo.none());{const t=r.data,n=Ns.empty();let i=new Mi(oa.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new yd(r.key,n,new oo(i.toArray()),Jo.none())}}function b_e(r,e,t){r instanceof eb?function(i,a,s){const o=i.value.clone(),l=t7(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(r,e,t):r instanceof yd?function(i,a,s){if(!eA(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=t7(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(Vee(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(r,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ax(r,e,t,n){return r instanceof eb?function(a,s,o,l){if(!eA(a.precondition,s))return o;const u=a.value.clone(),c=r7(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(r,e,t,n):r instanceof yd?function(a,s,o,l){if(!eA(a.precondition,s))return o;const u=r7(a.fieldTransforms,l,s),c=s.data;return c.setAll(Vee(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(r,e,t,n):function(a,s,o){return eA(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(r,e,t)}function S_e(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=Lee(n.transform,i||null);a!=null&&(t===null&&(t=Ns.empty()),t.set(n.field,a))}return t||null}function e7(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Cm(n,i,(a,s)=>x_e(a,s))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eb extends eD{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yd extends eD{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Vee(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function t7(r,e,t){const n=new Map;Hr(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const a=r[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,y_e(s,o,t[i]))}return n}function r7(r,e,t){const n=new Map;for(const i of r){const a=i.transform,s=t.data.field(i.field);n.set(i.field,m_e(a,s,e))}return n}class Q3 extends eD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T_e extends eD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_e{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&b_e(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ax(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ax(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=kee();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=t.has(i.key)?null:o;const l=Bee(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(jt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pr())}isEqual(e){return this.batchId===e.batchId&&Cm(this.mutations,e.mutations,(t,n)=>e7(t,n))&&Cm(this.baseMutations,e.baseMutations,(t,n)=>e7(t,n))}}class J3{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Hr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return h_e}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new J3(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_e{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui,Ar;function D_e(r){switch(r){case Be.OK:return Ot(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return Ot(15467,{code:r})}}function zee(r){if(r===void 0)return cf("GRPC error has no .code"),Be.UNKNOWN;switch(r){case ui.OK:return Be.OK;case ui.CANCELLED:return Be.CANCELLED;case ui.UNKNOWN:return Be.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Be.INTERNAL;case ui.UNAVAILABLE:return Be.UNAVAILABLE;case ui.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case ui.NOT_FOUND:return Be.NOT_FOUND;case ui.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case ui.ABORTED:return Be.ABORTED;case ui.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case ui.DATA_LOSS:return Be.DATA_LOSS;default:return Ot(39323,{code:r})}}(Ar=ui||(ui={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_e=new Bh([4294967295,4294967295],0);function n7(r){const e=I_e().encode(r),t=new tee;return t.update(e),new Uint8Array(t.digest())}function i7(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bh([t,n],0),new Bh([i,a],0)]}class eF{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new O_(`Invalid padding: ${t}`);if(n<0)throw new O_(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new O_(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new O_(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bh.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Bh.fromNumber(n)));return i.compare(R_e)===1&&(i=new Bh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=n7(e),[n,i]=i7(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new eF(a,i,t);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const t=n7(e),[n,i]=i7(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class O_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,tb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tD(jt.min(),i,new En(fr),ff(),pr())}}class tb{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tb(n,t,pr(),pr(),pr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class Uee{constructor(e,t){this.targetId=e,this.Ce=t}}class Hee{constructor(e,t,n=pa.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class a7{constructor(){this.ve=0,this.Fe=s7(),this.Me=pa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pr(),t=pr(),n=pr();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ot(38017,{changeType:a})}}),new tb(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=s7()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M_e{constructor(e){this.Ge=e,this.ze=new Map,this.je=ff(),this.Je=hT(),this.He=hT(),this.Ye=new En(fr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ot(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(DO(a))if(n===0){const s=new Tt(a.path);this.et(t,s,Ma.newNoDocument(s,jt.min()))}else Hr(n===1,20013,{expectedCount:n});else{const s=this._t(t);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,u)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let s,o;try{s=Zh(n).toUint8Array()}catch(l){if(l instanceof dee)return Em("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new eF(s,i,a)}catch(l){return Em(l instanceof O_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&DO(o.target)){const l=new Tt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ma.newNoDocument(l,e))}a.Be&&(t.set(s,a.ke()),a.qe())}});let n=pr();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new tD(e,t,this.Ye,this.je,n);return this.je=ff(),this.Je=hT(),this.He=hT(),this.Ye=new En(fr),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new a7,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Mi(fr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Mi(fr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ft("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a7),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hT(){return new En(Tt.comparator)}function s7(){return new En(Tt.comparator)}const k_e={asc:"ASCENDING",desc:"DESCENDING"},P_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L_e={and:"AND",or:"OR"};class O_e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function MO(r,e){return r.useProto3Json||XC(e)?e:{value:e}}function WA(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gee(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function N_e(r,e){return WA(r,e.toTimestamp())}function Hu(r){return Hr(!!r,49232),jt.fromTimestamp(function(t){const n=Kh(t);return new hn(n.seconds,n.nanos)}(r))}function tF(r,e){return kO(r,e).canonicalString()}function kO(r,e){const t=function(i){return new on(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function jee(r){const e=on.fromString(r);return Hr(Xee(e),10190,{key:e.toString()}),e}function PO(r,e){return tF(r.databaseId,e.path)}function PM(r,e){const t=jee(e);if(t.get(1)!==r.databaseId.projectId)throw new lt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new lt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Tt($ee(t))}function Wee(r,e){return tF(r.databaseId,e)}function F_e(r){const e=jee(r);return e.length===4?on.emptyPath():$ee(e)}function LO(r){return new on(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $ee(r){return Hr(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function o7(r,e,t){return{name:PO(r,e),fields:t.value.mapValue.fields}}function B_e(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ot(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Hr(c===void 0||typeof c=="string",58123),pa.fromBase64String(c||"")):(Hr(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),pa.fromUint8Array(c||new Uint8Array))}(r,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const c=u.code===void 0?Be.UNKNOWN:zee(u.code);return new lt(c,u.message||"")}(s);t=new Hee(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=PM(r,n.document.name),a=Hu(n.document.updateTime),s=n.document.createTime?Hu(n.document.createTime):jt.min(),o=new Ns({mapValue:{fields:n.document.fields}}),l=Ma.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];t=new tA(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=PM(r,n.document),a=n.readTime?Hu(n.readTime):jt.min(),s=Ma.newNoDocument(i,a),o=n.removedTargetIds||[];t=new tA([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=PM(r,n.document),a=n.removedTargetIds||[];t=new tA([],a,i,null)}else{if(!("filter"in e))return Ot(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new C_e(i,a),o=n.targetId;t=new Uee(o,s)}}return t}function V_e(r,e){let t;if(e instanceof eb)t={update:o7(r,e.key,e.value)};else if(e instanceof Q3)t={delete:PO(r,e.key)};else if(e instanceof yd)t={update:o7(r,e.key,e.data),updateMask:Y_e(e.fieldMask)};else{if(!(e instanceof T_e))return Ot(16599,{Vt:e.type});t={verify:PO(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Xx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Kx)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zx)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jA)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Ot(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:N_e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ot(27497)}(r,e.precondition)),t}function z_e(r,e){return r&&r.length>0?(Hr(e!==void 0,14353),r.map(t=>function(i,a){let s=i.updateTime?Hu(i.updateTime):Hu(a);return s.isEqual(jt.min())&&(s=Hu(a)),new w_e(s,i.transformResults||[])}(t,e))):[]}function U_e(r,e){return{documents:[Wee(r,e.path)]}}function H_e(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Wee(r,i);const a=function(u){if(u.length!==0)return Yee(jl.create(u,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:k0(h.field),direction:W_e(h.dir)}}(c))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=MO(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:t,parent:i}}function G_e(r){let e=F_e(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Hr(n===1,65062);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];t.where&&(a=function(f){const h=qee(f);return h instanceof jl&&See(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(h=>function(v){return new GA(P0(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(t.orderBy));let o=null;t.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,XC(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new HA(p,h)}(t.startAt));let u=null;return t.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new HA(p,h)}(t.endAt)),o_e(e,i,s,a,o,"F",l,u)}function j_e(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qee(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=P0(t.unaryFilter.field);return di.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=P0(t.unaryFilter.field);return di.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=P0(t.unaryFilter.field);return di.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=P0(t.unaryFilter.field);return di.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(r):r.fieldFilter!==void 0?function(t){return di.create(P0(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return jl.create(t.compositeFilter.filters.map(n=>qee(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(t.compositeFilter.op))}(r):Ot(30097,{filter:r})}function W_e(r){return k_e[r]}function $_e(r){return P_e[r]}function q_e(r){return L_e[r]}function k0(r){return{fieldPath:r.canonicalString()}}function P0(r){return oa.fromServerFormat(r.fieldPath)}function Yee(r){return r instanceof di?function(t){if(t.op==="=="){if(YU(t.value))return{unaryFilter:{field:k0(t.field),op:"IS_NAN"}};if(qU(t.value))return{unaryFilter:{field:k0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YU(t.value))return{unaryFilter:{field:k0(t.field),op:"IS_NOT_NAN"}};if(qU(t.value))return{unaryFilter:{field:k0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:k0(t.field),op:$_e(t.op),value:t.value}}}(r):r instanceof jl?function(t){const n=t.getFilters().map(i=>Yee(i));return n.length===1?n[0]:{compositeFilter:{op:q_e(t.op),filters:n}}}(r):Ot(54877,{filter:r})}function Y_e(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xee(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,n,i,a=jt.min(),s=jt.min(),o=pa.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new bh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_e{constructor(e){this.yt=e}}function K_e(r){const e=G_e({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?RO(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_e{constructor(){this.Cn=new Q_e}addToCollectionParentIndex(e,t){return this.Cn.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getIndexType(e,t){return ze.resolve(0)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,t){return ze.resolve(Xh.min())}getMinOffsetFromCollectionGroup(e,t){return ze.resolve(Xh.min())}updateCollectionGroup(e,t,n){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class Q_e{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Mi(on.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Mi(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kee=41943040;class ks{static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(Kee,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rm(0)}static cr(){return new Rm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="LruGarbageCollector",J_e=1048576;function c7([r,e],[t,n]){const i=fr(r,t);return i===0?fr(e,n):i}class exe{constructor(e){this.Ir=e,this.buffer=new Mi(c7),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();c7(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class txe{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ft(u7,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oy(t)?ft(u7,"Ignoring IndexedDB error during garbage collection: ",t):await sy(t)}await this.Vr(3e5)})}}class rxe{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ze.resolve(YC.ce);const n=new exe(t);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(l7)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l7):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,t))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),R0()<=ur.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function nxe(r,e){return new rxe(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(){this.changes=new Zv(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ma.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ze.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class axe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sxe{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&ax(n.mutation,i,oo.empty(),hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,pr()).next(()=>n))}getLocalViewOfDocuments(e,t,n=pr()){const i=$p();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let s=L_();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const n=$p();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,pr()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{t.set(s,o)})})}computeViews(e,t,n,i){let a=ff();const s=ix(),o=function(){return ix()}();return t.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof yd)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ax(c.mutation,u,c.mutation.getFieldMask(),hn.now())):s.set(u.key,oo.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),t.forEach((u,c)=>o.set(u,new axe(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,t){const n=ix();let i=new En((s,o)=>s-o),a=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let c=n.get(l)||oo.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||pr()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=kee();c.forEach(h=>{if(!a.has(h)){const p=Bee(t.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ze.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(s){return Tt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cee(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):ze.resolve($p());let o=Wx,l=a;return s.next(u=>ze.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?ze.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,pr())).next(c=>({batchId:o,changes:Mee(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tt(t)).next(n=>{let i=L_();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let s=L_();return this.indexManager.getCollectionParents(e,a).next(o=>ze.forEach(o,l=>{const u=function(f,h){return new Jw(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ma.newInvalidDocument(c)))});let o=L_();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ax(c.mutation,u,oo.empty(),hn.now()),QC(t,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oxe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ze.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Hu(i.createTime)}}(t)),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:K_e(i.bundledQuery),readTime:Hu(i.readTime)}}(t)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(){this.overlays=new En(Tt.comparator),this.qr=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$p();return ze.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.St(e,t,a)}),ze.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),ze.resolve()}getOverlaysForCollection(e,t,n){const i=$p(),a=t.length+1,s=new Tt(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new En((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=$p(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=$p(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return ze.resolve(o)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new E_e(t,n));let a=this.qr.get(t);a===void 0&&(a=pr(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uxe{constructor(){this.sessionToken=pa.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.Qr=new Mi(Gi.$r),this.Ur=new Mi(Gi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Gi(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new Gi(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new Tt(new on([])),n=new Gi(t,e),i=new Gi(t,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Tt(new on([])),n=new Gi(t,e),i=new Gi(t,e+1);let a=pr();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new Gi(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Gi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Tt.comparator(e.key,t.key)||fr(e.Yr,t.Yr)}static Kr(e,t){return fr(e.Yr,t.Yr)||Tt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Mi(Gi.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new A_e(a,t,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Gi(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(s)}lookupMutationBatch(e,t){return ze.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),a=i<0?0:i;return ze.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?W3:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Gi(t,0),i=new Gi(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),ze.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mi(fr);return t.forEach(i=>{const a=new Gi(i,0),s=new Gi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),ze.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Tt.isDocumentKey(a)||(a=a.child(""));const s=new Gi(new Tt(a),0);let o=new Mi(fr);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),ze.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Hr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ze.forEach(t.mutations,i=>{const a=new Gi(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Gi(t,0),i=this.Zr.firstAfterOrEqual(n);return ze.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fxe{constructor(e){this.ri=e,this.docs=function(){return new En(Tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ze.resolve(n?n.document.mutableCopy():Ma.newInvalidDocument(t))}getEntries(e,t){let n=ff();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ma.newInvalidDocument(i))}),ze.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=ff();const s=t.path,o=new Tt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||V1e(B1e(c),n)<=0||(i.has(c.key)||QC(t,c))&&(a=a.insert(c.key,c.mutableCopy()))}return ze.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Ot(9500)}ii(e,t){return ze.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new hxe(this)}getSize(e){return ze.resolve(this.size)}}class hxe extends ixe{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),ze.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dxe{constructor(e){this.persistence=e,this.si=new Zv(t=>Y3(t),X3),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new rF,this.targetCount=0,this.ai=Rm.ur()}forEachTarget(e,t){return this.si.forEach((n,i)=>t(i)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ze.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Rm(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.Pr(t),ze.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ze.waitFor(a).next(()=>i)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ze.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ze.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ze.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ze.resolve(n)}containsKey(e,t){return ze.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e,t){this.ui={},this.overlays={},this.ci=new YC(0),this.li=!1,this.li=!0,this.hi=new uxe,this.referenceDelegate=e(this),this.Pi=new dxe(this),this.indexManager=new Z_e,this.remoteDocumentCache=function(i){return new fxe(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new X_e(t),this.Ii=new oxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lxe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new cxe(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ft("MemoryPersistence","Starting transaction:",e);const i=new pxe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return ze.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class pxe extends U1e{constructor(e){super(),this.currentSequenceNumber=e}}class nF{constructor(e){this.persistence=e,this.Ri=new rF,this.Vi=null}static mi(e){return new nF(e)}get fi(){if(this.Vi)return this.Vi;throw Ot(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ze.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,n=>{const i=Tt.fromPath(n);return this.gi(e,i).next(a=>{a||t.removeEntry(i,jt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ze.or([()=>ze.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class $A{constructor(e,t){this.persistence=e,this.pi=new Zv(n=>j1e(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=nxe(this,t)}static mi(e,t){return new $A(e,t)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return ze.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?ze.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(o=>{o||(n++,a.removeEntry(s,jt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ze.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ze.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Q2(e.data.value)),t}br(e,t,n){return ze.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ze.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=pr(),i=pr();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iF(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qge()?8:H1e(za())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ys(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,t,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new vxe;return this.Ss(e,t,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,t,s,o.size)})}).next(()=>a.result)}bs(e,t,n,i){return n.documentReadCount<this.fs?(R0()<=ur.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",M0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(R0()<=ur.DEBUG&&ft("QueryEngine","Query:",M0(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(R0()<=ur.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",M0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uu(t))):ze.resolve())}ys(e,t){if(QU(t))return ze.resolve(null);let n=Uu(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=RO(t,null,"F"),n=Uu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=pr(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(t,o);return this.Cs(t,u,s,l.readTime)?this.ys(e,RO(t,null,"F")):this.vs(e,u,t,l)}))})))}ws(e,t,n,i){return QU(t)||i.isEqual(jt.min())?ze.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(t,a);return this.Cs(t,s,n,i)?ze.resolve(null):(R0()<=ur.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),M0(t)),this.vs(e,s,t,F1e(i,Wx)).next(o=>o))})}Ds(e,t){let n=new Mi(Iee(e));return t.forEach((i,a)=>{QC(e,a)&&(n=n.add(a))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return R0()<=ur.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",M0(t)),this.ps.getDocumentsMatchingQuery(e,t,Xh.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="LocalStore",mxe=3e8;class yxe{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new En(fr),this.xs=new Zv(a=>Y3(a),X3),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sxe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _xe(r,e,t,n){return new yxe(r,e,t,n)}async function Qee(r,e){const t=qt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=pr();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function xxe(r,e){const t=qt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,h=f.keys();let p=ze.resolve();return h.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(m=>{const y=u.docVersions.get(v);Hr(y!==null,48541),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=pr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function Jee(r){const e=qt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function wxe(r,e){const t=qt(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const o=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(t.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(pa.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(f,p),function(m,y,x){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=mxe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,c)&&o.push(t.Pi.updateTargetData(a,p))});let l=ff(),u=pr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(bxe(a,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(jt.min())){const c=t.Pi.getLastRemoteSnapshotVersion(a).next(f=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return ze.waitFor(o).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(t.Ms=i,a))}function bxe(r,e,t){let n=pr(),i=pr();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let s=ff();return t.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(jt.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ft(aF,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Sxe(r,e){const t=qt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=W3),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Txe(r,e){const t=qt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Pi.getTargetData(n,e).next(a=>a?(i=a,ze.resolve(i)):t.Pi.allocateTargetId(n).next(s=>(i=new bh(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function OO(r,e,t){const n=qt(r),i=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!oy(s))throw s;ft(aF,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function f7(r,e,t){const n=qt(r);let i=jt.min(),a=pr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=qt(l),h=f.xs.get(c);return h!==void 0?ze.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(n,s,Uu(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,t?i:jt.min(),t?a:pr())).next(o=>(Axe(n,u_e(e),o),{documents:o,Qs:a})))}function Axe(r,e,t){let n=r.Os.get(e)||jt.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Os.set(e,n)}class h7{constructor(){this.activeTargetIds=v_e()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Exe{constructor(){this.Mo=new h7,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h7,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cxe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="ConnectivityMonitor";class p7{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(d7,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ft(d7,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dT=null;function NO(){return dT===null?dT=function(){return 268435456+Math.round(2147483648*Math.random())}():dT++,"0x"+dT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="RestConnection",Dxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ixe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===zA?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,a){const s=NO(),o=this.zo(e,t.toUriEncodedString());ft(LM,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=pd(u);return this.Jo(e,o,l,n,c).then(f=>(ft(LM,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Em(LM,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,t,n,i,a,s){return this.Go(e,t,n,i,a)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ay}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const n=Dxe[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="WebChannelConnection";class Mxe extends Ixe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const s=NO();return new Promise((o,l)=>{const u=new ree;u.setWithCredentials(!0),u.listenOnce(nee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Z2.NO_ERROR:const f=u.getResponseJson();ft(ba,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Z2.TIMEOUT:ft(ba,`RPC '${e}' ${s} timed out`),l(new lt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Z2.HTTP_ERROR:const h=u.getStatus();if(ft(ba,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p?.error;if(v&&v.status&&v.message){const m=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(w)>=0?w:Be.UNKNOWN}(v.status);l(new lt(m,v.message))}else l(new lt(Be.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new lt(Be.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ft(ba,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ft(ba,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,n,15)})}T_(e,t,n){const i=NO(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=see(),o=aee(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const c=a.join("");ft(ba,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,p=!1;const v=new Rxe({Yo:y=>{p?ft(ba,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ft(ba,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ft(ba,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),m=(y,x,w)=>{y.listen(x,b=>{try{w(b)}catch(T){setTimeout(()=>{throw T},0)}})};return m(f,P_.EventType.OPEN,()=>{p||(ft(ba,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(f,P_.EventType.CLOSE,()=>{p||(p=!0,ft(ba,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),m(f,P_.EventType.ERROR,y=>{p||(p=!0,Em(ba,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new lt(Be.UNAVAILABLE,"The operation could not be completed")))}),m(f,P_.EventType.MESSAGE,y=>{if(!p){const x=y.data[0];Hr(!!x,16349);const w=x,b=w?.error||w[0]?.error;if(b){ft(ba,`RPC '${e}' stream ${i} received error:`,b);const T=b.status;let C=function(R){const M=ui[R];if(M!==void 0)return zee(M)}(T),D=b.message;C===void 0&&(C=Be.INTERNAL,D="Unknown error status: "+T+" with message "+b.message),p=!0,v.a_(new lt(C,D)),f.close()}else ft(ba,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}}),m(o,iee.STAT_EVENT,y=>{y.stat===SO.PROXY?ft(ba,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===SO.NOPROXY&&ft(ba,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function OM(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r){return new O_e(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="PersistentStream";class tte{constructor(e,t,n,i,a,s,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ete(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(cf(t.toString()),cf("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===t&&this.G_(n,i)},n=>{e(()=>{const i=new lt(Be.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ft(v7,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ft(v7,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kxe extends tte{constructor(e,t,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=B_e(this.serializer,e),n=function(a){if(!("targetChange"in a))return jt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?jt.min():s.readTime?Hu(s.readTime):jt.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=LO(this.serializer),t.addTarget=function(a,s){let o;const l=s.target;if(o=DO(l)?{documents:U_e(a,l)}:{query:H_e(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Gee(a,s.resumeToken);const u=MO(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(jt.min())>0){o.readTime=WA(a,s.snapshotVersion.toTimestamp());const u=MO(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=j_e(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=LO(this.serializer),t.removeTarget=e,this.q_(t)}}class Pxe extends tte{constructor(e,t,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=z_e(e.writeResults,e.commitTime),n=Hu(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=LO(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>V_e(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{}class Oxe extends Lxe{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new lt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,kO(t,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new lt(Be.UNKNOWN,a.toString())})}Ho(e,t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,kO(t,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Be.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Nxe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cf(t),this.aa=!1):ft("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="RemoteStore";class Fxe{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Qv(this)&&(ft(Iv,"Restarting streams for network reachability change."),await async function(l){const u=qt(l);u.Ea.add(4),await rb(u),u.Ra.set("Unknown"),u.Ea.delete(4),await nD(u)}(this))})}),this.Ra=new Nxe(n,i)}}async function nD(r){if(Qv(r))for(const e of r.da)await e(!0)}async function rb(r){for(const e of r.da)await e(!1)}function rte(r,e){const t=qt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),uF(t)?lF(t):ly(t).O_()&&oF(t,e))}function sF(r,e){const t=qt(r),n=ly(t);t.Ia.delete(e),n.O_()&&nte(t,e),t.Ia.size===0&&(n.O_()?n.L_():Qv(t)&&t.Ra.set("Unknown"))}function oF(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ly(r).Y_(e)}function nte(r,e){r.Va.Ue(e),ly(r).Z_(e)}function lF(r){r.Va=new M_e({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ly(r).start(),r.Ra.ua()}function uF(r){return Qv(r)&&!ly(r).x_()&&r.Ia.size>0}function Qv(r){return qt(r).Ea.size===0}function ite(r){r.Va=void 0}async function Bxe(r){r.Ra.set("Online")}async function Vxe(r){r.Ia.forEach((e,t)=>{oF(r,e)})}async function zxe(r,e){ite(r),uF(r)?(r.Ra.ha(e),lF(r)):r.Ra.set("Unknown")}async function Uxe(r,e,t){if(r.Ra.set("Online"),e instanceof Hee&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(r,e)}catch(n){ft(Iv,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qA(r,n)}else if(e instanceof tA?r.Va.Ze(e):e instanceof Uee?r.Va.st(e):r.Va.tt(e),!t.isEqual(jt.min()))try{const n=await Jee(r.localStore);t.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(pa.EMPTY_BYTE_STRING,c.snapshotVersion)),nte(a,l);const f=new bh(c.target,l,u,c.sequenceNumber);oF(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(r,t)}catch(n){ft(Iv,"Failed to raise snapshot:",n),await qA(r,n)}}async function qA(r,e,t){if(!oy(e))throw e;r.Ea.add(1),await rb(r),r.Ra.set("Offline"),t||(t=()=>Jee(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ft(Iv,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await nD(r)})}function ate(r,e){return e().catch(t=>qA(r,t,e))}async function iD(r){const e=qt(r),t=Jh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:W3;for(;Hxe(e);)try{const i=await Sxe(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,Gxe(e,i)}catch(i){await qA(e,i)}ste(e)&&ote(e)}function Hxe(r){return Qv(r)&&r.Ta.length<10}function Gxe(r,e){r.Ta.push(e);const t=Jh(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ste(r){return Qv(r)&&!Jh(r).x_()&&r.Ta.length>0}function ote(r){Jh(r).start()}async function jxe(r){Jh(r).ra()}async function Wxe(r){const e=Jh(r);for(const t of r.Ta)e.ea(t.mutations)}async function $xe(r,e,t){const n=r.Ta.shift(),i=J3.from(n,e,t);await ate(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await iD(r)}async function qxe(r,e){e&&Jh(r).X_&&await async function(n,i){if(function(s){return D_e(s)&&s!==Be.ABORTED}(i.code)){const a=n.Ta.shift();Jh(n).B_(),await ate(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await iD(n)}}(r,e),ste(r)&&ote(r)}async function g7(r,e){const t=qt(r);t.asyncQueue.verifyOperationInProgress(),ft(Iv,"RemoteStore received new credentials");const n=Qv(t);t.Ea.add(3),await rb(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await nD(t)}async function Yxe(r,e){const t=qt(r);e?(t.Ea.delete(2),await nD(t)):e||(t.Ea.add(2),await rb(t),t.Ra.set("Unknown"))}function ly(r){return r.ma||(r.ma=function(t,n,i){const a=qt(t);return a.sa(),new kxe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{Xo:Bxe.bind(null,r),t_:Vxe.bind(null,r),r_:zxe.bind(null,r),H_:Uxe.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),uF(r)?lF(r):r.Ra.set("Unknown")):(await r.ma.stop(),ite(r))})),r.ma}function Jh(r){return r.fa||(r.fa=function(t,n,i){const a=qt(t);return a.sa(),new Pxe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jxe.bind(null,r),r_:qxe.bind(null,r),ta:Wxe.bind(null,r),na:$xe.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await iD(r)):(await r.fa.stop(),r.Ta.length>0&&(ft(Iv,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ef,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const s=Date.now()+n,o=new cF(e,t,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fF(r,e){if(cf("AsyncQueue",`${e}: ${r}`),oy(r))return new lt(Be.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static emptySet(e){return new am(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Tt.comparator(t.key,n.key):(t,n)=>Tt.comparator(t.key,n.key),this.keyedMap=L_(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof am)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new am;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(){this.ga=new En(Tt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ot(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Mm{constructor(e,t,n,i,a,s,o,l,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,i,a){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Mm(e,t,am.emptySet(t),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ZC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xxe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Kxe{constructor(){this.queries=y7(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=qt(t),a=i.queries;i.queries=y7(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new lt(Be.ABORTED,"Firestore shutting down"))}}function y7(){return new Zv(r=>Dee(r),ZC)}async function lte(r,e){const t=qt(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Xxe,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const o=fF(s,`Initialization of query '${M0(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&hF(t)}async function ute(r,e){const t=qt(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Zxe(r,e){const t=qt(r);let n=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&hF(t)}function Qxe(r,e,t){const n=qt(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function hF(r){r.Ca.forEach(e=>{e.next()})}var FO,_7;(_7=FO||(FO={})).Ma="default",_7.Cache="cache";class cte{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Mm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==FO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e){this.key=e}}class hte{constructor(e){this.key=e}}class Jxe{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pr(),this.mutatedKeys=pr(),this.eu=Iee(e),this.tu=new am(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new m7,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=QC(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==m&&(n.track({type:3,doc:p}),y=!0):this.su(h,p)||(n.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),y=!0):h&&!p&&(n.track({type:1,doc:h}),y=!0,(l||u)&&(o=!0)),y&&(p?(s=s.add(p),a=m?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,v){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Rt:y})}};return m(p)-m(v)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const o=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Mm(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m7,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new hte(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new fte(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=pr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Mm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dF="SyncEngine";class ewe{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class twe{constructor(e){this.key=e,this.hu=!1}}class rwe{constructor(e,t,n,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Zv(o=>Dee(o),ZC),this.Iu=new Map,this.Eu=new Set,this.du=new En(Tt.comparator),this.Au=new Map,this.Ru=new rF,this.Vu={},this.mu=new Map,this.fu=Rm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nwe(r,e,t=!0){const n=yte(r);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await dte(n,e,t,!0),i}async function iwe(r,e){const t=yte(r);await dte(t,e,!0,!1)}async function dte(r,e,t,n){const i=await Txe(r.localStore,Uu(e)),a=i.targetId,s=r.sharedClientState.addLocalQueryTarget(a,t);let o;return n&&(o=await awe(r,e,a,s==="current",i.resumeToken)),r.isPrimaryClient&&t&&rte(r.remoteStore,i),o}async function awe(r,e,t,n,i){r.pu=(f,h,p)=>async function(m,y,x,w){let b=y.view.ru(x);b.Cs&&(b=await f7(m.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,b)));const T=w&&w.targetChanges.get(y.targetId),C=w&&w.targetMismatches.get(y.targetId)!=null,D=y.view.applyChanges(b,m.isPrimaryClient,T,C);return w7(m,y.targetId,D.au),D.snapshot}(r,f,h,p);const a=await f7(r.localStore,e,!0),s=new Jxe(e,a.Qs),o=s.ru(a.documents),l=tb.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),u=s.applyChanges(o,r.isPrimaryClient,l);w7(r,t,u.au);const c=new ewe(e,t,s);return r.Tu.set(e,c),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),u.snapshot}async function swe(r,e,t){const n=qt(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!ZC(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await OO(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&sF(n.remoteStore,i.targetId),BO(n,i.targetId)}).catch(sy)):(BO(n,i.targetId),await OO(n.localStore,i.targetId,!0))}async function owe(r,e){const t=qt(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),sF(t.remoteStore,n.targetId))}async function lwe(r,e,t){const n=vwe(r);try{const i=await function(s,o){const l=qt(s),u=hn.now(),c=o.reduce((p,v)=>p.add(v.key),pr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=ff(),m=pr();return l.Ns.getEntries(p,c).next(y=>{v=y,v.forEach((x,w)=>{w.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(y=>{f=y;const x=[];for(const w of o){const b=S_e(w,f.get(w.key).overlayedDocument);b!=null&&x.push(new yd(w.key,b,xee(b.value.mapValue),Jo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,o)}).next(y=>{h=y;const x=y.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,y.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Mee(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new En(fr)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,t),await nb(n,i.changes),await iD(n.remoteStore)}catch(i){const a=fF(i,"Failed to persist write");t.reject(a)}}async function pte(r,e){const t=qt(r);try{const n=await wxe(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Au.get(a);s&&(Hr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Hr(s.hu,14607):i.removedDocuments.size>0&&(Hr(s.hu,42227),s.hu=!1))}),await nb(t,n,e)}catch(n){await sy(n)}}function x7(r,e,t){const n=qt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=qt(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(o)&&(u=!0)}),u&&hF(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function uwe(r,e,t){const n=qt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new En(Tt.comparator);s=s.insert(a,Ma.newNoDocument(a,jt.min()));const o=pr().add(a),l=new tD(jt.min(),new Map,new En(fr),s,o);await pte(n,l),n.du=n.du.remove(a),n.Au.delete(e),pF(n)}else await OO(n.localStore,e,!1).then(()=>BO(n,e,t)).catch(sy)}async function cwe(r,e){const t=qt(r),n=e.batch.batchId;try{const i=await xxe(t.localStore,e);gte(t,n,null),vte(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await nb(t,i)}catch(i){await sy(i)}}async function fwe(r,e,t){const n=qt(r);try{const i=await function(s,o){const l=qt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Hr(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);gte(n,e,t),vte(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await nb(n,i)}catch(i){await sy(i)}}function vte(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function gte(r,e,t){const n=qt(r);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function BO(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(n=>{r.Ru.containsKey(n)||mte(r,n)})}function mte(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(sF(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),pF(r))}function w7(r,e,t){for(const n of t)n instanceof fte?(r.Ru.addReference(n.key,e),hwe(r,n)):n instanceof hte?(ft(dF,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||mte(r,n.key)):Ot(19791,{wu:n})}function hwe(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(ft(dF,"New document in limbo: "+t),r.Eu.add(n),pF(r))}function pF(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Tt(on.fromString(e)),n=r.fu.next();r.Au.set(n,new twe(t)),r.du=r.du.insert(t,n),rte(r.remoteStore,new bh(Uu(K3(t.path)),n,"TargetPurposeLimboResolution",YC.ce))}}async function nb(r,e,t){const n=qt(r),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,t).then(u=>{if((u||t)&&n.isPrimaryClient){const c=u?!u.fromCache:t?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=iF.As(l.targetId,u);a.push(c)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const c=qt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ze.forEach(u,h=>ze.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ze.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!oy(f))throw f;ft(aF,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.Ms.get(h),v=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(v);c.Ms=c.Ms.insert(h,m)}}}(n.localStore,a))}async function dwe(r,e){const t=qt(r);if(!t.currentUser.isEqual(e)){ft(dF,"User change. New user:",e.toKey());const n=await Qee(t.localStore,e);t.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new lt(Be.CANCELLED,s))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await nb(t,n.Ls)}}function pwe(r,e){const t=qt(r),n=t.Au.get(e);if(n&&n.hu)return pr().add(n.key);{let i=pr();const a=t.Iu.get(e);if(!a)return i;for(const s of a){const o=t.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function yte(r){const e=qt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=pte.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uwe.bind(null,e),e.Pu.H_=Zxe.bind(null,e.eventManager),e.Pu.yu=Qxe.bind(null,e.eventManager),e}function vwe(r){const e=qt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fwe.bind(null,e),e}class YA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rD(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _xe(this.persistence,new gxe,e.initialUser,this.serializer)}Cu(e){return new Zee(nF.mi,this.serializer)}Du(e){return new Exe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}YA.provider={build:()=>new YA};class gwe extends YA{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hr(this.persistence.referenceDelegate instanceof $A,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new txe(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Zee(n=>$A.mi(n,t),this.serializer)}}class VO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>x7(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=dwe.bind(null,this.syncEngine),await Yxe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kxe}()}createDatastore(e){const t=rD(e.databaseInfo.databaseId),n=function(a){return new Mxe(a)}(e.databaseInfo);return function(a,s,o,l){return new Oxe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,s,o){return new Fxe(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,t=>x7(this.syncEngine,t,0),function(){return p7.v()?new p7:new Cxe}())}createSyncEngine(e,t){return function(i,a,s,o,l,u,c){const f=new rwe(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const n=qt(t);ft(Iv,"RemoteStore shutting down."),n.Ea.add(5),await rb(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}VO.provider={build:()=>new VO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cf("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="FirestoreClient";class mwe{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Da.UNAUTHENTICATED,this.clientId=j3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{ft(ed,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ft(ed,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ef;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=fF(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function NM(r,e){r.asyncQueue.verifyOperationInProgress(),ft(ed,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Qee(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function b7(r,e){r.asyncQueue.verifyOperationInProgress();const t=await ywe(r);ft(ed,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>g7(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>g7(e.remoteStore,i)),r._onlineComponents=e}async function ywe(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(ed,"Using user provided OfflineComponentProvider");try{await NM(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Em("Error using user provided cache. Falling back to memory cache: "+t),await NM(r,new YA)}}else ft(ed,"Using default OfflineComponentProvider"),await NM(r,new gwe(void 0));return r._offlineComponents}async function xte(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(ed,"Using user provided OnlineComponentProvider"),await b7(r,r._uninitializedComponentsProvider._online)):(ft(ed,"Using default OnlineComponentProvider"),await b7(r,new VO))),r._onlineComponents}function _we(r){return xte(r).then(e=>e.syncEngine)}async function wte(r){const e=await xte(r),t=e.eventManager;return t.onListen=nwe.bind(null,e.syncEngine),t.onUnlisten=swe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iwe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=owe.bind(null,e.syncEngine),t}function xwe(r,e,t={}){const n=new ef;return r.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new _te({next:h=>{c.Nu(),s.enqueueAndForget(()=>ute(a,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new lt(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new lt(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new cte(K3(o.path),c,{includeMetadataChanges:!0,qa:!0});return lte(a,f)}(await wte(r),r.asyncQueue,e,t,n)),n.promise}function wwe(r,e,t={}){const n=new ef;return r.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new _te({next:h=>{c.Nu(),s.enqueueAndForget(()=>ute(a,f)),h.fromCache&&l.source==="server"?u.reject(new lt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new cte(o,c,{includeMetadataChanges:!0,qa:!0});return lte(a,f)}(await wte(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste="firestore.googleapis.com",T7=!0;class A7{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ste,this.ssl=T7}else this.host=e.host,this.ssl=e.ssl??T7;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kee;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J_e)throw new lt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bte(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new lt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new lt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new lt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aD{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A7({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A7(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new E1e;switch(n.type){case"firstParty":return new R1e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new lt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=S7.get(t);n&&(ft("ComponentProvider","Removing Datastore"),S7.delete(t),n.terminate())}(this),Promise.resolve()}}function bwe(r,e,t,n={}){r=Gl(r,aD);const i=pd(e),a=r._getSettings(),s={...a,emulatorOptions:r._getEmulatorOptions()},o=`${e}:${t}`;i&&(I3(`https://${o}`),R3("Firestore",!0)),a.host!==Ste&&a.host!==o&&Em("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!Tv(l,s)&&(r._setSettings(l),n.mockUserToken)){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Da.MOCK_USER;else{u=gJ(n.mockUserToken,r._app?.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new lt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Da(f)}r._authCredentials=new C1e(new lee(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uy(this.firestore,e,this._query)}}class Zn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}toJSON(){return{type:Zn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Qw(t,Zn._jsonSchema))return new Zn(e,n||null,new Tt(on.fromString(t.referencePath)))}}Zn._jsonSchemaVersion="firestore/documentReference/1.0",Zn._jsonSchema={type:pi("string",Zn._jsonSchemaVersion),referencePath:pi("string")};class Vh extends uy{constructor(e,t,n){super(e,t,K3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Tt(e))}withConverter(e){return new Vh(this.firestore,e,this._path)}}function mr(r,e,...t){if(r=Jn(r),uee("collection","path",e),r instanceof aD){const n=on.fromString(e,...t);return BU(n),new Vh(r,null,n)}{if(!(r instanceof Zn||r instanceof Vh))throw new lt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(on.fromString(e,...t));return BU(n),new Vh(r.firestore,null,n)}}function Xn(r,e,...t){if(r=Jn(r),arguments.length===1&&(e=j3.newId()),uee("doc","path",e),r instanceof aD){const n=on.fromString(e,...t);return FU(n),new Zn(r,null,new Tt(n))}{if(!(r instanceof Zn||r instanceof Vh))throw new lt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(on.fromString(e,...t));return FU(n),new Zn(r.firestore,r instanceof Vh?r.converter:null,new Tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="AsyncQueue";class C7{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ete(this,"async_queue_retry"),this._c=()=>{const n=OM();n&&ft(E7,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=OM();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=OM();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ef;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oy(e))throw e;ft(E7,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,cf("INTERNAL UNHANDLED ERROR: ",D7(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=cF.createAndSchedule(this,e,t,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ot(47125,{Pc:D7(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function D7(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Jv extends aD{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new C7,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C7(e),this._firestoreClient=void 0,await e}}}function Swe(r,e){const t=typeof r=="object"?r:L3(),n=typeof r=="string"?r:zA,i=GC(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=dJ("firestore");a&&bwe(i,...a)}return i}function vF(r){if(r._terminated)throw new lt(Be.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Twe(r),r._firestoreClient}function Twe(r){const e=r._freezeSettings(),t=function(i,a,s,o){return new q1e(i,a,s,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,bte(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new mwe(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(pa.fromBase64String(e))}catch(t){throw new lt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(pa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ko._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qw(e,Ko._jsonSchema))return Ko.fromBase64String(e.bytes)}}Ko._jsonSchemaVersion="firestore/bytes/1.0",Ko._jsonSchema={type:pi("string",Ko._jsonSchemaVersion),bytes:pi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new lt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fr(this._lat,e._lat)||fr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gu._jsonSchemaVersion}}static fromJSON(e){if(Qw(e,Gu._jsonSchema))return new Gu(e.latitude,e.longitude)}}Gu._jsonSchemaVersion="firestore/geoPoint/1.0",Gu._jsonSchema={type:pi("string",Gu._jsonSchemaVersion),latitude:pi("number"),longitude:pi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ju._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qw(e,ju._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ju(e.vectorValues);throw new lt(Be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ju._jsonSchemaVersion="firestore/vectorValue/1.0",ju._jsonSchema={type:pi("string",ju._jsonSchemaVersion),vectorValues:pi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe=/^__.*__$/;class Ewe{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new yd(e,this.data,this.fieldMask,t,this.fieldTransforms):new eb(e,this.data,t,this.fieldTransforms)}}class Tte{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new yd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ate(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ac:r})}}class gF{constructor(e,t,n,i,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gF({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return XA(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ate(this.Ac)&&Awe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cwe{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rD(e)}Cc(e,t,n,i=!1){return new gF({Ac:e,methodName:t,Dc:n,path:oa.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lD(r){const e=r._freezeSettings(),t=rD(r._databaseId);return new Cwe(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ete(r,e,t,n,i,a={}){const s=r.Cc(a.merge||a.mergeFields?2:0,e,t,i);yF("Data must be an object, but it was:",s,n);const o=Cte(n,s);let l,u;if(a.merge)l=new oo(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=zO(e,f,t);if(!s.contains(h))throw new lt(Be.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Ite(c,h)||c.push(h)}l=new oo(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Ewe(new Ns(o),l,u)}class uD extends oD{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uD}}class mF extends oD{_toFieldTransform(e){return new __e(e.path,new Xx)}isEqual(e){return e instanceof mF}}function Dwe(r,e,t,n){const i=r.Cc(1,e,t);yF("Data must be an object, but it was:",i,n);const a=[],s=Ns.empty();md(n,(l,u)=>{const c=_F(e,l,t);u=Jn(u);const f=i.yc(c);if(u instanceof uD)a.push(c);else{const h=ib(u,f);h!=null&&(a.push(c),s.set(c,h))}});const o=new oo(a);return new Tte(s,o,i.fieldTransforms)}function Iwe(r,e,t,n,i,a){const s=r.Cc(1,e,t),o=[zO(e,n,t)],l=[i];if(a.length%2!=0)throw new lt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(zO(e,a[h])),l.push(a[h+1]);const u=[],c=Ns.empty();for(let h=o.length-1;h>=0;--h)if(!Ite(u,o[h])){const p=o[h];let v=l[h];v=Jn(v);const m=s.yc(p);if(v instanceof uD)u.push(p);else{const y=ib(v,m);y!=null&&(u.push(p),c.set(p,y))}}const f=new oo(u);return new Tte(c,f,s.fieldTransforms)}function Rwe(r,e,t,n=!1){return ib(t,r.Cc(n?4:3,e))}function ib(r,e){if(Dte(r=Jn(r)))return yF("Unsupported field value:",e,r),Cte(r,e);if(r instanceof oD)return function(n,i){if(!Ate(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=ib(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=Jn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return g_e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=hn.fromDate(n);return{timestampValue:WA(i.serializer,a)}}if(n instanceof hn){const a=new hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:WA(i.serializer,a)}}if(n instanceof Gu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ko)return{bytesValue:Gee(i.serializer,n._byteString)};if(n instanceof Zn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tF(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ju)return function(s,o){return{mapValue:{fields:{[yee]:{stringValue:_ee},[UA]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return Z3(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${qC(n)}`)}(r,e)}function Cte(r,e){const t={};return hee(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):md(r,(n,i)=>{const a=ib(i,e.mc(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function Dte(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof hn||r instanceof Gu||r instanceof Ko||r instanceof Zn||r instanceof oD||r instanceof ju)}function yF(r,e,t){if(!Dte(t)||!cee(t)){const n=qC(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function zO(r,e,t){if((e=Jn(e))instanceof sD)return e._internalPath;if(typeof e=="string")return _F(r,e);throw XA("Field path arguments must be of type string or ",r,!1,void 0,t)}const Mwe=new RegExp("[~\\*/\\[\\]]");function _F(r,e,t){if(e.search(Mwe)>=0)throw XA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sD(...e.split("."))._internalPath}catch{throw XA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function XA(r,e,t,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new lt(Be.INVALID_ARGUMENT,o+r+l)}function Ite(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xF("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kwe extends Rte{data(){return super.data()}}function xF(r,e){return typeof e=="string"?_F(r,e):e instanceof sD?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pwe(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wF{}class Lwe extends wF{}function Kn(r,e,...t){let n=[];e instanceof wF&&n.push(e),n=n.concat(t),function(a){const s=a.filter(l=>l instanceof bF).length,o=a.filter(l=>l instanceof cD).length;if(s>1||s>0&&o>0)throw new lt(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class cD extends Lwe{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new cD(e,t,n)}_apply(e){const t=this._parse(e);return Mte(e._query,t),new uy(e.firestore,e.converter,IO(e._query,t))}_parse(e){const t=lD(e.firestore);return function(a,s,o,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new lt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){R7(f,c);const v=[];for(const m of f)v.push(I7(l,a,m));h={arrayValue:{values:v}}}else h=I7(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||R7(f,c),h=Rwe(o,s,f,c==="in"||c==="not-in");return di.create(u,c,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _n(r,e,t){const n=e,i=xF("where",r);return cD._create(i,n,t)}class bF extends wF{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bF(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:jl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)Mte(s,l),s=IO(s,l)}(e._query,t),new uy(e.firestore,e.converter,IO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I7(r,e,t){if(typeof(t=Jn(t))=="string"){if(t==="")throw new lt(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cee(e)&&t.indexOf("/")!==-1)throw new lt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(on.fromString(t));if(!Tt.isDocumentKey(n))throw new lt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $U(r,new Tt(n))}if(t instanceof Zn)return $U(r,t._key);throw new lt(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qC(t)}.`)}function R7(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mte(r,e){const t=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new lt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Owe{convertValue(e,t="none"){switch(Qh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return md(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){const t=e.fields?.[UA].arrayValue?.values?.map(n=>Yn(n.doubleValue));return new ju(t)}convertGeoPoint(e){return new Gu(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=KC(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($x(e));default:return null}}convertTimestamp(e){const t=Kh(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=on.fromString(e);Hr(Xee(n),9688,{name:e});const i=new qx(n.get(1),n.get(3)),a=new Tt(n.popFirst(5));return i.isEqual(t)||cf(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class N_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uv extends Rte{constructor(e,t,n,i,a,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=uv._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}uv._jsonSchemaVersion="firestore/documentSnapshot/1.0",uv._jsonSchema={type:pi("string",uv._jsonSchemaVersion),bundleSource:pi("string","DocumentSnapshot"),bundleName:pi("string"),bundle:pi("string")};class rA extends uv{data(e={}){return super.data(e)}}class sm{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new N_(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new rA(this._firestore,this._userDataWriter,n.key,n,new N_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new rA(i._firestore,i._userDataWriter,o.doc.key,o.doc,new N_(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new rA(i._firestore,i._userDataWriter,o.doc.key,o.doc,new N_(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Nwe(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nwe(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(r){r=Gl(r,Zn);const e=Gl(r.firestore,Jv);return xwe(vF(e),r._key).then(t=>Vwe(e,r,t))}sm._jsonSchemaVersion="firestore/querySnapshot/1.0",sm._jsonSchema={type:pi("string",sm._jsonSchemaVersion),bundleSource:pi("string","QuerySnapshot"),bundleName:pi("string"),bundle:pi("string")};class Pte extends Owe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function an(r){r=Gl(r,uy);const e=Gl(r.firestore,Jv),t=vF(e),n=new Pte(e);return Pwe(r._query),wwe(t,r._query).then(i=>new sm(e,n,r,i))}function Fwe(r,e,t){r=Gl(r,Zn);const n=Gl(r.firestore,Jv),i=kte(r.converter,e);return fD(n,[Ete(lD(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Jo.none())])}function nA(r,e,t,...n){r=Gl(r,Zn);const i=Gl(r.firestore,Jv),a=lD(i);let s;return s=typeof(e=Jn(e))=="string"||e instanceof sD?Iwe(a,"updateDoc",r._key,e,t,n):Dwe(a,"updateDoc",r._key,e),fD(i,[s.toMutation(r._key,Jo.exists(!0))])}function Bwe(r){return fD(Gl(r.firestore,Jv),[new Q3(r._key,Jo.none())])}function cy(r,e){const t=Gl(r.firestore,Jv),n=Xn(r),i=kte(r.converter,e);return fD(t,[Ete(lD(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Jo.exists(!1))]).then(()=>n)}function fD(r,e){return function(n,i){const a=new ef;return n.asyncQueue.enqueueAndForget(async()=>lwe(await _we(n),i,a)),a.promise}(vF(r),e)}function Vwe(r,e,t){const n=t.docs.get(e._key),i=new Pte(r);return new uv(r,i,e._key,n,new N_(t.hasPendingWrites,t.fromCache),e.converter)}function hD(){return new mF("serverTimestamp")}(function(e,t=!0){(function(i){ay=i})(Xv),Av(new Yh("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new Jv(new D1e(n.getProvider("auth-internal")),new M1e(s,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new lt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qx(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:t,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Bu(PU,LU,e),Bu(PU,LU,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="firebasestorage.googleapis.com",Ote="storageBucket",zwe=120*1e3,Uwe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends ac{constructor(e,t,n=0){super(FM(e),`Firebase Storage: ${t} (${FM(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return FM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function FM(r){return"storage/"+r}function SF(){const r="An unknown error occurred, please check the error payload for server response.";return new Vn(Nn.UNKNOWN,r)}function Hwe(r){return new Vn(Nn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Gwe(r){return new Vn(Nn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jwe(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vn(Nn.UNAUTHENTICATED,r)}function Wwe(){return new Vn(Nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $we(r){return new Vn(Nn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function qwe(){return new Vn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ywe(){return new Vn(Nn.CANCELED,"User canceled the upload/download.")}function Xwe(r){return new Vn(Nn.INVALID_URL,"Invalid URL '"+r+"'.")}function Kwe(r){return new Vn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Zwe(){return new Vn(Nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ote+"' property when initializing the app?")}function Qwe(){return new Vn(Nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jwe(){return new Vn(Nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ebe(r){return new Vn(Nn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function UO(r){return new Vn(Nn.INVALID_ARGUMENT,r)}function Nte(){return new Vn(Nn.APP_DELETED,"The Firebase app was deleted.")}function tbe(r){return new Vn(Nn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sx(r,e){return new Vn(Nn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function U1(r){throw new Vn(Nn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=lo.makeFromUrl(e,t)}catch{return new lo(e,"")}if(n.path==="")return n;throw Kwe(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},m=t===Lte?"(?:storage.googleapis.com|storage.cloud.google.com)":t,y="([^?#]*)",x=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:o,indices:l,postModify:a},{regex:p,indices:v,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<b.length;T++){const C=b[T],D=C.regex.exec(e);if(D){const E=D[C.indices.bucket];let R=D[C.indices.path];R||(R=""),n=new lo(E,R),C.postModify(n);break}}if(n==null)throw Xwe(e);return n}}class rbe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nbe(r,e,t){let n=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,r(p,l())},y)}function h(){a&&clearTimeout(a)}function p(y,...x){if(u){h();return}if(y){h(),c.call(null,y,...x);return}if(l()||s){h(),c.call(null,y,...x);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,f(b)}let v=!1;function m(y){v||(v=!0,h(),!u&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,m(!0)},t),m}function ibe(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function abe(r){return r!==void 0}function sbe(r){return typeof r=="object"&&!Array.isArray(r)}function TF(r){return typeof r=="string"||r instanceof String}function M7(r){return AF()&&r instanceof Blob}function AF(){return typeof Blob<"u"}function k7(r,e,t,n){if(n<e)throw UO(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw UO(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function Fte(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var cv;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(cv||(cv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function obe(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{constructor(e,t,n,i,a,s,o,l,u,c,f,h=!0,p=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,m)=>{this.resolve_=v,this.reject_=m,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new pT(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===cv.NO_ERROR,l=a.getStatus();if(!o||obe(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===cv.ABORT;n(!1,new pT(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new pT(u,a))})},t=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());abe(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=SF();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?Nte():Ywe();s(l)}else{const l=qwe();s(l)}};this.canceled_?t(!1,new pT(!1,null,!0)):this.backoffId_=nbe(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ibe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pT{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ube(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function cbe(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fbe(r,e){e&&(r["X-Firebase-GMPID"]=e)}function hbe(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function dbe(r,e,t,n,i,a,s=!0,o=!1){const l=Fte(r.urlParams),u=r.url+l,c=Object.assign({},r.headers);return fbe(c,e),ube(c,t),cbe(c,a),hbe(c,n),new lbe(u,r.method,c,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pbe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vbe(...r){const e=pbe();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(AF())return new Blob(r);throw new Vn(Nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gbe(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mbe(r){if(typeof atob>"u")throw ebe("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class BM{constructor(e,t){this.data=e,this.contentType=t||null}}function ybe(r,e){switch(r){case Pu.RAW:return new BM(Bte(e));case Pu.BASE64:case Pu.BASE64URL:return new BM(Vte(r,e));case Pu.DATA_URL:return new BM(xbe(e),wbe(e))}throw SF()}function Bte(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=r.charCodeAt(++t);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function _be(r){let e;try{e=decodeURIComponent(r)}catch{throw sx(Pu.DATA_URL,"Malformed data URL.")}return Bte(e)}function Vte(r,e){switch(r){case Pu.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw sx(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Pu.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw sx(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=mbe(e)}catch(i){throw i.message.includes("polyfill")?i:sx(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class zte{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw sx(Pu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=bbe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function xbe(r){const e=new zte(r);return e.base64?Vte(Pu.BASE64,e.rest):_be(e.rest)}function wbe(r){return new zte(r).contentType}function bbe(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){let n=0,i="";M7(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(M7(this.data_)){const n=this.data_,i=gbe(n,e,t);return i===null?null:new vh(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new vh(n,!0)}}static getBlob(...e){if(AF()){const t=e.map(n=>n instanceof vh?n.data_:n);return new vh(vbe.apply(null,t))}else{const t=e.map(s=>TF(s)?ybe(Pu.RAW,s).data:s.data_);let n=0;t.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new vh(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ute(r){let e;try{e=JSON.parse(r)}catch{return null}return sbe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sbe(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Tbe(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function Hte(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Abe(r,e){return e}class ts{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||Abe}}let vT=null;function Ebe(r){return!TF(r)||r.length<2?r:Hte(r)}function Gte(){if(vT)return vT;const r=[];r.push(new ts("bucket")),r.push(new ts("generation")),r.push(new ts("metageneration")),r.push(new ts("name","fullPath",!0));function e(a,s){return Ebe(s)}const t=new ts("name");t.xform=e,r.push(t);function n(a,s){return s!==void 0?Number(s):s}const i=new ts("size");return i.xform=n,r.push(i),r.push(new ts("timeCreated")),r.push(new ts("updated")),r.push(new ts("md5Hash",null,!0)),r.push(new ts("cacheControl",null,!0)),r.push(new ts("contentDisposition",null,!0)),r.push(new ts("contentEncoding",null,!0)),r.push(new ts("contentLanguage",null,!0)),r.push(new ts("contentType",null,!0)),r.push(new ts("metadata","customMetadata",!0)),vT=r,vT}function Cbe(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new lo(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function Dbe(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const s=t[a];n[s.local]=s.xform(n,e[s.server])}return Cbe(n,r),n}function jte(r,e,t){const n=Ute(e);return n===null?null:Dbe(r,n,t)}function Ibe(r,e,t,n){const i=Ute(e);if(i===null||!TF(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=r.bucket,f=r.fullPath,h="/b/"+s(c)+"/o/"+s(f),p=EF(h,t,n),v=Fte({alt:"media",token:u});return p+v})[0]}function Rbe(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}class Wte{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(r){if(!r)throw SF()}function Mbe(r,e){function t(n,i){const a=jte(r,i,e);return $te(a!==null),a}return t}function kbe(r,e){function t(n,i){const a=jte(r,i,e);return $te(a!==null),Ibe(a,i,r.host,r._protocol)}return t}function qte(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Wwe():i=jwe():t.getStatus()===402?i=Gwe(r.bucket):t.getStatus()===403?i=$we(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Pbe(r){const e=qte(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Hwe(r.path)),a.serverResponse=i.serverResponse,a}return t}function Lbe(r,e,t){const n=e.fullServerUrl(),i=EF(n,r.host,r._protocol),a="GET",s=r.maxOperationRetryTime,o=new Wte(i,a,kbe(r,t),s);return o.errorHandler=Pbe(e),o}function Obe(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function Nbe(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=Obe(null,e)),n}function Fbe(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=Nbe(e,n,i),c=Rbe(u,t),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=vh.getBlob(f,n,h);if(p===null)throw Qwe();const v={name:u.fullPath},m=EF(a,r.host,r._protocol),y="POST",x=r.maxUploadRetryTime,w=new Wte(m,y,Mbe(r,t),x);return w.urlParams=v,w.headers=s,w.body=p.uploadData(),w.errorHandler=qte(e),w}class Bbe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cv.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cv.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cv.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,a){if(this.sent_)throw U1("cannot .send() more than once");if(pd(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw U1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw U1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw U1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw U1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Vbe extends Bbe{initXhr(){this.xhr_.responseType="text"}}function Yte(){return new Vbe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t){this._service=e,t instanceof lo?this._location=t:this._location=lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rv(e,t)}get root(){const e=new lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hte(this._location.path)}get storage(){return this._service}get parent(){const e=Sbe(this._location.path);if(e===null)return null;const t=new lo(this._location.bucket,e);return new Rv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw tbe(e)}}function zbe(r,e,t){r._throwIfRoot("uploadBytes");const n=Fbe(r.storage,r._location,Gte(),new vh(e,!0),t);return r.storage.makeRequestWithTokens(n,Yte).then(i=>({metadata:i,ref:r}))}function Ube(r){r._throwIfRoot("getDownloadURL");const e=Lbe(r.storage,r._location,Gte());return r.storage.makeRequestWithTokens(e,Yte).then(t=>{if(t===null)throw Jwe();return t})}function Hbe(r,e){const t=Tbe(r._location.path,e),n=new lo(r._location.bucket,t);return new Rv(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gbe(r){return/^[A-Za-z]+:\/\//.test(r)}function jbe(r,e){return new Rv(r,e)}function Xte(r,e){if(r instanceof CF){const t=r;if(t._bucket==null)throw Zwe();const n=new Rv(t,t._bucket);return e!=null?Xte(n,e):n}else return e!==void 0?Hbe(r,e):r}function Wbe(r,e){if(e&&Gbe(e)){if(r instanceof CF)return jbe(r,e);throw UO("To use ref(service, url), the first argument must be a Storage instance.")}else return Xte(r,e)}function P7(r,e){const t=e?.[Ote];return t==null?null:lo.makeFromBucketSpec(t,r)}function $be(r,e,t,n={}){r.host=`${e}:${t}`;const i=pd(e);i&&(I3(`https://${r.host}/b`),R3("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:gJ(a,r.app.options.projectId))}class CF{constructor(e,t,n,i,a,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Lte,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zwe,this._maxUploadRetryTime=Uwe,this._requests=new Set,i!=null?this._bucket=lo.makeFromBucketSpec(i,this._host):this._bucket=P7(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lo.makeFromBucketSpec(this._url,e):this._bucket=P7(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){k7("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){k7("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(no(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rv(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new rbe(Nte());{const s=dbe(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const L7="@firebase/storage",O7="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kte="storage";function KA(r,e,t){return r=Jn(r),zbe(r,e,t)}function ZA(r){return r=Jn(r),Ube(r)}function QA(r,e){return r=Jn(r),Wbe(r,e)}function qbe(r=L3(),e){r=Jn(r);const n=GC(r,Kte).getImmediate({identifier:e}),i=dJ("storage");return i&&Ybe(n,...i),n}function Ybe(r,e,t,n={}){$be(r,e,t,n)}function Xbe(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new CF(t,n,i,e,Xv)}function Kbe(){Av(new Yh(Kte,Xbe,"PUBLIC").setMultipleInstances(!0)),Bu(L7,O7,""),Bu(L7,O7,"esm2020")}Kbe();const Zte={apiKey:"AIzaSyAAN-6JFEEzDv9H_fK9eC4Eh7CJQbZI11Y",authDomain:"control-electoral-libre.firebaseapp.com",projectId:"control-electoral-libre",storageBucket:"control-electoral-libre.firebasestorage.app",messagingSenderId:"593332831012",appId:"1:593332831012:web:f03121ee8be81134b9a9b1",measurementId:"G-E01WW9NVH8"},DF=P3(Zte),uo=bO(DF),St=Swe(DF),JA=qbe(DF),Zbe="_header_1fx2c_19",Qbe="_logoWrapper_1fx2c_85",Jbe="_logo_1fx2c_85",eSe="_logoImg_1fx2c_123",tSe="_hamburguesa_1fx2c_135",rSe="_nav_1fx2c_173",nSe="_iconoChat_1fx2c_241",iSe="_BtnSalir_1fx2c_257",aSe="_avatarUsuario_1fx2c_305",sSe="_usuarioWrapper_1fx2c_349",oSe="_menuUsuario_1fx2c_361",lSe="_usuarioInfo_1fx2c_423",uSe="_linksAuth_1fx2c_437",cSe="_abierto_1fx2c_485",Es={header:Zbe,logoWrapper:Qbe,logo:Jbe,logoImg:eSe,hamburguesa:tSe,nav:rSe,iconoChat:nSe,BtnSalir:iSe,avatarUsuario:aSe,usuarioWrapper:sSe,menuUsuario:oSe,usuarioInfo:lSe,linksAuth:uSe,abierto:cSe};function fSe(){const[r,e]=ue.useState(!1),[t,n]=ue.useState(null),[i,a]=ue.useState(null),[s,o]=ue.useState(!1),l=Sf(),u=ue.useRef(),c=()=>e(!1);ue.useEffect(()=>{const h=uo.onAuthStateChanged(async p=>{if(n(p),p){const m=Xn(St,"usuarios",p.uid),y=await Ps(m);y.exists()&&a(y.data())}const v=window.location.pathname;!p&&!v.startsWith("/login")&&!v.startsWith("/signup")&&l("/login")});return()=>h()},[l]);const f=async()=>{await uo.signOut(),c(),l("/login")};return ue.useEffect(()=>{const h=p=>{u.current&&!u.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),G.jsxs("header",{className:Es.header,children:[G.jsx("div",{className:Es.logoWrapper,children:G.jsx(Vc,{to:"/",onClick:c,className:Es.logo,children:G.jsx("img",{src:"/img/logo_libre.png",alt:"Partido LIBRE Logo",className:Es.logoImg})})}),G.jsx("button",{className:Es.hamburguesa,onClick:()=>e(!r),"aria-label":"Menú",children:"☰"}),G.jsxs("nav",{className:`${Es.nav} ${r?Es.abierto:""}`,children:[G.jsxs("a",{href:"https://chatgpt.com/g/g-67e3fe14c71c8191844fa99fe1ee3162-libre-al-cambio",target:"_blank",rel:"noopener noreferrer",onClick:c,children:[G.jsx("img",{src:"/img/chat5.png",alt:"Chat personalizado GPT",className:Es.iconoChat}),"IA LIBRE"]}),G.jsx(Vc,{to:"/",onClick:c,children:"Inicio"}),G.jsx(Vc,{to:"/delegado/registro_electoral",onClick:c,children:"Registro Electoral"}),G.jsx(Vc,{to:"/revisor/registros_cargados",onClick:c,children:"Revisor"}),G.jsx(Vc,{to:"/jefesR/GestionUsuariosPage",onClick:c,children:"Gestión de cuentas"}),G.jsx(Vc,{to:"/resultados/resultados_graficos",onClick:c,children:"Resultados"}),t?G.jsxs("div",{className:Es.usuarioWrapper,ref:u,children:[G.jsx("div",{className:Es.avatarUsuario,onClick:()=>o(!s),title:t.email,children:t.email?.charAt(0).toUpperCase()}),s&&G.jsxs("div",{className:Es.menuUsuario,children:[G.jsxs("div",{className:Es.usuarioInfo,children:[G.jsx("strong",{children:t.email}),i?.rol&&G.jsxs("div",{children:["Rol: ",i.rol]}),i?.recintoNombre&&G.jsxs("div",{children:["Recinto: ",i.recintoNombre]})]}),G.jsx("button",{onClick:f,className:Es.BtnSalir,children:"Salir"})]})]}):G.jsxs("div",{className:Es.linksAuth,children:[G.jsx(Vc,{to:"/login",onClick:c,children:"Acceder"}),G.jsx(Vc,{to:"/signup",onClick:c,children:"Registrarse"})]})]})]})}const hSe="_hero_wqi64_21",dSe="_title_wqi64_103",pSe="_subtitle_wqi64_105",vSe="_button_wqi64_107",gSe="_cursor_wqi64_179",H1={hero:hSe,title:dSe,subtitle:pSe,button:vSe,cursor:gSe},N7=["“No venimos a figurar, venimos a servir.”","“Podemos volver a creer, pero esta vez con pruebas.”","“No vamos a reiniciar Bolivia. Vamos a hacer que por fin funcione.”"];function mSe(){const[r,e]=ue.useState(!1),t=Sf(),[n,i]=ue.useState(0),[a,s]=ue.useState(""),[o,l]=ue.useState(!1),u=ue.useRef(0);ue.useEffect(()=>{const f=N7[n];s(""),l(!0),u.current=-1;const h=setInterval(()=>{u.current<f.length-1?(s(p=>p+f[u.current]),u.current++):(clearInterval(h),l(!1))},50);return()=>clearInterval(h)},[n]),ue.useEffect(()=>{if(!o){const f=setTimeout(()=>{i(h=>(h+1)%N7.length)},3e3);return()=>clearTimeout(f)}},[o]);const c=async()=>{e(!0);const f=uo.currentUser;if(!f){t("/login");return}try{const h=Kn(mr(St,"usuarios"),_n("email","==",f.email)),p=await an(h);if(p.empty)throw new Error("No existe usuario en Firestore");const m=p.docs[0].data();if(!m.habilitado)throw new Error("Usuario no habilitado");switch(m.rol?.toLowerCase()){case"delegado":t("/delegado/registro_electoral");break;case"revisor":t("/revisor/registros_cargados");break;case"administrador":t("/");break;case"jefe_recinto":t("/delegado/registro_electoral");break;default:throw new Error("Rol no reconocido")}}catch(h){alert("Error: "+h.message),t("/login")}finally{e(!1)}};return G.jsxs("section",{className:H1.hero,children:[G.jsx("h2",{className:H1.title,children:"Partido LIBRE - Control Electoral"}),G.jsxs("p",{className:H1.subtitle,children:[a,G.jsx("span",{className:H1.cursor,children:"|"})]}),G.jsx("button",{className:H1.button,onClick:c,disabled:r,children:r?"Verificando...":"Comenzar a trabajar"})]})}const ySe="_footer_1pnxw_1",_Se={footer:ySe};function xSe(){return G.jsx("footer",{className:_Se.footer,children:G.jsx("p",{children:"© 2025 Kjana Kode. Todos los derechos reservados."})})}var wSe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Qte(r){if(typeof r=="number")return{value:r,unit:"px"};var e,t=(r.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var n=(r.match(/[^0-9]*$/)||"").toString();return wSe[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(r," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function U0(r){var e=Qte(r);return"".concat(e.value).concat(e.unit)}var HO=function(r,e,t){var n="react-spinners-".concat(r,"-").concat(t);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,s=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(s,0),n},eE;(function(r){r.maroon="#800000",r.red="#FF0000",r.orange="#FFA500",r.yellow="#FFFF00",r.olive="#808000",r.green="#008000",r.purple="#800080",r.fuchsia="#FF00FF",r.lime="#00FF00",r.teal="#008080",r.aqua="#00FFFF",r.blue="#0000FF",r.navy="#000080",r.black="#000000",r.gray="#808080",r.silver="#C0C0C0",r.white="#FFFFFF"})(eE||(eE={}));var bSe=function(r,e){if(r.includes("/"))return r.replace("rgb(","rgba(");var t=r.substring(r.startsWith("rgba(")?5:4,r.length-1).trim(),n=t.split(",");return n.length===4?r.replace("rgb(","rgba("):n.length===3?"rgba(".concat(t,", ").concat(e,")"):"rgba(".concat(t," / ").concat(e,")")},SSe=function(r,e){if(r.startsWith("rgb"))return bSe(r,e);if(Object.keys(eE).includes(r)&&(r=eE[r]),r[0]==="#"&&(r=r.slice(1)),r.length===3){var t="";r.split("").forEach(function(i){t+=i,t+=i}),r=t}var n=(r.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(n,", ").concat(e,")")},tE=function(){return tE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tE.apply(this,arguments)},TSe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},ASe=HO("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function ESe(r){var e=r.loading,t=e===void 0?!0:e,n=r.color,i=n===void 0?"#000000":n,a=r.speedMultiplier,s=a===void 0?1:a,o=r.cssOverride,l=o===void 0?{}:o,u=r.size,c=u===void 0?35:u,f=TSe(r,["loading","color","speedMultiplier","cssOverride","size"]),h=tE({background:"transparent !important",width:U0(c),height:U0(c),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(ASe," ").concat(.75/s,"s 0s infinite linear"),animationFillMode:"both"},l);return t?ue.createElement("span",tE({style:h},f)):null}var rE=function(){return rE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rE.apply(this,arguments)},CSe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};function DSe(r){var e=r.loading,t=e===void 0?!0:e,n=r.color,i=n===void 0?"#000000":n,a=r.speedMultiplier,s=a===void 0?1:a,o=r.cssOverride,l=o===void 0?{}:o,u=r.size,c=u===void 0?50:u,f=CSe(r,["loading","color","speedMultiplier","cssOverride","size"]),h=Qte(c),p=h.value,v=h.unit,m=rE({display:"inherit",position:"relative",width:U0(c),height:U0(c),transform:"rotate(165deg)"},l),y=p/5,x=(p-y)/2,w=x-y,b=SSe(i,.75),T=HO("HashLoader","0% {width: ".concat(y,"px; box-shadow: ").concat(x,"px ").concat(-w,"px ").concat(b,", ").concat(-x,"px ").concat(w,"px ").concat(b,`}
    35% {width: `).concat(U0(c),"; box-shadow: 0 ").concat(-w,"px ").concat(b,", 0 ").concat(w,"px ").concat(b,`}
    70% {width: `).concat(y,"px; box-shadow: ").concat(-x,"px ").concat(-w,"px ").concat(b,", ").concat(x,"px ").concat(w,"px ").concat(b,`}
    100% {box-shadow: `).concat(x,"px ").concat(-w,"px ").concat(b,", ").concat(-x,"px ").concat(w,"px ").concat(b,"}"),"before"),C=HO("HashLoader","0% {height: ".concat(y,"px; box-shadow: ").concat(w,"px ").concat(x,"px ").concat(i,", ").concat(-w,"px ").concat(-x,"px ").concat(i,`}
    35% {height: `).concat(U0(c),"; box-shadow: ").concat(w,"px 0 ").concat(i,", ").concat(-w,"px 0 ").concat(i,`}
    70% {height: `).concat(y,"px; box-shadow: ").concat(w,"px ").concat(-x,"px ").concat(i,", ").concat(-w,"px ").concat(x,"px ").concat(i,`}
    100% {box-shadow: `).concat(w,"px ").concat(x,"px ").concat(i,", ").concat(-w,"px ").concat(-x,"px ").concat(i,"}"),"after"),D=function(E){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(p/5).concat(v),height:"".concat(p/5).concat(v),borderRadius:"".concat(p/10).concat(v),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(E===1?T:C," ").concat(2/s,"s infinite")}};return t?ue.createElement("span",rE({style:m},f),ue.createElement("span",{style:D(1)}),ue.createElement("span",{style:D(2)})):null}function dD(){return G.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:G.jsx(DSe,{color:"#085fa7",size:85})})}const ISe="_mainContainer_pws7a_17",RSe="_leftSection_pws7a_37",MSe="_bgOverlay_pws7a_55",kSe="_bgCarousel_pws7a_75",PSe="_active_pws7a_133",LSe="_carouselText_pws7a_143",OSe="_rightSection_pws7a_215",NSe="_authContainer_pws7a_239",FSe="_logo_pws7a_265",BSe="_authTitle_pws7a_279",VSe="_formField_pws7a_297",zSe="_authBtn_pws7a_369",USe="_authLink_pws7a_415",HSe="_fadeIn_pws7a_571",Rn={mainContainer:ISe,leftSection:RSe,bgOverlay:MSe,bgCarousel:kSe,active:PSe,carouselText:LSe,rightSection:OSe,authContainer:NSe,logo:FSe,authTitle:BSe,formField:VSe,authBtn:zSe,authLink:USe,fadeIn:HSe};function GSe(){const[r,e]=ue.useState(""),[t,n]=ue.useState(""),[i,a]=ue.useState(""),[s,o]=ue.useState(!1),l=Sf();ue.useEffect(()=>{const c=document.querySelectorAll(`.${Rn.bgCarousel} img`),f=[{title:"Transparencia Electoral",desc:"Garantiza procesos electorales limpios y confiables con datos abiertos y accesibles para todos."},{title:"Gestión de Votantes",desc:"Administra el registro y la verificación de votantes para asegurar la legitimidad del padrón electoral."},{title:"Monitoreo en Tiempo Real",desc:"Supervisa las actas y resultados electorales en tiempo real para una toma de decisiones rápida y precisa."},{title:"Seguridad y Confidencialidad",desc:"Protege la información electoral con sistemas seguros y protocolos de confidencialidad rigurosos."},{title:"Análisis de Resultados",desc:"Visualiza estadísticas y tendencias para evaluar el desempeño electoral y planificar futuras estrategias."}],h=document.querySelector(`.${Rn.carouselText}`);let p=0;const m=setInterval(()=>{if(!c.length||!h)return;c[p].classList.remove(Rn.active),p=(p+1)%c.length,c[p].classList.add(Rn.active);const y=h.querySelector("h2"),x=h.querySelector("p");y.classList.remove(Rn.fadeIn),x.classList.remove(Rn.fadeIn),y.offsetWidth,x.offsetWidth,y.textContent=f[p].title,x.textContent=f[p].desc,y.classList.add(Rn.fadeIn),x.classList.add(Rn.fadeIn)},5e3);return()=>clearInterval(m)},[]);const u=async c=>{c.preventDefault(),a(""),o(!0);try{console.log("Iniciando sesión con:",r,t);const h=(await fye(uo,r,t)).user;console.log("Login exitoso:",h.email);const p=Kn(mr(St,"usuarios"),_n("email","==",h.email)),v=await an(p);if(console.log("Documentos obtenidos:",v.size),v.empty)throw new Error("No existe usuario en Firestore");const y=v.docs[0].data();if(console.log("Datos del usuario:",y),!y.habilitado)throw new Error("Usuario no habilitado");const x=y.rol?.toLowerCase();if(!x)throw new Error("Usuario sin rol");switch(console.log("Rol:",x),x){case"delegado":l("/delegado/registro_electoral");break;case"revisor":l("/revisor/registros_cargados");break;case"administrador":l("/");break;case"jefe_recinto":l("/jefesR/GestionUsuariosPage");break;default:throw new Error("Rol no reconocido")}}catch(f){console.error("Error atrapado:",f),a(f.message||"Error desconocido"),o(!1)}};return G.jsxs("div",{className:Rn.mainContainer,children:[G.jsxs("div",{className:Rn.leftSection,children:[G.jsxs("div",{className:Rn.bgCarousel,children:[G.jsx("img",{src:"/img/intro_1.jpg",alt:"KPI",className:Rn.active}),G.jsx("img",{src:"/img/intro_2.jpg",alt:"Inventario"}),G.jsx("img",{src:"/img/intro_3.jpg",alt:"Flujo de Caja"}),G.jsx("img",{src:"/img/intro_4.jpg",alt:"Clientes"}),G.jsx("img",{src:"/img/intro_5.jpg",alt:"Mercado"})]}),G.jsx("div",{className:Rn.bgOverlay}),G.jsxs("div",{className:Rn.carouselText,children:[G.jsx("h2",{children:"Monitoreo en Tiempo Real"}),G.jsx("p",{children:"Supervisa las actas y resultados electorales en tiempo real para una toma de decisiones rápida y precisa."})]})]}),G.jsx("div",{className:Rn.rightSection,children:G.jsxs("div",{className:Rn.authContainer,children:[G.jsx("div",{className:Rn.logo,children:G.jsx("img",{src:"/img/logo_libre.png",alt:"Logo"})}),G.jsx("h2",{className:Rn.authTitle,children:"Iniciar Sesión"}),G.jsxs("form",{onSubmit:u,children:[G.jsxs("div",{className:Rn.formField,children:[G.jsx("i",{className:"fas fa-envelope"}),G.jsx("input",{type:"email",placeholder:"Correo electrónico",value:r,onChange:c=>e(c.target.value),required:!0})]}),G.jsxs("div",{className:Rn.formField,children:[G.jsx("i",{className:"fas fa-lock"}),G.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:c=>n(c.target.value),required:!0})]}),i&&G.jsx("p",{style:{color:"red",marginBottom:"1rem"},children:i}),G.jsx("button",{type:"submit",disabled:s,className:Rn.authBtn,children:s?"Ingresando...":"Ingresar"})]}),G.jsx(Vc,{to:"/signup",className:Rn.authLink,children:"¿No tienes cuenta? Regístrate"})]})})]})}const jSe="_signupContainer_so4ar_1",WSe="_form_so4ar_33",$Se="_error_so4ar_81",qSe="_button_so4ar_95",G1={signupContainer:jSe,form:WSe,error:$Se,button:qSe};/*!
* sweetalert2 v11.22.2
* Released under the MIT License.
*/function Jte(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function YSe(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F7(r,e){return r.get(Jte(r,e))}function XSe(r,e,t){YSe(r,e),e.set(r,t)}function KSe(r,e,t){return r.set(Jte(r,e),t),t}const ZSe=100,It={},QSe=()=>{It.previousActiveElement instanceof HTMLElement?(It.previousActiveElement.focus(),It.previousActiveElement=null):document.body&&document.body.focus()},JSe=r=>new Promise(e=>{if(!r)return e();const t=window.scrollX,n=window.scrollY;It.restoreFocusTimeout=setTimeout(()=>{QSe(),e()},ZSe),window.scrollTo(t,n)}),ere="swal2-",eTe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Le=eTe.reduce((r,e)=>(r[e]=ere+e,r),{}),tTe=["success","warning","info","question","error"],nE=tTe.reduce((r,e)=>(r[e]=ere+e,r),{}),tre="SweetAlert2:",IF=r=>r.charAt(0).toUpperCase()+r.slice(1),gs=r=>{console.warn(`${tre} ${typeof r=="object"?r.join(" "):r}`)},eg=r=>{console.error(`${tre} ${r}`)},B7=[],rTe=r=>{B7.includes(r)||(B7.push(r),gs(r))},rre=(r,e=null)=>{rTe(`"${r}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},pD=r=>typeof r=="function"?r():r,RF=r=>r&&typeof r.toPromise=="function",ab=r=>RF(r)?r.toPromise():Promise.resolve(r),MF=r=>r&&Promise.resolve(r)===r,xs=()=>document.body.querySelector(`.${Le.container}`),sb=r=>{const e=xs();return e?e.querySelector(r):null},yo=r=>sb(`.${r}`),kr=()=>yo(Le.popup),fy=()=>yo(Le.icon),nTe=()=>yo(Le["icon-content"]),nre=()=>yo(Le.title),kF=()=>yo(Le["html-container"]),ire=()=>yo(Le.image),PF=()=>yo(Le["progress-steps"]),vD=()=>yo(Le["validation-message"]),Ju=()=>sb(`.${Le.actions} .${Le.confirm}`),hy=()=>sb(`.${Le.actions} .${Le.cancel}`),tg=()=>sb(`.${Le.actions} .${Le.deny}`),iTe=()=>yo(Le["input-label"]),dy=()=>sb(`.${Le.loader}`),ob=()=>yo(Le.actions),are=()=>yo(Le.footer),gD=()=>yo(Le["timer-progress-bar"]),LF=()=>yo(Le.close),aTe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,OF=()=>{const r=kr();if(!r)return[];const e=r.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((a,s)=>{const o=parseInt(a.getAttribute("tabindex")||"0"),l=parseInt(s.getAttribute("tabindex")||"0");return o>l?1:o<l?-1:0}),n=r.querySelectorAll(aTe),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(i))].filter(a=>Vs(a))},NF=()=>tf(document.body,Le.shown)&&!tf(document.body,Le["toast-shown"])&&!tf(document.body,Le["no-backdrop"]),mD=()=>{const r=kr();return r?tf(r,Le.toast):!1},sTe=()=>{const r=kr();return r?r.hasAttribute("data-loading"):!1},_o=(r,e)=>{if(r.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(s=>{r.appendChild(s)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(s=>{s instanceof HTMLVideoElement||s instanceof HTMLAudioElement?r.appendChild(s.cloneNode(!0)):r.appendChild(s)})}},tf=(r,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let n=0;n<t.length;n++)if(!r.classList.contains(t[n]))return!1;return!0},oTe=(r,e)=>{Array.from(r.classList).forEach(t=>{!Object.values(Le).includes(t)&&!Object.values(nE).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&r.classList.remove(t)})},po=(r,e,t)=>{if(oTe(r,e),!e.customClass)return;const n=e.customClass[t];if(n){if(typeof n!="string"&&!n.forEach){gs(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof n}"`);return}Br(r,n)}},yD=(r,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return r.querySelector(`.${Le.popup} > .${Le[e]}`);case"checkbox":return r.querySelector(`.${Le.popup} > .${Le.checkbox} input`);case"radio":return r.querySelector(`.${Le.popup} > .${Le.radio} input:checked`)||r.querySelector(`.${Le.popup} > .${Le.radio} input:first-child`);case"range":return r.querySelector(`.${Le.popup} > .${Le.range} input`);default:return r.querySelector(`.${Le.popup} > .${Le.input}`)}},sre=r=>{if(r.focus(),r.type!=="file"){const e=r.value;r.value="",r.value=e}},ore=(r,e,t)=>{!r||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(r)?r.forEach(i=>{t?i.classList.add(n):i.classList.remove(n)}):t?r.classList.add(n):r.classList.remove(n)}))},Br=(r,e)=>{ore(r,e,!0)},nl=(r,e)=>{ore(r,e,!1)},Sh=(r,e)=>{const t=Array.from(r.children);for(let n=0;n<t.length;n++){const i=t[n];if(i instanceof HTMLElement&&tf(i,e))return i}},fv=(r,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?r.style.setProperty(e,typeof t=="number"?`${t}px`:t):r.style.removeProperty(e)},Xi=(r,e="flex")=>{r&&(r.style.display=e)},Ua=r=>{r&&(r.style.display="none")},FF=(r,e="block")=>{r&&new MutationObserver(()=>{lb(r,r.innerHTML,e)}).observe(r,{childList:!0,subtree:!0})},V7=(r,e,t,n)=>{const i=r.querySelector(e);i&&i.style.setProperty(t,n)},lb=(r,e,t="flex")=>{e?Xi(r,t):Ua(r)},Vs=r=>!!(r&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)),lTe=()=>!Vs(Ju())&&!Vs(tg())&&!Vs(hy()),GO=r=>r.scrollHeight>r.clientHeight,uTe=(r,e)=>{let t=r;for(;t&&t!==e;){if(GO(t))return!0;t=t.parentElement}return!1},lre=r=>{const e=window.getComputedStyle(r),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||n>0},BF=(r,e=!1)=>{const t=gD();t&&Vs(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${r/1e3}s linear`,t.style.width="0%"},10))},cTe=()=>{const r=gD();if(!r)return;const e=parseInt(window.getComputedStyle(r).width);r.style.removeProperty("transition"),r.style.width="100%";const t=parseInt(window.getComputedStyle(r).width),n=e/t*100;r.style.width=`${n}%`},fTe=()=>typeof window>"u"||typeof document>"u",hTe=`
 <div aria-labelledby="${Le.title}" aria-describedby="${Le["html-container"]}" class="${Le.popup}" tabindex="-1">
   <button type="button" class="${Le.close}"></button>
   <ul class="${Le["progress-steps"]}"></ul>
   <div class="${Le.icon}"></div>
   <img class="${Le.image}" />
   <h2 class="${Le.title}" id="${Le.title}"></h2>
   <div class="${Le["html-container"]}" id="${Le["html-container"]}"></div>
   <input class="${Le.input}" id="${Le.input}" />
   <input type="file" class="${Le.file}" />
   <div class="${Le.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Le.select}" id="${Le.select}"></select>
   <div class="${Le.radio}"></div>
   <label class="${Le.checkbox}">
     <input type="checkbox" id="${Le.checkbox}" />
     <span class="${Le.label}"></span>
   </label>
   <textarea class="${Le.textarea}" id="${Le.textarea}"></textarea>
   <div class="${Le["validation-message"]}" id="${Le["validation-message"]}"></div>
   <div class="${Le.actions}">
     <div class="${Le.loader}"></div>
     <button type="button" class="${Le.confirm}"></button>
     <button type="button" class="${Le.deny}"></button>
     <button type="button" class="${Le.cancel}"></button>
   </div>
   <div class="${Le.footer}"></div>
   <div class="${Le["timer-progress-bar-container"]}">
     <div class="${Le["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),dTe=()=>{const r=xs();return r?(r.remove(),nl([document.documentElement,document.body],[Le["no-backdrop"],Le["toast-shown"],Le["has-column"]]),!0):!1},ep=()=>{It.currentInstance.resetValidationMessage()},pTe=()=>{const r=kr(),e=Sh(r,Le.input),t=Sh(r,Le.file),n=r.querySelector(`.${Le.range} input`),i=r.querySelector(`.${Le.range} output`),a=Sh(r,Le.select),s=r.querySelector(`.${Le.checkbox} input`),o=Sh(r,Le.textarea);e.oninput=ep,t.onchange=ep,a.onchange=ep,s.onchange=ep,o.oninput=ep,n.oninput=()=>{ep(),i.value=n.value},n.onchange=()=>{ep(),i.value=n.value}},vTe=r=>typeof r=="string"?document.querySelector(r):r,gTe=r=>{const e=kr();e.setAttribute("role",r.toast?"alert":"dialog"),e.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||e.setAttribute("aria-modal","true")},mTe=r=>{window.getComputedStyle(r).direction==="rtl"&&Br(xs(),Le.rtl)},yTe=r=>{const e=dTe();if(fTe()){eg("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Le.container,e&&Br(t,Le["no-transition"]),_o(t,hTe),t.dataset.swal2Theme=r.theme;const n=vTe(r.target);n.appendChild(t),r.topLayer&&(t.setAttribute("popover",""),t.showPopover()),gTe(r),mTe(n),pTe()},VF=(r,e)=>{r instanceof HTMLElement?e.appendChild(r):typeof r=="object"?_Te(r,e):r&&_o(e,r)},_Te=(r,e)=>{r.jquery?xTe(e,r):_o(e,r.toString())},xTe=(r,e)=>{if(r.textContent="",0 in e)for(let t=0;t in e;t++)r.appendChild(e[t].cloneNode(!0));else r.appendChild(e.cloneNode(!0))},wTe=(r,e)=>{const t=ob(),n=dy();!t||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Ua(t):Xi(t),po(t,e,"actions"),bTe(t,n,e),_o(n,e.loaderHtml||""),po(n,e,"loader"))};function bTe(r,e,t){const n=Ju(),i=tg(),a=hy();!n||!i||!a||(zM(n,"confirm",t),zM(i,"deny",t),zM(a,"cancel",t),STe(n,i,a,t),t.reverseButtons&&(t.toast?(r.insertBefore(a,n),r.insertBefore(i,n)):(r.insertBefore(a,e),r.insertBefore(i,e),r.insertBefore(n,e))))}function STe(r,e,t,n){if(!n.buttonsStyling){nl([r,e,t],Le.styled);return}Br([r,e,t],Le.styled),n.confirmButtonColor&&r.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),VM(r),VM(e),VM(t)}function VM(r){const e=window.getComputedStyle(r);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");r.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function zM(r,e,t){const n=IF(e);lb(r,t[`show${n}Button`],"inline-block"),_o(r,t[`${e}ButtonText`]||""),r.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),r.className=Le[e],po(r,t,`${e}Button`)}const TTe=(r,e)=>{const t=LF();t&&(_o(t,e.closeButtonHtml||""),po(t,e,"closeButton"),lb(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},ATe=(r,e)=>{const t=xs();t&&(ETe(t,e.backdrop),CTe(t,e.position),DTe(t,e.grow),po(t,e,"container"))};function ETe(r,e){typeof e=="string"?r.style.background=e:e||Br([document.documentElement,document.body],Le["no-backdrop"])}function CTe(r,e){e&&(e in Le?Br(r,Le[e]):(gs('The "position" parameter is not valid, defaulting to "center"'),Br(r,Le.center)))}function DTe(r,e){e&&Br(r,Le[`grow-${e}`])}var fn={innerParams:new WeakMap,domCache:new WeakMap};const ITe=["input","file","range","select","radio","checkbox","textarea"],RTe=(r,e)=>{const t=kr();if(!t)return;const n=fn.innerParams.get(r),i=!n||e.input!==n.input;ITe.forEach(a=>{const s=Sh(t,Le[a]);s&&(PTe(a,e.inputAttributes),s.className=Le[a],i&&Ua(s))}),e.input&&(i&&MTe(e),LTe(e))},MTe=r=>{if(!r.input)return;if(!$n[r.input]){eg(`Unexpected type of input! Expected ${Object.keys($n).join(" | ")}, got "${r.input}"`);return}const e=ure(r.input);if(!e)return;const t=$n[r.input](e,r);Xi(e),r.inputAutoFocus&&setTimeout(()=>{sre(t)})},kTe=r=>{for(let e=0;e<r.attributes.length;e++){const t=r.attributes[e].name;["id","type","value","style"].includes(t)||r.removeAttribute(t)}},PTe=(r,e)=>{const t=kr();if(!t)return;const n=yD(t,r);if(n){kTe(n);for(const i in e)n.setAttribute(i,e[i])}},LTe=r=>{if(!r.input)return;const e=ure(r.input);e&&po(e,r,"input")},zF=(r,e)=>{!r.placeholder&&e.inputPlaceholder&&(r.placeholder=e.inputPlaceholder)},ub=(r,e,t)=>{if(t.inputLabel){const n=document.createElement("label"),i=Le["input-label"];n.setAttribute("for",r.id),n.className=i,typeof t.customClass=="object"&&Br(n,t.customClass.inputLabel),n.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",n)}},ure=r=>{const e=kr();if(e)return Sh(e,Le[r]||Le.input)},iE=(r,e)=>{["string","number"].includes(typeof e)?r.value=`${e}`:MF(e)||gs(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},$n={};$n.text=$n.email=$n.password=$n.number=$n.tel=$n.url=$n.search=$n.date=$n["datetime-local"]=$n.time=$n.week=$n.month=(r,e)=>(iE(r,e.inputValue),ub(r,r,e),zF(r,e),r.type=e.input,r);$n.file=(r,e)=>(ub(r,r,e),zF(r,e),r);$n.range=(r,e)=>{const t=r.querySelector("input"),n=r.querySelector("output");return iE(t,e.inputValue),t.type=e.input,iE(n,e.inputValue),ub(t,r,e),r};$n.select=(r,e)=>{if(r.textContent="",e.inputPlaceholder){const t=document.createElement("option");_o(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,r.appendChild(t)}return ub(r,r,e),r};$n.radio=r=>(r.textContent="",r);$n.checkbox=(r,e)=>{const t=yD(kr(),"checkbox");t.value="1",t.checked=!!e.inputValue;const n=r.querySelector("span");return _o(n,e.inputPlaceholder||e.inputLabel),t};$n.textarea=(r,e)=>{iE(r,e.inputValue),zF(r,e),ub(r,r,e);const t=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(kr()).width),i=()=>{if(!document.body.contains(r))return;const a=r.offsetWidth+t(r);a>n?kr().style.width=`${a}px`:fv(kr(),"width",e.width)};new MutationObserver(i).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};const OTe=(r,e)=>{const t=kF();t&&(FF(t),po(t,e,"htmlContainer"),e.html?(VF(e.html,t),Xi(t,"block")):e.text?(t.textContent=e.text,Xi(t,"block")):Ua(t),RTe(r,e))},NTe=(r,e)=>{const t=are();t&&(FF(t),lb(t,e.footer,"block"),e.footer&&VF(e.footer,t),po(t,e,"footer"))},FTe=(r,e)=>{const t=fn.innerParams.get(r),n=fy();if(!n)return;if(t&&e.icon===t.icon){U7(n,e),z7(n,e);return}if(!e.icon&&!e.iconHtml){Ua(n);return}if(e.icon&&Object.keys(nE).indexOf(e.icon)===-1){eg(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Ua(n);return}Xi(n),U7(n,e),z7(n,e),Br(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",cre)},z7=(r,e)=>{for(const[t,n]of Object.entries(nE))e.icon!==t&&nl(r,n);Br(r,e.icon&&nE[e.icon]),zTe(r,e),cre(),po(r,e,"icon")},cre=()=>{const r=kr();if(!r)return;const e=window.getComputedStyle(r).getPropertyValue("background-color"),t=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<t.length;n++)t[n].style.backgroundColor=e},BTe=r=>`
  ${r.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${r.animation?'<div class="swal2-success-fix"></div>':""}
  ${r.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,VTe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,U7=(r,e)=>{if(!e.icon&&!e.iconHtml)return;let t=r.innerHTML,n="";e.iconHtml?n=H7(e.iconHtml):e.icon==="success"?(n=BTe(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?n=VTe:e.icon&&(n=H7({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==n.trim()&&_o(r,n)},zTe=(r,e)=>{if(e.iconColor){r.style.color=e.iconColor,r.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])V7(r,t,"background-color",e.iconColor);V7(r,".swal2-success-ring","border-color",e.iconColor)}},H7=r=>`<div class="${Le["icon-content"]}">${r}</div>`,UTe=(r,e)=>{const t=ire();if(t){if(!e.imageUrl){Ua(t);return}Xi(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),fv(t,"width",e.imageWidth),fv(t,"height",e.imageHeight),t.className=Le.image,po(t,e,"image")}};let UF=!1,fre=0,hre=0,dre=0,pre=0;const HTe=r=>{r.addEventListener("mousedown",aE),document.body.addEventListener("mousemove",sE),r.addEventListener("mouseup",oE),r.addEventListener("touchstart",aE),document.body.addEventListener("touchmove",sE),r.addEventListener("touchend",oE)},GTe=r=>{r.removeEventListener("mousedown",aE),document.body.removeEventListener("mousemove",sE),r.removeEventListener("mouseup",oE),r.removeEventListener("touchstart",aE),document.body.removeEventListener("touchmove",sE),r.removeEventListener("touchend",oE)},aE=r=>{const e=kr();if(r.target===e||fy().contains(r.target)){UF=!0;const t=vre(r);fre=t.clientX,hre=t.clientY,dre=parseInt(e.style.insetInlineStart)||0,pre=parseInt(e.style.insetBlockStart)||0,Br(e,"swal2-dragging")}},sE=r=>{const e=kr();if(UF){let{clientX:t,clientY:n}=vre(r);e.style.insetInlineStart=`${dre+(t-fre)}px`,e.style.insetBlockStart=`${pre+(n-hre)}px`}},oE=()=>{const r=kr();UF=!1,nl(r,"swal2-dragging")},vre=r=>{let e=0,t=0;return r.type.startsWith("mouse")?(e=r.clientX,t=r.clientY):r.type.startsWith("touch")&&(e=r.touches[0].clientX,t=r.touches[0].clientY),{clientX:e,clientY:t}},jTe=(r,e)=>{const t=xs(),n=kr();if(!(!t||!n)){if(e.toast){fv(t,"width",e.width),n.style.width="100%";const i=dy();i&&n.insertBefore(i,fy())}else fv(n,"width",e.width);fv(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Ua(vD()),WTe(n,e),e.draggable&&!e.toast?(Br(n,Le.draggable),HTe(n)):(nl(n,Le.draggable),GTe(n))}},WTe=(r,e)=>{const t=e.showClass||{};r.className=`${Le.popup} ${Vs(r)?t.popup:""}`,e.toast?(Br([document.documentElement,document.body],Le["toast-shown"]),Br(r,Le.toast)):Br(r,Le.modal),po(r,e,"popup"),typeof e.customClass=="string"&&Br(r,e.customClass),e.icon&&Br(r,Le[`icon-${e.icon}`])},$Te=(r,e)=>{const t=PF();if(!t)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){Ua(t);return}Xi(t),t.textContent="",i>=n.length&&gs("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,s)=>{const o=qTe(a);if(t.appendChild(o),s===i&&Br(o,Le["active-progress-step"]),s!==n.length-1){const l=YTe(e);t.appendChild(l)}})},qTe=r=>{const e=document.createElement("li");return Br(e,Le["progress-step"]),_o(e,r),e},YTe=r=>{const e=document.createElement("li");return Br(e,Le["progress-step-line"]),r.progressStepsDistance&&fv(e,"width",r.progressStepsDistance),e},XTe=(r,e)=>{const t=nre();t&&(FF(t),lb(t,e.title||e.titleText,"block"),e.title&&VF(e.title,t),e.titleText&&(t.innerText=e.titleText),po(t,e,"title"))},gre=(r,e)=>{jTe(r,e),ATe(r,e),$Te(r,e),FTe(r,e),UTe(r,e),XTe(r,e),TTe(r,e),OTe(r,e),wTe(r,e),NTe(r,e);const t=kr();typeof e.didRender=="function"&&t&&e.didRender(t),It.eventEmitter.emit("didRender",t)},KTe=()=>Vs(kr()),mre=()=>{var r;return(r=Ju())===null||r===void 0?void 0:r.click()},ZTe=()=>{var r;return(r=tg())===null||r===void 0?void 0:r.click()},QTe=()=>{var r;return(r=hy())===null||r===void 0?void 0:r.click()},py=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yre=r=>{r.keydownTarget&&r.keydownHandlerAdded&&(r.keydownTarget.removeEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!1)},JTe=(r,e,t)=>{yre(r),e.toast||(r.keydownHandler=n=>t2e(e,n,t),r.keydownTarget=e.keydownListenerCapture?window:kr(),r.keydownListenerCapture=e.keydownListenerCapture,r.keydownTarget.addEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!0)},jO=(r,e)=>{var t;const n=OF();if(n.length){r=r+e,r===-2&&(r=n.length-1),r===n.length?r=0:r===-1&&(r=n.length-1),n[r].focus();return}(t=kr())===null||t===void 0||t.focus()},_re=["ArrowRight","ArrowDown"],e2e=["ArrowLeft","ArrowUp"],t2e=(r,e,t)=>{r&&(e.isComposing||e.keyCode===229||(r.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?r2e(e,r):e.key==="Tab"?n2e(e):[..._re,...e2e].includes(e.key)?i2e(e.key):e.key==="Escape"&&a2e(e,r,t)))},r2e=(r,e)=>{if(!pD(e.allowEnterKey))return;const t=yD(kr(),e.input);if(r.target&&t&&r.target instanceof HTMLElement&&r.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;mre(),r.preventDefault()}},n2e=r=>{const e=r.target,t=OF();let n=-1;for(let i=0;i<t.length;i++)if(e===t[i]){n=i;break}r.shiftKey?jO(n,-1):jO(n,1),r.stopPropagation(),r.preventDefault()},i2e=r=>{const e=ob(),t=Ju(),n=tg(),i=hy();if(!e||!t||!n||!i)return;const a=[t,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const s=_re.includes(r)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let l=0;l<e.children.length;l++){if(o=o[s],!o)return;if(o instanceof HTMLButtonElement&&Vs(o))break}o instanceof HTMLButtonElement&&o.focus()}},a2e=(r,e,t)=>{r.preventDefault(),pD(e.allowEscapeKey)&&t(py.esc)};var km={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const s2e=()=>{const r=xs();Array.from(document.body.children).forEach(t=>{t.contains(r)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},xre=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},wre=typeof window<"u"&&!!window.GestureEvent,o2e=()=>{if(wre&&!tf(document.body,Le.iosfix)){const r=document.body.scrollTop;document.body.style.top=`${r*-1}px`,Br(document.body,Le.iosfix),l2e()}},l2e=()=>{const r=xs();if(!r)return;let e;r.ontouchstart=t=>{e=u2e(t)},r.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},u2e=r=>{const e=r.target,t=xs(),n=kF();return!t||!n||c2e(r)||f2e(r)?!1:e===t||!GO(t)&&e instanceof HTMLElement&&!uTe(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(GO(n)&&n.contains(e))},c2e=r=>r.touches&&r.touches.length&&r.touches[0].touchType==="stylus",f2e=r=>r.touches&&r.touches.length>1,h2e=()=>{if(tf(document.body,Le.iosfix)){const r=parseInt(document.body.style.top,10);nl(document.body,Le.iosfix),document.body.style.top="",document.body.scrollTop=r*-1}},d2e=()=>{const r=document.createElement("div");r.className=Le["scrollbar-measure"],document.body.appendChild(r);const e=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),e};let om=null;const p2e=r=>{om===null&&(document.body.scrollHeight>window.innerHeight||r==="scroll")&&(om=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${om+d2e()}px`)},v2e=()=>{om!==null&&(document.body.style.paddingRight=`${om}px`,om=null)};function bre(r,e,t,n){mD()?G7(r,n):(JSe(t).then(()=>G7(r,n)),yre(It)),wre?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),NF()&&(v2e(),h2e(),xre()),g2e()}function g2e(){nl([document.documentElement,document.body],[Le.shown,Le["height-auto"],Le["no-backdrop"],Le["toast-shown"]])}function Th(r){r=y2e(r);const e=km.swalPromiseResolve.get(this),t=m2e(this);this.isAwaitingPromise?r.isDismissed||(cb(this),e(r)):t&&e(r)}const m2e=r=>{const e=kr();if(!e)return!1;const t=fn.innerParams.get(r);if(!t||tf(e,t.hideClass.popup))return!1;nl(e,t.showClass.popup),Br(e,t.hideClass.popup);const n=xs();return nl(n,t.showClass.backdrop),Br(n,t.hideClass.backdrop),_2e(r,e,t),!0};function Sre(r){const e=km.swalPromiseReject.get(this);cb(this),e&&e(r)}const cb=r=>{r.isAwaitingPromise&&(delete r.isAwaitingPromise,fn.innerParams.get(r)||r._destroy())},y2e=r=>typeof r>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},r),_2e=(r,e,t)=>{var n;const i=xs(),a=lre(e);typeof t.willClose=="function"&&t.willClose(e),(n=It.eventEmitter)===null||n===void 0||n.emit("willClose",e),a?x2e(r,e,i,t.returnFocus,t.didClose):bre(r,i,t.returnFocus,t.didClose)},x2e=(r,e,t,n,i)=>{It.swalCloseEventFinishedCallback=bre.bind(null,r,t,n,i);const a=function(s){if(s.target===e){var o;(o=It.swalCloseEventFinishedCallback)===null||o===void 0||o.call(It),delete It.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},G7=(r,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(r.params)(),(t=It.eventEmitter)===null||t===void 0||t.emit("didClose"),r._destroy&&r._destroy()})},Pm=r=>{let e=kr();if(e||new Fr,e=kr(),!e)return;const t=dy();mD()?Ua(fy()):w2e(e,r),Xi(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},w2e=(r,e)=>{const t=ob(),n=dy();!t||!n||(!e&&Vs(Ju())&&(e=Ju()),Xi(t),e&&(Ua(e),n.setAttribute("data-button-to-replace",e.className),t.insertBefore(n,e)),Br([r,t],Le.loading))},b2e=(r,e)=>{e.input==="select"||e.input==="radio"?C2e(r,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(RF(e.inputValue)||MF(e.inputValue))&&(Pm(Ju()),D2e(r,e))},S2e=(r,e)=>{const t=r.getInput();if(!t)return null;switch(e.input){case"checkbox":return T2e(t);case"radio":return A2e(t);case"file":return E2e(t);default:return e.inputAutoTrim?t.value.trim():t.value}},T2e=r=>r.checked?1:0,A2e=r=>r.checked?r.value:null,E2e=r=>r.files&&r.files.length?r.getAttribute("multiple")!==null?r.files:r.files[0]:null,C2e=(r,e)=>{const t=kr();if(!t)return;const n=i=>{e.input==="select"?I2e(t,lE(i),e):e.input==="radio"&&R2e(t,lE(i),e)};RF(e.inputOptions)||MF(e.inputOptions)?(Pm(Ju()),ab(e.inputOptions).then(i=>{r.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):eg(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},D2e=(r,e)=>{const t=r.getInput();t&&(Ua(t),ab(e.inputValue).then(n=>{t.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Xi(t),t.focus(),r.hideLoading()}).catch(n=>{eg(`Error in inputValue promise: ${n}`),t.value="",Xi(t),t.focus(),r.hideLoading()}))};function I2e(r,e,t){const n=Sh(r,Le.select);if(!n)return;const i=(a,s,o)=>{const l=document.createElement("option");l.value=o,_o(l,s),l.selected=Tre(o,t.inputValue),a.appendChild(l)};e.forEach(a=>{const s=a[0],o=a[1];if(Array.isArray(o)){const l=document.createElement("optgroup");l.label=s,l.disabled=!1,n.appendChild(l),o.forEach(u=>i(l,u[1],u[0]))}else i(n,o,s)}),n.focus()}function R2e(r,e,t){const n=Sh(r,Le.radio);if(!n)return;e.forEach(a=>{const s=a[0],o=a[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=Le.radio,l.value=s,Tre(s,t.inputValue)&&(l.checked=!0);const c=document.createElement("span");_o(c,o),c.className=Le.label,u.appendChild(l),u.appendChild(c),n.appendChild(u)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const lE=r=>{const e=[];return r instanceof Map?r.forEach((t,n)=>{let i=t;typeof i=="object"&&(i=lE(i)),e.push([n,i])}):Object.keys(r).forEach(t=>{let n=r[t];typeof n=="object"&&(n=lE(n)),e.push([t,n])}),e},Tre=(r,e)=>!!e&&e.toString()===r.toString(),M2e=r=>{const e=fn.innerParams.get(r);r.disableButtons(),e.input?Are(r,"confirm"):GF(r,!0)},k2e=r=>{const e=fn.innerParams.get(r);r.disableButtons(),e.returnInputValueOnDeny?Are(r,"deny"):HF(r,!1)},P2e=(r,e)=>{r.disableButtons(),e(py.cancel)},Are=(r,e)=>{const t=fn.innerParams.get(r);if(!t.input){eg(`The "input" parameter is needed to be set when using returnInputValueOn${IF(e)}`);return}const n=r.getInput(),i=S2e(r,t);t.inputValidator?L2e(r,i,e):n&&!n.checkValidity()?(r.enableButtons(),r.showValidationMessage(t.validationMessage||n.validationMessage)):e==="deny"?HF(r,i):GF(r,i)},L2e=(r,e,t)=>{const n=fn.innerParams.get(r);r.disableInput(),Promise.resolve().then(()=>ab(n.inputValidator(e,n.validationMessage))).then(a=>{r.enableButtons(),r.enableInput(),a?r.showValidationMessage(a):t==="deny"?HF(r,e):GF(r,e)})},HF=(r,e)=>{const t=fn.innerParams.get(r||void 0);t.showLoaderOnDeny&&Pm(tg()),t.preDeny?(r.isAwaitingPromise=!0,Promise.resolve().then(()=>ab(t.preDeny(e,t.validationMessage))).then(i=>{i===!1?(r.hideLoading(),cb(r)):r.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>Ere(r||void 0,i))):r.close({isDenied:!0,value:e})},j7=(r,e)=>{r.close({isConfirmed:!0,value:e})},Ere=(r,e)=>{r.rejectPromise(e)},GF=(r,e)=>{const t=fn.innerParams.get(r||void 0);t.showLoaderOnConfirm&&Pm(),t.preConfirm?(r.resetValidationMessage(),r.isAwaitingPromise=!0,Promise.resolve().then(()=>ab(t.preConfirm(e,t.validationMessage))).then(i=>{Vs(vD())||i===!1?(r.hideLoading(),cb(r)):j7(r,typeof i>"u"?e:i)}).catch(i=>Ere(r||void 0,i))):j7(r,e)};function uE(){const r=fn.innerParams.get(this);if(!r)return;const e=fn.domCache.get(this);Ua(e.loader),mD()?r.icon&&Xi(fy()):O2e(e),nl([e.popup,e.actions],Le.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const O2e=r=>{const e=r.popup.getElementsByClassName(r.loader.getAttribute("data-button-to-replace"));e.length?Xi(e[0],"inline-block"):lTe()&&Ua(r.actions)};function Cre(){const r=fn.innerParams.get(this),e=fn.domCache.get(this);return e?yD(e.popup,r.input):null}function Dre(r,e,t){const n=fn.domCache.get(r);e.forEach(i=>{n[i].disabled=t})}function Ire(r,e){const t=kr();if(!(!t||!r))if(r.type==="radio"){const n=t.querySelectorAll(`[name="${Le.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else r.disabled=e}function Rre(){Dre(this,["confirmButton","denyButton","cancelButton"],!1)}function Mre(){Dre(this,["confirmButton","denyButton","cancelButton"],!0)}function kre(){Ire(this.getInput(),!1)}function Pre(){Ire(this.getInput(),!0)}function Lre(r){const e=fn.domCache.get(this),t=fn.innerParams.get(this);_o(e.validationMessage,r),e.validationMessage.className=Le["validation-message"],t.customClass&&t.customClass.validationMessage&&Br(e.validationMessage,t.customClass.validationMessage),Xi(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Le["validation-message"]),sre(n),Br(n,Le.inputerror))}function Ore(){const r=fn.domCache.get(this);r.validationMessage&&Ua(r.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),nl(e,Le.inputerror))}const lm={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},N2e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],F2e={allowEnterKey:void 0},B2e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Nre=r=>Object.prototype.hasOwnProperty.call(lm,r),Fre=r=>N2e.indexOf(r)!==-1,Bre=r=>F2e[r],V2e=r=>{Nre(r)||gs(`Unknown parameter "${r}"`)},z2e=r=>{B2e.includes(r)&&gs(`The parameter "${r}" is incompatible with toasts`)},U2e=r=>{const e=Bre(r);e&&rre(r,e)},Vre=r=>{r.backdrop===!1&&r.allowOutsideClick&&gs('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),r.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(r.theme)&&gs(`Invalid theme "${r.theme}"`);for(const e in r)V2e(e),r.toast&&z2e(e),U2e(e)};function zre(r){const e=xs(),t=kr(),n=fn.innerParams.get(this);if(!t||tf(t,n.hideClass.popup)){gs("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=H2e(r),a=Object.assign({},n,i);Vre(a),e.dataset.swal2Theme=a.theme,gre(this,a),fn.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}const H2e=r=>{const e={};return Object.keys(r).forEach(t=>{Fre(t)?e[t]=r[t]:gs(`Invalid parameter to update: ${t}`)}),e};function Ure(){const r=fn.domCache.get(this),e=fn.innerParams.get(this);if(!e){Hre(this);return}r.popup&&It.swalCloseEventFinishedCallback&&(It.swalCloseEventFinishedCallback(),delete It.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),It.eventEmitter.emit("didDestroy"),G2e(this)}const G2e=r=>{Hre(r),delete r.params,delete It.keydownHandler,delete It.keydownTarget,delete It.currentInstance},Hre=r=>{r.isAwaitingPromise?(UM(fn,r),r.isAwaitingPromise=!0):(UM(km,r),UM(fn,r),delete r.isAwaitingPromise,delete r.disableButtons,delete r.enableButtons,delete r.getInput,delete r.disableInput,delete r.enableInput,delete r.hideLoading,delete r.disableLoading,delete r.showValidationMessage,delete r.resetValidationMessage,delete r.close,delete r.closePopup,delete r.closeModal,delete r.closeToast,delete r.rejectPromise,delete r.update,delete r._destroy)},UM=(r,e)=>{for(const t in r)r[t].delete(e)};var j2e=Object.freeze({__proto__:null,_destroy:Ure,close:Th,closeModal:Th,closePopup:Th,closeToast:Th,disableButtons:Mre,disableInput:Pre,disableLoading:uE,enableButtons:Rre,enableInput:kre,getInput:Cre,handleAwaitingPromise:cb,hideLoading:uE,rejectPromise:Sre,resetValidationMessage:Ore,showValidationMessage:Lre,update:zre});const W2e=(r,e,t)=>{r.toast?$2e(r,e,t):(Y2e(e),X2e(e),K2e(r,e,t))},$2e=(r,e,t)=>{e.popup.onclick=()=>{r&&(q2e(r)||r.timer||r.input)||t(py.close)}},q2e=r=>!!(r.showConfirmButton||r.showDenyButton||r.showCancelButton||r.showCloseButton);let cE=!1;const Y2e=r=>{r.popup.onmousedown=()=>{r.container.onmouseup=function(e){r.container.onmouseup=()=>{},e.target===r.container&&(cE=!0)}}},X2e=r=>{r.container.onmousedown=e=>{e.target===r.container&&e.preventDefault(),r.popup.onmouseup=function(t){r.popup.onmouseup=()=>{},(t.target===r.popup||t.target instanceof HTMLElement&&r.popup.contains(t.target))&&(cE=!0)}}},K2e=(r,e,t)=>{e.container.onclick=n=>{if(cE){cE=!1;return}n.target===e.container&&pD(r.allowOutsideClick)&&t(py.backdrop)}},Z2e=r=>typeof r=="object"&&r.jquery,W7=r=>r instanceof Element||Z2e(r),Q2e=r=>{const e={};return typeof r[0]=="object"&&!W7(r[0])?Object.assign(e,r[0]):["title","html","icon"].forEach((t,n)=>{const i=r[n];typeof i=="string"||W7(i)?e[t]=i:i!==void 0&&eg(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof i}`)}),e};function J2e(...r){return new this(...r)}function eAe(r){class e extends this{_main(n,i){return super._main(n,Object.assign({},r,i))}}return e}const tAe=()=>It.timeout&&It.timeout.getTimerLeft(),Gre=()=>{if(It.timeout)return cTe(),It.timeout.stop()},jre=()=>{if(It.timeout){const r=It.timeout.start();return BF(r),r}},rAe=()=>{const r=It.timeout;return r&&(r.running?Gre():jre())},nAe=r=>{if(It.timeout){const e=It.timeout.increase(r);return BF(e,!0),e}},iAe=()=>!!(It.timeout&&It.timeout.isRunning());let $7=!1;const WO={};function aAe(r="data-swal-template"){WO[r]=this,$7||(document.body.addEventListener("click",sAe),$7=!0)}const sAe=r=>{for(let e=r.target;e&&e!==document;e=e.parentNode)for(const t in WO){const n=e.getAttribute(t);if(n){WO[t].fire({template:n});return}}};class oAe{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){const n=(...i)=>{this.removeListener(e,n),t.apply(this,i)};this.on(e,n)}emit(e,...t){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,t)}catch(i){console.error(i)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}It.eventEmitter=new oAe;const lAe=(r,e)=>{It.eventEmitter.on(r,e)},uAe=(r,e)=>{It.eventEmitter.once(r,e)},cAe=(r,e)=>{if(!r){It.eventEmitter.reset();return}e?It.eventEmitter.removeListener(r,e):It.eventEmitter.removeAllListeners(r)};var fAe=Object.freeze({__proto__:null,argsToParams:Q2e,bindClickHandler:aAe,clickCancel:QTe,clickConfirm:mre,clickDeny:ZTe,enableLoading:Pm,fire:J2e,getActions:ob,getCancelButton:hy,getCloseButton:LF,getConfirmButton:Ju,getContainer:xs,getDenyButton:tg,getFocusableElements:OF,getFooter:are,getHtmlContainer:kF,getIcon:fy,getIconContent:nTe,getImage:ire,getInputLabel:iTe,getLoader:dy,getPopup:kr,getProgressSteps:PF,getTimerLeft:tAe,getTimerProgressBar:gD,getTitle:nre,getValidationMessage:vD,increaseTimer:nAe,isDeprecatedParameter:Bre,isLoading:sTe,isTimerRunning:iAe,isUpdatableParameter:Fre,isValidParameter:Nre,isVisible:KTe,mixin:eAe,off:cAe,on:lAe,once:uAe,resumeTimer:jre,showLoading:Pm,stopTimer:Gre,toggleTimer:rAe});class hAe{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Wre=["swal-title","swal-html","swal-footer"],dAe=r=>{const e=typeof r.template=="string"?document.querySelector(r.template):r.template;if(!e)return{};const t=e.content;return wAe(t),Object.assign(pAe(t),vAe(t),gAe(t),mAe(t),yAe(t),_Ae(t),xAe(t,Wre))},pAe=r=>{const e={};return Array.from(r.querySelectorAll("swal-param")).forEach(n=>{Mv(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof lm[i]=="boolean"?e[i]=a!=="false":typeof lm[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},vAe=r=>{const e={};return Array.from(r.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},gAe=r=>{const e={};return Array.from(r.querySelectorAll("swal-button")).forEach(n=>{Mv(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${IF(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},mAe=r=>{const e={},t=r.querySelector("swal-image");return t&&(Mv(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},yAe=r=>{const e={},t=r.querySelector("swal-icon");return t&&(Mv(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},_Ae=r=>{const e={},t=r.querySelector("swal-input");t&&(Mv(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const n=Array.from(r.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{Mv(i,["value"]);const a=i.getAttribute("value");if(!a)return;const s=i.innerHTML;e.inputOptions[a]=s})),e},xAe=(r,e)=>{const t={};for(const n in e){const i=e[n],a=r.querySelector(i);a&&(Mv(a,[]),t[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return t},wAe=r=>{const e=Wre.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(r.children).forEach(t=>{const n=t.tagName.toLowerCase();e.includes(n)||gs(`Unrecognized element <${n}>`)})},Mv=(r,e)=>{Array.from(r.attributes).forEach(t=>{e.indexOf(t.name)===-1&&gs([`Unrecognized attribute "${t.name}" on <${r.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},$re=10,bAe=r=>{const e=xs(),t=kr();typeof r.willOpen=="function"&&r.willOpen(t),It.eventEmitter.emit("willOpen",t);const i=window.getComputedStyle(document.body).overflowY;AAe(e,t,r),setTimeout(()=>{SAe(e,t)},$re),NF()&&(TAe(e,r.scrollbarPadding,i),s2e()),!mD()&&!It.previousActiveElement&&(It.previousActiveElement=document.activeElement),typeof r.didOpen=="function"&&setTimeout(()=>r.didOpen(t)),It.eventEmitter.emit("didOpen",t),nl(e,Le["no-transition"])},fE=r=>{const e=kr();if(r.target!==e)return;const t=xs();e.removeEventListener("animationend",fE),e.removeEventListener("transitionend",fE),t.style.overflowY="auto"},SAe=(r,e)=>{lre(e)?(r.style.overflowY="hidden",e.addEventListener("animationend",fE),e.addEventListener("transitionend",fE)):r.style.overflowY="auto"},TAe=(r,e,t)=>{o2e(),e&&t!=="hidden"&&p2e(t),setTimeout(()=>{r.scrollTop=0})},AAe=(r,e,t)=>{Br(r,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Xi(e,"grid"),setTimeout(()=>{Br(e,t.showClass.popup),e.style.removeProperty("opacity")},$re)):Xi(e,"grid"),Br([document.documentElement,document.body],Le.shown),t.heightAuto&&t.backdrop&&!t.toast&&Br([document.documentElement,document.body],Le["height-auto"])};var q7={email:(r,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(r,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function EAe(r){r.inputValidator||(r.input==="email"&&(r.inputValidator=q7.email),r.input==="url"&&(r.inputValidator=q7.url))}function CAe(r){(!r.target||typeof r.target=="string"&&!document.querySelector(r.target)||typeof r.target!="string"&&!r.target.appendChild)&&(gs('Target parameter is not valid, defaulting to "body"'),r.target="body")}function DAe(r){EAe(r),r.showLoaderOnConfirm&&!r.preConfirm&&gs(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),CAe(r),typeof r.title=="string"&&(r.title=r.title.split(`
`).join("<br />")),yTe(r)}let Du;var gT=new WeakMap;class ri{constructor(...e){if(XSe(this,gT,void 0),typeof window>"u")return;Du=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,KSe(gT,this,this._main(Du.params))}_main(e,t={}){if(Vre(Object.assign({},t,e)),It.currentInstance){const a=km.swalPromiseResolve.get(It.currentInstance),{isAwaitingPromise:s}=It.currentInstance;It.currentInstance._destroy(),s||a({isDismissed:!0}),NF()&&xre()}It.currentInstance=Du;const n=RAe(e,t);DAe(n),Object.freeze(n),It.timeout&&(It.timeout.stop(),delete It.timeout),clearTimeout(It.restoreFocusTimeout);const i=MAe(Du);return gre(Du,n),fn.innerParams.set(Du,n),IAe(Du,i,n)}then(e){return F7(gT,this).then(e)}finally(e){return F7(gT,this).finally(e)}}const IAe=(r,e,t)=>new Promise((n,i)=>{const a=s=>{r.close({isDismissed:!0,dismiss:s})};km.swalPromiseResolve.set(r,n),km.swalPromiseReject.set(r,i),e.confirmButton.onclick=()=>{M2e(r)},e.denyButton.onclick=()=>{k2e(r)},e.cancelButton.onclick=()=>{P2e(r,a)},e.closeButton.onclick=()=>{a(py.close)},W2e(t,e,a),JTe(It,t,a),b2e(r,t),bAe(t),kAe(It,t,a),PAe(e,t),setTimeout(()=>{e.container.scrollTop=0})}),RAe=(r,e)=>{const t=dAe(r),n=Object.assign({},lm,e,t,r);return n.showClass=Object.assign({},lm.showClass,n.showClass),n.hideClass=Object.assign({},lm.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},MAe=r=>{const e={popup:kr(),container:xs(),actions:ob(),confirmButton:Ju(),denyButton:tg(),cancelButton:hy(),loader:dy(),closeButton:LF(),validationMessage:vD(),progressSteps:PF()};return fn.domCache.set(r,e),e},kAe=(r,e,t)=>{const n=gD();Ua(n),e.timer&&(r.timeout=new hAe(()=>{t("timer"),delete r.timeout},e.timer),e.timerProgressBar&&(Xi(n),po(n,e,"timerProgressBar"),setTimeout(()=>{r.timeout&&r.timeout.running&&BF(e.timer)})))},PAe=(r,e)=>{if(!e.toast){if(!pD(e.allowEnterKey)){rre("allowEnterKey"),NAe();return}LAe(r)||OAe(r,e)||jO(-1,1)}},LAe=r=>{const e=Array.from(r.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Vs(t))return t.focus(),!0;return!1},OAe=(r,e)=>e.focusDeny&&Vs(r.denyButton)?(r.denyButton.focus(),!0):e.focusCancel&&Vs(r.cancelButton)?(r.cancelButton.focus(),!0):e.focusConfirm&&Vs(r.confirmButton)?(r.confirmButton.focus(),!0):!1,NAe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const r=new Date,e=localStorage.getItem("swal-initiation");e?(r.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${r}`)}ri.prototype.disableButtons=Mre;ri.prototype.enableButtons=Rre;ri.prototype.getInput=Cre;ri.prototype.disableInput=Pre;ri.prototype.enableInput=kre;ri.prototype.hideLoading=uE;ri.prototype.disableLoading=uE;ri.prototype.showValidationMessage=Lre;ri.prototype.resetValidationMessage=Ore;ri.prototype.close=Th;ri.prototype.closePopup=Th;ri.prototype.closeModal=Th;ri.prototype.closeToast=Th;ri.prototype.rejectPromise=Sre;ri.prototype.update=zre;ri.prototype._destroy=Ure;Object.assign(ri,fAe);Object.keys(j2e).forEach(r=>{ri[r]=function(...e){return Du&&Du[r]?Du[r](...e):null}});ri.DismissReason=py;ri.version="11.22.2";const Fr=ri;Fr.default=Fr;typeof document<"u"&&function(r,e){var t=r.createElement("style");if(r.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function FAe(){const[r,e]=ue.useState(""),[t,n]=ue.useState(""),[i,a]=ue.useState(""),[s,o]=ue.useState(""),[l,u]=ue.useState(""),[c,f]=ue.useState(!1);Sf();const[h,p]=ue.useState({departamento:"",circunscripcion:"",provincia:"",municipio:"",recinto:""}),[v,m]=ue.useState([]),[y,x]=ue.useState([]),[w,b]=ue.useState([]),[T,C]=ue.useState([]),[D,E]=ue.useState([]),[R,M]=ue.useState(""),[k,L]=ue.useState(""),[O,N]=ue.useState(""),[W,U]=ue.useState(""),z=y.filter(Q=>Q.nombre.toLowerCase().includes(R.toLowerCase())),Y=w.filter(Q=>Q.nombre.toLowerCase().includes(k.toLowerCase())),re=T.filter(Q=>Q.nombre.toLowerCase().includes(O.toLowerCase())),K=D.filter(Q=>Q.nombre.toLowerCase().includes(W.toLowerCase()));ue.useEffect(()=>{(async()=>{const j=await an(mr(St,"departamentos"));m(j.docs.map(J=>({id:J.id,...J.data()})))})()},[]),ue.useEffect(()=>{if(!h.departamento)return;(async()=>{const j=Kn(mr(St,"circunscripciones"),_n("idDepartamento","==",h.departamento)),J=await an(j);x(J.docs.map(te=>({id:te.id,...te.data()})))})()},[h.departamento]),ue.useEffect(()=>{if(!h.circunscripcion)return;(async()=>{const j=Kn(mr(St,"provincias"),_n("idCircunscripcion","==",h.circunscripcion)),J=await an(j);b(J.docs.map(te=>({id:te.id,...te.data()})))})()},[h.circunscripcion]),ue.useEffect(()=>{if(!h.provincia)return;(async()=>{const j=Kn(mr(St,"municipios"),_n("idProvincia","==",h.provincia)),J=await an(j);C(J.docs.map(te=>({id:te.id,...te.data()})))})()},[h.provincia]),ue.useEffect(()=>{if(!h.municipio)return;(async()=>{const j=Kn(mr(St,"recintos"),_n("idMunicipio","==",h.municipio)),J=await an(j);E(J.docs.map(te=>({id:te.id,...te.data()})))})()},[h.municipio]);const q=async Q=>{Q.preventDefault(),f(!0);try{const j=Kn(mr(St,"solicitudes"),_n("email","==",t));if(!(await an(j)).empty){await Fr.fire({icon:"warning",title:"Correo duplicado",text:"Ya existe una solicitud pendiente con este correo."}),f(!1);return}const te=Kn(mr(St,"usuarios"),_n("email","==",t));if(!(await an(te)).empty){await Fr.fire({icon:"warning",title:"Correo en uso",text:"Este correo ya está registrado como usuario habilitado."}),f(!1);return}const de=v.find(me=>me.id===h.departamento)?.nombre||"",Oe=y.find(me=>me.id===h.circunscripcion)?.nombre||"",Ae=w.find(me=>me.id===h.provincia)?.nombre||"",ye=T.find(me=>me.id===h.municipio)?.nombre||"",Se=D.find(me=>me.id===h.recinto)?.nombre||"";await cy(mr(St,"solicitudes"),{nombre:r,email:t,celular:i,departamentoId:h.departamento,departamentoNombre:de,circunscripcionId:h.circunscripcion,circunscripcionNombre:Oe,provinciaId:h.provincia,provinciaNombre:Ae,municipioId:h.municipio,municipioNombre:ye,recintoId:h.recinto,recintoNombre:Se,rol:"pendiente",habilitado:!1,fechaSolicitud:hD()}),await Fr.fire({icon:"success",title:"Solicitud enviada",text:"Espera la aprobación del administrador."}),e(""),n(""),a(""),p({departamento:"",circunscripcion:"",provincia:"",municipio:"",recinto:""})}catch(j){await Fr.fire({icon:"error",title:"Error al enviar",text:j.message})}finally{f(!1)}};return G.jsxs("div",{className:G1.signupContainer,children:[G.jsx("h2",{children:"Solicitar Acceso"}),G.jsxs("form",{onSubmit:q,className:G1.form,children:[G.jsx("label",{children:"Nombre completo"}),G.jsx("input",{type:"text",value:r,onChange:Q=>e(Q.target.value),required:!0}),G.jsx("label",{children:"Correo electrónico"}),G.jsx("input",{type:"email",value:t,onChange:Q=>n(Q.target.value),required:!0}),G.jsx("label",{children:"Número de celular"}),G.jsx("input",{type:"tel",value:i,onChange:Q=>a(Q.target.value),required:!0}),G.jsx("label",{children:"Departamento"}),G.jsxs("select",{value:h.departamento,onChange:Q=>p({...h,departamento:Q.target.value,circunscripcion:"",provincia:"",municipio:"",recinto:""}),required:!0,children:[G.jsx("option",{value:"",children:"Seleccione un departamento"}),v.map(Q=>G.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),G.jsx("label",{children:"Buscar circunscripción"}),G.jsx("input",{type:"text",value:R,onChange:Q=>M(Q.target.value)}),G.jsxs("select",{value:h.circunscripcion,onChange:Q=>p({...h,circunscripcion:Q.target.value,provincia:"",municipio:"",recinto:""}),required:!0,children:[G.jsx("option",{value:"",children:"Seleccione una circunscripción"}),z.map(Q=>G.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),G.jsx("label",{children:"Buscar provincia"}),G.jsx("input",{type:"text",value:k,onChange:Q=>L(Q.target.value)}),G.jsxs("select",{value:h.provincia,onChange:Q=>p({...h,provincia:Q.target.value,municipio:"",recinto:""}),required:!0,children:[G.jsx("option",{value:"",children:"Seleccione una provincia"}),Y.map(Q=>G.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),G.jsx("label",{children:"Buscar municipio"}),G.jsx("input",{type:"text",value:O,onChange:Q=>N(Q.target.value)}),G.jsxs("select",{value:h.municipio,onChange:Q=>p({...h,municipio:Q.target.value,recinto:""}),required:!0,children:[G.jsx("option",{value:"",children:"Seleccione un municipio"}),re.map(Q=>G.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),G.jsx("label",{children:"Buscar recinto"}),G.jsx("input",{type:"text",value:W,onChange:Q=>U(Q.target.value)}),G.jsxs("select",{value:h.recinto,onChange:Q=>p({...h,recinto:Q.target.value}),required:!0,children:[G.jsx("option",{value:"",children:"Seleccione un recinto"}),K.map(Q=>G.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),s&&G.jsx("p",{className:G1.error,children:s}),l&&G.jsx("p",{className:G1.success,children:l}),G.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#555"},children:["Si no conoces alguno de estos datos, puedes consultar en"," ",G.jsx("a",{href:"https://yoparticipo.oep.org.bo/",target:"_blank",rel:"noopener noreferrer",style:{color:"#155FBF",textDecoration:"underline"},children:"Yo Participo"}),"."]}),G.jsx("button",{type:"submit",disabled:c,className:G1.button,children:c?"Enviando...":"Enviar Solicitud"})]})]})}const qp="generated",BAe="pointerdown",VAe="pointerup",$O="pointerleave",zAe="pointerout",kv="pointermove",UAe="touchstart",Y7="touchend",HAe="touchmove",GAe="touchcancel",jAe="resize",WAe="visibilitychange",il="tsParticles - Error",la=100,ln=.5,Sn=1e3,$i={x:0,y:0,z:0},mT={a:1,b:0,c:0,d:1},Lm="random",iA="mid",ua=2,$Ae=Math.PI*ua,HM=60,qre="true",X7="false",GM="canvas",K7=0,Hc=2,Z7=4,qAe=1,Q7=1,J7=1,YAe=4,Yre=1,aA=255,Yp=360,qO=100,YO=100,eH=0,XO=0,XAe=60,KAe=0,hE=.25,tH=ln+hE,rH=0,ZAe=1,QAe=0,JAe=0,eEe=1,jF=1,tEe=1,nH=1,dE=0,Xre=1,rEe=0,nEe=120,iEe=0,aEe=0,sEe=1e4,oEe=0,lEe=1,pE=0,Kre=1,uEe=1,cEe=0,iH=1,fEe=0,hEe=0,aH=-hE,sH=1.5,oH=0,dEe=1,pEe=0,KO=0,vEe=0,Zre=1,gEe=1,vE=1,mEe=500,lH=50,yEe=0,ZO=1,Qre=0,uH=1,_Ee=0,tp=255,jM=3,WM=6,xEe=1,wEe=1,bEe=0,SEe=0,TEe=0,AEe=0;var ia;(function(r){r.bottom="bottom",r.bottomLeft="bottom-left",r.bottomRight="bottom-right",r.left="left",r.none="none",r.right="right",r.top="top",r.topLeft="top-left",r.topRight="top-right",r.outside="outside",r.inside="inside"})(ia||(ia={}));function Jre(r){return typeof r=="boolean"}function td(r){return typeof r=="string"}function vo(r){return typeof r=="number"}function H0(r){return typeof r=="object"&&r!==null}function Na(r){return Array.isArray(r)}function Ge(r){return r==null}class to{constructor(e,t,n){if(this._updateFromAngle=(i,a)=>{this.x=Math.cos(i)*a,this.y=Math.sin(i)*a},!vo(e)&&e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:$i.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=n??$i.z;else throw new Error(`${il} Vector3d not initialized correctly`)}static get origin(){return to.create($i.x,$i.y,$i.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return to.create(e.x,e.y,e.z)}static create(e,t,n){return new to(e,t,n)}add(e){return to.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return to.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return to.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Hc+this.y**Hc}mult(e){return to.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=pE&&this.multTo(Yre/e)}rotate(e){return to.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),$i.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:$i.z}sub(e){return to.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class sn extends to{constructor(e,t){super(e,t,$i.z)}static get origin(){return sn.create($i.x,$i.y)}static clone(e){return sn.create(e.x,e.y)}static create(e,t){return new sn(e,t)}}let EEe=Math.random;const ene={nextFrame:r=>requestAnimationFrame(r),cancel:r=>cancelAnimationFrame(r)};function $t(){return al(EEe(),0,1-Number.EPSILON)}function CEe(r){return ene.nextFrame(r)}function DEe(r){ene.cancel(r)}function al(r,e,t){return Math.min(Math.max(r,e),t)}function $M(r,e,t,n){return Math.floor((r*t+e*n)/(t+n))}function ca(r){const e=Lu(r),t=0;let n=_D(r);return e===n&&(n=t),$t()*(e-n)+n}function Je(r){return vo(r)?r:ca(r)}function _D(r){return vo(r)?r:r.min}function Lu(r){return vo(r)?r:r.max}function Et(r,e){if(r===e||e===void 0&&vo(r))return r;const t=_D(r),n=Lu(r);return e!==void 0?{min:Math.min(t,e),max:Math.max(n,e)}:Et(t,n)}function Fa(r,e){const t=r.x-e.x,n=r.y-e.y,i=2;return{dx:t,dy:n,distance:Math.sqrt(t**i+n**i)}}function hs(r,e){return Fa(r,e).distance}function rf(r){return r*Math.PI/180}function IEe(r,e,t){if(vo(r))return rf(r);switch(r){case ia.top:return-Math.PI*ln;case ia.topRight:return-Math.PI*hE;case ia.right:return KAe;case ia.bottomRight:return Math.PI*hE;case ia.bottom:return Math.PI*ln;case ia.bottomLeft:return Math.PI*tH;case ia.left:return Math.PI;case ia.topLeft:return-Math.PI*tH;case ia.inside:return Math.atan2(t.y-e.y,t.x-e.x);case ia.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return $t()*$Ae}}function REe(r){const e=sn.origin;return e.length=1,e.angle=r,e}function cH(r,e,t,n){return sn.create(r.x*(t-n)/(t+n)+e.x*ua*n/(t+n),r.y)}function tne(r){return{x:(r.position?.x??$t()*la)*r.size.width/la,y:(r.position?.y??$t()*la)*r.size.height/la}}function rne(r){const e={x:r.position?.x!==void 0?Je(r.position.x):void 0,y:r.position?.y!==void 0?Je(r.position.y):void 0};return tne({size:r.size,position:e})}function MEe(r){return{x:r.position?.x??$t()*r.size.width,y:r.position?.y??$t()*r.size.height}}function nne(r){return r?r.endsWith("%")?parseFloat(r)/la:parseFloat(r):1}var Xp;(function(r){r.auto="auto",r.increase="increase",r.decrease="decrease",r.random="random"})(Xp||(Xp={}));var Ln;(function(r){r.increasing="increasing",r.decreasing="decreasing"})(Ln||(Ln={}));var rd;(function(r){r.none="none",r.max="max",r.min="min"})(rd||(rd={}));var hr;(function(r){r.bottom="bottom",r.left="left",r.right="right",r.top="top"})(hr||(hr={}));var ec;(function(r){r.precise="precise",r.percent="percent"})(ec||(ec={}));var um;(function(r){r.max="max",r.min="min",r.random="random"})(um||(um={}));const kEe={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Pv(){return kEe}function PEe(r){const e=new Map;return(...t)=>{const n=JSON.stringify(t);if(e.has(n))return e.get(n);const i=r(...t);return e.set(n,i),i}}function fH(r){const e={bounced:!1},{pSide:t,pOtherSide:n,rectSide:i,rectOtherSide:a,velocity:s,factor:o}=r;return n.min<a.min||n.min>a.max||n.max<a.min||n.max>a.max||(t.max>=i.min&&t.max<=(i.max+i.min)*ln&&s>rH||t.min<=i.max&&t.min>(i.max+i.min)*ln&&s<rH)&&(e.velocity=s*-o,e.bounced=!0),e}function LEe(r,e){const t=xi(e,n=>r.matches(n));return Na(t)?t.some(n=>n):t}function Lv(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function OEe(){return!Lv()&&typeof matchMedia<"u"}function ine(r){if(OEe())return matchMedia(r)}function NEe(r){if(!(Lv()||typeof IntersectionObserver>"u"))return new IntersectionObserver(r)}function FEe(r){if(!(Lv()||typeof MutationObserver>"u"))return new MutationObserver(r)}function un(r,e){return r===e||Na(e)&&e.indexOf(r)>-1}async function QO(r,e){try{await document.fonts.load(`${e??"400"} 36px '${r??"Verdana"}'`)}catch{}}function ane(r){return Math.floor($t()*r.length)}function fb(r,e,t=!0){return r[e!==void 0&&t?e%r.length:ane(r)]}function hb(r,e,t,n,i){return BEe(db(r,n??0),e,t,i)}function BEe(r,e,t,n){let i=!0;return(!n||n===hr.bottom)&&(i=r.top<e.height+t.x),i&&(!n||n===hr.left)&&(i=r.right>t.x),i&&(!n||n===hr.right)&&(i=r.left<e.width+t.y),i&&(!n||n===hr.top)&&(i=r.bottom>t.y),i}function db(r,e){return{bottom:r.y+e,left:r.x-e,right:r.x+e,top:r.y-e}}function _i(r,...e){for(const t of e){if(t==null)continue;if(!H0(t)){r=t;continue}const n=Array.isArray(t);n&&(H0(r)||!r||!Array.isArray(r))?r=[]:!n&&(H0(r)||!r||Array.isArray(r))&&(r={});for(const i in t){if(i==="__proto__")continue;const a=t,s=a[i],o=r;o[i]=H0(s)&&Array.isArray(s)?s.map(l=>_i(o[i],l)):_i(o[i],s)}}return r}function WF(r,e){return!!lne(e,t=>t.enable&&un(r,t.mode))}function $F(r,e,t){xi(e,n=>{const i=n.mode;n.enable&&un(r,i)&&VEe(n,t)})}function VEe(r,e){const t=r.selectors;xi(t,n=>{e(n,r)})}function sne(r,e){if(!(!e||!r))return lne(r,t=>LEe(e,t.selectors))}function JO(r){return{position:r.getPosition(),radius:r.getRadius(),mass:r.getMass(),velocity:r.velocity,factor:sn.create(Je(r.options.bounce.horizontal.value),Je(r.options.bounce.vertical.value))}}function one(r,e){const{x:t,y:n}=r.velocity.sub(e.velocity),[i,a]=[r.position,e.position],{dx:s,dy:o}=Fa(a,i);if(t*s+n*o<0)return;const u=-Math.atan2(o,s),c=r.mass,f=e.mass,h=r.velocity.rotate(u),p=e.velocity.rotate(u),v=cH(h,p,c,f),m=cH(p,h,c,f),y=v.rotate(-u),x=m.rotate(-u);r.velocity.x=y.x*r.factor.x,r.velocity.y=y.y*r.factor.y,e.velocity.x=x.x*e.factor.x,e.velocity.y=x.y*e.factor.y}function zEe(r,e){const t=r.getPosition(),n=r.getRadius(),i=db(t,n),a=r.options.bounce,s=fH({pSide:{min:i.left,max:i.right},pOtherSide:{min:i.top,max:i.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:r.velocity.x,factor:Je(a.horizontal.value)});s.bounced&&(s.velocity!==void 0&&(r.velocity.x=s.velocity),s.position!==void 0&&(r.position.x=s.position));const o=fH({pSide:{min:i.top,max:i.bottom},pOtherSide:{min:i.left,max:i.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:r.velocity.y,factor:Je(a.vertical.value)});o.bounced&&(o.velocity!==void 0&&(r.velocity.y=o.velocity),o.position!==void 0&&(r.position.y=o.position))}function xi(r,e){return Na(r)?r.map((n,i)=>e(n,i)):e(r,0)}function fa(r,e,t){return Na(r)?fb(r,e,t):r}function lne(r,e){return Na(r)?r.find((n,i)=>e(n,i)):e(r,0)?r:void 0}function une(r,e){const t=r.value,n=r.animation,i={delayTime:Je(n.delay)*Sn,enable:n.enable,value:Je(r.value)*e,max:Lu(t)*e,min:_D(t)*e,loops:0,maxLoops:Je(n.count),time:0},a=1;if(n.enable){switch(i.decay=a-Je(n.decay),n.mode){case Xp.increase:i.status=Ln.increasing;break;case Xp.decrease:i.status=Ln.decreasing;break;case Xp.random:i.status=$t()>=ln?Ln.increasing:Ln.decreasing;break}const s=n.mode===Xp.auto;switch(n.startValue){case um.min:i.value=i.min,s&&(i.status=Ln.increasing);break;case um.max:i.value=i.max,s&&(i.status=Ln.decreasing);break;case um.random:default:i.value=ca(i),s&&(i.status=$t()>=ln?Ln.increasing:Ln.decreasing);break}}return i.initialValue=i.value,i}function cne(r,e){if(!(r.mode===ec.percent)){const{mode:i,...a}=r;return a}return"x"in r?{x:r.x/la*e.width,y:r.y/la*e.height}:{width:r.width/la*e.width,height:r.height/la*e.height}}function fne(r,e){return cne(r,e)}function hH(r,e){return cne(r,e)}function UEe(r,e,t,n,i){switch(e){case rd.max:t>=i&&r.destroy();break;case rd.min:t<=n&&r.destroy();break}}function xD(r,e,t,n,i){if(r.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const c=(e.velocity??0)*i.factor,f=e.min,h=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=i.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Ln.increasing:e.value>=h?(t?e.status=Ln.decreasing:e.value-=h,e.loops||(e.loops=0),e.loops++):e.value+=c;break;case Ln.decreasing:e.value<=f?(t?e.status=Ln.increasing:e.value+=h,e.loops||(e.loops=0),e.loops++):e.value-=c}e.velocity&&p!==1&&(e.velocity*=p),UEe(r,n,e.value,f,h),r.destroyed||(e.value=al(e.value,f,h))}}function HEe(r){const e=document.createElement("div").style;if(!r)return e;for(const t in r){const n=r[t];if(!Object.prototype.hasOwnProperty.call(r,t)||Ge(n))continue;const i=r.getPropertyValue?.(n);if(!i)continue;const a=r.getPropertyPriority?.(n);a?e.setProperty?.(n,i,a):e.setProperty?.(n,i)}return e}function GEe(r){const e=document.createElement("div").style,t=10,n={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:r.toString(t),"z-index":r.toString(t),top:"0",left:"0"};for(const i in n){const a=n[i];e.setProperty(i,a)}return e}const jEe=PEe(GEe);var gh;(function(r){r.darken="darken",r.enlighten="enlighten"})(gh||(gh={}));function WEe(r,e){if(e){for(const t of r.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function el(r,e,t,n=!0){if(!e)return;const i=td(e)?{value:e}:e;if(td(i.value))return hne(r,i.value,t,n);if(Na(i.value))return el(r,{value:fb(i.value,t,n)});for(const a of r.colorManagers.values()){const s=a.handleRangeColor(i);if(s)return s}}function hne(r,e,t,n=!0){if(!e)return;const i=td(e)?{value:e}:e;if(td(i.value))return i.value===Lm?pne():$Ee(r,i.value);if(Na(i.value))return hne(r,{value:fb(i.value,t,n)});for(const a of r.colorManagers.values()){const s=a.handleColor(i);if(s)return s}}function nd(r,e,t,n=!0){const i=el(r,e,t,n);return i?dne(i):void 0}function dne(r){const e=r.r/aA,t=r.g/aA,n=r.b/aA,i=Math.max(e,t,n),a=Math.min(e,t,n),s={h:eH,l:(i+a)*ln,s:XO};return i!==a&&(s.s=s.l<ln?(i-a)/(i+a):(i-a)/(ua-i-a),s.h=e===i?(t-n)/(i-a):s.h=t===i?ua+(n-e)/(i-a):ua*ua+(e-t)/(i-a)),s.l*=YO,s.s*=qO,s.h*=XAe,s.h<eH&&(s.h+=Yp),s.h>=Yp&&(s.h-=Yp),s}function $Ee(r,e){return WEe(r,e)}function Om(r){const e=(r.h%Yp+Yp)%Yp,t=Math.max(XO,Math.min(qO,r.s)),n=Math.max(_Ee,Math.min(YO,r.l)),i=e/Yp,a=t/qO,s=n/YO;if(t===XO){const v=Math.round(s*tp);return{r:v,g:v,b:v}}const o=(v,m,y)=>{if(y<0&&y++,y>1&&y--,y*WM<1)return v+(m-v)*WM*y;if(y*ua<1)return m;if(y*jM<1*ua){const b=ua/jM;return v+(m-v)*(b-y)*WM}return v},l=s<ln?s*(xEe+a):s+a-s*a,u=ua*s-l,c=wEe/jM,f=Math.min(tp,tp*o(u,l,i+c)),h=Math.min(tp,tp*o(u,l,i)),p=Math.min(tp,tp*o(u,l,i-c));return{r:Math.round(f),g:Math.round(h),b:Math.round(p)}}function qEe(r){const e=Om(r);return{a:r.a,b:e.b,g:e.g,r:e.r}}function pne(r){const e=bEe,t=aA+ZO;return{b:Math.floor(ca(Et(e,t))),g:Math.floor(ca(Et(e,t))),r:Math.floor(ca(Et(e,t)))}}function Wu(r,e){return`rgba(${r.r}, ${r.g}, ${r.b}, ${e??jF})`}function Nm(r,e){return`hsla(${r.h}, ${r.s}%, ${r.l}%, ${e??jF})`}function qF(r,e,t,n){let i=r,a=e;return i.r===void 0&&(i=Om(r)),a.r===void 0&&(a=Om(e)),{b:$M(i.b,a.b,t,n),g:$M(i.g,a.g,t,n),r:$M(i.r,a.r,t,n)}}function eN(r,e,t){if(t===Lm)return pne();if(t===iA){const n=r.getFillColor()??r.getStrokeColor(),i=e?.getFillColor()??e?.getStrokeColor();if(n&&i&&e)return qF(n,i,r.getRadius(),e.getRadius());{const a=n??i;if(a)return Om(a)}}else return t}function vne(r,e,t,n){const i=td(e)?e:e.value;return i===Lm?n?el(r,{value:i}):t?Lm:iA:i===iA?iA:el(r,{value:i})}function dH(r){return r!==void 0?{h:r.h.value,s:r.s.value,l:r.l.value}:void 0}function gne(r,e,t){const n={h:{enable:!1,value:r.h},s:{enable:!1,value:r.s},l:{enable:!1,value:r.l}};return e&&(qM(n.h,e.h,t),qM(n.s,e.s,t),qM(n.l,e.l,t)),n}function qM(r,e,t){r.enable=e.enable,r.enable?(r.velocity=Je(e.speed)/la*t,r.decay=Kre-Je(e.decay),r.status=Ln.increasing,r.loops=TEe,r.maxLoops=Je(e.count),r.time=AEe,r.delayTime=Je(e.delay)*Sn,e.sync||(r.velocity*=$t(),r.value*=$t()),r.initialValue=r.value,r.offset=Et(e.offset)):r.velocity=SEe}function YM(r,e,t,n){if(!r||!r.enable||(r.maxLoops??0)>0&&(r.loops??0)>(r.maxLoops??0)||(r.time||(r.time=0),(r.delayTime??0)>0&&r.time<(r.delayTime??0)&&(r.time+=n.value),(r.delayTime??0)>0&&r.time<(r.delayTime??0)))return;const c=r.offset?ca(r.offset):0,f=(r.velocity??0)*n.factor+c*3.6,h=r.decay??1,p=Lu(e),v=_D(e);!t||r.status===Ln.increasing?(r.value+=f,r.value>p&&(r.loops||(r.loops=0),r.loops++,t?r.status=Ln.decreasing:r.value-=p)):(r.value-=f,r.value<0&&(r.loops||(r.loops=0),r.loops++,r.status=Ln.increasing)),r.velocity&&h!==1&&(r.velocity*=h),r.value=al(r.value,v,p)}function mne(r,e){if(!r)return;const{h:t,s:n,l:i}=r,a={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&YM(t,a.h,!1,e),n&&YM(n,a.s,!0,e),i&&YM(i,a.l,!0,e)}function ox(r,e,t){r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.closePath()}function YEe(r,e,t){r.fillStyle=t??"rgba(0,0,0,0)",r.fillRect($i.x,$i.y,e.width,e.height)}function XEe(r,e,t,n){t&&(r.globalAlpha=n,r.drawImage(t,$i.x,$i.y,e.width,e.height),r.globalAlpha=1)}function XM(r,e){r.clearRect($i.x,$i.y,e.width,e.height)}function KEe(r){const{container:e,context:t,particle:n,delta:i,colorStyles:a,backgroundMask:s,composite:o,radius:l,opacity:u,shadow:c,transform:f}=r,h=n.getPosition(),p=n.rotation+(n.pathRotation?n.velocity.angle:yEe),v={sin:Math.sin(p),cos:Math.cos(p)},m=!!p,y={a:v.cos*(f.a??mT.a),b:m?v.sin*(f.b??ZO):f.b??mT.b,c:m?-v.sin*(f.c??ZO):f.c??mT.c,d:v.cos*(f.d??mT.d)};t.setTransform(y.a,y.b,y.c,y.d,h.x,h.y),s&&(t.globalCompositeOperation=o);const x=n.shadowColor;c.enable&&x&&(t.shadowBlur=c.blur,t.shadowColor=Wu(x),t.shadowOffsetX=c.offset.x,t.shadowOffsetY=c.offset.y),a.fill&&(t.fillStyle=a.fill);const w=n.strokeWidth??Qre;t.lineWidth=w,a.stroke&&(t.strokeStyle=a.stroke);const b={container:e,context:t,particle:n,radius:l,opacity:u,delta:i,transformData:y,strokeWidth:w};QEe(b),JEe(b),ZEe(b),t.globalCompositeOperation="source-over",t.resetTransform()}function ZEe(r){const{container:e,context:t,particle:n,radius:i,opacity:a,delta:s,transformData:o}=r;if(!n.effect)return;const l=e.effectDrawers.get(n.effect);l&&l.draw({context:t,particle:n,radius:i,opacity:a,delta:s,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function QEe(r){const{container:e,context:t,particle:n,radius:i,opacity:a,delta:s,strokeWidth:o,transformData:l}=r;if(!n.shape)return;const u=e.shapeDrawers.get(n.shape);u&&(t.beginPath(),u.draw({context:t,particle:n,radius:i,opacity:a,delta:s,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),n.shapeClose&&t.closePath(),o>Qre&&t.stroke(),n.shapeFill&&t.fill())}function JEe(r){const{container:e,context:t,particle:n,radius:i,opacity:a,delta:s,transformData:o}=r;if(!n.shape)return;const l=e.shapeDrawers.get(n.shape);l?.afterDraw&&l.afterDraw({context:t,particle:n,radius:i,opacity:a,delta:s,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function eCe(r,e,t){e.draw&&e.draw(r,t)}function tCe(r,e,t,n){e.drawParticle&&e.drawParticle(r,t,n)}function rCe(r,e,t){return{h:r.h,s:r.s,l:r.l+(e===gh.darken?-uH:uH)*t}}function nCe(r,e,t){const n=e[t];n!==void 0&&(r[t]=(r[t]??ZAe)*n)}function pH(r,e,t=!1){if(!e)return;const n=r;if(!n)return;const i=n.style;if(!i)return;const a=new Set;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.add(i[s]);for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.add(e[s]);for(const s of a){const o=e.getPropertyValue(s);o?i.setProperty(s,o,t?"important":""):i.removeProperty(s)}}class iCe{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=a=>{for(const s of this._postDrawUpdaters)s.afterDraw?.(a)},this._applyPreDrawUpdaters=(a,s,o,l,u,c)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:h,stroke:p}=f.getColorStyles(s,a,o,l);h&&(u.fill=h),p&&(u.stroke=p)}if(f.getTransformValues){const h=f.getTransformValues(s);for(const p in h)nCe(c,h,p)}f.beforeDraw?.(s)}},this._applyResizePlugins=()=>{for(const a of this._resizePlugins)a.resize?.()},this._getPluginParticleColors=a=>{let s,o;for(const l of this._colorPlugins)if(!s&&l.particleFillColor&&(s=nd(this._engine,l.particleFillColor(a))),!o&&l.particleStrokeColor&&(o=nd(this._engine,l.particleStrokeColor(a))),s&&o)break;return[s,o]},this._initCover=async()=>{const a=this.container.actualOptions,s=a.backgroundMask.cover,o=s.color;if(o){const l=el(this._engine,o);if(l){const u={...l,a:s.opacity};this._coverColorStyle=Wu(u,u.a)}}else await new Promise((l,u)=>{if(!s.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._coverImage={image:c,opacity:s.opacity},l()}),c.addEventListener("error",f=>{u(f.error)}),c.src=s.image})},this._initStyle=()=>{const a=this.element,s=this.container.actualOptions;if(a){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const o in s.style){if(!o||!s.style||!Object.prototype.hasOwnProperty.call(s.style,o))continue;const l=s.style[o];l&&a.style.setProperty(o,l,"important")}}},this._initTrail=async()=>{const a=this.container.actualOptions,s=a.particles.move.trail,o=s.fill;if(!s.enable)return;const l=Yre/s.length;if(o.color){const u=el(this._engine,o.color);if(!u)return;this._trailFill={color:{...u},opacity:l}}else await new Promise((u,c)=>{if(!o.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._trailFill={image:f,opacity:l},u()}),f.addEventListener("error",h=>{c(h.error)}),f.src=o.image})},this._paintBase=a=>{this.draw(s=>YEe(s,this.size,a))},this._paintImage=(a,s)=>{this.draw(o=>XEe(o,this.size,a,s))},this._repairStyle=()=>{const a=this.element;a&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>{!a||!(a instanceof Node)||s.observe(a,{attributes:!0})}))},this._resetOriginalStyle=()=>{const a=this.element,s=this._originalStyle;!a||!s||pH(a,s,!0)},this._safeMutationObserver=a=>{this._mutationObserver&&a(this._mutationObserver)},this._setFullScreenStyle=()=>{const a=this.element;a&&pH(a,jEe(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const n=e.retina.pixelRatio,i=this._standardSize;this.size={height:i.height*n,width:i.width*n},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,n=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>JAe&&n?n.color?this._paintBase(Wu(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):e.clear&&this.draw(i=>{XM(i,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const n=e.getRadius();if(n<=QAe)return;const i=e.getFillColor(),a=e.getStrokeColor()??i;let[s,o]=this._getPluginParticleColors(e);s||(s=i),o||(o=a),!(!s&&!o)&&this.draw(l=>{const u=this.container,c=u.actualOptions,f=e.options.zIndex,h=eEe-e.zIndexFactor,p=h**f.opacityRate,v=e.bubble.opacity??e.opacity?.value??jF,m=e.strokeOpacity??v,y=v*p,x=m*p,w={},b={fill:s?Nm(s,y):void 0};b.stroke=o?Nm(o,x):b.fill,this._applyPreDrawUpdaters(l,e,n,y,b,w),KEe({container:u,context:l,particle:e,delta:t,colorStyles:b,backgroundMask:c.backgroundMask.enable,composite:c.backgroundMask.composite,radius:n*h**f.sizeRate,opacity:y,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,n){this.draw(i=>tCe(i,e,t,n))}drawPlugin(e,t){this.draw(n=>eCe(n,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=FEe(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Pv().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,n=this.element;if(!n)return;const i=n.style;if(i){if(t.color){const a=el(this._engine,t.color);i.backgroundColor=a?Wu(a,t.opacity):""}else i.backgroundColor="";i.backgroundImage=t.image||"",i.backgroundPosition=t.position||"",i.backgroundRepeat=t.repeat||"",i.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&qp in e.dataset?e.dataset[qp]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=HEe(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const n=this.container.retina.pixelRatio,i=this.size;e.height=i.height=t.height*n,e.width=i.width=t.width*n,this._context=this.element.getContext("2d"),this._safeMutationObserver(a=>a.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(a=>{!this.element||!(this.element instanceof Node)||a.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(XM(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,n={width:this.element.offsetWidth,height:this.element.offsetHeight},i=e.retina.pixelRatio,a={width:n.width*i,height:n.height*i};if(n.height===t.height&&n.width===t.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const s={...t};t.height=n.height,t.width=n.width;const o=this.size;return this.element.width=o.width=a.width,this.element.height=o.height=a.height,this.container.started&&e.particles.setResizeFactor({width:t.width/s.width,height:t.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>XM(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}var cm;(function(r){r.canvas="canvas",r.parent="parent",r.window="window"})(cm||(cm={}));function ko(r,e,t,n,i){if(n){let a={passive:!0};Jre(i)?a.capture=i:i!==void 0&&(a=i),r.addEventListener(e,t,a)}else{const a=i;r.removeEventListener(e,t,a)}}class aCe{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const n=this.container,i=n.actualOptions;if(this._canPush){const a=n.interactivity.mouse,s=a.position;if(!s)return;a.clickPosition={...s},a.clickTime=new Date().getTime();const o=i.interactivity.events.onClick;xi(o.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),mEe)},this._handleThemeChange=t=>{const n=t,i=this.container,a=i.options,s=a.defaultThemes,o=n.matches?s.dark:s.light;a.themes.find(u=>u.name===o)?.default.auto&&i.loadTheme(o)},this._handleVisibilityChange=()=>{const t=this.container,n=t.actualOptions;this._mouseTouchFinish(),n.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*Sn)},this._manageInteractivityListeners=(t,n)=>{const i=this._handlers,a=this.container,s=a.actualOptions,o=a.interactivity.element;if(!o)return;const l=o,u=a.canvas.element;u&&(u.style.pointerEvents=l===u?"initial":"none"),(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(ko(o,kv,i.mouseMove,n),ko(o,UAe,i.touchStart,n),ko(o,HAe,i.touchMove,n),s.interactivity.events.onClick.enable?(ko(o,Y7,i.touchEndClick,n),ko(o,VAe,i.mouseUp,n),ko(o,BAe,i.mouseDown,n)):ko(o,Y7,i.touchEnd,n),ko(o,t,i.mouseLeave,n),ko(o,GAe,i.touchCancel,n))},this._manageListeners=t=>{const n=this._handlers,i=this.container,a=i.actualOptions,s=a.interactivity.detectsOn,o=i.canvas.element;let l=$O;s===cm.window?(i.interactivity.element=window,l=zAe):s===cm.parent&&o?i.interactivity.element=o.parentElement??o.parentNode:i.interactivity.element=o,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&ko(document,WAe,n.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const n=this._handlers,i=ine("(prefers-color-scheme: dark)");if(i){if(i.addEventListener!==void 0){ko(i,"change",n.themeChange,t);return}i.addListener!==void 0&&(t?i.addListener(n.oldThemeChange):i.removeListener(n.oldThemeChange))}},this._manageResize=t=>{const n=this._handlers,i=this.container;if(!i.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ko(window,jAe,n.resize,t);return}const s=i.canvas.element;this._resizeObserver&&!t?(s&&this._resizeObserver.unobserve(s),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&s&&(this._resizeObserver=new ResizeObserver(o=>{o.find(u=>u.target===s)&&this._handleWindowResize()}),this._resizeObserver.observe(s))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:n}=t;n.clicking=!0,n.downPosition=n.position},this._mouseTouchClick=t=>{const n=this.container,i=n.actualOptions,{mouse:a}=n.interactivity;a.inside=!0;let s=!1;const o=a.position;if(!(!o||!i.interactivity.events.onClick.enable)){for(const l of n.plugins.values())if(l.clickPositionValid&&(s=l.clickPositionValid(o),s))break;s||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const n=t.mouse;delete n.position,delete n.clickPosition,delete n.downPosition,t.status=$O,n.inside=!1,n.clicking=!1},this._mouseTouchMove=t=>{const n=this.container,i=n.actualOptions,a=n.interactivity,s=n.canvas.element;if(!a?.element)return;a.mouse.inside=!0;let o;if(t.type.startsWith("pointer")){this._canPush=!0;const u=t;if(a.element===window){if(s){const c=s.getBoundingClientRect();o={x:u.clientX-c.left,y:u.clientY-c.top}}}else if(i.interactivity.detectsOn===cm.parent){const c=u.target,f=u.currentTarget;if(c&&f&&s){const h=c.getBoundingClientRect(),p=f.getBoundingClientRect(),v=s.getBoundingClientRect();o={x:u.offsetX+ua*h.left-(p.left+v.left),y:u.offsetY+ua*h.top-(p.top+v.top)}}else o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===s&&(o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=t.type!=="touchmove",s){const u=t,c=u.touches[u.touches.length-Zre],f=s.getBoundingClientRect();o={x:c.clientX-(f.left??dE),y:c.clientY-(f.top??dE)}}const l=n.retina.pixelRatio;o&&(o.x*=l,o.y*=l),a.mouse.position=o,a.status=kv},this._touchEnd=t=>{const n=t,i=Array.from(n.changedTouches);for(const a of i)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const n=t,i=Array.from(n.changedTouches);for(const a of i)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const n=t,i=Array.from(n.changedTouches);for(const a of i)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var ns;(function(r){r.configAdded="configAdded",r.containerInit="containerInit",r.particlesSetup="particlesSetup",r.containerStarted="containerStarted",r.containerStopped="containerStopped",r.containerDestroyed="containerDestroyed",r.containerPaused="containerPaused",r.containerPlay="containerPlay",r.containerBuilt="containerBuilt",r.particleAdded="particleAdded",r.particleDestroyed="particleDestroyed",r.particleRemoved="particleRemoved"})(ns||(ns={}));class ei{constructor(){this.value=""}static create(e,t){const n=new ei;return n.load(e),t!==void 0&&(td(t)||Na(t)?n.load({value:t}):n.load(t)),n}load(e){Ge(e)||Ge(e.value)||(this.value=e.value)}}class sCe{constructor(){this.color=new ei,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class oCe{constructor(){this.opacity=1}load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class lCe{constructor(){this.composite="destination-out",this.cover=new oCe,this.enable=!1}load(e){if(!Ge(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,n=td(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:n})}e.enable!==void 0&&(this.enable=e.enable)}}}class uCe{constructor(){this.enable=!0,this.zIndex=0}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class cCe{constructor(){this.enable=!1,this.mode=[]}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Fm;(function(r){r.circle="circle",r.rectangle="rectangle"})(Fm||(Fm={}));class vH{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Fm.circle}load(e){Ge(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class fCe{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class hCe{constructor(){this.enable=!1,this.mode=[],this.parallax=new fCe}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class dCe{constructor(){this.delay=.5,this.enable=!0}load(e){Ge(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class pCe{constructor(){this.onClick=new cCe,this.onDiv=new vH,this.onHover=new hCe,this.resize=new dCe}load(e){if(Ge(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=xi(t,n=>{const i=new vH;return i.load(n),i})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class vCe{constructor(e,t){this._engine=e,this._container=t}load(e){if(Ge(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const n of t)n.loadModeOptions&&n.loadModeOptions(this,e)}}class yne{constructor(e,t){this.detectsOn=cm.window,this.events=new pCe,this.modes=new vCe(e,t)}load(e){if(Ge(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class gCe{load(e){Ge(e)||(e.position&&(this.position={x:e.position.x??lH,y:e.position.y??lH,mode:e.position.mode??ec.percent}),e.options&&(this.options=_i({},e.options)))}}var Kp;(function(r){r.screen="screen",r.canvas="canvas"})(Kp||(Kp={}));class mCe{constructor(){this.maxWidth=1/0,this.options={},this.mode=Kp.canvas}load(e){Ge(e)||(Ge(e.maxWidth)||(this.maxWidth=e.maxWidth),Ge(e.mode)||(e.mode===Kp.screen?this.mode=Kp.screen:this.mode=Kp.canvas),Ge(e.options)||(this.options=_i({},e.options)))}}var mh;(function(r){r.any="any",r.dark="dark",r.light="light"})(mh||(mh={}));class yCe{constructor(){this.auto=!1,this.mode=mh.any,this.value=!1}load(e){Ge(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class _Ce{constructor(){this.name="",this.default=new yCe}load(e){Ge(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=_i({},e.options)))}}class YF{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){Ge(e)||(e.count!==void 0&&(this.count=Et(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Et(e.speed)),e.decay!==void 0&&(this.decay=Et(e.decay)),e.delay!==void 0&&(this.delay=Et(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class XF extends YF{constructor(){super(),this.mode=Xp.auto,this.startValue=um.random}load(e){super.load(e),!Ge(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class KM extends YF{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!Ge(e)&&e.offset!==void 0&&(this.offset=Et(e.offset))}}class xCe{constructor(){this.h=new KM,this.s=new KM,this.l=new KM}load(e){Ge(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Bm extends ei{constructor(){super(),this.animation=new xCe}static create(e,t){const n=new Bm;return n.load(e),t!==void 0&&(td(t)||Na(t)?n.load({value:t}):n.load(t)),n}load(e){if(super.load(e),Ge(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var fm;(function(r){r.absorb="absorb",r.bounce="bounce",r.destroy="destroy"})(fm||(fm={}));class wCe{constructor(){this.speed=2}load(e){Ge(e)||e.speed!==void 0&&(this.speed=e.speed)}}class bCe{constructor(){this.enable=!0,this.retries=0}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Kl{constructor(){this.value=0}load(e){Ge(e)||Ge(e.value)||(this.value=Et(e.value))}}class SCe extends Kl{constructor(){super(),this.animation=new YF}load(e){if(super.load(e),Ge(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class _ne extends SCe{constructor(){super(),this.animation=new XF}load(e){super.load(e)}}class gH extends Kl{constructor(){super(),this.value=1}}class xne{constructor(){this.horizontal=new gH,this.vertical=new gH}load(e){Ge(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class TCe{constructor(){this.absorb=new wCe,this.bounce=new xne,this.enable=!1,this.maxSpeed=50,this.mode=fm.bounce,this.overlap=new bCe}load(e){Ge(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Et(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class ACe{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(Ge(e))return;const t=e.options;if(t!==void 0)for(const n in t){const i=t[n];i&&(this.options[n]=_i(this.options[n]??{},i))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class ECe{constructor(){this.offset=0,this.value=90}load(e){Ge(e)||(e.offset!==void 0&&(this.offset=Et(e.offset)),e.value!==void 0&&(this.value=Et(e.value)))}}class CCe{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!Ge(e)&&(e.distance!==void 0&&(this.distance=Et(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const n=e.rotate.y;n!==void 0&&(this.rotate.y=n)}}}class DCe{constructor(){this.x=50,this.y=50,this.mode=ec.percent,this.radius=0}load(e){Ge(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class ICe{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){Ge(e)||(e.acceleration!==void 0&&(this.acceleration=Et(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Et(e.maxSpeed)))}}class RCe{constructor(){this.clamp=!0,this.delay=new Kl,this.enable=!1,this.options={}}load(e){Ge(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=_i(this.options,e.options)))}}class MCe{load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class kCe{constructor(){this.enable=!1,this.length=10,this.fill=new MCe}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var vi;(function(r){r.bounce="bounce",r.none="none",r.out="out",r.destroy="destroy",r.split="split"})(vi||(vi={}));class PCe{constructor(){this.default=vi.out}load(e){Ge(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class LCe{constructor(){this.acceleration=0,this.enable=!1}load(e){Ge(e)||(e.acceleration!==void 0&&(this.acceleration=Et(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=_i({},e.position)))}}class OCe{constructor(){this.angle=new ECe,this.attract=new CCe,this.center=new DCe,this.decay=0,this.distance={},this.direction=ia.none,this.drift=0,this.enable=!1,this.gravity=new ICe,this.path=new RCe,this.outModes=new PCe,this.random=!1,this.size=!1,this.speed=2,this.spin=new LCe,this.straight=!1,this.trail=new kCe,this.vibrate=!1,this.warp=!1}load(e){if(Ge(e))return;this.angle.load(vo(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Et(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=vo(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Et(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(H0(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Et(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class NCe extends XF{constructor(){super(),this.destroy=rd.none,this.speed=2}load(e){super.load(e),!Ge(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class FCe extends _ne{constructor(){super(),this.animation=new NCe,this.value=1}load(e){if(Ge(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class BCe{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(Ge(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const n=e.height;n!==void 0&&(this.height=n)}}var Qx;(function(r){r.delete="delete",r.wait="wait"})(Qx||(Qx={}));class VCe{constructor(){this.mode=Qx.delete,this.value=0}load(e){Ge(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class zCe{constructor(){this.density=new BCe,this.limit=new VCe,this.value=0}load(e){Ge(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class UCe{constructor(){this.blur=0,this.color=new ei,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){Ge(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=ei.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class HCe{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(Ge(e))return;const t=e.options;if(t!==void 0)for(const n in t){const i=t[n];i&&(this.options[n]=_i(this.options[n]??{},i))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class GCe extends XF{constructor(){super(),this.destroy=rd.none,this.speed=5}load(e){super.load(e),!Ge(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class jCe extends _ne{constructor(){super(),this.animation=new GCe,this.value=3}load(e){if(super.load(e),Ge(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class mH{constructor(){this.width=0}load(e){Ge(e)||(e.color!==void 0&&(this.color=Bm.create(this.color,e.color)),e.width!==void 0&&(this.width=Et(e.width)),e.opacity!==void 0&&(this.opacity=Et(e.opacity)))}}class WCe extends Kl{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!Ge(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class $Ce{constructor(e,t){this._engine=e,this._container=t,this.bounce=new xne,this.collisions=new TCe,this.color=new Bm,this.color.value="#fff",this.effect=new ACe,this.groups={},this.move=new OCe,this.number=new zCe,this.opacity=new FCe,this.reduceDuplicates=!1,this.shadow=new UCe,this.shape=new HCe,this.size=new jCe,this.stroke=new mH,this.zIndex=new WCe}load(e){if(Ge(e))return;if(e.groups!==void 0)for(const n of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,n))continue;const i=e.groups[n];i!==void 0&&(this.groups[n]=_i(this.groups[n]??{},i))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Bm.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=_i({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=xi(t,n=>{const i=new mH;return i.load(n),i})),this._container){const n=this._engine.updaters.get(this._container);if(n)for(const a of n)a.loadOptions&&a.loadOptions(this,e);const i=this._engine.interactors.get(this._container);if(i)for(const a of i)a.loadParticlesOptions&&a.loadParticlesOptions(this,e)}}}function wne(r,...e){for(const t of e)r.load(t)}function KF(r,e,...t){const n=new $Ce(r,e);return wne(n,...t),n}class qCe{constructor(e,t){this._findDefaultTheme=n=>this.themes.find(i=>i.default.value&&i.default.mode===n)??this.themes.find(i=>i.default.value&&i.default.mode===mh.any),this._importPreset=n=>{this.load(this._engine.getPreset(n))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new sCe,this.backgroundMask=new lCe,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new uCe,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new yne(e,t),this.manualParticles=[],this.particles=KF(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(Ge(e))return;e.preset!==void 0&&xi(e.preset,s=>this._importPreset(s)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=Et(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Et(e.duration));const n=e.fpsLimit;n!==void 0&&(this.fpsLimit=n),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const i=e.fullScreen;Jre(i)?this.fullScreen.enable=i:this.fullScreen.load(i),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(s=>{const o=new gCe;return o.load(s),o})),this.particles.load(e.particles),this.style=_i(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.interactors.get(this._container);if(a)for(const s of a)s.loadOptions&&s.loadOptions(this,e);if(e.responsive!==void 0)for(const s of e.responsive){const o=new mCe;o.load(s),this.responsive.push(o)}if(this.responsive.sort((s,o)=>s.maxWidth-o.maxWidth),e.themes!==void 0)for(const s of e.themes){const o=this.themes.find(l=>l.name===s.name);if(o)o.load(s);else{const l=new _Ce;l.load(s),this.themes.push(l)}}this.defaultThemes.dark=this._findDefaultTheme(mh.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(mh.light)?.name}setResponsive(e,t,n){this.load(n);const i=this.responsive.find(a=>a.mode===Kp.screen&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(i?.options),i?.maxWidth}setTheme(e){if(e){const t=this.themes.find(n=>n.name===e);t&&this.load(t.options)}else{const t=ine("(prefers-color-scheme: dark)"),n=t?.matches,i=this._findDefaultTheme(n?mh.dark:mh.light);i&&this.load(i.options)}}}var Vm;(function(r){r.external="external",r.particles="particles"})(Vm||(Vm={}));class YCe{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Vm.external:this._externalInteractors.push(e);break;case Vm.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const n of this._externalInteractors)n.clear(e,t);for(const n of this._particleInteractors)n.isEnabled(e)&&n.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var Nl;(function(r){r.normal="normal",r.inside="inside",r.outside="outside"})(Nl||(Nl={}));function XCe(r,e,t,n){const i=e.options[r];if(i)return _i({close:e.close,fill:e.fill},fa(i,t,n))}function KCe(r,e,t,n){const i=e.options[r];if(i)return _i({close:e.close,fill:e.fill},fa(i,t,n))}function yH(r){if(!un(r.outMode,r.checkModes))return;const e=r.radius*ua;r.coord>r.maxCoord-e?r.setCb(-r.radius):r.coord<e&&r.setCb(r.radius)}class ZCe{constructor(e,t){this.container=t,this._calcPosition=(n,i,a,s=K7)=>{for(const v of n.plugins.values()){const m=v.particlePosition!==void 0?v.particlePosition(i,this):void 0;if(m)return to.create(m.x,m.y,a)}const o=n.canvas.size,l=MEe({size:o,position:i}),u=to.create(l.x,l.y,a),c=this.getRadius(),f=this.options.move.outModes,h=v=>{yH({outMode:v,checkModes:[vi.bounce],coord:u.x,maxCoord:n.canvas.size.width,setCb:m=>u.x+=m,radius:c})},p=v=>{yH({outMode:v,checkModes:[vi.bounce],coord:u.y,maxCoord:n.canvas.size.height,setCb:m=>u.y+=m,radius:c})};return h(f.left??f.default),h(f.right??f.default),p(f.top??f.default),p(f.bottom??f.default),this._checkOverlap(u,s)?this._calcPosition(n,void 0,a,s+uEe):u},this._calculateVelocity=()=>{const n=REe(this.direction),i=n.copy(),a=this.options.move;if(a.direction===ia.inside||a.direction===ia.outside)return i;const s=rf(Je(a.angle.value)),o=rf(Je(a.angle.offset)),l={left:o-s*ln,right:o+s*ln};return a.straight||(i.angle+=ca(Et(l.left,l.right))),a.random&&typeof a.speed=="number"&&(i.length*=$t()),i},this._checkOverlap=(n,i=K7)=>{const a=this.options.collisions,s=this.getRadius();if(!a.enable)return!1;const o=a.overlap;if(o.enable)return!1;const l=o.retries;if(l>=cEe&&i>l)throw new Error(`${il} particle is overlapping and can't be placed`);return!!this.container.particles.find(u=>hs(n,u.position)<s+u.getRadius())},this._getRollColor=n=>{if(!n||!this.roll||!this.backColor&&!this.roll.alter)return n;const i=this.roll.horizontal&&this.roll.vertical?ua*iH:iH,a=this.roll.horizontal?Math.PI*ln:pE;return Math.floor(((this.roll.angle??pE)+a)/(Math.PI/i))%ua?this.backColor?this.backColor:this.roll.alter?rCe(n,this.roll.alter.type,this.roll.alter.value):n:n},this._initPosition=n=>{const i=this.container,a=Je(this.options.zIndex.value);this.position=this._calcPosition(i,n,al(a,fEe,i.zLayers)),this.initialPosition=this.position.copy();const s=i.canvas.size;switch(this.moveCenter={...fne(this.options.move.center,s),radius:this.options.move.center.radius??hEe,mode:this.options.move.center.mode??ec.percent},this.direction=IEe(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case ia.inside:this.outType=Nl.inside;break;case ia.outside:this.outType=Nl.outside;break}this.offset=sn.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,n=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const a of t.plugins.values())a.particleDestroyed?.(this,e);for(const a of t.particles.updaters)a.particleDestroyed?.(this,e);n?.reset(this),this._engine.dispatchEvent(ns.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,n=t.canvas;for(const i of t.plugins.values())n.drawParticlePlugin(i,this,e);n.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??dH(this.color))}getMass(){return this.getRadius()**Hc*Math.PI*ln}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??dH(this.strokeColor))}init(e,t,n,i){const a=this.container,s=this._engine;this.id=e,this.group=i,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Nl.normal,this.ignoresResizeRatio=!0;const o=a.retina.pixelRatio,l=a.actualOptions,u=KF(this._engine,a,l.particles),{reduceDuplicates:c}=u,f=u.effect.type,h=u.shape.type;this.effect=fa(f,this.id,c),this.shape=fa(h,this.id,c);const p=u.effect,v=u.shape;if(n){if(n.effect?.type){const E=n.effect.type,R=fa(E,this.id,c);R&&(this.effect=R,p.load(n.effect))}if(n.shape?.type){const E=n.shape.type,R=fa(E,this.id,c);R&&(this.shape=R,v.load(n.shape))}}if(this.effect===Lm){const E=[...this.container.effectDrawers.keys()];this.effect=E[Math.floor(Math.random()*E.length)]}if(this.shape===Lm){const E=[...this.container.shapeDrawers.keys()];this.shape=E[Math.floor(Math.random()*E.length)]}this.effectData=XCe(this.effect,p,this.id,c),this.shapeData=KCe(this.shape,v,this.id,c),u.load(n);const m=this.effectData;m&&u.load(m.particles);const y=this.shapeData;y&&u.load(y.particles);const x=new yne(s,a);x.load(a.actualOptions.interactivity),x.load(u.interactivity),this.interactivity=x,this.effectFill=m?.fill??u.effect.fill,this.effectClose=m?.close??u.effect.close,this.shapeFill=y?.fill??u.shape.fill,this.shapeClose=y?.close??u.shape.close,this.options=u;const w=this.options.move.path;this.pathDelay=Je(w.delay.value)*Sn,w.generator&&(this.pathGenerator=this._engine.getPathGenerator(w.generator),this.pathGenerator&&a.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=une(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=Kre-Je(this.options.move.decay);const b=a.particles;b.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let T=a.effectDrawers.get(this.effect);T||(T=this._engine.getEffectDrawer(this.effect),T&&a.effectDrawers.set(this.effect,T)),T?.loadEffect&&T.loadEffect(this);let C=a.shapeDrawers.get(this.shape);C||(C=this._engine.getShapeDrawer(this.shape),C&&a.shapeDrawers.set(this.shape,C)),C?.loadShape&&C.loadShape(this);const D=C?.getSidesCount;D&&(this.sides=D(this)),this.spawning=!1,this.shadowColor=el(this._engine,this.options.shadow.color);for(const E of b.updaters)E.init(this);for(const E of b.movers)E.init?.(this);T?.particleInit?.(a,this),C?.particleInit?.(a,this);for(const E of a.plugins.values())E.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,n=this.position;return n.x>=-e&&n.y>=-e&&n.y<=t.height+e&&n.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}let QCe=class{constructor(e,t){this.position=e,this.particle=t}};var hm;(function(r){r.circle="circle",r.rectangle="rectangle"})(hm||(hm={}));class bne{constructor(e,t,n){this.position={x:e,y:t},this.type=n}}let zs=class Sne extends bne{constructor(e,t,n){super(e,t,hm.circle),this.radius=n}contains(e){return hs(e,this.position)<=this.radius}intersects(e){const t=this.position,n=e.position,i={x:Math.abs(n.x-t.x),y:Math.abs(n.y-t.y)},a=this.radius;if(e instanceof Sne||e.type===hm.circle){const s=e,o=a+s.radius,l=Math.sqrt(i.x**Hc+i.y**Hc);return o>l}else if(e instanceof Wl||e.type===hm.rectangle){const s=e,{width:o,height:l}=s.size;return Math.pow(i.x-o,Hc)+Math.pow(i.y-l,Hc)<=a**Hc||i.x<=a+o&&i.y<=a+l||i.x<=o||i.y<=l}return!1}};class Wl extends bne{constructor(e,t,n,i){super(e,t,hm.rectangle),this.size={height:i,width:n}}contains(e){const t=this.size.width,n=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+t&&e.y>=i.y&&e.y<=i.y+n}intersects(e){if(e instanceof zs)return e.intersects(this);const t=this.size.width,n=this.size.height,i=this.position,a=e.position,s=e instanceof Wl?e.size:{width:0,height:0},o=s.width,l=s.height;return a.x<i.x+t&&a.x+o>i.x&&a.y<i.y+n&&a.y+l>i.y}}class gE{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:n,y:i}=this.rectangle.position,{width:a,height:s}=this.rectangle.size,{capacity:o}=this;for(let l=0;l<YAe;l++){const u=l%ua;this._subs.push(new gE(new Wl(n+a*ln*u,i+s*ln*(Math.round(l*ln)-u),a*ln,s*ln),o))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const n=[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&hs(e.position,i.position)>i.particle.getRadius()&&(!t||t(i.particle))||n.push(i.particle);if(this._divided)for(const i of this._subs)n.push(...i.query(e,t));return n}queryCircle(e,t,n){return this.query(new zs(e.x,e.y,t),n)}queryRectangle(e,t,n){return this.query(new Wl(e.x,e.y,t.width,t.height),n)}}const _H=r=>{const{height:e,width:t}=r;return new Wl(aH*t,aH*e,sH*t,sH*e)};class JCe{constructor(e,t){this._addToPool=(...i)=>{this._pool.push(...i)},this._applyDensity=(i,a,s)=>{const o=i.number;if(!i.number.density?.enable){s===void 0?this._limit=o.limit.value:o.limit&&this._groupLimits.set(s,o.limit.value);return}const l=this._initDensityFactor(o.density),u=o.value,c=o.limit.value>oH?o.limit.value:u,f=Math.min(u,c)*l+a,h=Math.min(this.count,this.filter(p=>p.group===s).length);s===void 0?this._limit=o.limit.value*l:this._groupLimits.set(s,o.limit.value*l),h<f?this.push(Math.abs(f-h),void 0,i,s):h>f&&this.removeQuantity(h-f,s)},this._initDensityFactor=i=>{const a=this._container;if(!a.canvas.element||!i.enable)return gEe;const s=a.canvas.element,o=a.retina.pixelRatio;return s.width*s.height/(i.height*i.width*o**Hc)},this._pushParticle=(i,a,s,o)=>{try{let l=this._pool.pop();l||(l=new ZCe(this._engine,this._container)),l.init(this._nextId,i,a,s);let u=!0;return o&&(u=o(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(ns.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){Pv().warning(`${il} adding particle: ${l}`)}},this._removeParticle=(i,a,s)=>{const o=this._array[i];if(!o||o.group!==a)return!1;const l=this._zArray.indexOf(o);return this._array.splice(i,vE),this._zArray.splice(l,vE),o.destroy(s),this._engine.dispatchEvent(ns.particleRemoved,{container:this._container,data:{particle:o}}),this._addToPool(o),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new YCe(e,t),this._pluginsInitialized=!1;const n=t.canvas.size;this.quadTree=new gE(_H(n),Z7),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(n=>this.addParticle(n.position?fne(n.position,e.canvas.size):void 0,n.options))}addParticle(e,t,n,i){const a=this._container.actualOptions.particles.number.limit.mode,s=n===void 0?this._limit:this._groupLimits.get(n)??this._limit,o=this.count;if(s>oH)switch(a){case Qx.delete:{const l=o+dEe-s;l>pEe&&this.removeQuantity(l);break}case Qx.wait:if(o>=s)return;break}return this._pushParticle(e,t,n,i)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,n=t.canvas;n.clear(),this.update(e);for(const i of t.plugins.values())n.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let n=!1;for(const i of e.plugins.values())if(n=i.particlesInitialization?.()??n,n)break;if(this.addManualParticles(),!n){const i=t.particles,a=i.groups;for(const s in a){const o=a[s];for(let l=this.count,u=0;u<o.number?.value&&l<i.number.value;l++,u++)this.addParticle(void 0,o,s)}for(let s=this.count;s<i.number.value;s++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,n,i){for(let a=0;a<e;a++)this.addParticle(t?.position,n,i)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,n){this.removeAt(this._array.indexOf(e),void 0,t,n)}removeAt(e,t=qAe,n,i){if(e<KO||e>this.count)return;let a=0;for(let s=e;a<t&&s<this.count;s++)this._removeParticle(s,n,i)&&(s--,a++)}removeQuantity(e,t){this.removeAt(KO,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const n in t)this._applyDensity(t[n],vEe,n);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,n=new Set;this.quadTree=new gE(_H(t.canvas.size),Z7);for(const a of t.pathGenerators.values())a.update();for(const a of t.plugins.values())a.update?.(e);const i=this._resizeFactor;for(const a of this._array){i&&!a.ignoresResizeRatio&&(a.position.x*=i.width,a.position.y*=i.height,a.initialPosition.x*=i.width,a.initialPosition.y*=i.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const s of this._container.plugins.values()){if(a.destroyed)break;s.particleUpdate?.(a,e)}for(const s of this.movers)s.isEnabled(a)&&s.move(a,e);if(a.destroyed){n.add(a);continue}this.quadTree.insert(new QCe(a.getPosition(),a))}if(n.size){const a=s=>!n.has(s);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const s of n)this._engine.dispatchEvent(ns.particleRemoved,{container:this._container,data:{particle:s}});this._addToPool(...n)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const s of this.updaters)s.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this._lastZIndex=a[a.length-Zre].position.z,this._needsSort=!1}}}class eDe{constructor(e){this.container=e,this.pixelRatio=Q7,this.reduceFactor=J7}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Lv()?Q7:window.devicePixelRatio,this.reduceFactor=J7;const n=this.pixelRatio,i=e.canvas;if(i.element){const o=i.element;i.size.width=o.offsetWidth*n,i.size.height=o.offsetHeight*n}const a=t.particles,s=a.move;this.maxSpeed=Je(s.gravity.maxSpeed)*n,this.sizeAnimationSpeed=Je(a.size.animation.speed)*n}initParticle(e){const t=e.options,n=this.pixelRatio,i=t.move,a=i.distance,s=e.retina;s.moveDrift=Je(i.drift)*n,s.moveSpeed=Je(i.speed)*n,s.sizeAnimationSpeed=Je(t.size.animation.speed)*n;const o=s.maxDistance;o.horizontal=a.horizontal!==void 0?a.horizontal*n:void 0,o.vertical=a.vertical!==void 0?a.vertical*n:void 0,s.maxSpeed=Je(i.gravity.maxSpeed)*n}}function Mn(r){return r&&!r.destroyed}function tDe(r,e=HM,t=!1){return{value:r,factor:t?HM/e:HM*r/Sn}}function n0(r,e,...t){const n=new qCe(r,e);return wne(n,...t),n}class rDe{constructor(e,t,n){this._intersectionManager=i=>{if(!(!Mn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of i)a.target===this.interactivity.element&&(a.isIntersecting?this.play():this.pause())},this._nextFrame=i=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&i<this._lastFrameTime+Sn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=i;const a=tDe(i-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(a.value),this._lastFrameTime=i,a.value>Sn){this.draw(!1);return}if(this.particles.draw(a),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(a){Pv().error(`${il} in animation loop`,a)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new eDe(this),this.canvas=new iCe(this,this._engine),this.particles=new JCe(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=n0(this._engine,this),this.actualOptions=n0(this._engine,this),this._eventListeners=new aCe(this),this._intersectionObserver=NEe(i=>this._intersectionManager(i)),this._engine.dispatchEvent(ns.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Mn(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Mn(this))return;const t=this.interactivity.element;if(!t)return;const n=(f,h,p)=>{if(!Mn(this))return;const v=this.retina.pixelRatio,m={x:h.x*v,y:h.y*v},y=this.particles.quadTree.queryCircle(m,p*v);e(f,y)},i=f=>{if(!Mn(this))return;const h=f,p={x:h.offsetX||h.clientX,y:h.offsetY||h.clientY};n(f,p,tEe)},a=()=>{Mn(this)&&(u=!0,c=!1)},s=()=>{Mn(this)&&(c=!0)},o=f=>{if(Mn(this)){if(u&&!c){const h=f;let p=h.touches[h.touches.length-nH];if(!p&&(p=h.changedTouches[h.changedTouches.length-nH],!p))return;const v=this.canvas.element,m=v?v.getBoundingClientRect():void 0,y={x:p.clientX-(m?m.left:dE),y:p.clientY-(m?m.top:dE)};n(f,y,Math.max(p.radiusX,p.radiusY))}u=!1,c=!1}},l=()=>{Mn(this)&&(u=!1,c=!1)};let u=!1,c=!1;this._clickHandlers.set("click",i),this._clickHandlers.set("touchstart",a),this._clickHandlers.set("touchmove",s),this._clickHandlers.set("touchend",o),this._clickHandlers.set("touchcancel",l);for(const[f,h]of this._clickHandlers)t.addEventListener(f,h)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,n=!1){return!Mn(this)||!n&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(Mn(this)){for(const[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(Mn(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const t=this._engine.items,n=t.findIndex(i=>i===this);n>=rEe&&t.splice(n,Xre)}this._engine.dispatchEvent(ns.containerDestroyed,{container:this})}}draw(e){if(!Mn(this))return;let t=e;const n=i=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(i)};this._drawAnimationFrame=CEe(i=>n(i))}async export(e,t={}){for(const n of this.plugins.values()){if(!n.export)continue;const i=await n.export(e,t);if(i.supported)return i.blob}Pv().error(`${il} - Export plugin with type ${e} not found`)}handleClickMode(e){if(Mn(this)){this.particles.handleClickMode(e);for(const t of this.plugins.values())t.handleClickMode?.(e)}}async init(){if(!Mn(this))return;const e=this._engine.getSupportedEffects();for(const u of e){const c=this._engine.getEffectDrawer(u);c&&this.effectDrawers.set(u,c)}const t=this._engine.getSupportedShapes();for(const u of t){const c=this._engine.getShapeDrawer(u);c&&this.shapeDrawers.set(u,c)}await this.particles.initPlugins(),this._options=n0(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=n0(this._engine,this,this._options);const n=await this._engine.getAvailablePlugins(this);for(const[u,c]of n)this.plugins.set(u,c);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:i,duration:a,delay:s,fpsLimit:o,smooth:l}=this.actualOptions;this.zLayers=i,this._duration=Je(a)*Sn,this._delay=Je(s)*Sn,this._lifeTime=0,this.fpsLimit=o>iEe?o:nEe,this._smooth=l;for(const u of this.effectDrawers.values())await u.init?.(this);for(const u of this.shapeDrawers.values())await u.init?.(this);for(const u of this.plugins.values())await u.init?.();this._engine.dispatchEvent(ns.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const u of this.plugins.values())u.particlesSetup?.();this._engine.dispatchEvent(ns.particlesSetup,{container:this})}async loadTheme(e){Mn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Mn(this)&&(this._drawAnimationFrame!==void 0&&(DEe(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(ns.containerPaused,{container:this})}}play(e){if(!Mn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const n of this.plugins.values())n.play&&n.play();this._engine.dispatchEvent(ns.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(Mn(this))return this.stop(),this.start()}async reset(e){if(Mn(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=n0(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=n0(this._engine,this,this._options),this.refresh()}async start(){!Mn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const n of this.plugins.values())await n.start?.();this._engine.dispatchEvent(ns.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){if(!(!Mn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(ns.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class nDe{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(i=>i(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const n=this._listeners.get(e);if(!n)return;const i=n.length,a=n.indexOf(t);a<KO||(i===vE?this._listeners.delete(e):n.splice(a,vE))}}async function ZM(r,e,t,n=!1){let i=e.get(r);return(!i||n)&&(i=await Promise.all([...t.values()].map(a=>a(r))),e.set(r,i)),i}async function iDe(r){const e=fa(r.url,r.index);if(!e)return r.fallback;const t=await fetch(e);return t.ok?await t.json():(Pv().error(`${il} ${t.status} while retrieving config file`),r.fallback)}const aDe=r=>{let e;if(r instanceof HTMLCanvasElement||r.tagName.toLowerCase()===GM)e=r,e.dataset[qp]||(e.dataset[qp]=X7);else{const n=r.getElementsByTagName(GM);n.length?(e=n[aEe],e.dataset[qp]=X7):(e=document.createElement(GM),e.dataset[qp]=qre,r.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},sDe=(r,e)=>{let t=e??document.getElementById(r);return t||(t=document.createElement("div"),t.id=r,t.dataset[qp]=qre,document.body.append(t),t)};class oDe{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new nDe,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,n]of this._configs)e[t]=n;return e}get items(){return this._domArray}get version(){return"3.8.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(ns.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,n=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(n))}async addEffect(e,t,n=!0){xi(e,i=>{this.getEffectDrawer(i)||this.effectDrawers.set(i,t)}),await this.refresh(n)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,n=!0){this._initializers.interactors.set(e,t),await this.refresh(n)}async addMover(e,t,n=!0){this._initializers.movers.set(e,t),await this.refresh(n)}async addParticleUpdater(e,t,n=!0){this._initializers.updaters.set(e,t),await this.refresh(n)}async addPathGenerator(e,t,n=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(n)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,n=!1,i=!0){(n||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(i)}async addShape(e,t=!0){for(const n of e.validTypes)this.getShapeDrawer(n)||this.shapeDrawers.set(n,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&t.set(n.id,await n.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return ZM(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return ZM(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return ZM(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,n=t[e];if(!n||n.destroyed){t.splice(e,Xre);return}return n}async load(e){const t=e.id??e.element?.id??`tsparticles${Math.floor($t()*sEe)}`,{index:n,url:i}=e,a=i?await iDe({fallback:e.options,url:i,index:n}):e.options,s=fa(a,n),{items:o}=this,l=o.findIndex(h=>h.id.description===t),u=new rDe(this,t,s);if(l>=oEe){const h=this.item(l),p=h?lEe:pE;h&&!h.destroyed&&h.destroy(!1),o.splice(l,p,u)}else o.push(u);const c=sDe(t,e.element),f=aDe(c);return u.canvas.loadCanvas(f),await u.start(),u}loadOptions(e,t){this.plugins.forEach(n=>n.loadOptions?.(e,t))}loadParticlesOptions(e,t,...n){const i=this.updaters.get(e);i&&i.forEach(a=>a.loadOptions?.(t,...n))}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${il} can only set click handlers after calling tsParticles.load()`);t.forEach(n=>n.addClickHandler(e))}}function lDe(){const r=new oDe;return r.init(),r}class Zl{constructor(e){this.type=Vm.external,this.container=e}}class ZF{constructor(e){this.type=Vm.particles,this.container=e}}var us;(function(r){r.clockwise="clockwise",r.counterClockwise="counter-clockwise",r.random="random"})(us||(us={}));var xH;(function(r){r.linear="linear",r.radial="radial",r.random="random"})(xH||(xH={}));var hv;(function(r){r.easeInBack="ease-in-back",r.easeInCirc="ease-in-circ",r.easeInCubic="ease-in-cubic",r.easeInLinear="ease-in-linear",r.easeInQuad="ease-in-quad",r.easeInQuart="ease-in-quart",r.easeInQuint="ease-in-quint",r.easeInExpo="ease-in-expo",r.easeInSine="ease-in-sine",r.easeOutBack="ease-out-back",r.easeOutCirc="ease-out-circ",r.easeOutCubic="ease-out-cubic",r.easeOutLinear="ease-out-linear",r.easeOutQuad="ease-out-quad",r.easeOutQuart="ease-out-quart",r.easeOutQuint="ease-out-quint",r.easeOutExpo="ease-out-expo",r.easeOutSine="ease-out-sine",r.easeInOutBack="ease-in-out-back",r.easeInOutCirc="ease-in-out-circ",r.easeInOutCubic="ease-in-out-cubic",r.easeInOutLinear="ease-in-out-linear",r.easeInOutQuad="ease-in-out-quad",r.easeInOutQuart="ease-in-out-quart",r.easeInOutQuint="ease-in-out-quint",r.easeInOutExpo="ease-in-out-expo",r.easeInOutSine="ease-in-out-sine"})(hv||(hv={}));const Tne=lDe();Lv()||(window.tsParticles=Tne);const uDe=r=>{const e=r.id??"tsparticles";return ue.useEffect(()=>{let t;return Tne.load({id:e,url:r.url,options:r.options}).then(n=>{var i;t=n,(i=r.particlesLoaded)==null||i.call(r,n)}),()=>{t?.destroy()}},[e,r,r.url,r.options]),G.jsx("div",{id:e,className:r.className})};class cDe{constructor(){this.radius=0,this.mass=0}load(e){Ge(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class fDe extends Kl{constructor(){super(),this.density=5,this.value=50,this.limit=new cDe}load(e){Ge(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),vo(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class mE{constructor(){this.color=new ei,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new fDe}load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Et(e.position.x)),e.position.y!==void 0&&(this.position.y=Et(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var yE;(function(r){r.absorber="absorber"})(yE||(yE={}));const hDe=2,dDe=.033,pDe=0,vDe=0,gDe=0,mDe=0,yDe=2,wH=Math.PI*yDe,bH=0;class _De{constructor(e,t,n,i,a){this._calcPosition=()=>{const o=rne({size:this._container.canvas.size,position:this.options.position});return sn.create(o.x,o.y)},this._updateParticlePosition=(o,l)=>{if(o.destroyed)return;const u=this._container,c=u.canvas.size;if(o.needsNewPosition){const f=tne({size:c});o.position.setTo(f),o.velocity.setTo(o.initialVelocity),o.absorberOrbit=void 0,o.needsNewPosition=!1}if(this.options.orbits){if(o.absorberOrbit===void 0&&(o.absorberOrbit=sn.origin,o.absorberOrbit.length=hs(o.getPosition(),this.position),o.absorberOrbit.angle=$t()*wH),o.absorberOrbit.length<=this.size&&!this.options.destroy){const m=Math.min(c.width,c.height),y=1,x=.1,w=.2;o.absorberOrbit.length=m*(y+($t()*w-x))}o.absorberOrbitDirection===void 0&&(o.absorberOrbitDirection=o.velocity.x>=bH?us.clockwise:us.counterClockwise);const f=o.absorberOrbit.length,h=o.absorberOrbit.angle,p=o.absorberOrbitDirection;o.velocity.setTo(sn.origin);const v={x:p===us.clockwise?Math.cos:Math.sin,y:p===us.clockwise?Math.sin:Math.cos};o.position.x=this.position.x+f*v.x(h),o.position.y=this.position.y+f*v.y(h),o.absorberOrbit.length-=l.length,o.absorberOrbit.angle+=(o.retina.moveSpeed??bH)*u.retina.pixelRatio/la*u.retina.reduceFactor}else{const f=sn.origin;f.length=l.length,f.angle=l.angle,o.velocity.addTo(f)}},this._absorbers=e,this._container=t,this._engine=n,this.initialPosition=a?sn.create(a.x,a.y):void 0,i instanceof mE?this.options=i:(this.options=new mE,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=Je(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const s=this.options.size.limit;this.limit={radius:s.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:s.mass},this.color=el(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(e){const t=this._container,n=this.options;if(n.draggable){const u=t.interactivity.mouse;u.clicking&&u.downPosition?hs(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const i=e.getPosition(),{dx:a,dy:s,distance:o}=Fa(this.position,i),l=sn.create(a,s);if(l.length=this.mass/Math.pow(o,hDe)*t.retina.reduceFactor,o<this.size+e.getRadius()){const u=e.getRadius()*dDe*t.retina.pixelRatio;this.size>e.getRadius()&&o<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<pDe?n.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(n.destroy&&(e.size.value-=u),this._updateParticlePosition(e,l)),(this.limit.radius<=vDe||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=gDe||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc($i.x,$i.y,this.size,mDe,wH,!1),e.closePath(),e.fillStyle=Wu(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&hb(e,this._container.canvas.size,sn.origin)?e:this._calcPosition()}}const SH=0;class xDe{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=n=>n===void 0||vo(n)?this.array[n??SH]:this.array.find(i=>i.name===n),e.addAbsorber=async(n,i)=>this.addAbsorber(n,i)}async addAbsorber(e,t){const n=new _De(this,this._container,this._engine,e,t);return this.array.push(n),Promise.resolve(n)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,n=this.interactivityAbsorbers;if(e===yE.absorber){const i=fa(n),a=i??fa(t),s=this._container.interactivity.mouse.clickPosition;this.addAbsorber(a,s)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=xi(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=SH&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class wDe{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new xDe(e,this._engine))}loadOptions(e,t){!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=xi(t.absorbers,n=>{const i=new mE;return i.load(n),i})),e.interactivity.modes.absorbers=xi(t?.interactivity?.modes?.absorbers,n=>{const i=new mE;return i.load(n),i}))}needsPlugin(e){if(!e)return!1;const t=e.absorbers;return Na(t)?!!t.length:t?!0:!!(e.interactivity?.events?.onClick?.mode&&un(yE.absorber,e.interactivity.events.onClick.mode))}}async function bDe(r,e=!0){r.checkVersion("3.8.1"),await r.addPlugin(new wDe(r),e)}class SDe{load(e){Ge(e)||(e.bottom!==void 0&&(this.bottom=Et(e.bottom)),e.left!==void 0&&(this.left=Et(e.left)),e.right!==void 0&&(this.right=Et(e.right)),e.top!==void 0&&(this.top=Et(e.top)))}}var _E;(function(r){r.none="none",r.split="split"})(_E||(_E={}));class TDe extends Kl{constructor(){super(),this.value=3}}class ADe extends Kl{constructor(){super(),this.value={min:4,max:9}}}class EDe{constructor(){this.count=1,this.factor=new TDe,this.rate=new ADe,this.sizeOffset=!0}load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=xi(e.particles,t=>_i({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class CDe{constructor(){this.bounds=new SDe,this.mode=_E.none,this.split=new EDe}load(e){Ge(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const yT=0,DDe=.5,IDe=0,RDe=1,MDe=500,kDe=0;function PDe(r,e,t,n){const i=t.options.destroy;if(!i)return;const a=i.split,s=KF(r,e,t.options),o=Je(a.factor.value),l=t.getFillColor();a.color?s.color.load(a.color):a.colorOffset&&l?s.color.load({value:{hsl:{h:l.h+Je(a.colorOffset.h??yT),s:l.s+Je(a.colorOffset.s??yT),l:l.l+Je(a.colorOffset.l??yT)}}}):s.color.load({value:{hsl:t.getFillColor()}}),s.move.load({center:{x:t.position.x,y:t.position.y,mode:ec.precise}}),vo(s.size.value)?s.size.value/=o:(s.size.value.min/=o,s.size.value.max/=o),s.load(n);const u=a.sizeOffset?Et(-t.size.value,t.size.value):yT,c={x:t.position.x+ca(u),y:t.position.y+ca(u)};return e.particles.addParticle(c,s,t.group,f=>f.size.value<DDe?!1:(f.velocity.length=ca(Et(t.velocity.length,f.velocity.length)),f.splitCount=(t.splitCount??IDe)+RDe,f.unbreakable=!0,setTimeout(()=>{f.unbreakable=!1},MDe),!0))}function LDe(r,e,t){const n=t.options.destroy;if(!n)return;const i=n.split;if(i.count>=kDe&&(t.splitCount===void 0||t.splitCount++>i.count))return;const a=Je(i.rate.value),s=fa(i.particles);for(let o=0;o<a;o++)PDe(r,e,t,s)}class ODe{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,n=e.options,i=n.destroy;if(!i)return;e.splitCount=0;const a=i.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:s,left:o,right:l,top:u}=a,{destroyBounds:c}=e,f=t.canvas.size;s&&(c.bottom=Je(s)*f.height/la),o&&(c.left=Je(o)*f.width/la),l&&(c.right=Je(l)*f.width/la),u&&(c.top=Je(u)*f.height/la)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new CDe);for(const n of t)e.destroy.load(n?.destroy)}particleDestroyed(e,t){if(t)return;const n=e.options.destroy;n&&n.mode===_E.split&&LDe(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),n=e.destroyBounds;n&&(n.bottom!==void 0&&t.y>=n.bottom||n.left!==void 0&&t.x<=n.left||n.right!==void 0&&t.x>=n.right||n.top!==void 0&&t.y<=n.top)&&e.destroy()}}async function NDe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("destroy",t=>Promise.resolve(new ODe(r,t)),e)}class FDe{constructor(){this.wait=!1}load(e){Ge(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=Et(e.delay)),e.duration!==void 0&&(this.duration=Et(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class BDe{constructor(){this.quantity=1,this.delay=.1}load(e){Ge(e)||(e.quantity!==void 0&&(this.quantity=Et(e.quantity)),e.delay!==void 0&&(this.delay=Et(e.delay)))}}class VDe{constructor(){this.color=!1,this.opacity=!1}load(e){Ge(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class zDe{constructor(){this.options={},this.replace=new VDe,this.type="square"}load(e){Ge(e)||(e.options!==void 0&&(this.options=_i({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class Ane{constructor(){this.mode=ec.percent,this.height=0,this.width=0}load(e){Ge(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class yh{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new FDe,this.rate=new BDe,this.shape=new zDe,this.startCount=0}load(e){Ge(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new Ane),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=xi(e.particles,t=>_i({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Et(e.position.x)),e.position.y!==void 0&&(this.position.y=Et(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Bm),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var xE;(function(r){r.emitter="emitter"})(xE||(xE={}));const TH=.5,AH=0,_T=0,EH=0,UDe=0,HDe=-1,GDe=1;function CH(r,e){r.color?r.color.value=e:r.color={value:e}}class jDe{constructor(e,t,n,i,a){this.emitters=t,this.container=n,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const u=this.options.life?.duration!==void 0?Je(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&u!==void 0&&u>0&&(this._duration=u*Sn)},this._setColorAnimation=(u,c,f,h=GDe)=>{const p=this.container;if(!u.enable)return c;const v=ca(u.offset),m=Je(this.options.rate.delay),y=m*Sn/p.retina.reduceFactor,x=0,w=Je(u.speed??x);return(c+w*p.fpsLimit/y+v*h)%f},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=a,i instanceof yh?this.options=i:(this.options=new yh,this.options.load(i)),this._spawnDelay=Je(this.options.life.delay??AH)*Sn/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let s=_i({},this.options.particles);if(s??={},s.move??={},s.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=nd(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=s,this._size=this._calcSize(),this.size=hH(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??HDe,this._immortal=this._lifeCount<=_T,this.options.domId){const u=document.getElementById(this.options.domId);u&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(u,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(u))}const o=this.options.shape,l=this._engine.emitterShapeManager?.getShapeGenerator(o.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,o.options)),this._engine.dispatchEvent("emitterCreated",{container:n,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await this._shape?.init()}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>_T||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??EH))){if(this._emitDelay===void 0){const e=Je(this.options.rate.delay);this._emitDelay=e*Sn/this.container.retina.reduceFactor}(this._lifeCount>_T||this._immortal)&&this._prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&hb(e,this.container.canvas.size,sn.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=hH(this._size,this.container.canvas.size),this._shape?.resize(this.position,this.size)}update(e){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??EH,this._currentEmitDelay=this._emitDelay??UDe),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>_T||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=Je(this.options.life.delay??AH)*Sn/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const t=e.getBoundingClientRect(),n=this.container.retina.pixelRatio;return{x:(t.x+t.width*TH)*n,y:(t.y+t.height*TH)*n}}}return rne({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const n=t.getBoundingClientRect();return{width:n.width*e.retina.pixelRatio,height:n.height*e.retina.pixelRatio,mode:ec.precise}}}return this.options.size??(()=>{const t=new Ane;return t.load({height:0,mode:ec.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=Je(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){const t=fa(this._particlesOptions);for(let n=0;n<e;n++){const i=_i({},t);if(this.spawnColor){const o=this.options.spawnColor?.animation;if(o){const l={h:360,s:100,l:100},u=3.6;this.spawnColor.h=this._setColorAnimation(o.h,this.spawnColor.h,l.h,u),this.spawnColor.s=this._setColorAnimation(o.s,this.spawnColor.s,l.s),this.spawnColor.l=this._setColorAnimation(o.l,this.spawnColor.l,l.l)}CH(i,this.spawnColor)}const a=this.options.shape;let s=this.position;if(this._shape){const o=this._shape.randomPosition();if(o){s=o.position;const l=a.replace;l.color&&o.color&&CH(i,o.color),l.opacity&&(i.opacity?i.opacity.value=o.opacity:i.opacity={value:o.opacity})}else s=null}s&&this.container.particles.addParticle(s,i)}}}class WDe{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const n=0;t.getEmitter=i=>i===void 0||vo(i)?this.array[i??n]:this.array.find(a=>a.name===i),t.addEmitter=async(i,a)=>this.addEmitter(i,a),t.removeEmitter=i=>{const a=t.getEmitter(i);a&&this.removeEmitter(a)},t.playEmitter=i=>{const a=t.getEmitter(i);a&&a.externalPlay()},t.pauseEmitter=i=>{const a=t.getEmitter(i);a&&a.externalPause()}}async addEmitter(e,t){const n=new yh;n.load(e);const i=new jDe(this._engine,this,this.container,n,t);return await i.init(),this.array.push(i),i}handleClickMode(e){const t=this.emitters,n=this.interactivityEmitters;if(e!==xE.emitter)return;let i;if(n&&Na(n.value))if(n.value.length>0&&n.random.enable){i=[];const l=[];for(let u=0;u<n.random.count;u++){const c=ane(n.value);if(l.includes(c)&&l.length<n.value.length){u--;continue}l.push(c),i.push(fb(n.value,c))}}else i=n.value;else i=n?.value;const a=i??t,s=this.container.interactivity.mouse.clickPosition;xi(a,async o=>{await this.addEmitter(o,s)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(Na(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class $De{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new WDe(this._engine,e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=xi(t.emitters,i=>{const a=new yh;return a.load(i),a}));const n=t?.interactivity?.modes?.emitters;if(n)if(Na(n))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:n.map(i=>{const a=new yh;return a.load(i),a})};else{const i=n;if(i.value!==void 0)if(Na(i.value))e.interactivity.modes.emitters={random:{count:i.random.count??1,enable:i.random.enable??!1},value:i.value.map(s=>{const o=new yh;return o.load(s),o})};else{const s=new yh;s.load(i.value),e.interactivity.modes.emitters={random:{count:i.random.count??1,enable:i.random.enable??!1},value:s}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new yh}).value.load(n)}}needsPlugin(e){if(!e)return!1;const t=e.emitters;return Na(t)&&!!t.length||t!==void 0||!!e.interactivity?.events?.onClick?.mode&&un(xE.emitter,e.interactivity.events.onClick.mode)}}const QM=new Map;class qDe{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||QM.set(e,t)}getShapeGenerator(e){return QM.get(e)}getSupportedShapeGenerators(){return QM.keys()}}class Ene{constructor(e,t,n,i){this.position=e,this.size=t,this.fill=n,this.options=i}resize(e,t){this.position=e,this.size=t}}async function YDe(r,e=!0){r.checkVersion("3.8.1"),r.emitterShapeManager||(r.emitterShapeManager=new qDe(r)),r.addEmitterShapeGenerator||(r.addEmitterShapeGenerator=(n,i)=>{r.emitterShapeManager?.addShapeGenerator(n,i)});const t=new $De(r);await r.addPlugin(t,e)}const j1=.25,tN=2,XDe=Math.PI*tN,DH=2,IH=.5;class KDe extends Ene{constructor(e,t,n,i){super(e,t,n,i)}async init(){}randomPosition(){const e=this.size,t=this.fill,n=this.position,i=(f,h)=>{const p=$t()*j1,v=Math.atan(h/f*Math.tan(XDe*p)),m=$t();return m<j1?v:m<tN*j1?Math.PI-v:m<tN*j1+j1?Math.PI+v:-v},a=(f,h,p)=>f*h/Math.sqrt((h*Math.cos(p))**DH+(f*Math.sin(p))**DH),[s,o]=[e.width*IH,e.height*IH],l=i(s,o),u=a(s,o,l),c=t?u*Math.sqrt($t()):u;return{position:{x:n.x+c*Math.cos(l),y:n.y+c*Math.sin(l)}}}}class ZDe{generate(e,t,n,i){return new KDe(e,t,n,i)}}async function QDe(r,e=!0){const t=r;t.checkVersion("3.8.1"),t.addEmitterShapeGenerator?.("circle",new ZDe),await t.refresh(e)}const JDe=4;var G0;(function(r){r[r.TopLeft=0]="TopLeft",r[r.TopRight=1]="TopRight",r[r.BottomRight=2]="BottomRight",r[r.BottomLeft=3]="BottomLeft"})(G0||(G0={}));function RH(r,e){return r+e*($t()-ln)}class eIe extends Ene{constructor(e,t,n,i){super(e,t,n,i)}async init(){}randomPosition(){const e=this.fill,t=this.position,n=this.size;if(e)return{position:{x:RH(t.x,n.width),y:RH(t.y,n.height)}};{const i=n.width*ln,a=n.height*ln,s=Math.floor($t()*JDe),o=($t()-ln)*ua;switch(s){case G0.TopLeft:return{position:{x:t.x+o*i,y:t.y-a}};case G0.TopRight:return{position:{x:t.x-i,y:t.y+o*a}};case G0.BottomRight:return{position:{x:t.x+o*i,y:t.y+a}};case G0.BottomLeft:default:return{position:{x:t.x+i,y:t.y+o*a}}}}}}class tIe{generate(e,t,n,i){return new eIe(e,t,n,i)}}async function rIe(r,e=!0){const t=r;t.checkVersion("3.8.1"),t.addEmitterShapeGenerator?.("square",new tIe),await t.refresh(e)}class nIe{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){Ge(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=_i({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const MH="trail";class iIe extends Zl{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){const t=this.container,{interactivity:n}=t;if(!t.retina.reduceFactor)return;const i=t.actualOptions,a=i.interactivity.modes.trail;if(!a)return;const s=a.delay*Sn/this.container.retina.reduceFactor;if(this._delay<s&&(this._delay+=e.value),this._delay<s)return;const o=!(a.pauseOnStop&&(n.mouse.position===this._lastPosition||n.mouse.position?.x===this._lastPosition?.x&&n.mouse.position?.y===this._lastPosition?.y)),l=t.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,o&&t.particles.push(a.quantity,t.interactivity.mouse,a.particles),this._delay-=s}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events;return i.clicking&&i.inside&&!!i.position&&un(MH,a.onClick.mode)||i.inside&&!!i.position&&un(MH,a.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new nIe);for(const n of t)e.trail.load(n?.trail)}reset(){}}async function aIe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalTrail",t=>Promise.resolve(new iIe(t)),e)}var Zp;(function(r){r.both="both",r.horizontal="horizontal",r.vertical="vertical"})(Zp||(Zp={}));const sIe=2,Cne=Math.PI*sIe,oIe=360;function lIe(r,e){const t=e.options.roll;if(!t?.enable){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===Zp.horizontal||t.mode===Zp.both,vertical:t.mode===Zp.vertical||t.mode===Zp.both,angle:$t()*Cne,speed:Je(t.speed)/oIe},t.backColor)e.backColor=nd(r,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const n=$t()>=ln?gh.darken:gh.enlighten;e.roll.alter={type:n,value:Je(n===gh.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:gh.darken,value:Je(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:gh.enlighten,value:Je(t.enlighten.value)})}function uIe(r,e){const t=r.options.roll,n=r.roll;if(!n||!t?.enable)return;const i=n.speed*e.factor,a=Cne;n.angle+=i,n.angle>a&&(n.angle-=a)}class kH{constructor(){this.enable=!1,this.value=0}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=Et(e.value)))}}class cIe{constructor(){this.darken=new kH,this.enable=!1,this.enlighten=new kH,this.mode=Zp.vertical,this.speed=25}load(e){Ge(e)||(e.backColor!==void 0&&(this.backColor=ei.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=Et(e.speed)))}}class fIe{constructor(e){this._engine=e}getTransformValues(e){const t=e.roll?.enable&&e.roll,n=t&&t.horizontal,i=t&&t.vertical;return{a:n?Math.cos(t.angle):void 0,d:i?Math.sin(t.angle):void 0}}init(e){lIe(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.roll||(e.roll=new cIe);for(const n of t)e.roll.load(n?.roll)}update(e,t){this.isEnabled(e)&&uIe(e,t)}}async function hIe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("roll",()=>Promise.resolve(new fIe(r)),e)}const rN=.5,dIe=2,Ah=0,Ml=1,PH=60,LH=0,pIe=.01,vIe=Math.PI*dIe;function gIe(r){const e=r.initialPosition,{dx:t,dy:n}=Fa(e,r.position),i=Math.abs(t),a=Math.abs(n),{maxDistance:s}=r.retina,o=s.horizontal,l=s.vertical;if(!o&&!l)return;const u=(o&&i>=o)??!1,c=(l&&a>=l)??!1;if((u||c)&&!r.misplaced)r.misplaced=!!o&&i>o||!!l&&a>l,o&&(r.velocity.x=r.velocity.y*rN-r.velocity.x),l&&(r.velocity.y=r.velocity.x*rN-r.velocity.y);else if((!o||i<o)&&(!l||a<l)&&r.misplaced)r.misplaced=!1;else if(r.misplaced){const f=r.position,h=r.velocity;o&&(f.x<e.x&&h.x<Ah||f.x>e.x&&h.x>Ah)&&(h.x*=-$t()),l&&(f.y<e.y&&h.y<Ah||f.y>e.y&&h.y>Ah)&&(h.y*=-$t())}}function mIe(r,e,t,n,i,a){_Ie(r,a);const s=r.gravity,o=s?.enable&&s.inverse?-Ml:Ml;i&&t&&(r.velocity.x+=i*a.factor/(PH*t)),s?.enable&&t&&(r.velocity.y+=o*(s.acceleration*a.factor)/(PH*t));const l=r.moveDecay;r.velocity.multTo(l);const u=r.velocity.mult(t);s?.enable&&n>Ah&&(!s.inverse&&u.y>=Ah&&u.y>=n||s.inverse&&u.y<=Ah&&u.y<=-n)&&(u.y=o*n,t&&(r.velocity.y=u.y/t));const c=r.options.zIndex,f=(Ml-r.zIndexFactor)**c.velocityRate;u.multTo(f);const{position:h}=r;h.addTo(u),e.vibrate&&(h.x+=Math.sin(h.x*Math.cos(h.y)),h.y+=Math.cos(h.y*Math.sin(h.x)))}function yIe(r,e){const t=r.container;if(!r.spin)return;const n=r.spin.direction===us.clockwise,i={x:n?Math.cos:Math.sin,y:n?Math.sin:Math.cos};r.position.x=r.spin.center.x+r.spin.radius*i.x(r.spin.angle),r.position.y=r.spin.center.y+r.spin.radius*i.y(r.spin.angle),r.spin.radius+=r.spin.acceleration;const a=Math.max(t.canvas.size.width,t.canvas.size.height),s=a*rN;r.spin.radius>s?(r.spin.radius=s,r.spin.acceleration*=-Ml):r.spin.radius<LH&&(r.spin.radius=LH,r.spin.acceleration*=-Ml),r.spin.angle+=e*pIe*(Ml-r.spin.radius/a)}function _Ie(r,e){const t=r.options,n=t.move.path;if(!n.enable)return;if(r.lastPathTime<=r.pathDelay){r.lastPathTime+=e.value;return}const a=r.pathGenerator?.generate(r,e);a&&r.velocity.addTo(a),n.clamp&&(r.velocity.x=al(r.velocity.x,-Ml,Ml),r.velocity.y=al(r.velocity.y,-Ml,Ml)),r.lastPathTime-=r.pathDelay}function xIe(r){return r.slow.inRange?r.slow.factor:Ml}function wIe(r){const e=r.container,t=r.options,n=t.move.spin;if(!n.enable)return;const i=n.position??{x:50,y:50},a=.01,s={x:i.x*a*e.canvas.size.width,y:i.y*a*e.canvas.size.height},o=r.getPosition(),l=hs(o,s),u=Je(n.acceleration);r.retina.spinAcceleration=u*e.retina.pixelRatio,r.spin={center:s,direction:r.velocity.x>=Ah?us.clockwise:us.counterClockwise,angle:$t()*vIe,radius:l,acceleration:r.retina.spinAcceleration}}const bIe=2,SIe=1,TIe=1;class AIe{init(e){const t=e.options,n=t.move.gravity;e.gravity={enable:n.enable,acceleration:Je(n.acceleration),inverse:n.inverse},wIe(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const n=e.options,i=n.move;if(!i.enable)return;const a=e.container,s=a.retina.pixelRatio;e.retina.moveSpeed??=Je(i.speed)*s,e.retina.moveDrift??=Je(e.options.move.drift)*s;const o=xIe(e),l=e.retina.moveSpeed*a.retina.reduceFactor,u=e.retina.moveDrift,c=Lu(n.size.value)*s,f=i.size?e.getRadius()/c:SIe,h=t.factor||TIe,p=l*f*o*h/bIe,v=e.retina.maxSpeed??a.retina.maxSpeed;i.spin.enable?yIe(e,p):mIe(e,i,p,v,u,t),gIe(e)}}async function EIe(r,e=!0){r.checkVersion("3.8.1"),await r.addMover("base",()=>Promise.resolve(new AIe),e)}const CIe=2,DIe=Math.PI*CIe,IIe=0,OH={x:0,y:0};function RIe(r){const{context:e,particle:t,radius:n}=r;t.circleRange||(t.circleRange={min:IIe,max:DIe});const i=t.circleRange;e.arc(OH.x,OH.y,n,i.min,i.max,!1)}const MIe=12,kIe=360,NH=0;class PIe{constructor(){this.validTypes=["circle"]}draw(e){RIe(e)}getSidesCount(){return MIe}particleInit(e,t){const n=t.shapeData,i=n?.angle??{max:kIe,min:NH};t.circleRange=H0(i)?{min:rf(i.min),max:rf(i.max)}:{min:NH,max:rf(i)}}}async function LIe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new PIe,e)}class OIe{constructor(e,t){this._container=e,this._engine=t}init(e){const t=nd(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=gne(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:n,l:i}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&n.enable||a?.l.value!==void 0&&i.enable)}update(e,t){mne(e.color,t)}}async function NIe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("color",t=>Promise.resolve(new OIe(t,r)),e)}var zp;(function(r){r[r.r=1]="r",r[r.g=2]="g",r[r.b=3]="b",r[r.a=4]="a"})(zp||(zp={}));const FIe=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,BIe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,xT=16,VIe=1,zIe=255;class UIe{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const t=e.replace(FIe,(i,a,s,o,l)=>a+a+s+s+o+o+(l!==void 0?l+l:"")),n=BIe.exec(t);return n?{a:n[zp.a]!==void 0?parseInt(n[zp.a],xT)/zIe:VIe,b:parseInt(n[zp.b],xT),g:parseInt(n[zp.g],xT),r:parseInt(n[zp.r],xT)}:void 0}}async function HIe(r,e=!0){r.checkVersion("3.8.1"),await r.addColorManager(new UIe,e)}var j0;(function(r){r[r.h=1]="h",r[r.s=2]="s",r[r.l=3]="l",r[r.a=5]="a"})(j0||(j0={}));class GIe{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,n=t.hsl??e.value;if(n.h!==void 0&&n.s!==void 0&&n.l!==void 0)return Om(n)}handleRangeColor(e){const t=e.value,n=t.hsl??e.value;if(n.h!==void 0&&n.l!==void 0)return Om({h:Je(n.h),l:Je(n.l),s:Je(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,n=t.exec(e),i=4,a=1,s=10;return n?qEe({a:n.length>i?nne(n[j0.a]):a,h:parseInt(n[j0.h],s),l:parseInt(n[j0.l],s),s:parseInt(n[j0.s],s)}):void 0}}async function jIe(r,e=!0){r.checkVersion("3.8.1"),await r.addColorManager(new GIe,e)}class WIe{constructor(e){this.container=e}init(e){const t=e.options.opacity,n=1;e.opacity=une(t,n);const i=t.animation;i.enable&&(e.opacity.velocity=Je(i.speed)/la*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=$t()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||xD(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function $Ie(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("opacity",t=>Promise.resolve(new WIe(t)),e)}const wE=0,dm=0;function qIe(r){if(r.outMode!==vi.bounce&&r.outMode!==vi.split||r.direction!==hr.left&&r.direction!==hr.right)return;r.bounds.right<dm&&r.direction===hr.left?r.particle.position.x=r.size+r.offset.x:r.bounds.left>r.canvasSize.width&&r.direction===hr.right&&(r.particle.position.x=r.canvasSize.width-r.size-r.offset.x);const e=r.particle.velocity.x;let t=!1;if(r.direction===hr.right&&r.bounds.right>=r.canvasSize.width&&e>wE||r.direction===hr.left&&r.bounds.left<=dm&&e<wE){const i=Je(r.particle.options.bounce.horizontal.value);r.particle.velocity.x*=-i,t=!0}if(!t)return;const n=r.offset.x+r.size;r.bounds.right>=r.canvasSize.width&&r.direction===hr.right?r.particle.position.x=r.canvasSize.width-n:r.bounds.left<=dm&&r.direction===hr.left&&(r.particle.position.x=n),r.outMode===vi.split&&r.particle.destroy()}function YIe(r){if(r.outMode!==vi.bounce&&r.outMode!==vi.split||r.direction!==hr.bottom&&r.direction!==hr.top)return;r.bounds.bottom<dm&&r.direction===hr.top?r.particle.position.y=r.size+r.offset.y:r.bounds.top>r.canvasSize.height&&r.direction===hr.bottom&&(r.particle.position.y=r.canvasSize.height-r.size-r.offset.y);const e=r.particle.velocity.y;let t=!1;if(r.direction===hr.bottom&&r.bounds.bottom>=r.canvasSize.height&&e>wE||r.direction===hr.top&&r.bounds.top<=dm&&e<wE){const i=Je(r.particle.options.bounce.vertical.value);r.particle.velocity.y*=-i,t=!0}if(!t)return;const n=r.offset.y+r.size;r.bounds.bottom>=r.canvasSize.height&&r.direction===hr.bottom?r.particle.position.y=r.canvasSize.height-n:r.bounds.top<=dm&&r.direction===hr.top&&(r.particle.position.y=n),r.outMode===vi.split&&r.particle.destroy()}class XIe{constructor(e){this.container=e,this.modes=[vi.bounce,vi.split]}update(e,t,n,i){if(!this.modes.includes(i))return;const a=this.container;let s=!1;for(const h of a.plugins.values())if(h.particleBounce!==void 0&&(s=h.particleBounce(e,n,t)),s)break;if(s)return;const o=e.getPosition(),l=e.offset,u=e.getRadius(),c=db(o,u),f=a.canvas.size;qIe({particle:e,outMode:i,direction:t,bounds:c,canvasSize:f,offset:l,size:u}),YIe({particle:e,outMode:i,direction:t,bounds:c,canvasSize:f,offset:l,size:u})}}const wT=0;class KIe{constructor(e){this.container=e,this.modes=[vi.destroy]}update(e,t,n,i){if(!this.modes.includes(i))return;const a=this.container;switch(e.outType){case Nl.normal:case Nl.outside:if(hb(e.position,a.canvas.size,sn.origin,e.getRadius(),t))return;break;case Nl.inside:{const{dx:s,dy:o}=Fa(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<wT&&s>e.moveCenter.radius||u<wT&&o>e.moveCenter.radius||l>=wT&&s<-e.moveCenter.radius||u>=wT&&o<-e.moveCenter.radius)return;break}}a.particles.remove(e,e.group,!0)}}const bT=0;class ZIe{constructor(e){this.container=e,this.modes=[vi.none]}update(e,t,n,i){if(!this.modes.includes(i)||((e.options.move.distance.horizontal&&(t===hr.left||t===hr.right))??(e.options.move.distance.vertical&&(t===hr.top||t===hr.bottom))))return;const a=e.options.move.gravity,s=this.container,o=s.canvas.size,l=e.getRadius();if(a.enable){const u=e.position;(!a.inverse&&u.y>o.height+l&&t===hr.bottom||a.inverse&&u.y<-l&&t===hr.top)&&s.particles.remove(e)}else{if(e.velocity.y>bT&&e.position.y<=o.height+l||e.velocity.y<bT&&e.position.y>=-l||e.velocity.x>bT&&e.position.x<=o.width+l||e.velocity.x<bT&&e.position.x>=-l)return;hb(e.position,s.canvas.size,sn.origin,l,t)||s.particles.remove(e)}}}const ST=0,TT=0;class QIe{constructor(e){this.container=e,this.modes=[vi.out]}update(e,t,n,i){if(!this.modes.includes(i))return;const a=this.container;switch(e.outType){case Nl.inside:{const{x:s,y:o}=e.velocity,l=sn.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(sn.create(e.moveCenter));const{dx:u,dy:c}=Fa(e.position,l);if(s<=ST&&u>=TT||o<=ST&&c>=TT||s>=ST&&u<=TT||o>=ST&&c<=TT)return;e.position.x=Math.floor(ca({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(ca({min:0,max:a.canvas.size.height}));const{dx:f,dy:h}=Fa(e.position,e.moveCenter);e.direction=Math.atan2(-h,-f),e.velocity.angle=e.direction;break}default:{if(hb(e.position,a.canvas.size,sn.origin,e.getRadius(),t))return;switch(e.outType){case Nl.outside:{e.position.x=Math.floor(ca({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(ca({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:s,dy:o}=Fa(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(o,s),e.velocity.angle=e.direction);break}case Nl.normal:{const s=e.options.move.warp,o=a.canvas.size,l={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),c=db(e.position,u);t===hr.right&&c.left>o.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,s||(e.position.y=$t()*o.height,e.initialPosition.y=e.position.y)):t===hr.left&&c.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,s||(e.position.y=$t()*o.height,e.initialPosition.y=e.position.y)),t===hr.bottom&&c.top>o.height+e.offset.y?(s||(e.position.x=$t()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===hr.top&&c.bottom<-e.offset.y&&(s||(e.position.x=$t()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const JIe=(r,e)=>r.default===e||r.bottom===e||r.left===e||r.right===e||r.top===e;class eRe{constructor(e){this._addUpdaterIfMissing=(t,n,i)=>{const a=t.options.move.outModes;!this.updaters.has(n)&&JIe(a,n)&&this.updaters.set(n,i(this.container))},this._updateOutMode=(t,n,i,a)=>{for(const s of this.updaters.values())s.update(t,a,n,i)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,vi.bounce,t=>new XIe(t)),this._addUpdaterIfMissing(e,vi.out,t=>new QIe(t)),this._addUpdaterIfMissing(e,vi.destroy,t=>new KIe(t)),this._addUpdaterIfMissing(e,vi.none,t=>new ZIe(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const n=e.options.move.outModes;this._updateOutMode(e,t,n.bottom??n.default,hr.bottom),this._updateOutMode(e,t,n.left??n.default,hr.left),this._updateOutMode(e,t,n.right??n.default,hr.right),this._updateOutMode(e,t,n.top??n.default,hr.top)}}async function tRe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("outModes",t=>Promise.resolve(new eRe(t)),e)}var W0;(function(r){r[r.r=1]="r",r[r.g=2]="g",r[r.b=3]="b",r[r.a=5]="a"})(W0||(W0={}));class rRe{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,n=t.rgb??e.value;if(n.r!==void 0)return n}handleRangeColor(e){const t=e.value,n=t.rgb??e.value;if(n.r!==void 0)return{r:Je(n.r),g:Je(n.g),b:Je(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,n=t.exec(e),i=10;return n?{a:n.length>4?nne(n[W0.a]):1,b:parseInt(n[W0.b],i),g:parseInt(n[W0.g],i),r:parseInt(n[W0.r],i)}:void 0}}async function nRe(r,e=!0){r.checkVersion("3.8.1"),await r.addColorManager(new rRe,e)}const rp=0;class iRe{init(e){const t=e.container,n=e.options.size,i=n.animation;i.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/la*t.retina.reduceFactor,i.sync||(e.size.velocity*=$t()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??rp)<=rp||(e.size.maxLoops??rp)>rp&&(e.size.loops??rp)<(e.size.maxLoops??rp))}reset(e){e.size.loops=rp}update(e,t){this.isEnabled(e)&&xD(e,e.size,!0,e.options.size.animation.destroy,t)}}async function aRe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("size",()=>Promise.resolve(new iRe),e)}async function sRe(r,e=!0){r.checkVersion("3.8.1"),await HIe(r,!1),await jIe(r,!1),await nRe(r,!1),await EIe(r,!1),await LIe(r,!1),await NIe(r,!1),await $Ie(r,!1),await tRe(r,!1),await aRe(r,!1),await r.refresh(e)}async function oRe(r,e=!0){r.checkVersion("3.8.1"),await r.addEasing(hv.easeInQuad,t=>t**2,!1),await r.addEasing(hv.easeOutQuad,t=>1-(1-t)**2,!1),await r.addEasing(hv.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await r.refresh(e)}function lRe(r,e){const{context:t,opacity:n}=r,i=.5,a=t.globalAlpha;if(!e)return;const s=e.width,o=s*i;t.globalAlpha=n,t.drawImage(e,-o,-o,s,s),t.globalAlpha=a}const JM='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',FH=0;class uRe{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const n=this._emojiShapeDict.get(t);n&&lRe(e,n)}async init(e){const t=e.actualOptions,{validTypes:n}=this;if(!n.find(s=>un(s,t.particles.shape.type)))return;const i=[QO(JM)],a=n.map(s=>t.particles.shape.options[s]).find(s=>!!s);a&&xi(a,s=>{s.font&&i.push(QO(s.font))}),await Promise.all(i)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const i=t.shapeData;if(!i?.value)return;const a=fa(i.value,t.randomIndexData);if(!a)return;const s=typeof a=="string"?{font:i.font??JM,padding:i.padding??FH,value:a}:{font:JM,padding:FH,...i,...a},o=s.font,l=s.value,u=`${l}_${o}`;if(this._emojiShapeDict.has(u)){t.emojiDataKey=u;return}const c=s.padding*2,f=Lu(t.size.value),h=f+c,p=h*2;let v;if(typeof OffscreenCanvas<"u"){const m=new OffscreenCanvas(p,p),y=m.getContext("2d");if(!y)return;y.font=`400 ${f*2}px ${o}`,y.textBaseline="middle",y.textAlign="center",y.fillText(l,h,h),v=m.transferToImageBitmap()}else{const m=document.createElement("canvas");m.width=p,m.height=p;const y=m.getContext("2d");if(!y)return;y.font=`400 ${f*2}px ${o}`,y.textBaseline="middle",y.textAlign="center",y.fillText(l,h,h),v=m}this._emojiShapeDict.set(u,v),t.emojiDataKey=u}}async function cRe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new uRe,e)}const fRe=1,hRe=1,Dne=0;function Ine(r,e,t,n,i,a){const s=e.actualOptions.interactivity.modes.attract;if(!s)return;const o=e.particles.quadTree.query(i,a);for(const l of o){const{dx:u,dy:c,distance:f}=Fa(l.position,t),h=s.speed*s.factor,p=al(r.getEasing(s.easing)(hRe-f/n)*h,fRe,s.maxSpeed),v=sn.create(f?u/f*p:h,f?c/f*p:h);l.position.subFrom(v)}}function dRe(r,e,t){e.attract||(e.attract={particles:[]});const{attract:n}=e;if(n.finish||(n.count||(n.count=0),n.count++,n.count===e.particles.count&&(n.finish=!0)),n.clicking){const i=e.interactivity.mouse.clickPosition,a=e.retina.attractModeDistance;if(!a||a<Dne||!i)return;Ine(r,e,i,a,new zs(i.x,i.y,a),s=>t(s))}else n.clicking===!1&&(n.particles=[])}function pRe(r,e,t){const n=e.interactivity.mouse.position,i=e.retina.attractModeDistance;!i||i<Dne||!n||Ine(r,e,n,i,new zs(n.x,n.y,i),a=>t(a))}class vRe{constructor(){this.distance=200,this.duration=.4,this.easing=hv.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){Ge(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const W1="attract";let gRe=class extends Zl{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=n=>{const i=this.container.actualOptions,a=i.interactivity.modes.attract;if(!(!a||n!==W1)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const s of t.attract.particles)this.isEnabled(s)&&s.velocity.setTo(s.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*Sn)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===kv,i=t.interactivity.events,{enable:a,mode:s}=i.onHover,{enable:o,mode:l}=i.onClick;n&&a&&un(W1,s)?pRe(this._engine,this.container,u=>this.isEnabled(u)):o&&un(W1,l)&&dRe(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events;if((!i.position||!a.onHover.enable)&&(!i.clickPosition||!a.onClick.enable))return!1;const s=a.onHover.mode,o=a.onClick.mode;return un(W1,s)||un(W1,o)}loadModeOptions(e,...t){e.attract||(e.attract=new vRe);for(const n of t)e.attract.load(n?.attract)}reset(){}};async function mRe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalAttract",t=>Promise.resolve(new gRe(r,t)),e)}const yRe=2,sA=.5,_Re=Math.PI*sA,BH=2,Rne=10,xRe=0;function Mne(r,e,t,n,i){const a=r.particles.quadTree.query(n,i);for(const s of a)n instanceof zs?one(JO(s),{position:e,mass:t**yRe*_Re,velocity:sn.origin,factor:sn.origin}):n instanceof Wl&&zEe(s,db(e,t))}function wRe(r,e,t,n){const i=document.querySelectorAll(e);i.length&&i.forEach(a=>{const s=a,o=r.retina.pixelRatio,l={x:(s.offsetLeft+s.offsetWidth*sA)*o,y:(s.offsetTop+s.offsetHeight*sA)*o},u=s.offsetWidth*sA*o,c=Rne*o,f=t.type===Fm.circle?new zs(l.x,l.y,u+c):new Wl(s.offsetLeft*o-c,s.offsetTop*o-c,s.offsetWidth*o+c*BH,s.offsetHeight*o+c*BH);n(l,u,f)})}function bRe(r,e,t,n){$F(t,e,(i,a)=>wRe(r,i,a,(s,o,l)=>Mne(r,s,o,l,n)))}function SRe(r,e){const t=r.retina.pixelRatio,n=Rne*t,i=r.interactivity.mouse.position,a=r.retina.bounceModeDistance;!a||a<xRe||!i||Mne(r,i,a,new zs(i.x,i.y,a+n),e)}class TRe{constructor(){this.distance=200}load(e){Ge(e)||e.distance!==void 0&&(this.distance=e.distance)}}const AT="bounce";class ARe extends Zl{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=t.interactivity.events,i=e.interactivity.status===kv,a=n.onHover.enable,s=n.onHover.mode,o=n.onDiv;i&&a&&un(AT,s)?SRe(this.container,l=>this.isEnabled(l)):bRe(this.container,o,AT,l=>this.isEnabled(l))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events,s=a.onDiv;return!!i.position&&a.onHover.enable&&un(AT,a.onHover.mode)||WF(AT,s)}loadModeOptions(e,...t){e.bounce||(e.bounce=new TRe);for(const n of t)e.bounce.load(n?.bounce)}reset(){}}async function ERe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalBounce",t=>Promise.resolve(new ARe(t)),e)}class kne{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!Ge(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=Na(this.color)?void 0:this.color;this.color=xi(e.color,n=>ei.create(t,n))}e.size!==void 0&&(this.size=e.size)}}}class CRe extends kne{constructor(){super(),this.selectors=[]}load(e){super.load(e),!Ge(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class DRe extends kne{load(e){super.load(e),!Ge(e)&&(this.divs=xi(e.divs,t=>{const n=new CRe;return n.load(t),n}))}}var Eu;(function(r){r.color="color",r.opacity="opacity",r.size="size"})(Eu||(Eu={}));function VH(r,e,t,n){if(e>=t){const i=r+(e-t)*n;return al(i,r,e)}else if(e<t){const i=r-(t-e)*n;return al(i,e,r)}}const np="bubble",ek=0,IRe=0,RRe=2,zH=1,UH=1,MRe=0,kRe=0,tk=.5,rk=1;class PRe extends Zl{constructor(e,t){super(e),this._clickBubble=()=>{const n=this.container,i=n.actualOptions,a=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!a)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<ek)return;const l=n.particles.quadTree.queryCircle(a,o,c=>this.isEnabled(c)),{bubble:u}=n;for(const c of l){if(!u.clicking)continue;c.bubble.inRange=!u.durationEnd;const f=c.getPosition(),h=hs(f,a),p=(new Date().getTime()-(n.interactivity.mouse.clickTime??IRe))/Sn;p>s.duration&&(u.durationEnd=!0),p>s.duration*RRe&&(u.clicking=!1,u.durationEnd=!1);const v={bubbleObj:{optValue:n.retina.bubbleModeSize,value:c.bubble.radius},particlesObj:{optValue:Lu(c.options.size.value)*n.retina.pixelRatio,value:c.size.value},type:Eu.size};this._process(c,h,p,v);const m={bubbleObj:{optValue:s.opacity,value:c.bubble.opacity},particlesObj:{optValue:Lu(c.options.opacity.value),value:c.opacity?.value??zH},type:Eu.opacity};this._process(c,h,p,m),!u.durationEnd&&h<=o?this._hoverBubbleColor(c,h):delete c.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,a=n.retina.bubbleModeDistance;if(!a||a<ek||!i)return;const s=n.particles.quadTree.queryCircle(i,a,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const l=o.getPosition(),u=hs(l,i),c=UH-u/a;u<=a?c>=kRe&&n.interactivity.status===kv&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===$O&&this.reset(o)}},this._hoverBubbleColor=(n,i,a)=>{const s=this.container.actualOptions,o=a??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const l=o.color;if(!l)return;const u=fa(l);n.bubble.finalColor=nd(this._engine,u)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const l=n.getFillColor();n.bubble.color=l?dne(qF(l,n.bubble.finalColor,UH-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,a)=>{const s=this.container,o=s.actualOptions,l=a?.opacity??o.interactivity.modes.bubble?.opacity;if(!l)return;const u=n.options.opacity.value,c=n.opacity?.value??zH,f=VH(c,l,Lu(u),i);f!==void 0&&(n.bubble.opacity=f)},this._hoverBubbleSize=(n,i,a)=>{const s=this.container,o=a?.size?a.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const l=Lu(n.options.size.value)*s.retina.pixelRatio,u=n.size.value,c=VH(u,o,l,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,a,s)=>{const o=this.container,l=s.bubbleObj.optValue,u=o.actualOptions,c=u.interactivity.modes.bubble;if(!c||l===void 0)return;const f=c.duration,h=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,v=s.bubbleObj.value,m=s.particlesObj.value??MRe,y=s.type;if(!(!h||h<ek||l===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)v&&(y===Eu.size&&delete n.bubble.radius,y===Eu.opacity&&delete n.bubble.opacity);else if(i<=h){if((v??m)!==l){const w=m-a*(m-l)/f;y===Eu.size&&(n.bubble.radius=w),y===Eu.opacity&&(n.bubble.opacity=w)}}else y===Eu.size&&delete n.bubble.radius,y===Eu.opacity&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,a)=>{const s=this.container,o=document.querySelectorAll(i),l=s.actualOptions.interactivity.modes.bubble;!l||!o.length||o.forEach(u=>{const c=u,f=s.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*tk)*f,y:(c.offsetTop+c.offsetHeight*tk)*f},p=c.offsetWidth*tk*f,v=a.type===Fm.circle?new zs(h.x,h.y,p):new Wl(c.offsetLeft*f,c.offsetTop*f,c.offsetWidth*f,c.offsetHeight*f),m=s.particles.quadTree.query(v,y=>this.isEnabled(y));for(const y of m){if(!v.contains(y.getPosition()))continue;y.bubble.inRange=!0;const x=l.divs,w=sne(x,c);(!y.bubble.div||y.bubble.div!==c)&&(this.clear(y,n,!0),y.bubble.div=c),this._hoverBubbleSize(y,rk,w),this._hoverBubbleOpacity(y,rk,w),this._hoverBubbleColor(y,rk,w)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=n=>{n===np&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,n){e.bubble.inRange&&!n||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,n=t.interactivity.events,i=n.onHover,a=n.onClick,s=i.enable,o=i.mode,l=a.enable,u=a.mode,c=n.onDiv;s&&un(np,o)?this._hoverBubble():l&&un(np,u)?this._clickBubble():$F(np,c,(f,h)=>this._singleSelectorHover(e,f,h))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events,{onClick:s,onDiv:o,onHover:l}=a,u=WF(np,o);return u||l.enable&&i.position||s.enable&&i.clickPosition?un(np,l.mode)||un(np,s.mode)||u:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new DRe);for(const n of t)e.bubble.load(n?.bubble)}reset(e){e.bubble.inRange=!1}}async function LRe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalBubble",t=>Promise.resolve(new PRe(t,r)),e)}class ORe{constructor(){this.opacity=.5}load(e){Ge(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class NRe{constructor(){this.distance=80,this.links=new ORe,this.radius=60}load(e){Ge(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const HH=0,GH=1,FRe=0;function BRe(r,e,t,n){const i=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),s=t.getFillColor();if(!a||!s)return;const o=e.getPosition(),l=t.getPosition(),u=qF(a,s,e.getRadius(),t.getRadius()),c=r.createLinearGradient(o.x,o.y,l.x,l.y);return c.addColorStop(HH,Nm(a,n)),c.addColorStop(al(i,HH,GH),Wu(u,n)),c.addColorStop(GH,Nm(s,n)),c}function VRe(r,e,t,n,i){ox(r,n,i),r.lineWidth=e,r.strokeStyle=t,r.stroke()}function zRe(r,e,t,n){const i=r.actualOptions,a=i.interactivity.modes.connect;if(a)return BRe(e,t,n,a.links.opacity)}function URe(r,e,t){r.canvas.draw(n=>{const i=zRe(r,n,e,t);if(!i)return;const a=e.getPosition(),s=t.getPosition();VRe(n,e.retina.linksWidth??FRe,i,a,s)})}const HRe="connect",jH=0;class GRe extends Zl{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const n=e.interactivity.mouse.position,{connectModeDistance:i,connectModeRadius:a}=e.retina;if(!i||i<jH||!a||a<jH||!n)return;const s=Math.abs(a),o=e.particles.quadTree.queryCircle(n,s,l=>this.isEnabled(l));o.forEach((l,u)=>{const c=l.getPosition(),f=1;for(const h of o.slice(u+f)){const p=h.getPosition(),v=Math.abs(i),m=Math.abs(c.x-p.x),y=Math.abs(c.y-p.y);m<v&&y<v&&URe(e,l,h)}})}}isEnabled(e){const t=this.container,n=t.interactivity.mouse,i=(e?.interactivity??t.actualOptions.interactivity).events;return i.onHover.enable&&n.position?un(HRe,i.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new NRe);for(const n of t)e.connect.load(n?.connect)}reset(){}}async function jRe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalConnect",t=>Promise.resolve(new GRe(t)),e)}class WRe{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){Ge(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class $Re{constructor(){this.distance=100,this.links=new WRe}load(e){Ge(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const qRe=0;function YRe(r,e,t,n,i,a){ox(r,t,n),r.strokeStyle=Wu(i,a),r.lineWidth=e,r.stroke()}function XRe(r,e,t,n,i){r.canvas.draw(a=>{const s=e.getPosition();YRe(a,e.retina.linksWidth??qRe,s,i,t,n)})}const KRe="grab",ZRe=0,QRe=0;class JRe extends Zl{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=t.interactivity;if(!n.modes.grab||!n.events.onHover.enable||e.interactivity.status!==kv)return;const i=e.interactivity.mouse.position;if(!i)return;const a=e.retina.grabModeDistance;if(!a||a<ZRe)return;const s=e.particles.quadTree.queryCircle(i,a,o=>this.isEnabled(o));for(const o of s){const l=o.getPosition(),u=hs(l,i);if(u>a)continue;const c=n.modes.grab.links,f=c.opacity,h=f-u*f/a;if(h<=QRe)continue;const p=c.color??o.options.links?.color;if(!e.particles.grabLineColor&&p){const m=n.modes.grab.links;e.particles.grabLineColor=vne(this._engine,p,m.blink,m.consent)}const v=eN(o,void 0,e.particles.grabLineColor);v&&XRe(e,o,v,h,i)}}isEnabled(e){const t=this.container,n=t.interactivity.mouse,i=(e?.interactivity??t.actualOptions.interactivity).events;return i.onHover.enable&&!!n.position&&un(KRe,i.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new $Re);for(const n of t)e.grab.load(n?.grab)}reset(){}}async function eMe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalGrab",t=>Promise.resolve(new JRe(t,r)),e)}const tMe="pause";class rMe extends Zl{constructor(e){super(e),this.handleClickMode=t=>{if(t!==tMe)return;const n=this.container;n.animationStatus?n.pause():n.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function nMe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalPause",t=>Promise.resolve(new rMe(t)),e)}class iMe{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(Ge(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(n=>n)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=Et(t))}}const aMe="push",sMe=0;class oMe extends Zl{constructor(e){super(e),this.handleClickMode=t=>{if(t!==aMe)return;const n=this.container,i=n.actualOptions,a=i.interactivity.modes.push;if(!a)return;const s=Je(a.quantity);if(s<=sMe)return;const o=fb([void 0,...a.groups]),l=o!==void 0?n.actualOptions.particles.groups[o]:void 0;n.particles.push(s,n.interactivity.mouse,l,o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new iMe);for(const n of t)e.push.load(n?.push)}reset(){}}async function lMe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalPush",t=>Promise.resolve(new oMe(t)),e)}class uMe{constructor(){this.quantity=2}load(e){if(Ge(e))return;const t=e.quantity;t!==void 0&&(this.quantity=Et(t))}}const cMe="remove";class fMe extends Zl{constructor(e){super(e),this.handleClickMode=t=>{const n=this.container,i=n.actualOptions;if(!i.interactivity.modes.remove||t!==cMe)return;const a=Je(i.interactivity.modes.remove.quantity);n.particles.removeQuantity(a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new uMe);for(const n of t)e.remove.load(n?.remove)}reset(){}}async function hMe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalRemove",t=>Promise.resolve(new fMe(t)),e)}class Pne{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=hv.easeOutQuad}load(e){Ge(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class dMe extends Pne{constructor(){super(),this.selectors=[]}load(e){super.load(e),!Ge(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class pMe extends Pne{load(e){super.load(e),!Ge(e)&&(this.divs=xi(e.divs,t=>{const n=new dMe;return n.load(t),n}))}}const ip="repulse",vMe=0,gMe=6,mMe=3,yMe=2,_Me=0,xMe=0,wMe=1,nk=.5;class bMe extends Zl{constructor(e,t){super(t),this._clickRepulse=()=>{const n=this.container,i=n.actualOptions.interactivity.modes.repulse;if(!i)return;const a=n.repulse??{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===n.particles.count&&(a.finish=!0)),a.clicking){const s=n.retina.repulseModeDistance;if(!s||s<vMe)return;const o=Math.pow(s/gMe,mMe),l=n.interactivity.mouse.clickPosition;if(l===void 0)return;const u=new zs(l.x,l.y,o),c=n.particles.quadTree.query(u,f=>this.isEnabled(f));for(const f of c){const{dx:h,dy:p,distance:v}=Fa(l,f.position),m=v**yMe,y=i.speed,x=-o*y/m;if(m<=o){a.particles.push(f);const w=sn.create(h,p);w.length=x,f.velocity.setTo(w)}}}else if(a.clicking===!1){for(const s of a.particles)s.velocity.setTo(s.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const n=this.container,i=n.interactivity.mouse.position,a=n.retina.repulseModeDistance;!a||a<_Me||!i||this._processRepulse(i,a,new zs(i.x,i.y,a))},this._processRepulse=(n,i,a,s)=>{const o=this.container,l=o.particles.quadTree.query(a,y=>this.isEnabled(y)),u=o.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:c,speed:f,factor:h,maxSpeed:p}=u,v=this._engine.getEasing(c),m=(s?.speed??f)*h;for(const y of l){const{dx:x,dy:w,distance:b}=Fa(y.position,n),T=al(v(wMe-b/i)*m,xMe,p),C=sn.create(b?x/b*T:m,b?w/b*T:m);y.position.addTo(C)}},this._singleSelectorRepulse=(n,i)=>{const a=this.container,s=a.actualOptions.interactivity.modes.repulse;if(!s)return;const o=document.querySelectorAll(n);o.length&&o.forEach(l=>{const u=l,c=a.retina.pixelRatio,f={x:(u.offsetLeft+u.offsetWidth*nk)*c,y:(u.offsetTop+u.offsetHeight*nk)*c},h=u.offsetWidth*nk*c,p=i.type===Fm.circle?new zs(f.x,f.y,h):new Wl(u.offsetLeft*c,u.offsetTop*c,u.offsetWidth*c,u.offsetHeight*c),v=s.divs,m=sne(v,u);this._processRepulse(f,h,p,m)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=n=>{const i=this.container.actualOptions,a=i.interactivity.modes.repulse;if(!a||n!==ip)return;t.repulse||(t.repulse={particles:[]});const s=t.repulse;s.clicking=!0,s.count=0;for(const o of t.repulse.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);s.particles=[],s.finish=!1,setTimeout(()=>{t.destroyed||(s.clicking=!1)},a.duration*Sn)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===kv,i=t.interactivity.events,a=i.onHover,s=a.enable,o=a.mode,l=i.onClick,u=l.enable,c=l.mode,f=i.onDiv;n&&s&&un(ip,o)?this._hoverRepulse():u&&un(ip,c)?this._clickRepulse():$F(ip,f,(h,p)=>this._singleSelectorRepulse(h,p))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events,s=a.onDiv,o=a.onHover,l=a.onClick,u=WF(ip,s);if(!(u||o.enable&&i.position||l.enable&&i.clickPosition))return!1;const c=o.mode,f=l.mode;return un(ip,c)||un(ip,f)||u}loadModeOptions(e,...t){e.repulse||(e.repulse=new pMe);for(const n of t)e.repulse.load(n?.repulse)}reset(){}}async function SMe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalRepulse",t=>Promise.resolve(new bMe(r,t)),e)}class TMe{constructor(){this.factor=3,this.radius=200}load(e){Ge(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const AMe="slow",EMe=0;class CMe extends Zl{constructor(e){super(e)}clear(e,t,n){e.slow.inRange&&!n||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,n=t.interactivity.mouse,i=(e?.interactivity??t.actualOptions.interactivity).events;return i.onHover.enable&&!!n.position&&un(AMe,i.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new TMe);for(const n of t)e.slow.load(n?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,n=t.actualOptions,i=t.interactivity.mouse.position,a=t.retina.slowModeRadius,s=n.interactivity.modes.slow;if(!s||!a||a<EMe||!i)return;const o=e.getPosition(),l=hs(i,o),u=l/a,c=s.factor,{slow:f}=e;l>a||(f.inRange=!0,f.factor=u/c)}}async function DMe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalSlow",t=>Promise.resolve(new CMe(t)),e)}const IMe=0,RMe=1,MMe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function kMe(r,e,t){const{svgData:n}=r;if(!n)return"";const i=Nm(e,t);if(n.includes("fill"))return n.replace(MMe,()=>i);const a=n.indexOf(">");return`${n.substring(IMe,a)} fill="${i}"${n.substring(a)}`}async function wD(r){return new Promise(e=>{r.loading=!0;const t=new Image;r.element=t,t.addEventListener("load",()=>{r.loading=!1,e()}),t.addEventListener("error",()=>{r.element=void 0,r.error=!0,r.loading=!1,Pv().error(`${il} loading image: ${r.source}`),e()}),t.src=r.source})}async function PMe(r){if(r.type!=="svg"){await wD(r);return}r.loading=!0;const e=await fetch(r.source);e.ok?r.svgData=await e.text():(Pv().error(`${il} Image not found`),r.error=!0),r.loading=!1}function LMe(r,e,t,n){const i=kMe(r,t,n.opacity?.value??RMe),a={color:t,gif:e.gif,data:{...r,svgData:i},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(s=>{const o=new Blob([i],{type:"image/svg+xml"}),l=URL||window.URL||window.webkitURL||window,u=l.createObjectURL(o),c=new Image;c.addEventListener("load",()=>{a.loaded=!0,a.element=c,s(a),l.revokeObjectURL(u)});const f=async()=>{l.revokeObjectURL(u);const h={...r,error:!1,loading:!0};await wD(h),a.loaded=!0,a.element=h.element,s(a)};c.addEventListener("error",()=>void f()),c.src=u})}const ik=[0,4,2,1],WH=[8,8,4,2];class OMe{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((n,i)=>n+String.fromCharCode(i),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const n=0,i=0;do{t=this.data[this.pos++];for(let a=t;--a>=n;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==i);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const n=0,i=1;for(let s=0;e!==n;s+=e+i,e=this.data[this.pos+s])t+=e;const a=new Uint8Array(t);e=this.data[this.pos++];for(let s=0;e!==n;e=this.data[this.pos++])for(let o=e;--o>=n;a[s++]=this.data[this.pos++]);return a}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var Cl;(function(r){r[r.Replace=0]="Replace",r[r.Combine=1]="Combine",r[r.RestoreBackground=2]="RestoreBackground",r[r.RestorePrevious=3]="RestorePrevious",r[r.UndefinedA=4]="UndefinedA",r[r.UndefinedB=5]="UndefinedB",r[r.UndefinedC=6]="UndefinedC",r[r.UndefinedD=7]="UndefinedD"})(Cl||(Cl={}));var Wc;(function(r){r[r.Extension=33]="Extension",r[r.ApplicationExtension=255]="ApplicationExtension",r[r.GraphicsControlExtension=249]="GraphicsControlExtension",r[r.PlainTextExtension=1]="PlainTextExtension",r[r.CommentExtension=254]="CommentExtension",r[r.Image=44]="Image",r[r.EndOfFile=59]="EndOfFile"})(Wc||(Wc={}));const Cs={x:0,y:0},NMe=0,$H=.5,FMe=0,qH=0,nN=0;function Lne(r,e){const t=[];for(let n=0;n<e;n++)t.push({r:r.data[r.pos],g:r.data[r.pos+1],b:r.data[r.pos+2]}),r.pos+=3;return t}function BMe(r,e,t,n){switch(r.nextByte()){case Wc.GraphicsControlExtension:{const i=e.frames[t(!1)];r.pos++;const a=r.nextByte();i.GCreserved=(a&224)>>>5,i.disposalMethod=(a&28)>>>2,i.userInputDelayFlag=(a&2)===2;const s=(a&1)===1;i.delayTime=r.nextTwoBytes()*10;const o=r.nextByte();s&&n(o),r.pos++;break}case Wc.ApplicationExtension:{r.pos++;const i={identifier:r.getString(8),authenticationCode:r.getString(3),data:r.readSubBlocksBin()};e.applicationExtensions.push(i);break}case Wc.CommentExtension:{e.comments.push([t(!1),r.readSubBlocks()]);break}case Wc.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");r.pos++,e.frames[t(!1)].plainTextData={left:r.nextTwoBytes(),top:r.nextTwoBytes(),width:r.nextTwoBytes(),height:r.nextTwoBytes(),charSize:{width:r.nextTwoBytes(),height:r.nextTwoBytes()},foregroundColor:r.nextByte(),backgroundColor:r.nextByte(),text:r.readSubBlocks()};break}default:r.skipSubBlocks();break}}async function VMe(r,e,t,n,i,a){const s=e.frames[n(!0)];s.left=r.nextTwoBytes(),s.top=r.nextTwoBytes(),s.width=r.nextTwoBytes(),s.height=r.nextTwoBytes();const o=r.nextByte(),l=(o&128)===128,u=(o&64)===64;s.sortFlag=(o&32)===32,s.reserved=(o&24)>>>3;const c=1<<(o&7)+1;l&&(s.localColorTable=Lne(r,c));const f=x=>{const{r:w,g:b,b:T}=(l?s.localColorTable:e.globalColorTable)[x];return x!==i(null)?{r:w,g:b,b:T,a:255}:{r:w,g:b,b:T,a:t?~~((w+b+T)/3):0}},h=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(h==null)throw new EvalError("GIF frame size is to large");const p=r.nextByte(),v=r.readSubBlocksBin(),m=1<<p,y=(x,w)=>{const b=x>>>3,T=x&7;return(v[b]+(v[b+1]<<8)+(v[b+2]<<16)&(1<<w)-1<<T)>>>T};if(u){for(let x=0,w=p+1,b=0,T=[[0]],C=0;C<4;C++)if(ik[C]<s.height){let D=0,E=0,R=!1;for(;!R;){const M=x;if(x=y(b,w),b+=w+1,x===m){w=p+1,T.length=m+2;for(let k=0;k<T.length;k++)T[k]=k<m?[k]:[]}else{x>=T.length?T.push(T[M].concat(T[M][0])):M!==m&&T.push(T[M].concat(T[x][0]));for(const k of T[x]){const{r:L,g:O,b:N,a:W}=f(k);h.data.set([L,O,N,W],ik[C]*s.width+WH[C]*E+D%(s.width*4)),D+=4}T.length===1<<w&&w<12&&w++}D===s.width*4*(E+1)&&(E++,ik[C]+WH[C]*E>=s.height&&(R=!0))}}s.image=h,s.bitmap=await createImageBitmap(h)}else{let x=0,w=p+1,b=0,T=-4,C=!1;const D=[[0]];for(;!C;){const E=x;if(x=y(b,w),b+=w,x===m){w=p+1,D.length=m+2;for(let R=0;R<D.length;R++)D[R]=R<m?[R]:[]}else{if(x===m+1){C=!0;break}x>=D.length?D.push(D[E].concat(D[E][0])):E!==m&&D.push(D[E].concat(D[x][0]));for(const R of D[x]){const{r:M,g:k,b:L,a:O}=f(R);h.data.set([M,k,L,O],T+=4)}D.length>=1<<w&&w<12&&w++}}s.image=h,s.bitmap=await createImageBitmap(h)}}async function zMe(r,e,t,n,i,a){switch(r.nextByte()){case Wc.EndOfFile:return!0;case Wc.Image:await VMe(r,e,t,n,i);break;case Wc.Extension:BMe(r,e,n,i);break;default:throw new EvalError("undefined block found")}return!1}function UMe(r){for(const e of r.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function HMe(r,e,t){t||(t=!1);const n=await fetch(r);if(!n.ok&&n.status===404)throw new EvalError("file not found");const i=await n.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},s=new OMe(new Uint8ClampedArray(i));if(s.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=s.nextTwoBytes(),a.height=s.nextTwoBytes();const o=s.nextByte(),l=(o&128)===128;a.colorRes=(o&112)>>>4,a.sortFlag=(o&8)===8;const u=1<<(o&7)+1,c=s.nextByte();a.pixelAspectRatio=s.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),l&&(a.globalColorTable=Lne(s,u));const f=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(T){if(T instanceof DOMException&&T.name==="IndexSizeError")return null;throw T}})();if(f==null)throw new Error("GIF frame size is to large");const{r:h,g:p,b:v}=a.globalColorTable[c];f.data.set(l?[h,p,v,255]:[0,0,0,0]);for(let T=4;T<f.data.length;T*=2)f.data.copyWithin(T,0,T);a.backgroundImage=f;let m=-1,y=!0,x=-1;const w=T=>(T&&(y=!0),m),b=T=>(T!=null&&(x=T),x);try{do y&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Cl.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),m++,x=-1,y=!1);while(!await zMe(s,a,t,w,b,e));a.frames.length--;for(const T of a.frames){if(T.userInputDelayFlag&&T.delayTime===0){a.totalTime=1/0;break}a.totalTime+=T.delayTime}return a}catch(T){throw T instanceof EvalError?new Error(`error while parsing frame ${m} "${T.message}"`):T}}function GMe(r){const{context:e,radius:t,particle:n,delta:i}=r,a=n.image;if(!a?.gifData||!a.gif)return;const s=new OffscreenCanvas(a.gifData.width,a.gifData.height),o=s.getContext("2d");if(!o)throw new Error("could not create offscreen canvas context");o.imageSmoothingQuality="low",o.imageSmoothingEnabled=!1,o.clearRect(Cs.x,Cs.y,s.width,s.height),n.gifLoopCount===void 0&&(n.gifLoopCount=a.gifLoopCount??nN);let l=n.gifFrame??NMe;const u={x:-a.gifData.width*$H,y:-a.gifData.height*$H},c=a.gifData.frames[l];if(n.gifTime===void 0&&(n.gifTime=FMe),!!c.bitmap){switch(e.scale(t/a.gifData.width,t/a.gifData.height),c.disposalMethod){case Cl.UndefinedA:case Cl.UndefinedB:case Cl.UndefinedC:case Cl.UndefinedD:case Cl.Replace:o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y),o.clearRect(Cs.x,Cs.y,s.width,s.height);break;case Cl.Combine:o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y);break;case Cl.RestoreBackground:o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y),o.clearRect(Cs.x,Cs.y,s.width,s.height),a.gifData.globalColorTable.length?o.putImageData(a.gifData.backgroundImage,u.x,u.y):o.putImageData(a.gifData.frames[qH].image,u.x+c.left,u.y+c.top);break;case Cl.RestorePrevious:{const f=o.getImageData(Cs.x,Cs.y,s.width,s.height);o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y),o.clearRect(Cs.x,Cs.y,s.width,s.height),o.putImageData(f,Cs.x,Cs.y)}break}if(n.gifTime+=i.value,n.gifTime>c.delayTime){if(n.gifTime-=c.delayTime,++l>=a.gifData.frames.length){if(--n.gifLoopCount<=nN)return;l=qH,o.clearRect(Cs.x,Cs.y,s.width,s.height)}n.gifFrame=l}e.scale(a.gifData.width/t,a.gifData.height/t)}}async function jMe(r){if(r.type!=="gif"){await wD(r);return}r.loading=!0;try{r.gifData=await HMe(r.source),r.gifLoopCount=UMe(r.gifData)??nN,r.gifLoopCount||(r.gifLoopCount=1/0)}catch{r.error=!0}r.loading=!1}const WMe=2,$Me=1,qMe=12,YMe=1;class XMe{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${il} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:n,particle:i,opacity:a}=e,s=i.image,o=s?.element;if(s){if(t.globalAlpha=a,s.gif&&s.gifData)GMe(e);else if(o){const l=s.ratio,u={x:-n,y:-n},c=n*WMe;t.drawImage(o,u.x,u.y,c,c/l)}t.globalAlpha=$Me}}getSidesCount(){return qMe}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const n of t.preload)await this._engine.loadImage(n)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(i=>i.name===t.name||i.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=this._engine.images,i=t.shapeData;if(!i)return;const a=t.getFillColor(),s=n.find(l=>l.name===i.name||l.source===i.src);if(!s)return;const o=i.replaceColor??s.replaceColor;if(s.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;s.svgData&&a?l=await LMe(s,i,a,t):l={color:a,data:s,element:s.element,gif:s.gif,gifData:s.gifData,gifLoopCount:s.gifLoopCount,loaded:!0,ratio:i.width&&i.height?i.width/i.height:s.ratio??YMe,replaceColor:o,source:i.src},l.ratio||(l.ratio=1);const u=i.fill??t.shapeFill,c=i.close??t.shapeClose,f={image:l,fill:u,close:c};t.image=f.image,t.shapeFill=f.fill,t.shapeClose=f.close})()}}class KMe{constructor(){this.src="",this.gif=!1}load(e){Ge(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class ZMe{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);const n=e.preload;for(const i of t.preload){const a=n.find(s=>s.name===i.name||s.src===i.src);if(a)a.load(i);else{const s=new KMe;s.load(i),n.push(s)}}}needsPlugin(){return!0}}const QMe=3;function JMe(r){r.loadImage||(r.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${il} no image source provided`);if(r.images||(r.images=[]),!r.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-QMe),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};r.images.push(t);let n;e.gif?n=jMe:n=e.replaceColor?PMe:wD,await n(t)}catch{throw new Error(`${il} ${e.name??e.src} not found`)}})}async function eke(r,e=!0){r.checkVersion("3.8.1"),JMe(r);const t=new ZMe(r);await r.addPlugin(t,e),await r.addShape(new XMe(r),e)}class tke extends Kl{constructor(){super(),this.sync=!1}load(e){Ge(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class rke extends Kl{constructor(){super(),this.sync=!1}load(e){Ge(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class nke{constructor(){this.count=0,this.delay=new tke,this.duration=new rke}load(e){Ge(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const i0=0,ike=-1,YH=0,XH=0;function ake(r,e,t){if(!r.life)return;const n=r.life;let i=!1;if(r.spawning)if(n.delayTime+=e.value,n.delayTime>=r.life.delay)i=!0,r.spawning=!1,n.delayTime=i0,n.time=i0;else return;if(n.duration===ike||r.spawning||(i?n.time=i0:n.time+=e.value,n.time<n.duration))return;if(n.time=i0,r.life.count>YH&&r.life.count--,r.life.count===YH){r.destroy();return}const a=Et(XH,t.width),s=Et(XH,t.width);r.position.x=ca(a),r.position.y=ca(s),r.spawning=!0,n.delayTime=i0,n.time=i0,r.reset();const o=r.options.life;o&&(n.delay=Je(o.delay.value)*Sn,n.duration=Je(o.duration.value)*Sn)}const ap=0,KH=1,ZH=-1;class ske{constructor(e){this.container=e}init(e){const t=this.container,n=e.options,i=n.life;i&&(e.life={delay:t.retina.reduceFactor?Je(i.delay.value)*(i.delay.sync?KH:$t())/t.retina.reduceFactor*Sn:ap,delayTime:ap,duration:t.retina.reduceFactor?Je(i.duration.value)*(i.duration.sync?KH:$t())/t.retina.reduceFactor*Sn:ap,time:ap,count:i.count},e.life.duration<=ap&&(e.life.duration=ZH),e.life.count<=ap&&(e.life.count=ZH),e.life&&(e.spawning=e.life.delay>ap))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new nke);for(const n of t)e.life.load(n?.life)}update(e,t){!this.isEnabled(e)||!e.life||ake(e,t,this.container.canvas.size)}}async function oke(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("life",async t=>Promise.resolve(new ske(t)),e)}function lke(r){const{context:e,particle:t,radius:n}=r,i=t.shapeData,a=0;e.moveTo(-n,a),e.lineTo(n,a),e.lineCap=i?.cap??"butt"}const uke=1;class cke{constructor(){this.validTypes=["line"]}draw(e){lke(e)}getSidesCount(){return uke}}async function fke(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new cke,e)}const QH=.5;class hke{init(){}isEnabled(e){return!Lv()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,n=t.actualOptions,i=n.interactivity.events.onHover.parallax;if(Lv()||!i.enable)return;const a=i.force,s=t.interactivity.mouse.position;if(!s)return;const o=t.canvas.size,l={x:o.width*QH,y:o.height*QH},u=i.smooth,c=e.getRadius()/a,f={x:(s.x-l.x)*c,y:(s.y-l.y)*c},{offset:h}=e;h.x+=(f.x-h.x)/u,h.y+=(f.y-h.y)/u}}async function dke(r,e=!0){r.checkVersion("3.8.1"),await r.addMover("parallax",()=>Promise.resolve(new hke),e)}const JH=1e3,pke=1;class vke extends ZF{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=Je(e.options.move.attract.distance)*t.retina.pixelRatio);const n=e.attractDistance,i=e.getPosition(),a=t.particles.quadTree.queryCircle(i,n);for(const s of a){if(e===s||!s.options.move.attract.enable||s.destroyed||s.spawning)continue;const o=s.getPosition(),{dx:l,dy:u}=Fa(i,o),c=e.options.move.attract.rotate,f=l/(c.x*JH),h=u/(c.y*JH),p=s.size.value/e.size.value,v=pke/p;e.velocity.x-=f*p,e.velocity.y-=h*p,s.velocity.x+=f*v,s.velocity.y+=h*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function gke(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("particlesAttract",t=>Promise.resolve(new vke(t)),e)}const mke=.5,yke=10,_ke=0;function eG(r,e,t,n,i,a){const s=al(r.options.collisions.absorb.speed*i.factor/yke,_ke,n);r.size.value+=s*mke,t.size.value-=s,n<=a&&(t.size.value=0,t.destroy())}function xke(r,e,t,n){const i=r.getRadius(),a=e.getRadius();i===void 0&&a!==void 0?r.destroy():i!==void 0&&a===void 0?e.destroy():i!==void 0&&a!==void 0&&(i>=a?eG(r,i,e,a,t,n):eG(e,a,r,i,t,n))}const tG=r=>{r.collisionMaxSpeed===void 0&&(r.collisionMaxSpeed=Je(r.options.collisions.maxSpeed)),r.velocity.length>r.collisionMaxSpeed&&(r.velocity.length=r.collisionMaxSpeed)};function One(r,e){one(JO(r),JO(e)),tG(r),tG(e)}function wke(r,e){!r.unbreakable&&!e.unbreakable&&One(r,e),r.getRadius()===void 0&&e.getRadius()!==void 0?r.destroy():r.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():r.getRadius()!==void 0&&e.getRadius()!==void 0&&(r.getRadius()>=e.getRadius()?e:r).destroy()}function bke(r,e,t,n){switch(r.options.collisions.mode){case fm.absorb:{xke(r,e,t,n);break}case fm.bounce:{One(r,e);break}case fm.destroy:{wke(r,e);break}}}const Ske=2;class Tke extends ZF{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const n=this.container,i=e.getPosition(),a=e.getRadius(),s=n.particles.quadTree.queryCircle(i,a*Ske);for(const o of s){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const l=o.getPosition(),u=o.getRadius();if(Math.abs(Math.round(i.z)-Math.round(l.z))>a+u)continue;const c=hs(i,l),f=a+u;c>f||bke(e,o,t,n.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function Ake(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("particlesCollisions",t=>Promise.resolve(new Tke(t)),e)}const ak=2;class Eke extends zs{constructor(e,t,n,i){super(e,t,n),this.canvasSize=i,this.canvasSize={...i}}contains(e){const{width:t,height:n}=this.canvasSize,{x:i,y:a}=e;return super.contains(e)||super.contains({x:i-t,y:a})||super.contains({x:i-t,y:a-n})||super.contains({x:i,y:a-n})}intersects(e){if(super.intersects(e))return!0;const t=e,n=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(n.radius!==void 0){const a=new zs(i.x,i.y,n.radius*ak);return super.intersects(a)}else if(t.size!==void 0){const a=new Wl(i.x,i.y,t.size.width*ak,t.size.height*ak);return super.intersects(a)}return!1}}class Cke{constructor(){this.blur=5,this.color=new ei,this.color.value="#000",this.enable=!1}load(e){Ge(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=ei.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class Dke{constructor(){this.enable=!1,this.frequency=1}load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Ike{constructor(){this.blink=!1,this.color=new ei,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Cke,this.triangles=new Dke,this.width=1,this.warp=!1}load(e){Ge(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ei.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const rG=2,Rke=1,ET={x:0,y:0},Mke=0;function kke(r,e,t,n,i){const{dx:a,dy:s,distance:o}=Fa(r,e);if(!i||o<=t)return o;const l={x:Math.abs(a),y:Math.abs(s)},u={x:Math.min(l.x,n.width-l.x),y:Math.min(l.y,n.height-l.y)};return Math.sqrt(u.x**rG+u.y**rG)}class Pke extends ZF{constructor(e,t){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this._linkContainer,a=n.options.links;let s=a.id===void 0?i.particles.linksColor:i.particles.linksColors.get(a.id);if(s)return;const o=a.color;s=vne(this._engine,o,a.blink,a.consent),a.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(a.id,s)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),n=this.container,i=n.canvas.size;if(t.x<ET.x||t.y<ET.y||t.x>i.width||t.y>i.height)return;const a=e.options.links,s=a.opacity,o=e.retina.linksDistance??Mke,l=a.warp;let u;l?u=new Eke(t.x,t.y,o,i):u=new zs(t.x,t.y,o);const c=n.particles.quadTree.query(u);for(const f of c){const h=f.options.links;if(e===f||!h?.enable||a.id!==h.id||f.spawning||f.destroyed||!f.links||e.links.some(y=>y.destination===f)||f.links.some(y=>y.destination===e))continue;const p=f.getPosition();if(p.x<ET.x||p.y<ET.y||p.x>i.width||p.y>i.height)continue;const v=kke(t,p,o,i,l&&h.warp);if(v>o)continue;const m=(Rke-v/o)*s;this._setColor(e),e.links.push({destination:f,opacity:m})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new Ike);for(const n of t)e.links.load(n?.links)}reset(){}}async function Lke(r,e=!0){await r.addInteractor("particlesLinks",async t=>Promise.resolve(new Pke(t,r)),e)}function Oke(r,e,t,n){r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.lineTo(n.x,n.y),r.closePath()}function Nke(r){let e=!1;const{begin:t,end:n,engine:i,maxDistance:a,context:s,canvasSize:o,width:l,backgroundMask:u,colorLine:c,opacity:f,links:h}=r;if(hs(t,n)<=a)ox(s,t,n),e=!0;else if(h.warp){let v,m;const y={x:n.x-o.width,y:n.y},x=Fa(t,y);if(x.distance<=a){const w=t.y-x.dy/x.dx*t.x;v={x:0,y:w},m={x:o.width,y:w}}else{const w={x:n.x,y:n.y-o.height},b=Fa(t,w);if(b.distance<=a){const C=-(t.y-b.dy/b.dx*t.x)/(b.dy/b.dx);v={x:C,y:0},m={x:C,y:o.height}}else{const T={x:n.x-o.width,y:n.y-o.height},C=Fa(t,T);if(C.distance<=a){const D=t.y-C.dy/C.dx*t.x;v={x:-D/(C.dy/C.dx),y:D},m={x:v.x+o.width,y:v.y+o.height}}}}v&&m&&(ox(s,t,v),ox(s,n,m),e=!0)}if(!e)return;s.lineWidth=l,u.enable&&(s.globalCompositeOperation=u.composite),s.strokeStyle=Wu(c,f);const{shadow:p}=h;if(p.enable){const v=el(i,p.color);v&&(s.shadowBlur=p.blur,s.shadowColor=Wu(v))}s.stroke()}function Fke(r){const{context:e,pos1:t,pos2:n,pos3:i,backgroundMask:a,colorTriangle:s,opacityTriangle:o}=r;Oke(e,t,n,i),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=Wu(s,o),e.fill()}function Bke(r){return r.sort((e,t)=>e-t),r.join("_")}function nG(r,e){const t=Bke(r.map(i=>i.id));let n=e.get(t);return n===void 0&&(n=$t(),e.set(t,n)),n}const iG=0,sk=0,aG=0,Vke=.5,zke=1;class Uke{constructor(e,t){this._drawLinkLine=(n,i)=>{const a=n.options.links;if(!a?.enable)return;const s=this._container,o=s.actualOptions,l=i.destination,u=n.getPosition(),c=l.getPosition();let f=i.opacity;s.canvas.draw(h=>{let p;const v=n.options.twinkle?.lines;if(v?.enable){const w=v.frequency,b=el(this._engine,v.color);$t()<w&&b&&(p=b,f=Je(v.opacity))}if(!p){const w=a.id!==void 0?s.particles.linksColors.get(a.id):s.particles.linksColor;p=eN(n,l,w)}if(!p)return;const m=n.retina.linksWidth??sk,y=n.retina.linksDistance??aG,{backgroundMask:x}=o;Nke({context:h,width:m,begin:u,end:c,engine:this._engine,maxDistance:y,canvasSize:s.canvas.size,links:a,backgroundMask:x,colorLine:p,opacity:f})})},this._drawLinkTriangle=(n,i,a)=>{const s=n.options.links;if(!s?.enable)return;const o=s.triangles;if(!o.enable)return;const l=this._container,u=l.actualOptions,c=i.destination,f=a.destination,h=o.opacity??(i.opacity+a.opacity)*Vke;h<=iG||l.canvas.draw(p=>{const v=n.getPosition(),m=c.getPosition(),y=f.getPosition(),x=n.retina.linksDistance??aG;if(hs(v,m)>x||hs(y,m)>x||hs(y,v)>x)return;let w=el(this._engine,o.color);if(!w){const b=s.id!==void 0?l.particles.linksColors.get(s.id):l.particles.linksColor;w=eN(n,c,b)}w&&Fke({context:p,pos1:v,pos2:m,pos3:y,backgroundMask:u.backgroundMask,colorTriangle:w,opacityTriangle:h})})},this._drawTriangles=(n,i,a,s)=>{const o=a.destination;if(!(n.links?.triangles.enable&&o.options.links?.triangles.enable))return;const l=o.links?.filter(u=>{const c=this._getLinkFrequency(o,u.destination);return o.options.links&&c<=o.options.links.frequency&&s.findIndex(h=>h.destination===u.destination)>=0});if(l?.length)for(const u of l){const c=u.destination;this._getTriangleFrequency(i,o,c)>n.links.triangles.frequency||this._drawLinkTriangle(i,a,u)}},this._getLinkFrequency=(n,i)=>nG([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,a)=>nG([n,i,a],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:n,options:i}=t;if(!n?.length)return;const a=n.filter(s=>i.links&&(i.links.frequency>=zke||this._getLinkFrequency(t,s.destination)<=i.links.frequency));for(const s of a)this._drawTriangles(i,t,s,a),s.opacity>iG&&(t.retina.linksWidth??sk)>sk&&this._drawLinkLine(t,s)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:n}=e,{distance:i,width:a}=e.options.links;n.linksDistance=i*t,n.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class Hke{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new Uke(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Gke(r,e=!0){const t=new Hke(r);await r.addPlugin(t,e)}async function jke(r,e=!0){r.checkVersion("3.8.1"),await Lke(r,e),await Gke(r,e)}const Wke=180,CT={x:0,y:0},$ke=2;function qke(r,e,t){const{context:n}=r,i=t.count.numerator*t.count.denominator,a=t.count.numerator/t.count.denominator,s=Wke*(a-$ke)/a,o=Math.PI-rf(s);if(n){n.beginPath(),n.translate(e.x,e.y),n.moveTo(CT.x,CT.y);for(let l=0;l<i;l++)n.lineTo(t.length,CT.y),n.translate(t.length,CT.y),n.rotate(o)}}const Yke=5;class Nne{draw(e){const{particle:t,radius:n}=e,i=this.getCenter(t,n),a=this.getSidesData(t,n);qke(e,i,a)}getSidesCount(e){const t=e.shapeData;return Math.round(Je(t?.sides??Yke))}}const sG=3.5,oG=2.66,Xke=3;class Kke extends Nne{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/sG),y:-t/(oG/sG)}}getSidesData(e,t){const n=e.sides;return{count:{denominator:1,numerator:n},length:t*oG/(n/Xke)}}}const Zke=1.66,Qke=3,Jke=2;class ePe extends Nne{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/Zke}}getSidesCount(){return Qke}getSidesData(e,t){const n=t*Jke;return{count:{denominator:2,numerator:3},length:n}}}async function tPe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new Kke,e)}async function rPe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new ePe,e)}async function nPe(r,e=!0){r.checkVersion("3.8.1"),await tPe(r,e),await rPe(r,e)}class iPe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Et(e.speed)),e.decay!==void 0&&(this.decay=Et(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class aPe extends Kl{constructor(){super(),this.animation=new iPe,this.direction=us.clockwise,this.path=!1,this.value=0}load(e){Ge(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const Fne=2,sPe=Math.PI*Fne,oPe=1,lPe=360;class uPe{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:rf(Je(t.value)),min:0,max:sPe},e.pathRotation=t.path;let n=t.direction;switch(n===us.random&&(n=Math.floor($t()*Fne)>0?us.counterClockwise:us.clockwise),n){case us.counterClockwise:case"counterClockwise":e.rotate.status=Ln.decreasing;break;case us.clockwise:e.rotate.status=Ln.increasing;break}const i=t.animation;i.enable&&(e.rotate.decay=oPe-Je(i.decay),e.rotate.velocity=Je(i.speed)/lPe*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=$t())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new aPe);for(const n of t)e.rotate.load(n?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(xD(e,e.rotate,!1,rd.none,t),e.rotation=e.rotate.value))}}async function cPe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("rotate",t=>Promise.resolve(new uPe(t)),e)}const fPe=2,hPe=Math.sqrt(fPe),dPe=2;function pPe(r){const{context:e,radius:t}=r,n=t/hPe,i=n*dPe;e.rect(-n,-n,i,i)}const vPe=4;class gPe{constructor(){this.validTypes=["edge","square"]}draw(e){pPe(e)}getSidesCount(){return vPe}}async function mPe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new gPe,e)}const yPe=2,a0={x:0,y:0};function _Pe(r){const{context:e,particle:t,radius:n}=r,i=t.sides,a=t.starInset??yPe;e.moveTo(a0.x,a0.y-n);for(let s=0;s<i;s++)e.rotate(Math.PI/i),e.lineTo(a0.x,a0.y-n*a),e.rotate(Math.PI/i),e.lineTo(a0.x,a0.y-n)}const xPe=2,wPe=5;class bPe{constructor(){this.validTypes=["star"]}draw(e){_Pe(e)}getSidesCount(e){const t=e.shapeData;return Math.round(Je(t?.sides??wPe))}particleInit(e,t){const n=t.shapeData;t.starInset=Je(n?.inset??xPe)}}async function SPe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new bPe,e)}const TPe=1;class APe{constructor(e,t){this._container=e,this._engine=t}init(e){const t=this._container,n=e.options,i=fa(n.stroke,e.id,n.reduceDuplicates);e.strokeWidth=Je(i.width)*t.retina.pixelRatio,e.strokeOpacity=Je(i.opacity??TPe),e.strokeAnimation=i.color?.animation;const a=nd(this._engine,i.color)??e.getFillColor();a&&(e.strokeColor=gne(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:n}=e;return!e.destroyed&&!e.spawning&&!!t&&(n?.h.value!==void 0&&n.h.enable||n?.s.value!==void 0&&n.s.enable||n?.l.value!==void 0&&n.l.enable)}update(e,t){this.isEnabled(e)&&mne(e.strokeColor,t)}}async function EPe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("strokeColor",t=>Promise.resolve(new APe(t,r)),e)}async function CPe(r,e=!0){r.checkVersion("3.8.1"),await dke(r,!1),await mRe(r,!1),await ERe(r,!1),await LRe(r,!1),await jRe(r,!1),await eMe(r,!1),await nMe(r,!1),await lMe(r,!1),await hMe(r,!1),await SMe(r,!1),await DMe(r,!1),await gke(r,!1),await Ake(r,!1),await jke(r,!1),await oRe(r,!1),await cRe(r,!1),await eke(r,!1),await fke(r,!1),await nPe(r,!1),await mPe(r,!1),await SPe(r,!1),await oke(r,!1),await cPe(r,!1),await EPe(r,!1),await sRe(r,e)}const Bne=2,lG=.5;function DPe(r){const{context:e,particle:t,radius:n,opacity:i}=r,a=t.shapeData;if(!a)return;const s=a.value;if(s===void 0)return;t.text===void 0&&(t.text=fa(s,t.randomIndexData));const o=t.text,l=a.style??"",u=a.weight??"400",c=Math.round(n)*Bne,f=a.font??"Verdana",h=t.shapeFill,p=o?.split(`
`);if(p){e.font=`${l} ${u} ${c}px "${f}"`,e.globalAlpha=i;for(let v=0;v<p.length;v++)IPe(e,p[v],n,i,v,h);e.globalAlpha=1}}function IPe(r,e,t,n,i,a){const s=e.length*t*lG,o={x:-s,y:t*lG},l=t*Bne;a?r.fillText(e,o.x,o.y+l*i):r.strokeText(e,o.x,o.y+l*i)}class RPe{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){DPe(e)}async init(e){const t=e.actualOptions,{validTypes:n}=this;if(n.find(i=>un(i,t.particles.shape.type))){const i=n.map(s=>t.particles.shape.options[s]).find(s=>!!s),a=[];xi(i,s=>{a.push(QO(s.font,s.weight))}),await Promise.all(a)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const n=t.shapeData;if(n===void 0)return;const i=n.value;i!==void 0&&(t.text=fa(i,t.randomIndexData))}}async function MPe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new RPe,e)}var _h;(function(r){r.clockwise="clockwise",r.counterClockwise="counter-clockwise",r.random="random"})(_h||(_h={}));class kPe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Ge(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Et(e.speed)),e.decay!==void 0&&(this.decay=Et(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class PPe extends Kl{constructor(){super(),this.animation=new kPe,this.direction=_h.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!Ge(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const $1=1,Vne=2,LPe=Math.PI*Vne,OPe=360;class NPe{constructor(e){this.container=e}getTransformValues(e){const t=e.tilt?.enable&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:rf(Je(t.value)),sinDirection:$t()>=ln?$1:-$1,cosDirection:$t()>=ln?$1:-$1,min:0,max:LPe};let n=t.direction;switch(n===_h.random&&(n=Math.floor($t()*Vne)>0?_h.counterClockwise:_h.clockwise),n){case _h.counterClockwise:case"counterClockwise":e.tilt.status=Ln.decreasing;break;case _h.clockwise:e.tilt.status=Ln.increasing;break}const i=e.options.tilt?.animation;i?.enable&&(e.tilt.decay=$1-Je(i.decay),e.tilt.velocity=Je(i.speed)/OPe*this.container.retina.reduceFactor,i.sync||(e.tilt.velocity*=$t()))}isEnabled(e){const t=e.options.tilt?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new PPe);for(const n of t)e.tilt.load(n?.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(xD(e,e.tilt,!1,rd.none,t),await Promise.resolve())}}async function FPe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("tilt",t=>Promise.resolve(new NPe(t)),e)}class uG{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){Ge(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=Et(e.opacity)))}}class BPe{constructor(){this.lines=new uG,this.particles=new uG}load(e){Ge(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class VPe{constructor(e){this._engine=e}getColorStyles(e,t,n,i){const a=e.options,s=a.twinkle;if(!s)return{};const o=s.particles,l=o.enable&&$t()<o.frequency,u=e.options.zIndex,c=1,f=(c-e.zIndexFactor)**u.opacityRate,h=l?Je(o.opacity)*f:i,p=nd(this._engine,o.color),v=p?Nm(p,h):void 0,m={},y=l&&v;return m.fill=y?v:void 0,m.stroke=y?v:void 0,m}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,n=t.twinkle;return n?n.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new BPe);for(const n of t)e.twinkle.load(n?.twinkle)}async update(){await Promise.resolve()}}async function zPe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("twinkle",()=>Promise.resolve(new VPe(r)),e)}class UPe{constructor(){this.angle=50,this.move=10}load(e){Ge(e)||(e.angle!==void 0&&(this.angle=Et(e.angle)),e.move!==void 0&&(this.move=Et(e.move)))}}class HPe{constructor(){this.distance=5,this.enable=!1,this.speed=new UPe}load(e){if(!Ge(e)&&(e.distance!==void 0&&(this.distance=Et(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(vo(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const GPe=0,jPe=2,WPe=Math.PI*jPe,$Pe=60;function qPe(r,e){const{wobble:t}=r.options,{wobble:n}=r;if(!t?.enable||!n)return;const i=n.angleSpeed*e.factor,a=n.moveSpeed*e.factor,s=a*((r.retina.wobbleDistance??GPe)*e.factor)/(Sn/$Pe),o=WPe,{position:l}=r;n.angle+=i,n.angle>o&&(n.angle-=o),l.x+=s*Math.cos(n.angle),l.y+=s*Math.abs(Math.sin(n.angle))}const YPe=2,XPe=Math.PI*YPe,KPe=360,ZPe=10,QPe=0;class JPe{constructor(e){this.container=e}init(e){const t=e.options.wobble;t?.enable?e.wobble={angle:$t()*XPe,angleSpeed:Je(t.speed.angle)/KPe,moveSpeed:Je(t.speed.move)/ZPe}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=Je(t?.distance??QPe)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.wobble?.enable}loadOptions(e,...t){e.wobble||(e.wobble=new HPe);for(const n of t)e.wobble.load(n?.wobble)}update(e,t){this.isEnabled(e)&&qPe(e,t)}}async function eLe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("wobble",t=>Promise.resolve(new JPe(t)),e)}async function tLe(r,e=!0){r.checkVersion("3.8.1"),await NDe(r,!1),await hIe(r,!1),await FPe(r,!1),await zPe(r,!1),await eLe(r,!1),await MPe(r,!1),await aIe(r,!1),await bDe(r,!1),await YDe(r,!1),await QDe(r,!1),await rIe(r,!1),await CPe(r,e)}const rLe=()=>{const r=async e=>{await tLe(e)};return G.jsx(uDe,{id:"tsparticles",init:r,options:{background:{color:"#0d47a1"},fullScreen:{enable:!0,zIndex:-1},particles:{number:{value:120,density:{enable:!0,area:1e3}},color:{value:"#740a0aff"},shape:{type:"circle",stroke:{width:0,color:"#000000"}},opacity:{value:.7,random:!0,animation:{enable:!0,speed:1,minimumValue:.1,sync:!1}},size:{value:4,random:!0,animation:{enable:!0,speed:4,minimumValue:.3,sync:!1}},links:{enable:!0,distance:180,color:"#b90d0dff",opacity:.4,width:1.5},move:{enable:!0,speed:3,direction:"none",random:!0,straight:!1,outModes:{default:"out"},attract:{enable:!0,rotate:{x:600,y:1200}}}},interactivity:{detectsOn:"canvas",events:{onHover:{enable:!0,mode:"bubble"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{bubble:{distance:200,size:6,duration:2,opacity:.8,speed:3},push:{quantity:6}}},retina_detect:!0}})},nLe="_form_1yzq6_105",iLe="_columnas_1yzq6_141",aLe="_tablaVotos_1yzq6_291",sLe="_totales_1yzq6_343",oLe="_btn_1yzq6_357",lLe="_seccionBoletas_1yzq6_557",uLe="_boletasGrid_1yzq6_567",cLe="_boletaItem_1yzq6_579",fLe="_boletaBarra_1yzq6_613",hLe="_nroMesa_1yzq6_627",dLe="_checkIcon_1yzq6_639",pLe="_botonRecorte_1yzq6_679",vLe="_botonAplicar_1yzq6_705",gLe="_botonCancelar_1yzq6_715",mLe="_selectorContainer_1yzq6_725",yLe="_iconButton_1yzq6_741",_Le="_imagenPreview_1yzq6_771",mn={form:nLe,columnas:iLe,"select-group":"_select-group_1yzq6_169",tablaVotos:aLe,totales:sLe,btn:oLe,seccionBoletas:lLe,boletasGrid:uLe,boletaItem:cLe,boletaBarra:fLe,nroMesa:hLe,checkIcon:dLe,botonRecorte:pLe,botonAplicar:vLe,botonCancelar:gLe,selectorContainer:mLe,iconButton:yLe,imagenPreview:_Le};var zne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cG=Qc.createContext&&Qc.createContext(zne),xLe=["attr","size","title"];function wLe(r,e){if(r==null)return{};var t=bLe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function bLe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function bE(){return bE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bE.apply(this,arguments)}function fG(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function SE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(t),!0).forEach(function(n){SLe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fG(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function SLe(r,e,t){return e=TLe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function TLe(r){var e=ALe(r,"string");return typeof e=="symbol"?e:e+""}function ALe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Une(r){return r&&r.map((e,t)=>Qc.createElement(e.tag,SE({key:t},e.attr),Une(e.child)))}function bD(r){return e=>Qc.createElement(ELe,bE({attr:SE({},r.attr)},e),Une(r.child))}function ELe(r){var e=t=>{var{attr:n,size:i,title:a}=r,s=wLe(r,xLe),o=i||t.size||"1em",l;return t.className&&(l=t.className),r.className&&(l=(l?l+" ":"")+r.className),Qc.createElement("svg",bE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:l,style:SE(SE({color:r.color||t.color},t.style),r.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Qc.createElement("title",null,a),r.children)};return cG!==void 0?Qc.createElement(cG.Consumer,null,t=>e(t)):e(zne)}function Hne(r){return bD({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(r)}function Gne(r){return bD({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(r)}function CLe(r){return bD({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(r)}function jne(r){return bD({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}var Ds={},q1={},hG;function DLe(){if(hG)return q1;hG=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.parseLengthAndUnit=e,q1.cssValue=t;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(n){if(typeof n=="number")return{value:n,unit:"px"};var i,a=(n.match(/^[0-9.]*/)||"").toString();a.includes(".")?i=parseFloat(a):i=parseInt(a,10);var s=(n.match(/[^0-9]*$/)||"").toString();return r[s]?{value:i,unit:s}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(i,"px.")),{value:i,unit:"px"})}function t(n){var i=e(n);return"".concat(i.value).concat(i.unit)}return q1}var Y1={},dG;function ILe(){if(dG)return Y1;dG=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.createAnimation=void 0;var r=function(e,t,n){var i="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return i;var a=document.createElement("style");document.head.appendChild(a);var s=a.sheet,o=`
    @keyframes `.concat(i,` {
      `).concat(t,`
    }
  `);return s&&s.insertRule(o,0),i};return Y1.createAnimation=r,Y1}var pG;function RLe(){if(pG)return Ds;pG=1;var r=Ds&&Ds.__assign||function(){return r=Object.assign||function(c){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v])}return c},r.apply(this,arguments)},e=Ds&&Ds.__createBinding||(Object.create?function(c,f,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(f,h);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,p,v)}:function(c,f,h,p){p===void 0&&(p=h),c[p]=f[h]}),t=Ds&&Ds.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),n=Ds&&Ds.__importStar||function(){var c=function(f){return c=Object.getOwnPropertyNames||function(h){var p=[];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(p[p.length]=v);return p},c(f)};return function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p=c(f),v=0;v<p.length;v++)p[v]!=="default"&&e(h,f,p[v]);return t(h,f),h}}(),i=Ds&&Ds.__rest||function(c,f){var h={};for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&f.indexOf(p)<0&&(h[p]=c[p]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,p=Object.getOwnPropertySymbols(c);v<p.length;v++)f.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(c,p[v])&&(h[p[v]]=c[p[v]]);return h};Object.defineProperty(Ds,"__esModule",{value:!0});var a=n(zC()),s=DLe(),o=ILe(),l=(0,o.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function u(c){var f=c.loading,h=f===void 0?!0:f,p=c.color,v=p===void 0?"#000000":p,m=c.speedMultiplier,y=m===void 0?1:m,x=c.cssOverride,w=x===void 0?{}:x,b=c.size,T=b===void 0?35:b,C=i(c,["loading","color","speedMultiplier","cssOverride","size"]),D=r({background:"transparent !important",width:(0,s.cssValue)(T),height:(0,s.cssValue)(T),borderRadius:"100%",border:"2px solid",borderTopColor:v,borderBottomColor:"transparent",borderLeftColor:v,borderRightColor:v,display:"inline-block",animation:"".concat(l," ").concat(.75/y,"s 0s infinite linear"),animationFillMode:"both"},w);return h?a.createElement("span",r({style:D},C)):null}return Ds.default=u,Ds}var MLe=RLe();const kLe=VC(MLe);var iN=function(r,e){return iN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},iN(r,e)};function QF(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iN(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ai=function(){return Ai=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ai.apply(this,arguments)};var ok,vG;function PLe(){if(vG)return ok;vG=1;var r=!1,e,t,n,i,a,s,o,l,u,c,f,h,p,v,m;function y(){if(!r){r=!0;var w=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(w),T=/(Mac OS X)|(Windows)|(Linux)/.exec(w);if(h=/\b(iPhone|iP[ao]d)/.exec(w),p=/\b(iP[ao]d)/.exec(w),c=/Android/i.exec(w),v=/FBAN\/\w+;/i.exec(w),m=/Mobile/i.exec(w),f=!!/Win64/.exec(w),b){e=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var C=/(?:Trident\/(\d+.\d+))/.exec(w);s=C?parseFloat(C[1])+4:e,t=b[2]?parseFloat(b[2]):NaN,n=b[3]?parseFloat(b[3]):NaN,i=b[4]?parseFloat(b[4]):NaN,i?(b=/(?:Chrome\/(\d+\.\d+))/.exec(w),a=b&&b[1]?parseFloat(b[1]):NaN):a=NaN}else e=t=n=a=i=NaN;if(T){if(T[1]){var D=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(w);o=D?parseFloat(D[1].replace("_",".")):!0}else o=!1;l=!!T[2],u=!!T[3]}else o=l=u=!1}}var x={ie:function(){return y()||e},ieCompatibilityMode:function(){return y()||s>e},ie64:function(){return x.ie()&&f},firefox:function(){return y()||t},opera:function(){return y()||n},webkit:function(){return y()||i},safari:function(){return x.webkit()},chrome:function(){return y()||a},windows:function(){return y()||l},osx:function(){return y()||o},linux:function(){return y()||u},iphone:function(){return y()||h},mobile:function(){return y()||h||p||c||m},nativeApp:function(){return y()||v},android:function(){return y()||c},ipad:function(){return y()||p}};return ok=x,ok}var lk,gG;function LLe(){if(gG)return lk;gG=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return lk=e,lk}var uk,mG;function OLe(){if(mG)return uk;mG=1;var r=LLe(),e;r.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(n,i){if(!r.canUseDOM||i&&!("addEventListener"in document))return!1;var a="on"+n,s=a in document;if(!s){var o=document.createElement("div");o.setAttribute(a,"return;"),s=typeof o[a]=="function"}return!s&&e&&n==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}return uk=t,uk}var ck,yG;function NLe(){if(yG)return ck;yG=1;var r=PLe(),e=OLe(),t=10,n=40,i=800;function a(s){var o=0,l=0,u=0,c=0;return"detail"in s&&(l=s.detail),"wheelDelta"in s&&(l=-s.wheelDelta/120),"wheelDeltaY"in s&&(l=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(o=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(o=l,l=0),u=o*t,c=l*t,"deltaY"in s&&(c=s.deltaY),"deltaX"in s&&(u=s.deltaX),(u||c)&&s.deltaMode&&(s.deltaMode==1?(u*=n,c*=n):(u*=i,c*=i)),u&&!o&&(o=u<1?-1:1),c&&!l&&(l=c<1?-1:1),{spinX:o,spinY:l,pixelX:u,pixelY:c}}return a.getEventType=function(){return r.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},ck=a,ck}var fk,_G;function FLe(){return _G||(_G=1,fk=NLe()),fk}var BLe=FLe();const VLe=VC(BLe);function zLe(r,e,t,n,i,a){a===void 0&&(a=0);var s=zm(r,e,a),o=s.width,l=s.height,u=Math.min(o,t),c=Math.min(l,n);return u>c*i?{width:c*i,height:c}:{width:u,height:u/i}}function ULe(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function X1(r,e,t,n,i){i===void 0&&(i=0);var a=zm(e.width,e.height,i),s=a.width,o=a.height;return{x:xG(r.x,s,t.width,n),y:xG(r.y,o,t.height,n)}}function xG(r,e,t,n){var i=e*n/2-t/2;return SD(r,-i,i)}function wG(r,e){return Math.sqrt(Math.pow(r.y-e.y,2)+Math.pow(r.x-e.x,2))}function bG(r,e){return Math.atan2(e.y-r.y,e.x-r.x)*180/Math.PI}function HLe(r,e,t,n,i,a,s){a===void 0&&(a=0),s===void 0&&(s=!0);var o=s?GLe:jLe,l=zm(e.width,e.height,a),u=zm(e.naturalWidth,e.naturalHeight,a),c={x:o(100,((l.width-t.width/i)/2-r.x/i)/l.width*100),y:o(100,((l.height-t.height/i)/2-r.y/i)/l.height*100),width:o(100,t.width/l.width*100/i),height:o(100,t.height/l.height*100/i)},f=Math.round(o(u.width,c.width*u.width/100)),h=Math.round(o(u.height,c.height*u.height/100)),p=u.width>=u.height*n,v=p?{width:Math.round(h*n),height:h}:{width:f,height:Math.round(f/n)},m=Ai(Ai({},v),{x:Math.round(o(u.width-v.width,c.x*u.width/100)),y:Math.round(o(u.height-v.height,c.y*u.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:m}}function GLe(r,e){return Math.min(r,Math.max(0,e))}function jLe(r,e){return e}function WLe(r,e,t,n,i,a){var s=zm(e.width,e.height,t),o=SD(n.width/s.width*(100/r.width),i,a),l={x:o*s.width/2-n.width/2-s.width*o*(r.x/100),y:o*s.height/2-n.height/2-s.height*o*(r.y/100)};return{crop:l,zoom:o}}function $Le(r,e,t){var n=ULe(e);return t.height>t.width?t.height/(r.height*n):t.width/(r.width*n)}function qLe(r,e,t,n,i,a){t===void 0&&(t=0);var s=zm(e.naturalWidth,e.naturalHeight,t),o=SD($Le(r,e,n),i,a),l=n.height>n.width?n.height/r.height:n.width/r.width,u={x:((s.width-r.width)/2-r.x)*l,y:((s.height-r.height)/2-r.y)*l};return{crop:u,zoom:o}}function SG(r,e){return{x:(e.x+r.x)/2,y:(e.y+r.y)/2}}function YLe(r){return r*Math.PI/180}function zm(r,e,t){var n=YLe(t);return{width:Math.abs(Math.cos(n)*r)+Math.abs(Math.sin(n)*e),height:Math.abs(Math.sin(n)*r)+Math.abs(Math.cos(n)*e)}}function SD(r,e,t){return Math.min(Math.max(r,e),t)}function DT(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var XLe=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,KLe=1,ZLe=3,QLe=1,JLe=function(r){QF(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cropperRef=ue.createRef(),t.imageRef=ue.createRef(),t.videoRef=ue.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var n=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(n){n=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(n){return n.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var n=t.computeSizes();n&&(t.emitCropData(),t.setInitialCrop(n)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(n){if(t.props.initialCroppedAreaPercentages){var i=WLe(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),a=i.crop,s=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(s)}else if(t.props.initialCroppedAreaPixels){var o=qLe(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),a=o.crop,s=o.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(s)}},t.computeSizes=function(){var n,i,a,s,o,l,u=t.imageRef.current||t.videoRef.current;if(u&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var c=t.containerRect.width/t.containerRect.height,f=((n=t.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,h=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((s=t.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,p=u.offsetWidth<f||u.offsetHeight<h,v=f/h,m=void 0;if(p)switch(t.state.mediaObjectFit){default:case"contain":m=c>v?{width:t.containerRect.height*v,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/v};break;case"horizontal-cover":m={width:t.containerRect.width,height:t.containerRect.width/v};break;case"vertical-cover":m={width:t.containerRect.height*v,height:t.containerRect.height};break}else m={width:u.offsetWidth,height:u.offsetHeight};t.mediaSize=Ai(Ai({},m),{naturalWidth:f,naturalHeight:h}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var y=t.props.cropSize?t.props.cropSize:zLe(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((o=t.state.cropSize)===null||o===void 0?void 0:o.height)!==y.height||((l=t.state.cropSize)===null||l===void 0?void 0:l.width)!==y.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(y),t.setState({cropSize:y},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(y),y}},t.saveContainerPosition=function(){if(t.containerRef){var n=t.containerRef.getBoundingClientRect();t.containerPosition={x:n.left,y:n.top}}},t.onMouseDown=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(n)))},t.onMouseMove=function(n){return t.onDrag(e.getMousePoint(n))},t.onScroll=function(n){t.currentDoc&&(n.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(n){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(n))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),n.touches.length===2?t.onPinchStart(n):n.touches.length===1&&t.onDragStart(e.getTouchPoint(n.touches[0]))))},t.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?t.onPinchMove(n):n.touches.length===1&&t.onDrag(e.getTouchPoint(n.touches[0]))},t.onGestureStart=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(n){if(n.preventDefault(),!t.isTouching){var i=e.getMousePoint(n),a=t.gestureZoomStart-1+n.scale;if(t.setNewZoom(a,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var s=t.gestureRotationStart+n.rotation;t.props.onRotationChange(s)}}},t.onGestureEnd=function(n){t.cleanEvents()},t.onDragStart=function(n){var i,a,s=n.x,o=n.y;t.dragStartPosition={x:s,y:o},t.dragStartCrop=Ai({},t.props.crop),(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i)},t.onDrag=function(n){var i=n.x,a=n.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||a===void 0)){var s=i-t.dragStartPosition.x,o=a-t.dragStartPosition.y,l={x:t.dragStartCrop.x+s,y:t.dragStartCrop.y+o},u=t.props.restrictPosition?X1(l,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):l;t.props.onCropChange(u)}}))},t.onDragStopped=function(){var n,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(n=t.props).onInteractionEnd)===null||i===void 0||i.call(n)},t.onWheel=function(n){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(n))){n.preventDefault();var i=e.getMousePoint(n),a=VLe(n).pixelY,s=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(s,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var o,l;return(l=(o=t.props).onInteractionStart)===null||l===void 0?void 0:l.call(o)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var o,l;return(l=(o=t.props).onInteractionEnd)===null||l===void 0?void 0:l.call(o)})},250)}},t.getPointOnContainer=function(n,i){var a=n.x,s=n.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-i.x),y:t.containerRect.height/2-(s-i.y)}},t.getPointOnMedia=function(n){var i=n.x,a=n.y,s=t.props,o=s.crop,l=s.zoom;return{x:(i+o.x)/l,y:(a+o.y)/l}},t.setNewZoom=function(n,i,a){var s=a===void 0?{}:a,o=s.shouldUpdatePosition,l=o===void 0?!0:o;if(!(!t.state.cropSize||!t.props.onZoomChange)){var u=SD(n,t.props.minZoom,t.props.maxZoom);if(l){var c=t.getPointOnContainer(i,t.containerPosition),f=t.getPointOnMedia(c),h={x:f.x*u-c.x,y:f.y*u-c.y},p=t.props.restrictPosition?X1(h,t.mediaSize,t.state.cropSize,u,t.props.rotation):h;t.props.onCropChange(p)}t.props.onZoomChange(u)}},t.getCropData=function(){if(!t.state.cropSize)return null;var n=t.props.restrictPosition?X1(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return HLe(n,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var n=t.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.emitCropAreaChange=function(){var n=t.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var n=t.props.restrictPosition?X1(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(n),t.emitCropData()}},t.onKeyDown=function(n){var i,a,s=t.props,o=s.crop,l=s.onCropChange,u=s.keyboardStep,c=s.zoom,f=s.rotation,h=u;if(t.state.cropSize){n.shiftKey&&(h*=.2);var p=Ai({},o);switch(n.key){case"ArrowUp":p.y-=h,n.preventDefault();break;case"ArrowDown":p.y+=h,n.preventDefault();break;case"ArrowLeft":p.x-=h,n.preventDefault();break;case"ArrowRight":p.x+=h,n.preventDefault();break;default:return}t.props.restrictPosition&&(p=X1(p,t.mediaSize,t.state.cropSize,c,f)),n.repeat||(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i),l(p)}},t.onKeyUp=function(n){var i,a;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}t.emitCropData(),(a=(i=t.props).onInteractionEnd)===null||a===void 0||a.call(i)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=XLe,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var n,i,a,s,o,l,u,c,f;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((n=t.cropSize)===null||n===void 0?void 0:n.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((o=t.crop)===null||o===void 0?void 0:o.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=t.crop)===null||u===void 0?void 0:u.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var h=this.getObjectFit();h!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:h},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,n=t.cropSize,i=t.aspect;return n?n.width/n.height:i},e.prototype.getObjectFit=function(){var t,n,i,a;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var o=this.containerRect.width/this.containerRect.height,l=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,c=l/u;return c<o?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var n=e.getTouchPoint(t.touches[0]),i=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=wG(n,i),this.lastPinchRotation=bG(n,i),this.onDragStart(SG(n,i))},e.prototype.onPinchMove=function(t){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(t.touches[0]),a=e.getTouchPoint(t.touches[1]),s=SG(i,a);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var o=wG(i,a),l=n.props.zoom*(o/n.lastPinchDistance);n.setNewZoom(l,s,{shouldUpdatePosition:!1}),n.lastPinchDistance=o;var u=bG(i,a),c=n.props.rotation+(u-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(c),n.lastPinchRotation=u})}},e.prototype.render=function(){var t=this,n,i=this.props,a=i.image,s=i.video,o=i.mediaProps,l=i.cropperProps,u=i.transform,c=i.crop,f=c.x,h=c.y,p=i.rotation,v=i.zoom,m=i.cropShape,y=i.showGrid,x=i.roundCropAreaPixels,w=i.style,b=w.containerStyle,T=w.cropAreaStyle,C=w.mediaStyle,D=i.classes,E=D.containerClassName,R=D.cropAreaClassName,M=D.mediaClassName,k=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return ue.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(O){return t.containerRef=O},"data-testid":"container",style:b,className:DT("reactEasyCrop_Container",E)},a?ue.createElement("img",Ai({alt:"",className:DT("reactEasyCrop_Image",k==="contain"&&"reactEasyCrop_Contain",k==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",k==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",M)},o,{src:a,ref:this.imageRef,style:Ai(Ai({},C),{transform:u||"translate(".concat(f,"px, ").concat(h,"px) rotate(").concat(p,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):s&&ue.createElement("video",Ai({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:DT("reactEasyCrop_Video",k==="contain"&&"reactEasyCrop_Contain",k==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",k==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",M)},o,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Ai(Ai({},C),{transform:u||"translate(".concat(f,"px, ").concat(h,"px) rotate(").concat(p,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(L){return ue.createElement("source",Ai({key:L.src},L))})),this.state.cropSize&&ue.createElement("div",Ai({ref:this.cropperRef,style:Ai(Ai({},T),{width:x?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:x?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:DT("reactEasyCrop_CropArea",m==="round"&&"reactEasyCrop_CropAreaRound",y&&"reactEasyCrop_CropAreaGrid",R)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:ZLe,minZoom:KLe,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:QLe},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(ue.Component);function eOe(r,e){const t=document.createElement("canvas"),n=new Image;return n.src=r,new Promise(i=>{n.onload=()=>{t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.toBlob(s=>{const o=URL.createObjectURL(s);i(o)},"image/jpeg")}})}const tOe=async r=>new Promise(e=>{const t=new Image;t.src=r,t.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");n.width=t.width,n.height=t.height,i.drawImage(t,0,0);const a=i.getImageData(0,0,n.width,n.height),s=a.data;for(let l=0;l<s.length;l+=4){const c=(s[l]+s[l+1]+s[l+2])/3>128?255:0;s[l]=c,s[l+1]=c,s[l+2]=c}i.putImageData(a,0,0);const o=n.toDataURL("image/jpeg",1);e(o)}}),JF=ue.createContext({});function e5(r){const e=ue.useRef(null);return e.current===null&&(e.current=r()),e.current}const t5=typeof window<"u",Wne=t5?ue.useLayoutEffect:ue.useEffect,TD=ue.createContext(null);function r5(r,e){r.indexOf(e)===-1&&r.push(e)}function n5(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const hf=(r,e,t)=>t>e?e:t<r?r:t;let i5=()=>{};const df={},$ne=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function qne(r){return typeof r=="object"&&r!==null}const Yne=r=>/^0[^.\s]+$/u.test(r);function a5(r){let e;return()=>(e===void 0&&(e=r()),e)}const tl=r=>r,rOe=(r,e)=>t=>e(r(t)),pb=(...r)=>r.reduce(rOe),Jx=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};class s5{constructor(){this.subscriptions=[]}add(e){return r5(this.subscriptions,e),()=>n5(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $u=r=>r*1e3,qu=r=>r/1e3;function Xne(r,e){return e?r*(1e3/e):0}const Kne=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,nOe=1e-7,iOe=12;function aOe(r,e,t,n,i){let a,s,o=0;do s=e+(t-e)/2,a=Kne(s,n,i)-r,a>0?t=s:e=s;while(Math.abs(a)>nOe&&++o<iOe);return s}function vb(r,e,t,n){if(r===e&&t===n)return tl;const i=a=>aOe(a,0,1,r,t);return a=>a===0||a===1?a:Kne(i(a),e,n)}const Zne=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,Qne=r=>e=>1-r(1-e),Jne=vb(.33,1.53,.69,.99),o5=Qne(Jne),eie=Zne(o5),tie=r=>(r*=2)<1?.5*o5(r):.5*(2-Math.pow(2,-10*(r-1))),l5=r=>1-Math.sin(Math.acos(r)),rie=Qne(l5),nie=Zne(l5),sOe=vb(.42,0,1,1),oOe=vb(0,0,.58,1),iie=vb(.42,0,.58,1),lOe=r=>Array.isArray(r)&&typeof r[0]!="number",aie=r=>Array.isArray(r)&&typeof r[0]=="number",uOe={linear:tl,easeIn:sOe,easeInOut:iie,easeOut:oOe,circIn:l5,circInOut:nie,circOut:rie,backIn:o5,backInOut:eie,backOut:Jne,anticipate:tie},cOe=r=>typeof r=="string",TG=r=>{if(aie(r)){i5(r.length===4);const[e,t,n,i]=r;return vb(e,t,n,i)}else if(cOe(r))return uOe[r];return r},IT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fOe(r,e){let t=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),r()),c(o)}const u={schedule:(c,f=!1,h=!1)=>{const v=h&&i?t:n;return f&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){a=!0;return}i=!0,[t,n]=[n,t],t.forEach(l),t.clear(),i=!1,a&&(a=!1,u.process(c))}};return u}const hOe=40;function sie(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=IT.reduce((b,T)=>(b[T]=fOe(a),b),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:p,postRender:v}=s,m=()=>{const b=df.useManualTiming?i.timestamp:performance.now();t=!1,df.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,hOe),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),v.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(m))},y=()=>{t=!0,n=!0,i.isProcessing||r(m)};return{schedule:IT.reduce((b,T)=>{const C=s[T];return b[T]=(D,E=!1,R=!1)=>(t||y(),C.schedule(D,E,R)),b},{}),cancel:b=>{for(let T=0;T<IT.length;T++)s[IT[T]].cancel(b)},state:i,steps:s}}const{schedule:xn,cancel:id,state:ra,steps:hk}=sie(typeof requestAnimationFrame<"u"?requestAnimationFrame:tl,!0);let oA;function dOe(){oA=void 0}const Bs={now:()=>(oA===void 0&&Bs.set(ra.isProcessing||df.useManualTiming?ra.timestamp:performance.now()),oA),set:r=>{oA=r,queueMicrotask(dOe)}},oie=r=>e=>typeof e=="string"&&e.startsWith(r),u5=oie("--"),pOe=oie("var(--"),c5=r=>pOe(r)?vOe.test(r.split("/*")[0].trim()):!1,vOe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vy={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},ew={...vy,transform:r=>hf(0,1,r)},RT={...vy,default:1},lx=r=>Math.round(r*1e5)/1e5,f5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gOe(r){return r==null}const mOe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h5=(r,e)=>t=>!!(typeof t=="string"&&mOe.test(t)&&t.startsWith(r)||e&&!gOe(t)&&Object.prototype.hasOwnProperty.call(t,e)),lie=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(f5);return{[r]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},yOe=r=>hf(0,255,r),dk={...vy,transform:r=>Math.round(yOe(r))},Qp={test:h5("rgb","red"),parse:lie("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+dk.transform(r)+", "+dk.transform(e)+", "+dk.transform(t)+", "+lx(ew.transform(n))+")"};function _Oe(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const aN={test:h5("#"),parse:_Oe,transform:Qp.transform},gb=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),sh=gb("deg"),Yu=gb("%"),Bt=gb("px"),xOe=gb("vh"),wOe=gb("vw"),AG={...Yu,parse:r=>Yu.parse(r)/100,transform:r=>Yu.transform(r*100)},$0={test:h5("hsl","hue"),parse:lie("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Yu.transform(lx(e))+", "+Yu.transform(lx(t))+", "+lx(ew.transform(n))+")"},hi={test:r=>Qp.test(r)||aN.test(r)||$0.test(r),parse:r=>Qp.test(r)?Qp.parse(r):$0.test(r)?$0.parse(r):aN.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Qp.transform(r):$0.transform(r),getAnimatableNone:r=>{const e=hi.parse(r);return e.alpha=0,hi.transform(e)}},bOe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SOe(r){return isNaN(r)&&typeof r=="string"&&(r.match(f5)?.length||0)+(r.match(bOe)?.length||0)>0}const uie="number",cie="color",TOe="var",AOe="var(",EG="${}",EOe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tw(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(EOe,l=>(hi.test(l)?(n.color.push(a),i.push(cie),t.push(hi.parse(l))):l.startsWith(AOe)?(n.var.push(a),i.push(TOe),t.push(l)):(n.number.push(a),i.push(uie),t.push(parseFloat(l))),++a,EG)).split(EG);return{values:t,split:o,indexes:n,types:i}}function fie(r){return tw(r).values}function hie(r){const{split:e,types:t}=tw(r),n=e.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=e[s],i[s]!==void 0){const o=t[s];o===uie?a+=lx(i[s]):o===cie?a+=hi.transform(i[s]):a+=i[s]}return a}}const COe=r=>typeof r=="number"?0:hi.test(r)?hi.getAnimatableNone(r):r;function DOe(r){const e=fie(r);return hie(r)(e.map(COe))}const ad={test:SOe,parse:fie,createTransformer:hie,getAnimatableNone:DOe};function pk(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function IOe({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,a=0,s=0;if(!e)i=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=pk(l,o,r+1/3),a=pk(l,o,r),s=pk(l,o,r-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function TE(r,e){return t=>t>0?e:r}const Tn=(r,e,t)=>r+(e-r)*t,vk=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},ROe=[aN,Qp,$0],MOe=r=>ROe.find(e=>e.test(r));function CG(r){const e=MOe(r);if(!e)return!1;let t=e.parse(r);return e===$0&&(t=IOe(t)),t}const DG=(r,e)=>{const t=CG(r),n=CG(e);if(!t||!n)return TE(r,e);const i={...t};return a=>(i.red=vk(t.red,n.red,a),i.green=vk(t.green,n.green,a),i.blue=vk(t.blue,n.blue,a),i.alpha=Tn(t.alpha,n.alpha,a),Qp.transform(i))},sN=new Set(["none","hidden"]);function kOe(r,e){return sN.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function POe(r,e){return t=>Tn(r,e,t)}function d5(r){return typeof r=="number"?POe:typeof r=="string"?c5(r)?TE:hi.test(r)?DG:NOe:Array.isArray(r)?die:typeof r=="object"?hi.test(r)?DG:LOe:TE}function die(r,e){const t=[...r],n=t.length,i=r.map((a,s)=>d5(a)(a,e[s]));return a=>{for(let s=0;s<n;s++)t[s]=i[s](a);return t}}function LOe(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=d5(r[i])(r[i],e[i]));return i=>{for(const a in n)t[a]=n[a](i);return t}}function OOe(r,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=r.indexes[a][n[a]],o=r.values[s]??0;t[i]=o,n[a]++}return t}const NOe=(r,e)=>{const t=ad.createTransformer(e),n=tw(r),i=tw(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?sN.has(r)&&!i.values.length||sN.has(e)&&!n.values.length?kOe(r,e):pb(die(OOe(n,i),i.values),t):TE(r,e)};function pie(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Tn(r,e,t):d5(r)(r,e)}const FOe=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>xn.update(e,t),stop:()=>id(e),now:()=>ra.isProcessing?ra.timestamp:Bs.now()}},vie=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)n+=Math.round(r(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},AE=2e4;function p5(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<AE;)e+=t,n=r.next(e);return e>=AE?1/0:e}function BOe(r,e=100,t){const n=t({...r,keyframes:[0,e]}),i=Math.min(p5(n),AE);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:qu(i)}}const VOe=5;function gie(r,e,t){const n=Math.max(e-VOe,0);return Xne(t-r(n),e-n)}const kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gk=.001;function zOe({duration:r=kn.duration,bounce:e=kn.bounce,velocity:t=kn.velocity,mass:n=kn.mass}){let i,a,s=1-e;s=hf(kn.minDamping,kn.maxDamping,s),r=hf(kn.minDuration,kn.maxDuration,qu(r)),s<1?(i=u=>{const c=u*s,f=c*r,h=c-t,p=oN(u,s),v=Math.exp(-f);return gk-h/p*v},a=u=>{const f=u*s*r,h=f*t+t,p=Math.pow(s,2)*Math.pow(u,2)*r,v=Math.exp(-f),m=oN(Math.pow(u,2),s);return(-i(u)+gk>0?-1:1)*((h-p)*v)/m}):(i=u=>{const c=Math.exp(-u*r),f=(u-t)*r+1;return-gk+c*f},a=u=>{const c=Math.exp(-u*r),f=(t-u)*(r*r);return c*f});const o=5/r,l=HOe(i,a,o);if(r=$u(r),isNaN(l))return{stiffness:kn.stiffness,damping:kn.damping,duration:r};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:r}}}const UOe=12;function HOe(r,e,t){let n=t;for(let i=1;i<UOe;i++)n=n-r(n)/e(n);return n}function oN(r,e){return r*Math.sqrt(1-e*e)}const GOe=["duration","bounce"],jOe=["stiffness","damping","mass"];function IG(r,e){return e.some(t=>r[t]!==void 0)}function WOe(r){let e={velocity:kn.velocity,stiffness:kn.stiffness,damping:kn.damping,mass:kn.mass,isResolvedFromDuration:!1,...r};if(!IG(r,jOe)&&IG(r,GOe))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,a=2*hf(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:kn.mass,stiffness:i,damping:a}}else{const t=zOe(r);e={...e,...t,mass:kn.mass},e.isResolvedFromDuration=!0}return e}function EE(r=kn.visualDuration,e=kn.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:p}=WOe({...t,velocity:-qu(t.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(l*c)),y=s-a,x=qu(Math.sqrt(l/c)),w=Math.abs(y)<5;n||(n=w?kn.restSpeed.granular:kn.restSpeed.default),i||(i=w?kn.restDelta.granular:kn.restDelta.default);let b;if(m<1){const C=oN(x,m);b=D=>{const E=Math.exp(-m*x*D);return s-E*((v+m*x*y)/C*Math.sin(C*D)+y*Math.cos(C*D))}}else if(m===1)b=C=>s-Math.exp(-x*C)*(y+(v+x*y)*C);else{const C=x*Math.sqrt(m*m-1);b=D=>{const E=Math.exp(-m*x*D),R=Math.min(C*D,300);return s-E*((v+m*x*y)*Math.sinh(R)+C*y*Math.cosh(R))/C}}const T={calculatedDuration:p&&f||null,next:C=>{const D=b(C);if(p)o.done=C>=f;else{let E=C===0?v:0;m<1&&(E=C===0?$u(v):gie(b,C,D));const R=Math.abs(E)<=n,M=Math.abs(s-D)<=i;o.done=R&&M}return o.value=o.done?s:D,o},toString:()=>{const C=Math.min(p5(T),AE),D=vie(E=>T.next(C*E).value,C,30);return C+"ms "+D},toTransition:()=>{}};return T}EE.applyToOptions=r=>{const e=BOe(r,100,EE);return r.ease=e.ease,r.duration=$u(e.duration),r.type="keyframes",r};function lN({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=r[0],h={done:!1,value:f},p=R=>o!==void 0&&R<o||l!==void 0&&R>l,v=R=>o===void 0?l:l===void 0||Math.abs(o-R)<Math.abs(l-R)?o:l;let m=t*e;const y=f+m,x=s===void 0?y:s(y);x!==y&&(m=x-f);const w=R=>-m*Math.exp(-R/n),b=R=>x+w(R),T=R=>{const M=w(R),k=b(R);h.done=Math.abs(M)<=u,h.value=h.done?x:k};let C,D;const E=R=>{p(h.value)&&(C=R,D=EE({keyframes:[h.value,v(h.value)],velocity:gie(b,R,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:R=>{let M=!1;return!D&&C===void 0&&(M=!0,T(R),E(R)),C!==void 0&&R>=C?D.next(R-C):(!M&&T(R),h)}}}function $Oe(r,e,t){const n=[],i=t||df.mix||pie,a=r.length-1;for(let s=0;s<a;s++){let o=i(r[s],r[s+1]);if(e){const l=Array.isArray(e)?e[s]||tl:e;o=pb(l,o)}n.push(o)}return n}function qOe(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const a=r.length;if(i5(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=r[0]===r[1];r[0]>r[a-1]&&(r=[...r].reverse(),e=[...e].reverse());const o=$Oe(e,n,i),l=o.length,u=c=>{if(s&&c<r[0])return e[0];let f=0;if(l>1)for(;f<r.length-2&&!(c<r[f+1]);f++);const h=Jx(r[f],r[f+1],c);return o[f](h)};return t?c=>u(hf(r[0],r[a-1],c)):u}function YOe(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Jx(0,e,n);r.push(Tn(t,1,i))}}function XOe(r){const e=[0];return YOe(e,r.length-1),e}function KOe(r,e){return r.map(t=>t*e)}function ZOe(r,e){return r.map(()=>e||iie).splice(0,r.length-1)}function ux({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=lOe(n)?n.map(TG):TG(n),a={done:!1,value:e[0]},s=KOe(t&&t.length===e.length?t:XOe(e),r),o=qOe(s,e,{ease:Array.isArray(i)?i:ZOe(e,i)});return{calculatedDuration:r,next:l=>(a.value=o(l),a.done=l>=r,a)}}const QOe=r=>r!==null;function v5(r,{repeat:e,repeatType:t="loop"},n,i=1){const a=r.filter(QOe),o=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const JOe={decay:lN,inertia:lN,tween:ux,keyframes:ux,spring:EE};function mie(r){typeof r.type=="string"&&(r.type=JOe[r.type])}class g5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const eNe=r=>r/100;class m5 extends g5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Bs.now()&&this.tick(Bs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mie(e);const{type:t=ux,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=t||ux;l!==ux&&typeof o[0]!="number"&&(this.mixKeyframes=pb(eNe,pie(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=p5(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:p,type:v,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,T=n;if(f){const R=Math.min(this.currentTime,i)/o;let M=Math.floor(R),k=R%1;!k&&R>=1&&(k=1),k===1&&M--,M=Math.min(M,f+1),!!(M%2)&&(h==="reverse"?(k=1-k,p&&(k-=p/o)):h==="mirror"&&(T=s)),b=hf(0,1,k)*o}const C=w?{done:!1,value:c[0]}:T.next(b);a&&(C.value=a(C.value));let{done:D}=C;!w&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&v!==lN&&(C.value=v5(c,this.options,y,this.speed)),m&&m(C.value),E&&this.finish(),C}then(e,t){return this.finished.then(e,t)}get duration(){return qu(this.calculatedDuration)}get time(){return qu(this.currentTime)}set time(e){e=$u(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=FOe,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function tNe(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const Jp=r=>r*180/Math.PI,uN=r=>{const e=Jp(Math.atan2(r[1],r[0]));return cN(e)},rNe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:uN,rotateZ:uN,skewX:r=>Jp(Math.atan(r[1])),skewY:r=>Jp(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},cN=r=>(r=r%360,r<0&&(r+=360),r),RG=uN,MG=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),kG=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),nNe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MG,scaleY:kG,scale:r=>(MG(r)+kG(r))/2,rotateX:r=>cN(Jp(Math.atan2(r[6],r[5]))),rotateY:r=>cN(Jp(Math.atan2(-r[2],r[0]))),rotateZ:RG,rotate:RG,skewX:r=>Jp(Math.atan(r[4])),skewY:r=>Jp(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function fN(r){return r.includes("scale")?1:0}function hN(r,e){if(!r||r==="none")return fN(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=nNe,i=t;else{const o=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=rNe,i=o}if(!i)return fN(e);const a=n[e],s=i[1].split(",").map(aNe);return typeof a=="function"?a(s):s[a]}const iNe=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return hN(t,e)};function aNe(r){return parseFloat(r.trim())}const gy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],my=new Set(gy),PG=r=>r===vy||r===Bt,sNe=new Set(["x","y","z"]),oNe=gy.filter(r=>!sNe.has(r));function lNe(r){const e=[];return oNe.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const dv={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>hN(e,"x"),y:(r,{transform:e})=>hN(e,"y")};dv.translateX=dv.x;dv.translateY=dv.y;const pv=new Set;let dN=!1,pN=!1,vN=!1;function yie(){if(pN){const r=Array.from(pv).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=lNe(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([a,s])=>{n.getValue(a)?.set(s)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}pN=!1,dN=!1,pv.forEach(r=>r.complete(vN)),pv.clear()}function _ie(){pv.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(pN=!0)})}function uNe(){vN=!0,_ie(),yie(),vN=!1}class y5{constructor(e,t,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(pv.add(this),dN||(dN=!0,xn.read(_ie),xn.resolveKeyframes(yie))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const o=n.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}tNe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),pv.delete(this)}cancel(){this.state==="scheduled"&&(pv.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cNe=r=>r.startsWith("--");function fNe(r,e,t){cNe(e)?r.style.setProperty(e,t):r.style[e]=t}const hNe=a5(()=>window.ScrollTimeline!==void 0),dNe={};function pNe(r,e){const t=a5(r);return()=>dNe[e]??t()}const xie=pNe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),F_=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,LG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:F_([0,.65,.55,1]),circOut:F_([.55,0,1,.45]),backIn:F_([.31,.01,.66,-.59]),backOut:F_([.33,1.53,.69,.99])};function wie(r,e){if(r)return typeof r=="function"?xie()?vie(r,e):"ease-out":aie(r)?F_(r):Array.isArray(r)?r.map(t=>wie(t,e)||LG.easeOut):LG[r]}function vNe(r,e,t,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const f=wie(o,i);Array.isArray(f)&&(c.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),r.animate(c,h)}function bie(r){return typeof r=="function"&&"applyToOptions"in r}function gNe({type:r,...e}){return bie(r)&&xie()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mNe extends g5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,i5(typeof e.type!="string");const u=gNe(e);this.animation=vNe(t,n,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=v5(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):fNe(t,n,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return qu(Number(e))}get time(){return qu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$u(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hNe()?(this.animation.timeline=e,tl):t(this)}}const Sie={anticipate:tie,backInOut:eie,circInOut:nie};function yNe(r){return r in Sie}function _Ne(r){typeof r.ease=="string"&&yNe(r.ease)&&(r.ease=Sie[r.ease])}const OG=10;class xNe extends mNe{constructor(e){_Ne(e),mie(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new m5({...s,autoplay:!1}),l=$u(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-OG).value,o.sample(l).value,OG),o.stop()}}const NG=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ad.test(r)||r==="0")&&!r.startsWith("url("));function wNe(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function bNe(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=r[r.length-1],s=NG(i,e),o=NG(a,e);return!s||!o?!1:wNe(r)||(t==="spring"||bie(t))&&n}function gN(r){r.duration=0,r.type}const SNe=new Set(["opacity","clipPath","filter","transform"]),TNe=a5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ANe(r){const{motionValue:e,name:t,repeatDelay:n,repeatType:i,damping:a,type:s}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return TNe()&&t&&SNe.has(t)&&(t!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const ENe=40;class CNe extends g5{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:c,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bs.now();const h={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:c,...f},p=c?.KeyframeResolver||y5;this.keyframeResolver=new p(o,(v,m,y)=>this.onKeyframesResolved(v,m,h,!y),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=Bs.now(),bNe(e,a,s,o)||((df.instantAnimations||!l)&&c?.(v5(e,n,t)),e[0]=e[e.length-1],gN(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ENe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},p=!u&&ANe(h)?new xNe({...h,element:h.motionValue.owner.current}):new m5(h);p.finished.then(()=>this.notifyFinished()).catch(tl),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),uNe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DNe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function INe(r){const e=DNe.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function Tie(r,e,t=1){const[n,i]=INe(r);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const s=a.trim();return $ne(s)?parseFloat(s):s}return c5(i)?Tie(i,e,t+1):i}function _5(r,e){return r?.[e]??r?.default??r}const Aie=new Set(["width","height","top","left","right","bottom",...gy]),RNe={test:r=>r==="auto",parse:r=>r},Eie=r=>e=>e.test(r),Cie=[vy,Bt,Yu,sh,wOe,xOe,RNe],FG=r=>Cie.find(Eie(r));function MNe(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Yne(r):!0}const kNe=new Set(["brightness","contrast","saturate","opacity"]);function PNe(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(f5)||[];if(!n)return r;const i=t.replace(n,"");let a=kNe.has(e)?1:0;return n!==t&&(a*=100),e+"("+a+i+")"}const LNe=/\b([a-z-]*)\(.*?\)/gu,mN={...ad,getAnimatableNone:r=>{const e=r.match(LNe);return e?e.map(PNe).join(" "):r}},BG={...vy,transform:Math.round},ONe={rotate:sh,rotateX:sh,rotateY:sh,rotateZ:sh,scale:RT,scaleX:RT,scaleY:RT,scaleZ:RT,skew:sh,skewX:sh,skewY:sh,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:ew,originX:AG,originY:AG,originZ:Bt},x5={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt,...ONe,zIndex:BG,fillOpacity:ew,strokeOpacity:ew,numOctaves:BG},NNe={...x5,color:hi,backgroundColor:hi,outlineColor:hi,fill:hi,stroke:hi,borderColor:hi,borderTopColor:hi,borderRightColor:hi,borderBottomColor:hi,borderLeftColor:hi,filter:mN,WebkitFilter:mN},Die=r=>NNe[r];function Iie(r,e){let t=Die(r);return t!==mN&&(t=ad),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const FNe=new Set(["auto","none","0"]);function BNe(r,e,t){let n=0,i;for(;n<r.length&&!i;){const a=r[n];typeof a=="string"&&!FNe.has(a)&&tw(a).values.length&&(i=r[n]),n++}if(i&&t)for(const a of e)r[a]=Iie(t,i)}class VNe extends y5{constructor(e,t,n,i,a){super(e,t,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),c5(u))){const c=Tie(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Aie.has(n)||e.length!==2)return;const[i,a]=e,s=FG(i),o=FG(a);if(s!==o)if(PG(s)&&PG(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else dv[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||MNe(e[i]))&&n.push(i);n.length&&BNe(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dv[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=dv[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function zNe(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const i=t?.[r]??n.querySelectorAll(r);return i?Array.from(i):[]}return Array.from(r)}const Rie=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function Mie(r){return qne(r)&&"offsetHeight"in r}const VG=30,UNe=r=>!isNaN(parseFloat(r));class HNe{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Bs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Bs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UNe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new s5);const n=this.events[e].add(t);return e==="change"?()=>{n(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>VG)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,VG);return Xne(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Um(r,e){return new HNe(r,e)}const{schedule:w5}=sie(queueMicrotask,!1),Tl={x:!1,y:!1};function kie(){return Tl.x||Tl.y}function GNe(r){return r==="x"||r==="y"?Tl[r]?null:(Tl[r]=!0,()=>{Tl[r]=!1}):Tl.x||Tl.y?null:(Tl.x=Tl.y=!0,()=>{Tl.x=Tl.y=!1})}function Pie(r,e){const t=zNe(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function zG(r){return!(r.pointerType==="touch"||kie())}function jNe(r,e,t={}){const[n,i,a]=Pie(r,t),s=o=>{if(!zG(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=f=>{zG(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const Lie=(r,e)=>e?r===e?!0:Lie(r,e.parentElement):!1,b5=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,WNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $Ne(r){return WNe.has(r.tagName)||r.tabIndex!==-1}const lA=new WeakSet;function UG(r){return e=>{e.key==="Enter"&&r(e)}}function mk(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qNe=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=UG(()=>{if(lA.has(t))return;mk(t,"down");const i=UG(()=>{mk(t,"up")}),a=()=>mk(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function HG(r){return b5(r)&&!kie()}function YNe(r,e,t={}){const[n,i,a]=Pie(r,t),s=o=>{const l=o.currentTarget;if(!HG(o))return;lA.add(l);const u=e(l,o),c=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),lA.has(l)&&lA.delete(l),HG(p)&&typeof u=="function"&&u(p,{success:v})},f=p=>{c(p,l===window||l===document||t.useGlobalTarget||Lie(l,p.target))},h=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),Mie(o)&&(o.addEventListener("focus",u=>qNe(u,i)),!$Ne(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Oie(r){return qne(r)&&"ownerSVGElement"in r}function XNe(r){return Oie(r)&&r.tagName==="svg"}const La=r=>!!(r&&r.getVelocity),KNe=[...Cie,hi,ad],ZNe=r=>KNe.find(Eie(r)),S5=ue.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class QNe extends ue.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,i=Mie(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JNe({children:r,isPresent:e,anchorX:t,root:n}){const i=ue.useId(),a=ue.useRef(null),s=ue.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ue.useContext(S5);return ue.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:f,right:h}=s.current;if(e||!a.current||!l||!u)return;const p=t==="left"?`left: ${f}`:`right: ${h}`;a.current.dataset.motionPopId=i;const v=document.createElement("style");o&&(v.nonce=o);const m=n??document.head;return m.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{m.contains(v)&&m.removeChild(v)}},[e]),G.jsx(QNe,{isPresent:e,childRef:a,sizeRef:s,children:ue.cloneElement(r,{ref:a})})}const e4e=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const u=e5(t4e),c=ue.useId();let f=!0,h=ue.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:t,custom:i,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[t,u,n]);return a&&f&&(h={...h}),ue.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[t]),ue.useEffect(()=>{!t&&!u.size&&n&&n()},[t]),s==="popLayout"&&(r=G.jsx(JNe,{isPresent:t,anchorX:o,root:l,children:r})),G.jsx(TD.Provider,{value:h,children:r})};function t4e(){return new Map}function Nie(r=!0){const e=ue.useContext(TD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,a=ue.useId();ue.useEffect(()=>{if(r)return i(a)},[r]);const s=ue.useCallback(()=>r&&n&&n(a),[a,n,r]);return!t&&n?[!1,s]:[!0]}const MT=r=>r.key||"";function GG(r){const e=[];return ue.Children.forEach(r,t=>{ue.isValidElement(t)&&e.push(t)}),e}const jG=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[u,c]=Nie(s),f=ue.useMemo(()=>GG(r),[r]),h=s&&!u?[]:f.map(MT),p=ue.useRef(!0),v=ue.useRef(f),m=e5(()=>new Map),[y,x]=ue.useState(f),[w,b]=ue.useState(f);Wne(()=>{p.current=!1,v.current=f;for(let D=0;D<w.length;D++){const E=MT(w[D]);h.includes(E)?m.delete(E):m.get(E)!==!0&&m.set(E,!1)}},[w,h.length,h.join("-")]);const T=[];if(f!==y){let D=[...f];for(let E=0;E<w.length;E++){const R=w[E],M=MT(R);h.includes(M)||(D.splice(E,0,R),T.push(R))}return a==="wait"&&T.length&&(D=T),b(GG(D)),x(f),null}const{forceRender:C}=ue.useContext(JF);return G.jsx(G.Fragment,{children:w.map(D=>{const E=MT(D),R=s&&!u?!1:f===w||h.includes(E),M=()=>{if(m.has(E))m.set(E,!0);else return;let k=!0;m.forEach(L=>{L||(k=!1)}),k&&(C?.(),b(v.current),s&&c?.(),n&&n())};return G.jsx(e4e,{isPresent:R,initial:!p.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:R?void 0:M,anchorX:o,children:D},E)})})},Fie=ue.createContext({strict:!1}),WG={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hm={};for(const r in WG)Hm[r]={isEnabled:e=>WG[r].some(t=>!!e[t])};function r4e(r){for(const e in r)Hm[e]={...Hm[e],...r[e]}}const n4e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function CE(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||n4e.has(r)}let Bie=r=>!CE(r);function i4e(r){typeof r=="function"&&(Bie=e=>e.startsWith("on")?!CE(e):r(e))}try{i4e(require("@emotion/is-prop-valid").default)}catch{}function a4e(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(Bie(i)||t===!0&&CE(i)||!e&&!CE(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}const AD=ue.createContext({});function ED(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function rw(r){return typeof r=="string"||Array.isArray(r)}const T5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A5=["initial",...T5];function CD(r){return ED(r.animate)||A5.some(e=>rw(r[e]))}function Vie(r){return!!(CD(r)||r.variants)}function s4e(r,e){if(CD(r)){const{initial:t,animate:n}=r;return{initial:t===!1||rw(t)?t:void 0,animate:rw(n)?n:void 0}}return r.inherit!==!1?e:{}}function o4e(r){const{initial:e,animate:t}=s4e(r,ue.useContext(AD));return ue.useMemo(()=>({initial:e,animate:t}),[$G(e),$G(t)])}function $G(r){return Array.isArray(r)?r.join(" "):r}const nw={};function l4e(r){for(const e in r)nw[e]=r[e],u5(e)&&(nw[e].isCSSVariable=!0)}function zie(r,{layout:e,layoutId:t}){return my.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!nw[r]||r==="opacity")}const u4e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c4e=gy.length;function f4e(r,e,t){let n="",i=!0;for(let a=0;a<c4e;a++){const s=gy[a],o=r[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=Rie(o,x5[s]);if(!l){i=!1;const c=u4e[s]||s;n+=`${c}(${u}) `}t&&(e[s]=u)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function E5(r,e,t){const{style:n,vars:i,transformOrigin:a}=r;let s=!1,o=!1;for(const l in e){const u=e[l];if(my.has(l)){s=!0;continue}else if(u5(l)){i[l]=u;continue}else{const c=Rie(u,x5[l]);l.startsWith("origin")?(o=!0,a[l]=c):n[l]=c}}if(e.transform||(s||t?n.transform=f4e(e,r.transform,t):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;n.transformOrigin=`${l} ${u} ${c}`}}const C5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uie(r,e,t){for(const n in e)!La(e[n])&&!zie(n,t)&&(r[n]=e[n])}function h4e({transformTemplate:r},e){return ue.useMemo(()=>{const t=C5();return E5(t,e,r),Object.assign({},t.vars,t.style)},[e])}function d4e(r,e){const t=r.style||{},n={};return Uie(n,t,r),Object.assign(n,h4e(r,e)),n}function p4e(r,e){const t={},n=d4e(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const v4e={offset:"stroke-dashoffset",array:"stroke-dasharray"},g4e={offset:"strokeDashoffset",array:"strokeDasharray"};function m4e(r,e,t=1,n=0,i=!0){r.pathLength=1;const a=i?v4e:g4e;r[a.offset]=Bt.transform(-n);const s=Bt.transform(e),o=Bt.transform(t);r[a.array]=`${s} ${o}`}function Hie(r,{attrX:e,attrY:t,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(E5(r,o,u),l){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:h}=r;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),n!==void 0&&(f.scale=n),i!==void 0&&m4e(f,i,a,s,!1)}const Gie=()=>({...C5(),attrs:{}}),jie=r=>typeof r=="string"&&r.toLowerCase()==="svg";function y4e(r,e,t,n){const i=ue.useMemo(()=>{const a=Gie();return Hie(a,e,jie(n),r.transformTemplate,r.style),{...a.attrs,style:{...a.style}}},[e]);if(r.style){const a={};Uie(a,r.style,r),i.style={...a,...i.style}}return i}const _4e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D5(r){return typeof r!="string"||r.includes("-")?!1:!!(_4e.indexOf(r)>-1||/[A-Z]/u.test(r))}function x4e(r,e,t,{latestValues:n},i,a=!1){const o=(D5(r)?y4e:p4e)(e,n,i,r),l=a4e(e,typeof r=="string",a),u=r!==ue.Fragment?{...l,...o,ref:t}:{},{children:c}=e,f=ue.useMemo(()=>La(c)?c.get():c,[c]);return ue.createElement(r,{...u,children:f})}function qG(r){const e=[{},{}];return r?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function I5(r,e,t,n){if(typeof e=="function"){const[i,a]=qG(n);e=e(t!==void 0?t:r.custom,i,a)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,a]=qG(n);e=e(t!==void 0?t:r.custom,i,a)}return e}function uA(r){return La(r)?r.get():r}function w4e({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,i){return{latestValues:b4e(t,n,i,r),renderState:e()}}function b4e(r,e,t,n){const i={},a=n(r,{});for(const h in a)i[h]=uA(a[h]);let{initial:s,animate:o}=r;const l=CD(r),u=Vie(r);e&&u&&!l&&r.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const f=c?o:s;if(f&&typeof f!="boolean"&&!ED(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=I5(r,h[p]);if(v){const{transitionEnd:m,transition:y,...x}=v;for(const w in x){let b=x[w];if(Array.isArray(b)){const T=c?b.length-1:0;b=b[T]}b!==null&&(i[w]=b)}for(const w in m)i[w]=m[w]}}}return i}const Wie=r=>(e,t)=>{const n=ue.useContext(AD),i=ue.useContext(TD),a=()=>w4e(r,e,n,i);return t?a():e5(a)};function R5(r,e,t){const{style:n}=r,i={};for(const a in n)(La(n[a])||e.style&&La(e.style[a])||zie(a,r)||t?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const S4e=Wie({scrapeMotionValuesFromProps:R5,createRenderState:C5});function $ie(r,e,t){const n=R5(r,e,t);for(const i in r)if(La(r[i])||La(e[i])){const a=gy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=r[i]}return n}const T4e=Wie({scrapeMotionValuesFromProps:$ie,createRenderState:Gie}),A4e=Symbol.for("motionComponentSymbol");function q0(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function E4e(r,e,t){return ue.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):q0(t)&&(t.current=n))},[e])}const M5=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C4e="framerAppearId",qie="data-"+M5(C4e),Yie=ue.createContext({});function D4e(r,e,t,n,i){const{visualElement:a}=ue.useContext(AD),s=ue.useContext(Fie),o=ue.useContext(TD),l=ue.useContext(S5).reducedMotion,u=ue.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(r,{visualState:e,parent:a,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=ue.useContext(Yie);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&I4e(u.current,t,i,f);const h=ue.useRef(!1);ue.useInsertionEffect(()=>{c&&h.current&&c.update(t,o)});const p=t[qie],v=ue.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Wne(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),ue.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),v.current=!1),c.enteringChildren=void 0)}),c}function I4e(r,e,t,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:Xie(r.parent)),r.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&q0(o),visualElement:r,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function Xie(r){if(r)return r.options.allowProjection!==!1?r.projection:Xie(r.parent)}function yk(r,{forwardMotionProps:e=!1}={},t,n){t&&r4e(t);const i=D5(r)?T4e:S4e;function a(o,l){let u;const c={...ue.useContext(S5),...o,layoutId:R4e(o)},{isStatic:f}=c,h=o4e(o),p=i(o,f);if(!f&&t5){M4e();const v=k4e(c);u=v.MeasureLayout,h.visualElement=D4e(r,p,c,n,v.ProjectionNode)}return G.jsxs(AD.Provider,{value:h,children:[u&&h.visualElement?G.jsx(u,{visualElement:h.visualElement,...c}):null,x4e(r,o,E4e(p,h.visualElement,l),p,f,e)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const s=ue.forwardRef(a);return s[A4e]=r,s}function R4e({layoutId:r}){const e=ue.useContext(JF).id;return e&&r!==void 0?e+"-"+r:r}function M4e(r,e){ue.useContext(Fie).strict}function k4e(r){const{drag:e,layout:t}=Hm;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function P4e(r,e){if(typeof Proxy>"u")return yk;const t=new Map,n=(a,s)=>yk(a,s,r,e),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(t.has(s)||t.set(s,yk(s,void 0,r,e)),t.get(s))})}function Kie({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function L4e({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function O4e(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function _k(r){return r===void 0||r===1}function yN({scale:r,scaleX:e,scaleY:t}){return!_k(r)||!_k(e)||!_k(t)}function Pp(r){return yN(r)||Zie(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Zie(r){return YG(r.x)||YG(r.y)}function YG(r){return r&&r!=="0%"}function DE(r,e,t){const n=r-t,i=e*n;return t+i}function XG(r,e,t,n,i){return i!==void 0&&(r=DE(r,i,n)),DE(r,t,n)+e}function _N(r,e=0,t=1,n,i){r.min=XG(r.min,e,t,n,i),r.max=XG(r.max,e,t,n,i)}function Qie(r,{x:e,y:t}){_N(r.x,e.translate,e.scale,e.originPoint),_N(r.y,t.translate,t.scale,t.originPoint)}const KG=.999999999999,ZG=1.0000000000001;function N4e(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=t[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&X0(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Qie(r,s)),n&&Pp(a.latestValues)&&X0(r,a.latestValues))}e.x<ZG&&e.x>KG&&(e.x=1),e.y<ZG&&e.y>KG&&(e.y=1)}function Y0(r,e){r.min=r.min+e,r.max=r.max+e}function QG(r,e,t,n,i=.5){const a=Tn(r.min,r.max,i);_N(r,e,t,a,n)}function X0(r,e){QG(r.x,e.x,e.scaleX,e.scale,e.originX),QG(r.y,e.y,e.scaleY,e.scale,e.originY)}function Jie(r,e){return Kie(O4e(r.getBoundingClientRect(),e))}function F4e(r,e,t){const n=Jie(r,t),{scroll:i}=e;return i&&(Y0(n.x,i.offset.x),Y0(n.y,i.offset.y)),n}const JG=()=>({translate:0,scale:1,origin:0,originPoint:0}),K0=()=>({x:JG(),y:JG()}),ej=()=>({min:0,max:0}),Wn=()=>({x:ej(),y:ej()}),xN={current:null},eae={current:!1};function B4e(){if(eae.current=!0,!!t5)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>xN.current=r.matches;r.addEventListener("change",e),e()}else xN.current=!1}const V4e=new WeakMap;function z4e(r,e,t){for(const n in e){const i=e[n],a=t[n];if(La(i))r.addValue(n,i);else if(La(a))r.addValue(n,Um(i,{owner:r}));else if(a!==i)if(r.hasValue(n)){const s=r.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=r.getStaticValue(n);r.addValue(n,Um(s!==void 0?s:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const tj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U4e{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Bs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,xn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=CD(t),this.isVariantNode=Vie(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&La(p)&&p.set(l[h])}}mount(e){this.current=e,V4e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),eae.current||B4e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xN.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),id(this.notifyUpdate),id(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=my.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&xn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hm){const t=Hm[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<tj.length;n++){const i=tj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=z4e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Um(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&($ne(n)||Yne(n))?n=parseFloat(n):!ZNe(n)&&ad.test(t)&&(n=Iie(e,t)),this.setBaseTarget(e,La(n)?n.get():n)),La(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=I5(this.props,t,this.presenceContext?.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!La(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new s5),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){w5.render(this.render)}}class tae extends U4e{constructor(){super(...arguments),this.KeyframeResolver=VNe}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;La(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function rae(r,{style:e,vars:t},n,i){const a=r.style;let s;for(s in e)a[s]=e[s];i?.applyProjectionStyles(a,n);for(s in t)a.setProperty(s,t[s])}function H4e(r){return window.getComputedStyle(r)}class G4e extends tae{constructor(){super(...arguments),this.type="html",this.renderInstance=rae}readValueFromInstance(e,t){if(my.has(t))return this.projection?.isProjecting?fN(t):iNe(e,t);{const n=H4e(e),i=(u5(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Jie(e,t)}build(e,t,n){E5(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return R5(e,t,n)}}const nae=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j4e(r,e,t,n){rae(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(nae.has(i)?i:M5(i),e.attrs[i])}class W4e extends tae{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(my.has(t)){const n=Die(t);return n&&n.default||0}return t=nae.has(t)?t:M5(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return $ie(e,t,n)}build(e,t,n){Hie(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){j4e(e,t,n,i)}mount(e){this.isSVGTag=jie(e.tagName),super.mount(e)}}const $4e=(r,e)=>D5(r)?new W4e(e):new G4e(e,{allowProjection:r!==ue.Fragment});function pm(r,e,t){const n=r.getProps();return I5(n,e,t!==void 0?t:n.custom,r)}const wN=r=>Array.isArray(r);function q4e(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Um(t))}function Y4e(r){return wN(r)?r[r.length-1]||0:r}function X4e(r,e){const t=pm(r,e);let{transitionEnd:n={},transition:i={},...a}=t||{};a={...a,...n};for(const s in a){const o=Y4e(a[s]);q4e(r,s,o)}}function K4e(r){return!!(La(r)&&r.add)}function bN(r,e){const t=r.getValue("willChange");if(K4e(t))return t.add(e);if(!t&&df.WillChange){const n=new df.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function iae(r){return r.props[qie]}const Z4e=r=>r!==null;function Q4e(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(Z4e),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const J4e={type:"spring",stiffness:500,damping:25,restSpeed:10},e3e=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),t3e={type:"keyframes",duration:.8},r3e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n3e=(r,{keyframes:e})=>e.length>2?t3e:my.has(r)?r.startsWith("scale")?e3e(e[1]):J4e:r3e;function i3e({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const k5=(r,e,t,n={},i,a)=>s=>{const o=_5(n,r)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-$u(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:r,motionValue:e,element:a?void 0:i};i3e(o)||Object.assign(c,n3e(r,c)),c.duration&&(c.duration=$u(c.duration)),c.repeatDelay&&(c.repeatDelay=$u(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(gN(c),c.delay===0&&(f=!0)),(df.instantAnimations||df.skipAnimations)&&(f=!0,gN(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const h=Q4e(c.keyframes,o);if(h!==void 0){xn.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new m5(c):new CNe(c)};function a3e({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function aae(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:a=r.getDefaultTransition(),transitionEnd:s,...o}=e;n&&(a=n);const l=[],u=i&&r.animationState&&r.animationState.getState()[i];for(const c in o){const f=r.getValue(c,r.latestValues[c]??null),h=o[c];if(h===void 0||u&&a3e(u,c))continue;const p={delay:t,..._5(a||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const x=iae(r);if(x){const w=window.MotionHandoffAnimation(x,c,xn);w!==null&&(p.startTime=w,m=!0)}}bN(r,c),f.start(k5(c,f,h,r.shouldReduceMotion&&Aie.has(c)?{type:!1}:p,r,m));const y=f.animation;y&&l.push(y)}return s&&Promise.all(l).then(()=>{xn.update(()=>{s&&X4e(r,s)})}),l}function sae(r,e,t,n=0,i=1){const a=Array.from(r).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),s=r.size,o=(s-1)*n;return typeof t=="function"?t(a,s):i===1?a*n:o-a*n}function SN(r,e,t={}){const n=pm(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const a=n?()=>Promise.all(aae(r,n,t)):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return s3e(r,e,l,u,c,f,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(t.delay)])}function s3e(r,e,t=0,n=0,i=0,a=1,s){const o=[];for(const l of r.variantChildren)l.notify("AnimationStart",e),o.push(SN(l,e,{...s,delay:t+(typeof n=="function"?0:n)+sae(r.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function o3e(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>SN(r,a,t));n=Promise.all(i)}else if(typeof e=="string")n=SN(r,e,t);else{const i=typeof e=="function"?pm(r,e,t.custom):e;n=Promise.all(aae(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function oae(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const l3e=A5.length;function lae(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?lae(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<l3e;t++){const n=A5[t],i=r.props[n];(rw(i)||i===!1)&&(e[n]=i)}return e}const u3e=[...T5].reverse(),c3e=T5.length;function f3e(r){return e=>Promise.all(e.map(({animation:t,options:n})=>o3e(r,t,n)))}function h3e(r){let e=f3e(r),t=rj(),n=!0;const i=l=>(u,c)=>{const f=pm(r,c,l==="exit"?r.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:p,...v}=f;u={...u,...v,...p}}return u};function a(l){e=l(r)}function s(l){const{props:u}=r,c=lae(r.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let y=0;y<c3e;y++){const x=u3e[y],w=t[x],b=u[x]!==void 0?u[x]:c[x],T=rw(b),C=x===l?w.isActive:null;C===!1&&(v=y);let D=b===c[x]&&b!==u[x]&&T;if(D&&n&&r.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...p},!w.isActive&&C===null||!b&&!w.prevProp||ED(b)||typeof b=="boolean")continue;const E=d3e(w.prevProp,b);let R=E||x===l&&w.isActive&&!D&&T||y>v&&T,M=!1;const k=Array.isArray(b)?b:[b];let L=k.reduce(i(x),{});C===!1&&(L={});const{prevResolvedValues:O={}}=w,N={...O,...L},W=Y=>{R=!0,h.has(Y)&&(M=!0,h.delete(Y)),w.needsAnimating[Y]=!0;const re=r.getValue(Y);re&&(re.liveStyle=!1)};for(const Y in N){const re=L[Y],K=O[Y];if(p.hasOwnProperty(Y))continue;let q=!1;wN(re)&&wN(K)?q=!oae(re,K):q=re!==K,q?re!=null?W(Y):h.add(Y):re!==void 0&&h.has(Y)?W(Y):w.protectedKeys[Y]=!0}w.prevProp=b,w.prevResolvedValues=L,w.isActive&&(p={...p,...L}),n&&r.blockInitialAnimation&&(R=!1);const U=D&&E;R&&(!U||M)&&f.push(...k.map(Y=>{const re={type:x};if(typeof Y=="string"&&n&&!U&&r.manuallyAnimateOnMount&&r.parent){const{parent:K}=r,q=pm(K,Y);if(K.enteringChildren&&q){const{delayChildren:Q}=q.transition||{};re.delay=sae(K.enteringChildren,r,Q)}}return{animation:Y,options:re}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=pm(r,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const w=r.getBaseTarget(x),b=r.getValue(x);b&&(b.liveStyle=!0),y[x]=w??null}),f.push({animation:y})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!r.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(f):Promise.resolve()}function o(l,u){if(t[l].isActive===u)return Promise.resolve();r.variantChildren?.forEach(f=>f.animationState?.setActive(l,u)),t[l].isActive=u;const c=s(l);for(const f in t)t[f].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=rj(),n=!0}}}function d3e(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!oae(e,r):!1}function sp(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rj(){return{animate:sp(!0),whileInView:sp(),whileHover:sp(),whileTap:sp(),whileDrag:sp(),whileFocus:sp(),exit:sp()}}class _d{constructor(e){this.isMounted=!1,this.node=e}update(){}}class p3e extends _d{constructor(e){super(e),e.animationState||(e.animationState=h3e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ED(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let v3e=0;class g3e extends _d{constructor(){super(...arguments),this.id=v3e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const m3e={animation:{Feature:p3e},exit:{Feature:g3e}};function iw(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function mb(r){return{point:{x:r.pageX,y:r.pageY}}}const y3e=r=>e=>b5(e)&&r(e,mb(e));function cx(r,e,t,n){return iw(r,e,y3e(t),n)}const uae=1e-4,_3e=1-uae,x3e=1+uae,cae=.01,w3e=0-cae,b3e=0+cae;function cs(r){return r.max-r.min}function S3e(r,e,t){return Math.abs(r-e)<=t}function nj(r,e,t,n=.5){r.origin=n,r.originPoint=Tn(e.min,e.max,r.origin),r.scale=cs(t)/cs(e),r.translate=Tn(t.min,t.max,r.origin)-r.originPoint,(r.scale>=_3e&&r.scale<=x3e||isNaN(r.scale))&&(r.scale=1),(r.translate>=w3e&&r.translate<=b3e||isNaN(r.translate))&&(r.translate=0)}function fx(r,e,t,n){nj(r.x,e.x,t.x,n?n.originX:void 0),nj(r.y,e.y,t.y,n?n.originY:void 0)}function ij(r,e,t){r.min=t.min+e.min,r.max=r.min+cs(e)}function T3e(r,e,t){ij(r.x,e.x,t.x),ij(r.y,e.y,t.y)}function aj(r,e,t){r.min=e.min-t.min,r.max=r.min+cs(e)}function hx(r,e,t){aj(r.x,e.x,t.x),aj(r.y,e.y,t.y)}function Ho(r){return[r("x"),r("y")]}const fae=({current:r})=>r?r.ownerDocument.defaultView:null,sj=(r,e)=>Math.abs(r-e);function A3e(r,e){const t=sj(r.x,e.x),n=sj(r.y,e.y);return Math.sqrt(t**2+n**2)}class hae{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=wk(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=A3e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:m}=h,{timestamp:y}=ra;this.history.push({...m,timestamp:y});const{onStart:x,onMove:w}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xk(p,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=wk(h.type==="pointercancel"?this.lastMoveEventInfo:xk(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,x),m&&m(h,x)},!b5(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const o=mb(e),l=xk(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=ra;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,wk(l,this.history)),this.removeListeners=pb(cx(this.contextWindow,"pointermove",this.handlePointerMove),cx(this.contextWindow,"pointerup",this.handlePointerUp),cx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),id(this.updatePoint)}}function xk(r,e){return e?{point:e(r.point)}:r}function oj(r,e){return{x:r.x-e.x,y:r.y-e.y}}function wk({point:r},e){return{point:r,delta:oj(r,dae(e)),offset:oj(r,E3e(e)),velocity:C3e(e,.1)}}function E3e(r){return r[0]}function dae(r){return r[r.length-1]}function C3e(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=dae(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>$u(e)));)t--;if(!n)return{x:0,y:0};const a=qu(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function D3e(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?Tn(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?Tn(t,r,n.max):Math.min(r,t)),r}function lj(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function I3e(r,{top:e,left:t,bottom:n,right:i}){return{x:lj(r.x,t,i),y:lj(r.y,e,n)}}function uj(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function R3e(r,e){return{x:uj(r.x,e.x),y:uj(r.y,e.y)}}function M3e(r,e){let t=.5;const n=cs(r),i=cs(e);return i>n?t=Jx(e.min,e.max-n,r.min):n>i&&(t=Jx(r.min,r.max-i,e.min)),hf(0,1,t)}function k3e(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const TN=.35;function P3e(r=TN){return r===!1?r=0:r===!0&&(r=TN),{x:cj(r,"left","right"),y:cj(r,"top","bottom")}}function cj(r,e,t){return{min:fj(r,e),max:fj(r,t)}}function fj(r,e){return typeof r=="number"?r:r[e]||0}const L3e=new WeakMap;class O3e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(mb(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:v,onDragStart:m}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GNe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ho(x=>{let w=this.getAxisMotionValue(x).get()||0;if(Yu.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[x];T&&(w=cs(T)*(parseFloat(w)/100))}}this.originPoint[x]=w}),m&&xn.postRender(()=>m(f,h)),bN(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=N3e(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ho(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new hae(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:fae(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&xn.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!kT(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=D3e(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&q0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=I3e(n.layoutBox,e):this.constraints=!1,this.elastic=P3e(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ho(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=k3e(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!q0(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=F4e(n,i.root,this.visualElement.getTransformPagePoint());let s=R3e(i.layout.layoutBox,a);if(t){const o=t(L4e(s));this.hasMutatedConstraints=!!o,o&&(s=Kie(o))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ho(c=>{if(!kT(c,t,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return bN(this.visualElement,e),n.start(k5(e,n,0,t,this.visualElement,!1))}stopAnimation(){Ho(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ho(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ho(t=>{const{drag:n}=this.getProps();if(!kT(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[t];a.set(e[t]-Tn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!q0(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ho(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=M3e({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ho(s=>{if(!kT(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Tn(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;L3e.set(this.visualElement,this);const e=this.visualElement.current,t=cx(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();q0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xn.read(n);const s=iw(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ho(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=TN,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function kT(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function N3e(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class F3e extends _d{constructor(e){super(e),this.removeGroupControls=tl,this.removeListeners=tl,this.controls=new O3e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tl}unmount(){this.removeGroupControls(),this.removeListeners()}}const hj=r=>(e,t)=>{r&&xn.postRender(()=>r(e,t))};class B3e extends _d{constructor(){super(...arguments),this.removePointerDownListener=tl}onPointerDown(e){this.session=new hae(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fae(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:hj(e),onStart:hj(t),onMove:n,onEnd:(a,s)=>{delete this.session,i&&xn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=cx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dj(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const K1={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Bt.test(r))r=parseFloat(r);else return r;const t=dj(r,e.target.x),n=dj(r,e.target.y);return`${t}% ${n}%`}},V3e={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=ad.parse(r);if(i.length>5)return n;const a=ad.createTransformer(r),s=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=Tn(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};let bk=!1;class z3e extends ue.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;l4e(U3e),a&&(t.group&&t.group.add(a),n&&n.register&&i&&n.register(a),bk&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),cA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,bk=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||xn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;bk=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pae(r){const[e,t]=Nie(),n=ue.useContext(JF);return G.jsx(z3e,{...r,layoutGroup:n,switchLayoutGroup:ue.useContext(Yie),isPresent:e,safeToRemove:t})}const U3e={borderRadius:{...K1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:K1,borderTopRightRadius:K1,borderBottomLeftRadius:K1,borderBottomRightRadius:K1,boxShadow:V3e};function H3e(r,e,t){const n=La(r)?r:Um(r);return n.start(k5("",n,e,t)),n.animation}const G3e=(r,e)=>r.depth-e.depth;class j3e{constructor(){this.children=[],this.isDirty=!1}add(e){r5(this.children,e),this.isDirty=!0}remove(e){n5(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G3e),this.isDirty=!1,this.children.forEach(e)}}function W3e(r,e){const t=Bs.now(),n=({timestamp:i})=>{const a=i-t;a>=e&&(id(n),r(a-e))};return xn.setup(n,!0),()=>id(n)}const vae=["TopLeft","TopRight","BottomLeft","BottomRight"],$3e=vae.length,pj=r=>typeof r=="string"?parseFloat(r):r,vj=r=>typeof r=="number"||Bt.test(r);function q3e(r,e,t,n,i,a){i?(r.opacity=Tn(0,t.opacity??1,Y3e(n)),r.opacityExit=Tn(e.opacity??1,0,X3e(n))):a&&(r.opacity=Tn(e.opacity??1,t.opacity??1,n));for(let s=0;s<$3e;s++){const o=`border${vae[s]}Radius`;let l=gj(e,o),u=gj(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||vj(l)===vj(u)?(r[o]=Math.max(Tn(pj(l),pj(u),n),0),(Yu.test(u)||Yu.test(l))&&(r[o]+="%")):r[o]=u}(e.rotate||t.rotate)&&(r.rotate=Tn(e.rotate||0,t.rotate||0,n))}function gj(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const Y3e=gae(0,.5,rie),X3e=gae(.5,.95,tl);function gae(r,e,t){return n=>n<r?0:n>e?1:t(Jx(r,e,n))}function mj(r,e){r.min=e.min,r.max=e.max}function Po(r,e){mj(r.x,e.x),mj(r.y,e.y)}function yj(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function _j(r,e,t,n,i){return r-=e,r=DE(r,1/t,n),i!==void 0&&(r=DE(r,1/i,n)),r}function K3e(r,e=0,t=1,n=.5,i,a=r,s=r){if(Yu.test(e)&&(e=parseFloat(e),e=Tn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Tn(a.min,a.max,n);r===a&&(o-=e),r.min=_j(r.min,e,t,o,i),r.max=_j(r.max,e,t,o,i)}function xj(r,e,[t,n,i],a,s){K3e(r,e[t],e[n],e[i],e.scale,a,s)}const Z3e=["x","scaleX","originX"],Q3e=["y","scaleY","originY"];function wj(r,e,t,n){xj(r.x,e,Z3e,t?t.x:void 0,n?n.x:void 0),xj(r.y,e,Q3e,t?t.y:void 0,n?n.y:void 0)}function bj(r){return r.translate===0&&r.scale===1}function mae(r){return bj(r.x)&&bj(r.y)}function Sj(r,e){return r.min===e.min&&r.max===e.max}function J3e(r,e){return Sj(r.x,e.x)&&Sj(r.y,e.y)}function Tj(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function yae(r,e){return Tj(r.x,e.x)&&Tj(r.y,e.y)}function Aj(r){return cs(r.x)/cs(r.y)}function Ej(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class eFe{constructor(){this.members=[]}add(e){r5(this.members,e),e.scheduleRender()}remove(e){if(n5(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tFe(r,e,t){let n="";const i=r.x.translate/e.x,a=r.y.translate/e.y,s=t?.z||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:p,skewY:v}=t;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=r.x.scale*e.x,l=r.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Sk=["","X","Y","Z"],rFe=1e3;let nFe=0;function Tk(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function _ae(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=iae(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",xn,!(i||a))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&_ae(n)}function xae({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=e?.()){this.id=nFe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sFe),this.nodes.forEach(cFe),this.nodes.forEach(fFe),this.nodes.forEach(oFe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new j3e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new s5),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Oie(s)&&!XNe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),r){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{f=window.innerWidth}),r(s,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,c&&c(),c=W3e(h,250),cA.hasAnimatedSinceResize&&(cA.hasAnimatedSinceResize=!1,this.nodes.forEach(Ij)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||gFe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!yae(this.targetLayout,p),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={..._5(v,"layout"),onPlay:m,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(c,w)}else f||Ij(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),id(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hFe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_ae(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Dj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uFe),this.nodes.forEach(iFe),this.nodes.forEach(aFe)):this.nodes.forEach(Dj),this.clearAllSnapshots();const o=Bs.now();ra.delta=hf(0,1e3/60,o-ra.timestamp),ra.timestamp=o,ra.isProcessing=!0,hk.update.process(ra),hk.preRender.process(ra),hk.render.process(ra),ra.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lFe),this.sharedNodes.forEach(dFe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cs(this.snapshot.measuredBox.x)&&!cs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!mae(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Pp(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),mFe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Wn();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yFe))){const{scroll:u}=this.root;u&&(Y0(o.x,u.offset.x),Y0(o.y,u.offset.y))}return o}removeElementScroll(s){const o=Wn();if(Po(o,s),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;u!==this.root&&c&&f.layoutScroll&&(c.wasRoot&&Po(o,s),Y0(o.x,c.offset.x),Y0(o.y,c.offset.y))}return o}applyTransform(s,o=!1){const l=Wn();Po(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&X0(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Pp(c.latestValues)&&X0(l,c.latestValues)}return Pp(this.latestValues)&&X0(l,this.latestValues),l}removeTransform(s){const o=Wn();Po(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Pp(u.latestValues))continue;yN(u.latestValues)&&u.updateSnapshot();const c=Wn(),f=u.measurePageBox();Po(c,f),wj(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Pp(this.latestValues)&&wj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ra.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=ra.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),hx(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T3e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Po(this.target,this.layout.layoutBox),Qie(this.target,this.targetDelta)):Po(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),hx(this.relativeTargetOrigin,this.target,h.target),Po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yN(this.parent.latestValues)||Zie(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ra.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Po(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;N4e(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Wn());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yj(this.prevProjectionDelta.x,this.projectionDelta.x),yj(this.prevProjectionDelta.y,this.projectionDelta.y)),fx(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Ej(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ej(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=K0(),this.projectionDelta=K0(),this.projectionDeltaWithTransform=K0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=K0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Wn(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,y=this.getStack(),x=!y||y.members.length<=1,w=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(vFe));this.animationProgress=0;let b;this.mixTargetDelta=T=>{const C=T/1e3;Rj(f.x,s.x,C),Rj(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pFe(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&J3e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Wn()),Po(b,this.relativeTarget)),m&&(this.animationValues=c,q3e(c,u,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(id(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{cA.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Um(0)),this.currentAnimation=H3e(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rFe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&wae(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wn();const f=cs(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=cs(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Po(o,l),X0(o,c),fx(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new eFe),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Tk("z",s,u,this.animationValues);for(let c=0;c<Sk.length;c++)Tk(`rotate${Sk[c]}`,s,u,this.animationValues),Tk(`skew${Sk[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=uA(o?.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=uA(o?.pointerEvents)||""),this.hasProjected&&!Pp(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=tFe(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),s.transform=f;const{x:h,y:p}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in nw){if(c[v]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:x}=nw[v],w=f==="none"?c[v]:m(c[v],u);if(y){const b=y.length;for(let T=0;T<b;T++)s[y[T]]=w}else x?this.options.visualElement.renderState.vars[v]=w:s[v]=w}this.options.layoutId&&(s.pointerEvents=u===this?uA(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(Cj),this.root.sharedNodes.clear()}}}function iFe(r){r.updateLayout()}function aFe(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=r.layout,{animationType:i}=r.options,a=e.source!==r.layout.source;i==="size"?Ho(c=>{const f=a?e.measuredBox[c]:e.layoutBox[c],h=cs(f);f.min=t[c].min,f.max=f.min+h}):wae(i,e.layoutBox,t)&&Ho(c=>{const f=a?e.measuredBox[c]:e.layoutBox[c],h=cs(t[c]);f.max=f.min+h,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[c].max=r.relativeTarget[c].min+h)});const s=K0();fx(s,t,e.layoutBox);const o=K0();a?fx(o,r.applyTransform(n,!0),e.measuredBox):fx(o,t,e.layoutBox);const l=!mae(s);let u=!1;if(!r.resumeFrom){const c=r.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:f,layout:h}=c;if(f&&h){const p=Wn();hx(p,e.layoutBox,f.layoutBox);const v=Wn();hx(v,t,h.layoutBox),yae(p,v)||(u=!0),c.options.layoutRoot&&(r.relativeTarget=v,r.relativeTargetOrigin=p,r.relativeParent=c)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function sFe(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function oFe(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function lFe(r){r.clearSnapshot()}function Cj(r){r.clearMeasurements()}function Dj(r){r.isLayoutDirty=!1}function uFe(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function Ij(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function cFe(r){r.resolveTargetDelta()}function fFe(r){r.calcProjection()}function hFe(r){r.resetSkewAndRotation()}function dFe(r){r.removeLeadSnapshot()}function Rj(r,e,t){r.translate=Tn(e.translate,0,t),r.scale=Tn(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function Mj(r,e,t,n){r.min=Tn(e.min,t.min,n),r.max=Tn(e.max,t.max,n)}function pFe(r,e,t,n){Mj(r.x,e.x,t.x,n),Mj(r.y,e.y,t.y,n)}function vFe(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const gFe={duration:.45,ease:[.4,0,.1,1]},kj=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Pj=kj("applewebkit/")&&!kj("chrome/")?Math.round:tl;function Lj(r){r.min=Pj(r.min),r.max=Pj(r.max)}function mFe(r){Lj(r.x),Lj(r.y)}function wae(r,e,t){return r==="position"||r==="preserve-aspect"&&!S3e(Aj(e),Aj(t),.2)}function yFe(r){return r!==r.root&&r.scroll?.wasRoot}const _Fe=xae({attachResizeListener:(r,e)=>iw(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ak={current:void 0},bae=xae({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ak.current){const r=new _Fe({});r.mount(window),r.setOptions({layoutScroll:!0}),Ak.current=r}return Ak.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),xFe={pan:{Feature:B3e},drag:{Feature:F3e,ProjectionNode:bae,MeasureLayout:pae}};function Oj(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=n[i];a&&xn.postRender(()=>a(e,mb(e)))}class wFe extends _d{mount(){const{current:e}=this.node;e&&(this.unmount=jNe(e,(t,n)=>(Oj(this.node,n,"Start"),i=>Oj(this.node,i,"End"))))}unmount(){}}class bFe extends _d{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pb(iw(this.node.current,"focus",()=>this.onFocus()),iw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nj(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=n[i];a&&xn.postRender(()=>a(e,mb(e)))}class SFe extends _d{mount(){const{current:e}=this.node;e&&(this.unmount=YNe(e,(t,n)=>(Nj(this.node,n,"Start"),(i,{success:a})=>Nj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AN=new WeakMap,Ek=new WeakMap,TFe=r=>{const e=AN.get(r.target);e&&e(r)},AFe=r=>{r.forEach(TFe)};function EFe({root:r,...e}){const t=r||document;Ek.has(t)||Ek.set(t,{});const n=Ek.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(AFe,{root:r,...e})),n[i]}function CFe(r,e,t){const n=EFe(e);return AN.set(r,t),n.observe(r),()=>{AN.delete(r),n.unobserve(r)}}const DFe={some:0,all:1};class IFe extends _d{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:DFe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return CFe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(RFe(e,t))&&this.startObserver()}unmount(){}}function RFe({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const MFe={inView:{Feature:IFe},tap:{Feature:SFe},focus:{Feature:bFe},hover:{Feature:wFe}},kFe={layout:{ProjectionNode:bae,MeasureLayout:pae}},PFe={...m3e,...MFe,...xFe,...kFe},PT=P4e(PFe,$4e),LFe="_pasoContainer_7b0xj_1",OFe="_circuloNumero_7b0xj_17",NFe="_textoPaso_7b0xj_45",FFe="_iconoAyuda_7b0xj_61",BFe="_tooltip_7b0xj_81",Z1={pasoContainer:LFe,circuloNumero:OFe,textoPaso:NFe,iconoAyuda:FFe,tooltip:BFe};function LT({numero:r,texto:e,ayuda:t}){const[n,i]=ue.useState(!1),a=ue.useRef(null);return ue.useEffect(()=>{function s(o){a.current&&!a.current.contains(o.target)&&i(!1)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),G.jsxs("div",{className:Z1.pasoContainer,children:[G.jsx("div",{className:Z1.circuloNumero,children:r}),G.jsxs("h3",{className:Z1.textoPaso,children:[e,t&&G.jsxs("span",{ref:a,onClick:()=>i(s=>!s),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),tabIndex:0,onFocus:()=>i(!0),onBlur:()=>i(!1),"aria-label":"Información adicional",className:Z1.iconoAyuda,children:["❓",n&&G.jsx("div",{className:Z1.tooltip,children:t})]})]})]})}const VFe=["ALIANZA POPULAR (AP)","LIBERTAD Y PROGRESO ADN (LYP-ADN)","AUTONOMÍA PARA BOLIVIA SÚMATE (APB-SUMATE)","LIBERTAD Y DEMOCRACIA (LIBRE)","LA FUERZA DEL PUEBLO (FP)","MAS-IPSP","MORENA","UNIDAD","PARTIDO DEMOCRATA CRISTIANO (PDC)","BIA-YUQUI","OICH"];function zFe(){const r=Sf(),[e,t]=ue.useState({departamento:"",circunscripcion:"",provincia:"",municipio:"",recinto:"",nroMesa:"",votosPresidente:{},votosDiputado:{},validosPresidente:"",validosDiputado:"",blancosPresidente:"",blancosDiputado:"",nulosPresidente:"",nulosDiputado:"",papeletasAnfora:"",papeletasNoUtilizadas:"",imagenActa:null,imagenHojaTrabajo:null}),[n,i]=ue.useState(null),[a,s]=ue.useState(null),[o,l]=ue.useState(!0),[u,c]=ue.useState(!1),[f,h]=ue.useState([]),[p,v]=ue.useState([]),[m,y]=ue.useState([]),[x,w]=ue.useState([]),[b,T]=ue.useState([]),[C,D]=ue.useState(""),[E,R]=ue.useState(""),[M,k]=ue.useState(""),[L,O]=ue.useState(""),[N,W]=ue.useState(""),[U,z]=ue.useState([]),[Y,re]=ue.useState([]),[K,q]=ue.useState(null),[Q,j]=ue.useState(null),[J,te]=ue.useState({x:0,y:0}),[se,de]=ue.useState(1),[Oe,Ae]=ue.useState(null),[ye,Se]=ue.useState(null),[me,ee]=ue.useState(null),[mt,rt]=ue.useState(null);ue.useEffect(()=>{(async()=>{const qe=uo.currentUser?.uid;if(!qe)return r("/");const Ze=await Ps(Xn(St,"usuarios",qe));if(Ze.exists()){const dt=Ze.data();rt(dt),dt.rol!=="administrador"&&dt.rol!=="delegado"&&dt.rol!=="jefe_recinto"&&r("/")}else r("/")})()},[r,uo]);const at=(We,qe)=>{const Ze=We.target.files[0];if(!Ze)return;const dt=new FileReader;dt.onload=()=>{qe==="acta"?(i(dt.result),q(dt.result),t(yt=>({...yt,imagenActa:Ze}))):(s(dt.result),j(dt.result),t(yt=>({...yt,imagenHojaTrabajo:Ze})))},dt.readAsDataURL(Ze)},ot=ue.useCallback((We,qe)=>{Ae(qe)},[]),Ue=We=>{Se(We),de(1),te({x:0,y:0})},Jt=async(We,qe)=>{const dt=await(await fetch(We)).blob();return new File([dt],qe,{type:dt.type})},vr=async()=>{const qe=await eOe(ye==="acta"?K:Q,Oe),Ze=await tOe(qe),dt=await Jt(Ze,`${ye}_${Date.now()}.jpg`);ye==="acta"?(i(Ze),t(yt=>({...yt,imagenActa:dt}))):(s(Ze),t(yt=>({...yt,imagenHojaTrabajo:dt}))),Se(null)};f.filter(We=>We.nombre.toLowerCase().includes(C.toLowerCase())),p.filter(We=>We.nombre.toLowerCase().includes(E.toLowerCase())),m.filter(We=>We.nombre.toLowerCase().includes(M.toLowerCase())),x.filter(We=>We.nombre.toLowerCase().includes(L.toLowerCase())),b.filter(We=>We.nombre.toLowerCase().includes(N.toLowerCase())),ue.useEffect(()=>{(async()=>{const qe=await an(mr(St,"departamentos"));h(qe.docs.map(Ze=>({id:Ze.id,...Ze.data()}))),l(!1)})()},[]),ue.useEffect(()=>{const We=pye(uo,async qe=>{qe?(console.log("Usuario autenticado:",qe.uid),await en(qe)):(console.log("Usuario no autenticado"),re([]))});return()=>We()},[]),ue.useEffect(()=>{const We=async()=>{try{l(!0);const Ze=(await an(Kn(mr(St,"mesas"),_n("idRecinto","==",me.recintoId)))).docs.map(dt=>({id:dt.id,...dt.data()})).sort((dt,yt)=>parseInt(yt.codigo)-parseInt(dt.codigo));z(Ze),console.log("Mesas disponibles cargadas y ordenadas:",Ze)}catch(qe){console.error("Error al cargar mesas desde el useEffect:",qe)}finally{l(!1)}};me&&(t(qe=>({...qe,departamento:me.departamentoId,circunscripcion:me.circunscripcionId,provincia:me.provinciaId,municipio:me.municipioId,recinto:me.recintoId})),We())},[me]);const en=async We=>{try{const qe=Xn(St,"usuarios",We.uid),Ze=await Ps(qe);if(!Ze.exists()){console.log("No existe documento usuario"),re([]);return}const dt=Ze.data();ee(dt);const yt=dt.rol==="jefe_recinto",_r=dt.recintoId;let gr;yt&&_r?gr=Kn(mr(St,"recepcion"),_n("recinto","==",_r)):gr=Kn(mr(St,"recepcion"),_n("idUsuarioRecepcion","==",We.uid));const Kt=(await an(gr)).docs.map(pn=>({id:pn.id,...pn.data()}));Kt.sort((pn,Xa)=>parseInt(pn.nroMesa)-parseInt(Xa.nroMesa)),re(Kt)}catch(qe){console.error("Error cargando registros del usuario:",qe)}};ue.useEffect(()=>{if(!me?.departamentoId)return;(async()=>{const qe=Xn(St,"departamentos",me.departamentoId),Ze=await Ps(qe);Ze.exists()&&h([{id:Ze.id,...Ze.data()}])})()},[me]),ue.useEffect(()=>{if(!me?.circunscripcionId)return;(async()=>{const qe=Xn(St,"circunscripciones",me.circunscripcionId),Ze=await Ps(qe);Ze.exists()&&v([{id:Ze.id,...Ze.data()}])})()},[me]),ue.useEffect(()=>{if(!me?.provinciaId)return;(async()=>{const qe=Xn(St,"provincias",me.provinciaId),Ze=await Ps(qe);Ze.exists()&&y([{id:Ze.id,...Ze.data()}])})()},[me]),ue.useEffect(()=>{if(!me?.municipioId)return;(async()=>{const qe=Xn(St,"municipios",me.municipioId),Ze=await Ps(qe);Ze.exists()&&w([{id:Ze.id,...Ze.data()}])})()},[me]),ue.useEffect(()=>{if(!me?.recintoId)return;(async()=>{const qe=Xn(St,"recintos",me.recintoId),Ze=await Ps(qe);Ze.exists()&&T([{id:Ze.id,...Ze.data()}]),l(!1)})()},[me]);const Gr=(We,qe,Ze)=>{qe>Ze&&Fr.fire({icon:"warning",title:`¡Advertencia en ${We}!`,text:`La suma de votos (${qe}) supera las papeletas en ánfora (${Ze}).`,confirmButtonText:"Entendido",timer:4e3})},ni=(We,qe)=>{const Ze=document.querySelector(`[name="${We}"]`);Ze&&(Ze.style.borderColor=qe?"red":"")},Or=async We=>{const{name:qe,value:Ze,files:dt,dataset:yt}=We.target,_r=["validosPresidente","validosDiputado","blancosPresidente","blancosDiputado","nulosPresidente","nulosDiputado","papeletasAnfora","papeletasNoUtilizadas"],gr=Rt=>Rt===""||/^\d+$/.test(Rt)&&Number(Rt)>=0;if(yt?.tipo==="presidente")gr(Ze)&&t(Rt=>({...Rt,votosPresidente:{...Rt.votosPresidente,[qe]:Ze}}));else if(yt?.tipo==="diputado")gr(Ze)&&t(Rt=>({...Rt,votosDiputado:{...Rt.votosDiputado,[qe]:Ze}}));else if(qe==="imagenActa"||qe==="imagenHojaTrabajo"){const Rt=dt[0];if(Rt){t(pn=>({...pn,[qe]:Rt}));const Kt=new FileReader;Kt.onloadend=()=>{qe==="imagenActa"?i(Kt.result):s(Kt.result)},Kt.readAsDataURL(Rt)}}else _r.includes(qe)?gr(Ze)&&t(Rt=>{const Kt={...Rt,[qe]:Ze},pn=Object.values(Kt.votosPresidente||{}).reduce((Hs,_a)=>Hs+(parseInt(_a)||0),0),Xa=Object.values(Kt.votosDiputado||{}).reduce((Hs,_a)=>Hs+(parseInt(_a)||0),0);(!Kt.validosPresidente||Kt.validosPresidente==="")&&(Kt.validosPresidente=pn.toString()),(!Kt.validosDiputado||Kt.validosDiputado==="")&&(Kt.validosDiputado=Xa.toString());const Ki=(parseInt(Kt.validosPresidente)||0)+(parseInt(Kt.blancosPresidente)||0)+(parseInt(Kt.nulosPresidente)||0),Zi=(parseInt(Kt.validosDiputado)||0)+(parseInt(Kt.blancosDiputado)||0)+(parseInt(Kt.nulosDiputado)||0),ii=Math.max(Ki,Zi);return Kt.papeletasAnfora=ii.toString(),Gr("Presidente",Ki,ii),Gr("Diputado",Zi,ii),ni("validosPresidente",Ki>ii),ni("blancosPresidente",Ki>ii),ni("nulosPresidente",Ki>ii),ni("validosDiputado",Zi>ii),ni("blancosDiputado",Zi>ii),ni("nulosDiputado",Zi>ii),ni("papeletasAnfora",!1),Kt}):t(Rt=>({...Rt,[qe]:Ze}))},zn=async We=>{if(We.preventDefault(),!e.imagenActa||!e.imagenHojaTrabajo){await Fr.fire({icon:"warning",title:"Archivos requeridos",text:"Debes subir el acta y la hoja de trabajo.",confirmButtonColor:"#d33"});return}if(!e.nroMesa){await Fr.fire({icon:"warning",title:"Número de mesa requerido",text:"Debes seleccionar el número de mesa.",confirmButtonColor:"#d33"});return}const qe=[{archivo:e.imagenActa,nombre:"Acta"},{archivo:e.imagenHojaTrabajo,nombre:"Hoja de Trabajo"}],Ze=3;for(const{archivo:dt,nombre:yt}of qe)if(dt.size/1048576>Ze){await Fr.fire({icon:"warning",title:"Archivo demasiado grande",text:`El archivo de ${yt} no debe superar los 3 MB.`,confirmButtonColor:"#d33"});return}try{c(!0);const dt=uo.currentUser;if(!dt)throw new Error("Usuario no autenticado");const yt=Xn(St,"usuarios",dt.uid),_r=await Ps(yt);if(!_r.exists())throw new Error("Usuario no encontrado");const gr=_r.data();console.log("🧑 Usuario intentando subir registro:",{uid:dt.uid,nombre:gr.nombre,email:gr.email,recintoId:gr.recintoId,recintoNombre:gr.recintoNombre,rol:gr.rol});const Rt=gr.recintoId;if(console.log("Comparando recinto:",{recintoSeleccionadoEnFormulario:e.recinto,recintoAsignadoAlUsuario:Rt}),e.recinto!==Rt){await Fr.fire({icon:"warning",title:"Recinto inválido",text:"Solo puedes registrar boletas en tu propio recinto.",confirmButtonColor:"#d33"});return}const Kt=Kn(mr(St,"recepcion"),_n("recinto","==",Rt),_n("nroMesa","==",e.nroMesa));if(!(await an(Kt)).empty){await Fr.fire({icon:"warning",title:"Número de mesa duplicado",text:`Ya se ha registrado una boleta con el número de mesa ${e.nroMesa} en tu recinto.`,confirmButtonColor:"#d33"});return}const Xa=QA(JA,`actas/${e.nroMesa}_${Date.now()}`);await KA(Xa,e.imagenActa);const Ki=await ZA(Xa),Zi=QA(JA,`hojas_trabajo/${e.nroMesa}_${Date.now()}`);await KA(Zi,e.imagenHojaTrabajo);const ii=await ZA(Zi),{imagenActa:Hs,imagenHojaTrabajo:_a,...Gs}=e;await cy(mr(St,"recepcion"),{...Gs,imagenActaUrl:Ki,imagenHojaTrabajoUrl:ii,creadoEn:hD(),idUsuarioRecepcion:dt.uid,estado:"pendiente"}),await Fr.fire({icon:"success",title:"Registro exitoso",text:"La boleta fue enviada correctamente.",confirmButtonColor:"#0a58ca"}),t({recinto:Rt,nroMesa:"",votosPresidente:{},votosDiputado:{},validosPresidente:"",validosDiputado:"",blancosPresidente:"",blancosDiputado:"",nulosPresidente:"",nulosDiputado:"",papeletasAnfora:"",papeletasNoUtilizadas:"",imagenActa:null,imagenHojaTrabajo:null}),i(null),s(null)}catch(dt){console.error(dt),await Fr.fire({icon:"error",title:"Error al enviar",text:"Ocurrió un problema al registrar la boleta. Intenta nuevamente.",confirmButtonColor:"#d33"})}finally{c(!1)}},ya=({aplicarRecorte:We,cancelarRecorte:qe})=>G.jsxs(G.Fragment,{children:[G.jsx(PT.button,{className:`${mn.botonRecorte} ${mn.botonAplicar}`,onClick:We,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:30},transition:{duration:.4},type:"button",children:"✅ Aplicar"}),G.jsx(PT.button,{className:`${mn.botonRecorte} ${mn.botonCancelar}`,onClick:qe,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:30},transition:{duration:.4},type:"button",children:"❌ Cancelar"})]});return G.jsxs("div",{className:mn["select-group"],children:[G.jsx("h2",{children:"Registro de Acta Electoral"}),G.jsxs("form",{onSubmit:zn,className:mn.form,children:[G.jsx(LT,{numero:1,texto:"Sube las imágenes del Acta y Hoja de trabajo",ayuda:"Puedes usar la cámara o seleccionar desde galería. Asegúrate de que la foto esté legible y bien encuadrada para facilitar la verificación."}),G.jsxs("div",{children:[G.jsx("label",{children:"Foto del Acta:"}),G.jsxs("div",{className:mn.selectorContainer,children:[G.jsxs("label",{className:mn.iconButton,children:["📷 Cámara",G.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:We=>at(We,"acta"),style:{display:"none"}})]}),G.jsxs("label",{className:mn.iconButton,children:["🖼️ Galería",G.jsx("input",{type:"file",accept:"image/*",onChange:We=>at(We,"acta"),style:{display:"none"}})]})]}),G.jsx(jG,{children:n&&!ye&&G.jsxs(PT.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[G.jsx("img",{src:n,alt:"Vista previa acta",className:mn.imagenPreview}),G.jsx("br",{}),G.jsx("button",{type:"button",onClick:()=>Ue("acta"),style:{marginTop:5},children:"✂️ Recortar Acta"})]},"previewActa")})]}),G.jsxs("div",{children:[G.jsx("label",{children:"Foto de la Hoja de Trabajo:"}),G.jsxs("div",{className:mn.selectorContainer,children:[G.jsxs("label",{className:mn.iconButton,children:["📷 Cámara",G.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:We=>at(We,"hoja"),style:{display:"none"}})]}),G.jsxs("label",{className:mn.iconButton,children:["🖼️ Galería",G.jsx("input",{type:"file",accept:"image/*",onChange:We=>at(We,"hoja"),style:{display:"none"}})]})]}),G.jsx(jG,{children:a&&!ye&&G.jsxs(PT.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[G.jsx("img",{src:a,alt:"Vista previa hoja",className:mn.imagenPreview}),G.jsx("br",{}),G.jsx("button",{type:"button",onClick:()=>Ue("hoja"),style:{marginTop:5},children:"✂️ Recortar Hoja"})]},"previewHoja")})]}),ye&&G.jsxs("div",{style:{position:"relative",width:"100%",height:300,marginBottom:20},children:[G.jsx(JLe,{image:ye==="acta"?K:Q,crop:J,zoom:se,aspect:4/3,onCropChange:te,onZoomChange:de,onCropComplete:ot}),G.jsx(ya,{aplicarRecorte:vr,cancelarRecorte:()=>Se(null)})]}),G.jsx(LT,{numero:2,texto:"Confirma los datos automáticos del usuario",ayuda:"Los campos Departamento, Circunscripción, Provincia, Municipio y Recinto se completan automáticamente según tu perfil."}),me&&G.jsxs("div",{className:mn.columnas,children:[G.jsxs("label",{children:["Departamento:",G.jsx("input",{type:"text",value:me.departamentoNombre,disabled:!0}),G.jsx("input",{type:"hidden",name:"departamento",value:me.departamentoId})]}),G.jsxs("label",{children:["Circunscripción:",G.jsx("input",{type:"text",value:me.circunscripcionNombre,disabled:!0}),G.jsx("input",{type:"hidden",name:"circunscripcion",value:me.circunscripcionId})]}),G.jsxs("label",{children:["Provincia:",G.jsx("input",{type:"text",value:me.provinciaNombre,disabled:!0}),G.jsx("input",{type:"hidden",name:"provincia",value:me.provinciaId})]}),G.jsxs("label",{children:["Municipio:",G.jsx("input",{type:"text",value:me.municipioNombre,disabled:!0}),G.jsx("input",{type:"hidden",name:"municipio",value:me.municipioId})]}),G.jsxs("label",{children:["Recinto:",G.jsx("input",{type:"text",value:me.recintoNombre,disabled:!0}),G.jsx("input",{type:"hidden",name:"recinto",value:me.recintoId})]}),G.jsxs("label",{children:["Número de Mesa:",G.jsxs("select",{name:"nroMesa",value:e.nroMesa,onChange:Or,required:!0,children:[G.jsx("option",{value:"",children:"-- Selecciona una mesa --"}),U.map(We=>G.jsxs("option",{value:We.codigo,children:["Mesa ",We.codigo]},We.id))]})]})]}),G.jsxs("div",{className:mn.tablaVotos,children:[G.jsx(LT,{numero:3,texto:"Registra los votos de Presidente y Diputados Uninominales",ayuda:"Ingresa los votos en las columnas correspondientes. Solo se permiten números positivos y el sistema calcula automáticamente los totales para apoyo visual."}),G.jsxs("table",{children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Partido"}),G.jsx("th",{children:"Presidente"}),G.jsx("th",{children:"Diputado"})]})}),G.jsxs("tbody",{children:[VFe.map(We=>G.jsxs("tr",{children:[G.jsx("td",{children:We}),G.jsx("td",{children:G.jsx("input",{type:"number",name:We,value:e.votosPresidente[We]||"",onChange:Or,"data-tipo":"presidente"})}),G.jsx("td",{children:G.jsx("input",{type:"number",name:We,value:e.votosDiputado[We]||"",onChange:Or,"data-tipo":"diputado"})})]},We)),G.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f0f0f0"},children:[G.jsx("td",{children:"Total"}),G.jsx("td",{children:Object.values(e.votosPresidente).reduce((We,qe)=>We+(parseInt(qe)||0),0)}),G.jsx("td",{children:Object.values(e.votosDiputado).reduce((We,qe)=>We+(parseInt(qe)||0),0)})]})]})]})]}),G.jsx(LT,{numero:4,texto:"Completa los campos adicionales sobre papeletas",ayuda:"Registra la cantidad de papeletas válidas, blancas, nulas, utilizadas y no utilizadas para mantener el control del material electoral."}),G.jsxs("div",{className:mn.totales,children:[G.jsxs("label",{children:["Válidos Presidente: ",G.jsx("input",{name:"validosPresidente",type:"number",value:e.validosPresidente,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Válidos Diputado: ",G.jsx("input",{name:"validosDiputado",type:"number",value:e.validosDiputado,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Blancos Presidente: ",G.jsx("input",{name:"blancosPresidente",type:"number",value:e.blancosPresidente,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Blancos Diputado: ",G.jsx("input",{name:"blancosDiputado",type:"number",value:e.blancosDiputado,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Nulos Presidente: ",G.jsx("input",{name:"nulosPresidente",type:"number",value:e.nulosPresidente,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Nulos Diputado:",G.jsx("input",{name:"nulosDiputado",type:"number",value:e.nulosDiputado,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Papeletas en ánfora (utilizadas):",G.jsx("input",{name:"papeletasAnfora",type:"number",value:e.papeletasAnfora,onChange:Or,required:!0})]}),G.jsxs("label",{children:["Papeletas no utilizadas:",G.jsx("input",{name:"papeletasNoUtilizadas",type:"number",value:e.papeletasNoUtilizadas,onChange:Or,required:!0})]})]}),G.jsx("button",{type:"submit",className:mn.btn,disabled:u,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:u?G.jsx(kLe,{size:20,color:"#fff"}):"Registrar Boleta"})]}),Y.length>0&&G.jsx(G.Fragment,{children:G.jsxs("div",{className:mn.seccionBoletas,children:[G.jsx("h3",{style:{marginTop:"2rem"},children:"Registros Enviados"}),G.jsx("div",{className:mn.boletasGrid,children:Y.map(We=>G.jsx("div",{className:mn.boletaItem,children:G.jsxs("div",{className:mn.boletaBarra,children:[G.jsxs("span",{className:mn.nroMesa,children:["Mesa ",We.nroMesa]}),We.estado==="pendiente"&&G.jsx("span",{className:mn.checkIcon,children:"✔️"})]})},We.id))})]})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Sae=1252,UFe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],P5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},L5=function(r){UFe.indexOf(r)!=-1&&(Sae=P5[0]=r)};function HFe(){L5(1252)}var kl=function(r){L5(r)};function Tae(){kl(1200),HFe()}function Fj(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function GFe(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function Aae(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var B_=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?GFe(r.slice(2)):e==254&&t==255?Aae(r.slice(2)):e==65279?r.slice(1):r},OT=function(e){return String.fromCharCode(e)},Bj=function(e){return String.fromCharCode(e)},aw,Eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Vj(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0,u=0;u<r.length;)t=r.charCodeAt(u++),a=t>>2,n=r.charCodeAt(u++),s=(t&3)<<4|n>>4,i=r.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Eh.charAt(a)+Eh.charAt(s)+Eh.charAt(o)+Eh.charAt(l);return e}function go(r){var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)a=Eh.indexOf(r.charAt(u++)),s=Eh.indexOf(r.charAt(u++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=Eh.indexOf(r.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Eh.indexOf(r.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),rg=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function sd(r){return yr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function zj(r){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Il=function(e){return yr?rg(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function ng(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function O5(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return O5(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var xh=yr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:rg(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function jFe(r){for(var e=[],t=0,n=r.length+250,i=sd(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>n&&(e.push(i.slice(0,t)),t=0,i=sd(65535),n=65530)}return e.push(i.slice(0,t)),xh(e)}var ds=/\u0000/g,V_=/[\u0001-\u0006]/g;function vm(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Pl(r,e){var t=""+r;return t.length>=e?t:On("0",e-t.length)+t}function N5(r,e){var t=""+r;return t.length>=e?t:On(" ",e-t.length)+t}function IE(r,e){var t=""+r;return t.length>=e?t:t+On(" ",e-t.length)}function WFe(r,e){var t=""+Math.round(r);return t.length>=e?t:On("0",e-t.length)+t}function $Fe(r,e){var t=""+r;return t.length>=e?t:On("0",e-t.length)+t}var Uj=Math.pow(2,32);function s0(r,e){if(r>Uj||r<-Uj)return WFe(r,e);var t=Math.round(r);return $Fe(t,e)}function RE(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var Hj=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ck=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function qFe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',r}var Zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Gj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},YFe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ME(r,e,t){for(var n=r<0?-1:1,i=r*n,a=0,s=1,o=0,l=1,u=0,c=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*s+a,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=a):(c=u,o=s)),!t)return[0,n*o,c];var h=Math.floor(n*o/c);return[h,n*o-h*c,c]}function ev(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),t&&(a=e5e(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var Eae=new Date(1899,11,31,0,0,0),XFe=Eae.getTime(),KFe=new Date(1900,2,1,0,0,0);function Cae(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=KFe&&(t+=1440*60*1e3),(t-(XFe+(r.getTimezoneOffset()-Eae.getTimezoneOffset())*6e4))/(1440*60*1e3)}function F5(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ZFe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function QFe(r){var e=r<0?12:11,t=F5(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function JFe(r){var e=F5(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function sw(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=QFe(r):e===10?t=r.toFixed(10).substr(0,12):t=JFe(r),F5(ZFe(t.toUpperCase()))}function Ov(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):sw(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return sl(14,Cae(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function e5e(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function t5e(r,e,t,n){var i="",a=0,s=0,o=t.y,l,u=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return Ck[t.m-1][1];case 5:return Ck[t.m-1][0];default:return Ck[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return Hj[t.q][0];default:return Hj[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Pl(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Pl(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?Pl(l,u):"";return c}function Ch(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var Dae=/%/g;function r5e(r,e,t){var n=e.replace(Dae,""),i=e.length-n.length;return nf(r,n,t*Math.pow(10,2*i))+On("%",i)}function n5e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return nf(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function Iae(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Iae(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Rae=/# (\?+)( ?)\/( ?)(\d+)/;function i5e(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return t+(a===0?"":""+a)+" "+(s===0?On(" ",r[1].length+1+r[4].length):N5(s,r[1].length)+r[2]+"/"+r[3]+Pl(o,r[4].length))}function a5e(r,e,t){return t+(e===0?"":""+e)+On(" ",r[1].length+2+r[4].length)}var Mae=/^#*0*\.([0#]+)/,kae=/\).*[0#]/,Pae=/\(###\) ###\\?-####/;function is(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function jj(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function Wj(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function s5e(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function o5e(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function zo(r,e,t){if(r.charCodeAt(0)===40&&!e.match(kae)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?zo("n",n,t):"("+zo("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return n5e(r,e,t);if(e.indexOf("%")!==-1)return r5e(r,e,t);if(e.indexOf("E")!==-1)return Iae(e,t);if(e.charCodeAt(0)===36)return"$"+zo(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+s0(l,e.length);if(e.match(/^[#?]+$/))return i=s0(t,0),i==="0"&&(i=""),i.length>e.length?i:is(e.substr(0,e.length-i.length))+i;if(a=e.match(Rae))return i5e(a,l,u);if(e.match(/^#+0+$/))return u+s0(l,e.length-e.indexOf("0"));if(a=e.match(Mae))return i=jj(t,a[1].length).replace(/^([^\.]+)$/,"$1."+is(a[1])).replace(/\.$/,"."+is(a[1])).replace(/\.(\d*)$/,function(v,m){return"."+m+On("0",is(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+jj(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Ch(s0(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+zo(r,e,-t):Ch(""+(Math.floor(t)+s5e(t,a[1].length)))+"."+Pl(Wj(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return zo(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=vm(zo(r,e.replace(/[\\-]/g,""),t)),s=0,vm(vm(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(e.match(Pae))return i=zo(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=ME(l,Math.pow(10,s)-1,!1),i=""+u,c=nf("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=IE(o[2],s),c.length<a[4].length&&(c=is(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=ME(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?N5(o[1],s)+a[2]+"/"+a[3]+IE(o[2],s):On(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=s0(t,0),e.length<=i.length?i:is(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,h=e.length-i.length-f;return is(e.substr(0,f)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=Wj(t,a[1].length),t<0?"-"+zo(r,e,-t):Ch(o5e(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Pl(0,3-v.length):"")+v})+"."+Pl(s,a[1].length);switch(e){case"###,##0.00":return zo(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var p=Ch(s0(l,0));return p!=="0"?u+p:"";case"###,###.00":return zo(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return zo(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function l5e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return nf(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function u5e(r,e,t){var n=e.replace(Dae,""),i=e.length-n.length;return nf(r,n,t*Math.pow(10,2*i))+On("%",i)}function Lae(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Lae(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Su(r,e,t){if(r.charCodeAt(0)===40&&!e.match(kae)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Su("n",n,t):"("+Su("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return l5e(r,e,t);if(e.indexOf("%")!==-1)return u5e(r,e,t);if(e.indexOf("E")!==-1)return Lae(e,t);if(e.charCodeAt(0)===36)return"$"+Su(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Pl(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:is(e.substr(0,e.length-i.length))+i;if(a=e.match(Rae))return a5e(a,l,u);if(e.match(/^#+0+$/))return u+Pl(l,e.length-e.indexOf("0"));if(a=e.match(Mae))return i=(""+t).replace(/^([^\.]+)$/,"$1."+is(a[1])).replace(/\.$/,"."+is(a[1])),i=i.replace(/\.(\d*)$/,function(v,m){return"."+m+On("0",is(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Ch(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Su(r,e,-t):Ch(""+t)+"."+On("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Su(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=vm(Su(r,e.replace(/[\\-]/g,""),t)),s=0,vm(vm(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(e.match(Pae))return i=Su(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=ME(l,Math.pow(10,s)-1,!1),i=""+u,c=nf("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=IE(o[2],s),c.length<a[4].length&&(c=is(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=ME(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?N5(o[1],s)+a[2]+"/"+a[3]+IE(o[2],s):On(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:is(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,h=e.length-i.length-f;return is(e.substr(0,f)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Su(r,e,-t):Ch(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Pl(0,3-v.length):"")+v})+"."+Pl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Ch(""+l);return p!=="0"?u+p:"";default:if(e.match(/\.[0#?]*$/))return Su(r,e.slice(0,e.lastIndexOf(".")),t)+is(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function nf(r,e,t){return(t|0)===t?Su(r,e,t):zo(r,e,t)}function c5e(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var Oae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yy(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":RE(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(Oae))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function f5e(r,e,t,n){for(var i=[],a="",s=0,o="",l="t",u,c,f,h="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!RE(r,s))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var p=r.charAt(++s),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=ev(e,t,r.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=ev(e,t),u==null))return"";for(a=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(u==null&&(u=ev(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):r.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(m.v=u.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),u==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(a=o;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Oae)){if(u==null&&(u=ev(e,t),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",yy(r)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<r.length&&(o=r.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;r.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++s;break}var y=0,x=0,w;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=h,l="h",y<1&&(y=1);break;case"s":(w=i[s].v.match(/\.0+$/))&&(x=Math.max(x,w[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",T;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=t5e(i[s].t.charCodeAt(0),i[s].v,u,x),i[s].t="t";break;case"n":case"?":for(T=s+1;i[T]!=null&&((o=i[T].t)==="?"||o==="D"||(o===" "||o==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[T].v==="/"||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?"));)i[s].v+=i[T].v,i[T]={v:"",t:";"},++T;b+=i[s].v,s=T-1;break;case"G":i[s].t="t",i[s].v=Ov(e,t);break}var C="",D,E;if(b.length>0){b.charCodeAt(0)==40?(D=e<0&&b.charCodeAt(0)===45?-e:e,E=nf("n",b,D)):(D=e<0&&n>1?-e:e,E=nf("n",b,D),D<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),T=E.length-1;var R=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){R=s;break}var M=i.length;if(R===i.length&&E.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(T>=i[s].v.length-1?(T-=i[s].v.length,i[s].v=E.substr(T+1,i[s].v.length)):T<0?i[s].v="":(i[s].v=E.substr(0,T+1),T=-1),i[s].t="t",M=s);T>=0&&M<i.length&&(i[M].v=E.substr(0,T+1)+i[M].v)}else if(R!==i.length&&E.indexOf("E")===-1){for(T=E.indexOf(".")-1,s=R;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===R?i[s].v.indexOf(".")-1:i[s].v.length-1,C=i[s].v.substr(c+1);c>=0;--c)T>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(C=E.charAt(T--)+C);i[s].v=C,i[s].t="t",M=s}for(T>=0&&M<i.length&&(i[M].v=E.substr(0,T+1)+i[M].v),T=E.indexOf(".")+1,s=R;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==R)){for(c=i[s].v.indexOf(".")>-1&&s===R?i[s].v.indexOf(".")+1:0,C=i[s].v.substr(0,c);c<i[s].v.length;++c)T<E.length&&(C+=E.charAt(T++));i[s].v=C,i[s].t="t",M=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(D=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=nf(i[s].t,i[s].v,D),i[s].t="t");var k="";for(s=0;s!==i.length;++s)i[s]!=null&&(k+=i[s].v);return k}var $j=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qj(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function h5e(r,e){var t=c5e(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match($j),o=t[1].match($j);return qj(e,s)?[n,t[0]]:qj(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,a]}function sl(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Zt)[r],n==null&&(n=t.table&&t.table[Gj[r]]||Zt[Gj[r]]),n==null&&(n=YFe[r]||"General");break}if(RE(n,0))return Ov(e,t);e instanceof Date&&(e=Cae(e,t.date1904));var i=h5e(n,e);if(RE(i[1]))return Ov(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return f5e(i[1],e,t,i[0])}function vv(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Zt[t]==null){e<0&&(e=t);continue}if(Zt[t]==r){e=t;break}}e<0&&(e=391)}return Zt[e]=r,e}function Nae(){Zt=qFe()}var d5e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Fae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function p5e(r){var e=typeof r=="number"?Zt[r]:r;return e=e.replace(Fae,"(\\d+)"),new RegExp("^"+e+"$")}function v5e(r,e,t){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(Fae)||[]).forEach(function(f,h){var p=parseInt(t[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&a==-1?c:u+"T"+c}var g5e=function(){var r={};r.version="1.2.0";function e(){for(var E=0,R=new Array(256),M=0;M!=256;++M)E=M,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,R[M]=E;return typeof Int32Array<"u"?new Int32Array(R):R}var t=e();function n(E){var R=0,M=0,k=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)L[k]=E[k];for(k=0;k!=256;++k)for(M=E[k],R=256+k;R<4096;R+=256)M=L[R]=M>>>8^E[M&255];var O=[];for(k=1;k!=16;++k)O[k-1]=typeof Int32Array<"u"?L.subarray(k*256,k*256+256):L.slice(k*256,k*256+256);return O}var i=n(t),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],p=i[8],v=i[9],m=i[10],y=i[11],x=i[12],w=i[13],b=i[14];function T(E,R){for(var M=R^-1,k=0,L=E.length;k<L;)M=M>>>8^t[(M^E.charCodeAt(k++))&255];return~M}function C(E,R){for(var M=R^-1,k=E.length-15,L=0;L<k;)M=b[E[L++]^M&255]^w[E[L++]^M>>8&255]^x[E[L++]^M>>16&255]^y[E[L++]^M>>>24]^m[E[L++]]^v[E[L++]]^p[E[L++]]^h[E[L++]]^f[E[L++]]^c[E[L++]]^u[E[L++]]^l[E[L++]]^o[E[L++]]^s[E[L++]]^a[E[L++]]^t[E[L++]];for(k+=15;L<k;)M=M>>>8^t[(M^E[L++])&255];return~M}function D(E,R){for(var M=R^-1,k=0,L=E.length,O=0,N=0;k<L;)O=E.charCodeAt(k++),O<128?M=M>>>8^t[(M^O)&255]:O<2048?(M=M>>>8^t[(M^(192|O>>6&31))&255],M=M>>>8^t[(M^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,N=E.charCodeAt(k++)&1023,M=M>>>8^t[(M^(240|O>>8&7))&255],M=M>>>8^t[(M^(128|O>>2&63))&255],M=M>>>8^t[(M^(128|N>>6&15|(O&3)<<4))&255],M=M>>>8^t[(M^(128|N&63))&255]):(M=M>>>8^t[(M^(224|O>>12&15))&255],M=M>>>8^t[(M^(128|O>>6&63))&255],M=M>>>8^t[(M^(128|O&63))&255]);return~M}return r.table=t,r.bstr=T,r.buf=C,r.str=D,r}(),Er=function(){var e={};e.version="1.2.1";function t(X,le){for(var ie=X.split("/"),ae=le.split("/"),oe=0,ce=0,we=Math.min(ie.length,ae.length);oe<we;++oe){if(ce=ie[oe].length-ae[oe].length)return ce;if(ie[oe]!=ae[oe])return ie[oe]<ae[oe]?-1:1}return ie.length-ae.length}function n(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:n(X.slice(0,-1));var le=X.lastIndexOf("/");return le===-1?X:X.slice(0,le+1)}function i(X){if(X.charAt(X.length-1)=="/")return i(X.slice(0,-1));var le=X.lastIndexOf("/");return le===-1?X:X.slice(le+1)}function a(X,le){typeof le=="string"&&(le=new Date(le));var ie=le.getHours();ie=ie<<6|le.getMinutes(),ie=ie<<5|le.getSeconds()>>>1,X.write_shift(2,ie);var ae=le.getFullYear()-1980;ae=ae<<4|le.getMonth()+1,ae=ae<<5|le.getDate(),X.write_shift(2,ae)}function s(X){var le=X.read_shift(2)&65535,ie=X.read_shift(2)&65535,ae=new Date,oe=ie&31;ie>>>=5;var ce=ie&15;ie>>>=4,ae.setMilliseconds(0),ae.setFullYear(ie+1980),ae.setMonth(ce-1),ae.setDate(oe);var we=le&31;le>>>=5;var Re=le&63;return le>>>=6,ae.setHours(le),ae.setMinutes(Re),ae.setSeconds(we<<1),ae}function o(X){sa(X,0);for(var le={},ie=0;X.l<=X.length-4;){var ae=X.read_shift(2),oe=X.read_shift(2),ce=X.l+oe,we={};switch(ae){case 21589:ie=X.read_shift(1),ie&1&&(we.mtime=X.read_shift(4)),oe>5&&(ie&2&&(we.atime=X.read_shift(4)),ie&4&&(we.ctime=X.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}X.l=ce,le[ae]=we}return le}var l;function u(){return l||(l={})}function c(X,le){if(X[0]==80&&X[1]==75)return Hs(X,le);if((X[0]|32)==109&&(X[1]|32)==105)return mg(X,le);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var ie=3,ae=512,oe=0,ce=0,we=0,Re=0,ve=0,Te=[],Ee=X.slice(0,512);sa(Ee,0);var He=f(Ee);switch(ie=He[0],ie){case 3:ae=512;break;case 4:ae=4096;break;case 0:if(He[1]==0)return Hs(X,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}ae!==512&&(Ee=X.slice(0,ae),sa(Ee,28));var Ke=X.slice(0,ae);h(Ee,ie);var st=Ee.read_shift(4,"i");if(ie===3&&st!==0)throw new Error("# Directory Sectors: Expected 0 saw "+st);Ee.l+=4,we=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Re=Ee.read_shift(4,"i"),oe=Ee.read_shift(4,"i"),ve=Ee.read_shift(4,"i"),ce=Ee.read_shift(4,"i");for(var Ye=-1,nt=0;nt<109&&(Ye=Ee.read_shift(4,"i"),!(Ye<0));++nt)Te[nt]=Ye;var Nt=p(X,ae);y(ve,ce,Nt,ae,Te);var Rr=w(Nt,we,Te,ae);Rr[we].name="!Directory",oe>0&&Re!==N&&(Rr[Re].name="!MiniFAT"),Rr[Te[0]].name="!FAT",Rr.fat_addrs=Te,Rr.ssz=ae;var xr={},wr=[],js=[],ru=[];b(we,Rr,Nt,wr,oe,xr,js,Re),v(js,ru,wr),wr.shift();var Ka={FileIndex:js,FullPaths:ru};return le&&le.raw&&(Ka.raw={header:Ke,sectors:Nt}),Ka}function f(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(W,"Header Signature: "),X.l+=16;var le=X.read_shift(2,"u");return[X.read_shift(2,"u"),le]}function h(X,le){var ie=9;switch(X.l+=2,ie=X.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function p(X,le){for(var ie=Math.ceil(X.length/le)-1,ae=[],oe=1;oe<ie;++oe)ae[oe-1]=X.slice(oe*le,(oe+1)*le);return ae[ie-1]=X.slice(ie*le),ae}function v(X,le,ie){for(var ae=0,oe=0,ce=0,we=0,Re=0,ve=ie.length,Te=[],Ee=[];ae<ve;++ae)Te[ae]=Ee[ae]=ae,le[ae]=ie[ae];for(;Re<Ee.length;++Re)ae=Ee[Re],oe=X[ae].L,ce=X[ae].R,we=X[ae].C,Te[ae]===ae&&(oe!==-1&&Te[oe]!==oe&&(Te[ae]=Te[oe]),ce!==-1&&Te[ce]!==ce&&(Te[ae]=Te[ce])),we!==-1&&(Te[we]=ae),oe!==-1&&ae!=Te[ae]&&(Te[oe]=Te[ae],Ee.lastIndexOf(oe)<Re&&Ee.push(oe)),ce!==-1&&ae!=Te[ae]&&(Te[ce]=Te[ae],Ee.lastIndexOf(ce)<Re&&Ee.push(ce));for(ae=1;ae<ve;++ae)Te[ae]===ae&&(ce!==-1&&Te[ce]!==ce?Te[ae]=Te[ce]:oe!==-1&&Te[oe]!==oe&&(Te[ae]=Te[oe]));for(ae=1;ae<ve;++ae)if(X[ae].type!==0){if(Re=ae,Re!=Te[Re])do Re=Te[Re],le[ae]=le[Re]+"/"+le[ae];while(Re!==0&&Te[Re]!==-1&&Re!=Te[Re]);Te[ae]=-1}for(le[0]+="/",ae=1;ae<ve;++ae)X[ae].type!==2&&(le[ae]+="/")}function m(X,le,ie){for(var ae=X.start,oe=X.size,ce=[],we=ae;ie&&oe>0&&we>=0;)ce.push(le.slice(we*O,we*O+O)),oe-=O,we=Up(ie,we*4);return ce.length===0?Ei(0):xh(ce).slice(0,X.size)}function y(X,le,ie,ae,oe){var ce=N;if(X===N){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var we=ie[X],Re=(ae>>>2)-1;if(!we)return;for(var ve=0;ve<Re&&(ce=Up(we,ve*4))!==N;++ve)oe.push(ce);y(Up(we,ae-4),le-1,ie,ae,oe)}}function x(X,le,ie,ae,oe){var ce=[],we=[];oe||(oe=[]);var Re=ae-1,ve=0,Te=0;for(ve=le;ve>=0;){oe[ve]=!0,ce[ce.length]=ve,we.push(X[ve]);var Ee=ie[Math.floor(ve*4/ae)];if(Te=ve*4&Re,ae<4+Te)throw new Error("FAT boundary crossed: "+ve+" 4 "+ae);if(!X[Ee])break;ve=Up(X[Ee],Te)}return{nodes:ce,data:nW([we])}}function w(X,le,ie,ae){var oe=X.length,ce=[],we=[],Re=[],ve=[],Te=ae-1,Ee=0,He=0,Ke=0,st=0;for(Ee=0;Ee<oe;++Ee)if(Re=[],Ke=Ee+le,Ke>=oe&&(Ke-=oe),!we[Ke]){ve=[];var Ye=[];for(He=Ke;He>=0;){Ye[He]=!0,we[He]=!0,Re[Re.length]=He,ve.push(X[He]);var nt=ie[Math.floor(He*4/ae)];if(st=He*4&Te,ae<4+st)throw new Error("FAT boundary crossed: "+He+" 4 "+ae);if(!X[nt]||(He=Up(X[nt],st),Ye[He]))break}ce[Ke]={nodes:Re,data:nW([ve])}}return ce}function b(X,le,ie,ae,oe,ce,we,Re){for(var ve=0,Te=ae.length?2:0,Ee=le[X].data,He=0,Ke=0,st;He<Ee.length;He+=128){var Ye=Ee.slice(He,He+128);sa(Ye,64),Ke=Ye.read_shift(2),st=H5(Ye,0,Ke-Te),ae.push(st);var nt={name:st,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},Nt=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Nt!==0&&(nt.ct=T(Ye,Ye.l-8));var Rr=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Rr!==0&&(nt.mt=T(Ye,Ye.l-8)),nt.start=Ye.read_shift(4,"i"),nt.size=Ye.read_shift(4,"i"),nt.size<0&&nt.start<0&&(nt.size=nt.type=0,nt.start=N,nt.name=""),nt.type===5?(ve=nt.start,oe>0&&ve!==N&&(le[ve].name="!StreamData")):nt.size>=4096?(nt.storage="fat",le[nt.start]===void 0&&(le[nt.start]=x(ie,nt.start,le.fat_addrs,le.ssz)),le[nt.start].name=nt.name,nt.content=le[nt.start].data.slice(0,nt.size)):(nt.storage="minifat",nt.size<0?nt.size=0:ve!==N&&nt.start!==N&&le[ve]&&(nt.content=m(nt,le[ve].data,(le[Re]||{}).data))),nt.content&&sa(nt.content,0),ce[st]=nt,we.push(nt)}}function T(X,le){return new Date((ro(X,le+4)/1e7*Math.pow(2,32)+ro(X,le)/1e7-11644473600)*1e3)}function C(X,le){return u(),c(l.readFileSync(X),le)}function D(X,le){var ie=le&&le.type;switch(ie||yr&&Buffer.isBuffer(X)&&(ie="buffer"),ie||"base64"){case"file":return C(X,le);case"base64":return c(Il(go(X)),le);case"binary":return c(Il(X),le)}return c(X,le)}function E(X,le){var ie=le||{},ae=ie.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=ae+"/",X.FileIndex[0]={name:ae,type:5}),ie.CLSID&&(X.FileIndex[0].clsid=ie.CLSID),R(X)}function R(X){var le="Sh33tJ5";if(!Er.find(X,"/"+le)){var ie=Ei(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,X.FileIndex.push({name:le,type:2,content:ie,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+le),M(X)}}function M(X,le){E(X);for(var ie=!1,ae=!1,oe=X.FullPaths.length-1;oe>=0;--oe){var ce=X.FileIndex[oe];switch(ce.type){case 0:ae?ie=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:ae=!0,isNaN(ce.R*ce.L*ce.C)&&(ie=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!le)){var we=new Date(1987,1,19),Re=0,ve=Object.create?Object.create(null):{},Te=[];for(oe=0;oe<X.FullPaths.length;++oe)ve[X.FullPaths[oe]]=!0,X.FileIndex[oe].type!==0&&Te.push([X.FullPaths[oe],X.FileIndex[oe]]);for(oe=0;oe<Te.length;++oe){var Ee=n(Te[oe][0]);ae=ve[Ee],ae||(Te.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:z,ct:we,mt:we,content:null}]),ve[Ee]=!0)}for(Te.sort(function(st,Ye){return t(st[0],Ye[0])}),X.FullPaths=[],X.FileIndex=[],oe=0;oe<Te.length;++oe)X.FullPaths[oe]=Te[oe][0],X.FileIndex[oe]=Te[oe][1];for(oe=0;oe<Te.length;++oe){var He=X.FileIndex[oe],Ke=X.FullPaths[oe];if(He.name=i(Ke).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||z,oe===0)He.C=Te.length>1?1:-1,He.size=0,He.type=5;else if(Ke.slice(-1)=="/"){for(Re=oe+1;Re<Te.length&&n(X.FullPaths[Re])!=Ke;++Re);for(He.C=Re>=Te.length?-1:Re,Re=oe+1;Re<Te.length&&n(X.FullPaths[Re])!=n(Ke);++Re);He.R=Re>=Te.length?-1:Re,He.type=1}else n(X.FullPaths[oe+1]||"")==n(Ke)&&(He.R=oe+1),He.type=2}}}function k(X,le){var ie=le||{};if(ie.fileType=="mad")return rn(X,ie);switch(M(X),ie.fileType){case"zip":return Gs(X,ie)}var ae=function(st){for(var Ye=0,nt=0,Nt=0;Nt<st.FileIndex.length;++Nt){var Rr=st.FileIndex[Nt];if(Rr.content){var xr=Rr.content.length;xr>0&&(xr<4096?Ye+=xr+63>>6:nt+=xr+511>>9)}}for(var wr=st.FullPaths.length+3>>2,js=Ye+7>>3,ru=Ye+127>>7,Ka=js+nt+wr+ru,bs=Ka+127>>7,nu=bs<=109?0:Math.ceil((bs-109)/127);Ka+bs+nu+127>>7>bs;)nu=++bs<=109?0:Math.ceil((bs-109)/127);var Za=[1,nu,bs,ru,wr,nt,Ye,0];return st.FileIndex[0].size=Ye<<6,Za[7]=(st.FileIndex[0].start=Za[0]+Za[1]+Za[2]+Za[3]+Za[4]+Za[5])+(Za[6]+7>>3),Za}(X),oe=Ei(ae[7]<<9),ce=0,we=0;{for(ce=0;ce<8;++ce)oe.write_shift(1,U[ce]);for(ce=0;ce<8;++ce)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ce=0;ce<3;++ce)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,ae[2]),oe.write_shift(4,ae[0]+ae[1]+ae[2]+ae[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,ae[3]?ae[0]+ae[1]+ae[2]-1:N),oe.write_shift(4,ae[3]),oe.write_shift(-4,ae[1]?ae[0]-1:N),oe.write_shift(4,ae[1]),ce=0;ce<109;++ce)oe.write_shift(-4,ce<ae[2]?ae[1]+ce:-1)}if(ae[1])for(we=0;we<ae[1];++we){for(;ce<236+we*127;++ce)oe.write_shift(-4,ce<ae[2]?ae[1]+ce:-1);oe.write_shift(-4,we===ae[1]-1?N:we+1)}var Re=function(st){for(we+=st;ce<we-1;++ce)oe.write_shift(-4,ce+1);st&&(++ce,oe.write_shift(-4,N))};for(we=ce=0,we+=ae[1];ce<we;++ce)oe.write_shift(-4,Y.DIFSECT);for(we+=ae[2];ce<we;++ce)oe.write_shift(-4,Y.FATSECT);Re(ae[3]),Re(ae[4]);for(var ve=0,Te=0,Ee=X.FileIndex[0];ve<X.FileIndex.length;++ve)Ee=X.FileIndex[ve],Ee.content&&(Te=Ee.content.length,!(Te<4096)&&(Ee.start=we,Re(Te+511>>9)));for(Re(ae[6]+7>>3);oe.l&511;)oe.write_shift(-4,Y.ENDOFCHAIN);for(we=ce=0,ve=0;ve<X.FileIndex.length;++ve)Ee=X.FileIndex[ve],Ee.content&&(Te=Ee.content.length,!(!Te||Te>=4096)&&(Ee.start=we,Re(Te+63>>6)));for(;oe.l&511;)oe.write_shift(-4,Y.ENDOFCHAIN);for(ce=0;ce<ae[4]<<2;++ce){var He=X.FullPaths[ce];if(!He||He.length===0){for(ve=0;ve<17;++ve)oe.write_shift(4,0);for(ve=0;ve<3;++ve)oe.write_shift(4,-1);for(ve=0;ve<12;++ve)oe.write_shift(4,0);continue}Ee=X.FileIndex[ce],ce===0&&(Ee.start=Ee.size?Ee.start-1:N);var Ke=ce===0&&ie.root||Ee.name;if(Te=2*(Ke.length+1),oe.write_shift(64,Ke,"utf16le"),oe.write_shift(2,Te),oe.write_shift(1,Ee.type),oe.write_shift(1,Ee.color),oe.write_shift(-4,Ee.L),oe.write_shift(-4,Ee.R),oe.write_shift(-4,Ee.C),Ee.clsid)oe.write_shift(16,Ee.clsid,"hex");else for(ve=0;ve<4;++ve)oe.write_shift(4,0);oe.write_shift(4,Ee.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Ee.start),oe.write_shift(4,Ee.size),oe.write_shift(4,0)}for(ce=1;ce<X.FileIndex.length;++ce)if(Ee=X.FileIndex[ce],Ee.size>=4096)if(oe.l=Ee.start+1<<9,yr&&Buffer.isBuffer(Ee.content))Ee.content.copy(oe,oe.l,0,Ee.size),oe.l+=Ee.size+511&-512;else{for(ve=0;ve<Ee.size;++ve)oe.write_shift(1,Ee.content[ve]);for(;ve&511;++ve)oe.write_shift(1,0)}for(ce=1;ce<X.FileIndex.length;++ce)if(Ee=X.FileIndex[ce],Ee.size>0&&Ee.size<4096)if(yr&&Buffer.isBuffer(Ee.content))Ee.content.copy(oe,oe.l,0,Ee.size),oe.l+=Ee.size+63&-64;else{for(ve=0;ve<Ee.size;++ve)oe.write_shift(1,Ee.content[ve]);for(;ve&63;++ve)oe.write_shift(1,0)}if(yr)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function L(X,le){var ie=X.FullPaths.map(function(ve){return ve.toUpperCase()}),ae=ie.map(function(ve){var Te=ve.split("/");return Te[Te.length-(ve.slice(-1)=="/"?2:1)]}),oe=!1;le.charCodeAt(0)===47?(oe=!0,le=ie[0].slice(0,-1)+le):oe=le.indexOf("/")!==-1;var ce=le.toUpperCase(),we=oe===!0?ie.indexOf(ce):ae.indexOf(ce);if(we!==-1)return X.FileIndex[we];var Re=!ce.match(V_);for(ce=ce.replace(ds,""),Re&&(ce=ce.replace(V_,"!")),we=0;we<ie.length;++we)if((Re?ie[we].replace(V_,"!"):ie[we]).replace(ds,"")==ce||(Re?ae[we].replace(V_,"!"):ae[we]).replace(ds,"")==ce)return X.FileIndex[we];return null}var O=64,N=-2,W="d0cf11e0a1b11ae1",U=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(X,le,ie){u();var ae=k(X,ie);l.writeFileSync(le,ae)}function K(X){for(var le=new Array(X.length),ie=0;ie<X.length;++ie)le[ie]=String.fromCharCode(X[ie]);return le.join("")}function q(X,le){var ie=k(X,le);switch(le&&le.type||"buffer"){case"file":return u(),l.writeFileSync(le.filename,ie),ie;case"binary":return typeof ie=="string"?ie:K(ie);case"base64":return Vj(typeof ie=="string"?ie:K(ie));case"buffer":if(yr)return Buffer.isBuffer(ie)?ie:rg(ie);case"array":return typeof ie=="string"?Il(ie):ie}return ie}var Q;function j(X){try{var le=X.InflateRaw,ie=new le;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)Q=X;else throw new Error("zlib does not expose bytesRead")}catch(ae){console.error("cannot use native zlib: "+(ae.message||ae))}}function J(X,le){if(!Q)return Zi(X,le);var ie=Q.InflateRaw,ae=new ie,oe=ae._processChunk(X.slice(X.l),ae._finishFlushFlag);return X.l+=ae.bytesRead,oe}function te(X){return Q?Q.deflateRawSync(X):yt(X)}var se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(X){var le=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(le>>16|le>>8|le)&255}for(var ye=typeof Uint8Array<"u",Se=ye?new Uint8Array(256):[],me=0;me<256;++me)Se[me]=Ae(me);function ee(X,le){var ie=Se[X&255];return le<=8?ie>>>8-le:(ie=ie<<8|Se[X>>8&255],le<=16?ie>>>16-le:(ie=ie<<8|Se[X>>16&255],ie>>>24-le))}function mt(X,le){var ie=le&7,ae=le>>>3;return(X[ae]|(ie<=6?0:X[ae+1]<<8))>>>ie&3}function rt(X,le){var ie=le&7,ae=le>>>3;return(X[ae]|(ie<=5?0:X[ae+1]<<8))>>>ie&7}function at(X,le){var ie=le&7,ae=le>>>3;return(X[ae]|(ie<=4?0:X[ae+1]<<8))>>>ie&15}function ot(X,le){var ie=le&7,ae=le>>>3;return(X[ae]|(ie<=3?0:X[ae+1]<<8))>>>ie&31}function Ue(X,le){var ie=le&7,ae=le>>>3;return(X[ae]|(ie<=1?0:X[ae+1]<<8))>>>ie&127}function Jt(X,le,ie){var ae=le&7,oe=le>>>3,ce=(1<<ie)-1,we=X[oe]>>>ae;return ie<8-ae||(we|=X[oe+1]<<8-ae,ie<16-ae)||(we|=X[oe+2]<<16-ae,ie<24-ae)||(we|=X[oe+3]<<24-ae),we&ce}function vr(X,le,ie){var ae=le&7,oe=le>>>3;return ae<=5?X[oe]|=(ie&7)<<ae:(X[oe]|=ie<<ae&255,X[oe+1]=(ie&7)>>8-ae),le+3}function en(X,le,ie){var ae=le&7,oe=le>>>3;return ie=(ie&1)<<ae,X[oe]|=ie,le+1}function Gr(X,le,ie){var ae=le&7,oe=le>>>3;return ie<<=ae,X[oe]|=ie&255,ie>>>=8,X[oe+1]=ie,le+8}function ni(X,le,ie){var ae=le&7,oe=le>>>3;return ie<<=ae,X[oe]|=ie&255,ie>>>=8,X[oe+1]=ie&255,X[oe+2]=ie>>>8,le+16}function Or(X,le){var ie=X.length,ae=2*ie>le?2*ie:le+5,oe=0;if(ie>=le)return X;if(yr){var ce=zj(ae);if(X.copy)X.copy(ce);else for(;oe<X.length;++oe)ce[oe]=X[oe];return ce}else if(ye){var we=new Uint8Array(ae);if(we.set)we.set(X);else for(;oe<ie;++oe)we[oe]=X[oe];return we}return X.length=ae,X}function zn(X){for(var le=new Array(X),ie=0;ie<X;++ie)le[ie]=0;return le}function ya(X,le,ie){var ae=1,oe=0,ce=0,we=0,Re=0,ve=X.length,Te=ye?new Uint16Array(32):zn(32);for(ce=0;ce<32;++ce)Te[ce]=0;for(ce=ve;ce<ie;++ce)X[ce]=0;ve=X.length;var Ee=ye?new Uint16Array(ve):zn(ve);for(ce=0;ce<ve;++ce)Te[oe=X[ce]]++,ae<oe&&(ae=oe),Ee[ce]=0;for(Te[0]=0,ce=1;ce<=ae;++ce)Te[ce+16]=Re=Re+Te[ce-1]<<1;for(ce=0;ce<ve;++ce)Re=X[ce],Re!=0&&(Ee[ce]=Te[Re+16]++);var He=0;for(ce=0;ce<ve;++ce)if(He=X[ce],He!=0)for(Re=ee(Ee[ce],ae)>>ae-He,we=(1<<ae+4-He)-1;we>=0;--we)le[Re|we<<He]=He&15|ce<<4;return ae}var We=ye?new Uint16Array(512):zn(512),qe=ye?new Uint16Array(32):zn(32);if(!ye){for(var Ze=0;Ze<512;++Ze)We[Ze]=0;for(Ze=0;Ze<32;++Ze)qe[Ze]=0}(function(){for(var X=[],le=0;le<32;le++)X.push(5);ya(X,qe,32);var ie=[];for(le=0;le<=143;le++)ie.push(8);for(;le<=255;le++)ie.push(9);for(;le<=279;le++)ie.push(7);for(;le<=287;le++)ie.push(8);ya(ie,We,288)})();var dt=function(){for(var le=ye?new Uint8Array(32768):[],ie=0,ae=0;ie<Oe.length-1;++ie)for(;ae<Oe[ie+1];++ae)le[ae]=ie;for(;ae<32768;++ae)le[ae]=29;var oe=ye?new Uint8Array(259):[];for(ie=0,ae=0;ie<de.length-1;++ie)for(;ae<de[ie+1];++ae)oe[ae]=ie;function ce(Re,ve){for(var Te=0;Te<Re.length;){var Ee=Math.min(65535,Re.length-Te),He=Te+Ee==Re.length;for(ve.write_shift(1,+He),ve.write_shift(2,Ee),ve.write_shift(2,~Ee&65535);Ee-- >0;)ve[ve.l++]=Re[Te++]}return ve.l}function we(Re,ve){for(var Te=0,Ee=0,He=ye?new Uint16Array(32768):[];Ee<Re.length;){var Ke=Math.min(65535,Re.length-Ee);if(Ke<10){for(Te=vr(ve,Te,+(Ee+Ke==Re.length)),Te&7&&(Te+=8-(Te&7)),ve.l=Te/8|0,ve.write_shift(2,Ke),ve.write_shift(2,~Ke&65535);Ke-- >0;)ve[ve.l++]=Re[Ee++];Te=ve.l*8;continue}Te=vr(ve,Te,+(Ee+Ke==Re.length)+2);for(var st=0;Ke-- >0;){var Ye=Re[Ee];st=(st<<5^Ye)&32767;var nt=-1,Nt=0;if((nt=He[st])&&(nt|=Ee&-32768,nt>Ee&&(nt-=32768),nt<Ee))for(;Re[nt+Nt]==Re[Ee+Nt]&&Nt<250;)++Nt;if(Nt>2){Ye=oe[Nt],Ye<=22?Te=Gr(ve,Te,Se[Ye+1]>>1)-1:(Gr(ve,Te,3),Te+=5,Gr(ve,Te,Se[Ye-23]>>5),Te+=3);var Rr=Ye<8?0:Ye-4>>2;Rr>0&&(ni(ve,Te,Nt-de[Ye]),Te+=Rr),Ye=le[Ee-nt],Te=Gr(ve,Te,Se[Ye]>>3),Te-=3;var xr=Ye<4?0:Ye-2>>1;xr>0&&(ni(ve,Te,Ee-nt-Oe[Ye]),Te+=xr);for(var wr=0;wr<Nt;++wr)He[st]=Ee&32767,st=(st<<5^Re[Ee])&32767,++Ee;Ke-=Nt-1}else Ye<=143?Ye=Ye+48:Te=en(ve,Te,1),Te=Gr(ve,Te,Se[Ye]),He[st]=Ee&32767,++Ee}Te=Gr(ve,Te,0)-1}return ve.l=(Te+7)/8|0,ve.l}return function(ve,Te){return ve.length<8?ce(ve,Te):we(ve,Te)}}();function yt(X){var le=Ei(50+Math.floor(X.length*1.1)),ie=dt(X,le);return le.slice(0,ie)}var _r=ye?new Uint16Array(32768):zn(32768),gr=ye?new Uint16Array(32768):zn(32768),Rt=ye?new Uint16Array(128):zn(128),Kt=1,pn=1;function Xa(X,le){var ie=ot(X,le)+257;le+=5;var ae=ot(X,le)+1;le+=5;var oe=at(X,le)+4;le+=4;for(var ce=0,we=ye?new Uint8Array(19):zn(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,Te=ye?new Uint8Array(8):zn(8),Ee=ye?new Uint8Array(8):zn(8),He=we.length,Ke=0;Ke<oe;++Ke)we[se[Ke]]=ce=rt(X,le),ve<ce&&(ve=ce),Te[ce]++,le+=3;var st=0;for(Te[0]=0,Ke=1;Ke<=ve;++Ke)Ee[Ke]=st=st+Te[Ke-1]<<1;for(Ke=0;Ke<He;++Ke)(st=we[Ke])!=0&&(Re[Ke]=Ee[st]++);var Ye=0;for(Ke=0;Ke<He;++Ke)if(Ye=we[Ke],Ye!=0){st=Se[Re[Ke]]>>8-Ye;for(var nt=(1<<7-Ye)-1;nt>=0;--nt)Rt[st|nt<<Ye]=Ye&7|Ke<<3}var Nt=[];for(ve=1;Nt.length<ie+ae;)switch(st=Rt[Ue(X,le)],le+=st&7,st>>>=3){case 16:for(ce=3+mt(X,le),le+=2,st=Nt[Nt.length-1];ce-- >0;)Nt.push(st);break;case 17:for(ce=3+rt(X,le),le+=3;ce-- >0;)Nt.push(0);break;case 18:for(ce=11+Ue(X,le),le+=7;ce-- >0;)Nt.push(0);break;default:Nt.push(st),ve<st&&(ve=st);break}var Rr=Nt.slice(0,ie),xr=Nt.slice(ie);for(Ke=ie;Ke<286;++Ke)Rr[Ke]=0;for(Ke=ae;Ke<30;++Ke)xr[Ke]=0;return Kt=ya(Rr,_r,286),pn=ya(xr,gr,30),le}function Ki(X,le){if(X[0]==3&&!(X[1]&3))return[sd(le),2];for(var ie=0,ae=0,oe=zj(le||1<<18),ce=0,we=oe.length>>>0,Re=0,ve=0;(ae&1)==0;){if(ae=rt(X,ie),ie+=3,ae>>>1)ae>>1==1?(Re=9,ve=5):(ie=Xa(X,ie),Re=Kt,ve=pn);else{ie&7&&(ie+=8-(ie&7));var Te=X[ie>>>3]|X[(ie>>>3)+1]<<8;if(ie+=32,Te>0)for(!le&&we<ce+Te&&(oe=Or(oe,ce+Te),we=oe.length);Te-- >0;)oe[ce++]=X[ie>>>3],ie+=8;continue}for(;;){!le&&we<ce+32767&&(oe=Or(oe,ce+32767),we=oe.length);var Ee=Jt(X,ie,Re),He=ae>>>1==1?We[Ee]:_r[Ee];if(ie+=He&15,He>>>=4,(He>>>8&255)===0)oe[ce++]=He;else{if(He==256)break;He-=257;var Ke=He<8?0:He-4>>2;Ke>5&&(Ke=0);var st=ce+de[He];Ke>0&&(st+=Jt(X,ie,Ke),ie+=Ke),Ee=Jt(X,ie,ve),He=ae>>>1==1?qe[Ee]:gr[Ee],ie+=He&15,He>>>=4;var Ye=He<4?0:He-2>>1,nt=Oe[He];for(Ye>0&&(nt+=Jt(X,ie,Ye),ie+=Ye),!le&&we<st&&(oe=Or(oe,st+100),we=oe.length);ce<st;)oe[ce]=oe[ce-nt],++ce}}}return le?[oe,ie+7>>>3]:[oe.slice(0,ce),ie+7>>>3]}function Zi(X,le){var ie=X.slice(X.l||0),ae=Ki(ie,le);return X.l+=ae[1],ae[0]}function ii(X,le){if(X)typeof console<"u"&&console.error(le);else throw new Error(le)}function Hs(X,le){var ie=X;sa(ie,0);var ae=[],oe=[],ce={FileIndex:ae,FullPaths:oe};E(ce,{root:le.root});for(var we=ie.length-4;(ie[we]!=80||ie[we+1]!=75||ie[we+2]!=5||ie[we+3]!=6)&&we>=0;)--we;ie.l=we+4,ie.l+=4;var Re=ie.read_shift(2);ie.l+=6;var ve=ie.read_shift(4);for(ie.l=ve,we=0;we<Re;++we){ie.l+=20;var Te=ie.read_shift(4),Ee=ie.read_shift(4),He=ie.read_shift(2),Ke=ie.read_shift(2),st=ie.read_shift(2);ie.l+=8;var Ye=ie.read_shift(4),nt=o(ie.slice(ie.l+He,ie.l+He+Ke));ie.l+=He+Ke+st;var Nt=ie.l;ie.l=Ye+4,_a(ie,Te,Ee,ce,nt),ie.l=Nt}return ce}function _a(X,le,ie,ae,oe){X.l+=2;var ce=X.read_shift(2),we=X.read_shift(2),Re=s(X);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var ve=X.read_shift(4),Te=X.read_shift(4),Ee=X.read_shift(4),He=X.read_shift(2),Ke=X.read_shift(2),st="",Ye=0;Ye<He;++Ye)st+=String.fromCharCode(X[X.l++]);if(Ke){var nt=o(X.slice(X.l,X.l+Ke));(nt[21589]||{}).mt&&(Re=nt[21589].mt),((oe||{})[21589]||{}).mt&&(Re=oe[21589].mt)}X.l+=Ke;var Nt=X.slice(X.l,X.l+Te);switch(we){case 8:Nt=J(X,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var Rr=!1;ce&8&&(ve=X.read_shift(4),ve==134695760&&(ve=X.read_shift(4),Rr=!0),Te=X.read_shift(4),Ee=X.read_shift(4)),Te!=le&&ii(Rr,"Bad compressed size: "+le+" != "+Te),Ee!=ie&&ii(Rr,"Bad uncompressed size: "+ie+" != "+Ee),vn(ae,st,Nt,{unsafe:!0,mt:Re})}function Gs(X,le){var ie=le||{},ae=[],oe=[],ce=Ei(1),we=ie.compression?8:0,Re=0,ve=0,Te=0,Ee=0,He=0,Ke=X.FullPaths[0],st=Ke,Ye=X.FileIndex[0],nt=[],Nt=0;for(ve=1;ve<X.FullPaths.length;++ve)if(st=X.FullPaths[ve].slice(Ke.length),Ye=X.FileIndex[ve],!(!Ye.size||!Ye.content||st=="Sh33tJ5")){var Rr=Ee,xr=Ei(st.length);for(Te=0;Te<st.length;++Te)xr.write_shift(1,st.charCodeAt(Te)&127);xr=xr.slice(0,xr.l),nt[He]=g5e.buf(Ye.content,0);var wr=Ye.content;we==8&&(wr=te(wr)),ce=Ei(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,Re),ce.write_shift(2,we),Ye.mt?a(ce,Ye.mt):ce.write_shift(4,0),ce.write_shift(-4,nt[He]),ce.write_shift(4,wr.length),ce.write_shift(4,Ye.content.length),ce.write_shift(2,xr.length),ce.write_shift(2,0),Ee+=ce.length,ae.push(ce),Ee+=xr.length,ae.push(xr),Ee+=wr.length,ae.push(wr),ce=Ei(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,Re),ce.write_shift(2,we),ce.write_shift(4,0),ce.write_shift(-4,nt[He]),ce.write_shift(4,wr.length),ce.write_shift(4,Ye.content.length),ce.write_shift(2,xr.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,Rr),Nt+=ce.l,oe.push(ce),Nt+=xr.length,oe.push(xr),++He}return ce=Ei(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,He),ce.write_shift(2,He),ce.write_shift(4,Nt),ce.write_shift(4,Ee),ce.write_shift(2,0),xh([xh(ae),xh(oe),ce])}var Jl={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function xo(X,le){if(X.ctype)return X.ctype;var ie=X.name||"",ae=ie.match(/\.([^\.]+)$/);return ae&&Jl[ae[1]]||le&&(ae=(ie=le).match(/[\.\\]([^\.\\])+$/),ae&&Jl[ae[1]])?Jl[ae[1]]:"application/octet-stream"}function Ed(X){for(var le=Vj(X),ie=[],ae=0;ae<le.length;ae+=76)ie.push(le.slice(ae,ae+76));return ie.join(`\r
`)+`\r
`}function eu(X){var le=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Te){var Ee=Te.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],ae=le.split(`\r
`),oe=0;oe<ae.length;++oe){var ce=ae[oe];if(ce.length==0){ie.push("");continue}for(var we=0;we<ce.length;){var Re=76,ve=ce.slice(we,we+Re);ve.charAt(Re-1)=="="?Re--:ve.charAt(Re-2)=="="?Re-=2:ve.charAt(Re-3)=="="&&(Re-=3),ve=ce.slice(we,we+Re),we+=Re,we<ce.length&&(ve+="="),ie.push(ve)}}return ie.join(`\r
`)}function Ef(X){for(var le=[],ie=0;ie<X.length;++ie){for(var ae=X[ie];ie<=X.length&&ae.charAt(ae.length-1)=="=";)ae=ae.slice(0,ae.length-1)+X[++ie];le.push(ae)}for(var oe=0;oe<le.length;++oe)le[oe]=le[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return Il(le.join(`\r
`))}function tu(X,le,ie){for(var ae="",oe="",ce="",we,Re=0;Re<10;++Re){var ve=le[Re];if(!ve||ve.match(/^\s*$/))break;var Te=ve.match(/^(.*?):\s*([^\s].*)$/);if(Te)switch(Te[1].toLowerCase()){case"content-location":ae=Te[2].trim();break;case"content-type":ce=Te[2].trim();break;case"content-transfer-encoding":oe=Te[2].trim();break}}switch(++Re,oe.toLowerCase()){case"base64":we=Il(go(le.slice(Re).join("")));break;case"quoted-printable":we=Ef(le.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Ee=vn(X,ae.slice(ie.length),we,{unsafe:!0});ce&&(Ee.ctype=ce)}function mg(X,le){if(K(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=le&&le.root||"",ae=(yr&&Buffer.isBuffer(X)?X.toString("binary"):K(X)).split(`\r
`),oe=0,ce="";for(oe=0;oe<ae.length;++oe)if(ce=ae[oe],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),ie||(ie=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),ce.slice(0,ie.length)!=ie););var we=(ae[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Re="--"+(we[1]||""),ve=[],Te=[],Ee={FileIndex:ve,FullPaths:Te};E(Ee);var He,Ke=0;for(oe=0;oe<ae.length;++oe){var st=ae[oe];st!==Re&&st!==Re+"--"||(Ke++&&tu(Ee,ae.slice(He,oe),ie),He=oe)}return Ee}function rn(X,le){var ie=le||{},ae=ie.boundary||"SheetJS";ae="------="+ae;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ae.slice(2)+'"',"","",""],ce=X.FullPaths[0],we=ce,Re=X.FileIndex[0],ve=1;ve<X.FullPaths.length;++ve)if(we=X.FullPaths[ve].slice(ce.length),Re=X.FileIndex[ve],!(!Re.size||!Re.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Nt){return"_x"+Nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Nt){return"_u"+Nt.charCodeAt(0).toString(16)+"_"});for(var Te=Re.content,Ee=yr&&Buffer.isBuffer(Te)?Te.toString("binary"):K(Te),He=0,Ke=Math.min(1024,Ee.length),st=0,Ye=0;Ye<=Ke;++Ye)(st=Ee.charCodeAt(Ye))>=32&&st<128&&++He;var nt=He>=Ke*4/5;oe.push(ae),oe.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+we),oe.push("Content-Transfer-Encoding: "+(nt?"quoted-printable":"base64")),oe.push("Content-Type: "+xo(Re,we)),oe.push(""),oe.push(nt?eu(Ee):Ed(Ee))}return oe.push(ae+`--\r
`),oe.join(`\r
`)}function Un(X){var le={};return E(le,X),le}function vn(X,le,ie,ae){var oe=ae&&ae.unsafe;oe||E(X);var ce=!oe&&Er.find(X,le);if(!ce){var we=X.FullPaths[0];le.slice(0,we.length)==we?we=le:(we.slice(-1)!="/"&&(we+="/"),we=(we+le).replace("//","/")),ce={name:i(le),type:2},X.FileIndex.push(ce),X.FullPaths.push(we),oe||Er.utils.cfb_gc(X)}return ce.content=ie,ce.size=ie?ie.length:0,ae&&(ae.CLSID&&(ce.clsid=ae.CLSID),ae.mt&&(ce.mt=ae.mt),ae.ct&&(ce.ct=ae.ct)),ce}function ws(X,le){E(X);var ie=Er.find(X,le);if(ie){for(var ae=0;ae<X.FileIndex.length;++ae)if(X.FileIndex[ae]==ie)return X.FileIndex.splice(ae,1),X.FullPaths.splice(ae,1),!0}return!1}function Cd(X,le,ie){E(X);var ae=Er.find(X,le);if(ae){for(var oe=0;oe<X.FileIndex.length;++oe)if(X.FileIndex[oe]==ae)return X.FileIndex[oe].name=i(ie),X.FullPaths[oe]=ie,!0}return!1}function Uy(X){M(X,!0)}return e.find=L,e.read=D,e.parse=c,e.write=q,e.writeFile=re,e.utils={cfb_new:Un,cfb_add:vn,cfb_del:ws,cfb_mov:Cd,cfb_gc:Uy,ReadShift:dx,CheckField:ase,prep_blob:sa,bconcat:xh,use_zlib:j,_deflateRaw:yt,_inflateRaw:Zi,consts:Y},e}();function m5e(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function tc(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function B5(r){for(var e=[],t=tc(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var kE=new Date(1899,11,30,0,0,0);function ms(r,e){var t=r.getTime(),n=kE.getTime()+(r.getTimezoneOffset()-kE.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var Bae=new Date,y5e=kE.getTime()+(Bae.getTimezoneOffset()-kE.getTimezoneOffset())*6e4,Yj=Bae.getTimezoneOffset();function DD(r){var e=new Date;return e.setTime(r*24*60*60*1e3+y5e),e.getTimezoneOffset()!==Yj&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Yj)*6e4),e}function _5e(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(t=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[a],10)}return e}var Xj=new Date("2017-02-19T19:06:09.000Z"),Vae=isNaN(Xj.getFullYear())?new Date("2/19/17"):Xj,x5e=Vae.getFullYear()==2017;function qi(r,e){var t=new Date(r);if(x5e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(Vae.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Nv(r,e){if(yr&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return U_(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return U_(Aae(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return U_(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return U_(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return t[a]||a})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function ha(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=ha(r[t]));return e}function On(r,e){for(var t="";t.length<e;)t+=r;return t}function Fl(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(n)))?e/t:e}var w5e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gm(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&w5e.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||a>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var b5e=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var a=t.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function zae(r){return r?r.content&&r.type?Nv(r.content,!0):r.data?B_(r.data):r.asNodeBuffer&&yr?B_(r.asNodeBuffer().toString("binary")):r.asBinary?B_(r.asBinary()):r._data&&r._data.getContent?B_(Nv(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function Uae(r){if(!r)return null;if(r.data)return Fj(r.data);if(r.asNodeBuffer&&yr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?Fj(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function S5e(r){return r&&r.name.slice(-4)===".bin"?Uae(r):zae(r)}function Go(r,e){for(var t=r.FullPaths||tc(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return r.files?r.files[t[a]]:r.FileIndex[a]}return null}function V5(r,e){var t=Go(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function ci(r,e,t){if(!t)return S5e(V5(r,e));if(!e)return null;try{return ci(r,e)}catch{return null}}function io(r,e,t){if(!t)return zae(V5(r,e));if(!e)return null;try{return io(r,e)}catch{return null}}function T5e(r,e,t){return Uae(V5(r,e))}function Kj(r){for(var e=r.FullPaths||tc(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function A5e(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return yr?n=rg(t):n=jFe(t),Er.utils.cfb_add(r,e,n)}Er.utils.cfb_add(r,e,t)}else r.file(e,t)}function Hae(r,e){switch(e.type){case"base64":return Er.read(r,{type:"base64"});case"binary":return Er.read(r,{type:"binary"});case"buffer":case"array":return Er.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function z_(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var Gae=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,E5e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Zj=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,C5e=/<[^>]*>/g,qa=Gae.match(Zj)?Zj:C5e,D5e=/<\w*:/,I5e=/<(\/?)\w+:/;function Vt(r,e,t){for(var n={},i=0,a=0;i!==r.length&&!((a=r.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var s=r.match(E5e),o=0,l="",u=0,c="",f="",h=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(c=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(h=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+h,f.length-h),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=l,n[c.toLowerCase()]=l;else{var p=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(n[p]&&c.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function sc(r){return r.replace(I5e,"<$1")}var jae={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},R5e=B5(jae),Ir=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(r,function(o,l){return jae[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return t(i.slice(0,a))+i.slice(a+9,s)+t(i.slice(s+3))}}(),M5e=/[&<>'"]/g,k5e=/[\u0000-\u001f]/g;function z5(r){var e=r+"";return e.replace(M5e,function(t){return R5e[t]}).replace(/\n/g,"<br/>").replace(k5e,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var Qj=function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}}();function yn(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Dk(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Jj(r){var e=sd(2*r.length),t,n,i=1,a=0,s=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function eW(r){return rg(r,"binary").toString("utf8")}var NT="foo bar bazâð£",cn=yr&&(eW(NT)==Dk(NT)&&eW||Jj(NT)==Dk(NT)&&Jj)||Dk,U_=yr?function(r){return rg(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},ow=function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),Wae=function(){var r=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),P5e=function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),L5e=/<\/?(?:vt:)?variant>/g,O5e=/<(?:vt:)([^>]*)>([\s\S]*)</;function tW(r,e){var t=Vt(r),n=r.match(P5e(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(a){var s=a.replace(L5e,"").match(O5e);s&&i.push({v:cn(s[2]),t:s[1]})}),i}var N5e=/(^\s|\s$|\n)/;function F5e(r){return tc(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function B5e(r,e,t){return"<"+r+(t!=null?F5e(t):"")+(e!=null?(e.match(N5e)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function U5(r){if(yr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return cn(ng(O5(r)));throw new Error("Bad input format: expected Buffer or string")}var lw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,V5e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},z5e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function U5e(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,a=5;a>=0;--a)i=i*256+r[e+a];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function H5e(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)r[t+o]=a&255;r[t+6]=(i&15)<<4|a&15,r[t+7]=i>>4|n}var rW=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},nW=yr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:rg(e)})):rW(r)}:rW,iW=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode($c(r,i)));return n.join("").replace(ds,"")},H5=yr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(ds,""):iW(r,e,t)}:iW,aW=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},$ae=yr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):aW(r,e,t)}:aW,sW=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(L0(r,i)));return n.join("")},yb=yr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):sW(e,t,n)}:sW,qae=function(r,e){var t=ro(r,e);return t>0?yb(r,e+4,e+4+t-1):""},Yae=qae,Xae=function(r,e){var t=ro(r,e);return t>0?yb(r,e+4,e+4+t-1):""},Kae=Xae,Zae=function(r,e){var t=2*ro(r,e);return t>0?yb(r,e+4,e+4+t-1):""},Qae=Zae,Jae=function(e,t){var n=ro(e,t);return n>0?H5(e,t+4,t+4+n):""},ese=Jae,tse=function(r,e){var t=ro(r,e);return t>0?yb(r,e+4,e+4+t):""},rse=tse,nse=function(r,e){return U5e(r,e)},PE=nse,ise=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};yr&&(Yae=function(e,t){if(!Buffer.isBuffer(e))return qae(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Kae=function(e,t){if(!Buffer.isBuffer(e))return Xae(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Qae=function(e,t){if(!Buffer.isBuffer(e))return Zae(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},ese=function(e,t){if(!Buffer.isBuffer(e))return Jae(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},rse=function(e,t){if(!Buffer.isBuffer(e))return tse(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},PE=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):nse(e,t)},ise=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var L0=function(r,e){return r[e]},$c=function(r,e){return r[e+1]*256+r[e]},G5e=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},ro=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Up=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},j5e=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function dx(r,e){var t="",n,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,yr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode($c(this,u)),u+=2;r*=2;break;case"utf8":t=yb(this,this.l,this.l+r);break;case"utf16le":r*=2,t=H5(this,this.l,this.l+r);break;case"wstr":return dx.call(this,r,"dbcs");case"lpstr-ansi":t=Yae(this,this.l),r=4+ro(this,this.l);break;case"lpstr-cp":t=Kae(this,this.l),r=4+ro(this,this.l);break;case"lpwstr":t=Qae(this,this.l),r=4+2*ro(this,this.l);break;case"lpp4":r=4+ro(this,this.l),t=ese(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+ro(this,this.l),t=rse(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=L0(this,this.l+r++))!==0;)a.push(OT(s));t=a.join("");break;case"_wstr":for(r=0,t="";(s=$c(this,this.l+r))!==0;)a.push(OT(s)),r+=2;r+=2,t=a.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=L0(this,u),this.l=u+1,o=dx.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(OT($c(this,u))),u+=2}t=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=L0(this,u),this.l=u+1,o=dx.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(OT(L0(this,u))),u+=1}t=a.join("");break;default:switch(r){case 1:return n=L0(this,this.l),this.l++,n;case 2:return n=(e==="i"?G5e:$c)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Up:j5e)(this,this.l),this.l+=4,n):(i=ro(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=PE(this,this.l):i=PE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=$ae(this,this.l,r);break}}return this.l+=r,t}var W5e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},$5e=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},q5e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function Y5e(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)q5e(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,W5e(this,e,this.l);break;case 8:if(n=8,t==="f"){H5e(this,e,this.l);break}case 16:break;case-4:n=4,$5e(this,e,this.l);break}return this.l+=n,this}function ase(r,e){var t=$ae(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function sa(r,e){r.l=e,r.read_shift=dx,r.chk=ase,r.write_shift=Y5e}function Ha(r,e){r.l+=e}function Ei(r){var e=sd(r);return sa(e,0),e}function Tf(r,e,t){if(r){var n,i,a;sa(r,r.l||0);for(var s=r.length,o=0,l=0;r.l<s;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var u=VE[o]||VE[65535];for(n=r.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=r.read_shift(1))&127)<<7*i;l=r.l+a;var c=u.f&&u.f(r,a,t);if(r.l=l,e(c,u,o))return}}}function EN(){var r=[],e=yr?256:2048,t=function(u){var c=Ei(u);return sa(c,0),c},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=t(Math.max(u+1,e)))},s=function(){return i(),xh(r)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:r}}function px(r,e,t){var n=ha(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function oW(r,e,t){var n=ha(r);return n.s=px(n.s,e.s,t),n.e=px(n.e,e.s,t),n}function vx(r,e){if(r.cRel&&r.c<0)for(r=ha(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=ha(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Wt(r);return!r.cRel&&r.cRel!=null&&(t=Z5e(t)),!r.rRel&&r.rRel!=null&&(t=X5e(t)),t}function Ik(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Di(r.s.c)+":"+(r.e.cRel?"":"$")+Di(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+da(r.s.r)+":"+(r.e.rRel?"":"$")+da(r.e.r):vx(r.s,e.biff)+":"+vx(r.e,e.biff)}function G5(r){return parseInt(K5e(r),10)-1}function da(r){return""+(r+1)}function X5e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function K5e(r){return r.replace(/\$(\d+)$/,"$1")}function j5(r){for(var e=Q5e(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Di(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function Z5e(r){return r.replace(/^([A-Z])/,"$$$1")}function Q5e(r){return r.replace(/^\$([A-Z])/,"$1")}function J5e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fs(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Wt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function _y(r){var e=r.indexOf(":");return e==-1?{s:fs(r),e:fs(r)}:{s:fs(r.slice(0,e)),e:fs(r.slice(e+1))}}function Cr(r,e){return typeof e>"u"||typeof e=="number"?Cr(r.s,r.e):(typeof r!="string"&&(r=Wt(r)),typeof e!="string"&&(e=Wt(e)),r==e?r:r+":"+e)}function Fn(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,a=r.length;for(t=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function lW(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=sl(r.z,t?ms(e):e)}catch{}try{return r.w=sl((r.XF||{}).numFmtId||(t?14:0),t?ms(e):e)}catch{return""+e}}function pf(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?sg[r.v]||r.v:e==null?lW(r,r.v):lW(r,e))}function xd(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function sse(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,a=r||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?fs(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Fn(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=s+f,m=o+h;if(u.s.r>v&&(u.s.r=v),u.s.c>m&&(u.s.c=m),u.e.r<v&&(u.e.r=v),u.e.c<m&&(u.e.c=m),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Zt[14],n.cellDates?(p.t="d",p.w=sl(p.z,ms(p.v))):(p.t="n",p.v=ms(p.v),p.w=sl(p.z,p.v))):p.t="s";if(i)a[v]||(a[v]=[]),a[v][m]&&a[v][m].z&&(p.z=a[v][m].z),a[v][m]=p;else{var y=Wt({c:m,r:v});a[y]&&a[y].z&&(p.z=a[y].z),a[y]=p}}}return u.s.c<1e7&&(a["!ref"]=Cr(u)),a}function xy(r,e){return sse(null,r,e)}function eBe(r){return r.read_shift(4,"i")}function Ba(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function tBe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function W5(r,e){var t=r.l,n=r.read_shift(1),i=Ba(r),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)a.push(tBe(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}var rBe=W5;function ul(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function ig(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var nBe=Ba;function $5(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var iBe=Ba,CN=$5;function q5(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?PE([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Up(e,0)>>2;return t?i/100:i}function ose(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var ag=ose;function Pa(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function aBe(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=gv[i];u&&(e.rgb=cw(u));break;case 2:e.rgb=cw([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function sBe(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function lse(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function oBe(r){return lse(r,1)}function lBe(r){return lse(r,2)}var Y5=2,Ms=3,FT=11,uW=12,LE=19,BT=64,uBe=65,cBe=71,fBe=4108,hBe=4126,ji=80,use=81,dBe=[ji,use],pBe={1:{n:"CodePage",t:Y5},2:{n:"Category",t:ji},3:{n:"PresentationFormat",t:ji},4:{n:"ByteCount",t:Ms},5:{n:"LineCount",t:Ms},6:{n:"ParagraphCount",t:Ms},7:{n:"SlideCount",t:Ms},8:{n:"NoteCount",t:Ms},9:{n:"HiddenCount",t:Ms},10:{n:"MultimediaClipCount",t:Ms},11:{n:"ScaleCrop",t:FT},12:{n:"HeadingPairs",t:fBe},13:{n:"TitlesOfParts",t:hBe},14:{n:"Manager",t:ji},15:{n:"Company",t:ji},16:{n:"LinksUpToDate",t:FT},17:{n:"CharacterCount",t:Ms},19:{n:"SharedDoc",t:FT},22:{n:"HyperlinksChanged",t:FT},23:{n:"AppVersion",t:Ms,p:"version"},24:{n:"DigSig",t:uBe},26:{n:"ContentType",t:ji},27:{n:"ContentStatus",t:ji},28:{n:"Language",t:ji},29:{n:"Version",t:ji},255:{},2147483648:{n:"Locale",t:LE},2147483651:{n:"Behavior",t:LE},1919054434:{}},vBe={1:{n:"CodePage",t:Y5},2:{n:"Title",t:ji},3:{n:"Subject",t:ji},4:{n:"Author",t:ji},5:{n:"Keywords",t:ji},6:{n:"Comments",t:ji},7:{n:"Template",t:ji},8:{n:"LastAuthor",t:ji},9:{n:"RevNumber",t:ji},10:{n:"EditTime",t:BT},11:{n:"LastPrinted",t:BT},12:{n:"CreatedDate",t:BT},13:{n:"ModifiedDate",t:BT},14:{n:"PageCount",t:Ms},15:{n:"WordCount",t:Ms},16:{n:"CharCount",t:Ms},17:{n:"Thumbnail",t:cBe},18:{n:"Application",t:ji},19:{n:"DocSecurity",t:Ms},255:{},2147483648:{n:"Locale",t:LE},2147483651:{n:"Behavior",t:LE},1919054434:{}},cW={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},gBe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mBe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var yBe=mBe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),gv=ha(yBe),sg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},fW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function _Be(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function xBe(r){var e=_Be();if(!r||!r.match)return e;var t={};if((r.match(qa)||[]).forEach(function(n){var i=Vt(n);switch(i[0].replace(D5e,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[fW[i.ContentType]]!==void 0&&e[fW[i.ContentType]].push(i.PartName);break}}),e.xmlns!==V5e.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Z0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function DN(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function gx(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(qa)||[]).forEach(function(i){var a=Vt(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:z_(a.Target,e);t[o]=s,n[a.Id]=s}}),t["!id"]=n,t}var wBe="application/vnd.oasis.opendocument.spreadsheet";function bBe(r,e){for(var t=U5(r),n,i;n=lw.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Vt(n[0],!1),i.path=="/"&&i.type!==wBe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var mx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],SBe=function(){for(var r=new Array(mx.length),e=0;e<mx.length;++e){var t=mx[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function fse(r){var e={};r=cn(r);for(var t=0;t<mx.length;++t){var n=mx[t],i=r.match(SBe[t]);i!=null&&i.length>0&&(e[n[1]]=Ir(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=qi(e[n[1]]))}return e}var TBe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function hse(r,e,t,n){var i=[];if(typeof r=="string")i=tW(r,n);else for(var a=0;a<r.length;++a)i=i.concat(r[a].map(function(c){return{v:c}}));var s=typeof e=="string"?tW(e,n).map(function(c){return c.v}):e,o=0,l=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":t.NamedRanges=l,t.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=s.slice(o,o+l);break}o+=l}}function ABe(r,e,t){var n={};return e||(e={}),r=cn(r),TBe.forEach(function(i){var a=(r.match(ow(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Ir(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&hse(n.HeadingPairs,n.TitlesOfParts,e,t),e}var EBe=/<[^>]+>[^<]*/g;function CBe(r,e){var t={},n="",i=r.match(EBe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=Vt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ir(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[n]=Ir(c);break;case"bool":t[n]=yn(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(c);break;case"filetime":case"date":t[n]=qi(c);break;case"cy":case"error":t[n]=Ir(c);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}var DBe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Rk;function IBe(r,e,t){Rk||(Rk=B5(DBe)),e=Rk[e]||e,r[e]=t}function X5(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function dse(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function pse(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function vse(r,e,t){return e===31?pse(r):dse(r,e,t)}function IN(r,e,t){return vse(r,e,t===!1?0:4)}function RBe(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return vse(r,e,0)}function MBe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(ds,""),r.l-i&2&&(r.l+=2)}return t}function kBe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(ds,"");return t}function PBe(r){var e=r.l,t=OE(r,use);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=OE(r,Ms);return[t,n]}function LBe(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(PBe(r));return t}function hW(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var a=r.read_shift(4),s=r.read_shift(4);n[a]=r.read_shift(s,e===1200?"utf16le":"utf8").replace(ds,"").replace(V_,"!"),e===1200&&s%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function gse(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function OBe(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function OE(r,e,t){var n=r.read_shift(2),i,a=t||{};if(r.l+=2,e!==uW&&n!==e&&dBe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===uW?n:e){case 2:return i=r.read_shift(2,"i"),a.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return dse(r,n,4).replace(ds,"");case 31:return pse(r);case 64:return X5(r);case 65:return gse(r);case 71:return OBe(r);case 80:return IN(r,n,!a.raw).replace(ds,"");case 81:return RBe(r,n).replace(ds,"");case 4108:return LBe(r);case 4126:case 4127:return n==4127?MBe(r):kBe(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function dW(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0,o=0,l=-1,u={};for(s=0;s!=i;++s){var c=r.read_shift(4),f=r.read_shift(4);a[s]=[c,f+t]}a.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=i;++s){if(r.l!==a[s][1]){var p=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:r.l+2===a[s][1]&&(r.l+=2,p=!1);break;case 80:r.l<=a[s][1]&&(r.l=a[s][1],p=!1);break;case 4108:r.l<=a[s][1]&&(r.l=a[s][1],p=!1);break}if((!e||s==0)&&r.l<=a[s][1]&&(p=!1,r.l=a[s][1]),p)throw new Error("Read Error: Expected address "+a[s][1]+" at "+r.l+" :"+s)}if(e){var v=e[a[s][0]];if(h[v.n]=OE(r,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:kl(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(a[s][0]===1){if(o=h.CodePage=OE(r,Y5),kl(o),l!==-1){var m=r.l;r.l=a[l][1],u=hW(r,o),r.l=m}}else if(a[s][0]===0){if(o===0){l=s,r.l=a[s+1][1];continue}u=hW(r,o)}else{var y=u[a[s][0]],x;switch(r[r.l]){case 65:r.l+=4,x=gse(r);break;case 30:r.l+=4,x=IN(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,x=IN(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,x=r.read_shift(4,"i");break;case 19:r.l+=4,x=r.read_shift(4);break;case 5:r.l+=4,x=r.read_shift(8,"f");break;case 11:r.l+=4,x=jn(r,4);break;case 64:r.l+=4,x=qi(X5(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[y]=x}}return r.l=t+n,h}function pW(r,e,t){var n=r.content;if(!n)return{};sa(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),c=n.read_shift(16);if(c!==Er.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=dW(n,e),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=a,i===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=dW(n,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[a,s],h}function Zf(r,e){return r.read_shift(e),null}function NBe(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function jn(r,e){return r.read_shift(e)===1}function fi(r){return r.read_shift(2,"u")}function mse(r,e){return NBe(r,e,fi)}function FBe(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function _b(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=r.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=n?r.read_shift(n,i):"";return s}function BBe(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,a=1+(t&1),s=0,o,l={};i&&(s=r.read_shift(2)),n&&(o=r.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",c=e===0?"":r.read_shift(e,u);return i&&(r.l+=4*s),n&&(r.l+=o),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Fv(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function xb(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Fv(r,n,t)}function og(r,e,t){if(t.biff>5)return xb(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function VBe(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function zBe(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(ds,"");return n&&(r.l+=24),i}function UBe(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var a=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=r.read_shift(a>>1,"utf16le").replace(ds,"");return t+s}function HBe(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return zBe(r);case"0303000000000000c000000000000046":return UBe(r);default:throw new Error("Unsupported Moniker "+t)}}function VT(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(ds,""):"";return t}function GBe(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var a,s,o,l,u="",c,f;i&16&&(a=VT(r,t-r.l)),i&128&&(s=VT(r,t-r.l)),(i&257)===257&&(o=VT(r,t-r.l)),(i&257)===1&&(l=HBe(r,t-r.l)),i&8&&(u=VT(r,t-r.l)),i&32&&(c=r.read_shift(16)),i&64&&(f=X5(r)),r.l=t;var h=s||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return c&&(p.guid=c),f&&(p.time=f),a&&(p.Tooltip=a),p}function yse(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function _se(r,e){var t=yse(r);return t[3]=0,t}function oc(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function jBe(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function WBe(r,e,t){return e===0?"":og(r,e,t)}function $Be(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function xse(r){var e=r.read_shift(2),t=q5(r);return[e,t]}function qBe(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=_b(r,e,t),a=r.read_shift(2);if(n-=r.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return r.l+=a,i}function ID(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function wse(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var YBe=wse;function bse(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function XBe(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function KBe(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function Sa(r){r.l+=2,r.l+=r.read_shift(2)}var ZBe={0:Sa,4:Sa,5:Sa,6:Sa,7:KBe,8:Sa,9:Sa,10:Sa,11:Sa,12:Sa,13:XBe,14:Sa,15:Sa,16:Sa,17:Sa,18:Sa,19:Sa,20:Sa,21:bse};function QBe(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(ZBe[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function zT(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function JBe(r,e){return e===0||r.read_shift(2),1200}function eVe(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=og(r,0,t);return r.read_shift(e+n-r.l),i}function tVe(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function rVe(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,a=r.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=_b(r,0,t);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function nVe(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0;s!=i&&r.l<t;++s)a.push(BBe(r));return a.Count=n,a.Unique=i,a}function iVe(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function aVe(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function sVe(r){var e=jBe(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function oVe(r){return r.read_shift(2),r.read_shift(4)}function vW(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function lVe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),u=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:u}}function uVe(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function cVe(){}function fVe(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=_b(r,0,t),n}function hVe(r){var e=oc(r);return e.isst=r.read_shift(4),e}function dVe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=oc(r);t.biff==2&&r.l++;var a=xb(r,n-r.l,t);return i.val=a,i}function pVe(r,e,t){var n=r.read_shift(2),i=og(r,0,t);return[n,i]}var vVe=og;function gW(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,a=r.read_shift(i),s=r.read_shift(i),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function gVe(r){var e=r.read_shift(2),t=r.read_shift(2),n=xse(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function mVe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(xse(r));if(r.l!==t)throw new Error("MulRK read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function yVe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function _Ve(r,e,t,n){var i={},a=r.read_shift(4),s=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return i.patternType=gBe[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function xVe(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=_Ve(r,e,n.fStyle,t),n}function wVe(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function mW(r,e,t){var n=oc(r);(t.biff==2||e==9)&&++r.l;var i=FBe(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function bVe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=oc(r),i=Pa(r);return n.val=i,n}var yW=WBe;function SVe(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Fv(r,a),o=[];n>r.l;)o.push(xb(r));return[a,i,s,o]}function _W(r,e,t){var n=r.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=qBe(r,e-2,t)),a.body=i||r.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var TVe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function xW(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(1),s=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var u=Fv(r,s,t);i&32&&(u=TVe[u.charCodeAt(0)]);var c=n-r.l;t&&t.biff==2&&--c;var f=n==r.l||o===0||!(c>0)?[]:a9e(r,c,t,o);return{chKey:a,Name:u,itab:l,rgce:f}}function Sse(r,e,t){if(t.biff<8)return AVe(r,e,t);for(var n=[],i=r.l+e,a=r.read_shift(t.biff>8?4:2);a--!==0;)n.push($Be(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function AVe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=_b(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function EVe(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),a=Fv(r,n,t),s=Fv(r,i,t);return[a,s]}function CVe(r,e,t){var n=wse(r);r.l++;var i=r.read_shift(1);return e-=8,[s9e(r,e,t),i,n]}function wW(r,e,t){var n=YBe(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,n9e(r,e,t)]}function DVe(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function IVe(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=og(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,s,a]}}function RVe(r,e,t){return IVe(r,e,t)}function MVe(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(ID(r));return t}function kVe(r,e,t){if(t&&t.biff<8)return LVe(r,e,t);var n=bse(r),i=QBe(r,e-22,n[1]);return{cmo:n,ft:i}}var PVe={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function LVe(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var s=[];return s.push((PVe[n]||Ha)(r,e,t)),{cmo:[i,n,a],ft:s}}function OVe(r,e,t){var n=r.l,i="";try{r.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?r.l+=6:s=VBe(r,6,t);var o=r.read_shift(2);r.read_shift(2),fi(r,2);var l=r.read_shift(2);r.l+=l;for(var u=1;u<r.lens.length-1;++u){if(r.l-n!=r.lens[u])throw new Error("TxO: bad continue record");var c=r[r.l],f=Fv(r,r.lens[u+1]-r.lens[u]-1);if(i+=f,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function NVe(r,e){var t=ID(r);r.l+=16;var n=GBe(r,e-24);return[t,n]}function FVe(r,e){r.read_shift(2);var t=ID(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(ds,""),[t,n]}function BVe(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=cW[t]||t,t=r.read_shift(2),e[1]=cW[t]||t,e}function VVe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(_se(r));return t}function zVe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(_se(r));return t}function UVe(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function Tse(r,e,t){if(!t.cellStyles)return Ha(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function HVe(r,e){var t={};return e<32||(r.l+=16,t.header=Pa(r),t.footer=Pa(r),r.l+=2),t}function GVe(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var jVe=oc,WVe=mse,$Ve=xb;function qVe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function YVe(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=oc(r);++r.l;var i=og(r,e-7,t);return n.t="str",n.val=i,n}function XVe(r){var e=oc(r);++r.l;var t=Pa(r);return e.t="n",e.val=t,e}function KVe(r){var e=oc(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function ZVe(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function QVe(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function JVe(r,e,t){var n=r.l+e,i=oc(r),a=r.read_shift(2),s=Fv(r,a,t);return r.l=n,i.t="str",i.val=s,i}var e6e=[2,3,48,49,131,139,140,245],bW=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=B5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var u=[],c=sd(1);switch(l.type){case"base64":c=Il(go(o));break;case"binary":c=Il(o);break;case"buffer":case"array":c=o;break}sa(c,0);var f=c.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,y=521;f==2&&(m=c.read_shift(2)),c.l+=3,f!=2&&(m=c.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(y=c.read_shift(2));var x=c.read_shift(2),w=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(w=r[c[c.l]]),c.l+=1,c.l+=2),v&&(c.l+=36);for(var b=[],T={},C=Math.min(c.length,f==2?521:y-10-(p?264:0)),D=v?32:11;c.l<C&&c[c.l]!=13;)switch(T={},T.name=aw.utils.decode(w,c.slice(c.l,c.l+D)).replace(/[\u0000\r\n].*$/g,""),c.l+=D,T.type=String.fromCharCode(c.read_shift(1)),f!=2&&!v&&(T.offset=c.read_shift(4)),T.len=c.read_shift(1),f==2&&(T.offset=c.read_shift(2)),T.dec=c.read_shift(1),T.name.length&&b.push(T),f!=2&&(c.l+=v?13:14),T.type){case"B":(!p||T.len!=8)&&l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(c[c.l]!==13&&(c.l=y-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=y;var E=0,R=0;for(u[0]=[],R=0;R!=b.length;++R)u[0][R]=b[R].name;for(;m-- >0;){if(c[c.l]===42){c.l+=x;continue}for(++c.l,u[++E]=[],R=0,R=0;R!=b.length;++R){var M=c.slice(c.l,c.l+b[R].len);c.l+=b[R].len,sa(M,0);var k=aw.utils.decode(w,M);switch(b[R].type){case"C":k.trim().length&&(u[E][R]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[E][R]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[E][R]=k;break;case"F":u[E][R]=parseFloat(k.trim());break;case"+":case"I":u[E][R]=v?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[E][R]=!0;break;case"N":case"F":u[E][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[E][R]="##MEMO##"+(v?parseInt(k.trim(),10):M.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[E][R]=+k||0);break;case"@":u[E][R]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":u[E][R]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":u[E][R]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][R]=-M.read_shift(-8,"f");break;case"B":if(p&&b[R].len==8){u[E][R]=M.read_shift(8,"f");break}case"G":case"P":M.l+=b[R].len;break;case"0":if(b[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[R].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=xy(t(o,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(o,l){try{return xd(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&kl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=EN(),f=ON(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],m=0,y=0,x=0,w=1;for(m=0;m<h.length;++m){if(((v[m]||{}).DBF||{}).name){h[m]=v[m].DBF.name,++x;continue}if(h[m]!=null){if(++x,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(y=0;y<1024;++y)if(h.indexOf(h[m]+"_"+y)==-1){h[m]+="_"+y;break}}}}var b=Fn(o["!ref"]),T=[],C=[],D=[];for(m=0;m<=b.e.c-b.s.c;++m){var E="",R="",M=0,k=[];for(y=0;y<p.length;++y)p[y][m]!=null&&k.push(p[y][m]);if(k.length==0||h[m]==null){T[m]="?";continue}for(y=0;y<k.length;++y){switch(typeof k[y]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=k[y]instanceof Date?"D":"C";break;default:R="C"}M=Math.max(M,String(k[y]).length),E=E&&E!=R?"C":R}M>250&&(M=250),R=((v[m]||{}).DBF||{}).type,R=="C"&&v[m].DBF.len>M&&(M=v[m].DBF.len),E=="B"&&R=="N"&&(E="N",D[m]=v[m].DBF.dec,M=v[m].DBF.len),C[m]=E=="C"||R=="N"?M:a[E]||0,w+=C[m],T[m]=E}var L=c.next(32);for(L.write_shift(4,318902576),L.write_shift(4,p.length),L.write_shift(2,296+32*x),L.write_shift(2,w),m=0;m<4;++m)L.write_shift(4,0);for(L.write_shift(4,0|(+e[Sae]||3)<<8),m=0,y=0;m<h.length;++m)if(h[m]!=null){var O=c.next(32),N=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,N,"sbcs"),O.write_shift(1,T[m]=="?"?"C":T[m],"sbcs"),O.write_shift(4,y),O.write_shift(1,C[m]||a[T[m]]||0),O.write_shift(1,D[m]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),y+=C[m]||a[T[m]]||0}var W=c.next(264);for(W.write_shift(4,13),m=0;m<65;++m)W.write_shift(4,0);for(m=0;m<p.length;++m){var U=c.next(w);for(U.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(T[y]){case"L":U.write_shift(1,p[m][y]==null?63:p[m][y]?84:70);break;case"B":U.write_shift(8,p[m][y]||0,"f");break;case"N":var z="0";for(typeof p[m][y]=="number"&&(z=p[m][y].toFixed(D[y]||0)),x=0;x<C[y]-z.length;++x)U.write_shift(1,32);U.write_shift(1,z,"sbcs");break;case"D":p[m][y]?(U.write_shift(4,("0000"+p[m][y].getFullYear()).slice(-4),"sbcs"),U.write_shift(2,("00"+(p[m][y].getMonth()+1)).slice(-2),"sbcs"),U.write_shift(2,("00"+p[m][y].getDate()).slice(-2),"sbcs")):U.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(p[m][y]!=null?p[m][y]:"").slice(0,C[y]);for(U.write_shift(1,Y,"sbcs"),x=0;x<C[y]-Y.length;++x)U.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),t6e=function(){var r={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+tc(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,p){var v=r[p];return typeof v=="number"?Bj(v):v},n=function(h,p,v){var m=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return m==59?h:Bj(m)};r["|"]=254;function i(h,p){switch(p.type){case"base64":return a(go(h),p);case"binary":return a(h,p);case"buffer":return a(yr&&Buffer.isBuffer(h)?h.toString("binary"):ng(h),p);case"array":return a(Nv(h),p)}throw new Error("Unrecognized type "+p.type)}function a(h,p){var v=h.split(/[\n\r]+/),m=-1,y=-1,x=0,w=0,b=[],T=[],C=null,D={},E=[],R=[],M=[],k=0,L;for(+p.codepage>=0&&kl(+p.codepage);x!==v.length;++x){k=0;var O=v[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),N=O.replace(/;;/g,"\0").split(";").map(function(se){return se.replace(/\u0000/g,";")}),W=N[0],U;if(O.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&T.push(O.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,Y=!1,re=!1,K=!1,q=-1,Q=-1;for(w=1;w<N.length;++w)switch(N[w].charAt(0)){case"A":break;case"X":y=parseInt(N[w].slice(1))-1,Y=!0;break;case"Y":for(m=parseInt(N[w].slice(1))-1,Y||(y=0),L=b.length;L<=m;++L)b[L]=[];break;case"K":U=N[w].slice(1),U.charAt(0)==='"'?U=U.slice(1,U.length-1):U==="TRUE"?U=!0:U==="FALSE"?U=!1:isNaN(Fl(U))?isNaN(Gm(U).getDate())||(U=qi(U)):(U=Fl(U),C!==null&&yy(C)&&(U=DD(U))),z=!0;break;case"E":K=!0;var j=gm(N[w].slice(1),{r:m,c:y});b[m][y]=[b[m][y],j];break;case"S":re=!0,b[m][y]=[b[m][y],"S5S"];break;case"G":break;case"R":q=parseInt(N[w].slice(1))-1;break;case"C":Q=parseInt(N[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}if(z&&(b[m][y]&&b[m][y].length==2?b[m][y][0]=U:b[m][y]=U,C=null),re){if(K)throw new Error("SYLK shared formula cannot have own formula");var J=q>-1&&b[q][Q];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");b[m][y][1]=Lse(J[1],{r:m-q,c:y-Q})}break;case"F":var te=0;for(w=1;w<N.length;++w)switch(N[w].charAt(0)){case"X":y=parseInt(N[w].slice(1))-1,++te;break;case"Y":for(m=parseInt(N[w].slice(1))-1,L=b.length;L<=m;++L)b[L]=[];break;case"M":k=parseInt(N[w].slice(1))/20;break;case"F":break;case"G":break;case"P":C=T[parseInt(N[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=N[w].slice(1).split(" "),L=parseInt(M[0],10);L<=parseInt(M[1],10);++L)k=parseInt(M[2],10),R[L-1]=k===0?{hidden:!0}:{wch:k},jm(R[L-1]);break;case"C":y=parseInt(N[w].slice(1))-1,R[y]||(R[y]={});break;case"R":m=parseInt(N[w].slice(1))-1,E[m]||(E[m]={}),k>0?(E[m].hpt=k,E[m].hpx=fw(k)):k===0&&(E[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}te<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}}return E.length>0&&(D["!rows"]=E),R.length>0&&(D["!cols"]=R),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,D]}function s(h,p){var v=i(h,p),m=v[0],y=v[1],x=xy(m,p);return tc(y).forEach(function(w){x[w]=y[w]}),x}function o(h,p){return xd(s(h,p),p)}function l(h,p,v,m){var y="C;Y"+(v+1)+";X"+(m+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Uze(h.f,{r:v,c:m}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,p){p.forEach(function(v,m){var y="F;W"+(m+1)+" "+(m+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=FE(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=BE(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function c(h,p){p.forEach(function(v,m){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*Mse(v.hpx)+";"),y.length>2&&h.push(y+"R"+(m+1))})}function f(h,p){var v=["ID;PWXL;N;E"],m=[],y=Fn(h["!ref"]),x,w=Array.isArray(h),b=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&c(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var T=y.s.r;T<=y.e.r;++T)for(var C=y.s.c;C<=y.e.c;++C){var D=Wt({r:T,c:C});x=w?(h[T]||[])[C]:h[D],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,h,T,C))}return v.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),r6e=function(){function r(a,s){switch(s.type){case"base64":return e(go(a),s);case"binary":return e(a,s);case"buffer":return e(yr&&Buffer.isBuffer(a)?a.toString("binary"):ng(a),s);case"array":return e(Nv(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,f=[];c!==o.length;++c){if(o[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[c].trim().split(","),p=h[0],v=h[1];++c;for(var m=o[c]||"";(m.match(/["]/g)||[]).length&1&&c<o.length-1;)m+=`
`+o[++c];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][u]=!0:m==="FALSE"?f[l][u]=!1:isNaN(Fl(v))?isNaN(Gm(v).getDate())?f[l][u]=v:f[l][u]=qi(v):f[l][u]=Fl(v),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function t(a,s){return xy(r(a,s),s)}function n(a,s){return xd(t(a,s),s)}var i=function(){var a=function(l,u,c,f,h){l.push(u),l.push(c+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=Fn(l["!ref"]),f,h=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var p=c.s.r;p<=c.e.r;++p){s(u,-1,0,"BOT");for(var v=c.s.c;v<=c.e.c;++v){var m=Wt({r:p,c:v});if(f=h?(l[p]||[])[v]:l[m],!f){s(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,y,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=sl(f.z||Zt[14],ms(qi(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var x=`\r
`,w=u.join(x);return w}}();return{to_workbook:n,to_sheet:t,from_sheet:i}}(),n6e=function(){function r(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,h){for(var p=f.split(`
`),v=-1,m=-1,y=0,x=[];y!==p.length;++y){var w=p[y].trim().split(":");if(w[0]==="cell"){var b=fs(w[1]);if(x.length<=b.r)for(v=x.length;v<=b.r;++v)x[v]||(x[v]=[]);switch(v=b.r,m=b.c,w[2]){case"t":x[v][m]=r(w[3]);break;case"v":x[v][m]=+w[3];break;case"vtf":var T=w[w.length-1];case"vtc":switch(w[3]){case"nl":x[v][m]=!!+w[4];break;default:x[v][m]=+w[4];break}w[2]=="vtf"&&(x[v][m]=[x[v][m],T])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return xy(t(f,h),h)}function i(f,h){return xd(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,m="",y=_y(f["!ref"]),x=Array.isArray(f),w=y.s.r;w<=y.e.r;++w)for(var b=y.s.c;b<=y.e.c;++b)if(m=Wt({r:w,c:b}),v=x?(f[w]||[])[b]:f[m],!(!v||v.v==null||v.t==="z")){switch(p=["cell",m,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var T=ms(qi(v.v));p[2]="vtc",p[3]="nd",p[4]=""+T,p[5]=v.w||sl(v.z||Zt[14],T);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(f){return[a,s,o,s,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),uw=function(){function r(c,f,h,p,v){v.raw?f[h][p]=c:c===""||(c==="TRUE"?f[h][p]=!0:c==="FALSE"?f[h][p]=!1:isNaN(Fl(c))?isNaN(Gm(c).getDate())?f[h][p]=c:f[h][p]=qi(c):f[h][p]=Fl(c))}function e(c,f){var h=f||{},p=[];if(!c||c.length===0)return p;for(var v=c.split(/[\r\n]/),m=v.length-1;m>=0&&v[m].length===0;)--m;for(var y=10,x=0,w=0;w<=m;++w)x=v[w].indexOf(" "),x==-1?x=v[w].length:x++,y=Math.max(y,x);for(w=0;w<=m;++w){p[w]=[];var b=0;for(r(v[w].slice(0,y).trim(),p,w,b,h),b=1;b<=(v[w].length-y)/10+1;++b)r(v[w].slice(y+(b-1)*10,y+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var f={},h=!1,p=0,v=0;p<c.length;++p)(v=c.charCodeAt(p))==34?h=!h:!h&&v in t&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(m,y){return m[0]-y[0]||n[m[1]]-n[y[1]]}),t[v.pop()[1]]||44}function a(c,f){var h=f||{},p="",v=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(p=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(p=c.charAt(4),c=c.slice(6)):p=i(c.slice(0,1024)):h&&h.FS?p=h.FS:p=i(c.slice(0,1024));var y=0,x=0,w=0,b=0,T=0,C=p.charCodeAt(0),D=!1,E=0,R=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var M=h.dateNF!=null?p5e(h.dateNF):null;function k(){var L=c.slice(b,T),O={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)O.t="z";else if(h.raw)O.t="s",O.v=L;else if(L.trim().length===0)O.t="s",O.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(O.t="s",O.v=L.slice(2,-1).replace(/""/g,'"')):Gze(L)?(O.t="n",O.f=L.slice(1)):(O.t="s",O.v=L);else if(L=="TRUE")O.t="b",O.v=!0;else if(L=="FALSE")O.t="b",O.v=!1;else if(!isNaN(w=Fl(L)))O.t="n",h.cellText!==!1&&(O.w=L),O.v=w;else if(!isNaN(Gm(L).getDate())||M&&L.match(M)){O.z=h.dateNF||Zt[14];var N=0;M&&L.match(M)&&(L=v5e(L,h.dateNF,L.match(M)||[]),N=1),h.cellDates?(O.t="d",O.v=qi(L,N)):(O.t="n",O.v=ms(qi(L,N))),h.cellText!==!1&&(O.w=sl(O.z,O.v instanceof Date?ms(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=L;if(O.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][x]=O):v[Wt({c:x,r:y})]=O),b=T+1,R=c.charCodeAt(b),m.e.c<x&&(m.e.c=x),m.e.r<y&&(m.e.r=y),E==C)++x;else if(x=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;T<c.length;++T)switch(E=c.charCodeAt(T)){case 34:R===34&&(D=!D);break;case C:case 10:case 13:if(!D&&k())break e;break}return T-b>0&&k(),v["!ref"]=Cr(m),v}function s(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,f):xy(e(c,f),f)}function o(c,f){var h="",p=f.type=="string"?[0,0,0,0]:nB(c,f);switch(f.type){case"base64":h=go(c);break;case"binary":h=c;break;case"buffer":f.codepage==65001?h=c.toString("utf8"):f.codepage&&typeof aw<"u"||(h=yr&&Buffer.isBuffer(c)?c.toString("binary"):ng(c));break;case"array":h=Nv(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=cn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=cn(h):f.type=="binary"&&typeof aw<"u",h.slice(0,19)=="socialcalc:version:"?n6e.to_sheet(f.type=="string"?h:cn(h),f):s(h,f)}function l(c,f){return xd(o(c,f),f)}function u(c){for(var f=[],h=Fn(c["!ref"]),p,v=Array.isArray(c),m=h.s.r;m<=h.e.r;++m){for(var y=[],x=h.s.c;x<=h.e.c;++x){var w=Wt({r:m,c:x});if(p=v?(c[m]||[])[x]:c[w],!p||p.v==null){y.push("          ");continue}for(var b=(p.w||(pf(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";y.push(b+(x===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function i6e(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=t6e.to_workbook(r,t);return t.WTF=n,i}catch(a){if(t.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return uw.to_workbook(r,e)}}var yx=function(){function r(j,J,te){if(j){sa(j,j.l||0);for(var se=te.Enum||q;j.l<j.length;){var de=j.read_shift(2),Oe=se[de]||se[65535],Ae=j.read_shift(2),ye=j.l+Ae,Se=Oe.f&&Oe.f(j,Ae,te);if(j.l=ye,J(Se,Oe,de))return}}}function e(j,J){switch(J.type){case"base64":return t(Il(go(j)),J);case"binary":return t(Il(j),J);case"buffer":case"array":return t(j,J)}throw"Unsupported type "+J.type}function t(j,J){if(!j)return j;var te=J||{},se=te.dense?[]:{},de="Sheet1",Oe="",Ae=0,ye={},Se=[],me=[],ee={s:{r:0,c:0},e:{r:0,c:0}},mt=te.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)te.Enum=q,r(j,function(Ue,Jt,vr){switch(vr){case 0:te.vers=Ue,Ue>=4096&&(te.qpro=!0);break;case 6:ee=Ue;break;case 204:Ue&&(Oe=Ue);break;case 222:Oe=Ue;break;case 15:case 51:te.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:vr==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=te.dateNF||Zt[14],te.cellDates&&(Ue[1].t="d",Ue[1].v=DD(Ue[1].v))),te.qpro&&Ue[3]>Ae&&(se["!ref"]=Cr(ee),ye[de]=se,Se.push(de),se=te.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Ae=Ue[3],de=Oe||"Sheet"+(Ae+1),Oe="");var en=te.dense?(se[Ue[0].r]||[])[Ue[0].c]:se[Wt(Ue[0])];if(en){en.t=Ue[1].t,en.v=Ue[1].v,Ue[1].z!=null&&(en.z=Ue[1].z),Ue[1].f!=null&&(en.f=Ue[1].f);break}te.dense?(se[Ue[0].r]||(se[Ue[0].r]=[]),se[Ue[0].r][Ue[0].c]=Ue[1]):se[Wt(Ue[0])]=Ue[1];break}},te);else if(j[2]==26||j[2]==14)te.Enum=Q,j[2]==14&&(te.qpro=!0,j.l=0),r(j,function(Ue,Jt,vr){switch(vr){case 204:de=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Ae&&(se["!ref"]=Cr(ee),ye[de]=se,Se.push(de),se=te.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Ae=Ue[3],de="Sheet"+(Ae+1)),mt>0&&Ue[0].r>=mt)break;te.dense?(se[Ue[0].r]||(se[Ue[0].r]=[]),se[Ue[0].r][Ue[0].c]=Ue[1]):se[Wt(Ue[0])]=Ue[1],ee.e.c<Ue[0].c&&(ee.e.c=Ue[0].c),ee.e.r<Ue[0].r&&(ee.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(me[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:me[Ue[0]]=Ue[1],Ue[0]==Ae&&(de=Ue[1]);break}},te);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(se["!ref"]=Cr(ee),ye[Oe||de]=se,Se.push(Oe||de),!me.length)return{SheetNames:Se,Sheets:ye};for(var rt={},at=[],ot=0;ot<me.length;++ot)ye[Se[ot]]?(at.push(me[ot]||Se[ot]),rt[me[ot]]=ye[me[ot]]||ye[Se[ot]]):(at.push(me[ot]),rt[me[ot]]={"!ref":"A1"});return{SheetNames:at,Sheets:rt}}function n(j,J){var te=J||{};if(+te.codepage>=0&&kl(+te.codepage),te.type=="string")throw new Error("Cannot write WK1 to JS string");var se=EN(),de=Fn(j["!ref"]),Oe=Array.isArray(j),Ae=[];xl(se,0,a(1030)),xl(se,6,l(de));for(var ye=Math.min(de.e.r,8191),Se=de.s.r;Se<=ye;++Se)for(var me=da(Se),ee=de.s.c;ee<=de.e.c;++ee){Se===de.s.r&&(Ae[ee]=Di(ee));var mt=Ae[ee]+me,rt=Oe?(j[Se]||[])[ee]:j[mt];if(!(!rt||rt.t=="z"))if(rt.t=="n")(rt.v|0)==rt.v&&rt.v>=-32768&&rt.v<=32767?xl(se,13,p(Se,ee,rt.v)):xl(se,14,m(Se,ee,rt.v));else{var at=pf(rt);xl(se,15,f(Se,ee,at.slice(0,239)))}}return xl(se,1),se.end()}function i(j,J){var te=J||{};if(+te.codepage>=0&&kl(+te.codepage),te.type=="string")throw new Error("Cannot write WK3 to JS string");var se=EN();xl(se,0,s(j));for(var de=0,Oe=0;de<j.SheetNames.length;++de)(j.Sheets[j.SheetNames[de]]||{})["!ref"]&&xl(se,27,K(j.SheetNames[de],Oe++));var Ae=0;for(de=0;de<j.SheetNames.length;++de){var ye=j.Sheets[j.SheetNames[de]];if(!(!ye||!ye["!ref"])){for(var Se=Fn(ye["!ref"]),me=Array.isArray(ye),ee=[],mt=Math.min(Se.e.r,8191),rt=Se.s.r;rt<=mt;++rt)for(var at=da(rt),ot=Se.s.c;ot<=Se.e.c;++ot){rt===Se.s.r&&(ee[ot]=Di(ot));var Ue=ee[ot]+at,Jt=me?(ye[rt]||[])[ot]:ye[Ue];if(!(!Jt||Jt.t=="z"))if(Jt.t=="n")xl(se,23,k(rt,ot,Ae,Jt.v));else{var vr=pf(Jt);xl(se,22,E(rt,ot,Ae,vr.slice(0,239)))}}++Ae}}return xl(se,1),se.end()}function a(j){var J=Ei(2);return J.write_shift(2,j),J}function s(j){var J=Ei(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var te=0,se=0,de=0,Oe=0;Oe<j.SheetNames.length;++Oe){var Ae=j.SheetNames[Oe],ye=j.Sheets[Ae];if(!(!ye||!ye["!ref"])){++de;var Se=_y(ye["!ref"]);te<Se.e.r&&(te=Se.e.r),se<Se.e.c&&(se=Se.e.c)}}return te>8191&&(te=8191),J.write_shift(2,te),J.write_shift(1,de),J.write_shift(1,se),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function o(j,J,te){var se={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&te.qpro?(se.s.c=j.read_shift(1),j.l++,se.s.r=j.read_shift(2),se.e.c=j.read_shift(1),j.l++,se.e.r=j.read_shift(2),se):(se.s.c=j.read_shift(2),se.s.r=j.read_shift(2),J==12&&te.qpro&&(j.l+=2),se.e.c=j.read_shift(2),se.e.r=j.read_shift(2),J==12&&te.qpro&&(j.l+=2),se.s.c==65535&&(se.s.c=se.e.c=se.s.r=se.e.r=0),se)}function l(j){var J=Ei(8);return J.write_shift(2,j.s.c),J.write_shift(2,j.s.r),J.write_shift(2,j.e.c),J.write_shift(2,j.e.r),J}function u(j,J,te){var se=[{c:0,r:0},{t:"n",v:0},0,0];return te.qpro&&te.vers!=20768?(se[0].c=j.read_shift(1),se[3]=j.read_shift(1),se[0].r=j.read_shift(2),j.l+=2):(se[2]=j.read_shift(1),se[0].c=j.read_shift(2),se[0].r=j.read_shift(2)),se}function c(j,J,te){var se=j.l+J,de=u(j,J,te);if(de[1].t="s",te.vers==20768){j.l++;var Oe=j.read_shift(1);return de[1].v=j.read_shift(Oe,"utf8"),de}return te.qpro&&j.l++,de[1].v=j.read_shift(se-j.l,"cstr"),de}function f(j,J,te){var se=Ei(7+te.length);se.write_shift(1,255),se.write_shift(2,J),se.write_shift(2,j),se.write_shift(1,39);for(var de=0;de<se.length;++de){var Oe=te.charCodeAt(de);se.write_shift(1,Oe>=128?95:Oe)}return se.write_shift(1,0),se}function h(j,J,te){var se=u(j,J,te);return se[1].v=j.read_shift(2,"i"),se}function p(j,J,te){var se=Ei(7);return se.write_shift(1,255),se.write_shift(2,J),se.write_shift(2,j),se.write_shift(2,te,"i"),se}function v(j,J,te){var se=u(j,J,te);return se[1].v=j.read_shift(8,"f"),se}function m(j,J,te){var se=Ei(13);return se.write_shift(1,255),se.write_shift(2,J),se.write_shift(2,j),se.write_shift(8,te,"f"),se}function y(j,J,te){var se=j.l+J,de=u(j,J,te);if(de[1].v=j.read_shift(8,"f"),te.qpro)j.l=se;else{var Oe=j.read_shift(2);T(j.slice(j.l,j.l+Oe),de),j.l+=Oe}return de}function x(j,J,te){var se=J&32768;return J&=-32769,J=(se?j:0)+(J>=8192?J-16384:J),(se?"":"$")+(te?Di(J):da(J))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(j,J){sa(j,0);for(var te=[],se=0,de="",Oe="",Ae="",ye="";j.l<j.length;){var Se=j[j.l++];switch(Se){case 0:te.push(j.read_shift(8,"f"));break;case 1:Oe=x(J[0].c,j.read_shift(2),!0),de=x(J[0].r,j.read_shift(2),!1),te.push(Oe+de);break;case 2:{var me=x(J[0].c,j.read_shift(2),!0),ee=x(J[0].r,j.read_shift(2),!1);Oe=x(J[0].c,j.read_shift(2),!0),de=x(J[0].r,j.read_shift(2),!1),te.push(me+ee+":"+Oe+de)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:te.push("("+te.pop()+")");break;case 5:te.push(j.read_shift(2));break;case 6:{for(var mt="";Se=j[j.l++];)mt+=String.fromCharCode(Se);te.push('"'+mt.replace(/"/g,'""')+'"')}break;case 8:te.push("-"+te.pop());break;case 23:te.push("+"+te.pop());break;case 22:te.push("NOT("+te.pop()+")");break;case 20:case 21:ye=te.pop(),Ae=te.pop(),te.push(["AND","OR"][Se-20]+"("+Ae+","+ye+")");break;default:if(Se<32&&b[Se])ye=te.pop(),Ae=te.pop(),te.push(Ae+b[Se]+ye);else if(w[Se]){if(se=w[Se][1],se==69&&(se=j[j.l++]),se>te.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+te.join("|")+"|");return}var rt=te.slice(-se);te.length-=se,te.push(w[Se][0]+"("+rt.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}te.length==1?J[1].f=""+te[0]:console.error("WK1 bad formula parse |"+te.join("|")+"|")}function C(j){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=j.read_shift(2),J[3]=j[j.l++],J[0].c=j[j.l++],J}function D(j,J){var te=C(j);return te[1].t="s",te[1].v=j.read_shift(J-4,"cstr"),te}function E(j,J,te,se){var de=Ei(6+se.length);de.write_shift(2,j),de.write_shift(1,te),de.write_shift(1,J),de.write_shift(1,39);for(var Oe=0;Oe<se.length;++Oe){var Ae=se.charCodeAt(Oe);de.write_shift(1,Ae>=128?95:Ae)}return de.write_shift(1,0),de}function R(j,J){var te=C(j);te[1].v=j.read_shift(2);var se=te[1].v>>1;if(te[1].v&1)switch(se&7){case 0:se=(se>>3)*5e3;break;case 1:se=(se>>3)*500;break;case 2:se=(se>>3)/20;break;case 3:se=(se>>3)/200;break;case 4:se=(se>>3)/2e3;break;case 5:se=(se>>3)/2e4;break;case 6:se=(se>>3)/16;break;case 7:se=(se>>3)/64;break}return te[1].v=se,te}function M(j,J){var te=C(j),se=j.read_shift(4),de=j.read_shift(4),Oe=j.read_shift(2);if(Oe==65535)return se===0&&de===3221225472?(te[1].t="e",te[1].v=15):se===0&&de===3489660928?(te[1].t="e",te[1].v=42):te[1].v=0,te;var Ae=Oe&32768;return Oe=(Oe&32767)-16446,te[1].v=(1-Ae*2)*(de*Math.pow(2,Oe+32)+se*Math.pow(2,Oe)),te}function k(j,J,te,se){var de=Ei(14);if(de.write_shift(2,j),de.write_shift(1,te),de.write_shift(1,J),se==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Oe=0,Ae=0,ye=0,Se=0;return se<0&&(Oe=1,se=-se),Ae=Math.log2(se)|0,se/=Math.pow(2,Ae-31),Se=se>>>0,(Se&2147483648)==0&&(se/=2,++Ae,Se=se>>>0),se-=Se,Se|=2147483648,Se>>>=0,se*=Math.pow(2,32),ye=se>>>0,de.write_shift(4,ye),de.write_shift(4,Se),Ae+=16383+(Oe?32768:0),de.write_shift(2,Ae),de}function L(j,J){var te=M(j);return j.l+=J-14,te}function O(j,J){var te=C(j),se=j.read_shift(4);return te[1].v=se>>6,te}function N(j,J){var te=C(j),se=j.read_shift(8,"f");return te[1].v=se,te}function W(j,J){var te=N(j);return j.l+=J-10,te}function U(j,J){return j[j.l+J-1]==0?j.read_shift(J,"cstr"):""}function z(j,J){var te=j[j.l++];te>J-1&&(te=J-1);for(var se="";se.length<te;)se+=String.fromCharCode(j[j.l++]);return se}function Y(j,J,te){if(!(!te.qpro||J<21)){var se=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var de=j.read_shift(J-21,"cstr");return[se,de]}}function re(j,J){for(var te={},se=j.l+J;j.l<se;){var de=j.read_shift(2);if(de==14e3){for(te[de]=[0,""],te[de][0]=j.read_shift(2);j[j.l];)te[de][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return te}function K(j,J){var te=Ei(5+j.length);te.write_shift(2,14e3),te.write_shift(2,J);for(var se=0;se<j.length;++se){var de=j.charCodeAt(se);te[te.l++]=de>127?95:de}return te[te.l++]=0,te}var q={0:{n:"BOF",f:fi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:U},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:U},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function a6e(r){var e={},t=r.match(qa),n=0,i=!1;if(t)for(;n!=t.length;++n){var a=Vt(t[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=P5[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var s6e=function(){var r=ow("t"),e=ow("rPr");function t(a){var s=a.match(r);if(!s)return{t:"s",v:""};var o={t:"s",v:Ir(s[1])},l=a.match(e);return l&&(o.s=a6e(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(t).filter(function(o){return o.v})}}(),o6e=function(){var e=/(\r\n|\n)/g;function t(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&t(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),l6e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,u6e=/<(?:\w+:)?r>/,c6e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function K5(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ir(cn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=cn(r),t&&(n.h=z5(n.t))):r.match(u6e)&&(n.r=cn(r),n.t=Ir(cn((r.replace(c6e,"").match(l6e)||[]).join("").replace(qa,""))),t&&(n.h=o6e(s6e(n.r)))),n):{t:""}}var f6e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,h6e=/<(?:\w+:)?(?:si|sstItem)>/g,d6e=/<\/(?:\w+:)?(?:si|sstItem)>/;function p6e(r,e){var t=[],n="";if(!r)return t;var i=r.match(f6e);if(i){n=i[2].replace(h6e,"").split(d6e);for(var a=0;a!=n.length;++a){var s=K5(n[a].trim(),e);s!=null&&(t[t.length]=s)}i=Vt(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function v6e(r){return[r.read_shift(4),r.read_shift(4)]}function g6e(r,e){var t=[],n=!1;return Tf(r,function(a,s,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function Ase(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function af(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function m6e(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=af(r,4),e.U=af(r,4),e.W=af(r,4),e}function y6e(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),a=[];i-- >0;)a.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=a,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function _6e(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(y6e(r));return e}function x6e(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function w6e(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=af(r,4),e.U=af(r,4),e.W=af(r,4),e}function b6e(r){var e=w6e(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Ese(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function Cse(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function S6e(r){var e=af(r);switch(e.Minor){case 2:return[e.Minor,T6e(r)];case 3:return[e.Minor,A6e()];case 4:return[e.Minor,E6e(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function T6e(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=Ese(r,t),i=Cse(r,r.length-r.l);return{t:"Std",h:n,v:i}}function A6e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function E6e(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(qa,function(a){var s=Vt(a);switch(sc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function C6e(r,e){var t={},n=t.EncryptionVersionInfo=af(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=Ese(r,i),e-=i,t.EncryptionVerifier=Cse(r,e),t}function D6e(r){var e={},t=e.EncryptionVersionInfo=af(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function I6e(r){var e=0,t,n=Ase(r),i=n.length+1,a,s,o,l,u;for(t=sd(i),t[0]=n.length,a=1;a!=i;++a)t[a]=n[a-1];for(a=i-1;a>=0;--a)s=t[a],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var Dse=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var c=s[u],f=0;f!=7;++f)c&64&&(o^=t[l]),c*=2,--l;return o};return function(s){for(var o=Ase(s),l=a(o),u=o.length,c=sd(16),f=0;f!=16;++f)c[f]=0;var h,p,v;for((u&1)===1&&(h=l>>8,c[u]=i(r[0],h),--u,h=l&255,p=o[o.length-1],c[u]=i(p,h));u>0;)--u,h=l>>8,c[u]=i(o[u],h),--u,h=l&255,c[u]=i(o[u],h);for(u=15,v=15-o.length;v>0;)h=l>>8,c[u]=i(r[v],h),--u,--v,h=l&255,c[u]=i(o[u],h),--u,--v;return c}}(),R6e=function(r,e,t,n,i){i||(i=e),n||(n=Dse(r));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[t],s=(s>>5|s<<3)&255,i[a]=s,++t;return[i,t,n]},M6e=function(r){var e=0,t=Dse(r);return function(n){var i=R6e("",n,e,t);return e=i[1],i[0]}};function k6e(r,e,t,n){var i={key:fi(r),verificationBytes:fi(r)};return t.password&&(i.verifier=I6e(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=M6e(t.password)),i}function P6e(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=D6e(r):n.Data=C6e(r,e),n}function L6e(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?P6e(r,e-2,n):k6e(r,t.biff>=8?e:e-2,t,n),n}var O6e=function(){function r(i,a){switch(a.type){case"base64":return e(go(i),a);case"binary":return e(i,a);case"buffer":return e(yr&&Buffer.isBuffer(i)?i.toString("binary"):ng(i),a);case"array":return e(Nv(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,m=-1;v=h.exec(c);){switch(v[0]){case"\\cell":var y=c.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var x={v:y,t:"s"};Array.isArray(o)?o[f][m]=x:o[Wt({r:f,c:m})]=x}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=Cr(u),o}function t(i,a){return xd(r(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Fn(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var f=Wt({r:u,c});o=l?(i[u]||[])[c]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(pf(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function N6e(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function cw(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function F6e(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,u=i+a;switch(l=s/(u>1?2-u:u),i){case e:o=((t-n)/s+6)%6;break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}return[o/6,l,u/2]}function B6e(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function NE(r,e){if(e===0)return r;var t=F6e(N6e(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),cw(B6e(t))}var Ise=6,V6e=15,z6e=1,ls=Ise;function FE(r){return Math.floor((r+Math.round(128/ls)/256)*ls)}function BE(r){return Math.floor((r-5)/ls*100+.5)/100}function RN(r){return Math.round((r*ls+5)/ls*256)/256}function Mk(r){return RN(BE(FE(r)))}function Z5(r){var e=Math.abs(r-Mk(r)),t=ls;if(e>.005)for(ls=z6e;ls<V6e;++ls)Math.abs(r-Mk(r))<=e&&(e=Math.abs(r-Mk(r)),t=ls);ls=t}function jm(r){r.width?(r.wpx=FE(r.width),r.wch=BE(r.wpx),r.MDW=ls):r.wpx?(r.wch=BE(r.wpx),r.width=RN(r.wch),r.MDW=ls):typeof r.wch=="number"&&(r.width=RN(r.wch),r.wpx=FE(r.width),r.MDW=ls),r.customWidth&&delete r.customWidth}var U6e=96,Rse=U6e;function Mse(r){return r*96/Rse}function fw(r){return r*Rse/96}var H6e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function G6e(r,e,t,n){e.Borders=[];var i={},a=!1;(r[0].match(qa)||[]).forEach(function(s){var o=Vt(s);switch(sc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=yn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=yn(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function j6e(r,e,t,n){e.Fills=[];var i={},a=!1;(r[0].match(qa)||[]).forEach(function(s){var o=Vt(s);switch(sc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function W6e(r,e,t,n){e.Fonts=[];var i={},a=!1;(r[0].match(qa)||[]).forEach(function(s){var o=Vt(s);switch(sc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=cn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?yn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?yn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?yn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?yn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?yn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?yn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?yn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=P5[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=yn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=gv[i.color.index];i.color.index==81&&(l=gv[1]),l||(l=gv[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=NE(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function $6e(r,e,t){e.NumberFmt=[];for(var n=tc(Zt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Zt[n[i]];var a=r[0].match(qa);if(a)for(i=0;i<a.length;++i){var s=Vt(a[i]);switch(sc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ir(cn(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}vv(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var UT=["numFmtId","fillId","fontId","borderId","xfId"],HT=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function q6e(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(qa)||[]).forEach(function(a){var s=Vt(a),o=0;switch(sc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<UT.length;++o)n[UT[o]]&&(n[UT[o]]=parseInt(n[UT[o]],10));for(o=0;o<HT.length;++o)n[HT[o]]&&(n[HT[o]]=yn(n[HT[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=yn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Y6e=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&$6e(f,c,u),(f=o.match(i))&&W6e(f,c,l,u),(f=o.match(n))&&j6e(f,c,l,u),(f=o.match(a))&&G6e(f,c,l,u),(f=o.match(t))&&q6e(f,c,u),c}}();function X6e(r,e){var t=r.read_shift(2),n=Ba(r);return[t,n]}function K6e(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=sBe(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=aBe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ba(r),n}var Z6e=Ha;function Q6e(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var J6e=Ha;function eze(r,e,t){var n={};n.NumberFmt=[];for(var i in Zt)n.NumberFmt[i]=Zt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Tf(r,function(l,u,c){switch(c){case 44:n.NumberFmt[l[0]]=l[1],vv(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=NE(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(c),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(c);else if(u.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var tze=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function rze(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(qa)||[]).forEach(function(i){var a=Vt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[tze.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function nze(){}function ize(){}var aze=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,sze=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,oze=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function lze(r,e,t){e.themeElements={};var n;[["clrScheme",aze,rze],["fontScheme",sze,nze],["fmtScheme",oze,ize]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var uze=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function kse(r,e){(!r||r.length===0)&&(r=cze());var t,n={};if(!(t=r.match(uze)))throw new Error("themeElements not found in theme");return lze(t[0],n,e),n.raw=r,n}function cze(r,e){var t=[Gae];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function fze(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var a=r.slice(r.l);r.l=n;var s;try{s=Hae(a,{type:"array"})}catch{return}var o=io(s,"theme/theme/theme1.xml",!0);if(o)return kse(o,t)}}function hze(r){return r.read_shift(4)}function dze(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=pze(r,4);break;case 2:e.xclrValue=yse(r);break;case 3:e.xclrValue=hze(r);break;case 4:r.l+=4;break}return r.l+=8,e}function pze(r,e){return Ha(r,e)}function vze(r,e){return Ha(r,e)}function gze(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=dze(r);break;case 6:n[1]=vze(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function mze(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),a=[];i-- >0;)a.push(gze(r,t-r.l));return{ixfe:n,ext:a}}function yze(r,e){e.forEach(function(t){t[0]})}function _ze(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ba(r)}}function xze(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function wze(r){return r.l+=4,r.read_shift(4)!=0}function bze(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},a=[],s=!1,o=2;return Tf(r,function(l,u,c){switch(c){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(c),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function Sze(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,a=2,s;return r.replace(qa,function(o){var l=Vt(o);switch(sc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Tze(r){var e=[];if(!r)return e;var t=1;return(r.match(qa)||[]).forEach(function(n){var i=Vt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function Aze(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Wt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Eze(r,e,t){var n=[];return Tf(r,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Cze(r,e,t,n){if(!r)return r;var i=n||{},a=!1;Tf(r,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function Dze(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function SW(r,e,t,n){var i=Array.isArray(r),a;e.forEach(function(s){var o=fs(s.ref);if(i?(r[o.r]||(r[o.r]=[]),a=r[o.r][o.c]):a=r[s.ref],!a){a={t:"z"},i?r[o.r][o.c]=a:r[s.ref]=a;var l=Fn(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=Cr(l);u!==r["!ref"]&&(r["!ref"]=u)}a.c||(a.c=[]);var c={a:s.author,t:s.t,r:s.r,T:t};s.h&&(c.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!t&&a.c[f].T)return;t&&!a.c[f].T&&a.c.splice(f,1)}if(t&&n){for(f=0;f<n.length;++f)if(c.a==n[f].id){c.a=n[f].name||c.a;break}}a.c.push(c)})}function Ize(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Vt(o[0]),u={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=fs(l.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&K5(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function Rze(r,e){var t=[],n=!1,i={},a=0;return r.replace(qa,function(o,l){var u=Vt(o);switch(sc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=r.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function Mze(r,e){var t=[],n=!1;return r.replace(qa,function(a){var s=Vt(a);switch(sc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function kze(r){var e={};e.iauthor=r.read_shift(4);var t=ag(r);return e.rfx=t.s,e.ref=Wt(t.s),r.l+=16,e}var Pze=Ba;function Lze(r,e){var t=[],n=[],i={},a=!1;return Tf(r,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}var Oze="application/vnd.ms-office.vbaProject";function Nze(r){var e=Er.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Er.utils.cfb_add(e,i,r.FileIndex[n].content)}}),Er.write(e)}function Fze(){return{"!type":"dialog"}}function Bze(){return{"!type":"dialog"}}function Vze(){return{"!type":"macro"}}function zze(){return{"!type":"macro"}}var gm=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+Di(c)+(l?"":"$")+da(u)}return function(i,a){return e=a,i.replace(r,t)}}(),Pse=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Uze=function(){return function(e,t){return e.replace(Pse,function(n,i,a,s,o,l){var u=j5(s)-(a?0:t.c),c=G5(l)-(o?0:t.r),f=c==0?"":o?c+1:"["+c+"]",h=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function Lse(r,e){return r.replace(Pse,function(t,n,i,a,s,o){return n+(i=="$"?i+a:Di(j5(a)+e.c))+(s=="$"?s+o:da(G5(o)+e.r))})}function Hze(r,e,t){var n=_y(e),i=n.s,a=fs(t),s={r:a.r-i.r,c:a.c-i.c};return Lse(r,s)}function Gze(r){return r.length!=1}function TW(r){return r.replace(/_xlfn\./g,"")}function li(r){r.l+=1}function od(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Ose(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return Nse(r);t.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=od(r),o=od(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Nse(r){var e=od(r),t=od(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function jze(r,e,t){if(t.biff<8)return Nse(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),a=od(r),s=od(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Fse(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return Wze(r);var n=r.read_shift(t&&t.biff==12?4:2),i=od(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Wze(r){var e=od(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function $ze(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function qze(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return Yze(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function Yze(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function Xze(r,e,t){var n=(r[r.l++]&96)>>5,i=Ose(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function Kze(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=Ose(r,a,t);return[n,i,s]}function Zze(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function Qze(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function Jze(r,e,t){var n=(r[r.l++]&96)>>5,i=jze(r,e-1,t);return[n,i]}function e8e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function AW(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function t8e(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function r8e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function n8e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function i8e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function a8e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function Bse(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function s8e(r){return r.read_shift(2),Bse(r)}function o8e(r){return r.read_shift(2),Bse(r)}function l8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=Fse(r,0,t);return[n,i]}function u8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=qze(r,0,t);return[n,i]}function c8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var a=Fse(r,0,t);return[n,i,a]}function f8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[h9e[i],Use[i],n]}function h8e(r,e,t){var n=r[r.l++],i=r.read_shift(1),a=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:d8e(r);return[i,(a[0]===0?Use:f9e)[a[1]]]}function d8e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function p8e(r,e,t){r.l+=t&&t.biff==2?3:4}function v8e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function g8e(r){return r.l++,sg[r.read_shift(1)]}function m8e(r){return r.l++,r.read_shift(2)}function y8e(r){return r.l++,r.read_shift(1)!==0}function _8e(r){return r.l++,Pa(r)}function x8e(r,e,t){return r.l++,_b(r,e-1,t)}function w8e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=jn(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=sg[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Pa(r);break;case 2:t[1]=og(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function b8e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((t.biff==12?ag:ID)(r));return i}function S8e(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=w8e(r,t.biff);return s}function T8e(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function A8e(r,e,t){if(t.biff==5)return E8e(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function E8e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function C8e(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function D8e(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function I8e(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function R8e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var M8e=Ha,k8e=Ha,P8e=Ha;function wb(r,e,t){return r.l+=2,[$ze(r)]}function Q5(r){return r.l+=6,[]}var L8e=wb,O8e=Q5,N8e=Q5,F8e=wb;function Vse(r){return r.l+=2,[fi(r),r.read_shift(2)&1]}var B8e=wb,V8e=Vse,z8e=Q5,U8e=wb,H8e=wb,G8e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function j8e(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=G8e[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:i,C:a}}function W8e(r){return r.l+=2,[r.read_shift(4)]}function $8e(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function q8e(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Y8e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function X8e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function K8e(r){return r.l+=4,[0,0]}var EW={1:{n:"PtgExp",f:v8e},2:{n:"PtgTbl",f:P8e},3:{n:"PtgAdd",f:li},4:{n:"PtgSub",f:li},5:{n:"PtgMul",f:li},6:{n:"PtgDiv",f:li},7:{n:"PtgPower",f:li},8:{n:"PtgConcat",f:li},9:{n:"PtgLt",f:li},10:{n:"PtgLe",f:li},11:{n:"PtgEq",f:li},12:{n:"PtgGe",f:li},13:{n:"PtgGt",f:li},14:{n:"PtgNe",f:li},15:{n:"PtgIsect",f:li},16:{n:"PtgUnion",f:li},17:{n:"PtgRange",f:li},18:{n:"PtgUplus",f:li},19:{n:"PtgUminus",f:li},20:{n:"PtgPercent",f:li},21:{n:"PtgParen",f:li},22:{n:"PtgMissArg",f:li},23:{n:"PtgStr",f:x8e},26:{n:"PtgSheet",f:$8e},27:{n:"PtgEndSheet",f:q8e},28:{n:"PtgErr",f:g8e},29:{n:"PtgBool",f:y8e},30:{n:"PtgInt",f:m8e},31:{n:"PtgNum",f:_8e},32:{n:"PtgArray",f:e8e},33:{n:"PtgFunc",f:f8e},34:{n:"PtgFuncVar",f:h8e},35:{n:"PtgName",f:T8e},36:{n:"PtgRef",f:l8e},37:{n:"PtgArea",f:Xze},38:{n:"PtgMemArea",f:C8e},39:{n:"PtgMemErr",f:M8e},40:{n:"PtgMemNoMem",f:k8e},41:{n:"PtgMemFunc",f:D8e},42:{n:"PtgRefErr",f:I8e},43:{n:"PtgAreaErr",f:Zze},44:{n:"PtgRefN",f:u8e},45:{n:"PtgAreaN",f:Jze},46:{n:"PtgMemAreaN",f:Y8e},47:{n:"PtgMemNoMemN",f:X8e},57:{n:"PtgNameX",f:A8e},58:{n:"PtgRef3d",f:c8e},59:{n:"PtgArea3d",f:Kze},60:{n:"PtgRefErr3d",f:R8e},61:{n:"PtgAreaErr3d",f:Qze},255:{}},Z8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Q8e={1:{n:"PtgElfLel",f:Vse},2:{n:"PtgElfRw",f:U8e},3:{n:"PtgElfCol",f:L8e},6:{n:"PtgElfRwV",f:H8e},7:{n:"PtgElfColV",f:F8e},10:{n:"PtgElfRadical",f:B8e},11:{n:"PtgElfRadicalS",f:z8e},13:{n:"PtgElfColS",f:O8e},15:{n:"PtgElfColSV",f:N8e},16:{n:"PtgElfRadicalLel",f:V8e},25:{n:"PtgList",f:j8e},29:{n:"PtgSxName",f:W8e},255:{}},J8e={0:{n:"PtgAttrNoop",f:K8e},1:{n:"PtgAttrSemi",f:a8e},2:{n:"PtgAttrIf",f:n8e},4:{n:"PtgAttrChoose",f:t8e},8:{n:"PtgAttrGoto",f:r8e},16:{n:"PtgAttrSum",f:p8e},32:{n:"PtgAttrBaxcel",f:AW},33:{n:"PtgAttrBaxcel",f:AW},64:{n:"PtgAttrSpace",f:s8e},65:{n:"PtgAttrSpaceSemi",f:o8e},128:{n:"PtgAttrIfError",f:i8e},255:{}};function bb(r,e,t,n){if(n.biff<8)return Ha(r,e);for(var i=r.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=S8e(r,0,n),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=b8e(r,t[s][1],n),a.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-r.l,e!==0&&a.push(Ha(r,e)),a}function Sb(r,e,t){for(var n=r.l+e,i,a,s=[];n!=r.l;)e=n-r.l,a=r[r.l],i=EW[a]||EW[Z8e[a]],(a===24||a===25)&&(i=(a===24?Q8e:J8e)[r[r.l+1]]),!i||!i.f?Ha(r,e):s.push([i.n,i.f(r,e,t)]);return s}function e9e(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var t9e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function r9e(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function zse(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function CW(r,e,t){var n=zse(r,e,t);return n=="#REF"?n:r9e(n,t)}function Ra(r,e,t,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,f=0,h=0,p,v="";if(!r[0]||!r[0][0])return"";for(var m=-1,y="",x=0,w=r[0].length;x<w;++x){var b=r[0][x];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),m>=0){switch(r[0][m][1][0]){case 0:y=On(" ",r[0][m][1][1]);break;case 1:y=On("\r",r[0][m][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}u=u+y,m=-1}o.push(u+t9e[b[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=px(b[1][1],s,i),o.push(vx(c,a));break;case"PtgRefN":c=t?px(b[1][1],t,i):b[1][1],o.push(vx(c,a));break;case"PtgRef3d":f=b[1][1],c=px(b[1][2],s,i),v=CW(n,f,i),o.push(v+"!"+vx(c,a));break;case"PtgFunc":case"PtgFuncVar":var T=b[1][0],C=b[1][1];T||(T=0),T&=127;var D=T==0?[]:o.slice(-T);o.length-=T,C==="User"&&(C=D.shift()),o.push(C+"("+D.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=oW(b[1][1],t?{s:t}:s,i),o.push(Ik(p,i));break;case"PtgArea":p=oW(b[1][1],s,i),o.push(Ik(p,i));break;case"PtgArea3d":f=b[1][1],p=b[1][2],v=CW(n,f,i),o.push(v+"!"+Ik(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],R=E?E.Name:"SH33TJSNAME"+String(h);R&&R.slice(0,6)=="_xlfn."&&!i.xlfn&&(R=R.slice(6)),o.push(R);break;case"PtgNameX":var M=b[1][1];h=b[1][2];var k;if(i.biff<=5)M<0&&(M=-M),n[M]&&(k=n[M][h]);else{var L="";if(((n[M]||[])[0]||[])[0]==14849||(((n[M]||[])[0]||[])[0]==1025?n[M][h]&&n[M][h].itab>0&&(L=n.SheetNames[n[M][h].itab-1]+"!"):L=n.SheetNames[h-1]+"!"),n[M]&&n[M][h])L+=n[M][h].Name;else if(n[0]&&n[0][h])L+=n[0][h].Name;else{var O=(zse(n,M,i)||"").split(";;");O[h-1]?L=O[h-1]:L+="SH33TJSERRX"}o.push(L);break}k||(k={Name:"SH33TJSERRY"}),o.push(k.Name);break;case"PtgParen":var N="(",W=")";if(m>=0){switch(y="",r[0][m][1][0]){case 2:N=On(" ",r[0][m][1][1])+N;break;case 3:N=On("\r",r[0][m][1][1])+N;break;case 4:W=On(" ",r[0][m][1][1])+W;break;case 5:W=On("\r",r[0][m][1][1])+W;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}m=-1}o.push(N+o.pop()+W);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:b[1][1],r:b[1][0]};var U={c:t.c,r:t.r};if(n.sharedf[Wt(c)]){var z=n.sharedf[Wt(c)];o.push(Ra(z,s,U,n,i))}else{var Y=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Ra(u[1],s,U,n,i)),Y=!0;break}Y||o.push(b[1])}break;case"PtgArray":o.push("{"+e9e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&re.indexOf(r[0][x][0])==-1){b=r[0][m];var K=!0;switch(b[1][0]){case 4:K=!1;case 0:y=On(" ",b[1][1]);break;case 5:K=!1;case 1:y=On("\r",b[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((K?y:"")+o.pop()+(K?"":y)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function n9e(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],Ha(r,e-2)];var o=Sb(r,s,t);return e!==s+i&&(a=bb(r,e-s-i,o,t)),r.l=n,[o,a]}function i9e(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],Ha(r,e-2)];var o=Sb(r,s,t);return e!==s+i&&(a=bb(r,e-s-i,o,t)),r.l=n,[o,a]}function a9e(r,e,t,n){var i=r.l+e,a=Sb(r,n,t),s;return i!==r.l&&(s=bb(r,i-r.l,a,t)),[a,s]}function s9e(r,e,t){var n=r.l+e,i,a=r.read_shift(2),s=Sb(r,a,t);return a==65535?[[],Ha(r,e-2)]:(e!==a+2&&(i=bb(r,n-a-2,s,t)),[s,i])}function o9e(r){var e;if($c(r,r.l+6)!==65535)return[Pa(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function kk(r,e,t){var n=r.l+e,i=oc(r);t.biff==2&&++r.l;var a=o9e(r),s=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=i9e(r,n-r.l,t);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function RD(r,e,t){var n=r.read_shift(4),i=Sb(r,n,t),a=r.read_shift(4),s=a>0?bb(r,a,i,t):null;return[i,s]}var l9e=RD,MD=RD,u9e=RD,c9e=RD,f9e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Use={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},h9e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DW(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function Pk(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var _x={},mm={};function xx(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Hse(r,e,t,n,i,a){try{n.cellNF&&(r.z=Zt[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=qi(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(Zt[e]==null&&vv(d5e[e]||"General",e),r.t==="e")r.w=r.w||sg[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=sw(r.v);else if(r.t==="d"){var s=ms(r.v);(s|0)===s?r.w=s.toString(10):r.w=sw(s)}else{if(r.v===void 0)return"";r.w=Ov(r.v,mm)}else r.t==="d"?r.w=sl(e,ms(r.v),mm):r.w=sl(e,r.v,mm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=a.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=NE(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=NE(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function d9e(r,e){var t=Fn(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Cr(t))}var p9e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,v9e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,g9e=/<(?:\w:)?hyperlink [^>]*>/mg,m9e=/"(\w*:\w*)"/,y9e=/<(?:\w:)?col\b[^>]*[\/]?>/g,_9e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,x9e=/<(?:\w:)?pageMargins[^>]*\/>/g,Gse=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,w9e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,b9e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function S9e(r,e,t,n,i,a,s){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",f=r.match(v9e);f?(u=r.slice(0,f.index),c=r.slice(f.index+f[0].length)):u=c=r;var h=u.match(Gse);h?J5(h[0],o,i,t):(h=u.match(w9e))&&T9e(h[0],h[1]||"",o,i,t);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=u.slice(p,p+50).match(m9e);v&&d9e(o,v[1])}var m=u.match(b9e);m&&m[1]&&R9e(m[1],i);var y=[];if(e.cellStyles){var x=u.match(y9e);x&&C9e(y,x)}f&&M9e(f[1],o,e,l,a,s);var w=c.match(_9e);w&&(o["!autofilter"]=D9e(w[0]));var b=[],T=c.match(p9e);if(T)for(p=0;p!=T.length;++p)b[p]=Fn(T[p].slice(T[p].indexOf('"')+1));var C=c.match(g9e);C&&A9e(o,C,n);var D=c.match(x9e);if(D&&(o["!margins"]=E9e(Vt(D[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Cr(l)),e.sheetRows>0&&o["!ref"]){var E=Fn(o["!ref"]);e.sheetRows<=+E.e.r&&(E.e.r=e.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Cr(E))}return y.length>0&&(o["!cols"]=y),b.length>0&&(o["!merges"]=b),o}function J5(r,e,t,n){var i=Vt(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=Ir(cn(i.codeName)))}function T9e(r,e,t,n,i){J5(r.slice(0,r.indexOf(">")),t,n,i)}function A9e(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var a=Vt(cn(e[i]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Ir(a.location))):(a.Target="#"+Ir(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Fn(a.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var c=Wt({c:u,r:l});n?(r[l]||(r[l]=[]),r[l][u]||(r[l][u]={t:"z",v:void 0}),r[l][u].l=a):(r[c]||(r[c]={t:"z",v:void 0}),r[c].l=a)}}}function E9e(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function C9e(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=Vt(e[n],!0);i.hidden&&(i.hidden=yn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,Z5(i.width)),jm(i);a<=s;)r[a++]=ha(i)}}function D9e(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var I9e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function R9e(r,e){e.Views||(e.Views=[{}]),(r.match(I9e)||[]).forEach(function(t,n){var i=Vt(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),yn(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var M9e=function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=ow("v"),s=ow("f");return function(l,u,c,f,h,p){for(var v=0,m="",y=[],x=[],w=0,b=0,T=0,C="",D,E,R=0,M=0,k,L,O=0,N=0,W=Array.isArray(p.CellXf),U,z=[],Y=[],re=Array.isArray(u),K=[],q={},Q=!1,j=!!c.sheetStubs,J=l.split(e),te=0,se=J.length;te!=se;++te){m=J[te].trim();var de=m.length;if(de!==0){var Oe=0;e:for(v=0;v<de;++v)switch(m[v]){case">":if(m[v-1]!="/"){++v;break e}if(c&&c.cellStyles){if(E=Vt(m.slice(Oe,v),!0),R=E.r!=null?parseInt(E.r,10):R+1,M=-1,c.sheetRows&&c.sheetRows<R)continue;q={},Q=!1,E.ht&&(Q=!0,q.hpt=parseFloat(E.ht),q.hpx=fw(q.hpt)),E.hidden=="1"&&(Q=!0,q.hidden=!0),E.outlineLevel!=null&&(Q=!0,q.level=+E.outlineLevel),Q&&(K[R-1]=q)}break;case"<":Oe=v;break}if(Oe>=v)break;if(E=Vt(m.slice(Oe,v),!0),R=E.r!=null?parseInt(E.r,10):R+1,M=-1,!(c.sheetRows&&c.sheetRows<R)){f.s.r>R-1&&(f.s.r=R-1),f.e.r<R-1&&(f.e.r=R-1),c&&c.cellStyles&&(q={},Q=!1,E.ht&&(Q=!0,q.hpt=parseFloat(E.ht),q.hpx=fw(q.hpt)),E.hidden=="1"&&(Q=!0,q.hidden=!0),E.outlineLevel!=null&&(Q=!0,q.level=+E.outlineLevel),Q&&(K[R-1]=q)),y=m.slice(v).split(r);for(var Ae=0;Ae!=y.length&&y[Ae].trim().charAt(0)=="<";++Ae);for(y=y.slice(Ae),v=0;v!=y.length;++v)if(m=y[v].trim(),m.length!==0){if(x=m.match(t),w=v,b=0,T=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(w=0,C=x[1],b=0;b!=C.length&&!((T=C.charCodeAt(b)-64)<1||T>26);++b)w=26*w+T;--w,M=w}else++M;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,E=Vt(m.slice(0,b),!0),E.r||(E.r=Wt({r:R-1,c:M})),C=m.slice(b),D={t:""},(x=C.match(a))!=null&&x[1]!==""&&(D.v=Ir(x[1])),c.cellFormula){if((x=C.match(s))!=null&&x[1]!==""){if(D.f=Ir(cn(x[1])).replace(/\r\n/g,`
`),c.xlfn||(D.f=TW(D.f)),x[0].indexOf('t="array"')>-1)D.F=(C.match(i)||[])[1],D.F.indexOf(":")>-1&&z.push([Fn(D.F),D.F]);else if(x[0].indexOf('t="shared"')>-1){L=Vt(x[0]);var ye=Ir(cn(x[1]));c.xlfn||(ye=TW(ye)),Y[parseInt(L.si,10)]=[L,ye,E.r]}}else(x=C.match(/<f[^>]*\/>/))&&(L=Vt(x[0]),Y[L.si]&&(D.f=Hze(Y[L.si][1],Y[L.si][2],E.r)));var Se=fs(E.r);for(b=0;b<z.length;++b)Se.r>=z[b][0].s.r&&Se.r<=z[b][0].e.r&&Se.c>=z[b][0].s.c&&Se.c<=z[b][0].e.c&&(D.F=z[b][1])}if(E.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(j)D.t="z";else continue;else D.t=E.t||"n";switch(f.s.c>M&&(f.s.c=M),f.e.c<M&&(f.e.c=M),D.t){case"n":if(D.v==""||D.v==null){if(!j)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!j)continue;D.t="z"}else k=_x[parseInt(D.v,10)],D.v=k.t,D.r=k.r,c.cellHTML&&(D.h=k.h);break;case"str":D.t="s",D.v=D.v!=null?cn(D.v):"",c.cellHTML&&(D.h=z5(D.v));break;case"inlineStr":x=C.match(n),D.t="s",x!=null&&(k=K5(x[1]))?(D.v=k.t,c.cellHTML&&(D.h=k.h)):D.v="";break;case"b":D.v=yn(D.v);break;case"d":c.cellDates?D.v=qi(D.v,1):(D.v=ms(qi(D.v,1)),D.t="n");break;case"e":(!c||c.cellText!==!1)&&(D.w=D.v),D.v=cse[D.v];break}if(O=N=0,U=null,W&&E.s!==void 0&&(U=p.CellXf[E.s],U!=null&&(U.numFmtId!=null&&(O=U.numFmtId),c.cellStyles&&U.fillId!=null&&(N=U.fillId))),Hse(D,O,N,c,h,p),c.cellDates&&W&&D.t=="n"&&yy(Zt[O])&&(D.t="d",D.v=DD(D.v)),E.cm&&c.xlmeta){var me=(c.xlmeta.Cell||[])[+E.cm-1];me&&me.type=="XLDAPR"&&(D.D=!0)}if(re){var ee=fs(E.r);u[ee.r]||(u[ee.r]=[]),u[ee.r][ee.c]=D}else u[E.r]=D}}}}K.length>0&&(u["!rows"]=K)}}();function k9e(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}var P9e=ag;function L9e(){}function O9e(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=nBe(r),t}function N9e(r){var e=ul(r);return[e]}function F9e(r){var e=ig(r);return[e]}function B9e(r){var e=ul(r),t=r.read_shift(1);return[e,t,"b"]}function V9e(r){var e=ig(r),t=r.read_shift(1);return[e,t,"b"]}function z9e(r){var e=ul(r),t=r.read_shift(1);return[e,t,"e"]}function U9e(r){var e=ig(r),t=r.read_shift(1);return[e,t,"e"]}function H9e(r){var e=ul(r),t=r.read_shift(4);return[e,t,"s"]}function G9e(r){var e=ig(r),t=r.read_shift(4);return[e,t,"s"]}function j9e(r){var e=ul(r),t=Pa(r);return[e,t,"n"]}function jse(r){var e=ig(r),t=Pa(r);return[e,t,"n"]}function W9e(r){var e=ul(r),t=q5(r);return[e,t,"n"]}function $9e(r){var e=ig(r),t=q5(r);return[e,t,"n"]}function q9e(r){var e=ul(r),t=W5(r);return[e,t,"is"]}function Y9e(r){var e=ul(r),t=Ba(r);return[e,t,"str"]}function X9e(r){var e=ig(r),t=Ba(r);return[e,t,"str"]}function K9e(r,e,t){var n=r.l+e,i=ul(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(t.cellFormula){r.l+=2;var o=MD(r,n-r.l,t);s[3]=Ra(o,null,i,t.supbooks,t)}else r.l=n;return s}function Z9e(r,e,t){var n=r.l+e,i=ul(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(t.cellFormula){r.l+=2;var o=MD(r,n-r.l,t);s[3]=Ra(o,null,i,t.supbooks,t)}else r.l=n;return s}function Q9e(r,e,t){var n=r.l+e,i=ul(r);i.r=t["!row"];var a=Pa(r),s=[i,a,"n"];if(t.cellFormula){r.l+=2;var o=MD(r,n-r.l,t);s[3]=Ra(o,null,i,t.supbooks,t)}else r.l=n;return s}function J9e(r,e,t){var n=r.l+e,i=ul(r);i.r=t["!row"];var a=Ba(r),s=[i,a,"str"];if(t.cellFormula){r.l+=2;var o=MD(r,n-r.l,t);s[3]=Ra(o,null,i,t.supbooks,t)}else r.l=n;return s}var eUe=ag;function tUe(r,e){var t=r.l+e,n=ag(r),i=$5(r),a=Ba(r),s=Ba(r),o=Ba(r);r.l=t;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function rUe(){}function nUe(r,e,t){var n=r.l+e,i=ose(r),a=r.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=l9e(r,n-r.l,t);s[1]=o}else r.l=n;return s}function iUe(r,e,t){var n=r.l+e,i=ag(r),a=[i];if(t.cellFormula){var s=c9e(r,n-r.l,t);a[1]=s,r.l=n}else r.l=n;return a}var aUe=["left","right","top","bottom","header","footer"];function sUe(r){var e={};return aUe.forEach(function(t){e[t]=Pa(r)}),e}function oUe(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function lUe(){}function uUe(){}function cUe(r,e,t,n,i,a,s){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,m,y,x,w,b,T,C,D=[];o.biff=12,o["!row"]=0;var E=0,R=!1,M=[],k={},L=o.supbooks||i.supbooks||[[]];if(L.sharedf=k,L.arrayf=M,L.SheetNames=i.SheetNames||i.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=L,i.Names))for(var O=0;O<i.Names.length;++O)L[0][O+1]=i.Names[O];var N=[],W=[],U=!1;VE[16]={n:"BrtShortReal",f:jse};var z;if(Tf(r,function(K,q,Q){if(!h)switch(Q){case 148:u=K;break;case 0:p=K,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),T=da(y=p.r),o["!row"]=p.r,(K.hidden||K.hpt||K.level!=null)&&(K.hpt&&(K.hpx=fw(K.hpt)),W[K.r]=K);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:K[2]},K[2]){case"n":v.v=K[1];break;case"s":b=_x[K[1]],v.v=b.t,v.r=b.r;break;case"b":v.v=!!K[1];break;case"e":v.v=K[1],o.cellText!==!1&&(v.w=sg[v.v]);break;case"str":v.t="s",v.v=K[1];break;case"is":v.t="s",v.v=K[1].t;break}if((m=s.CellXf[K[0].iStyleRef])&&Hse(v,m.numFmtId,null,o,a,s),x=K[0].c==-1?x+1:K[0].c,o.dense?(l[y]||(l[y]=[]),l[y][x]=v):l[Di(x)+T]=v,o.cellFormula){for(R=!1,E=0;E<M.length;++E){var j=M[E];p.r>=j[0].s.r&&p.r<=j[0].e.r&&x>=j[0].s.c&&x<=j[0].e.c&&(v.F=Cr(j[0]),R=!0)}!R&&K.length>3&&(v.f=K[3])}if(c.s.r>p.r&&(c.s.r=p.r),c.s.c>x&&(c.s.c=x),c.e.r<p.r&&(c.e.r=p.r),c.e.c<x&&(c.e.c=x),o.cellDates&&m&&v.t=="n"&&yy(Zt[m.numFmtId])){var J=ev(v.v);J&&(v.t="d",v.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}z&&(z.type=="XLDAPR"&&(v.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},x=K[0].c==-1?x+1:K[0].c,o.dense?(l[y]||(l[y]=[]),l[y][x]=v):l[Di(x)+T]=v,c.s.r>p.r&&(c.s.r=p.r),c.s.c>x&&(c.s.c=x),c.e.r<p.r&&(c.e.r=p.r),c.e.c<x&&(c.e.c=x),z&&(z.type=="XLDAPR"&&(v.D=!0),z=void 0);break;case 176:D.push(K);break;case 49:z=((o.xlmeta||{}).Cell||[])[K-1];break;case 494:var te=n["!id"][K.relId];for(te?(K.Target=te.Target,K.loc&&(K.Target+="#"+K.loc),K.Rel=te):K.relId==""&&(K.Target="#"+K.loc),y=K.rfx.s.r;y<=K.rfx.e.r;++y)for(x=K.rfx.s.c;x<=K.rfx.e.c;++x)o.dense?(l[y]||(l[y]=[]),l[y][x]||(l[y][x]={t:"z",v:void 0}),l[y][x].l=K):(w=Wt({c:x,r:y}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=K);break;case 426:if(!o.cellFormula)break;M.push(K),C=o.dense?l[y][x]:l[Di(x)+T],C.f=Ra(K[1],c,{r:p.r,c:x},L,o),C.F=Cr(K[0]);break;case 427:if(!o.cellFormula)break;k[Wt(K[0].s)]=K[1],C=o.dense?l[y][x]:l[Di(x)+T],C.f=Ra(K[1],c,{r:p.r,c:x},L,o);break;case 60:if(!o.cellStyles)break;for(;K.e>=K.s;)N[K.e--]={width:K.w/256,hidden:!!(K.flags&1),level:K.level},U||(U=!0,Z5(K.w/256)),jm(N[K.e+1]);break;case 161:l["!autofilter"]={ref:Cr(K)};break;case 476:l["!margins"]=K;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),K.name&&(i.Sheets[t].CodeName=K.name),(K.above||K.left)&&(l["!outline"]={above:K.above,left:K.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),K.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!q.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Cr(u||c)),o.sheetRows&&l["!ref"]){var Y=Fn(l["!ref"]);o.sheetRows<=+Y.e.r&&(Y.e.r=o.sheetRows-1,Y.e.r>c.e.r&&(Y.e.r=c.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>c.e.c&&(Y.e.c=c.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Cr(Y))}return D.length>0&&(l["!merges"]=D),N.length>0&&(l["!cols"]=N),W.length>0&&(l["!rows"]=W),l}function fUe(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var i=Ir((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function hUe(r,e,t,n,i,a){var s=a||{"!type":"chart"};if(!r)return a;var o=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=fUe(f);c.s.r=c.s.c=0,c.e.c=o,u=Di(o),h[0].forEach(function(p,v){s[u+da(v)]={t:"n",v:p,z:h[1]},l=v}),c.e.r<l&&(c.e.r=l),++o}),o>0&&(s["!ref"]=Cr(c)),s}function dUe(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=r.match(Gse);return o&&J5(o[0],a,i,t),(s=r.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function pUe(r,e){r.l+=10;var t=Ba(r);return{name:t}}function vUe(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Tf(r,function(l,u,c){switch(c){case 550:a["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var Wse=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],gUe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mUe=[],yUe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function IW(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=yn(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function RW(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=yn(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function $se(r){RW(r.WBProps,Wse),RW(r.CalcPr,yUe),IW(r.WBView,gUe),IW(r.Sheets,mUe),mm.date1904=yn(r.WBProps.date1904)}var _Ue="][*?/\\".split("");function xUe(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return _Ue.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var wUe=/<\w+:workbook/;function bUe(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(r.replace(qa,function(l,u){var c=Vt(l);switch(sc(c[0])){case"<?xml":break;case"<workbook":l.match(wUe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Wse.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":t.WBProps[f[0]]=yn(c[f[0]]);break;case"int":t.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:t.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(t.WBProps.CodeName=cn(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Ir(cn(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=cn(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),yn(c.hidden||"0")&&(a.Hidden=!0),s=u+l.length;break;case"</definedName>":a.Ref=Ir(cn(r.slice(s,u))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),z5e.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return $se(t),t}function SUe(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=CN(r),t.name=Ba(r),t}function TUe(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Ba(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function AUe(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function EUe(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),a=iBe(r),s=u9e(r,0,t),o=$5(r);r.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function CUe(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],VE[16]={n:"BrtFRTArchID$",f:AUe},Tf(r,function(l,u,c){switch(c){case 156:s.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Ra(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([c,l]):s[0]=[c,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),$se(t),t.Names=a,t.supbooks=s,t}function DUe(r,e,t){return e.slice(-4)===".bin"?CUe(r,t):bUe(r,t)}function IUe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?cUe(r,n,t,i,a,s,o):S9e(r,n,t,i,a,s,o)}function RUe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?vUe(r,n,t,i,a):dUe(r,n,t,i,a)}function MUe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?Vze():zze()}function kUe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?Fze():Bze()}function PUe(r,e,t,n){return e.slice(-4)===".bin"?eze(r,t,n):Y6e(r,t,n)}function LUe(r,e,t){return kse(r,t)}function OUe(r,e,t){return e.slice(-4)===".bin"?g6e(r,t):p6e(r,t)}function NUe(r,e,t){return e.slice(-4)===".bin"?Lze(r,t):Ize(r,t)}function FUe(r,e,t){return e.slice(-4)===".bin"?Eze(r):Tze(r)}function BUe(r,e,t,n){return t.slice(-4)===".bin"?Cze(r,e,t,n):void 0}function VUe(r,e,t){return e.slice(-4)===".bin"?bze(r,e,t):Sze(r,e,t)}var qse=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Yse=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function _l(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(qse),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(Yse),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function zUe(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(qse),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(Yse),(a=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),t[s]=i[2].slice(1,i[2].length-1));return t}var bx;function UUe(r,e){var t=bx[r]||Ir(r);return t==="General"?Ov(e):sl(t,e)}function HUe(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=yn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=qi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Ir(e)]=i}function GUe(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||sg[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=sw(r.v):r.w=Ov(r.v):r.w=UUe(e||"General",r.v)}catch(a){if(t.WTF)throw a}try{var n=bx[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&yy(n)){var i=ev(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(t.WTF)throw a}}}function jUe(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=H6e[n.Pattern]||n.Pattern)}r[e.ID]=e}function WUe(r,e,t,n,i,a,s,o,l,u){var c="General",f=n.StyleID,h={};u=u||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(c=a[f].nf),a[f].Interior&&p.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=yn(r);break;case"String":n.t="s",n.r=Qj(Ir(r)),n.v=r.indexOf("<")>-1?Ir(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(qi(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ir(r):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=cse[r],u.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=Qj(e||r));break}if(GUe(n,c,u),u.cellFormula!==!1)if(n.Formula){var m=Ir(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=gm(m,i),delete n.Formula,n.ArrayRange=="RC"?n.F=gm("RC:RC",i):n.ArrayRange&&(n.F=gm(n.ArrayRange,i),l.push([Fn(n.F),n.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(n.F=l[v][1]);u.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function $Ue(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function Lk(r,e){var t=e||{};Nae();var n=B_(U5(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=cn(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=ha(t);return s.type="string",uw.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Jt){i.indexOf("<"+Jt)>=0&&(a=!0)}),a)return t7e(n,t);bx={"General Number":"General","General Date":Zt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Zt[15],"Short Date":Zt[14],"Long Time":Zt[19],"Medium Time":Zt[18],"Short Time":Zt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Zt[2],Standard:Zt[4],Percent:Zt[10],Scientific:Zt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,c={},f=[],h=t.dense?[]:{},p="",v={},m={},y=_l('<Data ss:Type="String">'),x=0,w=0,b=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},D={},E="",R=0,M=[],k={},L={},O=0,N=[],W=[],U={},z=[],Y,re=!1,K=[],q=[],Q={},j=0,J=0,te={Sheets:[],WBProps:{date1904:!1}},se={};lw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";o=lw.exec(n);)switch(o[3]=(de=o[3]).toLowerCase()){case"data":if(de=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?WUe(n.slice(x,o.index),E,y,l[l.length-1][0]=="comment"?U:v,{c:w,r:b},C,z[w],m,K,t):(E="",y=_l(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(W.length>0&&(v.c=W),(!t.sheetRows||t.sheetRows>b)&&v.v!==void 0&&(t.dense?(h[b]||(h[b]=[]),h[b][w]=v):h[Di(w)+da(b)]=v),v.HRef&&(v.l={Target:Ir(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=w+(parseInt(v.MergeAcross,10)|0),J=b+(parseInt(v.MergeDown,10)|0),M.push({s:{c:w,r:b},e:{c:j,r:J}})),!t.sheetStubs)v.MergeAcross?w=j+1:++w;else if(v.MergeAcross||v.MergeDown){for(var Oe=w;Oe<=j;++Oe)for(var Ae=b;Ae<=J;++Ae)(Oe>w||Ae>b)&&(t.dense?(h[Ae]||(h[Ae]=[]),h[Ae][Oe]={t:"z"}):h[Di(Oe)+da(Ae)]={t:"z"});w=j+1}else++w;else v=zUe(o[0]),v.Index&&(w=+v.Index-1),w<T.s.c&&(T.s.c=w),w>T.e.c&&(T.e.c=w),o[0].slice(-2)==="/>"&&++w,W=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<T.s.r&&(T.s.r=b),b>T.e.r&&(T.e.r=b),o[0].slice(-2)==="/>"&&(m=_l(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=_l(o[0]),m.Index&&(b=+m.Index-1),Q={},(m.AutoFitHeight=="0"||m.Height)&&(Q.hpx=parseInt(m.Height,10),Q.hpt=Mse(Q.hpx),q[b]=Q),m.Hidden=="1"&&(Q.hidden=!0,q[b]=Q));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(h["!ref"]=Cr(T),t.sheetRows&&t.sheetRows<=T.e.r&&(h["!fullref"]=h["!ref"],T.e.r=t.sheetRows-1,h["!ref"]=Cr(T))),M.length&&(h["!merges"]=M),z.length>0&&(h["!cols"]=z),q.length>0&&(h["!rows"]=q),c[p]=h}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),u=_l(o[0]),p=Ir(u.Name),h=t.dense?[]:{},M=[],K=[],q=[],se={name:p,Hidden:0},te.Sheets.push(se);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),z=[],re=!1}break;case"style":o[1]==="/"?jUe(C,D,t):D=_l(o[0]);break;case"numberformat":D.nf=Ir(_l(o[0]).Format||"General"),bx[D.nf]&&(D.nf=bx[D.nf]);for(var ye=0;ye!=392&&Zt[ye]!=D.nf;++ye);if(ye==392){for(ye=57;ye!=392;++ye)if(Zt[ye]==null){vv(D.nf,ye);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Y=_l(o[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!re&&Y.wpx>10){re=!0,ls=Ise;for(var Se=0;Se<z.length;++Se)z[Se]&&jm(z[Se])}re&&jm(Y),z[Y.Index-1||z.length]=Y;for(var me=0;me<+Y.Span;++me)z[z.length]=ha(Y);break;case"namedrange":if(o[1]==="/")break;te.Names||(te.Names=[]);var ee=Vt(o[0]),mt={Name:ee.Name,Ref:gm(ee.RefersTo.slice(1),{r:0,c:0})};te.Sheets.length>0&&(mt.Sheet=te.Sheets.length-1),te.Names.push(mt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(R,o.index):R=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;D.Interior=_l(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?IBe(k,de,n.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));$Ue(U),W.push(U)}else l.push([o[3],!1]),u=_l(o[0]),U={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var rt=_l(o[0]);h["!autofilter"]={ref:gm(rt.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return NW(n,t);var at=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:at=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:at=!1}break;case"excelworkbook":switch(o[3]){case"date1904":te.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:at=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:at=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(O,o.index)){case"SheetHidden":se.Hidden=1;break;case"SheetVeryHidden":se.Hidden=2;break}else O=o.index+o[0].length;break;case"header":h["!margins"]||xx(h["!margins"]={},"xlml"),isNaN(+Vt(o[0]).Margin)||(h["!margins"].header=+Vt(o[0]).Margin);break;case"footer":h["!margins"]||xx(h["!margins"]={},"xlml"),isNaN(+Vt(o[0]).Margin)||(h["!margins"].footer=+Vt(o[0]).Margin);break;case"pagemargins":var ot=Vt(o[0]);h["!margins"]||xx(h["!margins"]={},"xlml"),isNaN(+ot.Top)||(h["!margins"].top=+ot.Top),isNaN(+ot.Left)||(h["!margins"].left=+ot.Left),isNaN(+ot.Right)||(h["!margins"].right=+ot.Right),isNaN(+ot.Bottom)||(h["!margins"].bottom=+ot.Bottom);break;case"displayrighttoleft":te.Views||(te.Views=[]),te.Views[0]||(te.Views[0]={}),te.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:at=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:at=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:at=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:at=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:at=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:at=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:at=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:at=!1}break;case"smarttags":break;default:at=!1;break}if(at||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?HUe(L,de,N,n.slice(O,o.index)):(N=o,O=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ue={};return!t.bookSheets&&!t.bookProps&&(Ue.Sheets=c),Ue.SheetNames=f,Ue.Workbook=te,Ue.SSF=ha(Zt),Ue.Props=k,Ue.Custprops=L,Ue}function MN(r,e){switch(rB(e=e||{}),e.type||"base64"){case"base64":return Lk(go(r),e);case"binary":case"buffer":case"file":return Lk(r,e);case"array":return Lk(ng(r),e)}}function qUe(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=oBe(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=lBe(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var YUe=[60,1084,2066,2165,2175];function XUe(r,e,t,n,i){var a=n,s=[],o=t.slice(t.l,t.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),t.l+=a;for(var l=$c(t,t.l),u=kN[l],c=0;u!=null&&YUe.indexOf(l)>-1;)a=$c(t,t.l+2),c=t.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),o=t.slice(c,t.l+4+a),s.push(o),t.l+=4+a,u=kN[l=$c(t,t.l)];var f=xh(s);sa(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function gu(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=Zt[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||sg[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=sw(r.v):r.w=Ov(r.v):r.w=sl(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&r.t=="n"&&yy(Zt[n]||String(n))){var i=ev(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function GT(r,e,t){return{v:r,ixfe:e,t}}function KUe(r,e){var t={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],u="",c={},f,h="",p,v,m,y,x={},w=[],b,T,C=[],D=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},M=function(yt){return yt<8?gv[yt]:yt<64&&D[yt-8]||gv[yt]},k=function(yt,_r,gr){var Rt=_r.XF.data;if(!(!Rt||!Rt.patternType||!gr||!gr.cellStyles)){_r.s={},_r.s.patternType=Rt.patternType;var Kt;(Kt=cw(M(Rt.icvFore)))&&(_r.s.fgColor={rgb:Kt}),(Kt=cw(M(Rt.icvBack)))&&(_r.s.bgColor={rgb:Kt})}},L=function(yt,_r,gr){if(!(Q>1)&&!(gr.sheetRows&&yt.r>=gr.sheetRows)){if(gr.cellStyles&&_r.XF&&_r.XF.data&&k(yt,_r,gr),delete _r.ixfe,delete _r.XF,f=yt,h=Wt(yt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),yt.r<s.s.r&&(s.s.r=yt.r),yt.c<s.s.c&&(s.s.c=yt.c),yt.r+1>s.e.r&&(s.e.r=yt.r+1),yt.c+1>s.e.c&&(s.e.c=yt.c+1),gr.cellFormula&&_r.f){for(var Rt=0;Rt<w.length;++Rt)if(!(w[Rt][0].s.c>yt.c||w[Rt][0].s.r>yt.r)&&!(w[Rt][0].e.c<yt.c||w[Rt][0].e.r<yt.r)){_r.F=Cr(w[Rt][0]),(w[Rt][0].s.c!=yt.c||w[Rt][0].s.r!=yt.r)&&delete _r.f,_r.f&&(_r.f=""+Ra(w[Rt][1],s,yt,K,O));break}}gr.dense?(i[yt.r]||(i[yt.r]=[]),i[yt.r][yt.c]=_r):i[h]=_r}},O={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(O.password=e.password);var N,W=[],U=[],z=[],Y=[],re=!1,K=[];K.SheetNames=O.snames,K.sharedf=O.sharedf,K.arrayf=O.arrayf,K.names=[],K.XTI=[];var q=0,Q=0,j=0,J=[],te=[],se;O.codepage=1200,kl(1200);for(var de=!1;r.l<r.length-1;){var Oe=r.l,Ae=r.read_shift(2);if(Ae===0&&q===10)break;var ye=r.l===r.length?0:r.read_shift(2),Se=kN[Ae];if(Se&&Se.f){if(e.bookSheets&&q===133&&Ae!==133)break;if(q=Ae,Se.r===2||Se.r==12){var me=r.read_shift(2);if(ye-=2,!O.enc&&me!==Ae&&((me&255)<<8|me>>8)!==Ae)throw new Error("rt mismatch: "+me+"!="+Ae);Se.r==12&&(r.l+=10,ye-=10)}var ee={};if(Ae===10?ee=Se.f(r,ye,O):ee=XUe(Ae,Se,r,ye,O),Q==0&&[9,521,1033,2057].indexOf(q)===-1)continue;switch(Ae){case 34:t.opts.Date1904=E.WBProps.date1904=ee;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(O.enc||(r.l=0),O.enc=ee,!e.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=ee;break;case 66:var mt=Number(ee);switch(mt){case 21010:mt=1200;break;case 32768:mt=1e4;break;case 32769:mt=1252;break}kl(O.codepage=mt),de=!0;break;case 317:O.rrtabid=ee;break;case 25:O.winlocked=ee;break;case 439:t.opts.RefreshAll=ee;break;case 12:t.opts.CalcCount=ee;break;case 16:t.opts.CalcDelta=ee;break;case 17:t.opts.CalcIter=ee;break;case 13:t.opts.CalcMode=ee;break;case 14:t.opts.CalcPrecision=ee;break;case 95:t.opts.CalcSaveRecalc=ee;break;case 15:O.CalcRefMode=ee;break;case 2211:t.opts.FullCalc=ee;break;case 129:ee.fDialog&&(i["!type"]="dialog"),ee.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ee.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:C.push(ee);break;case 430:K.push([ee]),K[K.length-1].XTI=[];break;case 35:case 547:K[K.length-1].push(ee);break;case 24:case 536:se={Name:ee.Name,Ref:Ra(ee.rgce,s,null,K,O)},ee.itab>0&&(se.Sheet=ee.itab-1),K.names.push(se),K[0]||(K[0]=[],K[0].XTI=[]),K[K.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(te[ee.itab-1]={ref:Cr(ee.rgce[0][0][1][2])});break;case 22:O.ExternCount=ee;break;case 23:K.length==0&&(K[0]=[],K[0].XTI=[]),K[K.length-1].XTI=K[K.length-1].XTI.concat(ee),K.XTI=K.XTI.concat(ee);break;case 2196:if(O.biff<8)break;se!=null&&(se.Comment=ee[1]);break;case 18:i["!protect"]=ee;break;case 19:ee!==0&&O.WTF&&console.error("Password verifier: "+ee);break;case 133:a[ee.pos]=ee,O.snames.push(ee.name);break;case 10:{if(--Q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Cr(s),e.sheetRows&&e.sheetRows<=s.e.r){var rt=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Cr(s),s.e.r=rt}s.e.r++,s.e.c++}W.length>0&&(i["!merges"]=W),U.length>0&&(i["!objects"]=U),z.length>0&&(i["!cols"]=z),Y.length>0&&(i["!rows"]=Y),E.Sheets.push(R)}u===""?c=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[Ae]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),O.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(O.biff=5,de=!0,kl(O.codepage=28591)),O.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(O.biff=2),Q++)break;if(i=e.dense?[]:{},O.biff<8&&!de&&(de=!0,kl(O.codepage=e.codepage||1252)),O.biff<5||ee.BIFFVer==0&&ee.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var at={pos:r.l-ye,name:u};a[at.pos]=at,O.snames.push(u)}else u=(a[Oe]||{name:""}).name;ee.dt==32&&(i["!type"]="chart"),ee.dt==64&&(i["!type"]="macro"),W=[],U=[],O.arrayf=w=[],z=[],Y=[],re=!1,R={Hidden:(a[Oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ee.r]||[])[ee.c]:i[Wt({c:ee.c,r:ee.r})])&&++ee.c,b={ixfe:ee.ixfe,XF:C[ee.ixfe]||{},v:ee.val,t:"n"},j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ee.c,r:ee.r},b,e);break;case 5:case 517:b={ixfe:ee.ixfe,XF:C[ee.ixfe],v:ee.val,t:ee.t},j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ee.c,r:ee.r},b,e);break;case 638:b={ixfe:ee.ixfe,XF:C[ee.ixfe],v:ee.rknum,t:"n"},j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ee.c,r:ee.r},b,e);break;case 189:for(var ot=ee.c;ot<=ee.C;++ot){var Ue=ee.rkrec[ot-ee.c][0];b={ixfe:Ue,XF:C[Ue],v:ee.rkrec[ot-ee.c][1],t:"n"},j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ot,r:ee.r},b,e)}break;case 6:case 518:case 1030:{if(ee.val=="String"){o=ee;break}if(b=GT(ee.val,ee.cell.ixfe,ee.tt),b.XF=C[b.ixfe],e.cellFormula){var Jt=ee.formula;if(Jt&&Jt[0]&&Jt[0][0]&&Jt[0][0][0]=="PtgExp"){var vr=Jt[0][0][1][0],en=Jt[0][0][1][1],Gr=Wt({r:vr,c:en});x[Gr]?b.f=""+Ra(ee.formula,s,ee.cell,K,O):b.F=((e.dense?(i[vr]||[])[en]:i[Gr])||{}).F}else b.f=""+Ra(ee.formula,s,ee.cell,K,O)}j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L(ee.cell,b,e),o=ee}break;case 7:case 519:if(o)o.val=ee,b=GT(ee,o.cell.ixfe,"s"),b.XF=C[b.ixfe],e.cellFormula&&(b.f=""+Ra(o.formula,s,o.cell,K,O)),j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(ee);var ni=Wt(ee[0].s);if(p=e.dense?(i[ee[0].s.r]||[])[ee[0].s.c]:i[ni],e.cellFormula&&p){if(!o||!ni||!p)break;p.f=""+Ra(ee[1],s,ee[0],K,O),p.F=Cr(ee[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;x[Wt(o.cell)]=ee[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Wt(o.cell)],(p||{}).f=""+Ra(ee[0],s,f,K,O)}}break;case 253:b=GT(l[ee.isst].t,ee.ixfe,"s"),l[ee.isst].h&&(b.h=l[ee.isst].h),b.XF=C[b.ixfe],j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ee.c,r:ee.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:ee.ixfe,XF:C[ee.ixfe],t:"z"},j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ee.c,r:ee.r},b,e));break;case 190:if(e.sheetStubs)for(var Or=ee.c;Or<=ee.C;++Or){var zn=ee.ixfe[Or-ee.c];b={ixfe:zn,XF:C[zn],t:"z"},j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:Or,r:ee.r},b,e)}break;case 214:case 516:case 4:b=GT(ee.val,ee.ixfe,"s"),b.XF=C[b.ixfe],j>0&&(b.z=J[b.ixfe>>8&63]),gu(b,e,t.opts.Date1904),L({c:ee.c,r:ee.r},b,e);break;case 0:case 512:Q===1&&(s=ee);break;case 252:l=ee;break;case 1054:if(O.biff==4){J[j++]=ee[1];for(var ya=0;ya<j+163&&Zt[ya]!=ee[1];++ya);ya>=163&&vv(ee[1],j+163)}else vv(ee[1],ee[0]);break;case 30:{J[j++]=ee;for(var We=0;We<j+163&&Zt[We]!=ee;++We);We>=163&&vv(ee,j+163)}break;case 229:W=W.concat(ee);break;case 93:U[ee.cmo[0]]=O.lastobj=ee;break;case 438:O.lastobj.TxO=ee;break;case 127:O.lastobj.ImData=ee;break;case 440:for(y=ee[0].s.r;y<=ee[0].e.r;++y)for(m=ee[0].s.c;m<=ee[0].e.c;++m)p=e.dense?(i[y]||[])[m]:i[Wt({c:m,r:y})],p&&(p.l=ee[1]);break;case 2048:for(y=ee[0].s.r;y<=ee[0].e.r;++y)for(m=ee[0].s.c;m<=ee[0].e.c;++m)p=e.dense?(i[y]||[])[m]:i[Wt({c:m,r:y})],p&&p.l&&(p.l.Tooltip=ee[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;p=e.dense?(i[ee[0].r]||[])[ee[0].c]:i[Wt(ee[0])];var qe=U[ee[2]];p||(e.dense?(i[ee[0].r]||(i[ee[0].r]=[]),p=i[ee[0].r][ee[0].c]={t:"z"}):p=i[Wt(ee[0])]={t:"z"},s.e.r=Math.max(s.e.r,ee[0].r),s.s.r=Math.min(s.s.r,ee[0].r),s.e.c=Math.max(s.e.c,ee[0].c),s.s.c=Math.min(s.s.c,ee[0].c)),p.c||(p.c=[]),v={a:ee[1],t:qe.TxO.t},p.c.push(v)}break;case 2173:yze(C[ee.ixfe],ee.ext);break;case 125:{if(!O.cellStyles)break;for(;ee.e>=ee.s;)z[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},re||(re=!0,Z5(ee.w/256)),jm(z[ee.e+1])}break;case 520:{var Ze={};ee.level!=null&&(Y[ee.r]=Ze,Ze.level=ee.level),ee.hidden&&(Y[ee.r]=Ze,Ze.hidden=!0),ee.hpt&&(Y[ee.r]=Ze,Ze.hpt=ee.hpt,Ze.hpx=fw(ee.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||xx(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ae]]=ee;break;case 161:i["!margins"]||xx(i["!margins"]={}),i["!margins"].header=ee.header,i["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(E.Views[0].RTL=!0);break;case 146:D=ee;break;case 2198:N=ee;break;case 140:T=ee;break;case 442:u?R.CodeName=ee||R.name:E.WBProps.CodeName=ee||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+Ae.toString(16)),r.l+=ye}return t.SheetNames=tc(a).sort(function(dt,yt){return Number(dt)-Number(yt)}).map(function(dt){return a[dt].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&te.forEach(function(dt,yt){t.Sheets[t.SheetNames[yt]]["!autofilter"]=dt}),t.Strings=l,t.SSF=ha(Zt),O.enc&&(t.Encryption=O.enc),N&&(t.Themes=N),t.Metadata={},T!==void 0&&(t.Metadata.Country=T),K.names.length>0&&(E.Names=K.names),t.Workbook=E,t}var MW={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ZUe(r,e,t){var n=Er.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=pW(n,pBe,MW.DSI);for(var a in i)e[a]=i[a]}catch(u){if(t.WTF)throw u}var s=Er.find(r,"/!SummaryInformation");if(s&&s.size>0)try{var o=pW(s,vBe,MW.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(t.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(hse(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function Xse(r,e){e||(e={}),rB(e),Tae(),e.codepage&&L5(e.codepage);var t,n;if(r.FullPaths){if(Er.find(r,"/encryption"))throw new Error("File is password-protected");t=Er.find(r,"!CompObj"),n=Er.find(r,"/Workbook")||Er.find(r,"/Book")}else{switch(e.type){case"base64":r=Il(go(r));break;case"binary":r=Il(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}sa(r,0),n={content:r}}var i,a;if(t&&qUe(t),e.bookProps&&!e.bookSheets)i={};else{var s=yr?"buffer":"array";if(n&&n.content)i=KUe(n.content,e);else if((a=Er.find(r,"PerfectOffice_MAIN"))&&a.content)i=yx.to_workbook(a.content,(e.type=s,e));else if((a=Er.find(r,"NativeContent_MAIN"))&&a.content)i=yx.to_workbook(a.content,(e.type=s,e));else throw(a=Er.find(r,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Er.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Nze(r))}var o={};return r.FullPaths&&ZUe(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var VE={0:{f:k9e},1:{f:N9e},2:{f:W9e},3:{f:z9e},4:{f:B9e},5:{f:j9e},6:{f:Y9e},7:{f:H9e},8:{f:J9e},9:{f:Q9e},10:{f:K9e},11:{f:Z9e},12:{f:F9e},13:{f:$9e},14:{f:U9e},15:{f:V9e},16:{f:jse},17:{f:X9e},18:{f:G9e},19:{f:W5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:EUe},40:{},42:{},43:{f:K6e},44:{f:X6e},45:{f:Z6e},46:{f:J6e},47:{f:Q6e},48:{},49:{f:eBe},50:{},51:{f:xze},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Tse},62:{f:q9e},63:{f:Aze},64:{f:lUe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ha,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oUe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:O9e},148:{f:P9e,p:16},151:{f:rUe},152:{},153:{f:TUe},154:{},155:{},156:{f:SUe},157:{},158:{},159:{T:1,f:v6e},160:{T:-1},161:{T:1,f:ag},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eUe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_ze},336:{T:-1},337:{f:wze,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Sse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:nUe},427:{f:iUe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:sUe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:L9e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:tUe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Pze},633:{T:1},634:{T:-1},635:{T:1,f:kze},636:{T:-1},637:{f:rBe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pUe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:uUe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},kN={6:{f:kk},10:{f:Zf},12:{f:fi},13:{f:fi},14:{f:jn},15:{f:jn},16:{f:Pa},17:{f:jn},18:{f:jn},19:{f:fi},20:{f:yW},21:{f:yW},23:{f:Sse},24:{f:xW},25:{f:jn},26:{},27:{},28:{f:RVe},29:{},34:{f:jn},35:{f:_W},38:{f:Pa},39:{f:Pa},40:{f:Pa},41:{f:Pa},42:{f:jn},43:{f:jn},47:{f:L6e},49:{f:fVe},51:{f:fi},60:{},61:{f:lVe},64:{f:jn},65:{f:cVe},66:{f:fi},77:{},80:{},81:{},82:{},85:{f:fi},89:{},90:{},91:{},92:{f:eVe},93:{f:kVe},94:{},95:{f:jn},96:{},97:{},99:{f:jn},125:{f:Tse},128:{f:wVe},129:{f:tVe},130:{f:fi},131:{f:jn},132:{f:jn},133:{f:rVe},134:{},140:{f:BVe},141:{f:fi},144:{},146:{f:zVe},151:{},152:{},153:{},154:{},155:{},156:{f:fi},157:{},158:{},160:{f:WVe},161:{f:HVe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:mVe},190:{f:yVe},193:{f:Zf},197:{},198:{},199:{},200:{},201:{},202:{f:jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fi},220:{},221:{f:jn},222:{},224:{f:xVe},225:{f:JBe},226:{f:Zf},227:{},229:{f:MVe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:nVe},253:{f:hVe},255:{f:iVe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mse},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:jn},353:{f:Zf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:SVe},431:{f:jn},432:{},433:{},434:{},437:{},438:{f:OVe},439:{f:jn},440:{f:NVe},441:{},442:{f:xb},443:{},444:{f:fi},445:{},446:{},448:{f:Zf},449:{f:oVe,r:2},450:{f:Zf},512:{f:gW},513:{f:jVe},515:{f:bVe},516:{f:dVe},517:{f:mW},519:{f:$Ve},520:{f:aVe},523:{},545:{f:wW},549:{f:vW},566:{},574:{f:uVe},638:{f:gVe},659:{},1048:{},1054:{f:pVe},1084:{},1212:{f:CVe},2048:{f:FVe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zT},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Zf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:UVe,r:12},2173:{f:mze,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:EVe,r:12},2197:{},2198:{f:fze,r:12},2199:{},2200:{},2201:{},2202:{f:DVe,r:12},2203:{f:Zf},2204:{},2205:{},2206:{},2207:{},2211:{f:sVe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:GVe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:VVe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:gW},1:{},2:{f:KVe},3:{f:XVe},4:{f:YVe},5:{f:mW},7:{f:ZVe},8:{},9:{f:zT},11:{},22:{f:fi},30:{f:vVe},31:{},32:{},33:{f:wW},36:{},37:{f:vW},50:{f:QVe},62:{},52:{},67:{},68:{f:fi},69:{},86:{},126:{},127:{f:qVe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:JVe},223:{},234:{},354:{},421:{},518:{f:kk},521:{f:zT},536:{f:xW},547:{f:_W},561:{},579:{},1030:{f:kk},1033:{f:zT},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function xl(r,e,t,n){var i=e;if(!isNaN(i)){var a=(t||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&ise(t)&&r.push(t)}}function kW(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=r.match(/<\/table/i),s=i.index,o=a&&a.index||r.length,l=b5e(r.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(s=0;s<l.length;++s){var m=l[s].trim(),y=m.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}c=0;continue}if(!(y!="<td"&&y!="<th")){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var w=x[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,T=0;b.charAt(0)=="<"&&(T=b.indexOf(">"))>-1;)b=b.slice(T+1);for(var C=0;C<v.length;++C){var D=v[C];D.s.c==c&&D.s.r<u&&u<=D.e.r&&(c=D.e.c+1,C=-1)}var E=Vt(w.slice(0,w.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&v.push({s:{r:u,c},e:{r:u+(f||1)-1,c:c+h-1}});var R=E.t||E["data-t"]||"";if(!b.length){c+=h;continue}if(b=Wae(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>c&&(p.s.c=c),p.e.c<c&&(p.e.c=c),!b.length){c+=h;continue}var M={t:"s",v:b};t.raw||!b.trim().length||R=="s"||(b==="TRUE"?M={t:"b",v:!0}:b==="FALSE"?M={t:"b",v:!1}:isNaN(Fl(b))?isNaN(Gm(b).getDate())||(M={t:"d",v:qi(b)},t.cellDates||(M={t:"n",v:ms(M.v)}),M.z=t.dateNF||Zt[14]):M={t:"n",v:Fl(b)}),t.dense?(n[u]||(n[u]=[]),n[u][c]=M):n[Wt({r:u,c})]=M,c+=h}}}}return n["!ref"]=Cr(p),v.length&&(n["!merges"]=v),n}function QUe(r,e,t,n){for(var i=r["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>s)&&!(i[u].e.r<t||i[u].e.c<s)){if(i[u].s.r<t||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=Wt({r:t,c:s}),f=n.dense?(r[t]||[])[s]:r[c],h=f&&f.v!=null&&(f.h||z5(f.w||(pf(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+c,a.push(B5e("td",h,p))}}var v="<tr>";return v+a.join("")+"</tr>"}var JUe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',e7e="</body></html>";function t7e(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return xd(kW(t[0],e),e);var n=iB();return t.forEach(function(i,a){aB(n,kW(i,e),"Sheet"+(a+1))}),n}function r7e(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function n7e(r,e){var t=e||{},n=t.header!=null?t.header:JUe,i=t.footer!=null?t.footer:e7e,a=[n],s=_y(r["!ref"]);t.dense=Array.isArray(r),a.push(r7e(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(QUe(r,s,o,t));return a.push("</table>"+i),a.join("")}function Kse(r,e,t){var n=t||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?fs(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(r["!ref"]){var c=_y(r["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],h=0,p=r["!rows"]||(r["!rows"]=[]),v=0,m=0,y=0,x=0,w=0,b=0;for(r["!cols"]||(r["!cols"]=[]);v<o.length&&m<l;++v){var T=o[v];if(PW(T)){if(n.display)continue;p[m]={hidden:!0}}var C=T.children;for(y=x=0;y<C.length;++y){var D=C[y];if(!(n.display&&PW(D))){var E=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):Wae(D.innerHTML),R=D.getAttribute("data-z")||D.getAttribute("z");for(h=0;h<f.length;++h){var M=f[h];M.s.c==x+a&&M.s.r<m+i&&m+i<=M.e.r&&(x=M.e.c+1-a,h=-1)}b=+D.getAttribute("colspan")||1,((w=+D.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+i,c:x+a},e:{r:m+i+(w||1)-1,c:x+a+(b||1)-1}});var k={t:"s",v:E},L=D.getAttribute("data-t")||D.getAttribute("t")||"";E!=null&&(E.length==0?k.t=L||"z":n.raw||E.trim().length==0||L=="s"||(E==="TRUE"?k={t:"b",v:!0}:E==="FALSE"?k={t:"b",v:!1}:isNaN(Fl(E))?isNaN(Gm(E).getDate())||(k={t:"d",v:qi(E)},n.cellDates||(k={t:"n",v:ms(k.v)}),k.z=n.dateNF||Zt[14]):k={t:"n",v:Fl(E)})),k.z===void 0&&R!=null&&(k.z=R);var O="",N=D.getElementsByTagName("A");if(N&&N.length)for(var W=0;W<N.length&&!(N[W].hasAttribute("href")&&(O=N[W].getAttribute("href"),O.charAt(0)!="#"));++W);O&&O.charAt(0)!="#"&&(k.l={Target:O}),n.dense?(r[m+i]||(r[m+i]=[]),r[m+i][x+a]=k):r[Wt({c:x+a,r:m+i})]=k,u.e.c<x+a&&(u.e.c=x+a),x+=b}}++m}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+i),r["!ref"]=Cr(u),m>=l&&(r["!fullref"]=Cr((u.e.r=o.length-v+m-1+i,u))),r}function Zse(r,e){var t=e||{},n=t.dense?[]:{};return Kse(n,r,e)}function i7e(r,e){return xd(Zse(r,e),e)}function PW(r){var e="",t=a7e(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function a7e(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function s7e(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Ir(e.replace(/<[^>]*>/g,""));return[t]}var LW={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Qse(r,e){var t=e||{},n=U5(r),i=[],a,s,o={name:""},l="",u=0,c,f,h={},p=[],v=t.dense?[]:{},m,y,x={value:""},w="",b=0,T=[],C=-1,D=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,M={},k=[],L={},O=0,N=0,W=[],U=1,z=1,Y=[],re={Names:[]},K={},q=["",""],Q=[],j={},J="",te=0,se=!1,de=!1,Oe=0;for(lw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=lw.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?v["!ref"]=Cr(E):v["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=E.e.r&&(v["!fullref"]=v["!ref"],E.e.r=t.sheetRows-1,v["!ref"]=Cr(E)),k.length&&(v["!merges"]=k),W.length&&(v["!rows"]=W),c.name=c.名称||c.name,typeof JSON<"u"&&JSON.stringify(c),p.push(c.name),h[c.name]=v,de=!1):m[0].charAt(m[0].length-2)!=="/"&&(c=Vt(m[0],!1),C=D=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,v=t.dense?[]:{},k=[],W=[],de=!0);break;case"table-row-group":m[1]==="/"?--R:++R;break;case"table-row":case"行":if(m[1]==="/"){C+=U,U=1;break}if(f=Vt(m[0],!1),f.行号?C=f.行号-1:C==-1&&(C=0),U=+f["number-rows-repeated"]||1,U<10)for(Oe=0;Oe<U;++Oe)R>0&&(W[C+Oe]={level:R});D=-1;break;case"covered-table-cell":m[1]!=="/"&&++D,t.sheetStubs&&(t.dense?(v[C]||(v[C]=[]),v[C][D]={t:"z"}):v[Wt({r:C,c:D})]={t:"z"}),w="",T=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++D,x=Vt(m[0],!1),z=parseInt(x["number-columns-repeated"]||"1",10),y={t:"z",v:null},x.formula&&t.cellFormula!=!1&&(y.f=DW(Ir(x.formula))),(x.数据类型||x["value-type"])=="string"&&(y.t="s",y.v=Ir(x["string-value"]||""),t.dense?(v[C]||(v[C]=[]),v[C][D]=y):v[Wt({r:C,c:D})]=y),D+=z-1;else if(m[1]!=="/"){++D,w="",b=0,T=[],z=1;var Ae=U?C+U-1:C;if(D>E.e.c&&(E.e.c=D),D<E.s.c&&(E.s.c=D),C<E.s.r&&(E.s.r=C),Ae>E.e.r&&(E.e.r=Ae),x=Vt(m[0],!1),Q=[],j={},y={t:x.数据类型||x["value-type"],v:null},t.cellFormula)if(x.formula&&(x.formula=Ir(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(O=parseInt(x["number-matrix-rows-spanned"],10)||0,N=parseInt(x["number-matrix-columns-spanned"],10)||0,L={s:{r:C,c:D},e:{r:C+O-1,c:D+N-1}},y.F=Cr(L),Y.push([L,y.F])),x.formula)y.f=DW(x.formula);else for(Oe=0;Oe<Y.length;++Oe)C>=Y[Oe][0].s.r&&C<=Y[Oe][0].e.r&&D>=Y[Oe][0].s.c&&D<=Y[Oe][0].e.c&&(y.F=Y[Oe][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(O=parseInt(x["number-rows-spanned"],10)||0,N=parseInt(x["number-columns-spanned"],10)||0,L={s:{r:C,c:D},e:{r:C+O-1,c:D+N-1}},k.push(L)),x["number-columns-repeated"]&&(z=parseInt(x["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=yn(x["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(x.value);break;case"percentage":y.t="n",y.v=parseFloat(x.value);break;case"currency":y.t="n",y.v=parseFloat(x.value);break;case"date":y.t="d",y.v=qi(x["date-value"]),t.cellDates||(y.t="n",y.v=ms(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=_5e(x["time-value"])/86400,t.cellDates&&(y.t="d",y.v=DD(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(x.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",x["string-value"]!=null&&(w=Ir(x["string-value"]),T=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(se=!1,y.t==="s"&&(y.v=w||"",T.length&&(y.R=T),se=b==0),K.Target&&(y.l=K),Q.length>0&&(y.c=Q,Q=[]),w&&t.cellText!==!1&&(y.w=w),se&&(y.t="z",delete y.v),(!se||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=C))for(var ye=0;ye<U;++ye){if(z=parseInt(x["number-columns-repeated"]||"1",10),t.dense)for(v[C+ye]||(v[C+ye]=[]),v[C+ye][D]=ye==0?y:ha(y);--z>0;)v[C+ye][D+z]=ha(y);else for(v[Wt({r:C+ye,c:D})]=y;--z>0;)v[Wt({r:C+ye,c:D+z})]=ha(y);E.e.c<=D&&(E.e.c=D)}z=parseInt(x["number-columns-repeated"]||"1",10),D+=z-1,z=0,y={},w="",T=[]}K={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a;j.t=w,T.length&&(j.R=T),j.a=J,Q.push(j)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);J="",te=0,w="",b=0,T=[];break;case"creator":m[1]==="/"?J=n.slice(te,m.index):te=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);w="",b=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(M[o.name]=l,(a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Vt(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Vt(m[0],!1),l+=LW[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Vt(m[0],!1),l+=LW[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":s=Vt(m[0],!1),q=Pk(s["cell-range-address"]);var Se={Name:s.name,Ref:q[0]+"!"+q[1]};de&&(Se.Sheet=p.length),re.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!x||!x["string-value"])){var me=s7e(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+me[0]}else Vt(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{q=Pk(Vt(m[0])["target-range-address"]),h[q[0]]["!autofilter"]={ref:q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(K=Vt(m[0],!1),!K.href)break;K.Target=Ir(K.href),delete K.href,K.Target.charAt(0)=="#"&&K.Target.indexOf(".")>-1?(q=Pk(K.Target.slice(1)),K.Target="#"+q[0]+"!"+q[1]):K.Target.match(/^\.\.[\\\/]/)&&(K.Target=K.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(t.WTF)throw new Error(m)}}var ee={Sheets:h,SheetNames:p,Workbook:re};return t.bookSheets&&delete ee.Sheets,ee}function OW(r,e){e=e||{},Go(r,"META-INF/manifest.xml")&&bBe(ci(r,"META-INF/manifest.xml"),e);var t=io(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=Qse(cn(t),e);return Go(r,"meta.xml")&&(n.Props=fse(ci(r,"meta.xml"))),n}function NW(r,e){return Qse(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function eB(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function PN(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):cn(ng(r))}function LN(r){var e=r.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function FW(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function o7e(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function hw(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function ki(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Oa(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=hw(r,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=hw(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function tB(r,e){return r?.map(function(t){return e(t.data)})||[]}function l7e(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=hw(r,n),a=Oa(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:ki(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Oa(o.data),u=ki(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=ki(a[3][0].data)>>>0>0),t.push(s)}return t}function u7e(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=hw(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,a==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[LN(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=LN(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function c7e(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(u7e(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return LN(e)}function f7e(r,e,t,n){var i=eB(r),a=i.getUint32(4,!0),s=(n>1?12:8)+FW(a&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,c=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=FW(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(c.setTime(c.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(r[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:t[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return f}function h7e(r,e,t){var n=eB(r),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=o7e(r,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(r[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return f}function d7e(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return f7e(r,e,t,r[0]);case 5:return h7e(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function zh(r){var e=Oa(r);return hw(e[1][0].data)}function BW(r,e){var t=Oa(e.data),n=ki(t[1][0].data),i=t[3],a=[];return(i||[]).forEach(function(s){var o=Oa(s.data),l=ki(o[1][0].data)>>>0;switch(n){case 1:a[l]=PN(o[3][0].data);break;case 8:{var u=r[zh(o[9][0].data)][0],c=Oa(u.data),f=r[zh(c[1][0].data)][0],h=ki(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Oa(f.data);a[l]=p[3].map(function(v){return PN(v.data)}).join("")}break}}),a}function p7e(r,e){var t,n,i,a,s,o,l,u,c,f,h,p,v,m,y=Oa(r),x=ki(y[1][0].data)>>>0,w=ki(y[2][0].data)>>>0,b=((n=(t=y[8])==null?void 0:t[0])==null?void 0:n.data)&&ki(y[8][0].data)>0||!1,T,C;if((a=(i=y[7])==null?void 0:i[0])!=null&&a.data&&e!=0)T=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,C=(u=(l=y[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(c=y[4])==null?void 0:c[0])!=null&&f.data&&e!=1)T=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,C=(m=(v=y[3])==null?void 0:v[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var D=b?4:1,E=eB(T),R=[],M=0;M<T.length/2;++M){var k=E.getUint16(M*2,!0);k<65535&&R.push([M,k])}if(R.length!=w)throw"Expected ".concat(w," cells, found ").concat(R.length);var L=[];for(M=0;M<R.length-1;++M)L[R[M][0]]=C.subarray(R[M][1]*D,R[M+1][1]*D);return R.length>=1&&(L[R[R.length-1][0]]=C.subarray(R[R.length-1][1]*D)),{R:x,cells:L}}function v7e(r,e){var t,n=Oa(e.data),i=(t=n?.[7])!=null&&t[0]?ki(n[7][0].data)>>>0>0?1:0:-1,a=tB(n[5],function(s){return p7e(s,i)});return{nrows:ki(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=l}),s},[])}}function g7e(r,e,t){var n,i=Oa(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(ki(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(ki(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Cr(a);var s=Oa(i[4][0].data),o=BW(r,r[zh(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?BW(r,r[zh(s[17][0].data)][0]):[],u=Oa(s[3][0].data),c=0;u[1].forEach(function(f){var h=Oa(f.data),p=r[zh(h[2][0].data)][0],v=ki(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var m=v7e(r,p);m.data.forEach(function(y,x){y.forEach(function(w,b){var T=Wt({r:c+x,c:b}),C=d7e(w,o,l);C&&(t[T]=C)})}),c+=m.nrows})}function m7e(r,e){var t=Oa(e.data),n={"!ref":"A1"},i=r[zh(t[2][0].data)],a=ki(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return g7e(r,i[0],n),n}function y7e(r,e){var t,n=Oa(e.data),i={name:(t=n[1])!=null&&t[0]?PN(n[1][0].data):"",sheets:[]},a=tB(n[2],zh);return a.forEach(function(s){r[s].forEach(function(o){var l=ki(o.meta[1][0].data);l==6e3&&i.sheets.push(m7e(r,o))})}),i}function _7e(r,e){var t=iB(),n=Oa(e.data),i=tB(n[1],zh);if(i.forEach(function(a){r[a].forEach(function(s){var o=ki(s.meta[1][0].data);if(o==2){var l=y7e(r,s);l.sheets.forEach(function(u,c){aB(t,u,c==0?l.name:l.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function Ok(r){var e,t,n,i,a={},s=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=c7e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var c;try{c=l7e(u)}catch(f){return console.log("## "+(f.message||f))}c.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=a?.[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&ki(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(u){var c=ki(u.meta[1][0].data)>>>0;if(c==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return _7e(a,o)}function x7e(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function rB(r){x7e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function w7e(r){return Z0.WS.indexOf(r)>-1?"sheet":r==Z0.CS?"chart":r==Z0.DS?"dialog":r==Z0.MS?"macro":r&&r.length?r:"sheet"}function b7e(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,w7e(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function S7e(r,e,t,n,i,a,s,o,l,u,c,f){try{a[n]=gx(io(r,t,!0),e);var h=ci(r,e),p;switch(o){case"sheet":p=IUe(h,e,i,l,a[n],u,c,f);break;case"chart":if(p=RUe(h,e,i,l,a[n],u,c,f),!p||!p["!drawel"])break;var v=z_(p["!drawel"].Target,e),m=DN(v),y=Dze(io(r,v,!0),gx(io(r,m,!0),v)),x=z_(y,v),w=DN(x);p=hUe(io(r,x,!0),x,l,gx(io(r,w,!0),x),u,p);break;case"macro":p=MUe(h,e,i,l,a[n],u,c,f);break;case"dialog":p=kUe(h,e,i,l,a[n],u,c,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];a&&a[n]&&tc(a[n]).forEach(function(T){var C="";if(a[n][T].Type==Z0.CMNT){C=z_(a[n][T].Target,e);var D=NUe(ci(r,C,!0),C,l);if(!D||!D.length)return;SW(p,D,!1)}a[n][T].Type==Z0.TCMNT&&(C=z_(a[n][T].Target,e),b=b.concat(Rze(ci(r,C,!0),l)))}),b&&b.length&&SW(p,b,!0,l.people||[])}catch(T){if(l.WTF)throw T}}function Lo(r){return r.charAt(0)=="/"?r.slice(1):r}function T7e(r,e){if(Nae(),e=e||{},rB(e),Go(r,"META-INF/manifest.xml")||Go(r,"objectdata.xml"))return OW(r,e);if(Go(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Ok<"u"){if(r.FileIndex)return Ok(r);var t=Er.utils.cfb_new();return Kj(r).forEach(function(W){A5e(t,W,T5e(r,W))}),Ok(t)}throw new Error("Unsupported NUMBERS file")}if(!Go(r,"[Content_Types].xml"))throw Go(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Go(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Kj(r),i=xBe(io(r,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ci(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ci(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(_x=[],i.sst)try{_x=OUe(ci(r,Lo(i.sst)),i.sst,e)}catch(W){if(e.WTF)throw W}e.cellStyles&&i.themes.length&&(l=LUe(io(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=PUe(ci(r,Lo(i.style)),i.style,l,e))}i.links.map(function(W){try{var U=gx(io(r,DN(Lo(W))),W);return BUe(ci(r,Lo(W)),U,W,e)}catch{}});var c=DUe(ci(r,Lo(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=ci(r,Lo(i.coreprops[0]),!0),h&&(f=fse(h)),i.extprops.length!==0&&(h=ci(r,Lo(i.extprops[0]),!0),h&&ABe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=io(r,Lo(i.custprops[0]),!0),h&&(p=CBe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(c.Sheets?s=c.Sheets.map(function(U){return U.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof s<"u"&&(v.SheetNames=s),e.bookSheets?v.SheetNames:e.bookProps))return v;s={};var m={};e.bookDeps&&i.calcchain&&(m=FUe(ci(r,Lo(i.calcchain)),i.calcchain));var y=0,x={},w,b;{var T=c.Sheets;f.Worksheets=T.length,f.SheetNames=[];for(var C=0;C!=T.length;++C)f.SheetNames[C]=T[C].name}var D=a?"bin":"xml",E=i.workbooks[0].lastIndexOf("/"),R=(i.workbooks[0].slice(0,E+1)+"_rels/"+i.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Go(r,R)||(R="xl/_rels/workbook."+D+".rels");var M=gx(io(r,R,!0),R.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=VUe(ci(r,Lo(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Mze(ci(r,Lo(i.people[0])),e)),M&&(M=b7e(M,c.Sheets));var k=ci(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var L="sheet";if(M&&M[y]?(w="xl/"+M[y][1].replace(/[\/]?xl\//,""),Go(r,w)||(w=M[y][1]),Go(r,w)||(w=R.replace(/_rels\/.*$/,"")+M[y][1]),L=M[y][2]):(w="xl/worksheets/sheet"+(y+1-k)+"."+D,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var O=!1,N=0;N!=e.sheets.length;++N)typeof e.sheets[N]=="number"&&e.sheets[N]==y&&(O=1),typeof e.sheets[N]=="string"&&e.sheets[N].toLowerCase()==f.SheetNames[y].toLowerCase()&&(O=1);if(!O)continue e}}S7e(r,w,b,f.SheetNames[y],y,x,s,L,e,c,l,u)}return v={Directory:i,Workbook:c,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:_x,Styles:u,Themes:l,SSF:ha(Zt)},e&&e.bookFiles&&(r.files?(v.keys=n,v.files=r.files):(v.keys=[],v.files={},r.FullPaths.forEach(function(W,U){W=W.replace(/^Root Entry[\/]/,""),v.keys.push(W),v.files[W]=r.FileIndex[U]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=ci(r,Lo(i.vba[0]),!0):i.defaults&&i.defaults.bin===Oze&&(v.vbaraw=ci(r,"xl/vbaProject.bin",!0))),v}function A7e(r,e){var t=e||{},n="Workbook",i=Er.find(r,n);try{if(n="/!DataSpaces/Version",i=Er.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(m6e(i.content),n="/!DataSpaces/DataSpaceMap",i=Er.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=_6e(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Er.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=x6e(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Er.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);b6e(i.content)}catch{}if(n="/EncryptionInfo",i=Er.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=S6e(i.content);if(n="/EncryptedPackage",i=Er.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function nB(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=go(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function E7e(r,e){return Er.find(r,"EncryptedPackage")?A7e(r,e):Xse(r,e)}function C7e(r,e){var t,n=r,i=e||{};return i.type||(i.type=yr&&Buffer.isBuffer(r)?"buffer":"base64"),t=Hae(n,i),T7e(t,i)}function Jse(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return MN(r.slice(t),e);default:break e}return uw.to_workbook(r,e)}function D7e(r,e){var t="",n=nB(r,e);switch(e.type){case"base64":t=go(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=Nv(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=cn(t)),e.type="binary",Jse(t,e)}function I7e(r,e){var t=r;return e.type=="base64"&&(t=go(t)),t=aw.utils.decode(1200,t.slice(2),"str"),e.type="binary",Jse(t,e)}function R7e(r){return r.match(/[^\x00-\x7F]/)?U_(r):r}function Nk(r,e,t,n){return n?(t.type="string",uw.to_workbook(r,t)):uw.to_workbook(e,t)}function zE(r,e){Tae();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return zE(new Uint8Array(r),(t=ha(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),mm={},t.dateNF&&(mm.dateNF=t.dateNF),t.type||(t.type=yr&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=yr?"buffer":"binary",n=m5e(r),typeof Uint8Array<"u"&&!yr&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,n=R7e(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=ha(t),t.type="array",zE(O5(n),t)}switch((i=nB(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return E7e(Er.read(n,t),t);break;case 9:if(i[1]<=8)return Xse(n,t);break;case 60:return MN(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return i6e(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return r6e.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?C7e(n,t):Nk(r,n,t,a);case 239:return i[3]===60?MN(n,t):Nk(r,n,t,a);case 255:if(i[1]===254)return I7e(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return yx.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return yx.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return bW.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return O6e.to_workbook(n,t);break;case 10:case 13:case 32:return D7e(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return e6e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?bW.to_workbook(n,t):Nk(r,n,t,a)}function M7e(r,e,t,n,i,a,s,o){var l=da(t),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!s||r[t])for(var p=e.s.c;p<=e.e.c;++p){var v=s?r[t][p]:r[n[p]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;a[p]!=null&&(h[a[p]]=u);continue}var m=v.v;switch(v.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[p]!=null){if(m==null)if(v.t=="e"&&m===null)h[a[p]]=null;else if(u!==void 0)h[a[p]]=u;else if(c&&m===null)h[a[p]]=null;else continue;else h[a[p]]=c&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?m:pf(v,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function ON(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Fn(c);break;case"number":l=Fn(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var f=da(l.s.r),h=[],p=[],v=0,m=0,y=Array.isArray(r),x=l.s.r,w=0,b={};y&&!r[x]&&(r[x]=[]);var T=u.skipHidden&&r["!cols"]||[],C=u.skipHidden&&r["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(T[w]||{}).hidden)switch(h[w]=Di(w),t=y?r[x][w]:r[h[w]+f],n){case 1:a[w]=w-l.s.c;break;case 2:a[w]=h[w];break;case 3:a[w]=u.header[w-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=pf(t,null,u),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}a[w]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(C[x]||{}).hidden){var D=M7e(r,l,x,h,n,a,y,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[v++]=D.row)}return p.length=v,p}var VW=/"/g;function k7e(r,e,t,n,i,a,s,o){for(var l=!0,u=[],c="",f=da(t),h=e.s.c;h<=e.e.c;++h)if(n[h]){var p=o.dense?(r[t]||[])[h]:r[n[h]+f];if(p==null)c="";else if(p.v!=null){l=!1,c=""+(o.rawNumbers&&p.t=="n"?p.v:pf(p,null,o));for(var v=0,m=0;v!==c.length;++v)if((m=c.charCodeAt(v))===i||m===a||m===34||o.forceQuotes){c='"'+c.replace(VW,'""')+'"';break}c=="ID"&&(c='"ID"')}else p.f!=null&&!p.F?(l=!1,c="="+p.f,c.indexOf(",")>=0&&(c='"'+c.replace(VW,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function eoe(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Fn(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",f=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],p=n.skipHidden&&r["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Di(v));for(var m=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(c=k7e(r,i,y,f,s,l,a,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&t.push((m++?o:"")+c)));return delete n.dense,t.join("")}function P7e(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=eoe(r,e);return t}function L7e(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Fn(r["!ref"]),a="",s=[],o,l=[],u=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)s[o]=Di(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=da(c),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=u?(r[c]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function toe(r,e,t){var n=t||{},i=+!n.skipHeader,a=r||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?fs(n.origin):n.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=Fn(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(s=f.e.r+1,c.e.r=s+e.length-1+i)}else s==-1&&(s=0,c.e.r=e.length-1+i);var h=n.header||[],p=0;e.forEach(function(m,y){tc(m).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var w=m[x],b="z",T="",C=Wt({c:o+p,r:s+y+i});u=dw(a,C),w&&typeof w=="object"&&!(w instanceof Date)?a[C]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=ms(w)),T=n.dateNF||Zt[14]):w===null&&n.nullError&&(b="e",w=0),u?(u.t=b,u.v=w,delete u.w,delete u.R,T&&(u.z=T)):a[C]=u={t:b,v:w},T&&(u.z=T))})}),c.e.c=Math.max(c.e.c,o+h.length-1);var v=da(s);if(i)for(p=0;p<h.length;++p)a[Di(p+o)+v]={t:"s",v:h[p]};return a["!ref"]=Cr(c),a}function O7e(r,e){return toe(null,r,e)}function dw(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=fs(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?dw(r,Wt(e)):dw(r,Wt({r:e,c:t||0}))}function N7e(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function iB(){return{SheetNames:[],Sheets:{}}}function aB(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=s+i)!=-1;++i);}if(xUe(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function F7e(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=N7e(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function B7e(r,e){return r.z=e,r}function roe(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function V7e(r,e,t){return roe(r,"#"+e,t)}function z7e(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function U7e(r,e,t,n){for(var i=typeof e!="string"?e:Fn(e),a=typeof e=="string"?e:Cr(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=dw(r,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=t,n&&(l.D=!0))}return r}var noe={encode_col:Di,encode_row:da,encode_cell:Wt,encode_range:Cr,decode_col:j5,decode_row:G5,split_cell:J5e,decode_cell:fs,decode_range:_y,format_cell:pf,sheet_add_aoa:sse,sheet_add_json:toe,sheet_add_dom:Kse,aoa_to_sheet:xy,json_to_sheet:O7e,table_to_sheet:Zse,table_to_book:i7e,sheet_to_csv:eoe,sheet_to_txt:P7e,sheet_to_json:ON,sheet_to_html:n7e,sheet_to_formulae:L7e,sheet_to_row_object_array:ON,sheet_get_cell:dw,book_new:iB,book_append_sheet:aB,book_set_sheet_visibility:F7e,cell_set_number_format:B7e,cell_set_hyperlink:roe,cell_set_internal_link:V7e,cell_add_comment:z7e,sheet_set_array_formula:U7e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function H7e(){const[r,e]=ue.useState([]),[t,n]=ue.useState(!1),i=l=>{const u=l.target.files[0];if(!u)return;const c=new FileReader;c.onload=f=>{const h=new Uint8Array(f.target.result),p=zE(h,{type:"array"}),v=p.Sheets[p.SheetNames[0]],m=noe.sheet_to_json(v);e(m)},c.readAsArrayBuffer(u)},a=async()=>{if(r.length===0)return alert("No hay datos cargados");n(!0);try{for(const l of r){const u=l.DEPARTAMENTO?.trim(),c=l.CIRCUNSPCION?.trim(),f=l.PROVINCIA?.trim(),h=l.MUNICIPIO?.trim(),p=l.RECINTO?.trim(),v=l.NumeroMesa?.toString().trim();if(!u||!c||!f||!h||!p||!v)continue;let m=await s("departamentos","nombre",u);m||(m=await o("departamentos",{nombre:u,estado:"ejemplo"}));let y=await s("circunscripciones","nombre",c,"idDepartamento",m);y||(y=await o("circunscripciones",{nombre:c,idDepartamento:m,estado:"ejemplo"}));let x=await s("provincias","nombre",f,"idCircunscripcion",y);x||(x=await o("provincias",{nombre:f,idCircunscripcion:y,estado:"ejemplo"}));let w=await s("municipios","nombre",h,"idProvincia",x);w||(w=await o("municipios",{nombre:h,idProvincia:x,estado:"ejemplo"}));let b=await s("recintos","nombre",p,"idMunicipio",w);b||(b=await o("recintos",{nombre:p,idMunicipio:w,estado:"ejemplo"})),await s("mesas","numeroMesa",v,"idRecinto",b)||await o("mesas",{numeroMesa:v,idRecinto:b,estado:"ejemplo"})}alert("Datos de ejemplo subidos correctamente"),e([])}catch(l){console.error("Error al subir los datos:",l),alert("Ocurrió un error al subir los datos")}finally{n(!1)}},s=async(l,u,c,f=null,h=null)=>{if(!c)return null;const p=f?Kn(mr(St,l),_n(u,"==",c),_n(f,"==",h)):Kn(mr(St,l),_n(u,"==",c)),v=await an(p);return v.empty?null:v.docs[0].id},o=async(l,u)=>(await cy(mr(St,l),u)).id;return G.jsxs("div",{style:{padding:"2rem"},children:[G.jsx("h2",{children:"Cargar datos jerárquicos desde Excel"}),G.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:i}),G.jsx("br",{}),G.jsx("br",{}),G.jsx("button",{onClick:a,disabled:t||r.length===0,children:"Subir a Firebase"}),t&&G.jsx(dD,{})]})}function G7e(){const[r,e]=ue.useState([]),[t,n]=ue.useState(!1),[i,a]=ue.useState({actual:0,total:0}),s={departamentos:new Map,circunscripciones:new Map,provincias:new Map,municipios:new Map,recintos:new Map,mesas:new Set},o=f=>{const h=f.target.files[0];if(!h)return;const p=new FileReader;p.onload=v=>{const m=new Uint8Array(v.target.result),y=zE(m,{type:"array"}),x=y.Sheets[y.SheetNames[0]],w=noe.sheet_to_json(x);e(w)},p.readAsArrayBuffer(h)},l=async()=>{if(r.length===0)return alert("No hay datos cargados");n(!0),a({actual:0,total:r.length});try{for(let f=0;f<r.length;f++){const h=r[f],p=h.dep?String(h.dep).trim():"",v=h.Departamento?.trim()||"",m=h.Cincun?String(h.Cincun).trim():"",y=h.prov?String(h.prov).trim():"",x=h.Provincia?.trim()||"",w=h.Municipio?.trim()||"",b=h.dist?String(h.dist).trim():"",T=h.Distrito?.trim()||"",C=h.zon?String(h.zon).trim():"",D=h.Zona?.trim()||"",E=h.reci?String(h.reci).trim():"",R=h.Recinto?.trim()||"",M=h["Numero de Mesa"]?String(h["Numero de Mesa"]).trim():"",k=h.mesa?String(h.mesa).trim():"",L=h.Habilitados||0,O=h.Inhabilitados||0;if(!p||!v||!y||!x||!w||!R||!M)continue;let N=s.departamentos.get(p);N||(N=await u("departamentos","codigo",p),N||(N=await c("departamentos",{nombre:v,codigo:p,estado:"activo"})),s.departamentos.set(p,N));let W=s.circunscripciones.get(`${m}-${N}`);!W&&m&&(W=await u("circunscripciones","nombre",m,"idDepartamento",N),W||(W=await c("circunscripciones",{nombre:m,idDepartamento:N,estado:"activo"})),s.circunscripciones.set(`${m}-${N}`,W));let U=s.provincias.get(`${y}-${W}`);U||(U=await u("provincias","codigo",y,"idCircunscripcion",W),U||(U=await c("provincias",{nombre:x,codigo:y,idCircunscripcion:W,estado:"activo"})),s.provincias.set(`${y}-${W}`,U));let z=s.municipios.get(`${w}-${U}`);z||(z=await u("municipios","nombre",w,"idProvincia",U),z||(z=await c("municipios",{nombre:w,idProvincia:U,estado:"activo"})),s.municipios.set(`${w}-${U}`,z));let Y=s.recintos.get(`${E}-${z}`);Y||(Y=await u("recintos","codigo",E,"idMunicipio",z),Y||(Y=await c("recintos",{nombre:R,codigo:E,idMunicipio:z,estado:"activo",distritoNombre:T,distritoCodigo:b,zonaNombre:D,zonaCodigo:C})),s.recintos.set(`${E}-${z}`,Y));const re=`${M}-${Y}`;s.mesas.has(re)||(await u("mesas","numeroMesa",M,"idRecinto",Y)||await c("mesas",{numeroMesa:M,codigo:k||null,habilitados:Number(L),inhabilitados:Number(O),idRecinto:Y,estado:"activo"}),s.mesas.add(re)),a({actual:f+1,total:r.length})}alert("✅ Datos cargados correctamente"),e([])}catch(f){console.error("❌ Error al subir los datos:",f),alert("Ocurrió un error al subir los datos")}finally{n(!1)}},u=async(f,h,p,v=null,m=null)=>{if(!p)return null;const y=v?Kn(mr(St,f),_n(h,"==",p),_n(v,"==",m)):Kn(mr(St,f),_n(h,"==",p)),x=await an(y);return x.empty?null:x.docs[0].id},c=async(f,h)=>(await cy(mr(St,f),h)).id;return G.jsxs("div",{style:{padding:"2rem"},children:[G.jsx("h2",{children:"Cargar datos jerárquicos desde Excel"}),G.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:o}),G.jsx("br",{}),G.jsx("br",{}),G.jsx("button",{onClick:l,disabled:t||r.length===0,children:"Subir a Firebase"}),t&&G.jsxs("div",{children:[G.jsx(dD,{}),G.jsxs("p",{style:{marginTop:"1rem"},children:["Subiendo ",i.actual," de ",i.total," registros..."," ",(i.actual/i.total*100).toFixed(1),"%"]})]})]})}const j7e="_container_mdw6a_1",W7e="_uploads_mdw6a_25",$7e="_uploadBox_mdw6a_41",q7e="_uploadTitle_mdw6a_71",Y7e="_uploadInput_mdw6a_91",X7e="_spinnerContainer_mdw6a_183",K7e="_resultados_mdw6a_191",Z7e="_buttons_mdw6a_217",Js={container:j7e,uploads:W7e,uploadBox:$7e,uploadTitle:q7e,uploadInput:Y7e,"btn-stress":"_btn-stress_mdw6a_125",spinnerContainer:X7e,resultados:K7e,buttons:Z7e};function Q7e(){const[r,e]=ue.useState([]),[t,n]=ue.useState([]),[i,a]=ue.useState(!1),[s,o]=ue.useState(null),l=p=>{const v=Array.from(p.target.files).slice(0,3);e(v)},u=p=>{const v=Array.from(p.target.files).slice(0,3);n(v)},c=(p,v)=>({nroMesa:`M-${p+1}`,nombreRepresentante:`Persona ${p+1}`,partido:`Partido ${p%10}`,estado:v}),f=async(p,v,m)=>{const y=QA(JA,`test_actas/${p.nroMesa}_${Date.now()}`);await KA(y,v);const x=await ZA(y),w=QA(JA,`test_hojas/${p.nroMesa}_${Date.now()}`);await KA(w,m);const b=await ZA(w);await cy(mr(St,"recepcion"),{...p,imagenActaUrl:x,imagenHojaTrabajoUrl:b,creadoEn:hD(),idUsuarioRecepcion:uo.currentUser?.uid??"test-bot"})},h=async p=>{if(r.length<1||t.length<1){alert("Selecciona al menos una imagen para Acta y Hoja de Trabajo.");return}a(!0);const v=1e3,m=Date.now();let y=0,x=0;for(let T=0;T<v;T++){const C=c(T,p),D=r[T%r.length],E=t[T%t.length];try{await f(C,D,E),y++}catch(R){console.error(`Error en registro ${T+1}:`,R),x++}}const b=((Date.now()-m)/1e3).toFixed(2);o({exitosos:y,fallidos:x,duracion:b,estado:p}),a(!1)};return G.jsxs("div",{className:Js.container,children:[G.jsx("h2",{children:"Prueba de Estrés: Carga Masiva"}),G.jsxs("div",{className:Js.uploads,children:[G.jsxs("div",{className:Js.uploadBox,children:[G.jsx("h4",{className:Js.uploadTitle,children:"Imágenes de Acta"}),G.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:l,className:Js.uploadInput})]}),G.jsxs("div",{className:Js.uploadBox,children:[G.jsx("h4",{className:Js.uploadTitle,children:"Imágenes de Hoja de Trabajo"}),G.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:u,className:Js.uploadInput})]})]}),G.jsx("p",{children:"Selecciona 1 a 3 imágenes para Acta y Hoja de Trabajo (se reutilizan aleatoriamente)."}),G.jsxs("div",{className:Js.buttons,children:[G.jsx("button",{className:Js["btn-stress"],onClick:()=>h("pendiente"),disabled:i,children:'Cargar 1000 con estado "pendiente"'}),G.jsx("button",{className:Js["btn-stress"],onClick:()=>h("aprobado"),disabled:i,children:'Cargar 1000 con estado "aprobado"'})]}),i&&G.jsxs("div",{className:Js.spinnerContainer,children:[G.jsx(ESe,{color:"#007bff",size:60}),G.jsx("p",{children:"Cargando registros..."})]}),s&&G.jsxs("div",{className:Js.resultados,children:[G.jsxs("h3",{children:['Resultados para estado: "',s.estado,'"']}),G.jsxs("p",{children:["✅ Éxitos: ",s.exitosos]}),G.jsxs("p",{children:["❌ Fallidos: ",s.fallidos]}),G.jsxs("p",{children:["⏱️ Tiempo total: ",s.duracion," segundos"]})]})]})}const J7e="_container_1ewoj_1",eHe="_filtros_1ewoj_33",tHe="_activeFiltro_1ewoj_75",rHe="_boletasList_1ewoj_85",nHe="_boletaCard_1ewoj_97",iHe="_imagenActa_1ewoj_121",aHe="_botones_1ewoj_147",sHe="_aprobarBtn_1ewoj_159",oHe="_rechazarBtn_1ewoj_159",lHe="_votosTable_1ewoj_227",uHe="_tituloCard_1ewoj_291",cHe="_detalle_1ewoj_321",fHe="_imagenesContainer_1ewoj_335",hHe="_imagenHoja_1ewoj_351",dHe="_zoomOverlay_1ewoj_423",pHe="_zoomImagen_1ewoj_447",vHe="_editBtn_1ewoj_461",Hi={container:J7e,filtros:eHe,activeFiltro:tHe,boletasList:rHe,boletaCard:nHe,imagenActa:iHe,botones:aHe,aprobarBtn:sHe,rechazarBtn:oHe,votosTable:lHe,tituloCard:uHe,detalle:cHe,imagenesContainer:fHe,imagenHoja:hHe,zoomOverlay:dHe,zoomImagen:pHe,editBtn:vHe};function gHe(){const r=Sf(),[e,t]=ue.useState([]),[n,i]=ue.useState(!0),[a,s]=ue.useState(null),[o,l]=ue.useState("pendiente"),[u,c]=ue.useState(null),[f,h]=ue.useState(null),[p,v]=ue.useState({}),[m,y]=ue.useState({}),[x,w]=ue.useState({}),[b,T]=ue.useState({}),[C,D]=ue.useState({}),[E,R]=ue.useState({}),[M,k]=ue.useState(null);ue.useEffect(()=>{(async()=>{const z=uo.currentUser?.uid;if(!z)return r("/");const Y=await Ps(Xn(St,"usuarios",z));if(Y.exists()){const re=Y.data();k(re),re.rol!=="administrador"&&re.rol!=="revisor"&&r("/")}else r("/")})()},[r,uo]);const L=async({boletaId:U,accion:z,campo:Y,valorAnterior:re,valorNuevo:K})=>{const q=uo.currentUser;if(q)try{await cy(mr(St,"historial"),{boletaId:U,accion:z,campo:Y,valorAnterior:re,valorNuevo:K,usuarioId:q.uid,timestamp:hD()})}catch(Q){console.error("Error al registrar historial:",Q)}};ue.useEffect(()=>{const U=async(Y,re)=>{const K={};for(const q of re){if(!q)continue;const Q=Xn(St,Y,q),j=await Ps(Q);j.exists()?K[q]=j.data().nombre||"Sin nombre":K[q]="No encontrado"}return K};(async()=>{i(!0);try{const Y=Kn(mr(St,"recepcion"),_n("estado","==",o)),K=(await an(Y)).docs.map(ee=>({id:ee.id,...ee.data()})),q=[...new Set(K.map(ee=>ee.departamento))],Q=[...new Set(K.map(ee=>ee.circunscripcion))],j=[...new Set(K.map(ee=>ee.provincia))],J=[...new Set(K.map(ee=>ee.municipio))],te=[...new Set(K.map(ee=>ee.recinto))],se=[...new Set(K.map(ee=>ee.idUsuarioRecepcion).filter(Boolean))],[de,Oe,Ae,ye,Se]=await Promise.all([U("departamentos",q),U("circunscripciones",Q),U("provincias",j),U("municipios",J),U("recintos",te)]),me={};for(const ee of se){const mt=Xn(St,"usuarios",ee),rt=await Ps(mt);if(rt.exists()){const at=rt.data();me[ee]=at.nombre||at.email||"Sin nombre"}else me[ee]="Desconocido"}console.log("🟢 Resultado final usuariosNombres:",me),v(de),y(Oe),w(Ae),T(ye),D(Se),R(me),t(K)}catch(Y){console.error("Error cargando boletas:",Y),Fr.fire("Error","No se pudieron cargar las boletas.","error")}finally{i(!1)}})()},[o]);const O=async(U,z)=>{if((await Fr.fire({title:`¿Seguro que quieres marcar como ${z}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No"})).isConfirmed)try{s(U),await nA(Xn(St,"recepcion",U),{estado:z}),await L({boletaId:U,accion:`marcar como ${z}`,campo:"estado",valorAnterior:"pendiente",valorNuevo:z}),t(re=>re.filter(K=>K.id!==U)),Fr.fire("¡Listo!",`Boleta ${z}`,"success")}catch(re){console.error("Error actualizando estado:",re),Fr.fire("Error","No se pudo actualizar la boleta.","error")}finally{s(null)}},N=async(U,z)=>{const{value:Y}=await Fr.fire({title:`Editar ${z}`,input:"number",inputValue:U[z]||0,inputAttributes:{min:0,step:1},showCancelButton:!0,confirmButtonText:"Guardar"});if(Y!==void 0)try{await nA(Xn(St,"recepcion",U.id),{[z]:parseInt(Y)}),await L({boletaId:U.id,accion:"editar campo",campo:z,valorAnterior:U[z],valorNuevo:parseInt(Y)}),t(re=>re.map(K=>K.id===U.id?{...K,[z]:parseInt(Y)}:K)),Fr.fire("Actualizado",`${z} editado`,"success")}catch{Fr.fire("Error","No se pudo editar.","error")}},W=async(U,z,Y)=>{const re=z==="presidente"?"votosPresidente":"votosDiputado",K=U[re]?.[Y]||0,{value:q}=await Fr.fire({title:`Editar votos ${z} (${Y})`,input:"number",inputValue:K,inputAttributes:{min:0},showCancelButton:!0});if(q!==void 0){const Q={...U[re]||{},[Y]:parseInt(q)};try{await nA(Xn(St,"recepcion",U.id),{[re]:Q}),await L({boletaId:U.id,accion:"editar voto",campo:`${re}.${Y}`,valorAnterior:K,valorNuevo:parseInt(q)}),t(j=>j.map(J=>J.id===U.id?{...J,[re]:Q}:J))}catch{Fr.fire("Error","No se pudo editar el voto.","error")}}};return n?G.jsx(dD,{}):G.jsxs("div",{className:Hi.container,children:[G.jsx("div",{className:"pagina-revisor",children:G.jsxs("h2",{className:Hi.titulo,children:["Revisión de Boletas ",o.charAt(0).toUpperCase()+o.slice(1)]})}),G.jsx("div",{className:Hi.filtros,children:["pendiente","aprobado","observado"].map(U=>G.jsx("button",{className:o===U?Hi.activeFiltro:"",onClick:()=>l(U),children:U.charAt(0).toUpperCase()+U.slice(1)},U))}),e.length===0?G.jsxs("p",{children:["No hay boletas ",o," para mostrar."]}):G.jsx("div",{className:Hi.boletasList,children:e.map(U=>{const z=u===U.id;return G.jsxs("div",{className:Hi.boletaCard,children:[G.jsxs("div",{className:Hi.tituloCard,onClick:()=>c(z?null:U.id),children:[G.jsxs("strong",{children:["Mesa ",U.nroMesa]})," – ",C[U.recinto]||"Recinto",G.jsx("span",{style:{float:"right"},children:z?"▲":"▼"})]}),z&&G.jsxs("div",{className:Hi.detalle,children:[G.jsxs("p",{children:[G.jsx("strong",{children:"Subido por:"})," ",E[U.idUsuarioRecepcion]||"Desconocido"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Departamento:"})," ",p[U.departamento]]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Circunscripción:"})," ",m[U.circunscripcion]]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Provincia:"})," ",x[U.provincia]]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Municipio:"})," ",b[U.municipio]]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Recinto:"})," ",C[U.recinto]]}),G.jsxs("table",{className:Hi.votosTable,children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Partido"}),G.jsx("th",{children:"Presidente"}),G.jsx("th",{children:"Diputado"})]})}),G.jsx("tbody",{children:Array.from(new Set([...Object.keys(U.votosPresidente||{}),...Object.keys(U.votosDiputado||{})])).map(Y=>G.jsxs("tr",{children:[G.jsx("td",{children:Y}),G.jsxs("td",{onClick:()=>W(U,"presidente",Y),children:[U.votosPresidente?.[Y]??"0"," ✎"]}),G.jsxs("td",{onClick:()=>W(U,"diputado",Y),children:[U.votosDiputado?.[Y]??"0"," ✎"]})]},Y))})]}),["blancosPresidente","blancosDiputado","nulosPresidente","validosPresidente","validosDiputado"].map(Y=>G.jsxs("p",{children:[G.jsxs("strong",{children:[Y,":"]})," ",U[Y],G.jsx("button",{onClick:()=>N(U,Y),className:Hi.editBtn,children:"✎"})]},Y)),G.jsxs("div",{className:Hi.imagenesContainer,children:[U.imagenActaUrl&&G.jsxs("div",{children:[G.jsx("p",{children:G.jsx("strong",{children:"Acta Electoral:"})}),G.jsx("img",{src:U.imagenActaUrl,alt:"Acta",className:Hi.imagenActa,onClick:()=>h(U.imagenActaUrl)})]}),U.imagenHojaTrabajoUrl&&G.jsxs("div",{children:[G.jsx("p",{children:G.jsx("strong",{children:"Hoja de Trabajo:"})}),G.jsx("img",{src:U.imagenHojaTrabajoUrl,alt:"Hoja de trabajo",className:Hi.imagenHoja,onClick:()=>h(U.imagenHojaTrabajoUrl)})]})]}),o==="pendiente"&&G.jsxs("div",{className:Hi.botones,children:[G.jsx("button",{onClick:()=>O(U.id,"aprobado"),disabled:a===U.id,className:Hi.aprobarBtn,children:"Aprobar"}),G.jsx("button",{onClick:()=>O(U.id,"observado"),disabled:a===U.id,className:Hi.rechazarBtn,children:"Rechazar"})]})]})]},U.id)})}),f&&G.jsx("div",{className:Hi.zoomOverlay,onClick:()=>h(null),children:G.jsx("img",{src:f,alt:"Zoom",className:Hi.zoomImagen})})]})}const mHe="_card_1xhhv_3",yHe="_button_1xhhv_41",_He="_buttonSecundario_1xhhv_75",xHe="_rolEtiqueta_1xhhv_111",wHe="_rol_administrador_1xhhv_147",bHe="_rol_jefe_recinto_1xhhv_157",SHe="_rol_revisor_1xhhv_167",THe="_rol_delegado_1xhhv_177",Q1={card:mHe,button:yHe,buttonSecundario:_He,rolEtiqueta:xHe,rol_administrador:wHe,rol_jefe_recinto:bHe,rol_revisor:SHe,rol_delegado:THe};function zW({usuario:r,onHabilitar:e,puedeHabilitar:t=!1,onCambiarRol:n=null}){const i=r.rol?Q1[`rol_${r.rol.toLowerCase()}`]:"",a=r.rol?r.rol.charAt(0).toUpperCase()+r.rol.slice(1):"No asignado";return G.jsxs("div",{className:`${Q1.card} ${i}`,children:[G.jsxs("div",{children:[G.jsx("strong",{children:r.nombre}),G.jsxs("p",{children:["Email: ",r.email]}),G.jsxs("p",{children:["Celular: ",r.celular]}),G.jsxs("p",{children:["Departamento: ",r.departamentoNombre]}),G.jsxs("p",{children:["Provincia: ",r.provinciaNombre]}),G.jsxs("p",{children:["Municipio: ",r.municipioNombre]}),G.jsxs("p",{children:["Recinto: ",r.recintoNombre]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Rol: "}),G.jsx("span",{className:`${Q1.rolEtiqueta} ${i}`,children:a})]})]}),t&&G.jsx("button",{onClick:()=>e(r),className:Q1.button,children:"Habilitar"}),n&&G.jsx("button",{onClick:()=>n(r),className:Q1.buttonSecundario,children:"Cambiar rol"})]})}const AHe="_container_mga3p_25",EHe="_filtros_mga3p_67",CHe="_mensaje_mga3p_113",DHe="_separador_mga3p_131",IHe="_listaUsuarios_mga3p_145",kc={container:AHe,filtros:EHe,mensaje:CHe,separador:DHe,listaUsuarios:IHe};function RHe(){const r=bO(),e=Sf(),[t,n]=ue.useState([]),[i,a]=ue.useState([]),[s,o]=ue.useState(!0),[l,u]=ue.useState(null),[c,f]=ue.useState(""),[h,p]=ue.useState("");ue.useEffect(()=>{(async()=>{const b=r.currentUser?.uid;if(!b)return e("/");const T=await Ps(Xn(St,"usuarios",b));if(T.exists()){const C=T.data();u(C),C.rol!=="administrador"&&C.rol!=="jefe_recinto"&&e("/")}else e("/")})()},[e,r]);const v=async()=>{if(!l)return;o(!0);const w=await an(mr(St,"solicitudes")),b=await an(mr(St,"usuarios")),T=w.docs.map(D=>({id:D.id,...D.data()})),C=b.docs.map(D=>({id:D.id,...D.data()}));if(l.rol==="administrador")n(T),a(C.filter(D=>D.habilitado));else if(l.rol==="jefe_recinto"){const D=l.recintoId;n(T.filter(E=>E.recintoId===D)),a(C.filter(E=>E.habilitado&&E.recintoId===D))}o(!1)};ue.useEffect(()=>{l&&v()},[l]);const m=async w=>{const{value:b}=await Fr.fire({title:`Cambiar rol de ${w.nombre}`,input:"select",inputOptions:{delegado:"Delegado",revisor:"Revisor",jefe_recinto:"Jefe de recinto"},inputPlaceholder:"Selecciona un nuevo rol",inputValue:w.rol,showCancelButton:!0,confirmButtonText:"Cambiar",cancelButtonText:"Cancelar"});if(!(!b||b===w.rol))try{await nA(Xn(St,"usuarios",w.id),{rol:b}),Fr.fire("Rol actualizado",`Nuevo rol: ${b}`,"success"),v()}catch(T){console.error("Error al actualizar rol:",T),Fr.fire("Error","No se pudo actualizar el rol.","error")}},y=async w=>{let b="delegado";if(l.rol==="administrador"){const{value:T}=await Fr.fire({title:`Asignar rol a ${w.nombre}`,input:"select",inputOptions:{delegado:"Delegado",revisor:"Revisor",jefe_recinto:"Jefe de recinto"},inputPlaceholder:"Selecciona un rol",showCancelButton:!0,confirmButtonText:"Habilitar",cancelButtonText:"Cancelar"});if(!T)return;b=T}else if(!(await Fr.fire({title:"¿Estás seguro?",text:`Vas a habilitar a ${w.nombre} con rol "delegado" y contraseña su número celular.`,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, habilitar",cancelButtonText:"Cancelar"})).isConfirmed)return;try{const T=P3(Zte,"Secondary"),C=bO(T),E=(await cye(C,w.email,w.celular)).user.uid,R={...w,rol:b,habilitado:!0};delete R.id,await Fwe(Xn(St,"usuarios",E),R),await Bwe(Xn(St,"solicitudes",w.id)),await C.signOut(),T.delete?.(),Fr.fire("¡Usuario habilitado!",`Se ha creado su cuenta y asignado rol "${b}".`,"success"),v()}catch(T){Fr.fire("Error",T.message,"error")}},x=w=>{const b=c.trim().toLowerCase(),T=h.trim().toLowerCase();return w.filter(C=>{const D=(C.recintoNombre||"").trim().toLowerCase(),E=(C.celular||"").trim().toLowerCase(),R=b===""||D.includes(b),M=T===""||E.includes(T);return R&&M})};return G.jsxs("div",{className:kc.container,children:[G.jsx("h2",{children:"Filtro por recinto electoral y celular"}),G.jsxs("div",{className:kc.filtros,children:[G.jsx("input",{type:"text",placeholder:"Filtrar por recinto electoral",value:c,onChange:w=>f(w.target.value)}),G.jsx("input",{type:"text",placeholder:"Filtrar por número de celular",value:h,onChange:w=>p(w.target.value)})]}),G.jsx("h2",{children:"Solicitudes Pendientes"}),s?G.jsx("p",{className:kc.mensaje,children:"Cargando..."}):x(t).length===0?G.jsx("p",{className:kc.mensaje,children:"No hay solicitudes pendientes con ese filtro"}):G.jsx("div",{className:kc.listaUsuarios,children:x(t).map(w=>G.jsx(zW,{usuario:w,puedeHabilitar:!0,onHabilitar:y},w.id))}),G.jsx("hr",{className:kc.separador}),G.jsx("h2",{children:"Usuarios Habilitados"}),s?G.jsx("p",{className:kc.mensaje,children:"Cargando..."}):x(i).length===0?G.jsx("p",{className:kc.mensaje,children:"No hay usuarios habilitados con ese filtro"}):G.jsx("div",{className:kc.listaUsuarios,children:x(i).map(w=>G.jsx(zW,{usuario:w,onCambiarRol:l.rol==="administrador"?m:null},w.id))})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NN=function(r,e){return NN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},NN(r,e)};function ge(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NN(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var MHe=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),kHe=function(){function r(){this.browser=new MHe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),Ut=new kHe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ut.wxa=!0,Ut.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ut.worker=!0:!Ut.hasGlobalWindow||"Deno"in window?(Ut.node=!0,Ut.svgSupported=!0):PHe(navigator.userAgent,Ut);function PHe(r,e){var t=e.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in o||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}var sB=12,ioe="sans-serif",ld=sB+"px "+ioe,LHe=20,OHe=100,NHe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function FHe(r){var e={};if(typeof JSON>"u")return e;for(var t=0;t<r.length;t++){var n=String.fromCharCode(t+32),i=(r.charCodeAt(t)-LHe)/OHe;e[n]=i}return e}var BHe=FHe(NHe),$l={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,e;return function(t,n){if(!r){var i=$l.createCanvas();r=i&&i.getContext("2d")}if(r)return e!==n&&(e=r.font=n||ld),r.measureText(t);t=t||"",n=n||ld;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||sB,o=0;if(n.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var u=BHe[t[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(r,e,t){var n=new Image;return n.onload=e,n.onerror=t,n.src=r,n}};function aoe(r){for(var e in $l)r[e]&&($l[e]=r[e])}var soe=ol(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,e){return r["[object "+e+"]"]=!0,r},{}),ooe=ol(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,e){return r["[object "+e+"Array]"]=!0,r},{}),wy=Object.prototype.toString,kD=Array.prototype,VHe=kD.forEach,zHe=kD.filter,oB=kD.slice,UHe=kD.map,UW=(function(){}).constructor,jT=UW?UW.prototype:null,lB="__proto__",HHe=2311;function uB(){return HHe++}function PD(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];typeof console<"u"&&console.error.apply(console,r)}function ht(r){if(r==null||typeof r!="object")return r;var e=r,t=wy.call(r);if(t==="[object Array]"){if(!ym(r)){e=[];for(var n=0,i=r.length;n<i;n++)e[n]=ht(r[n])}}else if(ooe[t]){if(!ym(r)){var a=r.constructor;if(a.from)e=a.from(r);else{e=new a(r.length);for(var n=0,i=r.length;n<i;n++)e[n]=r[n]}}}else if(!soe[t]&&!ym(r)&&!Bv(r)){e={};for(var s in r)r.hasOwnProperty(s)&&s!==lB&&(e[s]=ht(r[s]))}return e}function bt(r,e,t){if(!ct(e)||!ct(r))return t?ht(e):r;for(var n in e)if(e.hasOwnProperty(n)&&n!==lB){var i=r[n],a=e[n];ct(a)&&ct(i)&&!ke(a)&&!ke(i)&&!Bv(a)&&!Bv(i)&&!FN(a)&&!FN(i)&&!ym(a)&&!ym(i)?bt(i,a,t):(t||!(n in r))&&(r[n]=ht(e[n]))}return r}function LD(r,e){for(var t=r[0],n=1,i=r.length;n<i;n++)t=bt(t,r[n],e);return t}function De(r,e){if(Object.assign)Object.assign(r,e);else for(var t in e)e.hasOwnProperty(t)&&t!==lB&&(r[t]=e[t]);return r}function ut(r,e,t){for(var n=Gt(e),i=0,a=n.length;i<a;i++){var s=n[i];(t?e[s]!=null:r[s]==null)&&(r[s]=e[s])}return r}var GHe=$l.createCanvas;function Dt(r,e){if(r){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t}return-1}function cB(r,e){var t=r.prototype;function n(){}n.prototype=e.prototype,r.prototype=new n;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);r.prototype.constructor=r,r.superClass=e}function Cn(r,e,t){if(r="prototype"in r?r.prototype:r,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(t?e[a]!=null:r[a]==null)&&(r[a]=e[a])}else ut(r,e,t)}function va(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function B(r,e,t){if(r&&e)if(r.forEach&&r.forEach===VHe)r.forEach(e,t);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)e.call(t,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&e.call(t,r[a],a,r)}function Pe(r,e,t){if(!r)return[];if(!e)return OD(r);if(r.map&&r.map===UHe)return r.map(e,t);for(var n=[],i=0,a=r.length;i<a;i++)n.push(e.call(t,r[i],i,r));return n}function ol(r,e,t,n){if(r&&e){for(var i=0,a=r.length;i<a;i++)t=e.call(n,t,r[i],i,r);return t}}function ar(r,e,t){if(!r)return[];if(!e)return OD(r);if(r.filter&&r.filter===zHe)return r.filter(e,t);for(var n=[],i=0,a=r.length;i<a;i++)e.call(t,r[i],i,r)&&n.push(r[i]);return n}function loe(r,e,t){if(r&&e){for(var n=0,i=r.length;n<i;n++)if(e.call(t,r[n],n,r))return r[n]}}function Gt(r){if(!r)return[];if(Object.keys)return Object.keys(r);var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}function jHe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return r.apply(e,t.concat(oB.call(arguments)))}}var Xe=jT&&it(jT.bind)?jT.call.bind(jT.bind):jHe;function xt(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return r.apply(this,e.concat(oB.call(arguments)))}}function ke(r){return Array.isArray?Array.isArray(r):wy.call(r)==="[object Array]"}function it(r){return typeof r=="function"}function $e(r){return typeof r=="string"}function UE(r){return wy.call(r)==="[object String]"}function tr(r){return typeof r=="number"}function ct(r){var e=typeof r;return e==="function"||!!r&&e==="object"}function FN(r){return!!soe[wy.call(r)]}function ys(r){return!!ooe[wy.call(r)]}function Bv(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function Tb(r){return r.colorStops!=null}function uoe(r){return r.image!=null}function coe(r){return wy.call(r)==="[object RegExp]"}function Wm(r){return r!==r}function Ii(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0,n=r.length;t<n;t++)if(r[t]!=null)return r[t]}function _t(r,e){return r??e}function Bl(r,e,t){return r??e??t}function OD(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return oB.apply(r,e)}function ND(r){if(typeof r=="number")return[r,r,r,r];var e=r.length;return e===2?[r[0],r[1],r[0],r[1]]:e===3?[r[0],r[1],r[2],r[1]]:r}function Ga(r,e){if(!r)throw new Error(e)}function Qo(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var foe="__ec_primitive__";function pw(r){r[foe]=!0}function ym(r){return r[foe]}var WHe=function(){function r(){this.data={}}return r.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},r.prototype.has=function(e){return this.data.hasOwnProperty(e)},r.prototype.get=function(e){return this.data[e]},r.prototype.set=function(e,t){return this.data[e]=t,this},r.prototype.keys=function(){return Gt(this.data)},r.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},r}(),hoe=typeof Map=="function";function $He(){return hoe?new Map:new WHe}var doe=function(){function r(e){var t=ke(e);this.data=$He();var n=this;e instanceof r?e.each(i):e&&B(e,i);function i(a,s){t?n.set(a,s):n.set(s,a)}}return r.prototype.hasKey=function(e){return this.data.has(e)},r.prototype.get=function(e){return this.data.get(e)},r.prototype.set=function(e,t){return this.data.set(e,t),t},r.prototype.each=function(e,t){this.data.forEach(function(n,i){e.call(t,n,i)})},r.prototype.keys=function(){var e=this.data.keys();return hoe?Array.from(e):e},r.prototype.removeKey=function(e){this.data.delete(e)},r}();function tt(r){return new doe(r)}function $m(r,e){for(var t=new r.constructor(r.length+e.length),n=0;n<r.length;n++)t[n]=r[n];for(var i=r.length,n=0;n<e.length;n++)t[n+i]=e[n];return t}function Ab(r,e){var t;if(Object.create)t=Object.create(r);else{var n=function(){};n.prototype=r,t=new n}return e&&De(t,e),t}function fB(r){var e=r.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Qe(r,e){return r.hasOwnProperty(e)}function An(){}var Sx=180/Math.PI;const qHe=Object.freeze(Object.defineProperty({__proto__:null,HashMap:doe,RADIAN_TO_DEGREE:Sx,assert:Ga,bind:Xe,clone:ht,concatArray:$m,createCanvas:GHe,createHashMap:tt,createObject:Ab,curry:xt,defaults:ut,disableUserSelect:fB,each:B,eqNaN:Wm,extend:De,filter:ar,find:loe,guid:uB,hasOwn:Qe,indexOf:Dt,inherits:cB,isArray:ke,isArrayLike:va,isBuiltInObject:FN,isDom:Bv,isFunction:it,isGradientObject:Tb,isImagePatternObject:uoe,isNumber:tr,isObject:ct,isPrimitive:ym,isRegExp:coe,isString:$e,isStringSafe:UE,isTypedArray:ys,keys:Gt,logError:PD,map:Pe,merge:bt,mergeAll:LD,mixin:Cn,noop:An,normalizeCssArray:ND,reduce:ol,retrieve:Ii,retrieve2:_t,retrieve3:Bl,setAsPrimitive:pw,slice:OD,trim:Qo},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BN=function(r,e){return BN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},BN(r,e)};function Jr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BN(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function wd(r,e){return r==null&&(r=0),e==null&&(e=0),[r,e]}function Ca(r,e){return r[0]=e[0],r[1]=e[1],r}function Xu(r){return[r[0],r[1]]}function poe(r,e,t){return r[0]=e,r[1]=t,r}function VN(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function HE(r,e,t,n){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function Dh(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function vw(r){return Math.sqrt(hB(r))}var YHe=vw;function hB(r){return r[0]*r[0]+r[1]*r[1]}var XHe=hB;function KHe(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r}function ZHe(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r}function QHe(r,e){return r[0]*e[0]+r[1]*e[1]}function Tx(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function lg(r,e){var t=vw(e);return t===0?(r[0]=0,r[1]=0):(r[0]=e[0]/t,r[1]=e[1]/t),r}function GE(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}var qc=GE;function voe(r,e){return(r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])}var Uh=voe;function JHe(r,e){return r[0]=-e[0],r[1]=-e[1],r}function Ax(r,e,t,n){return r[0]=e[0]+n*(t[0]-e[0]),r[1]=e[1]+n*(t[1]-e[1]),r}function Yi(r,e,t){var n=e[0],i=e[1];return r[0]=t[0]*n+t[2]*i+t[4],r[1]=t[1]*n+t[3]*i+t[5],r}function Yc(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Xc(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}const eGe=Object.freeze(Object.defineProperty({__proto__:null,add:VN,applyTransform:Yi,clone:Xu,copy:Ca,create:wd,dist:qc,distSquare:Uh,distance:GE,distanceSquare:voe,div:ZHe,dot:QHe,len:vw,lenSquare:hB,length:YHe,lengthSquare:XHe,lerp:Ax,max:Xc,min:Yc,mul:KHe,negate:JHe,normalize:lg,scale:Tx,scaleAndAdd:HE,set:poe,sub:Dh},Symbol.toStringTag,{value:"Module"}));var o0=function(){function r(e,t){this.target=e,this.topTarget=t&&t.topTarget}return r}(),tGe=function(){function r(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new o0(t,e),"dragstart",e.event))},r.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new o0(t,e),"drag",e.event);var o=this.handler.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new o0(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new o0(o,e),"dragenter",e.event))}},r.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new o0(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new o0(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},r}(),cl=function(){function r(e){e&&(this._$eventProcessor=e)}return r.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=n,n=t,t=null),!n||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===n)return this;var l={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},r.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},r.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],a=0,s=n[e].length;a<s;a++)n[e][a].h!==t&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,t[0]);break;case 2:c.h.call(o,t[0],t[1]);break;default:c.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r}(),rGe=Math.log(2);function zN(r,e,t,n,i,a){var s=n+"-"+i,o=r.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/rGe);return r[t][l]}for(var u=n|1<<t,c=t+1;n&1<<c;)c++;for(var f=0,h=0,p=0;h<o;h++){var v=1<<h;v&i||(f+=(p%2?-1:1)*r[t][h]*zN(r,e-1,c,u,i|v,a),p++)}return a[s]=f,f}function HW(r,e){var t=[[r[0],r[1],1,0,0,0,-e[0]*r[0],-e[0]*r[1]],[0,0,0,r[0],r[1],1,-e[1]*r[0],-e[1]*r[1]],[r[2],r[3],1,0,0,0,-e[2]*r[2],-e[2]*r[3]],[0,0,0,r[2],r[3],1,-e[3]*r[2],-e[3]*r[3]],[r[4],r[5],1,0,0,0,-e[4]*r[4],-e[4]*r[5]],[0,0,0,r[4],r[5],1,-e[5]*r[4],-e[5]*r[5]],[r[6],r[7],1,0,0,0,-e[6]*r[6],-e[6]*r[7]],[0,0,0,r[6],r[7],1,-e[7]*r[6],-e[7]*r[7]]],n={},i=zN(t,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*zN(t,7,s===0?1:0,1<<s,1<<o,n)/i*e[s];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var GW="___zrEVENTSAVED",Fk=[];function nGe(r,e,t,n,i){return UN(Fk,e,n,i,!0)&&UN(r,t,Fk[0],Fk[1])}function UN(r,e,t,n,i){if(e.getBoundingClientRect&&Ut.domSupported&&!goe(e)){var a=e[GW]||(e[GW]={}),s=iGe(e,a),o=aGe(s,a,i);if(o)return o(r,t,n),!0}return!1}function iGe(r,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),r.appendChild(s),t.push(s)}return t}function aGe(r,e,t){for(var n=t?"invTrans":"trans",i=e[n],a=e.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=r[u].getBoundingClientRect(),f=2*u,h=c.left,p=c.top;s.push(h,p),l=l&&a&&h===a[f]&&p===a[f+1],o.push(r[u].offsetLeft,r[u].offsetTop)}return l&&i?i:(e.srcCoords=s,e[n]=t?HW(o,s):HW(s,o))}function goe(r){return r.nodeName.toUpperCase()==="CANVAS"}var sGe=/([&<>"'])/g,oGe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ka(r){return r==null?"":(r+"").replace(sGe,function(e,t){return oGe[t]})}var lGe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Bk=[],uGe=Ut.browser.firefox&&+Ut.browser.version.split(".")[0]<39;function HN(r,e,t,n){return t=t||{},n?jW(r,e,t):uGe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):jW(r,e,t),t}function jW(r,e,t){if(Ut.domSupported&&r.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(goe(r)){var a=r.getBoundingClientRect();t.zrX=n-a.left,t.zrY=i-a.top;return}else if(UN(Bk,r,n,i)){t.zrX=Bk[0],t.zrY=Bk[1];return}}t.zrX=t.zrY=0}function dB(r){return r||window.event}function jo(r,e,t){if(e=dB(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&HN(r,s,e,t)}else{HN(r,e,e,t);var a=cGe(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&lGe.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function cGe(r){var e=r.wheelDelta;if(e)return e;var t=r.deltaX,n=r.deltaY;if(t==null||n==null)return e;var i=Math.abs(n!==0?n:t),a=n>0?-1:n<0?1:t>0?-1:1;return 3*i*a}function GN(r,e,t,n){r.addEventListener(e,t,n)}function fGe(r,e,t,n){r.removeEventListener(e,t,n)}var vf=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function WW(r){return r.which===2||r.which===3}var hGe=function(){function r(){this._track=[]}return r.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],u=HN(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},r.prototype._recognize=function(e){for(var t in Vk)if(Vk.hasOwnProperty(t)){var n=Vk[t](this._track,e);if(n)return n}},r}();function $W(r){var e=r[1][0]-r[0][0],t=r[1][1]-r[0][1];return Math.sqrt(e*e+t*t)}function dGe(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var Vk={pinch:function(r,e){var t=r.length;if(t){var n=(r[t-1]||{}).points,i=(r[t-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=$W(n)/$W(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=dGe(n);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:r[0].target,event:e}}}}};function Us(){return[1,0,0,1,0,0]}function Eb(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function FD(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Ku(r,e,t){var n=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=s,r[4]=o,r[5]=l,r}function ql(r,e,t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+t[0],r[5]=e[5]+t[1],r}function bd(r,e,t,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],s=e[4],o=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return r[0]=i*f+o*c,r[1]=-i*c+o*f,r[2]=a*f+l*c,r[3]=-a*c+f*l,r[4]=f*(s-n[0])+c*(u-n[1])+n[0],r[5]=f*(u-n[1])-c*(s-n[0])+n[1],r}function BD(r,e,t){var n=t[0],i=t[1];return r[0]=e[0]*n,r[1]=e[1]*i,r[2]=e[2]*n,r[3]=e[3]*i,r[4]=e[4]*n,r[5]=e[5]*i,r}function ug(r,e){var t=e[0],n=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*n;return l?(l=1/l,r[0]=s*l,r[1]=-a*l,r[2]=-n*l,r[3]=t*l,r[4]=(n*o-s*i)*l,r[5]=(a*i-t*o)*l,r):null}function moe(r){var e=Us();return FD(e,r),e}const pGe=Object.freeze(Object.defineProperty({__proto__:null,clone:moe,copy:FD,create:Us,identity:Eb,invert:ug,mul:Ku,rotate:bd,scale:BD,translate:ql},Symbol.toStringTag,{value:"Module"}));var At=function(){function r(e,t){this.x=e||0,this.y=t||0}return r.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(e,t){return this.x=e,this.y=t,this},r.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},r.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},r.prototype.scale=function(e){this.x*=e,this.y*=e},r.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},r.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},r.prototype.dot=function(e){return this.x*e.x+this.y*e.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},r.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},r.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},r.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},r.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},r.set=function(e,t,n){e.x=t,e.y=n},r.copy=function(e,t){e.x=t.x,e.y=t.y},r.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.lenSquare=function(e){return e.x*e.x+e.y*e.y},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},r.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},r.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},r.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},r.lerp=function(e,t,n,i){var a=1-i;e.x=a*t.x+i*n.x,e.y=a*t.y+i*n.y},r}(),WT=Math.min,$T=Math.max,op=new At,lp=new At,up=new At,cp=new At,J1=new At,e_=new At,Ct=function(){function r(e,t,n,i){n<0&&(e=e+n,n=-n),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}return r.prototype.union=function(e){var t=WT(e.x,this.x),n=WT(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=$T(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=$T(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},r.prototype.applyTransform=function(e){r.applyTransform(this,this,e)},r.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,a=Us();return ql(a,a,[-t.x,-t.y]),BD(a,a,[n,i]),ql(a,a,[e.x,e.y]),a},r.prototype.intersect=function(e,t){if(!e)return!1;e instanceof r||(e=r.create(e));var n=this,i=n.x,a=n.x+n.width,s=n.y,o=n.y+n.height,l=e.x,u=e.x+e.width,c=e.y,f=e.y+e.height,h=!(a<l||u<i||o<c||f<s);if(t){var p=1/0,v=0,m=Math.abs(a-l),y=Math.abs(u-i),x=Math.abs(o-c),w=Math.abs(f-s),b=Math.min(m,y),T=Math.min(x,w);a<l||u<i?b>v&&(v=b,m<y?At.set(e_,-m,0):At.set(e_,y,0)):b<p&&(p=b,m<y?At.set(J1,m,0):At.set(J1,-y,0)),o<c||f<s?T>v&&(v=T,x<w?At.set(e_,0,-x):At.set(e_,0,w)):b<p&&(p=b,x<w?At.set(J1,0,x):At.set(J1,0,-w))}return t&&At.copy(t,h?J1:e_),h},r.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(e){r.copy(this,e)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},r.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},r.applyTransform=function(e,t,n){if(!n){e!==t&&r.copy(e,t);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}op.x=up.x=t.x,op.y=cp.y=t.y,lp.x=cp.x=t.x+t.width,lp.y=up.y=t.y+t.height,op.transform(n),cp.transform(n),lp.transform(n),up.transform(n),e.x=WT(op.x,lp.x,up.x,cp.x),e.y=WT(op.y,lp.y,up.y,cp.y);var l=$T(op.x,lp.x,up.x,cp.x),u=$T(op.y,lp.y,up.y,cp.y);e.width=l-e.x,e.height=u-e.y},r}(),yoe="silent";function vGe(r,e,t){return{type:r,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:gGe}}function gGe(){vf(this.event)}var mGe=function(r){Jr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(cl),t_=function(){function r(e,t){this.x=e,this.y=t}return r}(),yGe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],zk=new Ct(0,0,0,0),_oe=function(r){Jr(e,r);function e(t,n,i,a,s){var o=r.call(this)||this;return o._hovered=new t_(0,0),o.storage=t,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new mGe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new tGe(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(B(yGe,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var n=t.zrX,i=t.zrY,a=xoe(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new t_(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var n=t.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new t_(0,0)},e.prototype.dispatch=function(t,n){var i=this[t];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},e.prototype.dispatchToElement=function(t,n,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+n,o=vGe(n,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},e.prototype.findHover=function(t,n,i){var a=this.storage.getDisplayList(),s=new t_(t,n);if(qW(a,s,t,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new Ct(t-u,n-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(zk.copy(h.getBoundingRect()),h.transform&&zk.applyTransform(h.transform),zk.intersect(c)&&o.push(h))}if(o.length)for(var p=4,v=Math.PI/12,m=Math.PI*2,y=0;y<u;y+=p)for(var x=0;x<m;x+=v){var w=t+y*Math.cos(x),b=n+y*Math.sin(x);if(qW(o,s,w,b,i),s.target)return s}}return s},e.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new hGe);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new t_;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(cl);B(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){_oe.prototype[r]=function(e){var t=e.zrX,n=e.zrY,i=xoe(this,t,n),a,s;if((r!=="mouseup"||!i)&&(a=this.findHover(t,n),s=a.target),r==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||qc(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,e)}});function _Ge(r,e,t){if(r[r.rectHover?"rectContain":"contain"](e,t)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(e,t))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?yoe:!0}return!1}function qW(r,e,t,n,i){for(var a=r.length-1;a>=0;a--){var s=r[a],o=void 0;if(s!==i&&!s.ignore&&(o=_Ge(s,t,n))&&(!e.topTarget&&(e.topTarget=s),o!==yoe)){e.target=s;break}}}function xoe(r,e,t){var n=r.painter;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var woe=32,r_=7;function xGe(r){for(var e=0;r>=woe;)e|=r&1,r>>=1;return r+e}function YW(r,e,t,n){var i=e+1;if(i===t)return 1;if(n(r[i++],r[e])<0){for(;i<t&&n(r[i],r[i-1])<0;)i++;wGe(r,e,i)}else for(;i<t&&n(r[i],r[i-1])>=0;)i++;return i-e}function wGe(r,e,t){for(t--;e<t;){var n=r[e];r[e++]=r[t],r[t--]=n}}function XW(r,e,t,n,i){for(n===e&&n++;n<t;n++){for(var a=r[n],s=e,o=n,l;s<o;)l=s+o>>>1,i(a,r[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;u>0;)r[s+u]=r[s+u-1],u--}r[s]=a}}function Uk(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])>0){for(o=n-i;l<o&&a(r,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(r,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var c=s+(l-s>>>1);a(r,e[t+c])>0?s=c+1:l=c}return l}function Hk(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])<0){for(o=i+1;l<o&&a(r,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=n-i;l<o&&a(r,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var c=s+(l-s>>>1);a(r,e[t+c])<0?l=c:s=c+1}return l}function bGe(r,e){var t=r_,n,i,a=0,s=[];n=[],i=[];function o(p,v){n[a]=p,i[a]=v,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;c(p)}}function u(){for(;a>1;){var p=a-2;p>0&&i[p-1]<i[p+1]&&p--,c(p)}}function c(p){var v=n[p],m=i[p],y=n[p+1],x=i[p+1];i[p]=m+x,p===a-3&&(n[p+1]=n[p+2],i[p+1]=i[p+2]),a--;var w=Hk(r[y],r,v,m,0,e);v+=w,m-=w,m!==0&&(x=Uk(r[v+m-1],r,y,x,x-1,e),x!==0&&(m<=x?f(v,m,y,x):h(v,m,y,x)))}function f(p,v,m,y){var x=0;for(x=0;x<v;x++)s[x]=r[p+x];var w=0,b=m,T=p;if(r[T++]=r[b++],--y===0){for(x=0;x<v;x++)r[T+x]=s[w+x];return}if(v===1){for(x=0;x<y;x++)r[T+x]=r[b+x];r[T+y]=s[w];return}for(var C=t,D,E,R;;){D=0,E=0,R=!1;do if(e(r[b],s[w])<0){if(r[T++]=r[b++],E++,D=0,--y===0){R=!0;break}}else if(r[T++]=s[w++],D++,E=0,--v===1){R=!0;break}while((D|E)<C);if(R)break;do{if(D=Hk(r[b],s,w,v,0,e),D!==0){for(x=0;x<D;x++)r[T+x]=s[w+x];if(T+=D,w+=D,v-=D,v<=1){R=!0;break}}if(r[T++]=r[b++],--y===0){R=!0;break}if(E=Uk(s[w],r,b,y,0,e),E!==0){for(x=0;x<E;x++)r[T+x]=r[b+x];if(T+=E,b+=E,y-=E,y===0){R=!0;break}}if(r[T++]=s[w++],--v===1){R=!0;break}C--}while(D>=r_||E>=r_);if(R)break;C<0&&(C=0),C+=2}if(t=C,t<1&&(t=1),v===1){for(x=0;x<y;x++)r[T+x]=r[b+x];r[T+y]=s[w]}else{if(v===0)throw new Error;for(x=0;x<v;x++)r[T+x]=s[w+x]}}function h(p,v,m,y){var x=0;for(x=0;x<y;x++)s[x]=r[m+x];var w=p+v-1,b=y-1,T=m+y-1,C=0,D=0;if(r[T--]=r[w--],--v===0){for(C=T-(y-1),x=0;x<y;x++)r[C+x]=s[x];return}if(y===1){for(T-=v,w-=v,D=T+1,C=w+1,x=v-1;x>=0;x--)r[D+x]=r[C+x];r[T]=s[b];return}for(var E=t;;){var R=0,M=0,k=!1;do if(e(s[b],r[w])<0){if(r[T--]=r[w--],R++,M=0,--v===0){k=!0;break}}else if(r[T--]=s[b--],M++,R=0,--y===1){k=!0;break}while((R|M)<E);if(k)break;do{if(R=v-Hk(s[b],r,p,v,v-1,e),R!==0){for(T-=R,w-=R,v-=R,D=T+1,C=w+1,x=R-1;x>=0;x--)r[D+x]=r[C+x];if(v===0){k=!0;break}}if(r[T--]=s[b--],--y===1){k=!0;break}if(M=y-Uk(r[w],s,0,y,y-1,e),M!==0){for(T-=M,b-=M,y-=M,D=T+1,C=b+1,x=0;x<M;x++)r[D+x]=s[C+x];if(y<=1){k=!0;break}}if(r[T--]=r[w--],--v===0){k=!0;break}E--}while(R>=r_||M>=r_);if(k)break;E<0&&(E=0),E+=2}if(t=E,t<1&&(t=1),y===1){for(T-=v,w-=v,D=T+1,C=w+1,x=v-1;x>=0;x--)r[D+x]=r[C+x];r[T]=s[b]}else{if(y===0)throw new Error;for(C=T-(y-1),x=0;x<y;x++)r[C+x]=s[x]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function fA(r,e,t,n){t||(t=0),n||(n=r.length);var i=n-t;if(!(i<2)){var a=0;if(i<woe){a=YW(r,t,n,e),XW(r,t,n,t+a,e);return}var s=bGe(r,e),o=xGe(i);do{if(a=YW(r,t,n,e),a<o){var l=i;l>o&&(l=o),XW(r,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var ao=1,H_=2,O0=4,KW=!1;function Gk(){KW||(KW=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function ZW(r,e){return r.zlevel===e.zlevel?r.z===e.z?r.z2-e.z2:r.z-e.z:r.zlevel-e.zlevel}var SGe=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ZW}return r.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},r.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},r.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,fA(n,ZW)},r.prototype._updateAndAddDisplayable=function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),t.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var u=o[l];e.__dirty&&(u.__dirty|=ao),this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var c=e;t&&t.length?c.__clipPaths=t:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Gk(),c.z=0),isNaN(c.z2)&&(Gk(),c.z2=0),isNaN(c.zlevel)&&(Gk(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,t,n);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,t,n)}},r.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},r.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var i=Dt(this._roots,e);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),jE;jE=Ut.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var Ex={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)))},elasticOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*r)*Math.sin((r-e)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var e=1.70158;return r*r*((e+1)*r-e)},backOut:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},backInOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)},bounceIn:function(r){return 1-Ex.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?Ex.bounceIn(r*2)*.5:Ex.bounceOut(r*2-1)*.5+.5}},qT=Math.pow,Hh=Math.sqrt,WE=1e-8,boe=1e-4,QW=Hh(3),YT=1/3,Mu=wd(),Yo=wd(),_m=wd();function Ih(r){return r>-WE&&r<WE}function Soe(r){return r>WE||r<-WE}function Ci(r,e,t,n,i){var a=1-i;return a*a*(a*r+3*i*e)+i*i*(i*n+3*a*t)}function JW(r,e,t,n,i){var a=1-i;return 3*(((e-r)*a+2*(t-e)*i)*a+(n-t)*i*i)}function $E(r,e,t,n,i,a){var s=n+3*(e-t)-r,o=3*(t-e*2+r),l=3*(e-r),u=r-i,c=o*o-3*s*l,f=o*l-9*s*u,h=l*l-3*o*u,p=0;if(Ih(c)&&Ih(f))if(Ih(o))a[0]=0;else{var v=-l/o;v>=0&&v<=1&&(a[p++]=v)}else{var m=f*f-4*c*h;if(Ih(m)){var y=f/c,v=-o/s+y,x=-y/2;v>=0&&v<=1&&(a[p++]=v),x>=0&&x<=1&&(a[p++]=x)}else if(m>0){var w=Hh(m),b=c*o+1.5*s*(-f+w),T=c*o+1.5*s*(-f-w);b<0?b=-qT(-b,YT):b=qT(b,YT),T<0?T=-qT(-T,YT):T=qT(T,YT);var v=(-o-(b+T))/(3*s);v>=0&&v<=1&&(a[p++]=v)}else{var C=(2*c*o-3*s*f)/(2*Hh(c*c*c)),D=Math.acos(C)/3,E=Hh(c),R=Math.cos(D),v=(-o-2*E*R)/(3*s),x=(-o+E*(R+QW*Math.sin(D)))/(3*s),M=(-o+E*(R-QW*Math.sin(D)))/(3*s);v>=0&&v<=1&&(a[p++]=v),x>=0&&x<=1&&(a[p++]=x),M>=0&&M<=1&&(a[p++]=M)}}return p}function Toe(r,e,t,n,i){var a=6*t-12*e+6*r,s=9*e+3*n-3*r-9*t,o=3*e-3*r,l=0;if(Ih(s)){if(Soe(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*s*o;if(Ih(c))i[0]=-a/(2*s);else if(c>0){var f=Hh(c),u=(-a+f)/(2*s),h=(-a-f)/(2*s);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function ud(r,e,t,n,i,a){var s=(e-r)*i+r,o=(t-e)*i+e,l=(n-t)*i+t,u=(o-s)*i+s,c=(l-o)*i+o,f=(c-u)*i+u;a[0]=r,a[1]=s,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function Aoe(r,e,t,n,i,a,s,o,l,u,c){var f,h=.005,p=1/0,v,m,y,x;Mu[0]=l,Mu[1]=u;for(var w=0;w<1;w+=.05)Yo[0]=Ci(r,t,i,s,w),Yo[1]=Ci(e,n,a,o,w),y=Uh(Mu,Yo),y<p&&(f=w,p=y);p=1/0;for(var b=0;b<32&&!(h<boe);b++)v=f-h,m=f+h,Yo[0]=Ci(r,t,i,s,v),Yo[1]=Ci(e,n,a,o,v),y=Uh(Yo,Mu),v>=0&&y<p?(f=v,p=y):(_m[0]=Ci(r,t,i,s,m),_m[1]=Ci(e,n,a,o,m),x=Uh(_m,Mu),m<=1&&x<p?(f=m,p=x):h*=.5);return c&&(c[0]=Ci(r,t,i,s,f),c[1]=Ci(e,n,a,o,f)),Hh(p)}function TGe(r,e,t,n,i,a,s,o,l){for(var u=r,c=e,f=0,h=1/l,p=1;p<=l;p++){var v=p*h,m=Ci(r,t,i,s,v),y=Ci(e,n,a,o,v),x=m-u,w=y-c;f+=Math.sqrt(x*x+w*w),u=m,c=y}return f}function Wi(r,e,t,n){var i=1-n;return i*(i*r+2*n*e)+n*n*t}function jN(r,e,t,n){return 2*((1-n)*(e-r)+n*(t-e))}function AGe(r,e,t,n,i){var a=r-2*e+t,s=2*(e-r),o=r-n,l=0;if(Ih(a)){if(Soe(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var c=s*s-4*a*o;if(Ih(c)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=Hh(c),u=(-s+f)/(2*a),h=(-s-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function Eoe(r,e,t){var n=r+t-2*e;return n===0?.5:(r-e)/n}function gw(r,e,t,n,i){var a=(e-r)*n+r,s=(t-e)*n+e,o=(s-a)*n+a;i[0]=r,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function Coe(r,e,t,n,i,a,s,o,l){var u,c=.005,f=1/0;Mu[0]=s,Mu[1]=o;for(var h=0;h<1;h+=.05){Yo[0]=Wi(r,t,i,h),Yo[1]=Wi(e,n,a,h);var p=Uh(Mu,Yo);p<f&&(u=h,f=p)}f=1/0;for(var v=0;v<32&&!(c<boe);v++){var m=u-c,y=u+c;Yo[0]=Wi(r,t,i,m),Yo[1]=Wi(e,n,a,m);var p=Uh(Yo,Mu);if(m>=0&&p<f)u=m,f=p;else{_m[0]=Wi(r,t,i,y),_m[1]=Wi(e,n,a,y);var x=Uh(_m,Mu);y<=1&&x<f?(u=y,f=x):c*=.5}}return l&&(l[0]=Wi(r,t,i,u),l[1]=Wi(e,n,a,u)),Hh(f)}function EGe(r,e,t,n,i,a,s){for(var o=r,l=e,u=0,c=1/s,f=1;f<=s;f++){var h=f*c,p=Wi(r,t,i,h),v=Wi(e,n,a,h),m=p-o,y=v-l;u+=Math.sqrt(m*m+y*y),o=p,l=v}return u}var CGe=/cubic-bezier\(([0-9,\.e ]+)\)/;function pB(r){var e=r&&CGe.exec(r);if(e){var t=e[1].split(","),n=+Qo(t[0]),i=+Qo(t[1]),a=+Qo(t[2]),s=+Qo(t[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:$E(0,n,a,1,l,o)&&Ci(0,i,s,1,o[0])}}}var DGe=function(){function r(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||An,this.ondestroy=e.ondestroy||An,this.onrestart=e.onrestart||An,e.easing&&this.setEasing(e.easing)}return r.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(e){this.easing=e,this.easingFunc=it(e)?e:Ex[e]||pB(e)},r}(),Doe=function(){function r(e){this.value=e}return r}(),IGe=function(){function r(){this._len=0}return r.prototype.insert=function(e){var t=new Doe(e);return this.insertEntry(t),t},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),Cb=function(){function r(e){this._list=new IGe,this._maxSize=10,this._map={},this._maxSize=e}return r.prototype.put=function(e,t){var n=this._list,i=this._map,a=null;if(i[e]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new Doe(t),o.key=e,n.insertEntry(o),i[e]=o}return a},r.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),e$={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Vl(r){return r=Math.round(r),r<0?0:r>255?255:r}function RGe(r){return r=Math.round(r),r<0?0:r>360?360:r}function mw(r){return r<0?0:r>1?1:r}function jk(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?Vl(parseFloat(e)/100*255):Vl(parseInt(e,10))}function mv(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?mw(parseFloat(e)/100):mw(parseFloat(e))}function Wk(r,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?r+(e-r)*t*6:t*2<1?e:t*3<2?r+(e-r)*(2/3-t)*6:r}function Rh(r,e,t){return r+(e-r)*t}function Uo(r,e,t,n,i){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function WN(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}var Ioe=new Cb(20),XT=null;function l0(r,e){XT&&WN(XT,e),XT=Ioe.put(r,XT||e.slice())}function ps(r,e){if(r){e=e||[];var t=Ioe.get(r);if(t)return WN(e,t);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in e$)return WN(e,e$[n]),l0(r,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Uo(e,0,0,0,1);return}return Uo(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),l0(r,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Uo(e,0,0,0,1);return}return Uo(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),l0(r,e),e}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Uo(e,+u[0],+u[1],+u[2],1):Uo(e,0,0,0,1);c=mv(u.pop());case"rgb":if(u.length>=3)return Uo(e,jk(u[0]),jk(u[1]),jk(u[2]),u.length===3?c:mv(u[3])),l0(r,e),e;Uo(e,0,0,0,1);return;case"hsla":if(u.length!==4){Uo(e,0,0,0,1);return}return u[3]=mv(u[3]),$N(u,e),l0(r,e),e;case"hsl":if(u.length!==3){Uo(e,0,0,0,1);return}return $N(u,e),l0(r,e),e;default:return}}Uo(e,0,0,0,1)}}function $N(r,e){var t=(parseFloat(r[0])%360+360)%360/360,n=mv(r[1]),i=mv(r[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return e=e||[],Uo(e,Vl(Wk(s,a,t+1/3)*255),Vl(Wk(s,a,t)*255),Vl(Wk(s,a,t-1/3)*255),1),r.length===4&&(e[3]=r[3]),e}function MGe(r){if(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var c=((a-e)/6+s/2)/s,f=((a-t)/6+s/2)/s,h=((a-n)/6+s/2)/s;e===a?l=h-f:t===a?l=1/3+c-h:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,u,o];return r[3]!=null&&p.push(r[3]),p}}function qE(r,e){var t=ps(r);if(t){for(var n=0;n<3;n++)e<0?t[n]=t[n]*(1-e)|0:t[n]=(255-t[n])*e+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return zl(t,t.length===4?"rgba":"rgb")}}function kGe(r){var e=ps(r);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Cx(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){t=t||[];var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=e[i],o=e[a],l=n-i;return t[0]=Vl(Rh(s[0],o[0],l)),t[1]=Vl(Rh(s[1],o[1],l)),t[2]=Vl(Rh(s[2],o[2],l)),t[3]=mw(Rh(s[3],o[3],l)),t}}var PGe=Cx;function vB(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=ps(e[i]),o=ps(e[a]),l=n-i,u=zl([Vl(Rh(s[0],o[0],l)),Vl(Rh(s[1],o[1],l)),Vl(Rh(s[2],o[2],l)),mw(Rh(s[3],o[3],l))],"rgba");return t?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}var LGe=vB;function xm(r,e,t,n){var i=ps(r);if(r)return i=MGe(i),e!=null&&(i[0]=RGe(e)),t!=null&&(i[1]=mv(t)),n!=null&&(i[2]=mv(n)),zl($N(i),"rgba")}function yw(r,e){var t=ps(r);if(t&&e!=null)return t[3]=mw(e),zl(t,"rgba")}function zl(r,e){if(!(!r||!r.length)){var t=r[0]+","+r[1]+","+r[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+r[3]),e+"("+t+")"}}function _w(r,e){var t=ps(r);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function OGe(){return zl([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var t$=new Cb(100);function YE(r){if($e(r)){var e=t$.get(r);return e||(e=qE(r,-.1),t$.put(r,e)),e}else if(Tb(r)){var t=De({},r);return t.colorStops=Pe(r.colorStops,function(n){return{offset:n.offset,color:qE(n.color,-.1)}}),t}return r}const NGe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:Cx,fastMapToColor:PGe,lerp:vB,lift:qE,liftColor:YE,lum:_w,mapToColor:LGe,modifyAlpha:yw,modifyHSL:xm,parse:ps,random:OGe,stringify:zl,toHex:kGe},Symbol.toStringTag,{value:"Module"}));var XE=Math.round;function xw(r){var e;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var t=ps(r);t&&(r="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:r,opacity:e??1}}var r$=1e-4;function Mh(r){return r<r$&&r>-r$}function KT(r){return XE(r*1e3)/1e3}function qN(r){return XE(r*1e4)/1e4}function FGe(r){return"matrix("+KT(r[0])+","+KT(r[1])+","+KT(r[2])+","+KT(r[3])+","+qN(r[4])+","+qN(r[5])+")"}var BGe={left:"start",right:"end",center:"middle",middle:"middle"};function VGe(r,e,t){return t==="top"?r+=e/2:t==="bottom"&&(r-=e/2),r}function zGe(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function UGe(r){var e=r.style,t=r.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function Roe(r){return r&&!!r.image}function HGe(r){return r&&!!r.svgElement}function gB(r){return Roe(r)||HGe(r)}function Moe(r){return r.type==="linear"}function koe(r){return r.type==="radial"}function Poe(r){return r&&(r.type==="linear"||r.type==="radial")}function VD(r){return"url(#"+r+")"}function Loe(r){var e=r.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function Ooe(r){var e=r.x||0,t=r.y||0,n=(r.rotation||0)*Sx,i=_t(r.scaleX,1),a=_t(r.scaleY,1),s=r.skewX||0,o=r.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+XE(s*Sx)+"deg, "+XE(o*Sx)+"deg)"),l.join(" ")}var GGe=function(){return Ut.hasGlobalWindow&&it(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),YN=Array.prototype.slice;function zc(r,e,t){return(e-r)*t+r}function $k(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=zc(e[a],t[a],n);return r}function jGe(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=zc(e[s][o],t[s][o],n)}return r}function ZT(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=e[a]+t[a]*n;return r}function n$(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=e[s][o]+t[s][o]*n}return r}function WGe(r,e){for(var t=r.length,n=e.length,i=t>n?e:r,a=Math.min(t,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function $Ge(r,e,t){var n=r,i=e;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(t===1?i[l]:YN.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(t===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function Dx(r){if(va(r)){var e=r.length;if(va(r[0])){for(var t=[],n=0;n<e;n++)t.push(YN.call(r[n]));return t}return YN.call(r)}return r}function hA(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function qGe(r){return va(r&&r[0])?2:1}var QT=0,dA=1,Noe=2,G_=3,XN=4,KN=5,i$=6;function a$(r){return r===XN||r===KN}function JT(r){return r===dA||r===Noe}var n_=[0,0,0,0],YGe=function(){function r(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=i$,l=t;if(va(t)){var u=qGe(t);o=u,(u===1&&!tr(t[0])||u===2&&!tr(t[0][0]))&&(s=!0)}else if(tr(t)&&!Wm(t))o=QT;else if($e(t))if(!isNaN(+t))o=QT;else{var c=ps(t);c&&(l=c,o=G_)}else if(Tb(t)){var f=De({},l);f.colorStops=Pe(t.colorStops,function(p){return{offset:p.offset,color:ps(p.color)}}),Moe(t)?o=XN:koe(t)&&(o=KN),l=f}a===0?this.valType=o:(o!==this.valType||o===i$)&&(s=!0),this.discrete=this.discrete||s;var h={time:e,value:l,rawValue:t,percent:0};return n&&(h.easing=n,h.easingFunc=it(n)?n:Ex[n]||pB(n)),i.push(h),h},r.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(m,y){return m.time-y.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=JT(i),u=a$(i),c=0;c<a;c++){var f=n[c],h=f.value,p=s.value;f.percent=f.time/e,o||(l&&c!==a-1?$Ge(h,p,i):u&&WGe(h.colorStops,p.colorStops))}if(!o&&i!==KN&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var v=n[0].value,c=0;c<a;c++)i===QT?n[c].additiveValue=n[c].value-v:i===G_?n[c].additiveValue=ZT([],n[c].value,v,-1):JT(i)&&(n[c].additiveValue=i===dA?ZT([],n[c].value,v,-1):n$([],n[c].value,v,-1))}},r.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===G_,c,f=this._lastFr,h=Math.min,p,v;if(o===1)p=v=s[0];else{if(t<0)c=0;else if(t<this._lastFrP){var m=h(f+1,o-1);for(c=m;c>=0&&!(s[c].percent<=t);c--);c=h(c,o-2)}else{for(c=f;c<o&&!(s[c].percent>t);c++);c=h(c-1,o-2)}v=s[c+1],p=s[c]}if(p&&v){this._lastFr=c,this._lastFrP=t;var y=v.percent-p.percent,x=y===0?1:h((t-p.percent)/y,1);v.easingFunc&&(x=v.easingFunc(x));var w=n?this._additiveValue:u?n_:e[l];if((JT(a)||u)&&!w&&(w=this._additiveValue=[]),this.discrete)e[l]=x<1?p.rawValue:v.rawValue;else if(JT(a))a===dA?$k(w,p[i],v[i],x):jGe(w,p[i],v[i],x);else if(a$(a)){var b=p[i],T=v[i],C=a===XN;e[l]={type:C?"linear":"radial",x:zc(b.x,T.x,x),y:zc(b.y,T.y,x),colorStops:Pe(b.colorStops,function(E,R){var M=T.colorStops[R];return{offset:zc(E.offset,M.offset,x),color:hA($k([],E.color,M.color,x))}}),global:T.global},C?(e[l].x2=zc(b.x2,T.x2,x),e[l].y2=zc(b.y2,T.y2,x)):e[l].r=zc(b.r,T.r,x)}else if(u)$k(w,p[i],v[i],x),n||(e[l]=hA(w));else{var D=zc(p[i],v[i],x);n?this._additiveValue=D:e[l]=D}n&&this._addToTarget(e)}}},r.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;t===QT?e[n]=e[n]+i:t===G_?(ps(e[n],n_),ZT(n_,n_,i,1),e[n]=hA(n_)):t===dA?ZT(e[n],e[n],i,1):t===Noe&&n$(e[n],e[n],i,1)},r}(),mB=function(){function r(e,t,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){PD("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(e){this._target=e},r.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,Gt(t),n)},r.prototype.whenWithKeys=function(e,t,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new YGe(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===G_&&u&&(u=hA(u))}else u=this._target[o];if(u==null)continue;e>0&&l.addKeyframe(0,Dx(u),i),this._trackKeys.push(o)}l.addKeyframe(e,Dx(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},r.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},r.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(t=a)}return t},r.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=u[c-1];f&&(t._target[o.propName]=f.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var h=new DGe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){t._started=2;var v=t._additiveAnimators;if(v){for(var m=!1,y=0;y<v.length;y++)if(v[y]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var y=0;y<n.length;y++)n[y].step(t._target,p);var x=t._onframeCbs;if(x)for(var y=0;y<x.length;y++)x[y](t._target,p)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},r.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},r.prototype.delay=function(e){return this._delay=e,this},r.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},r.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},r.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(e){return this._tracks[e]},r.prototype.getTracks=function(){var e=this;return Pe(this._trackKeys,function(t){return e._tracks[t]})},r.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=n[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},r.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(e[a]=Dx(l.rawValue))}}}},r.prototype.__changeFinalValue=function(e,t){t=t||Gt(e);for(var n=0;n<t.length;n++){var i=t[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r}();function Q0(){return new Date().getTime()}var XGe=function(r){Jr(e,r);function e(t){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(t){if(t.animation){var n=t.prev,i=t.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},e.prototype.update=function(t){for(var n=Q0()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(jE(n),!t._paused&&t.update())}jE(n)},e.prototype.start=function(){this._running||(this._time=Q0(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Q0(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Q0()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,n){n=n||{},this.start();var i=new mB(t,n.loop);return this.addAnimator(i),i},e}(cl),KGe=300,qk=Ut.domSupported,Yk=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Pe(r,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:r,touch:e,pointer:n}}(),s$={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},o$=!1;function ZN(r){var e=r.pointerType;return e==="pen"||e==="touch"}function ZGe(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function Xk(r){r&&(r.zrByTouch=!0)}function QGe(r,e){return jo(r.dom,new JGe(r,e),!0)}function Foe(r,e){for(var t=e,n=!1;t&&t.nodeType!==9&&!(n=t.domBelongToZr||t!==e&&t===r.painterRoot);)t=t.parentNode;return n}var JGe=function(){function r(e,t){this.stopPropagation=An,this.stopImmediatePropagation=An,this.preventDefault=An,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return r}(),Al={mousedown:function(r){r=jo(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=jo(this.dom,r);var e=this.__mayPointerCapture;e&&(r.zrX!==e[0]||r.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=jo(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=jo(this.dom,r);var e=r.toElement||r.relatedTarget;Foe(this,e)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){o$=!0,r=jo(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){o$||(r=jo(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=jo(this.dom,r),Xk(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Al.mousemove.call(this,r),Al.mousedown.call(this,r)},touchmove:function(r){r=jo(this.dom,r),Xk(r),this.handler.processGesture(r,"change"),Al.mousemove.call(this,r)},touchend:function(r){r=jo(this.dom,r),Xk(r),this.handler.processGesture(r,"end"),Al.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<KGe&&Al.click.call(this,r)},pointerdown:function(r){Al.mousedown.call(this,r)},pointermove:function(r){ZN(r)||Al.mousemove.call(this,r)},pointerup:function(r){Al.mouseup.call(this,r)},pointerout:function(r){ZN(r)||Al.mouseout.call(this,r)}};B(["click","dblclick","contextmenu"],function(r){Al[r]=function(e){e=jo(this.dom,e),this.trigger(r,e)}});var QN={pointermove:function(r){ZN(r)||QN.mousemove.call(this,r)},pointerup:function(r){QN.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),e&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function eje(r,e){var t=e.domHandlers;Ut.pointerEventsSupported?B(Yk.pointer,function(n){pA(e,n,function(i){t[n].call(r,i)})}):(Ut.touchEventsSupported&&B(Yk.touch,function(n){pA(e,n,function(i){t[n].call(r,i),ZGe(e)})}),B(Yk.mouse,function(n){pA(e,n,function(i){i=dB(i),e.touching||t[n].call(r,i)})}))}function tje(r,e){Ut.pointerEventsSupported?B(s$.pointer,t):Ut.touchEventsSupported||B(s$.mouse,t);function t(n){function i(a){a=dB(a),Foe(r,a.target)||(a=QGe(r,a),e.domHandlers[n].call(r,a))}pA(e,n,i,{capture:!0})}}function pA(r,e,t,n){r.mounted[e]=t,r.listenerOpts[e]=n,GN(r.domTarget,e,t,n)}function Kk(r){var e=r.mounted;for(var t in e)e.hasOwnProperty(t)&&fGe(r.domTarget,t,e[t],r.listenerOpts[t]);r.mounted={}}var l$=function(){function r(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return r}(),rje=function(r){Jr(e,r);function e(t,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new l$(t,Al),qk&&(i._globalHandlerScope=new l$(document,QN)),eje(i,i._localHandlerScope),i}return e.prototype.dispose=function(){Kk(this._localHandlerScope),qk&&Kk(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,qk&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?tje(this,n):Kk(n)}},e}(cl),Boe=1;Ut.hasGlobalWindow&&(Boe=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var KE=Boe,JN=.4,e4="#333",t4="#ccc",nje="#eee",u$=Eb,c$=5e-5;function fp(r){return r>c$||r<-c$}var hp=[],u0=[],Zk=Us(),Qk=Math.abs,Kc=function(){function r(){}return r.prototype.getLocalTransform=function(e){return r.getLocalTransform(this,e)},r.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},r.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},r.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},r.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},r.prototype.needLocalTransform=function(){return fp(this.rotation)||fp(this.x)||fp(this.y)||fp(this.scaleX-1)||fp(this.scaleY-1)||fp(this.skewX)||fp(this.skewY)},r.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;if(!(t||e)){n&&(u$(n),this.invTransform=null);return}n=n||Us(),t?this.getLocalTransform(n):u$(n),e&&(t?Ku(n,e,n):FD(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(hp);var n=hp[0]<0?-1:1,i=hp[1]<0?-1:1,a=((hp[0]-n)*t+n)/hp[0]||0,s=((hp[1]-i)*t+i)/hp[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||Us(),ug(this.invTransform,e)},r.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},r.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Us(),Ku(u0,e.invTransform,t),t=u0);var n=this.originX,i=this.originY;(n||i)&&(Zk[4]=n,Zk[5]=i,Ku(u0,t,Zk),u0[4]-=n,u0[5]-=i,t=u0),this.setLocalTransform(t)}},r.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},r.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Yi(n,n,i),n},r.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Yi(n,n,i),n},r.prototype.getLineScale=function(){var e=this.transform;return e&&Qk(e[0]-1)>1e-10&&Qk(e[3]-1)>1e-10?Math.sqrt(Qk(e[0]*e[3]-e[2]*e[1])):1},r.prototype.copyTransform=function(e){Voe(this,e)},r.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||i||o||l){var v=n+o,m=i+l;t[4]=-v*a-h*m*s,t[5]=-m*s-p*v*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=p*a,t[2]=h*s,u&&bd(t,t,u),t[4]+=n+c,t[5]+=i+f,t},r.initDefaultProps=function(){var e=r.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),r}(),rc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Voe(r,e){for(var t=0;t<rc.length;t++){var n=rc[t];r[n]=e[n]}}var f$={};function ho(r,e){e=e||ld;var t=f$[e];t||(t=f$[e]=new Cb(500));var n=t.get(r);return n==null&&(n=$l.measureText(r,e).width,t.put(r,n)),n}function h$(r,e,t,n){var i=ho(r,e),a=zD(e),s=j_(0,i,t),o=N0(0,a,n),l=new Ct(s,o,i,a);return l}function Db(r,e,t,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return h$(i[0],e,t,n);for(var s=new Ct(0,0,0,0),o=0;o<i.length;o++){var l=h$(i[o],e,t,n);o===0?s.copy(l):s.union(l)}return s}function j_(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function N0(r,e,t){return t==="middle"?r-=e/2:t==="bottom"&&(r-=e),r}function zD(r){return ho("国",r)}function Yl(r,e){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*e:parseFloat(r):r}function ZE(r,e,t){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,u=t.y,c="left",f="top";if(n instanceof Array)l+=Yl(n[0],t.width),u+=Yl(n[1],t.height),c=null,f=null;else switch(n){case"left":l-=i,u+=o,c="right",f="middle";break;case"right":l+=i+s,u+=o,f="middle";break;case"top":l+=s/2,u-=i,c="center",f="bottom";break;case"bottom":l+=s/2,u+=a+i,c="center";break;case"inside":l+=s/2,u+=o,c="center",f="middle";break;case"insideLeft":l+=i,u+=o,f="middle";break;case"insideRight":l+=s-i,u+=o,c="right",f="middle";break;case"insideTop":l+=s/2,u+=i,c="center";break;case"insideBottom":l+=s/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,c="right",f="bottom";break}return r=r||{},r.x=l,r.y=u,r.align=c,r.verticalAlign=f,r}var Jk="__zr_normal__",eP=rc.concat(["ignore"]),ije=ol(rc,function(r,e){return r[e]=!0,r},{ignore:!1}),c0={},aje=new Ct(0,0,0,0),UD=function(){function r(e){this.id=uB(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return r.prototype._init=function(e){this.attr(e)},r.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(t),n.position!=null){var c=aje;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(c0,n,c):ZE(c0,n,c),a.x=c0.x,a.y=c0.y,s=c0.align,o=c0.verticalAlign;var f=n.origin;if(f&&n.rotation!=null){var h=void 0,p=void 0;f==="center"?(h=c.width*.5,p=c.height*.5):(h=Yl(f[0],c.width),p=Yl(f[1],c.height)),u=!0,a.originX=-a.x+h+(i?0:c.x),a.originY=-a.y+p+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var v=n.offset;v&&(a.x+=v[0],a.y+=v[1],u||(a.originX=-v[0],a.originY=-v[1]));var m=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,w=void 0,b=void 0;m&&this.canBeInsideText()?(x=n.insideFill,w=n.insideStroke,(x==null||x==="auto")&&(x=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(x),b=!0)):(x=n.outsideFill,w=n.outsideStroke,(x==null||x==="auto")&&(x=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(x),b=!0)),x=x||"#000",(x!==y.fill||w!==y.stroke||b!==y.autoStroke||s!==y.align||o!==y.verticalAlign)&&(l=!0,y.fill=x,y.stroke=w,y.autoStroke=b,y.align=s,y.verticalAlign=o,t.setDefaultTextStyle(y)),t.__dirty|=ao,l&&t.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(e){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?t4:e4},r.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n=typeof t=="string"&&ps(t);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,zl(n,"rgba")},r.prototype.traverse=function(e,t){},r.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},De(this.extra,t)):this[e]=t},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(ct(e))for(var n=e,i=Gt(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==Jk)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},r.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,eP)},r.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(e){return this.states[e]},r.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},r.prototype.clearStates=function(e){this.useState(Jk,!1,e)},r.prototype.useState=function(e,t,n,i){var a=e===Jk,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Dt(o,e)>=0&&(t||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){PD("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,n,c),h&&h.useState(e,t,n,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ao),u}}},r.prototype.useStates=function(e,t,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var f=i[s-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!t&&!this.__inHover&&v&&v.duration>0,v);var m=this._textContent,y=this._textGuide;m&&m.useStates(e,t,h),y&&y.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ao)}},r.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},r.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},r.prototype.removeState=function(e){var t=Dt(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},r.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),a=Dt(i,e),s=Dt(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:n&&!s&&i.push(t),this.useStates(i)},r.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},r.prototype._mergeStates=function(e){for(var t={},n,i=0;i<e.length;i++){var a=e[i];De(t,a),a.textConfig&&(n=n||{},De(n,a.textConfig))}return n&&(t.textConfig=n),t},r.prototype._applyStateObj=function(e,t,n,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=De({},i?this.textConfig:n.textConfig),De(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<eP.length;c++){var f=eP[c],h=a&&ije[f];t&&t[f]!=null?h?(u=!0,l[f]=t[f]):this[f]=t[f]:o&&n[f]!=null&&(h?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],v=p.targetName;p.getLoop()||p.__changeFinalValue(v?(t||n)[v]:t||n)}u&&this._transitionState(e,l,s)},r.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},r.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},r.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Kc,this._attachComponent(e),this._textContent=e,this.markRedraw())},r.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),De(this.textConfig,e),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=ao;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},r.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},r.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},r.prototype.animate=function(e,t,n){var i=e?this[e]:this,a=new mB(i,t,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},r.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=Dt(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(e){this.markRedraw()},r.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},r.prototype.animateTo=function(e,t,n){tP(this,e,t,n)},r.prototype.animateFrom=function(e,t,n){tP(this,e,t,n,!0)},r.prototype._transitionState=function(e,t,n,i){for(var a=tP(this,t,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var e=r.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=ao;function t(n,i,a,s){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),r}();Cn(UD,cl);Cn(UD,Kc);function tP(r,e,t,n,i){t=t||{};var a=[];zoe(r,"",r,e,t,n,a,i);var s=a.length,o=!1,l=t.done,u=t.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},f=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(v,m){t.during(m)});for(var h=0;h<a.length;h++){var p=a[h];c&&p.done(c),f&&p.aborted(f),t.force&&p.duration(t.duration),p.start(t.easing)}return a}function rP(r,e,t){for(var n=0;n<t;n++)r[n]=e[n]}function sje(r){return va(r[0])}function oje(r,e,t){if(va(e[t]))if(va(r[t])||(r[t]=[]),ys(e[t])){var n=e[t].length;r[t].length!==n&&(r[t]=new e[t].constructor(n),rP(r[t],e[t],n))}else{var i=e[t],a=r[t],s=i.length;if(sje(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?rP(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else rP(a,i,s);a.length=i.length}else r[t]=e[t]}function lje(r,e){return r===e||va(r)&&va(e)&&uje(r,e)}function uje(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function zoe(r,e,t,n,i,a,s,o){for(var l=Gt(n),u=i.duration,c=i.delay,f=i.additive,h=i.setToFinal,p=!ct(a),v=r.animators,m=[],y=0;y<l.length;y++){var x=l[y],w=n[x];if(w!=null&&t[x]!=null&&(p||a[x]))if(ct(w)&&!va(w)&&!Tb(w)){if(e){o||(t[x]=w,r.updateDuringAnimation(e));continue}zoe(r,x,t[x],w,i,a&&a[x],s,o)}else m.push(x);else o||(t[x]=w,r.updateDuringAnimation(e),m.push(x))}var b=m.length;if(!f&&b)for(var T=0;T<v.length;T++){var C=v[T];if(C.targetName===e){var D=C.stopTracks(m);if(D){var E=Dt(v,C);v.splice(E,1)}}}if(i.force||(m=ar(m,function(L){return!lje(n[L],t[L])}),b=m.length),b>0||i.force&&!s.length){var R=void 0,M=void 0,k=void 0;if(o){M={},h&&(R={});for(var T=0;T<b;T++){var x=m[T];M[x]=t[x],h?R[x]=n[x]:t[x]=n[x]}}else if(h){k={};for(var T=0;T<b;T++){var x=m[T];k[x]=Dx(t[x]),oje(t,n,x)}}var C=new mB(t,!1,!1,f?ar(v,function(O){return O.targetName===e}):null);C.targetName=e,i.scope&&(C.scope=i.scope),h&&R&&C.whenWithKeys(0,R,m),k&&C.whenWithKeys(0,k,m),C.whenWithKeys(u??500,o?M:n,m).delay(c||0),r.addAnimator(C,e),s.push(C)}}var pt=function(r){Jr(e,r);function e(t){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===t)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,n){var i=Dt(this._children,t);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(t,n){var i=this._children,a=i[n];if(t&&t!==this&&t.parent!==this&&t!==a){i[n]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(t){var n=this.__zr,i=this._children,a=Dt(i,t);return a<0?this:(i.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,i=0;i<t.length;i++){var a=t[i];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(n,s,a)}return this},e.prototype.traverse=function(t,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(n,a);a.isGroup&&!s&&a.traverse(t,n)}return this},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var n=new Ct(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Ct.applyTransform(n,u,c),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},e}(UD);pt.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var vA={},tv={};function cje(r){delete tv[r]}function fje(r){if(!r)return!1;if(typeof r=="string")return _w(r,1)<JN;if(r.colorStops){for(var e=r.colorStops,t=0,n=e.length,i=0;i<n;i++)t+=_w(e[i].color,1);return t/=n,t<JN}return!1}var hje=function(){function r(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var a=new SGe,s=n.renderer||"canvas";vA[s]||(s=Gt(vA)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new vA[s](t,a,n,e),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!Ut.node&&!Ut.worker&&!l?new rje(o.getViewportRoot(),o.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?Ut.touchEventsSupported:!!c,h=44,p;f&&(p=_t(n.pointerSize,h)),this.handler=new _oe(a,o,u,o.root,p),this.animation=new XGe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},r.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},r.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=fje(e))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(e){this._darkMode=e},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(e){var t,n=Q0();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=Q0();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},r.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},r.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},r.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},r.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},r.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof pt&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,cje(this.id))},r}();function r4(r,e){var t=new hje(uB(),r,e);return tv[t.id]=t,t}function dje(r){r.dispose()}function pje(){for(var r in tv)tv.hasOwnProperty(r)&&tv[r].dispose();tv={}}function vje(r){return tv[r]}function Uoe(r,e){vA[r]=e}var n4;function Hoe(r){if(typeof n4=="function")return n4(r)}function Goe(r){n4=r}var gje="5.6.1";const mje=Object.freeze(Object.defineProperty({__proto__:null,dispose:dje,disposeAll:pje,getElementSSRData:Hoe,getInstance:vje,init:r4,registerPainter:Uoe,registerSSRDataGetter:Goe,version:gje},Symbol.toStringTag,{value:"Module"}));var d$=1e-4,joe=20;function yje(r){return r.replace(/^\s+|\s+$/g,"")}function cr(r,e,t,n){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(n)if(l>0){if(r<=i)return s;if(r>=a)return o}else{if(r>=i)return s;if(r<=a)return o}else{if(r===i)return s;if(r===a)return o}return(r-i)/l*u+s}function je(r,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return $e(r)?yje(r).match(/%$/)?parseFloat(r)/100*e:parseFloat(r):r==null?NaN:+r}function wn(r,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),joe),r=(+r).toFixed(e),t?r:+r}function co(r){return r.sort(function(e,t){return e-t}),r}function Ll(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(r*e)/e===r)return t}return Woe(r)}function Woe(r){var e=r.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function yB(r,e){var t=Math.log,n=Math.LN10,i=Math.floor(t(r[1]-r[0])/n),a=Math.round(t(Math.abs(e[1]-e[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function _je(r,e,t){if(!r[e])return 0;var n=$oe(r,t);return n[e]||0}function $oe(r,e){var t=ol(r,function(p,v){return p+(isNaN(v)?0:v)},0);if(t===0)return[];for(var n=Math.pow(10,e),i=Pe(r,function(p){return(isNaN(p)?0:p)/t*n*100}),a=n*100,s=Pe(i,function(p){return Math.floor(p)}),o=ol(s,function(p,v){return p+v},0),l=Pe(i,function(p,v){return p-s[v]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++s[c],l[c]=0,++o}return Pe(s,function(p){return p/n})}function xje(r,e){var t=Math.max(Ll(r),Ll(e)),n=r+e;return t>joe?n:wn(n,t)}var i4=9007199254740991;function _B(r){var e=Math.PI*2;return(r%e+e)%e}function qm(r){return r>-d$&&r<d$}var wje=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function mo(r){if(r instanceof Date)return r;if($e(r)){var e=wje.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function qoe(r){return Math.pow(10,HD(r))}function HD(r){if(r===0)return 0;var e=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,e)>=10&&e++,e}function xB(r,e){var t=HD(r),n=Math.pow(10,t),i=r/n,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,r=a*n,t>=-20?+r.toFixed(t<0?-t:0):r}function gA(r,e){var t=(r.length-1)*e+1,n=Math.floor(t),i=+r[n-1],a=t-n;return a?i+a*(r[n]-i):i}function a4(r){r.sort(function(l,u){return o(l,u,0)?-1:1});for(var e=-1/0,t=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,s=0;s<2;s++)i[s]<=e&&(i[s]=e,a[s]=s?1:1-t),e=i[s],t=a[s];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function nc(r){var e=parseFloat(r);return e==r&&(e!==0||!$e(r)||r.indexOf("x")<=0)?e:NaN}function wB(r){return!isNaN(nc(r))}function Yoe(){return Math.round(Math.random()*9)}function Xoe(r,e){return e===0?r:Xoe(e,r%e)}function p$(r,e){return r==null?e:e==null?r:r*e/Xoe(r,e)}function dr(r){throw new Error(r)}function v$(r,e,t){return(e-r)*t+r}var Koe="series\0",Zoe="\0_ec_\0";function Pr(r){return r instanceof Array?r:r==null?[]:[r]}function Vv(r,e,t){if(r){r[e]=r[e]||{},r.emphasis=r.emphasis||{},r.emphasis[e]=r.emphasis[e]||{};for(var n=0,i=t.length;n<i;n++){var a=t[n];!r.emphasis[e].hasOwnProperty(a)&&r[e].hasOwnProperty(a)&&(r.emphasis[e][a]=r[e][a])}}}var g$=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function by(r){return ct(r)&&!ke(r)&&!(r instanceof Date)?r.value:r}function bje(r){return ct(r)&&!(r instanceof Array)}function Qoe(r,e,t){var n=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";r=r||[],e=(e||[]).slice();var s=tt();B(e,function(l,u){if(!ct(l)){e[u]=null;return}});var o=Sje(r,s,t);return(n||i)&&Tje(o,r,s,e),n&&Aje(o,e),n||i?Eje(o,e,i):a&&Cje(o,e),Dje(o),o}function Sje(r,e,t){var n=[];if(t==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:t==="replaceMerge"||ww(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function Tje(r,e,t,n){B(n,function(i,a){if(!(!i||i.id==null)){var s=Ix(i.id),o=t.get(s);if(o!=null){var l=r[o];Ga(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],n[a]=null}}})}function Aje(r,e){B(e,function(t,n){if(!(!t||t.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||t.id==null)&&!ww(t)&&!ww(a)&&Joe("name",a,t)){r[i].newOption=t,e[n]=null;return}}})}function Eje(r,e,t){B(e,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||ww(i.existing)||i.existing&&n.id!=null&&!Joe("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=t):r.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),a++}})}function Cje(r,e){B(e,function(t){r.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function Dje(r){var e=tt();B(r,function(t){var n=t.existing;n&&e.set(n.id,t)}),B(r,function(t){var n=t.newOption;Ga(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),B(r,function(t,n){var i=t.existing,a=t.newOption,s=t.keyInfo;if(ct(a)){if(s.name=a.name!=null?Ix(a.name):i?i.name:Koe+n,i)s.id=Ix(i.id);else if(a.id!=null)s.id=Ix(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function Joe(r,e,t){var n=gi(e[r],null),i=gi(t[r],null);return n!=null&&i!=null&&n===i}function Ix(r){return gi(r,"")}function gi(r,e){return r==null?e:$e(r)?r:tr(r)||UE(r)?r+"":e}function bB(r){var e=r.name;return!!(e&&e.indexOf(Koe))}function ww(r){return r&&r.id!=null&&Ix(r.id).indexOf(Zoe)===0}function Ije(r){return Zoe+r}function Rje(r,e,t){B(r,function(n){var i=n.newOption;ct(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=Mje(e,i,n.existing,t))})}function Mje(r,e,t,n){var i=e.type?e.type:t?t.subType:n.determineSubType(r,e);return i}function kje(r,e){var t={},n={};return i(r||[],t),i(e||[],n,t),[a(t),a(n)];function i(s,o,l){for(var u=0,c=s.length;u<c;u++){var f=gi(s[u].seriesId,null);if(f==null)return;for(var h=Pr(s[u].dataIndex),p=l&&l[f],v=0,m=h.length;v<m;v++){var y=h[v];p&&p[y]?p[y]=null:(o[f]||(o[f]={}))[y]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function zv(r,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ke(e.dataIndex)?Pe(e.dataIndex,function(t){return r.indexOfRawIndex(t)}):r.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ke(e.name)?Pe(e.name,function(t){return r.indexOfName(t)}):r.indexOfName(e.name)}function Qt(){var r="__ec_inner_"+Pje++;return function(e){return e[r]||(e[r]={})}}var Pje=Yoe();function Rx(r,e,t){var n=SB(e,t),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=Ib(r,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[c+"Models"]=f.models,o[c+"Model"]=f.models[0]}),o}function SB(r,e){var t;if($e(r)){var n={};n[r+"Index"]=0,t=n}else t=r;var i=tt(),a={},s=!1;return B(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&Dt(e.includeMainTypes,c)<0)){s=s||!!c;var h=i.get(c)||i.set(c,{});h[f]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Qn={useDefault:!0,enableAll:!1,enableNone:!1},Lje={useDefault:!1,enableAll:!0,enableNone:!0};function Ib(r,e,t,n){n=n||Qn;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=r.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(Ga(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Ga(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=r.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function ele(r,e,t){r.setAttribute?r.setAttribute(e,t):r[e]=t}function Oje(r,e){return r.getAttribute?r.getAttribute(e):r[e]}function Nje(r){return r==="auto"?Ut.domSupported?"html":"richText":r||"html"}function s4(r,e){var t=tt(),n=[];return B(r,function(i){var a=e(i);(t.get(a)||(n.push(a),t.set(a,[]))).push(i)}),{keys:n,buckets:t}}function tle(r,e,t,n,i){var a=e==null||e==="auto";if(n==null)return n;if(tr(n)){var s=v$(t||0,n,i);return wn(s,a?Math.max(Ll(t||0),Ll(n)):e)}else{if($e(n))return i<1?t:n;for(var o=[],l=t,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=r.getDimensionInfo(f);if(h&&h.type==="ordinal")o[f]=(i<1&&l?l:u)[f];else{var p=l&&l[f]?l[f]:0,v=u[f],s=v$(p,v,i);o[f]=wn(s,a?Math.max(Ll(p),Ll(v)):e)}}return o}}var Fje=".",dp="___EC__COMPONENT__CONTAINER___",rle="___EC__EXTENDED_CLASS___";function Ou(r){var e={main:"",sub:""};if(r){var t=r.split(Fje);e.main=t[0]||"",e.sub=t[1]||""}return e}function Bje(r){Ga(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function Vje(r){return!!(r&&r[rle])}function TB(r,e){r.$constructor=r,r.extend=function(t){var n=this,i;return zje(n)?i=function(a){ge(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(i=function(){(t.$constructor||n).apply(this,arguments)},cB(i,this)),De(i.prototype,t),i[rle]=!0,i.extend=this.extend,i.superCall=Gje,i.superApply=jje,i.superClass=n,i}}function zje(r){return it(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function nle(r,e){r.extend=e.extend}var Uje=Math.round(Math.random()*10);function Hje(r){var e=["__\0is_clz",Uje++].join("_");r.prototype[e]=!0,r.isInstance=function(t){return!!(t&&t[e])}}function Gje(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(r,t)}function jje(r,e,t){return this.superClass.prototype[e].apply(r,t)}function GD(r){var e={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){Bje(i),n.prototype.type=i;var a=Ou(i);if(!a.sub)e[a.main]=n;else if(a.sub!==dp){var s=t(a);s[a.sub]=n}}return n},r.getClass=function(n,i,a){var s=e[n];if(s&&s[dp]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},r.getClassesByMainType=function(n){var i=Ou(n),a=[],s=e[i.main];return s&&s[dp]?B(s,function(o,l){l!==dp&&a.push(o)}):a.push(s),a},r.hasClass=function(n){var i=Ou(n);return!!e[i.main]},r.getAllClassMainTypes=function(){var n=[];return B(e,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=Ou(n),a=e[i.main];return a&&a[dp]};function t(n){var i=e[n.main];return(!i||!i[dp])&&(i=e[n.main]={},i[dp]=!0),i}}function Uv(r,e){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return e=e||!1,function(n,i,a){for(var s={},o=0;o<r.length;o++){var l=r[o][1];if(!(i&&Dt(i,l)>=0||a&&Dt(a,l)<0)){var u=n.getShallow(l,e);u!=null&&(s[r[o][0]]=u)}}return s}}var Wje=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],$je=Uv(Wje),qje=function(){function r(){}return r.prototype.getAreaStyle=function(e,t){return $je(this,e,t)},r}(),o4=new Cb(50);function Yje(r){if(typeof r=="string"){var e=o4.get(r);return e&&e.image}else return r}function AB(r,e,t,n,i){if(r)if(typeof r=="string"){if(e&&e.__zrImageSrc===r||!t)return e;var a=o4.get(r),s={hostEl:t,cb:n,cbPayload:i};return a?(e=a.image,!jD(e)&&a.pending.push(s)):(e=$l.loadImage(r,m$,m$),e.__zrImageSrc=r,o4.put(r,e.__cachedImgObj={image:e,pending:[s]})),e}else return r;else return e}function m$(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<r.pending.length;e++){var t=r.pending[e],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}r.pending.length=0}function jD(r){return r&&r.width&&r.height}var nP=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Xje(r,e,t,n,i){var a={};return ile(a,r,e,t,n,i),a.text}function ile(r,e,t,n,i,a){if(!t){r.text="",r.isTruncated=!1;return}var s=(e+"").split(`
`);a=ale(t,n,i,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)sle(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;r.text=s.join(`
`),r.isTruncated=o}function ale(r,e,t,n){n=n||{};var i=De({},n);i.font=e,t=_t(t,"..."),i.maxIterations=_t(n.maxIterations,2);var a=i.minChar=_t(n.minChar,0);i.cnCharWidth=ho("国",e);var s=i.ascCharWidth=ho("a",e);i.placeholder=_t(n.placeholder,"");for(var o=r=Math.max(0,r-1),l=0;l<a&&o>=s;l++)o-=s;var u=ho(t,e);return u>o&&(t="",u=0),o=r-u,i.ellipsis=t,i.ellipsisWidth=u,i.contentWidth=o,i.containerWidth=r,i}function sle(r,e,t){var n=t.containerWidth,i=t.font,a=t.contentWidth;if(!n){r.textLine="",r.isTruncated=!1;return}var s=ho(e,i);if(s<=n){r.textLine=e,r.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?Kje(e,a,t.ascCharWidth,t.cnCharWidth):s>0?Math.floor(e.length*a/s):0;e=e.substr(0,l),s=ho(e,i)}e===""&&(e=t.placeholder),r.textLine=e,r.isTruncated=!0}function Kje(r,e,t,n){for(var i=0,a=0,s=r.length;a<s&&i<e;a++){var o=r.charCodeAt(a);i+=0<=o&&o<=127?t:n}return a}function Zje(r,e){r!=null&&(r+="");var t=e.overflow,n=e.padding,i=e.font,a=t==="truncate",s=zD(i),o=_t(e.lineHeight,s),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=!1,f=e.width,h;f!=null&&(t==="break"||t==="breakAll")?h=r?ole(r,e.font,f,t==="breakAll",0).lines:[]:h=r?r.split(`
`):[];var p=h.length*o,v=_t(e.height,p);if(p>v&&u){var m=Math.floor(v/o);c=c||h.length>m,h=h.slice(0,m)}if(r&&a&&f!=null)for(var y=ale(f,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),x={},w=0;w<h.length;w++)sle(x,h[w],y),h[w]=x.textLine,c=c||x.isTruncated;for(var b=v,T=0,w=0;w<h.length;w++)T=Math.max(ho(h[w],i),T);f==null&&(f=T);var C=T;return n&&(b+=n[0]+n[2],C+=n[1]+n[3],f+=n[1]+n[3]),l&&(C=f),{lines:h,height:v,outerWidth:C,outerHeight:b,lineHeight:o,calculatedLineHeight:s,contentWidth:T,contentHeight:p,width:f,isTruncated:c}}var Qje=function(){function r(){}return r}(),y$=function(){function r(e){this.tokens=[],e&&(this.tokens=e)}return r}(),Jje=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r}();function eWe(r,e){var t=new Jje;if(r!=null&&(r+=""),!r)return t;for(var n=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,o=nP.lastIndex=0,l;(l=nP.exec(r))!=null;){var u=l.index;u>o&&iP(t,r.substring(o,u),e,s),iP(t,l[2],e,s,l[1]),o=nP.lastIndex}o<r.length&&iP(t,r.substring(o,r.length),e,s);var c=[],f=0,h=0,p=e.padding,v=a==="truncate",m=e.lineOverflow==="truncate",y={};function x(q,Q,j){q.width=Q,q.lineHeight=j,f+=j,h=Math.max(h,Q)}e:for(var w=0;w<t.lines.length;w++){for(var b=t.lines[w],T=0,C=0,D=0;D<b.tokens.length;D++){var E=b.tokens[D],R=E.styleName&&e.rich[E.styleName]||{},M=E.textPadding=R.padding,k=M?M[1]+M[3]:0,L=E.font=R.font||e.font;E.contentHeight=zD(L);var O=_t(R.height,E.contentHeight);if(E.innerHeight=O,M&&(O+=M[0]+M[2]),E.height=O,E.lineHeight=Bl(R.lineHeight,e.lineHeight,O),E.align=R&&R.align||e.align,E.verticalAlign=R&&R.verticalAlign||"middle",m&&i!=null&&f+E.lineHeight>i){var N=t.lines.length;D>0?(b.tokens=b.tokens.slice(0,D),x(b,C,T),t.lines=t.lines.slice(0,w+1)):t.lines=t.lines.slice(0,w),t.isTruncated=t.isTruncated||t.lines.length<N;break e}var W=R.width,U=W==null||W==="auto";if(typeof W=="string"&&W.charAt(W.length-1)==="%")E.percentWidth=W,c.push(E),E.contentWidth=ho(E.text,L);else{if(U){var z=R.backgroundColor,Y=z&&z.image;Y&&(Y=Yje(Y),jD(Y)&&(E.width=Math.max(E.width,Y.width*O/Y.height)))}var re=v&&n!=null?n-C:null;re!=null&&re<E.width?!U||re<k?(E.text="",E.width=E.contentWidth=0):(ile(y,E.text,re-k,L,e.ellipsis,{minChar:e.truncateMinChar}),E.text=y.text,t.isTruncated=t.isTruncated||y.isTruncated,E.width=E.contentWidth=ho(E.text,L)):E.contentWidth=ho(E.text,L)}E.width+=k,C+=E.width,R&&(T=Math.max(T,E.lineHeight))}x(b,C,T)}t.outerWidth=t.width=_t(n,h),t.outerHeight=t.height=_t(i,f),t.contentHeight=f,t.contentWidth=h,p&&(t.outerWidth+=p[1]+p[3],t.outerHeight+=p[0]+p[2]);for(var w=0;w<c.length;w++){var E=c[w],K=E.percentWidth;E.width=parseInt(K,10)/100*t.width}return t}function iP(r,e,t,n,i){var a=e==="",s=i&&t.rich[i]||{},o=r.lines,l=s.font||t.font,u=!1,c,f;if(n){var h=s.padding,p=h?h[1]+h[3]:0;if(s.width!=null&&s.width!=="auto"){var v=Yl(s.width,n.width)+p;o.length>0&&v+n.accumWidth>n.width&&(c=e.split(`
`),u=!0),n.accumWidth=v}else{var m=ole(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=m.accumWidth+p,f=m.linesWidths,c=m.lines}}else c=e.split(`
`);for(var y=0;y<c.length;y++){var x=c[y],w=new Qje;if(w.styleName=i,w.text=x,w.isLineHolder=!x&&!a,typeof s.width=="number"?w.width=s.width:w.width=f?f[y]:ho(x,l),!y&&!u){var b=(o[o.length-1]||(o[0]=new y$)).tokens,T=b.length;T===1&&b[0].isLineHolder?b[0]=w:(x||!T||a)&&b.push(w)}else o.push(new y$([w]))}}function tWe(r){var e=r.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var rWe=ol(",&?/;] ".split(""),function(r,e){return r[e]=!0,r},{});function nWe(r){return tWe(r)?!!rWe[r]:!0}function ole(r,e,t,n,i){for(var a=[],s=[],o="",l="",u=0,c=0,f=0;f<r.length;f++){var h=r.charAt(f);if(h===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var p=ho(h,e),v=n?!1:!nWe(h);if(a.length?c+p>t:i+c+p>t){c?(o||l)&&(v?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=h,u+=p,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=h,c=p)):v?(a.push(l),s.push(u),l=h,u=p):(a.push(h),s.push(p));continue}c+=p,v?(l+=h,u+=p):(l&&(o+=l,l="",u=0),o+=h)}return!a.length&&!o&&(o=r,l="",u=0),l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:s}}var l4="__zr_style_"+Math.round(Math.random()*10),yv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},WD={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};yv[l4]=!0;var _$=["z","z2","invisible"],iWe=["invisible"],ll=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype._init=function(t){for(var n=Gt(t),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(t[a]):r.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&aWe(this,t,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,n){return this.rectContain(t,n)},e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.rectContain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Ct(0,0,0,0)),n?Ct.applyTransform(t,i,n):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Ct(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,n){t!=="style"?r.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,n){return typeof t=="string"?this.style[t]=n:De(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=H_,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&H_)},e.prototype.styleUpdated=function(){this.__dirty&=~H_},e.prototype.createStyle=function(t){return Ab(yv,t)},e.prototype.useStyle=function(t){t[l4]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[l4]},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,_$)},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.style?s?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Gt(c),h=0;h<f.length;h++){var p=f[h];p in u&&(u[p]=u[p],this.style[p]=c[p])}for(var v=Gt(u),h=0;h<v.length;h++){var p=v[h];this.style[p]=this.style[p]}this._transitionState(t,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?iWe:_$,h=0;h<m.length;h++){var p=m[h];n&&n[p]!=null?this[p]=n[p]:l&&i[p]!=null&&(this[p]=i[p])}},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,n){return De(t,n),t},e.prototype.getAnimationStyleProps=function(){return WD},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=ao|H_}(),e}(UD),aP=new Ct(0,0,0,0),sP=new Ct(0,0,0,0);function aWe(r,e,t){return aP.copy(r.getBoundingRect()),r.transform&&aP.applyTransform(r.transform),sP.width=e,sP.height=t,!aP.intersect(sP)}var Ls=Math.min,Os=Math.max,oP=Math.sin,lP=Math.cos,pp=Math.PI*2,e2=wd(),t2=wd(),r2=wd();function $D(r,e,t){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<r.length;l++)n=r[l],i=Ls(i,n[0]),a=Os(a,n[0]),s=Ls(s,n[1]),o=Os(o,n[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function x$(r,e,t,n,i,a){i[0]=Ls(r,t),i[1]=Ls(e,n),a[0]=Os(r,t),a[1]=Os(e,n)}var w$=[],b$=[];function sWe(r,e,t,n,i,a,s,o,l,u){var c=Toe,f=Ci,h=c(r,t,i,s,w$);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<h;p++){var v=f(r,t,i,s,w$[p]);l[0]=Ls(v,l[0]),u[0]=Os(v,u[0])}h=c(e,n,a,o,b$);for(var p=0;p<h;p++){var m=f(e,n,a,o,b$[p]);l[1]=Ls(m,l[1]),u[1]=Os(m,u[1])}l[0]=Ls(r,l[0]),u[0]=Os(r,u[0]),l[0]=Ls(s,l[0]),u[0]=Os(s,u[0]),l[1]=Ls(e,l[1]),u[1]=Os(e,u[1]),l[1]=Ls(o,l[1]),u[1]=Os(o,u[1])}function oWe(r,e,t,n,i,a,s,o){var l=Eoe,u=Wi,c=Os(Ls(l(r,t,i),1),0),f=Os(Ls(l(e,n,a),1),0),h=u(r,t,i,c),p=u(e,n,a,f);s[0]=Ls(r,i,h),s[1]=Ls(e,a,p),o[0]=Os(r,i,h),o[1]=Os(e,a,p)}function lWe(r,e,t,n,i,a,s,o,l){var u=Yc,c=Xc,f=Math.abs(i-a);if(f%pp<1e-4&&f>1e-4){o[0]=r-t,o[1]=e-n,l[0]=r+t,l[1]=e+n;return}if(e2[0]=lP(i)*t+r,e2[1]=oP(i)*n+e,t2[0]=lP(a)*t+r,t2[1]=oP(a)*n+e,u(o,e2,t2),c(l,e2,t2),i=i%pp,i<0&&(i=i+pp),a=a%pp,a<0&&(a=a+pp),i>a&&!s?a+=pp:i<a&&s&&(i+=pp),s){var h=a;a=i,i=h}for(var p=0;p<a;p+=Math.PI/2)p>i&&(r2[0]=lP(p)*t+r,r2[1]=oP(p)*n+e,u(o,r2,o),c(l,r2,l))}var zr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},vp=[],gp=[],mu=[],Qf=[],yu=[],_u=[],uP=Math.min,cP=Math.max,mp=Math.cos,yp=Math.sin,Pc=Math.abs,u4=Math.PI,oh=u4*2,fP=typeof Float32Array<"u",i_=[];function hP(r){var e=Math.round(r/u4*1e8)/1e8;return e%2*u4}function EB(r,e){var t=hP(r[0]);t<0&&(t+=oh);var n=t-r[0],i=r[1];i+=n,!e&&i-t>=oh?i=t+oh:e&&t-i>=oh?i=t-oh:!e&&t>i?i=t+(oh-hP(t-i)):e&&t<i&&(i=t-(oh-hP(i-t))),r[0]=t,r[1]=i}var ic=function(){function r(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=Pc(n/KE/e)||0,this._uy=Pc(n/KE/t)||0)},r.prototype.setDPR=function(e){this.dpr=e},r.prototype.setContext=function(e){this._ctx=e},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(zr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},r.prototype.lineTo=function(e,t){var n=Pc(e-this._xi),i=Pc(t-this._yi),a=n>this._ux||i>this._uy;if(this.addData(zr.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){return this._drawPendingPt(),this.addData(zr.C,e,t,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,a,s),this._xi=a,this._yi=s,this},r.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(zr.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(e,t,n,i,a,s){this._drawPendingPt(),i_[0]=i,i_[1]=a,EB(i_,s),i=i_[0],a=i_[1];var o=a-i;return this.addData(zr.A,e,t,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,i,a,s),this._xi=mp(a)*n+e,this._yi=yp(a)*n+t,this},r.prototype.arcTo=function(e,t,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,a),this},r.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(zr.R,e,t,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(zr.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},r.prototype.fill=function(e){e&&e.fill(),this.toStatic()},r.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&fP&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},r.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,a=0;a<t;a++)n+=e[a].len();fP&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<t;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},r.prototype.addData=function(e,t,n,i,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,fP&&this._len>11&&(this.data=new Float32Array(e)))}},r.prototype.getBoundingRect=function(){mu[0]=mu[1]=yu[0]=yu[1]=Number.MAX_VALUE,Qf[0]=Qf[1]=_u[0]=_u[1]=-Number.MAX_VALUE;var e=this.data,t=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],n=e[s+1],i=t,a=n),o){case zr.M:t=i=e[s++],n=a=e[s++],yu[0]=i,yu[1]=a,_u[0]=i,_u[1]=a;break;case zr.L:x$(t,n,e[s],e[s+1],yu,_u),t=e[s++],n=e[s++];break;case zr.C:sWe(t,n,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],yu,_u),t=e[s++],n=e[s++];break;case zr.Q:oWe(t,n,e[s++],e[s++],e[s],e[s+1],yu,_u),t=e[s++],n=e[s++];break;case zr.A:var u=e[s++],c=e[s++],f=e[s++],h=e[s++],p=e[s++],v=e[s++]+p;s+=1;var m=!e[s++];l&&(i=mp(p)*f+u,a=yp(p)*h+c),lWe(u,c,f,h,p,v,m,yu,_u),t=mp(v)*f+u,n=yp(v)*h+c;break;case zr.R:i=t=e[s++],a=n=e[s++];var y=e[s++],x=e[s++];x$(i,a,i+y,a+x,yu,_u);break;case zr.Z:t=i,n=a;break}Yc(mu,mu,yu),Xc(Qf,Qf,_u)}return s===0&&(mu[0]=mu[1]=Qf[0]=Qf[1]=0),new Ct(mu[0],mu[1],Qf[0]-mu[0],Qf[1]-mu[1])},r.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<t;){var p=e[h++],v=h===1;v&&(a=e[h],s=e[h+1],o=a,l=s);var m=-1;switch(p){case zr.M:a=o=e[h++],s=l=e[h++];break;case zr.L:{var y=e[h++],x=e[h++],w=y-a,b=x-s;(Pc(w)>n||Pc(b)>i||h===t-1)&&(m=Math.sqrt(w*w+b*b),a=y,s=x);break}case zr.C:{var T=e[h++],C=e[h++],y=e[h++],x=e[h++],D=e[h++],E=e[h++];m=TGe(a,s,T,C,y,x,D,E,10),a=D,s=E;break}case zr.Q:{var T=e[h++],C=e[h++],y=e[h++],x=e[h++];m=EGe(a,s,T,C,y,x,10),a=y,s=x;break}case zr.A:var R=e[h++],M=e[h++],k=e[h++],L=e[h++],O=e[h++],N=e[h++],W=N+O;h+=1,v&&(o=mp(O)*k+R,l=yp(O)*L+M),m=cP(k,L)*uP(oh,Math.abs(N)),a=mp(W)*k+R,s=yp(W)*L+M;break;case zr.R:{o=a=e[h++],l=s=e[h++];var U=e[h++],z=e[h++];m=U*2+z*2;break}case zr.Z:{var w=o-a,b=l-s;m=Math.sqrt(w*w+b*b),a=o,s=l;break}}m>=0&&(u[f++]=m,c+=m)}return this._pathLen=c,c},r.prototype.rebuildPath=function(e,t){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,c,f,h,p=t<1,v,m,y=0,x=0,w,b=0,T,C;if(!(p&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,m=this._pathLen,w=t*m,!w)))e:for(var D=0;D<s;){var E=n[D++],R=D===1;switch(R&&(u=n[D],c=n[D+1],o=u,l=c),E!==zr.L&&b>0&&(e.lineTo(T,C),b=0),E){case zr.M:o=u=n[D++],l=c=n[D++],e.moveTo(u,c);break;case zr.L:{f=n[D++],h=n[D++];var M=Pc(f-u),k=Pc(h-c);if(M>i||k>a){if(p){var L=v[x++];if(y+L>w){var O=(w-y)/L;e.lineTo(u*(1-O)+f*O,c*(1-O)+h*O);break e}y+=L}e.lineTo(f,h),u=f,c=h,b=0}else{var N=M*M+k*k;N>b&&(T=f,C=h,b=N)}break}case zr.C:{var W=n[D++],U=n[D++],z=n[D++],Y=n[D++],re=n[D++],K=n[D++];if(p){var L=v[x++];if(y+L>w){var O=(w-y)/L;ud(u,W,z,re,O,vp),ud(c,U,Y,K,O,gp),e.bezierCurveTo(vp[1],gp[1],vp[2],gp[2],vp[3],gp[3]);break e}y+=L}e.bezierCurveTo(W,U,z,Y,re,K),u=re,c=K;break}case zr.Q:{var W=n[D++],U=n[D++],z=n[D++],Y=n[D++];if(p){var L=v[x++];if(y+L>w){var O=(w-y)/L;gw(u,W,z,O,vp),gw(c,U,Y,O,gp),e.quadraticCurveTo(vp[1],gp[1],vp[2],gp[2]);break e}y+=L}e.quadraticCurveTo(W,U,z,Y),u=z,c=Y;break}case zr.A:var q=n[D++],Q=n[D++],j=n[D++],J=n[D++],te=n[D++],se=n[D++],de=n[D++],Oe=!n[D++],Ae=j>J?j:J,ye=Pc(j-J)>.001,Se=te+se,me=!1;if(p){var L=v[x++];y+L>w&&(Se=te+se*(w-y)/L,me=!0),y+=L}if(ye&&e.ellipse?e.ellipse(q,Q,j,J,de,te,Se,Oe):e.arc(q,Q,Ae,te,Se,Oe),me)break e;R&&(o=mp(te)*j+q,l=yp(te)*J+Q),u=mp(Se)*j+q,c=yp(Se)*J+Q;break;case zr.R:o=u=n[D],l=c=n[D+1],f=n[D++],h=n[D++];var ee=n[D++],mt=n[D++];if(p){var L=v[x++];if(y+L>w){var rt=w-y;e.moveTo(f,h),e.lineTo(f+uP(rt,ee),h),rt-=ee,rt>0&&e.lineTo(f+ee,h+uP(rt,mt)),rt-=mt,rt>0&&e.lineTo(f+cP(ee-rt,0),h+mt),rt-=ee,rt>0&&e.lineTo(f,h+cP(mt-rt,0));break e}y+=L}e.rect(f,h,ee,mt);break;case zr.Z:if(p){var L=v[x++];if(y+L>w){var O=(w-y)/L;e.lineTo(u*(1-O)+o*O,c*(1-O)+l*O);break e}y+=L}e.closePath(),u=o,c=l}}},r.prototype.clone=function(){var e=new r,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},r.CMD=zr,r.initDefaultProps=function(){var e=r.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),r}();function uh(r,e,t,n,i,a,s){if(i===0)return!1;var o=i,l=0,u=r;if(s>e+o&&s>n+o||s<e-o&&s<n-o||a>r+o&&a>t+o||a<r-o&&a<t-o)return!1;if(r!==t)l=(e-n)/(r-t),u=(r*n-t*e)/(r-t);else return Math.abs(a-r)<=o/2;var c=l*a-s+u,f=c*c/(l*l+1);return f<=o/2*o/2}function uWe(r,e,t,n,i,a,s,o,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>n+f&&c>a+f&&c>o+f||c<e-f&&c<n-f&&c<a-f&&c<o-f||u>r+f&&u>t+f&&u>i+f&&u>s+f||u<r-f&&u<t-f&&u<i-f&&u<s-f)return!1;var h=Aoe(r,e,t,n,i,a,s,o,u,c,null);return h<=f/2}function lle(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>e+u&&l>n+u&&l>a+u||l<e-u&&l<n-u&&l<a-u||o>r+u&&o>t+u&&o>i+u||o<r-u&&o<t-u&&o<i-u)return!1;var c=Coe(r,e,t,n,i,a,o,l,null);return c<=u/2}var S$=Math.PI*2;function fo(r){return r%=S$,r<0&&(r+=S$),r}var a_=Math.PI*2;function cWe(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var u=s;o-=r,l-=e;var c=Math.sqrt(o*o+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(n-i)%a_<1e-4)return!0;if(a){var f=n;n=fo(i),i=fo(f)}else n=fo(n),i=fo(i);n>i&&(i+=a_);var h=Math.atan2(l,o);return h<0&&(h+=a_),h>=n&&h<=i||h+a_>=n&&h+a_<=i}function Uc(r,e,t,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var s=(a-e)/(n-e),o=n<e?1:-1;(s===1||s===0)&&(o=n<e?.5:-.5);var l=s*(t-r)+r;return l===i?1/0:l>i?o:0}var Jf=ic.CMD,_p=Math.PI*2,fWe=1e-4;function hWe(r,e){return Math.abs(r-e)<fWe}var as=[-1,-1,-1],$o=[-1,-1];function dWe(){var r=$o[0];$o[0]=$o[1],$o[1]=r}function pWe(r,e,t,n,i,a,s,o,l,u){if(u>e&&u>n&&u>a&&u>o||u<e&&u<n&&u<a&&u<o)return 0;var c=$E(e,n,a,o,u,as);if(c===0)return 0;for(var f=0,h=-1,p=void 0,v=void 0,m=0;m<c;m++){var y=as[m],x=y===0||y===1?.5:1,w=Ci(r,t,i,s,y);w<l||(h<0&&(h=Toe(e,n,a,o,$o),$o[1]<$o[0]&&h>1&&dWe(),p=Ci(e,n,a,o,$o[0]),h>1&&(v=Ci(e,n,a,o,$o[1]))),h===2?y<$o[0]?f+=p<e?x:-x:y<$o[1]?f+=v<p?x:-x:f+=o<v?x:-x:y<$o[0]?f+=p<e?x:-x:f+=o<p?x:-x)}return f}function vWe(r,e,t,n,i,a,s,o){if(o>e&&o>n&&o>a||o<e&&o<n&&o<a)return 0;var l=AGe(e,n,a,o,as);if(l===0)return 0;var u=Eoe(e,n,a);if(u>=0&&u<=1){for(var c=0,f=Wi(e,n,a,u),h=0;h<l;h++){var p=as[h]===0||as[h]===1?.5:1,v=Wi(r,t,i,as[h]);v<s||(as[h]<u?c+=f<e?p:-p:c+=a<f?p:-p)}return c}else{var p=as[0]===0||as[0]===1?.5:1,v=Wi(r,t,i,as[0]);return v<s?0:a<e?p:-p}}function gWe(r,e,t,n,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);as[0]=-l,as[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=_p-1e-4){n=0,i=_p;var c=a?1:-1;return s>=as[0]+r&&s<=as[1]+r?c:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=_p,i+=_p);for(var h=0,p=0;p<2;p++){var v=as[p];if(v+r>s){var m=Math.atan2(o,v),c=a?1:-1;m<0&&(m=_p+m),(m>=n&&m<=i||m+_p>=n&&m+_p<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),h+=c)}}return h}function ule(r,e,t,n,i){for(var a=r.data,s=r.len(),o=0,l=0,u=0,c=0,f=0,h,p,v=0;v<s;){var m=a[v++],y=v===1;switch(m===Jf.M&&v>1&&(t||(o+=Uc(l,u,c,f,n,i))),y&&(l=a[v],u=a[v+1],c=l,f=u),m){case Jf.M:c=a[v++],f=a[v++],l=c,u=f;break;case Jf.L:if(t){if(uh(l,u,a[v],a[v+1],e,n,i))return!0}else o+=Uc(l,u,a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Jf.C:if(t){if(uWe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else o+=pWe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Jf.Q:if(t){if(lle(l,u,a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else o+=vWe(l,u,a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Jf.A:var x=a[v++],w=a[v++],b=a[v++],T=a[v++],C=a[v++],D=a[v++];v+=1;var E=!!(1-a[v++]);h=Math.cos(C)*b+x,p=Math.sin(C)*T+w,y?(c=h,f=p):o+=Uc(l,u,h,p,n,i);var R=(n-x)*T/b+x;if(t){if(cWe(x,w,T,C,C+D,E,e,R,i))return!0}else o+=gWe(x,w,T,C,C+D,E,R,i);l=Math.cos(C+D)*b+x,u=Math.sin(C+D)*T+w;break;case Jf.R:c=l=a[v++],f=u=a[v++];var M=a[v++],k=a[v++];if(h=c+M,p=f+k,t){if(uh(c,f,h,f,e,n,i)||uh(h,f,h,p,e,n,i)||uh(h,p,c,p,e,n,i)||uh(c,p,c,f,e,n,i))return!0}else o+=Uc(h,f,h,p,n,i),o+=Uc(c,p,c,f,n,i);break;case Jf.Z:if(t){if(uh(l,u,c,f,e,n,i))return!0}else o+=Uc(l,u,c,f,n,i);l=c,u=f;break}}return!t&&!hWe(u,f)&&(o+=Uc(l,u,c,f,n,i)||0),o!==0}function mWe(r,e,t){return ule(r,0,!1,e,t)}function yWe(r,e,t,n){return ule(r,e,!0,t,n)}var QE=ut({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},yv),_We={style:ut({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},WD.style)},dP=rc.concat(["invisible","culling","z","z2","zlevel","parent"]),Ht=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.update=function(){var t=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<dP.length;++o)i[dP[o]]=this[dP[o]];i.__dirty|=ao}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var n=Gt(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=t[s];s==="style"?this.style?De(this.style,o):this.useStyle(o):s==="shape"?De(this.shape,o):r.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if($e(t)){var n=_w(t,0);return n>.5?e4:n>.2?nje:t4}else if(t)return t4}return e4},e.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if($e(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=_w(t,0)<JN;if(a===s)return n}},e.prototype.buildPath=function(t,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~O0},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new ic(!1)},e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&O0)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return t},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),s=this.style;if(t=i[0],n=i[1],a.contain(t,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),yWe(o,l/u,t,n)))return!0}if(this.hasFill())return mWe(o,t,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=O0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):r.prototype.attrKV.call(this,t,n)},e.prototype.setShape=function(t,n){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=n:De(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&O0)},e.prototype.createStyle=function(t){return Ab(QE,t)},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=De({},this.shape))},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.shape?s?a?u=n.shape:(u=De({},i.shape),De(u,n.shape)):(u=De({},a?this.shape:i.shape),De(u,n.shape)):l&&(u=i.shape),u)if(s){this.shape=De({},this.shape);for(var c={},f=Gt(u),h=0;h<f.length;h++){var p=f[h];typeof u[p]=="object"?this.shape[p]=u[p]:c[p]=u[p]}this._transitionState(t,{shape:c},o)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return _We},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(a){Jr(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return ht(t.style)},s.prototype.getDefaultShape=function(){return ht(t.shape)},s}(e);for(var i in t)typeof t[i]=="function"&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=ao|H_|O0}(),e}(ll),xWe=ut({strokeFirst:!0,font:ld,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},QE),Ym=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return n!=null&&n!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(t){return Ab(xWe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var n=t.text;n!=null?n+="":n="";var i=Db(n,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(ll);Ym.prototype.type="tspan";var wWe=ut({x:0,y:0},yv),bWe={style:ut({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},WD.style)};function SWe(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var Ni=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return Ab(wWe,t)},e.prototype._getSize=function(t){var n=this.style,i=n[t];if(i!=null)return i;var a=SWe(n.image)?n.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=n[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return bWe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Ct(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(ll);Ni.prototype.type="image";function TWe(r,e){var t=e.x,n=e.y,i=e.width,a=e.height,s=e.r,o,l,u,c;i<0&&(t=t+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var f;o+l>i&&(f=o+l,o*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),o+c>a&&(f=o+c,o*=a/f,c*=a/f),r.moveTo(t+o,n),r.lineTo(t+i-l,n),l!==0&&r.arc(t+i-l,n+l,l,-Math.PI/2,0),r.lineTo(t+i,n+a-u),u!==0&&r.arc(t+i-u,n+a-u,u,0,Math.PI/2),r.lineTo(t+c,n+a),c!==0&&r.arc(t+c,n+a-c,c,Math.PI/2,Math.PI),r.lineTo(t,n+o),o!==0&&r.arc(t+o,n+o,o,Math.PI,Math.PI*1.5)}var J0=Math.round;function cle(r,e,t){if(e){var n=e.x1,i=e.x2,a=e.y1,s=e.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=s;var o=t&&t.lineWidth;return o&&(J0(n*2)===J0(i*2)&&(r.x1=r.x2=rv(n,o,!0)),J0(a*2)===J0(s*2)&&(r.y1=r.y2=rv(a,o,!0))),r}}function fle(r,e,t){if(e){var n=e.x,i=e.y,a=e.width,s=e.height;r.x=n,r.y=i,r.width=a,r.height=s;var o=t&&t.lineWidth;return o&&(r.x=rv(n,o,!0),r.y=rv(i,o,!0),r.width=Math.max(rv(n+a,o,!1)-r.x,a===0?0:1),r.height=Math.max(rv(i+s,o,!1)-r.y,s===0?0:1)),r}}function rv(r,e,t){if(!e)return r;var n=J0(r*2);return(n+J0(e))%2===0?n/2:(n+(t?1:-1))/2}var AWe=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),EWe={},Xt=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new AWe},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=fle(EWe,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?TWe(t,n):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ht);Xt.prototype.type="rect";var T$={fill:"#000"},A$=2,CWe={style:ut({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},WD.style)},Yt=function(r){Jr(e,r);function e(t){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=T$,n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):r.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):r.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,RWe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Ct(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||T$},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,n){if(!n)return t;var i=n.rich,a=t.rich||i&&{};return De(t,n),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,n){for(var i=Gt(n),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},De(t[s],n[s])}},e.prototype.getAnimationStyleProps=function(){return CWe},e.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||ld,i=t.padding,a=k$(t),s=Zje(a,t),o=pP(t),l=!!t.backgroundColor,u=s.outerHeight,c=s.outerWidth,f=s.contentWidth,h=s.lines,p=s.lineHeight,v=this._defaultStyle;this.isTruncated=!!s.isTruncated;var m=t.x||0,y=t.y||0,x=t.align||v.align||"left",w=t.verticalAlign||v.verticalAlign||"top",b=m,T=N0(y,s.contentHeight,w);if(o||i){var C=j_(m,c,x),D=N0(y,u,w);o&&this._renderBackground(t,t,C,D,c,u)}T+=p/2,i&&(b=M$(m,x,i),w==="top"?T+=i[0]:w==="bottom"&&(T-=i[2]));for(var E=0,R=!1,M=R$("fill"in t?t.fill:(R=!0,v.fill)),k=I$("stroke"in t?t.stroke:!l&&(!v.autoStroke||R)?(E=A$,v.stroke):null),L=t.textShadowBlur>0,O=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),N=s.calculatedLineHeight,W=0;W<h.length;W++){var U=this._getOrCreateChild(Ym),z=U.createStyle();U.useStyle(z),z.text=h[W],z.x=b,z.y=T,z.textAlign=x,z.textBaseline="middle",z.opacity=t.opacity,z.strokeFirst=!0,L&&(z.shadowBlur=t.textShadowBlur||0,z.shadowColor=t.textShadowColor||"transparent",z.shadowOffsetX=t.textShadowOffsetX||0,z.shadowOffsetY=t.textShadowOffsetY||0),z.stroke=k,z.fill=M,k&&(z.lineWidth=t.lineWidth||E,z.lineDash=t.lineDash,z.lineDashOffset=t.lineDashOffset||0),z.font=n,C$(z,t),T+=p,O&&U.setBoundingRect(new Ct(j_(z.x,f,z.textAlign),N0(z.y,N,z.textBaseline),f,N))}},e.prototype._updateRichTexts=function(){var t=this.style,n=k$(t),i=eWe(n,t),a=i.width,s=i.outerWidth,o=i.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,f=this._defaultStyle,h=t.align||f.align,p=t.verticalAlign||f.verticalAlign;this.isTruncated=!!i.isTruncated;var v=j_(u,s,h),m=N0(c,o,p),y=v,x=m;l&&(y+=l[3],x+=l[0]);var w=y+a;pP(t)&&this._renderBackground(t,t,v,m,s,o);for(var b=!!t.backgroundColor,T=0;T<i.lines.length;T++){for(var C=i.lines[T],D=C.tokens,E=D.length,R=C.lineHeight,M=C.width,k=0,L=y,O=w,N=E-1,W=void 0;k<E&&(W=D[k],!W.align||W.align==="left");)this._placeToken(W,t,R,x,L,"left",b),M-=W.width,L+=W.width,k++;for(;N>=0&&(W=D[N],W.align==="right");)this._placeToken(W,t,R,x,O,"right",b),M-=W.width,O-=W.width,N--;for(L+=(a-(L-y)-(w-O)-M)/2;k<=N;)W=D[k],this._placeToken(W,t,R,x,L+W.width/2,"center",b),L+=W.width,k++;x+=R}},e.prototype._placeToken=function(t,n,i,a,s,o,l){var u=n.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+i/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+i-t.height/2);var h=!t.isLineHolder&&pP(u);h&&this._renderBackground(u,n,o==="right"?s-t.width:o==="center"?s-t.width/2:s,f-t.height/2,t.width,t.height);var p=!!u.backgroundColor,v=t.textPadding;v&&(s=M$(s,o,v),f-=t.height/2-v[0]-t.innerHeight/2);var m=this._getOrCreateChild(Ym),y=m.createStyle();m.useStyle(y);var x=this._defaultStyle,w=!1,b=0,T=R$("fill"in u?u.fill:"fill"in n?n.fill:(w=!0,x.fill)),C=I$("stroke"in u?u.stroke:"stroke"in n?n.stroke:!p&&!l&&(!x.autoStroke||w)?(b=A$,x.stroke):null),D=u.textShadowBlur>0||n.textShadowBlur>0;y.text=t.text,y.x=s,y.y=f,D&&(y.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,y.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=o,y.textBaseline="middle",y.font=t.font||ld,y.opacity=Bl(u.opacity,n.opacity,1),C$(y,u),C&&(y.lineWidth=Bl(u.lineWidth,n.lineWidth,b),y.lineDash=_t(u.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=C),T&&(y.fill=T);var E=t.contentWidth,R=t.contentHeight;m.setBoundingRect(new Ct(j_(y.x,E,y.textAlign),N0(y.y,R,y.textBaseline),E,R))},e.prototype._renderBackground=function(t,n,i,a,s,o){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,h=l&&!f,p=t.borderRadius,v=this,m,y;if(h||t.lineHeight||u&&c){m=this._getOrCreateChild(Xt),m.useStyle(m.createStyle()),m.style.fill=null;var x=m.shape;x.x=i,x.y=a,x.width=s,x.height=o,x.r=p,m.dirtyShape()}if(h){var w=m.style;w.fill=l||null,w.fillOpacity=_t(t.fillOpacity,1)}else if(f){y=this._getOrCreateChild(Ni),y.onload=function(){v.dirtyStyle()};var b=y.style;b.image=l.image,b.x=i,b.y=a,b.width=s,b.height=o}if(u&&c){var w=m.style;w.lineWidth=u,w.stroke=c,w.strokeOpacity=_t(t.strokeOpacity,1),w.lineDash=t.borderDash,w.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var T=(m||y).style;T.shadowBlur=t.shadowBlur||0,T.shadowColor=t.shadowColor||"transparent",T.shadowOffsetX=t.shadowOffsetX||0,T.shadowOffsetY=t.shadowOffsetY||0,T.opacity=Bl(t.opacity,n.opacity,1)},e.makeFont=function(t){var n="";return dle(t)&&(n=[t.fontStyle,t.fontWeight,hle(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&Qo(n)||t.textFont||t.font},e}(ll),DWe={left:!0,right:1,center:1},IWe={top:1,bottom:1,middle:1},E$=["fontStyle","fontWeight","fontSize","fontFamily"];function hle(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?sB+"px":r+"px"}function C$(r,e){for(var t=0;t<E$.length;t++){var n=E$[t],i=e[n];i!=null&&(r[n]=i)}}function dle(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function RWe(r){return D$(r),B(r.rich,D$),r}function D$(r){if(r){r.font=Yt.makeFont(r);var e=r.align;e==="middle"&&(e="center"),r.align=e==null||DWe[e]?e:"left";var t=r.verticalAlign;t==="center"&&(t="middle"),r.verticalAlign=t==null||IWe[t]?t:"top";var n=r.padding;n&&(r.padding=ND(r.padding))}}function I$(r,e){return r==null||e<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function R$(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function M$(r,e,t){return e==="right"?r-t[1]:e==="center"?r+t[3]/2-t[1]/2:r+t[3]}function k$(r){var e=r.text;return e!=null&&(e+=""),e}function pP(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var gt=Qt(),c4=function(r,e,t,n){if(n){var i=gt(n);i.dataIndex=t,i.dataType=e,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=gt(a);s.seriesIndex=r,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},P$=1,L$={},ple=Qt(),CB=Qt(),DB=0,Rb=1,qD=2,_s=["emphasis","blur","select"],bw=["normal","emphasis","blur","select"],Sy=10,MWe=9,_v="highlight",mA="downplay",Mx="select",yA="unselect",kx="toggleSelect";function f0(r){return r!=null&&r!=="none"}function YD(r,e,t){r.onHoverStateChange&&(r.hoverState||0)!==t&&r.onHoverStateChange(e),r.hoverState=t}function vle(r){YD(r,"emphasis",qD)}function gle(r){r.hoverState===qD&&YD(r,"normal",DB)}function IB(r){YD(r,"blur",Rb)}function mle(r){r.hoverState===Rb&&YD(r,"normal",DB)}function kWe(r){r.selected=!0}function PWe(r){r.selected=!1}function O$(r,e,t){e(r,t)}function Af(r,e,t){O$(r,e,t),r.isGroup&&r.traverse(function(n){O$(n,e,t)})}function JE(r,e){switch(e){case"emphasis":r.hoverState=qD;break;case"normal":r.hoverState=DB;break;case"blur":r.hoverState=Rb;break;case"select":r.selected=!0}}function LWe(r,e,t,n){for(var i=r.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<r.animators.length;s++){var u=r.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function OWe(r,e,t,n){var i=t&&Dt(t,"select")>=0,a=!1;if(r instanceof Ht){var s=ple(r),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(f0(o)||f0(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=De({},n),u=De({},u),u.fill=o):!f0(u.fill)&&f0(o)?(a=!0,n=De({},n),u=De({},u),u.fill=YE(o)):!f0(u.stroke)&&f0(l)&&(a||(n=De({},n),u=De({},u)),u.stroke=YE(l)),n.style=u}}if(n&&n.z2==null){a||(n=De({},n));var c=r.z2EmphasisLift;n.z2=r.z2+(c??Sy)}return n}function NWe(r,e,t){if(t&&t.z2==null){t=De({},t);var n=r.z2SelectLift;t.z2=r.z2+(n??MWe)}return t}function FWe(r,e,t){var n=Dt(r.currentStates,e)>=0,i=r.style.opacity,a=n?null:LWe(r,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=De({},t),s=De({opacity:n?i:a.opacity*.1},s),t.style=s),t}function vP(r,e){var t=this.states[r];if(this.style){if(r==="emphasis")return OWe(this,r,e,t);if(r==="blur")return FWe(this,r,t);if(r==="select")return NWe(this,r,t)}return t}function Hv(r){r.stateProxy=vP;var e=r.getTextContent(),t=r.getTextGuideLine();e&&(e.stateProxy=vP),t&&(t.stateProxy=vP)}function N$(r,e){!wle(r,e)&&!r.__highByOuter&&Af(r,vle)}function F$(r,e){!wle(r,e)&&!r.__highByOuter&&Af(r,gle)}function gf(r,e){r.__highByOuter|=1<<(e||0),Af(r,vle)}function mf(r,e){!(r.__highByOuter&=~(1<<(e||0)))&&Af(r,gle)}function yle(r){Af(r,IB)}function RB(r){Af(r,mle)}function _le(r){Af(r,kWe)}function xle(r){Af(r,PWe)}function wle(r,e){return r.__highDownSilentOnTouch&&e.zrByTouch}function ble(r){var e=r.getModel(),t=[],n=[];e.eachComponent(function(i,a){var s=CB(a),o=i==="series",l=o?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){mle(u)}),o&&t.push(a)),s.isBlured=!1}),B(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function f4(r,e,t,n){var i=n.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&RB(h)}}if(r!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(r),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var c=s===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&o?f===o:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var p=n.getViewOfSeriesModel(u);if(p.group.traverse(function(y){y.__highByOuter&&c&&e==="self"||IB(y)}),va(e))a(u.getData(),e);else if(ct(e))for(var v=Gt(e),m=0;m<v.length;m++)a(u.getData(v[m]),e[v[m]]);l.push(u),CB(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function h4(r,e,t){if(!(r==null||e==null)){var n=t.getModel().getComponent(r,e);if(n){CB(n).isBlured=!0;var i=t.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){IB(a)})}}}function BWe(r,e,t){var n=r.seriesIndex,i=r.getData(e.dataType);if(i){var a=zv(i,e);a=(ke(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=gt(s);f4(n,u.focus,u.blurScope,t)}else{var c=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);c!=null&&f4(n,c,f,t)}}}function MB(r,e,t,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||e==null||t==null)return i;var a=n.getModel().getComponent(r,e);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,u=0;u<o.length;u++)if(gt(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function VWe(r,e,t){var n=gt(r),i=MB(n.componentMainType,n.componentIndex,n.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&h4(n.componentMainType,n.componentIndex,t),B(a,function(o){return N$(o,e)})):(f4(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&h4(n.componentMainType,n.componentIndex,t),N$(r,e))}function zWe(r,e,t){ble(t);var n=gt(r),i=MB(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;i?B(i,function(a){return F$(a,e)}):F$(r,e)}function UWe(r,e,t){if(p4(e)){var n=e.dataType,i=r.getData(n),a=zv(i,e);ke(a)||(a=[a]),r[e.type===kx?"toggleSelect":e.type===Mx?"select":"unselect"](a,n)}}function B$(r){var e=r.getAllData();B(e,function(t){var n=t.data,i=t.type;n.eachItemGraphicEl(function(a,s){r.isSelected(s,i)?_le(a):xle(a)})})}function HWe(r){var e=[];return r.eachSeries(function(t){var n=t.getAllData();B(n,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function Gh(r,e,t){nv(r,!0),Af(r,Hv),d4(r,e,t)}function GWe(r){nv(r,!1)}function dn(r,e,t,n){n?GWe(r):Gh(r,e,t)}function d4(r,e,t){var n=gt(r);e!=null?(n.focus=e,n.blurScope=t):n.focus&&(n.focus=null)}var V$=["emphasis","blur","select"],jWe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ga(r,e,t,n){t=t||"itemStyle";for(var i=0;i<V$.length;i++){var a=V$[i],s=e.getModel([a,t]),o=r.ensureState(a);o.style=n?n(s):s[jWe[t]]()}}function nv(r,e){var t=e===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function Sw(r){return!!(r&&r.__highDownDispatcher)}function WWe(r,e,t){var n=gt(r);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=t}function $We(r){var e=L$[r];return e==null&&P$<=32&&(e=L$[r]=P$++),e}function p4(r){var e=r.type;return e===Mx||e===yA||e===kx}function z$(r){var e=r.type;return e===_v||e===mA}function qWe(r){var e=ple(r);e.normalFill=r.style.fill,e.normalStroke=r.style.stroke;var t=r.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var h0=ic.CMD,YWe=[[],[],[]],U$=Math.sqrt,XWe=Math.atan2;function Sle(r,e){if(e){var t=r.data,n=r.len(),i,a,s,o,l,u,c=h0.M,f=h0.C,h=h0.L,p=h0.R,v=h0.A,m=h0.Q;for(s=0,o=0;s<n;){switch(i=t[s++],o=s,a=0,i){case c:a=1;break;case h:a=1;break;case f:a=3;break;case m:a=2;break;case v:var y=e[4],x=e[5],w=U$(e[0]*e[0]+e[1]*e[1]),b=U$(e[2]*e[2]+e[3]*e[3]),T=XWe(-e[1]/b,e[0]/w);t[s]*=w,t[s++]+=y,t[s]*=b,t[s++]+=x,t[s++]*=w,t[s++]*=b,t[s++]+=T,t[s++]+=T,s+=2,o=s;break;case p:u[0]=t[s++],u[1]=t[s++],Yi(u,u,e),t[o++]=u[0],t[o++]=u[1],u[0]+=t[s++],u[1]+=t[s++],Yi(u,u,e),t[o++]=u[0],t[o++]=u[1]}for(l=0;l<a;l++){var C=YWe[l];C[0]=t[s++],C[1]=t[s++],Yi(C,C,e),t[o++]=C[0],t[o++]=C[1]}}r.increaseVersion()}}var gP=Math.sqrt,n2=Math.sin,i2=Math.cos,s_=Math.PI;function H$(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function v4(r,e){return(r[0]*e[0]+r[1]*e[1])/(H$(r)*H$(e))}function G$(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(v4(r,e))}function j$(r,e,t,n,i,a,s,o,l,u,c){var f=l*(s_/180),h=i2(f)*(r-t)/2+n2(f)*(e-n)/2,p=-1*n2(f)*(r-t)/2+i2(f)*(e-n)/2,v=h*h/(s*s)+p*p/(o*o);v>1&&(s*=gP(v),o*=gP(v));var m=(i===a?-1:1)*gP((s*s*(o*o)-s*s*(p*p)-o*o*(h*h))/(s*s*(p*p)+o*o*(h*h)))||0,y=m*s*p/o,x=m*-o*h/s,w=(r+t)/2+i2(f)*y-n2(f)*x,b=(e+n)/2+n2(f)*y+i2(f)*x,T=G$([1,0],[(h-y)/s,(p-x)/o]),C=[(h-y)/s,(p-x)/o],D=[(-1*h-y)/s,(-1*p-x)/o],E=G$(C,D);if(v4(C,D)<=-1&&(E=s_),v4(C,D)>=1&&(E=0),E<0){var R=Math.round(E/s_*1e6)/1e6;E=s_*2+R%2*s_}c.addData(u,w,b,s,o,T,E,f,a)}var KWe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,ZWe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function QWe(r){var e=new ic;if(!r)return e;var t=0,n=0,i=t,a=n,s,o=ic.CMD,l=r.match(KWe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,p=c.match(ZWe)||[],v=p.length,m=0;m<v;m++)p[m]=parseFloat(p[m]);for(var y=0;y<v;){var x=void 0,w=void 0,b=void 0,T=void 0,C=void 0,D=void 0,E=void 0,R=t,M=n,k=void 0,L=void 0;switch(f){case"l":t+=p[y++],n+=p[y++],h=o.L,e.addData(h,t,n);break;case"L":t=p[y++],n=p[y++],h=o.L,e.addData(h,t,n);break;case"m":t+=p[y++],n+=p[y++],h=o.M,e.addData(h,t,n),i=t,a=n,f="l";break;case"M":t=p[y++],n=p[y++],h=o.M,e.addData(h,t,n),i=t,a=n,f="L";break;case"h":t+=p[y++],h=o.L,e.addData(h,t,n);break;case"H":t=p[y++],h=o.L,e.addData(h,t,n);break;case"v":n+=p[y++],h=o.L,e.addData(h,t,n);break;case"V":n=p[y++],h=o.L,e.addData(h,t,n);break;case"C":h=o.C,e.addData(h,p[y++],p[y++],p[y++],p[y++],p[y++],p[y++]),t=p[y-2],n=p[y-1];break;case"c":h=o.C,e.addData(h,p[y++]+t,p[y++]+n,p[y++]+t,p[y++]+n,p[y++]+t,p[y++]+n),t+=p[y-2],n+=p[y-1];break;case"S":x=t,w=n,k=e.len(),L=e.data,s===o.C&&(x+=t-L[k-4],w+=n-L[k-3]),h=o.C,R=p[y++],M=p[y++],t=p[y++],n=p[y++],e.addData(h,x,w,R,M,t,n);break;case"s":x=t,w=n,k=e.len(),L=e.data,s===o.C&&(x+=t-L[k-4],w+=n-L[k-3]),h=o.C,R=t+p[y++],M=n+p[y++],t+=p[y++],n+=p[y++],e.addData(h,x,w,R,M,t,n);break;case"Q":R=p[y++],M=p[y++],t=p[y++],n=p[y++],h=o.Q,e.addData(h,R,M,t,n);break;case"q":R=p[y++]+t,M=p[y++]+n,t+=p[y++],n+=p[y++],h=o.Q,e.addData(h,R,M,t,n);break;case"T":x=t,w=n,k=e.len(),L=e.data,s===o.Q&&(x+=t-L[k-4],w+=n-L[k-3]),t=p[y++],n=p[y++],h=o.Q,e.addData(h,x,w,t,n);break;case"t":x=t,w=n,k=e.len(),L=e.data,s===o.Q&&(x+=t-L[k-4],w+=n-L[k-3]),t+=p[y++],n+=p[y++],h=o.Q,e.addData(h,x,w,t,n);break;case"A":b=p[y++],T=p[y++],C=p[y++],D=p[y++],E=p[y++],R=t,M=n,t=p[y++],n=p[y++],h=o.A,j$(R,M,t,n,D,E,b,T,C,h,e);break;case"a":b=p[y++],T=p[y++],C=p[y++],D=p[y++],E=p[y++],R=t,M=n,t+=p[y++],n+=p[y++],h=o.A,j$(R,M,t,n,D,E,b,T,C,h,e);break}}(f==="z"||f==="Z")&&(h=o.Z,e.addData(h),t=i,n=a),s=h}return e.toStatic(),e}var Tle=function(r){Jr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(Ht);function Ale(r){return r.setData!=null}function Ele(r,e){var t=QWe(r),n=De({},e);return n.buildPath=function(i){if(Ale(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},n.applyTransform=function(i){Sle(t,i),this.dirtyShape()},n}function Cle(r,e){return new Tle(Ele(r,e))}function JWe(r,e){var t=Ele(r,e),n=function(i){Jr(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a}(Tle);return n}function e$e(r,e){for(var t=[],n=r.length,i=0;i<n;i++){var a=r[i];t.push(a.getUpdatedPathProxy(!0))}var s=new Ht(e);return s.createPathProxy(),s.buildPath=function(o){if(Ale(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function kB(r,e){e=e||{};var t=new Ht;return r.shape&&t.setShape(r.shape),t.setStyle(r.style),e.bakeTransform?Sle(t.path,r.getComputedTransform()):e.toLocal?t.setLocalTransform(r.getComputedTransform()):t.copyTransform(r),t.buildPath=r.buildPath,t.applyTransform=t.applyTransform,t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t}var t$e=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),lc=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new t$e},e.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Ht);lc.prototype.type="circle";var r$e=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Mb=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new r$e},e.prototype.buildPath=function(t,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*i,c=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),t.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),t.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),t.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),t.closePath()},e}(Ht);Mb.prototype.type="ellipse";var Dle=Math.PI,mP=Dle*2,xp=Math.sin,d0=Math.cos,n$e=Math.acos,Ta=Math.atan2,W$=Math.abs,Px=Math.sqrt,W_=Math.max,xu=Math.min,Sl=1e-4;function i$e(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,f=o-a,h=f*l-c*u;if(!(h*h<Sl))return h=(c*(e-a)-f*(r-i))/h,[r+h*l,e+h*u]}function a2(r,e,t,n,i,a,s){var o=r-t,l=e-n,u=(s?a:-a)/Px(o*o+l*l),c=u*l,f=-u*o,h=r+c,p=e+f,v=t+c,m=n+f,y=(h+v)/2,x=(p+m)/2,w=v-h,b=m-p,T=w*w+b*b,C=i-a,D=h*m-v*p,E=(b<0?-1:1)*Px(W_(0,C*C*T-D*D)),R=(D*b-w*E)/T,M=(-D*w-b*E)/T,k=(D*b+w*E)/T,L=(-D*w+b*E)/T,O=R-y,N=M-x,W=k-y,U=L-x;return O*O+N*N>W*W+U*U&&(R=k,M=L),{cx:R,cy:M,x0:-c,y0:-f,x1:R*(i/C-1),y1:M*(i/C-1)}}function a$e(r){var e;if(ke(r)){var t=r.length;if(!t)return r;t===1?e=[r[0],r[0],0,0]:t===2?e=[r[0],r[0],r[1],r[1]]:t===3?e=r.concat(r[2]):e=r}else e=[r,r,r,r];return e}function s$e(r,e){var t,n=W_(e.r,0),i=W_(e.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,h=!!e.clockwise,p=W$(u-l),v=p>mP&&p%mP;if(v>Sl&&(p=v),!(n>Sl))r.moveTo(c,f);else if(p>mP-Sl)r.moveTo(c+n*d0(l),f+n*xp(l)),r.arc(c,f,n,l,u,!h),i>Sl&&(r.moveTo(c+i*d0(u),f+i*xp(u)),r.arc(c,f,i,u,l,h));else{var m=void 0,y=void 0,x=void 0,w=void 0,b=void 0,T=void 0,C=void 0,D=void 0,E=void 0,R=void 0,M=void 0,k=void 0,L=void 0,O=void 0,N=void 0,W=void 0,U=n*d0(l),z=n*xp(l),Y=i*d0(u),re=i*xp(u),K=p>Sl;if(K){var q=e.cornerRadius;q&&(t=a$e(q),m=t[0],y=t[1],x=t[2],w=t[3]);var Q=W$(n-i)/2;if(b=xu(Q,x),T=xu(Q,w),C=xu(Q,m),D=xu(Q,y),M=E=W_(b,T),k=R=W_(C,D),(E>Sl||R>Sl)&&(L=n*d0(u),O=n*xp(u),N=i*d0(l),W=i*xp(l),p<Dle)){var j=i$e(U,z,N,W,L,O,Y,re);if(j){var J=U-j[0],te=z-j[1],se=L-j[0],de=O-j[1],Oe=1/xp(n$e((J*se+te*de)/(Px(J*J+te*te)*Px(se*se+de*de)))/2),Ae=Px(j[0]*j[0]+j[1]*j[1]);M=xu(E,(n-Ae)/(Oe+1)),k=xu(R,(i-Ae)/(Oe-1))}}}if(!K)r.moveTo(c+U,f+z);else if(M>Sl){var ye=xu(x,M),Se=xu(w,M),me=a2(N,W,U,z,n,ye,h),ee=a2(L,O,Y,re,n,Se,h);r.moveTo(c+me.cx+me.x0,f+me.cy+me.y0),M<E&&ye===Se?r.arc(c+me.cx,f+me.cy,M,Ta(me.y0,me.x0),Ta(ee.y0,ee.x0),!h):(ye>0&&r.arc(c+me.cx,f+me.cy,ye,Ta(me.y0,me.x0),Ta(me.y1,me.x1),!h),r.arc(c,f,n,Ta(me.cy+me.y1,me.cx+me.x1),Ta(ee.cy+ee.y1,ee.cx+ee.x1),!h),Se>0&&r.arc(c+ee.cx,f+ee.cy,Se,Ta(ee.y1,ee.x1),Ta(ee.y0,ee.x0),!h))}else r.moveTo(c+U,f+z),r.arc(c,f,n,l,u,!h);if(!(i>Sl)||!K)r.lineTo(c+Y,f+re);else if(k>Sl){var ye=xu(m,k),Se=xu(y,k),me=a2(Y,re,L,O,i,-Se,h),ee=a2(U,z,N,W,i,-ye,h);r.lineTo(c+me.cx+me.x0,f+me.cy+me.y0),k<R&&ye===Se?r.arc(c+me.cx,f+me.cy,k,Ta(me.y0,me.x0),Ta(ee.y0,ee.x0),!h):(Se>0&&r.arc(c+me.cx,f+me.cy,Se,Ta(me.y0,me.x0),Ta(me.y1,me.x1),!h),r.arc(c,f,i,Ta(me.cy+me.y1,me.cx+me.x1),Ta(ee.cy+ee.y1,ee.cx+ee.x1),h),ye>0&&r.arc(c+ee.cx,f+ee.cy,ye,Ta(ee.y1,ee.x1),Ta(ee.y0,ee.x0),!h))}else r.lineTo(c+Y,f+re),r.arc(c,f,i,u,l,h)}r.closePath()}}}var o$e=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),ja=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new o$e},e.prototype.buildPath=function(t,n){s$e(t,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ht);ja.prototype.type="sector";var l$e=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ty=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new l$e},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.PI*2;t.moveTo(i+n.r,a),t.arc(i,a,n.r,0,s,!1),t.moveTo(i+n.r0,a),t.arc(i,a,n.r0,0,s,!0)},e}(Ht);Ty.prototype.type="ring";function u$e(r,e,t,n){var i=[],a=[],s=[],o=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,p=r.length;h<p;h++)Yc(c,c,r[h]),Xc(f,f,r[h]);Yc(c,c,n[0]),Xc(f,f,n[1])}for(var h=0,p=r.length;h<p;h++){var v=r[h];if(t)l=r[h?h-1:p-1],u=r[(h+1)%p];else if(h===0||h===p-1){i.push(Xu(r[h]));continue}else l=r[h-1],u=r[h+1];Dh(a,u,l),Tx(a,a,e);var m=GE(v,l),y=GE(v,u),x=m+y;x!==0&&(m/=x,y/=x),Tx(s,a,-m),Tx(o,a,y);var w=VN([],v,s),b=VN([],v,o);n&&(Xc(w,w,c),Yc(w,w,f),Xc(b,b,c),Yc(b,b,f)),i.push(w),i.push(b)}return t&&i.push(i.shift()),i}function Ile(r,e,t){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=u$e(i,n,t,e.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=i[(o+1)%s];r.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var o=1,f=i.length;o<f;o++)r.lineTo(i[o][0],i[o][1])}t&&r.closePath()}}var c$e=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Wa=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new c$e},e.prototype.buildPath=function(t,n){Ile(t,n,!0)},e}(Ht);Wa.prototype.type="polygon";var f$e=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Ya=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new f$e},e.prototype.buildPath=function(t,n){Ile(t,n,!1)},e}(Ht);Ya.prototype.type="polyline";var h$e={},d$e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),mi=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new d$e},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=cle(h$e,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(t.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),t.lineTo(s,o))},e.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},e}(Ht);mi.prototype.type="line";var Is=[],p$e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function $$(r,e,t){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(t?JW:Ci)(r.x1,r.cpx1,r.cpx2,r.x2,e),(t?JW:Ci)(r.y1,r.cpy1,r.cpy2,r.y2,e)]:[(t?jN:Wi)(r.x1,r.cpx1,r.x2,e),(t?jN:Wi)(r.y1,r.cpy1,r.y2,e)]}var Ay=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new p$e},e.prototype.buildPath=function(t,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(t.moveTo(i,a),c==null||f==null?(h<1&&(gw(i,l,s,h,Is),l=Is[1],s=Is[2],gw(a,u,o,h,Is),u=Is[1],o=Is[2]),t.quadraticCurveTo(l,u,s,o)):(h<1&&(ud(i,l,c,s,h,Is),l=Is[1],c=Is[2],s=Is[3],ud(a,u,f,o,h,Is),u=Is[1],f=Is[2],o=Is[3]),t.bezierCurveTo(l,u,c,f,s,o)))},e.prototype.pointAt=function(t){return $$(this.shape,t,!1)},e.prototype.tangentAt=function(t){var n=$$(this.shape,t,!0);return lg(n,n)},e}(Ht);Ay.prototype.type="bezier-curve";var v$e=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),kb=function(r){Jr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new v$e},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(o),f=Math.sin(o);t.moveTo(c*s+i,f*s+a),t.arc(i,a,s,o,l,!u)},e}(Ht);kb.prototype.type="arc";var XD=function(r){Jr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),i=0;i<t.length;i++)n=n||t[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(n[0],n[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ht.prototype.getBoundingRect.call(this)},e}(Ht),Rle=function(){function r(e){this.colorStops=e||[]}return r.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},r}(),Ey=function(r){Jr(e,r);function e(t,n,i,a,s,o){var l=r.call(this,s)||this;return l.x=t??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(Rle),PB=function(r){Jr(e,r);function e(t,n,i,a,s){var o=r.call(this,a)||this;return o.x=t??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(Rle),wp=[0,0],bp=[0,0],s2=new At,o2=new At,eC=function(){function r(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new At;for(var n=0;n<2;n++)this._axes[n]=new At;e&&this.fromBoundingRect(e,t)}return r.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),t)for(var u=0;u<4;u++)n[u].transform(t);At.sub(i[0],n[1],n[0]),At.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},r.prototype.intersect=function(e,t){var n=!0,i=!t;return s2.set(1/0,1/0),o2.set(0,0),!this._intersectCheckOneSide(this,e,s2,o2,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,s2,o2,i,-1)&&(n=!1,i)||i||At.copy(t,n?s2:o2),n},r.prototype._intersectCheckOneSide=function(e,t,n,i,a,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,wp),this._getProjMinMaxOnAxis(l,t._corners,bp),wp[1]<bp[0]||wp[0]>bp[1]){if(o=!1,a)return o;var c=Math.abs(bp[0]-wp[1]),f=Math.abs(wp[0]-bp[1]);Math.min(c,f)>i.len()&&(c<f?At.scale(i,u,-c*s):At.scale(i,u,f*s))}else if(n){var c=Math.abs(bp[0]-wp[1]),f=Math.abs(wp[0]-bp[1]);Math.min(c,f)<n.len()&&(c<f?At.scale(n,u,c*s):At.scale(n,u,-f*s))}}return o},r.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,u=1;u<t.length;u++){var c=t[u].dot(i)+a[e];o=Math.min(c,o),l=Math.max(c,l)}n[0]=o,n[1]=l},r}(),g$e=[],Mle=function(r){Jr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,n){n=n||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Ct(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(g$e)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,n))return!0}return!1},e}(ll),kle=Qt();function Cy(r,e,t,n,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=r==="update";if(o){var u=void 0,c=void 0,f=void 0;n?(u=_t(n.duration,200),c=_t(n.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),it(f)&&(f=f(t,i)),it(u)&&(u=u(t));var h={duration:u||0,delay:f,easing:c};return h}else return null}function LB(r,e,t,n,i,a,s){var o=!1,l;it(i)?(s=a,a=i,i=null):ct(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=r==="leave";u||e.stopAnimation("leave");var c=Cy(r,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,p=c.easing,v={duration:f,delay:h||0,easing:p,done:a,force:!!a||!!s,setToFinal:!u,scope:r,during:s};o?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function rr(r,e,t,n,i,a){LB("update",r,e,t,n,i,a)}function Qr(r,e,t,n,i,a){LB("enter",r,e,t,n,i,a)}function wm(r){if(!r.__zr)return!0;for(var e=0;e<r.animators.length;e++){var t=r.animators[e];if(t.scope==="leave")return!0}return!1}function cd(r,e,t,n,i,a){wm(r)||LB("leave",r,e,t,n,i,a)}function q$(r,e,t,n){r.removeTextContent(),r.removeTextGuideLine(),cd(r,{style:{opacity:0}},e,t,n)}function Tw(r,e,t){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||q$(i,e,t,n)}):q$(r,e,t,n)}function Xl(r){kle(r).oldStyle=r.style}function m$e(r){return kle(r).oldStyle}var tC=Math.max,rC=Math.min,g4={};function Ple(r){return Ht.extend(r)}var y$e=JWe;function Lle(r,e){return y$e(r,e)}function fl(r,e){g4[r]=e}function KD(r){if(g4.hasOwnProperty(r))return g4[r]}function Pb(r,e,t,n){var i=Cle(r,e);return t&&(n==="center"&&(t=Ole(t,i.getBoundingRect())),NB(i,t)),i}function OB(r,e,t){var n=new Ni({style:{image:r,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};n.setStyle(Ole(e,a))}}});return n}function Ole(r,e){var t=e.width/e.height,n=r.height*t,i;n<=r.width?i=r.height:(n=r.width,i=n/t);var a=r.x+r.width/2,s=r.y+r.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var so=e$e;function NB(r,e){if(r.applyTransform){var t=r.getBoundingRect(),n=t.calculateTransform(e);r.applyTransform(n)}}function Xm(r,e){return cle(r,r,{lineWidth:e}),r}function _$e(r){return fle(r.shape,r.shape,r.style),r}var _A=rv;function jh(r,e){for(var t=Eb([]);r&&r!==e;)Ku(t,r.getLocalTransform(),t),r=r.parent;return t}function Ul(r,e,t){return e&&!va(e)&&(e=Kc.getLocalTransform(e)),t&&(e=ug([],e)),Yi([],r,e)}function ZD(r,e,t){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=Ul(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Y$(r){return!r.isGroup}function x$e(r){return r.shape!=null}function Lb(r,e,t){if(!r||!e)return;function n(s){var o={};return s.traverse(function(l){Y$(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return x$e(s)&&(o.shape=De({},s.shape)),o}var a=n(r);e.traverse(function(s){if(Y$(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),rr(s,l,t,gt(s).dataIndex)}}})}function FB(r,e){return Pe(r,function(t){var n=t[0];n=tC(n,e.x),n=rC(n,e.x+e.width);var i=t[1];return i=tC(i,e.y),i=rC(i,e.y+e.height),[n,i]})}function Nle(r,e){var t=tC(r.x,e.x),n=rC(r.x+r.width,e.x+e.width),i=tC(r.y,e.y),a=rC(r.y+r.height,e.y+e.height);if(n>=t&&a>=i)return{x:t,y:i,width:n-t,height:a-i}}function Dy(r,e,t){var n=De({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),ut(i,t),new Ni(n)):Pb(r.replace("path://",""),n,t,"center")}function $_(r,e,t,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(Fle(r,e,t,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function Fle(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,f=o-a,h=yP(c,f,l,u);if(w$e(h))return!1;var p=r-i,v=e-a,m=yP(p,v,l,u)/h;if(m<0||m>1)return!1;var y=yP(p,v,c,f)/h;return!(y<0||y>1)}function yP(r,e,t,n){return r*n-t*e}function w$e(r){return r<=1e-6&&r>=-1e-6}function cg(r){var e=r.itemTooltipOption,t=r.componentModel,n=r.itemName,i=$e(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=r.formatterParamsExtra;l&&B(Gt(l),function(c){Qe(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=gt(r.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:n,option:ut({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function X$(r,e){var t;r.isGroup&&(t=e(r)),t||r.traverse(e)}function Sd(r,e){if(r)if(ke(r))for(var t=0;t<r.length;t++)X$(r[t],e);else X$(r,e)}fl("circle",lc);fl("ellipse",Mb);fl("sector",ja);fl("ring",Ty);fl("polygon",Wa);fl("polyline",Ya);fl("rect",Xt);fl("line",mi);fl("bezierCurve",Ay);fl("arc",kb);const fg=Object.freeze(Object.defineProperty({__proto__:null,Arc:kb,BezierCurve:Ay,BoundingRect:Ct,Circle:lc,CompoundPath:XD,Ellipse:Mb,Group:pt,Image:Ni,IncrementalDisplayable:Mle,Line:mi,LinearGradient:Ey,OrientedBoundingRect:eC,Path:Ht,Point:At,Polygon:Wa,Polyline:Ya,RadialGradient:PB,Rect:Xt,Ring:Ty,Sector:ja,Text:Yt,applyTransform:Ul,clipPointsByRect:FB,clipRectByRect:Nle,createIcon:Dy,extendPath:Lle,extendShape:Ple,getShapeClass:KD,getTransform:jh,groupTransition:Lb,initProps:Qr,isElementRemoved:wm,lineLineIntersect:Fle,linePolygonIntersect:$_,makeImage:OB,makePath:Pb,mergePath:so,registerShape:fl,removeElement:cd,removeElementWithFadeOut:Tw,resizePath:NB,setTooltipConfig:cg,subPixelOptimize:_A,subPixelOptimizeLine:Xm,subPixelOptimizeRect:_$e,transformDirection:ZD,traverseElements:Sd,updateProps:rr},Symbol.toStringTag,{value:"Module"}));var QD={};function Ble(r,e){for(var t=0;t<_s.length;t++){var n=_s[t],i=e[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:e.normal}),r.useStates(s,!0)}function m4(r,e,t){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,s=e.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=it(r.defaultText)?r.defaultText(i,r,t):r.defaultText);for(var l={normal:o},u=0;u<_s.length;u++){var c=_s[u],f=e[c];l[c]=_t(n?n.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,o)}return l}function ma(r,e,t,n){t=t||QD;for(var i=r instanceof Yt,a=!1,s=0;s<bw.length;s++){var o=e[bw[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?r:r.getTextContent();if(a){i||(l||(l=new Yt,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var u=m4(t,e),c=e.normal,f=!!c.getShallow("show"),h=Ur(c,n&&n.normal,t,!1,!i);h.text=u.normal,i||r.setTextConfig(nC(c,t,!1));for(var s=0;s<_s.length;s++){var p=_s[s],o=e[p];if(o){var v=l.ensureState(p),m=!!_t(o.getShallow("show"),f);if(m!==f&&(v.ignore=!m),v.style=Ur(o,n&&n[p],t,!0,!i),v.style.text=u[p],!i){var y=r.ensureState(p);y.textConfig=nC(o,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(Iy(l).setLabelText=function(x){var w=m4(t,e,x);Ble(l,w)})}else l&&(l.ignore=!0);r.dirty()}function Li(r,e){e=e||"label";for(var t={normal:r.getModel(e)},n=0;n<_s.length;n++){var i=_s[n];t[i]=r.getModel([i,e])}return t}function Ur(r,e,t,n,i){var a={};return b$e(a,r,t,n,i),e&&De(a,e),a}function nC(r,e,t){e=e||{};var n={},i,a=r.getShallow("rotate"),s=_t(r.getShallow("distance"),t?null:5),o=r.getShallow("offset");return i=r.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=r.get("color")==="inherit"?e.inheritColor||null:"auto",n}function b$e(r,e,t,n,i){t=t||QD;var a=e.ecModel,s=a&&a.option.textStyle,o=S$e(e),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var c=e.getModel(["rich",u]);J$(l[u]={},c,s,t,n,i,!1,!0)}}l&&(r.rich=l);var f=e.get("overflow");f&&(r.overflow=f);var h=e.get("minMargin");h!=null&&(r.margin=h),J$(r,e,s,t,n,i,!0,!1)}function S$e(r){for(var e;r&&r!==r.ecModel;){var t=(r.option||QD).rich;if(t){e=e||{};for(var n=Gt(t),i=0;i<n.length;i++){var a=n[i];e[a]=1}}r=r.parentModel}return e}var K$=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Z$=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Q$=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function J$(r,e,t,n,i,a,s,o){t=!i&&t||QD;var l=n&&n.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),f=_t(e.getShallow("opacity"),t.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),a||(u=u||t.color,c=c||t.textBorderColor),u!=null&&(r.fill=u),c!=null&&(r.stroke=c);var h=_t(e.getShallow("textBorderWidth"),t.textBorderWidth);h!=null&&(r.lineWidth=h);var p=_t(e.getShallow("textBorderType"),t.textBorderType);p!=null&&(r.lineDash=p);var v=_t(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);v!=null&&(r.lineDashOffset=v),!i&&f==null&&!o&&(f=n&&n.defaultOpacity),f!=null&&(r.opacity=f),!i&&!a&&r.fill==null&&n.inheritColor&&(r.fill=n.inheritColor);for(var m=0;m<K$.length;m++){var y=K$[m],x=_t(e.getShallow(y),t[y]);x!=null&&(r[y]=x)}for(var m=0;m<Z$.length;m++){var y=Z$[m],x=e.getShallow(y);x!=null&&(r[y]=x)}if(r.verticalAlign==null){var w=e.getShallow("baseline");w!=null&&(r.verticalAlign=w)}if(!s||!n.disableBox){for(var m=0;m<Q$.length;m++){var y=Q$[m],x=e.getShallow(y);x!=null&&(r[y]=x)}var b=e.getShallow("borderType");b!=null&&(r.borderDash=b),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&l&&(r.backgroundColor=l),(r.borderColor==="auto"||r.borderColor==="inherit")&&l&&(r.borderColor=l)}}function BB(r,e){var t=e&&e.getModel("textStyle");return Qo([r.fontStyle||t&&t.getShallow("fontStyle")||"",r.fontWeight||t&&t.getShallow("fontWeight")||"",(r.fontSize||t&&t.getShallow("fontSize")||12)+"px",r.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Iy=Qt();function Vle(r,e,t,n){if(r){var i=Iy(r);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function zle(r,e,t,n,i){var a=Iy(r);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=_t(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=tle(t,a.precision,o,l,c);a.interpolatedValue=c===1?null:f;var h=m4({labelDataIndex:e,labelFetcher:i,defaultText:s?s(f):f+""},a.statesModels,f);Ble(r,h)}r.percent=0,(a.prevValue==null?Qr:rr)(r,{percent:1},n,e,null,u)}var T$e=["textStyle","color"],_P=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],xP=new Yt,A$e=function(){function r(){}return r.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(T$e):null)},r.prototype.getFont=function(){return BB({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<_P.length;n++)t[_P[n]]=this.getShallow(_P[n]);return xP.useStyle(t),xP.update(),xP.getBoundingRect()},r}(),Ule=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],E$e=Uv(Ule),C$e=function(){function r(){}return r.prototype.getLineStyle=function(e){return E$e(this,e)},r}(),Hle=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],D$e=Uv(Hle),I$e=function(){function r(){}return r.prototype.getItemStyle=function(e,t){return D$e(this,e,t)},r}(),sr=function(){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return r.prototype.init=function(e,t,n){},r.prototype.mergeOption=function(e,t){bt(this.option,e,!0)},r.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},r.prototype.getShallow=function(e,t){var n=this.option,i=n==null?n:n[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},r.prototype.getModel=function(e,t){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,t,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var e=this.constructor;return new e(ht(this.option))},r.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},r.prototype.resolveParentPath=function(e){return e},r.prototype.isAnimationEnabled=function(){if(!Ut.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},r}();TB(sr);Hje(sr);Cn(sr,C$e);Cn(sr,I$e);Cn(sr,qje);Cn(sr,A$e);var R$e=Math.round(Math.random()*10);function Ry(r){return[r||"",R$e++].join("_")}function M$e(r){var e={};r.registerSubTypeDefaulter=function(t,n){var i=Ou(t);e[i.main]=n},r.determineSubType=function(t,n){var i=n.type;if(!i){var a=Ou(t).main;r.hasSubTypes(t)&&e[a]&&(i=e[a](n))}return i}}function k$e(r,e){r.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=t(s),c=u.graph,f=u.noEntryList,h={};for(B(a,function(w){h[w]=!0});f.length;){var p=f.pop(),v=c[p],m=!!h[p];m&&(o.call(l,p,v.originalDeps.slice()),delete h[p]),B(v.successor,m?x:y)}B(h,function(){var w="";throw new Error(w)});function y(w){c[w].entryCount--,c[w].entryCount===0&&f.push(w)}function x(w){h[w]=!0,y(w)}};function t(a){var s={},o=[];return B(a,function(l){var u=n(s,l),c=u.originalDeps=e(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&o.push(l),B(f,function(h){Dt(u.predecessor,h)<0&&u.predecessor.push(h);var p=n(s,h);Dt(p.successor,h)<0&&p.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return B(a,function(l){Dt(s,l)>=0&&o.push(l)}),o}}function Td(r,e){return bt(bt({},r,!0),e,!0)}const P$e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},L$e={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var iC="ZH",VB="EN",bm=VB,xA={},zB={},Gle=Ut.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||bm).toUpperCase();return r.indexOf(iC)>-1?iC:bm}():bm;function UB(r,e){r=r.toUpperCase(),zB[r]=new sr(e),xA[r]=e}function O$e(r){if($e(r)){var e=xA[r.toUpperCase()]||{};return r===iC||r===VB?ht(e):bt(ht(e),ht(xA[bm]),!1)}else return bt(ht(r),ht(xA[bm]),!1)}function y4(r){return zB[r]}function N$e(){return zB[bm]}UB(VB,P$e);UB(iC,L$e);var HB=1e3,GB=HB*60,Lx=GB*60,Zo=Lx*24,eq=Zo*365,q_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},l2="{yyyy}-{MM}-{dd}",tq={year:"{yyyy}",month:"{yyyy}-{MM}",day:l2,hour:l2+" "+q_.hour,minute:l2+" "+q_.minute,second:l2+" "+q_.second,millisecond:q_.none},wP=["year","month","day","hour","minute","second","millisecond"],jle=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function ss(r,e){return r+="","0000".substr(0,e-r.length)+r}function Sm(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function F$e(r){return r===Sm(r)}function B$e(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Ob(r,e,t,n){var i=mo(r),a=i[jB(t)](),s=i[Tm(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[JD(t)](),u=i["get"+(t?"UTC":"")+"Day"](),c=i[Aw(t)](),f=(c-1)%12+1,h=i[eI(t)](),p=i[tI(t)](),v=i[rI(t)](),m=c>=12?"pm":"am",y=m.toUpperCase(),x=n instanceof sr?n:y4(n||Gle)||N$e(),w=x.getModel("time"),b=w.get("month"),T=w.get("monthAbbr"),C=w.get("dayOfWeek"),D=w.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,m+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,ss(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,b[s-1]).replace(/{MMM}/g,T[s-1]).replace(/{MM}/g,ss(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,ss(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,C[u]).replace(/{ee}/g,D[u]).replace(/{e}/g,u+"").replace(/{HH}/g,ss(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,ss(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,ss(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,ss(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,ss(v,3)).replace(/{S}/g,v+"")}function V$e(r,e,t,n,i){var a=null;if($e(t))a=t;else if(it(t))a=t(r.value,e,{level:r.level});else{var s=De({},q_);if(r.level>0)for(var o=0;o<wP.length;++o)s[wP[o]]="{primary|"+s[wP[o]]+"}";var l=t?t.inherit===!1?t:ut(t,s):s,u=Wle(r.value,i);if(l[u])a=l[u];else if(l.inherit){for(var c=jle.indexOf(u),o=c-1;o>=0;--o)if(l[u]){a=l[u];break}a=a||s.none}if(ke(a)){var f=r.level==null?0:r.level>=0?r.level:a.length+r.level;f=Math.min(f,a.length-1),a=a[f]}}return Ob(new Date(r.value),a,i,n)}function Wle(r,e){var t=mo(r),n=t[Tm(e)]()+1,i=t[JD(e)](),a=t[Aw(e)](),s=t[eI(e)](),o=t[tI(e)](),l=t[rI(e)](),u=l===0,c=u&&o===0,f=c&&s===0,h=f&&a===0,p=h&&i===1,v=p&&n===1;return v?"year":p?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function rq(r,e,t){var n=tr(r)?mo(r):r;switch(e=e||Wle(r,t),e){case"year":return n[jB(t)]();case"half-year":return n[Tm(t)]()>=6?1:0;case"quarter":return Math.floor((n[Tm(t)]()+1)/4);case"month":return n[Tm(t)]();case"day":return n[JD(t)]();case"half-day":return n[Aw(t)]()/24;case"hour":return n[Aw(t)]();case"minute":return n[eI(t)]();case"second":return n[tI(t)]();case"millisecond":return n[rI(t)]()}}function jB(r){return r?"getUTCFullYear":"getFullYear"}function Tm(r){return r?"getUTCMonth":"getMonth"}function JD(r){return r?"getUTCDate":"getDate"}function Aw(r){return r?"getUTCHours":"getHours"}function eI(r){return r?"getUTCMinutes":"getMinutes"}function tI(r){return r?"getUTCSeconds":"getSeconds"}function rI(r){return r?"getUTCMilliseconds":"getMilliseconds"}function z$e(r){return r?"setUTCFullYear":"setFullYear"}function $le(r){return r?"setUTCMonth":"setMonth"}function qle(r){return r?"setUTCDate":"setDate"}function Yle(r){return r?"setUTCHours":"setHours"}function Xle(r){return r?"setUTCMinutes":"setMinutes"}function Kle(r){return r?"setUTCSeconds":"setSeconds"}function Zle(r){return r?"setUTCMilliseconds":"setMilliseconds"}function U$e(r,e,t,n,i,a,s,o){var l=new Yt({style:{text:r,font:e,align:t,verticalAlign:n,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function WB(r){if(!wB(r))return $e(r)?r:"-";var e=(r+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function $B(r,e){return r=(r||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),e&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var hg=ND;function _4(r,e,t){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Qo(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",o=r instanceof Date;if(s||o){var l=s?mo(r):r;if(isNaN(+l)){if(o)return"-"}else return Ob(l,n,t)}if(e==="ordinal")return UE(r)?i(r):tr(r)&&a(r)?r+"":"-";var u=nc(r);return a(u)?WB(u):UE(r)?i(r):typeof r=="boolean"?r+"":"-"}var nq=["a","b","c","d","e","f","g"],bP=function(r,e){return"{"+r+(e??"")+"}"};function qB(r,e,t){ke(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=nq[a];r=r.replace(bP(s),bP(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var u=e[o][i[l]];r=r.replace(bP(nq[l],o),t?ka(u):u)}return r}function H$e(r,e,t){return B(e,function(n,i){r=r.replace("{"+i+"}",n)}),r}function Qle(r,e){var t=$e(r)?{color:r,extraCssText:e}:r||{},n=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ka(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ka(n)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function G$e(r,e,t){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var n=mo(e),i=t?"getUTC":"get",a=n[i+"FullYear"](),s=n[i+"Month"]()+1,o=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),f=n[i+"Milliseconds"]();return r=r.replace("MM",ss(s,2)).replace("M",s).replace("yyyy",a).replace("yy",ss(a%100+"",2)).replace("dd",ss(o,2)).replace("d",o).replace("hh",ss(l,2)).replace("h",l).replace("mm",ss(u,2)).replace("m",u).replace("ss",ss(c,2)).replace("s",c).replace("SSS",ss(f,3)),r}function j$e(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function Gv(r,e){return e=e||"transparent",$e(r)?r:ct(r)&&r.colorStops&&(r.colorStops[0]||{}).color||e}function aC(r,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=r}else window.open(r,e)}var wA=B,Jle=["left","right","top","bottom","width","height"],iv=[["width","left","right"],["height","top","bottom"]];function YB(r,e,t,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),h=f&&f.getBoundingRect(),p,v;if(r==="horizontal"){var m=c.width+(h?-h.x+c.x:0);p=a+m,p>n||l.newline?(a=0,p=m,s+=o+t,o=c.height):o=Math.max(o,c.height)}else{var y=c.height+(h?-h.y+c.y:0);v=s+y,v>i||l.newline?(a+=o+t,s=0,v=y,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),r==="horizontal"?a=p+t:s=v+t)})}var xv=YB;xt(YB,"vertical");xt(YB,"horizontal");function W$e(r,e,t){var n=e.width,i=e.height,a=je(r.left,n),s=je(r.top,i),o=je(r.right,n),l=je(r.bottom,i);return(isNaN(a)||isNaN(parseFloat(r.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(r.right)))&&(o=n),(isNaN(s)||isNaN(parseFloat(r.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(r.bottom)))&&(l=i),t=hg(t||0),{width:Math.max(o-a-t[1]-t[3],0),height:Math.max(l-s-t[0]-t[2],0)}}function ti(r,e,t){t=hg(t||0);var n=e.width,i=e.height,a=je(r.left,n),s=je(r.top,i),o=je(r.right,n),l=je(r.bottom,i),u=je(r.width,n),c=je(r.height,i),f=t[2]+t[0],h=t[1]+t[3],p=r.aspect;switch(isNaN(u)&&(u=n-o-h-a),isNaN(c)&&(c=i-l-f-s),p!=null&&(isNaN(u)&&isNaN(c)&&(p>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(a)&&(a=n-o-u-h),isNaN(s)&&(s=i-l-c-f),r.left||r.right){case"center":a=n/2-u/2-t[3];break;case"right":a=n-u-h;break}switch(r.top||r.bottom){case"middle":case"center":s=i/2-c/2-t[0];break;case"bottom":s=i-c-f;break}a=a||0,s=s||0,isNaN(u)&&(u=n-h-a-(o||0)),isNaN(c)&&(c=i-f-s-(l||0));var v=new Ct(a+t[3],s+t[0],u,c);return v.margin=t,v}function nI(r,e,t,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!s&&!o)return!1;var u;if(l==="raw")u=r.type==="group"?new Ct(0,0,+e.width||0,+e.height||0):r.getBoundingRect();else if(u=r.getBoundingRect(),r.needLocalTransform()){var c=r.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=ti(ut({width:u.width,height:u.height},e),t,n),h=s?f.x-u.x:0,p=o?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=p):(a.x+=h,a.y+=p),a===r&&r.markRedraw(),!0}function $$e(r,e){return r[iv[e][0]]!=null||r[iv[e][1]]!=null&&r[iv[e][2]]!=null}function Ew(r){var e=r.layoutMode||r.constructor.layoutMode;return ct(e)?e:e?{type:e}:null}function fd(r,e,t){var n=t&&t.ignoreSize;!ke(n)&&(n=[n,n]);var i=s(iv[0],0),a=s(iv[1],1);u(iv[0],r,i),u(iv[1],r,a);function s(c,f){var h={},p=0,v={},m=0,y=2;if(wA(c,function(b){v[b]=r[b]}),wA(c,function(b){o(e,b)&&(h[b]=v[b]=e[b]),l(h,b)&&p++,l(v,b)&&m++}),n[f])return l(e,c[1])?v[c[2]]=null:l(e,c[2])&&(v[c[1]]=null),v;if(m===y||!p)return v;if(p>=y)return h;for(var x=0;x<c.length;x++){var w=c[x];if(!o(h,w)&&o(r,w)){h[w]=r[w];break}}return h}function o(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,h){wA(c,function(p){f[p]=h[p]})}}function My(r){return eue({},r)}function eue(r,e){return e&&r&&wA(Jle,function(t){e.hasOwnProperty(t)&&(r[t]=e[t])}),r}var q$e=Qt(),zt=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.uid=Ry("ec_cpt_model"),a}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=Ew(this),a=i?My(t):{},s=n.getTheme();bt(t,s.get(this.mainType)),bt(t,this.getDefaultOption()),i&&fd(t,a,i)},e.prototype.mergeOption=function(t,n){bt(this.option,t,!0);var i=Ew(this);i&&fd(this.option,t,i)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Vje(t))return t.defaultOption;var n=q$e(this);if(!n.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=bt(o,i[l],!0);n.defaultOption=o}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var i=t+"Index",a=t+"Id";return Ib(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(sr);nle(zt,sr);GD(zt);M$e(zt);k$e(zt,Y$e);function Y$e(r){var e=[];return B(zt.getClassesByMainType(r),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Pe(e,function(t){return Ou(t).main}),r!=="dataset"&&Dt(e,"dataset")<=0&&e.unshift("dataset"),e}var tue="";typeof navigator<"u"&&(tue=navigator.platform||"");var p0="rgba(0, 0, 0, 0.2)";const X$e={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:p0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:p0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:p0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:p0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:p0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:p0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:tue.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var rue=tt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),hl="original",$a="arrayRows",dl="objectRows",uc="keyedColumns",Wh="typedArray",nue="unknown",Zu="column",ky="row",na={Must:1,Might:2,Not:3},iue=Qt();function K$e(r){iue(r).datasetMap=tt()}function aue(r,e,t){var n={},i=KB(e);if(!i||!r)return n;var a=[],s=[],o=e.ecModel,l=iue(o).datasetMap,u=i.uid+"_"+t.seriesLayoutBy,c,f;r=r.slice(),B(r,function(m,y){var x=ct(m)?m:r[y]={name:m};x.type==="ordinal"&&c==null&&(c=y,f=v(x)),n[x.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});B(r,function(m,y){var x=m.name,w=v(m);if(c==null){var b=h.valueWayDim;p(n[x],b,w),p(s,b,w),h.valueWayDim+=w}else if(c===y)p(n[x],0,w),p(a,0,w);else{var b=h.categoryWayDim;p(n[x],b,w),p(s,b,w),h.categoryWayDim+=w}});function p(m,y,x){for(var w=0;w<x;w++)m.push(y+w)}function v(m){var y=m.dimsDef;return y?y.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function XB(r,e,t){var n={},i=KB(r);if(!i)return n;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===dl||a===uc)&&B(s,function(c,f){(ct(c)?c.name:c)==="name"&&(o=f)});var l=function(){for(var c={},f={},h=[],p=0,v=Math.min(5,t);p<v;p++){var m=oue(e.data,a,e.seriesLayoutBy,s,e.startIndex,p);h.push(m);var y=m===na.Not;if(y&&c.v==null&&p!==o&&(c.v=p),(c.n==null||c.n===c.v||!y&&h[c.n]===na.Not)&&(c.n=p),x(c)&&h[c.n]!==na.Not)return c;y||(m===na.Might&&f.v==null&&p!==o&&(f.v=p),(f.n==null||f.n===f.v)&&(f.n=p))}function x(w){return w.v!=null&&w.n!=null}return x(c)?c:x(f)?f:null}();if(l){n.value=[l.v];var u=o??l.n;n.itemName=[u],n.seriesName=[u]}return n}function KB(r){var e=r.get("data",!0);if(!e)return Ib(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Qn).models[0]}function Z$e(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Ib(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Qn).models}function sue(r,e){return oue(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,e)}function oue(r,e,t,n,i,a){var s,o=5;if(ys(r))return na.Not;var l,u;if(n){var c=n[a];ct(c)?(l=c.name,u=c.type):$e(c)&&(l=c)}if(u!=null)return u==="ordinal"?na.Must:na.Not;if(e===$a){var f=r;if(t===ky){for(var h=f[a],p=0;p<(h||[]).length&&p<o;p++)if((s=T(h[i+p]))!=null)return s}else for(var p=0;p<f.length&&p<o;p++){var v=f[i+p];if(v&&(s=T(v[a]))!=null)return s}}else if(e===dl){var m=r;if(!l)return na.Not;for(var p=0;p<m.length&&p<o;p++){var y=m[p];if(y&&(s=T(y[l]))!=null)return s}}else if(e===uc){var x=r;if(!l)return na.Not;var h=x[l];if(!h||ys(h))return na.Not;for(var p=0;p<h.length&&p<o;p++)if((s=T(h[p]))!=null)return s}else if(e===hl)for(var w=r,p=0;p<w.length&&p<o;p++){var y=w[p],b=by(y);if(!ke(b))return na.Not;if((s=T(b[a]))!=null)return s}function T(C){var D=$e(C);if(C!=null&&Number.isFinite(Number(C))&&C!=="")return D?na.Might:na.Not;if(D&&C!=="-")return na.Must}return na.Not}var x4=tt();function Q$e(r,e){Ga(x4.get(r)==null&&e),x4.set(r,e)}function J$e(r,e,t){var n=x4.get(e);if(!n)return t;var i=n(r);return i?t.concat(i):t}var iq=Qt(),eqe=Qt(),ZB=function(){function r(){}return r.prototype.getColorFromPalette=function(e,t,n){var i=Pr(this.get("color",!0)),a=this.get("colorLayer",!0);return lue(this,iq,i,a,e,t,n)},r.prototype.clearColorPalette=function(){rqe(this,iq)},r}();function w4(r,e,t,n){var i=Pr(r.get(["aria","decal","decals"]));return lue(r,eqe,i,null,e,t,n)}function tqe(r,e){for(var t=r.length,n=0;n<t;n++)if(r[n].length>e)return r[n];return r[t-1]}function lue(r,e,t,n,i,a,s){a=a||r;var o=e(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=s==null||!n?t:tqe(n,s);if(c=c||t,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),o.paletteIdx=(l+1)%c.length,f}}function rqe(r,e){e(r).paletteIdx=0,e(r).paletteNameMap={}}var u2,o_,aq,sq="\0_ec_inner",nqe=1,QB=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,a,s,o){a=a||{},this.option=null,this._theme=new sr(a),this._locale=new sr(s),this._optionManager=o},e.prototype.setOption=function(t,n,i){var a=uq(n);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,n){return this._resetOption(t,uq(n))},e.prototype._resetOption=function(t,n){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?aq(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&B(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=tt(),u=n&&n.replaceMergeMainTypeMap;K$e(this),B(t,function(f,h){f!=null&&(zt.hasClass(h)?h&&(o.push(h),l.set(h,!0)):i[h]=i[h]==null?ht(f):bt(i[h],f,!0))}),u&&u.each(function(f,h){zt.hasClass(h)&&!l.get(h)&&(o.push(h),l.set(h,!0))}),zt.topologicalTravel(o,zt.getAllClassMainTypes(),c,this);function c(f){var h=J$e(this,f,Pr(t[f])),p=a.get(f),v=p?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",m=Qoe(p,h,v);Rje(m,f,zt),i[f]=null,a.set(f,null),s.set(f,0);var y=[],x=[],w=0,b;B(m,function(T,C){var D=T.existing,E=T.newOption;if(!E)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var R=f==="series",M=zt.getClass(f,T.keyInfo.subType,!R);if(!M)return;if(f==="tooltip"){if(b)return;b=!0}if(D&&D.constructor===M)D.name=T.keyInfo.name,D.mergeOption(E,this),D.optionUpdated(E,!1);else{var k=De({componentIndex:C},T.keyInfo);D=new M(E,this,this,k),De(D,k),T.brandNew&&(D.__requireNewView=!0),D.init(E,this,this),D.optionUpdated(null,!0)}}D?(y.push(D.option),x.push(D),w++):(y.push(void 0),x.push(void 0))},this),i[f]=y,a.set(f,x),s.set(f,w),f==="series"&&u2(this)}this._seriesIndices||u2(this)},e.prototype.getOption=function(){var t=ht(this.option);return B(t,function(n,i){if(zt.hasClass(i)){for(var a=Pr(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!ww(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[sq],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var i=this._componentsMap.get(t);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],B(Pr(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=oq("id",a,o):s!=null?l=oq("name",s,o):l=ar(o,function(u){return!!u}),lq(l,t)},e.prototype.findComponents=function(t){var n=t.query,i=t.mainType,a=o(n),s=a?this.queryComponents(a):ar(this._componentsMap.get(i),function(u){return!!u});return l(lq(s,t));function o(u){var c=i+"Index",f=i+"Id",h=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:i,index:u[c],id:u[f],name:u[h]}:null}function l(u){return t.filter?ar(u,t.filter):u}},e.prototype.eachComponent=function(t,n,i){var a=this._componentsMap;if(it(t)){var s=n,o=t;a.each(function(f,h){for(var p=0;f&&p<f.length;p++){var v=f[p];v&&o.call(s,h,v,v.componentIndex)}})}else for(var l=$e(t)?a.get(t):ct(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=gi(t,null);return ar(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return ar(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return ar(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){o_(this),B(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(n,a,i)},this)},e.prototype.eachRawSeries=function(t,n){B(this._componentsMap.get("series"),function(i){i&&t.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,i){o_(this),B(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&n.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,n,i){return B(this.getSeriesByType(t),n,i)},e.prototype.isSeriesFiltered=function(t){return o_(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){o_(this);var i=[];B(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=tt(i)},e.prototype.restoreData=function(t){u2(this);var n=this._componentsMap,i=[];n.each(function(a,s){zt.hasClass(s)&&i.push(s)}),zt.topologicalTravel(i,zt.getAllClassMainTypes(),function(a){B(n.get(a),function(s){s&&(a!=="series"||!iqe(s,t))&&s.restoreData()})})},e.internalField=function(){u2=function(t){var n=t._seriesIndices=[];B(t._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),t._seriesIndicesMap=tt(n)},o_=function(t){},aq=function(t,n){t.option={},t.option[sq]=nqe,t._componentsMap=tt({series:[]}),t._componentsCount=tt();var i=n.aria;ct(i)&&i.enabled==null&&(i.enabled=!0),aqe(n,t._theme.option),bt(n,X$e,!1),t._mergeOption(n,null)}}(),e}(sr);function iqe(r,e){if(e){var t=e.seriesIndex,n=e.seriesId,i=e.seriesName;return t!=null&&r.componentIndex!==t||n!=null&&r.id!==n||i!=null&&r.name!==i}}function aqe(r,e){var t=r.color&&!r.colorLayer;B(e,function(n,i){i==="colorLayer"&&t||zt.hasClass(i)||(typeof n=="object"?r[i]=r[i]?bt(r[i],n,!1):ht(n):r[i]==null&&(r[i]=n))})}function oq(r,e,t){if(ke(e)){var n=tt();return B(e,function(a){if(a!=null){var s=gi(a,null);s!=null&&n.set(a,!0)}}),ar(t,function(a){return a&&n.get(a[r])})}else{var i=gi(e,null);return ar(t,function(a){return a&&i!=null&&a[r]===i})}}function lq(r,e){return e.hasOwnProperty("subType")?ar(r,function(t){return t&&t.subType===e.subType}):r}function uq(r){var e=tt();return r&&B(Pr(r.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Cn(QB,ZB);var sqe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],uue=function(){function r(e){B(sqe,function(t){this[t]=Xe(e[t],e)},this)}return r}(),SP={},Py=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(e,t){var n=[];B(SP,function(i,a){var s=i.create(e,t);n=n.concat(s||[])}),this._coordinateSystems=n},r.prototype.update=function(e,t){B(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(e,t){SP[e]=t},r.get=function(e){return SP[e]},r}(),oqe=/^(min|max)?(.+)$/,lqe=function(){function r(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return r.prototype.setOption=function(e,t,n){e&&(B(Pr(e.series),function(s){s&&s.data&&ys(s.data)&&pw(s.data)}),B(Pr(e.dataset),function(s){s&&s.source&&ys(s.source)&&pw(s.source)})),e=ht(e);var i=this._optionBackup,a=uqe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ht(e?t.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=ht(n[i.getCurrentIndex()]))}return t},r.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)cqe(i[l].query,t,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!hqe(s,this._currentMediaIndices)&&(o=Pe(s,function(c){return ht(c===-1?a.option:i[c].option)})),this._currentMediaIndices=s,o},r}();function uqe(r,e,t){var n=[],i,a,s=r.baseOption,o=r.timeline,l=r.options,u=r.media,c=!!r.media,f=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((f||c)&&(r.options=r.media=null),a=r),c&&ke(u)&&B(u,function(p){p&&p.option&&(p.query?n.push(p):i||(i=p))}),h(a),B(l,function(p){return h(p)}),B(n,function(p){return h(p.option)});function h(p){B(e,function(v){v(p,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function cqe(r,e,t){var n={width:e,height:t,aspectratio:e/t},i=!0;return B(r,function(a,s){var o=s.match(oqe);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();fqe(n[u],a,l)||(i=!1)}}),i}function fqe(r,e,t){return t==="min"?r>=e:t==="max"?r<=e:r===e}function hqe(r,e){return r.join(",")===e.join(",")}var wl=B,Cw=ct,cq=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function TP(r){var e=r&&r.itemStyle;if(e)for(var t=0,n=cq.length;t<n;t++){var i=cq[t],a=e.normal,s=e.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?bt(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),s&&s[i]&&(r[i]=r[i]||{},r[i].emphasis?bt(r[i].emphasis,s[i]):r[i].emphasis=s[i],s[i]=null)}}function Ia(r,e,t){if(r&&r[e]&&(r[e].normal||r[e].emphasis)){var n=r[e].normal,i=r[e].emphasis;n&&(t?(r[e].normal=r[e].emphasis=null,ut(r[e],n)):r[e]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[e]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function Y_(r){Ia(r,"itemStyle"),Ia(r,"lineStyle"),Ia(r,"areaStyle"),Ia(r,"label"),Ia(r,"labelLine"),Ia(r,"upperLabel"),Ia(r,"edgeLabel")}function qn(r,e){var t=Cw(r)&&r[e],n=Cw(t)&&t.textStyle;if(n)for(var i=0,a=g$.length;i<a;i++){var s=g$[i];n.hasOwnProperty(s)&&(t[s]=n[s])}}function Wo(r){r&&(Y_(r),qn(r,"label"),r.emphasis&&qn(r.emphasis,"label"))}function dqe(r){if(Cw(r)){TP(r),Y_(r),qn(r,"label"),qn(r,"upperLabel"),qn(r,"edgeLabel"),r.emphasis&&(qn(r.emphasis,"label"),qn(r.emphasis,"upperLabel"),qn(r.emphasis,"edgeLabel"));var e=r.markPoint;e&&(TP(e),Wo(e));var t=r.markLine;t&&(TP(t),Wo(t));var n=r.markArea;n&&Wo(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!ys(a))for(var s=0;s<a.length;s++)Wo(a[s]);B(r.categories,function(u){Y_(u)})}if(i&&!ys(i))for(var s=0;s<i.length;s++)Wo(i[s]);if(e=r.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)Wo(o[s]);if(t=r.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)ke(l[s])?(Wo(l[s][0]),Wo(l[s][1])):Wo(l[s]);r.type==="gauge"?(qn(r,"axisLabel"),qn(r,"title"),qn(r,"detail")):r.type==="treemap"?(Ia(r.breadcrumb,"itemStyle"),B(r.levels,function(u){Y_(u)})):r.type==="tree"&&Y_(r.leaves)}}function Lc(r){return ke(r)?r:r?[r]:[]}function fq(r){return(ke(r)?r[0]:r)||{}}function pqe(r,e){wl(Lc(r.series),function(n){Cw(n)&&dqe(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),wl(t,function(n){wl(Lc(r[n]),function(i){i&&(qn(i,"axisLabel"),qn(i.axisPointer,"label"))})}),wl(Lc(r.parallel),function(n){var i=n&&n.parallelAxisDefault;qn(i,"axisLabel"),qn(i&&i.axisPointer,"label")}),wl(Lc(r.calendar),function(n){Ia(n,"itemStyle"),qn(n,"dayLabel"),qn(n,"monthLabel"),qn(n,"yearLabel")}),wl(Lc(r.radar),function(n){qn(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),wl(Lc(r.geo),function(n){Cw(n)&&(Wo(n),wl(Lc(n.regions),function(i){Wo(i)}))}),wl(Lc(r.timeline),function(n){Wo(n),Ia(n,"label"),Ia(n,"itemStyle"),Ia(n,"controlStyle",!0);var i=n.data;ke(i)&&B(i,function(a){ct(a)&&(Ia(a,"label"),Ia(a,"itemStyle"))})}),wl(Lc(r.toolbox),function(n){Ia(n,"iconStyle"),wl(n.feature,function(i){Ia(i,"iconStyle")})}),qn(fq(r.axisPointer),"label"),qn(fq(r.tooltip).axisPointer,"label")}function vqe(r,e){for(var t=e.split(","),n=r,i=0;i<t.length&&(n=n&&n[t[i]],n!=null);i++);return n}function gqe(r,e,t,n){for(var i=e.split(","),a=r,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=t)}function hq(r){r&&B(mqe,function(e){e[0]in r&&!(e[1]in r)&&(r[e[1]]=r[e[0]])})}var mqe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],yqe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],AP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function l_(r){var e=r&&r.itemStyle;if(e)for(var t=0;t<AP.length;t++){var n=AP[t][1],i=AP[t][0];e[n]!=null&&(e[i]=e[n])}}function dq(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function pq(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function _qe(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function cue(r,e){if(r)for(var t=0;t<r.length;t++)e(r[t]),r[t]&&cue(r[t].children,e)}function fue(r,e){pqe(r,e),r.series=Pr(r.series),B(r.series,function(t){if(ct(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),dq(t.label);var i=t.data;if(i&&!ys(i))for(var a=0;a<i.length;a++)dq(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var s=vqe(t,"pointer.color");s!=null&&gqe(t,"itemStyle.color",s)}else if(n==="bar"){l_(t),l_(t.backgroundStyle),l_(t.emphasis);var i=t.data;if(i&&!ys(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(l_(i[a]),l_(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),pq(t),cue(t.data,pq)}else n==="graph"||n==="sankey"?_qe(t):n==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&ut(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),hq(t)}}),r.dataRange&&(r.visualMap=r.dataRange),B(yqe,function(t){var n=r[t];n&&(ke(n)||(n=[n]),B(n,function(i){hq(i)}))})}function xqe(r){var e=tt();r.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(wqe)}function wqe(r){B(r,function(e,t){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,f){var h=s.get(e.stackedDimension,f);if(isNaN(h))return i;var p,v;o?v=s.getRawIndex(f):p=s.get(e.stackedByDimension,f);for(var m=NaN,y=t-1;y>=0;y--){var x=r[y];if(o||(v=x.data.rawIndexOf(x.stackedByDimension,p)),v>=0){var w=x.data.getByRawIndex(x.stackResultDimension,v);if(l==="all"||l==="positive"&&w>0||l==="negative"&&w<0||l==="samesign"&&h>=0&&w>0||l==="samesign"&&h<=0&&w<0){h=xje(h,w),m=w;break}}}return n[0]=h,n[1]=m,n})})}var iI=function(){function r(e){this.data=e.data||(e.sourceFormat===uc?{}:[]),this.sourceFormat=e.sourceFormat||nue,this.seriesLayoutBy=e.seriesLayoutBy||Zu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];i.type==null&&sue(this,n)===na.Must&&(i.type="ordinal")}}return r}();function JB(r){return r instanceof iI}function b4(r,e,t){t=t||hue(r);var n=e.seriesLayoutBy,i=Sqe(r,t,n,e.sourceHeader,e.dimensions),a=new iI({data:r,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:ht(e)});return a}function eV(r){return new iI({data:r,sourceFormat:ys(r)?Wh:hl})}function bqe(r){return new iI({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:ht(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function hue(r){var e=nue;if(ys(r))e=Wh;else if(ke(r)){r.length===0&&(e=$a);for(var t=0,n=r.length;t<n;t++){var i=r[t];if(i!=null){if(ke(i)||ys(i)){e=$a;break}else if(ct(i)){e=dl;break}}}}else if(ct(r)){for(var a in r)if(Qe(r,a)&&va(r[a])){e=uc;break}}return e}function Sqe(r,e,t,n,i){var a,s;if(!r)return{dimensionsDefine:vq(i),startIndex:s,dimensionsDetectedCount:a};if(e===$a){var o=r;n==="auto"||n==null?gq(function(u){u!=null&&u!=="-"&&($e(u)?s==null&&(s=1):s=0)},t,o,10):s=tr(n)?n:n?1:0,!i&&s===1&&(i=[],gq(function(u,c){i[c]=u!=null?u+"":""},t,o,1/0)),a=i?i.length:t===ky?o.length:o[0]?o[0].length:null}else if(e===dl)i||(i=Tqe(r));else if(e===uc)i||(i=[],B(r,function(u,c){i.push(c)}));else if(e===hl){var l=by(r[0]);a=ke(l)&&l.length||1}return{startIndex:s,dimensionsDefine:vq(i),dimensionsDetectedCount:a}}function Tqe(r){for(var e=0,t;e<r.length&&!(t=r[e++]););if(t)return Gt(t)}function vq(r){if(r){var e=tt();return Pe(r,function(t,n){t=ct(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function gq(r,e,t,n){if(e===ky)for(var i=0;i<t.length&&i<n;i++)r(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function due(r){var e=r.sourceFormat;return e===dl||e===uc}var Sp,Tp,Ap,mq,yq,pue=function(){function r(e,t){var n=JB(e)?e:eV(e);this._source=n;var i=this._data=n.data;n.sourceFormat===Wh&&(this._offset=0,this._dimSize=t,this._data=i),yq(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(e,t){},r.prototype.appendData=function(e){},r.prototype.clean=function(){},r.protoInitialize=function(){var e=r.prototype;e.pure=!1,e.persistent=!0}(),r.internalField=function(){var e;yq=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,p=mq[tV(u,c)];if(De(s,p),u===Wh)s.getItem=t,s.count=i,s.fillStorage=n;else{var v=vue(u,c);s.getItem=Xe(v,null,o,f,h);var m=gue(u,c);s.count=Xe(m,null,o,f,h)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,f=0;f<u;f++)o[f]=l[c+f];return o},n=function(s,o,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var p=u[h],v=p[0]==null?1/0:p[0],m=p[1]==null?-1/0:p[1],y=o-s,x=l[h],w=0;w<y;w++){var b=c[w*f+h];x[s+w]=b,b<v&&(v=b),b>m&&(m=b)}p[0]=v,p[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};mq=(e={},e[$a+"_"+Zu]={pure:!0,appendData:a},e[$a+"_"+ky]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[dl]={pure:!0,appendData:a},e[uc]={pure:!0,appendData:function(s){var o=this._data;B(s,function(l,u){for(var c=o[u]||(o[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[hl]={appendData:a},e[Wh]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),r}(),_q=function(r,e,t,n){return r[n]},Aqe=(Sp={},Sp[$a+"_"+Zu]=function(r,e,t,n){return r[n+e]},Sp[$a+"_"+ky]=function(r,e,t,n,i){n+=e;for(var a=i||[],s=r,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},Sp[dl]=_q,Sp[uc]=function(r,e,t,n,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=r[o];a[s]=l?l[n]:null}return a},Sp[hl]=_q,Sp);function vue(r,e){var t=Aqe[tV(r,e)];return t}var xq=function(r,e,t){return r.length},Eqe=(Tp={},Tp[$a+"_"+Zu]=function(r,e,t){return Math.max(0,r.length-e)},Tp[$a+"_"+ky]=function(r,e,t){var n=r[0];return n?Math.max(0,n.length-e):0},Tp[dl]=xq,Tp[uc]=function(r,e,t){var n=t[0].name,i=r[n];return i?i.length:0},Tp[hl]=xq,Tp);function gue(r,e){var t=Eqe[tV(r,e)];return t}var EP=function(r,e,t){return r[e]},Cqe=(Ap={},Ap[$a]=EP,Ap[dl]=function(r,e,t){return r[t]},Ap[uc]=EP,Ap[hl]=function(r,e,t){var n=by(r);return n instanceof Array?n[e]:n},Ap[Wh]=EP,Ap);function mue(r){var e=Cqe[r];return e}function tV(r,e){return r===$a?r+"_"+e:r}function Km(r,e,t){if(r){var n=r.getRawDataItem(e);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=r.getDimensionIndex(t),o=i.getDimensionProperty(s);return mue(a)(n,s,o)}else{var l=n;return a===hl&&(l=by(n)),l}}}}var Dqe=/\{@(.+?)\}/g,aI=function(){function r(){}return r.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),a=n.getRawIndex(e),s=n.getName(e),o=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",p=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:u,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(e,t,n,i,a,s){t=t||"normal";var o=this.getData(n),l=this.getDataParams(e,n);if(s&&(l.value=s.interpolatedValue),i!=null&&ke(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(it(a))return l.status=t,l.dimensionIndex=i,a(l);if($e(a)){var c=qB(a,l);return c.replace(Dqe,function(f,h){var p=h.length,v=h;v.charAt(0)==="["&&v.charAt(p-1)==="]"&&(v=+v.slice(1,p-1));var m=Km(o,e,v);if(s&&ke(s.interpolatedValue)){var y=o.getDimensionIndex(v);y>=0&&(m=s.interpolatedValue[y])}return m!=null?m+"":""})}},r.prototype.getRawValue=function(e,t){return Km(this.getData(t),e)},r.prototype.formatTooltip=function(e,t,n){},r}();function wq(r){var e,t;return ct(r)?r.type&&(t=r):e=r,{text:e,frag:t}}function Ox(r){return new Iqe(r)}var Iqe=function(){function r(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return r.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(w){return!(w>=1)&&(w=1),w}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||p<v)){var m=this._progress;if(ke(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],p,v,l,u);else this._doProgress(m,p,v,l,u)}this._dueIndex=v;var x=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(e,t,n,i,a){bq.reset(t,n,i,a),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:bq.next},this.context)},r.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),ke(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},r}(),bq=function(){var r,e,t,n,i,a={reset:function(l,u,c,f){e=l,r=u,t=c,n=f,i=Math.ceil(n/t),a.next=t>1&&n>0?o:s}};return a;function s(){return e<r?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),u=e>=r?null:l<n?l:e;return e++,u}}();function $h(r,e){var t=e&&e.type;return t==="ordinal"?r:(t==="time"&&!tr(r)&&r!=null&&r!=="-"&&(r=+mo(r)),r==null||r===""?NaN:Number(r))}var Rqe=tt({number:function(r){return parseFloat(r)},time:function(r){return+mo(r)},trim:function(r){return $e(r)?Qo(r):r}});function yue(r){return Rqe.get(r)}var _ue={lt:function(r,e){return r<e},lte:function(r,e){return r<=e},gt:function(r,e){return r>e},gte:function(r,e){return r>=e}},Mqe=function(){function r(e,t){if(!tr(t)){var n="";dr(n)}this._opFn=_ue[e],this._rvalFloat=nc(t)}return r.prototype.evaluate=function(e){return tr(e)?this._opFn(e,this._rvalFloat):this._opFn(nc(e),this._rvalFloat)},r}(),xue=function(){function r(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return r.prototype.evaluate=function(e,t){var n=tr(e)?e:nc(e),i=tr(t)?t:nc(t),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=$e(e),l=$e(t);o&&(n=l?e:0),l&&(i=o?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r}(),kqe=function(){function r(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=nc(t)}return r.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=nc(e)===this._rvalFloat)}return this._isEQ?t:!t},r}();function Pqe(r,e){return r==="eq"||r==="ne"?new kqe(r==="eq",e):Qe(_ue,r)?new Mqe(r,e):null}var Lqe=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(e){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(e){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(e,t){},r.prototype.retrieveValueFromItem=function(e,t){},r.prototype.convertValue=function(e,t){return $h(e,t)},r}();function Oqe(r,e){var t=new Lqe,n=r.data,i=t.sourceFormat=r.sourceFormat,a=r.startIndex,s="";r.seriesLayoutBy!==Zu&&dr(s);var o=[],l={},u=r.dimensionsDefine;if(u)B(u,function(m,y){var x=m.name,w={index:y,name:x,displayName:m.displayName};if(o.push(w),x!=null){var b="";Qe(l,x)&&dr(b),l[x]=w}});else for(var c=0;c<r.dimensionsDetectedCount;c++)o.push({index:c});var f=vue(i,Zu);e.__isBuiltIn&&(t.getRawDataItem=function(m){return f(n,a,o,m)},t.getRawData=Xe(Nqe,null,r)),t.cloneRawData=Xe(Fqe,null,r);var h=gue(i,Zu);t.count=Xe(h,null,n,a,o);var p=mue(i);t.retrieveValue=function(m,y){var x=f(n,a,o,m);return v(x,y)};var v=t.retrieveValueFromItem=function(m,y){if(m!=null){var x=o[y];if(x)return p(m,y,x.name)}};return t.getDimensionInfo=Xe(Bqe,null,o,l),t.cloneAllDimensionInfo=Xe(Vqe,null,o),t}function Nqe(r){var e=r.sourceFormat;if(!rV(e)){var t="";dr(t)}return r.data}function Fqe(r){var e=r.sourceFormat,t=r.data;if(!rV(e)){var n="";dr(n)}if(e===$a){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===dl){for(var i=[],a=0,s=t.length;a<s;a++)i.push(De({},t[a]));return i}}function Bqe(r,e,t){if(t!=null){if(tr(t)||!isNaN(t)&&!Qe(e,t))return r[t];if(Qe(e,t))return e[t]}}function Vqe(r){return ht(r)}var wue=tt();function zqe(r){r=ht(r);var e=r.type,t="";e||dr(t);var n=e.split(":");n.length!==2&&dr(t);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),r.__isBuiltIn=i,wue.set(e,r)}function Uqe(r,e,t){var n=Pr(r),i=n.length,a="";i||dr(a);for(var s=0,o=i;s<o;s++){var l=n[s];e=Hqe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function Hqe(r,e,t,n){var i="";e.length||dr(i),ct(r)||dr(i);var a=r.type,s=wue.get(a);s||dr(i);var o=Pe(e,function(u){return Oqe(u,s)}),l=Pr(s.transform({upstream:o[0],upstreamList:o,config:ht(r.config)}));return Pe(l,function(u,c){var f="";ct(u)||dr(f),u.data||dr(f);var h=hue(u.data);rV(h)||dr(f);var p,v=e[0];if(v&&c===0&&!u.dimensions){var m=v.startIndex;m&&(u.data=v.data.slice(0,m).concat(u.data)),p={seriesLayoutBy:Zu,sourceHeader:m,dimensions:v.metaRawOption.dimensions}}else p={seriesLayoutBy:Zu,sourceHeader:0,dimensions:u.dimensions};return b4(u.data,p,null)})}function rV(r){return r===$a||r===dl}var sI="undefined",Gqe=typeof Uint32Array===sI?Array:Uint32Array,jqe=typeof Uint16Array===sI?Array:Uint16Array,bue=typeof Int32Array===sI?Array:Int32Array,Sq=typeof Float64Array===sI?Array:Float64Array,Sue={float:Sq,int:bue,ordinal:Array,number:Array,time:Sq},CP;function v0(r){return r>65535?Gqe:jqe}function g0(){return[1/0,-1/0]}function Wqe(r){var e=r.constructor;return e===Array?r.slice():new e(r)}function Tq(r,e,t,n,i){var a=Sue[t||"float"];if(i){var s=r[e],o=s&&s.length;if(o!==n){for(var l=new a(n),u=0;u<o;u++)l[u]=s[u];r[e]=l}}else r[e]=new a(n)}var S4=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=tt()}return r.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=CP[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],due(i),this._dimensions=Pe(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},n.set(e,a),this._chunks[a]=new Sue[t||"float"](this._rawCount),this._rawExtent[a]=g0(),a},r.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[e]=g0());for(var l=a[e],u=s;u<o;u++){var c=n[u]=t.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},r.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},r.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},r.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),u=0;u<a;u++){var c=i[u];Tq(n,u,c.type,l,!0)}for(var f=[],h=o;h<l;h++)for(var p=h-o,v=0;v<a;v++){var c=i[v],m=CP.arrayRows.call(this,e[p]||f,c.property,p,v);n[v][h]=m;var y=s[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},r.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=Pe(s,function(w){return w.property}),c=0;c<o;c++){var f=s[c];l[c]||(l[c]=g0()),Tq(a,c,f.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var h=[],p=e;p<t;p++){h=i.getItem(p,h);for(var v=0;v<o;v++){var m=a[v],y=this._dimValueGetter(h,u[v],p,v);m[p]=y;var x=l[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},r.prototype.getValues=function(e,t){var n=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],t));return n},r.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},r.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(n+=s)}return n},r.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var n=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},r.prototype.indicesOfNearest=function(e,t,n){var i=this._chunks,a=i[e],s=[];if(!a)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var h=this.getRawIndex(c),p=t-a[h],v=Math.abs(p);v<=n&&((v<o||v===o&&p>=0&&l<0)&&(o=v,l=p,u=0),p===l&&(s[u++]=c))}return s.length=u,s},r.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new n(t.buffer,0,i)}else{var n=v0(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},r.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=v0(n._rawCount),s=new a(i),o=[],l=e.length,u=0,c=e[0],f=n._chunks,h=0;h<i;h++){var p=void 0,v=n.getRawIndex(h);if(l===0)p=t(h);else if(l===1){var m=f[c][v];p=t(m,h)}else{for(var y=0;y<l;y++)o[y]=f[e[y]][v];o[y]=h,p=t.apply(null,o)}p&&(s[u++]=v)}return u<i&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=Gt(e),a=i.length;if(!a)return this;var s=t.count(),o=v0(t._rawCount),l=new o(s),u=0,c=i[0],f=e[c][0],h=e[c][1],p=t._chunks,v=!1;if(!t._indices){var m=0;if(a===1){for(var y=p[i[0]],x=0;x<n;x++){var w=y[x];(w>=f&&w<=h||isNaN(w))&&(l[u++]=m),m++}v=!0}else if(a===2){for(var y=p[i[0]],b=p[i[1]],T=e[i[1]][0],C=e[i[1]][1],x=0;x<n;x++){var w=y[x],D=b[x];(w>=f&&w<=h||isNaN(w))&&(D>=T&&D<=C||isNaN(D))&&(l[u++]=m),m++}v=!0}}if(!v)if(a===1)for(var x=0;x<s;x++){var E=t.getRawIndex(x),w=p[i[0]][E];(w>=f&&w<=h||isNaN(w))&&(l[u++]=E)}else for(var x=0;x<s;x++){for(var R=!0,E=t.getRawIndex(x),M=0;M<a;M++){var k=i[M],w=p[k][E];(w<e[k][0]||w>e[k][1])&&(R=!1)}R&&(l[u++]=t.getRawIndex(x))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},r.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},r.prototype.modify=function(e,t){this._updateDims(this,e,t)},r.prototype._updateDims=function(e,t,n){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=g0();for(var f=0;f<o;f++){for(var h=e.getRawIndex(f),p=0;p<s;p++)l[p]=i[t[p]][h];l[s]=f;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var m=t[c],y=v[c],x=u[m],w=i[m];w&&(w[h]=y),y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}}},r.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),i=n._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,h,p=new(v0(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));p[o++]=u;for(var v=1;v<s-1;v+=l){for(var m=Math.min(v+l,s-1),y=Math.min(v+l*2,s),x=(y+m)/2,w=0,b=m;b<y;b++){var T=this.getRawIndex(b),C=a[T];isNaN(C)||(w+=C)}w/=y-m;var D=v,E=Math.min(v+l,s),R=v-1,M=a[u];c=-1,h=D;for(var k=-1,L=0,b=D;b<E;b++){var T=this.getRawIndex(b),C=a[T];if(isNaN(C)){L++,k<0&&(k=T);continue}f=Math.abs((R-x)*(C-M)-(R-b)*(w-M)),f>c&&(c=f,h=T)}L>0&&L<E-D&&(p[o++]=Math.min(k,h),h=Math.max(k,h)),p[o++]=h,u=h}return p[o++]=this.getRawIndex(s-1),n._count=o,n._indices=p,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/t),s=i[e],o=this.count(),l=new(v0(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var f=c,h=s[this.getRawIndex(f)],p=c,v=s[this.getRawIndex(p)],m=a;c+a>o&&(m=o-c);for(var y=0;y<m;y++){var x=this.getRawIndex(c+y),w=s[x];w<h&&(h=w,f=c+y),w>v&&(v=w,p=c+y)}var b=this.getRawIndex(f),T=this.getRawIndex(p);f<p?(l[u++]=b,l[u++]=T):(l[u++]=T,l[u++]=b)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(e,t,n,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),u=s[e],c=this.count(),f=a._rawExtent[e]=g0(),h=new(v0(this._rawCount))(Math.ceil(c/l)),p=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,o.length=l);for(var m=0;m<l;m++){var y=this.getRawIndex(v+m);o[m]=u[y]}var x=n(o),w=this.getRawIndex(Math.min(v+i(o,x)||0,c-1));u[w]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),h[p++]=w}return a._count=p,a._indices=h,a._updateGetRawIdx(),a},r.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[e[l]][o];u[l]=a,t.apply(null,u)}}},r.prototype.getDataExtent=function(e){var t=this._chunks[e],n=g0();if(!t)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=t[c];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[e]=s,s},r.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][t]);return n},r.prototype.clone=function(e,t){var n=new r,i=this._chunks,a=e&&ol(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?Wqe(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ht(this._extent),e._rawExtent=ht(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},r.prototype._getRawIdxIdentity=function(e){return e},r.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function e(t,n,i,a){return $h(t[a],this._dimensions[a])}CP={arrayRows:e,objectRows:function(t,n,i,a){return $h(t[n],this._dimensions[a])},keyedColumns:e,original:function(t,n,i,a){var s=t&&(t.value==null?t:t.value);return $h(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,n,i,a){return t[a]}}}(),r}(),Tue=function(){function r(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,i,a;if(c2(e)){var s=e,o=void 0,l=void 0,u=void 0;if(n){var c=t[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=ys(o)?Wh:hl,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},p=_t(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=_t(f.sourceHeader,h.sourceHeader),m=_t(f.dimensions,h.dimensions),y=p!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||m;i=y?[b4(o,{seriesLayoutBy:p,sourceHeader:v,dimensions:m},l)]:[]}else{var x=e;if(n){var w=this._applyTransform(t);i=w.sourceList,a=w.upstreamSignList}else{var b=x.get("source",!0);i=[b4(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&Eq(a)}var s,o=[],l=[];return B(e,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&Eq(f),o.push(c),l.push(u._getVersionSign())}),n?s=Uqe(n,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[bqe(o[0])]),{sourceList:s,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},r.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},r.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},r.prototype._innerGetDataStore=function(e,t,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];c2(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,n):(o=new S4,o.initData(new pue(t,e.length),e)),s[n]=o}return o},r.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(c2(e)){var t=KB(e);return t?[t.getSourceManager()]:[]}else return Pe(Z$e(e),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,i;if(c2(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:i}},r}();function Aq(r){var e=r.option.transform;e&&pw(r.option.transform)}function c2(r){return r.mainType==="series"}function Eq(r){throw new Error(r)}var $qe="line-height:1";function Aue(r){var e=r.lineHeight;return e==null?$qe:"line-height:"+ka(e+"")+"px"}function Eue(r,e){var t=r.color||"#6e7079",n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||"#464646",s=r.fontSize||14,o=r.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+ka(n+"")+"px;color:"+ka(t)+";font-weight:"+ka(i+""),valueStyle:"font-size:"+ka(s+"")+"px;color:"+ka(a)+";font-weight:"+ka(o+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var qqe=[0,10,20,30],Yqe=["",`
`,`

`,`


`];function Oi(r,e){return e.type=r,e}function T4(r){return r.type==="section"}function Cue(r){return T4(r)?Xqe:Kqe}function Due(r){if(T4(r)){var e=0,t=r.blocks.length,n=t>1||t>0&&!r.noHeader;return B(r.blocks,function(i){var a=Due(i);a>=e&&(e=a+ +(n&&(!a||T4(i)&&!i.noHeader)))}),e}return 0}function Xqe(r,e,t,n){var i=e.noHeader,a=Zqe(Due(e)),s=[],o=e.blocks||[];Ga(!o||ke(o)),o=o||[];var l=r.orderMode;if(e.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Qe(u,l)){var c=new xue(u[l],null);o.sort(function(m,y){return c.evaluate(m.sortParam,y.sortParam)})}else l==="seriesDesc"&&o.reverse()}B(o,function(m,y){var x=e.valueFormatter,w=Cue(m)(x?De(De({},r),{valueFormatter:x}):r,m,y>0?a.html:0,n);w!=null&&s.push(w)});var f=r.renderMode==="richText"?s.join(a.richText):A4(n,s.join(""),i?t:a.html);if(i)return f;var h=_4(e.header,"ordinal",r.useUTC),p=Eue(n,r.renderMode).nameStyle,v=Aue(n);return r.renderMode==="richText"?Iue(r,h,p)+a.richText+f:A4(n,'<div style="'+p+";"+v+';">'+ka(h)+"</div>"+f,t)}function Kqe(r,e,t,n){var i=r.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,u=r.useUTC,c=e.valueFormatter||r.valueFormatter||function(T){return T=ke(T)?T:[T],Pe(T,function(C,D){return _4(C,ke(p)?p[D]:p,u)})};if(!(a&&s)){var f=o?"":r.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=a?"":_4(l,"ordinal",u),p=e.valueType,v=s?[]:c(e.value,e.dataIndex),m=!o||!a,y=!o&&a,x=Eue(n,i),w=x.nameStyle,b=x.valueStyle;return i==="richText"?(o?"":f)+(a?"":Iue(r,h,w))+(s?"":eYe(r,v,m,y,b)):A4(n,(o?"":f)+(a?"":Qqe(h,!o,w))+(s?"":Jqe(v,m,y,b)),t)}}function Cq(r,e,t,n,i,a){if(r){var s=Cue(r),o={useUTC:i,renderMode:t,orderMode:n,markupStyleCreator:e,valueFormatter:r.valueFormatter};return s(o,r,0,a)}}function Zqe(r){return{html:qqe[r],richText:Yqe[r]}}function A4(r,e,t){var n='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=Aue(r);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function Qqe(r,e,t){var n=e?"margin-left:2px":"";return'<span style="'+t+";"+n+'">'+ka(r)+"</span>"}function Jqe(r,e,t,n){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return r=ke(r)?r:[r],'<span style="'+a+";"+n+'">'+Pe(r,function(s){return ka(s)}).join("&nbsp;&nbsp;")+"</span>"}function Iue(r,e,t){return r.markupStyleCreator.wrapRichTextStyle(e,t)}function eYe(r,e,t,n,i){var a=[i],s=n?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(ke(e)?e.join("  "):e,a)}function Rue(r,e){var t=r.getData().getItemVisual(e,"style"),n=t[r.visualDrawType];return Gv(n)}function Mue(r,e){var t=r.get("padding");return t??(e==="richText"?[8,10]:10)}var DP=function(){function r(){this.richTextStyles={},this._nextStyleNameId=Yoe()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(e,t,n){var i=n==="richText"?this._generateStyleName():null,a=Qle({color:t,type:e,renderMode:n,markerId:i});return $e(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(e,t){var n={};ke(t)?B(t,function(a){return De(n,a)}):De(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},r}();function kue(r){var e=r.series,t=r.dataIndex,n=r.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=ke(o),u=Rue(e,t),c,f,h,p;if(s>1||l&&!s){var v=tYe(o,e,t,a,u);c=v.inlineValues,f=v.inlineValueTypes,h=v.blocks,p=v.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);p=c=Km(i,t,a[0]),f=m.type}else p=c=l?o[0]:o;var y=bB(e),x=y&&e.name||"",w=i.getName(t),b=n?x:w;return Oi("section",{header:x,noHeader:n||!y,sortParam:p,blocks:[Oi("nameValue",{markerType:"item",markerColor:u,name:b,noName:!Qo(b),value:c,valueType:f,dataIndex:t})].concat(h||[])})}function tYe(r,e,t,n,i){var a=e.getData(),s=ol(r,function(f,h,p){var v=a.getDimensionInfo(p);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),o=[],l=[],u=[];n.length?B(n,function(f){c(Km(a,t,f),f)}):B(r,c);function c(f,h){var p=a.getDimensionInfo(h);!p||p.otherDims.tooltip===!1||(s?u.push(Oi("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:f,valueType:p.type})):(o.push(f),l.push(p.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var eh=Qt();function f2(r,e){return r.getName(e)||r.getId(e)}var bA="__universalTransitionEnabled",Lr=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ox({count:nYe,reset:iYe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=eh(this).sourceManager=new Tue(this);a.prepareSource();var s=this.getInitialData(t,i);Iq(s,this),this.dataTask.context.data=s,eh(this).dataBeforeProcessed=s,Dq(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=Ew(this),a=i?My(t):{},s=this.subType;zt.hasClass(s)&&(s+="Series"),bt(t,n.getTheme().get(this.subType)),bt(t,this.getDefaultOption()),Vv(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&fd(t,a,i)},e.prototype.mergeOption=function(t,n){t=bt(this.option,t,!0),this.fillDataTextStyle(t.data);var i=Ew(this);i&&fd(this.option,t,i);var a=eh(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,n);Iq(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,eh(this).dataBeforeProcessed=s,Dq(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!ys(t))for(var n=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Vv(t[i],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=E4(this);if(n){var i=n.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return eh(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=E4(this);if(n){var i=n.context;i.outputData=t,n!==this.dataTask&&(i.data=t)}eh(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return tt(t)},e.prototype.getSourceManager=function(){return eh(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return eh(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,n,i){return kue({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Ut.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,i){var a=this.ecModel,s=ZB.prototype.getColorFromPalette.call(this,t,n,i);return s||(s=a.getColorFromPalette(t,n,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],u=f2(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,n){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=Gt(t),i=[],a=0;a<n.length;a++){var s=t[n[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[f2(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[bA])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){ct(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var f=n[c],h=f2(t,f);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(o==="single"||o===!0){var p=n[l-1],h=f2(t,p);s.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=t.getRawIndex(p),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return zt.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(zt);Cn(Lr,aI);Cn(Lr,ZB);nle(Lr,zt);function Dq(r){var e=r.name;bB(r)||(r.name=rYe(r)||e)}function rYe(r){var e=r.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return B(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function nYe(r){return r.model.getRawData().count()}function iYe(r){var e=r.model;return e.setData(e.getRawData().cloneShallow()),aYe}function aYe(r,e){e.outputData&&r.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Iq(r,e){B($m(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(t){r.wrapMethod(t,xt(sYe,e))})}function sYe(r,e){var t=E4(r);return t&&t.setOutputEnd((e||this).count()),e}function E4(r){var e=(r.ecModel||{}).scheduler,t=e&&e.getPipeline(r.uid);if(t){var n=t.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var qr=function(){function r(){this.group=new pt,this.uid=Ry("viewComponent")}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){},r.prototype.updateLayout=function(e,t,n,i){},r.prototype.updateVisual=function(e,t,n,i){},r.prototype.toggleBlurSeries=function(e,t,n){},r.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},r}();TB(qr);GD(qr);function Ly(){var r=Qt();return function(e){var t=r(e),n=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(n&&n.large),o=t.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var Pue=Qt(),oYe=Ly(),Dr=function(){function r(){this.group=new pt,this.uid=Ry("viewChart"),this.renderTask=Ox({plan:lYe,reset:uYe}),this.renderTask.context={view:this}}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.highlight=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&Mq(a,i,"emphasis")},r.prototype.downplay=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&Mq(a,i,"normal")},r.prototype.remove=function(e,t){this.group.removeAll()},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.eachRendered=function(e){Sd(this.group,e)},r.markUpdateMethod=function(e,t){Pue(e).updateMethod=t},r.protoInitialize=function(){var e=r.prototype;e.type="chart"}(),r}();function Rq(r,e,t){r&&Sw(r)&&(e==="emphasis"?gf:mf)(r,t)}function Mq(r,e,t){var n=zv(r,e),i=e&&e.highlightKey!=null?$We(e.highlightKey):null;n!=null?B(Pr(n),function(a){Rq(r.getItemGraphicEl(a),t,i)}):r.eachItemGraphicEl(function(a){Rq(a,t,i)})}TB(Dr);GD(Dr);function lYe(r){return oYe(r.model)}function uYe(r){var e=r.model,t=r.ecModel,n=r.api,i=r.payload,a=e.pipelineContext.progressiveRender,s=r.view,o=i&&Pue(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,n,i),cYe[l]}var cYe={incrementalPrepareRender:{progress:function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},sC="\0__throttleOriginMethod",kq="\0__throttleRate",Pq="\0__throttleType";function oI(r,e,t){var n,i=0,a=0,s=null,o,l,u,c;e=e||0;function f(){a=new Date().getTime(),s=null,r.apply(l,u||[])}var h=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];n=new Date().getTime(),l=this,u=p;var m=c||e,y=c||t;c=null,o=n-(y?i:a)-m,clearTimeout(s),y?s=setTimeout(f,m):o>=0?f():s=setTimeout(f,-o),i=n};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.debounceNextCall=function(p){c=p},h}function Oy(r,e,t,n){var i=r[e];if(i){var a=i[sC]||i,s=i[Pq],o=i[kq];if(o!==t||s!==n){if(t==null||!n)return r[e]=a;i=r[e]=oI(a,t,n==="debounce"),i[sC]=a,i[Pq]=n,i[kq]=t}return i}}function Dw(r,e){var t=r[e];t&&t[sC]&&(t.clear&&t.clear(),r[e]=t[sC])}var Lq=Qt(),Oq={itemStyle:Uv(Hle,!0),lineStyle:Uv(Ule,!0)},fYe={lineStyle:"stroke",itemStyle:"fill"};function Lue(r,e){var t=r.visualStyleMapper||Oq[e];return t||(console.warn("Unknown style type '"+e+"'."),Oq.itemStyle)}function Oue(r,e){var t=r.visualDrawType||fYe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var hYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=Lue(r,n),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=Oue(r,n),u=s[l],c=it(u)?u:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||f){var h=r.getColorFromPalette(r.name,null,e.getSeriesCount());s[l]||(s[l]=h,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||it(s.fill)?h:s.fill,s.stroke=s.stroke==="auto"||it(s.stroke)?h:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(r)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(p,v){var m=r.getDataParams(v),y=De({},s);y[l]=c(m),p.setItemVisual(v,"style",y)}}}},u_=new sr,dYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!(r.ignoreStyleOnData||e.isSeriesFiltered(r))){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=Lue(r,n),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){u_.option=l[n];var u=i(u_),c=s.ensureUniqueItemVisual(o,"style");De(c,u),u_.option.decal&&(s.setItemVisual(o,"decal",u_.option.decal),u_.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},pYe={performRawSeries:!0,overallReset:function(r){var e=tt();r.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),Lq(t).scope=a}}),r.eachSeries(function(t){if(!(t.isColorBySeries()||r.isSeriesFiltered(t))){var n=t.getRawData(),i={},a=t.getData(),s=Lq(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=Oue(t,o);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),p=n.getName(u)||u+"",v=n.count();h[l]=t.getColorFromPalette(p,s,v)}})}})}},h2=Math.PI;function vYe(r,e){e=e||{},ut(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new pt,n=new Xt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var i=new Yt({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Xt({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new kb({shape:{startAngle:-h2/2,endAngle:-h2/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:h2*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:h2*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(r.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),c=r.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}var Nue=function(){function r(e,t,n,i){this._stageTaskMap=tt(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},r.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},r.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},r.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=tt();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;B(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";Ga(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,n),i.overallReset&&this._createOverallStageTask(i,a,t,n)},this)},r.prototype.prepareView=function(e,t,n,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=n,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},r.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},r.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},r.prototype._performStageTasks=function(e,t,n,i){i=i||{};var a=!1,s=this;B(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var p,v=h.agentStubMap;v.each(function(y){o(i,y)&&(y.dirty(),p=!0)}),p&&h.dirty(),s.updatePayload(h,n);var m=s.getPerformArgs(h,i.block);v.each(function(y){y.perform(m)}),h.perform(m)&&(a=!0)}else f&&f.each(function(y,x){o(i,y)&&y.dirty();var w=s.getPerformArgs(y,i.block);w.skip=!l.performRawSeries&&t.isSeriesFiltered(y.context.model),s.updatePayload(y,n),y.perform(w)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},r.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},r.prototype._createSeriesStageTask=function(e,t,n,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=tt(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(f){var h=f.uid,p=o.set(h,s&&s.get(h)||Ox({plan:xYe,reset:wYe,count:SYe}));p.context={model:f,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,p)}},r.prototype._createOverallStageTask=function(e,t,n,i){var a=this,s=t.overallTask=t.overallTask||Ox({reset:gYe});s.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=tt(),u=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,p="";Ga(!e.createOnAllSeries,p),u?n.eachRawSeriesByType(u,v):c?c(n,i).each(v):(f=!1,B(n.getSeries(),v));function v(m){var y=m.uid,x=l.set(y,o&&o.get(y)||(h=!0,Ox({reset:mYe,onDirty:_Ye})));x.context={model:m,overallProgress:f},x.agent=s,x.__block=f,a._pipe(m,x)}h&&s.dirty()},r.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},r.wrapStageHandler=function(e,t){return it(e)&&(e={overallReset:e,seriesType:TYe(e)}),e.uid=Ry("stageHandler"),t&&(e.visualType=t),e},r}();function gYe(r){r.overallReset(r.ecModel,r.api,r.payload)}function mYe(r){return r.overallProgress&&yYe}function yYe(){this.agent.dirty(),this.getDownstream().dirty()}function _Ye(){this.agent&&this.agent.dirty()}function xYe(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function wYe(r){r.useClearVisual&&r.data.clearAllVisual();var e=r.resetDefines=Pr(r.reset(r.model,r.ecModel,r.api,r.payload));return e.length>1?Pe(e,function(t,n){return Fue(n)}):bYe}var bYe=Fue(0);function Fue(r){return function(e,t){var n=t.data,i=t.resetDefines[r];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function SYe(r){return r.data.count()}function TYe(r){oC=null;try{r(Iw,Bue)}catch{}return oC}var Iw={},Bue={},oC;Vue(Iw,QB);Vue(Bue,uue);Iw.eachSeriesByType=Iw.eachRawSeriesByType=function(r){oC=r};Iw.eachComponent=function(r){r.mainType==="series"&&r.subType&&(oC=r.subType)};function Vue(r,e){for(var t in e.prototype)r[t]=An}var Nq=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const AYe={color:Nq,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Nq]};var Ea="#B9B8CE",Fq="#100C2A",d2=function(){return{axisLine:{lineStyle:{color:Ea}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Bq=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],zue={darkMode:!0,color:Bq,backgroundColor:Fq,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ea},pageTextStyle:{color:Ea}},textStyle:{color:Ea},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ea}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ea},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ea}},timeline:{lineStyle:{color:Ea},label:{color:Ea},controlStyle:{color:Ea,borderColor:Ea}},calendar:{itemStyle:{color:Fq},dayLabel:{color:Ea},monthLabel:{color:Ea},yearLabel:{color:Ea}},timeAxis:d2(),logAxis:d2(),valueAxis:d2(),categoryAxis:d2(),line:{symbol:"circle"},graph:{color:Bq},gauge:{title:{color:Ea},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ea},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};zue.categoryAxis.splitLine.show=!1;var EYe=function(){function r(){}return r.prototype.normalizeQuery=function(e){var t={},n={},i={};if($e(e)){var a=Ou(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};B(e,function(l,u){for(var c=!1,f=0;f<s.length;f++){var h=s[f],p=u.lastIndexOf(h);if(p>0&&p===u.length-h.length){var v=u.slice(0,p);v!=="data"&&(t.mainType=v,t[h.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},r.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function c(f,h,p,v){return f[p]==null||h[v||p]===f[p]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),C4=["symbol","symbolSize","symbolRotate","symbolOffset"],Vq=C4.concat(["symbolKeepAspect"]),CYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData();if(r.legendIcon&&t.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<C4.length;s++){var o=C4[s],l=r.get(o);it(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||r.defaultSymbol,t.setVisual(De({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),e.isSeriesFiltered(r))return;var u=Gt(i);function c(f,h){for(var p=r.getRawValue(h),v=r.getDataParams(h),m=0;m<u.length;m++){var y=u[m];f.setItemVisual(h,y,i[y](p,v))}}return{dataEach:a?c:null}}},DYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!r.hasSymbolVisual||e.isSeriesFiltered(r))return;var t=r.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<Vq.length;o++){var l=Vq[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?n:null}}};function nV(r,e,t){switch(t){case"color":var n=r.getItemVisual(e,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(e,t)}}function Nb(r,e){switch(e){case"color":var t=r.getVisual("style");return t[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(e)}}function Uue(r,e,t,n){switch(t){case"color":var i=r.ensureUniqueItemVisual(e,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(e,t,n);break}}function Hue(r,e){function t(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(s){a.push(s.seriesIndex)}),a}B([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,s){i=De({},i),s.dispatchAction(De(i,{type:n[1],seriesIndex:t(a,i)}))})})}function m0(r,e,t,n,i){var a=r+e;t.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var f=s.getData(),h=zv(f,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:ke(h)?f.getName(h[0]):f.getName(h),selected:$e(l)?l:De({},l)})}})}function IYe(r,e,t){r.on("selectchanged",function(n){var i=t.getModel();n.isFromClick?(m0("map","selectchanged",e,i,n),m0("pie","selectchanged",e,i,n)):n.fromAction==="select"?(m0("map","selected",e,i,n),m0("pie","selected",e,i,n)):n.fromAction==="unselect"&&(m0("map","unselected",e,i,n),m0("pie","unselected",e,i,n))})}function av(r,e,t){for(var n;r&&!(e(r)&&(n=r,t));)r=r.__hostTarget||r.parent;return n}var RYe=Math.round(Math.random()*9),MYe=typeof Object.defineProperty=="function",kYe=function(){function r(){this._id="__ec_inner_"+RYe++}return r.prototype.get=function(e){return this._guard(e)[this._id]},r.prototype.set=function(e,t){var n=this._guard(e);return MYe?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},r.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},r.prototype.has=function(e){return!!this._guard(e)[this._id]},r.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},r}(),PYe=Ht.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n+a),r.lineTo(t-i,n+a),r.closePath()}}),LYe=Ht.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n),r.lineTo(t,n+a),r.lineTo(t-i,n),r.closePath()}}),OYe=Ht.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,f=Math.sin(u),h=Math.cos(u),p=s*.6,v=s*.7;r.moveTo(t-c,l+o),r.arc(t,l,s,Math.PI-u,Math.PI*2+u),r.bezierCurveTo(t+c-f*p,l+o+h*p,t,n-v,t,n),r.bezierCurveTo(t,n-v,t-c+f*p,l+o+h*p,t-c,l+o),r.closePath()}}),NYe=Ht.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.height,n=e.width,i=e.x,a=e.y,s=n/3*2;r.moveTo(i,a),r.lineTo(i+s,a+t),r.lineTo(i,a+t/4*3),r.lineTo(i-s,a+t),r.lineTo(i,a),r.closePath()}}),FYe={line:mi,rect:Xt,roundRect:Xt,square:Xt,circle:lc,diamond:LYe,pin:OYe,arrow:NYe,triangle:PYe},BYe={line:function(r,e,t,n,i){i.x1=r,i.y1=e+n/2,i.x2=r+t,i.y2=e+n/2},rect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n},roundRect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n,i.r=Math.min(t,n)/4},square:function(r,e,t,n,i){var a=Math.min(t,n);i.x=r,i.y=e,i.width=a,i.height=a},circle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.r=Math.min(t,n)/2},diamond:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n},pin:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},arrow:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},triangle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n}},lC={};B(FYe,function(r,e){lC[e]=new r});var VYe=Ht.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,e,t){var n=ZE(r,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(r,e,t){var n=e.symbolType;if(n!=="none"){var i=lC[n];i||(n="rect",i=lC[n]),BYe[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(r,i.shape,t)}}});function zYe(r,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=r,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=r:t.fill=r,this.markRedraw()}}function Bn(r,e,t,n,i,a,s){var o=r.indexOf("empty")===0;o&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=OB(r.slice(8),new Ct(e,t,n,i),s?"center":"cover"):r.indexOf("path://")===0?l=Pb(r.slice(7),{},new Ct(e,t,n,i),s?"center":"cover"):l=new VYe({shape:{symbolType:r,x:e,y:t,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=zYe,a&&l.setColor(a),l}function Ny(r){return ke(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function dg(r,e){if(r!=null)return ke(r)||(r=[r,r]),[je(r[0],e[0])||0,je(_t(r[1],r[0]),e[1])||0]}function sv(r){return isFinite(r)}function UYe(r,e,t){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(n=n*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),n=sv(n)?n:0,i=sv(i)?i:1,a=sv(a)?a:0,s=sv(s)?s:0;var o=r.createLinearGradient(n,a,i,s);return o}function HYe(r,e,t){var n=t.width,i=t.height,a=Math.min(n,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*n+t.x,o=o*i+t.y,l=l*a),s=sv(s)?s:.5,o=sv(o)?o:.5,l=l>=0&&sv(l)?l:.5;var u=r.createRadialGradient(s,o,0,s,o,l);return u}function D4(r,e,t){for(var n=e.type==="radial"?HYe(r,e,t):UYe(r,e,t),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function GYe(r,e){if(r===e||!r&&!e)return!1;if(!r||!e||r.length!==e.length)return!0;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!0;return!1}function p2(r){return parseInt(r,10)}function em(r,e,t){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var o=document.defaultView.getComputedStyle(r);return(r[i]||p2(o[n])||p2(r.style[n]))-(p2(o[a])||0)-(p2(o[s])||0)|0}function jYe(r,e){return!r||r==="solid"||!(e>0)?null:r==="dashed"?[4*e,2*e]:r==="dotted"?[e]:tr(r)?[r]:ke(r)?r:null}function iV(r){var e=r.style,t=e.lineDash&&e.lineWidth>0&&jYe(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(t){var i=e.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(t=Pe(t,function(a){return a/i}),n/=i)}return[t,n]}var WYe=new ic(!0);function uC(r){var e=r.stroke;return!(e==null||e==="none"||!(r.lineWidth>0))}function zq(r){return typeof r=="string"&&r!=="none"}function cC(r){var e=r.fill;return e!=null&&e!=="none"}function Uq(r,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.fillOpacity*e.opacity,r.fill(),r.globalAlpha=t}else r.fill()}function Hq(r,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.strokeOpacity*e.opacity,r.stroke(),r.globalAlpha=t}else r.stroke()}function I4(r,e,t){var n=AB(e.image,e.__image,t);if(jD(n)){var i=r.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Sx),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function $Ye(r,e,t,n){var i,a=uC(t),s=cC(t),o=t.strokePercent,l=o<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||WYe,f=e.__dirty;if(!n){var h=t.fill,p=t.stroke,v=s&&!!h.colorStops,m=a&&!!p.colorStops,y=s&&!!h.image,x=a&&!!p.image,w=void 0,b=void 0,T=void 0,C=void 0,D=void 0;(v||m)&&(D=e.getBoundingRect()),v&&(w=f?D4(r,h,D):e.__canvasFillGradient,e.__canvasFillGradient=w),m&&(b=f?D4(r,p,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),y&&(T=f||!e.__canvasFillPattern?I4(r,h,e):e.__canvasFillPattern,e.__canvasFillPattern=T),x&&(C=f||!e.__canvasStrokePattern?I4(r,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=T),v?r.fillStyle=w:y&&(T?r.fillStyle=T:s=!1),m?r.strokeStyle=b:x&&(C?r.strokeStyle=C:a=!1)}var E=e.getGlobalScale();c.setScale(E[0],E[1],e.segmentIgnoreThreshold);var R,M;r.setLineDash&&t.lineDash&&(i=iV(e),R=i[0],M=i[1]);var k=!0;(u||f&O0)&&(c.setDPR(r.dpr),l?c.setContext(null):(c.setContext(r),k=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),k&&c.rebuildPath(r,l?o:1),R&&(r.setLineDash(R),r.lineDashOffset=M),n||(t.strokeFirst?(a&&Hq(r,t),s&&Uq(r,t)):(s&&Uq(r,t),a&&Hq(r,t))),R&&r.setLineDash([])}function qYe(r,e,t){var n=e.__image=AB(t.image,e.__image,e,e.onload);if(!(!n||!jD(n))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;r.drawImage(n,u,c,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=s-u,h=o-c;r.drawImage(n,u,c,f,h,i,a,s,o)}else r.drawImage(n,i,a,s,o)}}function YYe(r,e,t){var n,i=t.text;if(i!=null&&(i+=""),i){r.font=t.font||ld,r.textAlign=t.textAlign,r.textBaseline=t.textBaseline;var a=void 0,s=void 0;r.setLineDash&&t.lineDash&&(n=iV(e),a=n[0],s=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=s),t.strokeFirst?(uC(t)&&r.strokeText(i,t.x,t.y),cC(t)&&r.fillText(i,t.x,t.y)):(cC(t)&&r.fillText(i,t.x,t.y),uC(t)&&r.strokeText(i,t.x,t.y)),a&&r.setLineDash([])}}var Gq=["shadowBlur","shadowOffsetX","shadowOffsetY"],jq=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Gue(r,e,t,n,i){var a=!1;if(!n&&(t=t||{},e===t))return!1;if(n||e.opacity!==t.opacity){Fs(r,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);r.globalAlpha=isNaN(s)?yv.opacity:s}(n||e.blend!==t.blend)&&(a||(Fs(r,i),a=!0),r.globalCompositeOperation=e.blend||yv.blend);for(var o=0;o<Gq.length;o++){var l=Gq[o];(n||e[l]!==t[l])&&(a||(Fs(r,i),a=!0),r[l]=r.dpr*(e[l]||0))}return(n||e.shadowColor!==t.shadowColor)&&(a||(Fs(r,i),a=!0),r.shadowColor=e.shadowColor||yv.shadowColor),a}function Wq(r,e,t,n,i){var a=Rw(e,i.inHover),s=n?null:t&&Rw(t,i.inHover)||{};if(a===s)return!1;var o=Gue(r,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(Fs(r,i),o=!0),zq(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(Fs(r,i),o=!0),zq(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(Fs(r,i),o=!0),r.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);r.lineWidth!==u&&(o||(Fs(r,i),o=!0),r.lineWidth=u)}for(var c=0;c<jq.length;c++){var f=jq[c],h=f[0];(n||a[h]!==s[h])&&(o||(Fs(r,i),o=!0),r[h]=a[h]||f[1])}return o}function XYe(r,e,t,n,i){return Gue(r,Rw(e,i.inHover),t&&Rw(t,i.inHover),n,i)}function jue(r,e){var t=e.transform,n=r.dpr||1;t?r.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):r.setTransform(n,0,0,n,0,0)}function KYe(r,e,t){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),jue(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=n}function ZYe(r,e){return r&&e?r[0]!==e[0]||r[1]!==e[1]||r[2]!==e[2]||r[3]!==e[3]||r[4]!==e[4]||r[5]!==e[5]:!(!r&&!e)}var $q=1,qq=2,Yq=3,Xq=4;function QYe(r){var e=cC(r),t=uC(r);return!(r.lineDash||!(+e^+t)||e&&typeof r.fill!="string"||t&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function Fs(r,e){e.batchFill&&r.fill(),e.batchStroke&&r.stroke(),e.batchFill="",e.batchStroke=""}function Rw(r,e){return e&&r.__hoverStyle||r.style}function aV(r,e){ov(r,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ov(r,e,t,n){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~ao,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||GYe(a,s))&&(s&&s.length&&(Fs(r,t),r.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Fs(r,t),r.save(),KYe(a,r,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=o=!0);var c=e instanceof Ht&&e.autoBatch&&QYe(e.style);o||ZYe(i,u.transform)?(Fs(r,t),jue(r,e)):c||Fs(r,t);var f=Rw(e,t.inHover);e instanceof Ht?(t.lastDrawType!==$q&&(l=!0,t.lastDrawType=$q),Wq(r,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&r.beginPath(),$Ye(r,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof Ym?(t.lastDrawType!==Yq&&(l=!0,t.lastDrawType=Yq),Wq(r,e,u,l,t),YYe(r,e,f)):e instanceof Ni?(t.lastDrawType!==qq&&(l=!0,t.lastDrawType=qq),XYe(r,e,u,l,t),qYe(r,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==Xq&&(l=!0,t.lastDrawType=Xq),JYe(r,e,t)),c&&n&&Fs(r,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function JYe(r,e,t){var n=e.getDisplayables(),i=e.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ov(r,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ov(r,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,r.restore()}var IP=new kYe,Kq=new Cb(100),Zq=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Zm(r,e){if(r==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";r.dirty&&IP.delete(r);var a=IP.get(r);if(a)return a;var s=ut(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,IP.set(r,o),r.dirty=!1,o;function l(u){for(var c=[t],f=!0,h=0;h<Zq.length;++h){var p=s[Zq[h]];if(p!=null&&!ke(p)&&!$e(p)&&!tr(p)&&typeof p!="boolean"){f=!1;break}c.push(p)}var v;if(f){v=c.join(",")+(i?"-svg":"");var m=Kq.get(v);m&&(i?u.svgElement=m:u.image=m)}var y=$ue(s.dashArrayX),x=eXe(s.dashArrayY),w=Wue(s.symbol),b=tXe(y),T=que(x),C=!i&&$l.createCanvas(),D=i&&{tag:"g",attrs:{},key:"dcl",children:[]},E=M(),R;C&&(C.width=E.width*t,C.height=E.height*t,R=C.getContext("2d")),k(),f&&Kq.put(v,C||D),u.image=C,u.svgElement=D,u.svgWidth=E.width,u.svgHeight=E.height;function M(){for(var L=1,O=0,N=b.length;O<N;++O)L=p$(L,b[O]);for(var W=1,O=0,N=w.length;O<N;++O)W=p$(W,w[O].length);L*=W;var U=T*b.length*w.length;return{width:Math.max(1,Math.min(L,s.maxTileWidth)),height:Math.max(1,Math.min(U,s.maxTileHeight))}}function k(){R&&(R.clearRect(0,0,C.width,C.height),s.backgroundColor&&(R.fillStyle=s.backgroundColor,R.fillRect(0,0,C.width,C.height)));for(var L=0,O=0;O<x.length;++O)L+=x[O];if(L<=0)return;for(var N=-T,W=0,U=0,z=0;N<E.height;){if(W%2===0){for(var Y=U/2%w.length,re=0,K=0,q=0;re<E.width*2;){for(var Q=0,O=0;O<y[z].length;++O)Q+=y[z][O];if(Q<=0)break;if(K%2===0){var j=(1-s.symbolSize)*.5,J=re+y[z][K]*j,te=N+x[W]*j,se=y[z][K]*s.symbolSize,de=x[W]*s.symbolSize,Oe=q/2%w[Y].length;Ae(J,te,se,de,w[Y][Oe])}re+=y[z][K],++q,++K,K===y[z].length&&(K=0)}++z,z===y.length&&(z=0)}N+=x[W],++U,++W,W===x.length&&(W=0)}function Ae(ye,Se,me,ee,mt){var rt=i?1:t,at=Bn(mt,ye*rt,Se*rt,me*rt,ee*rt,s.color,s.symbolKeepAspect);if(i){var ot=n.painter.renderOneToVNode(at);ot&&D.children.push(ot)}else aV(R,at)}}}}function Wue(r){if(!r||r.length===0)return[["rect"]];if($e(r))return[[r]];for(var e=!0,t=0;t<r.length;++t)if(!$e(r[t])){e=!1;break}if(e)return Wue([r]);for(var n=[],t=0;t<r.length;++t)$e(r[t])?n.push([r[t]]):n.push(r[t]);return n}function $ue(r){if(!r||r.length===0)return[[0,0]];if(tr(r)){var e=Math.ceil(r);return[[e,e]]}for(var t=!0,n=0;n<r.length;++n)if(!tr(r[n])){t=!1;break}if(t)return $ue([r]);for(var i=[],n=0;n<r.length;++n)if(tr(r[n])){var e=Math.ceil(r[n]);i.push([e,e])}else{var e=Pe(r[n],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function eXe(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(tr(r)){var e=Math.ceil(r);return[e,e]}var t=Pe(r,function(n){return Math.ceil(n)});return r.length%2?t.concat(t):t}function tXe(r){return Pe(r,function(e){return que(e)})}function que(r){for(var e=0,t=0;t<r.length;++t)e+=r[t];return r.length%2===1?e*2:e}function rXe(r,e){r.eachRawSeries(function(t){if(!r.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=Zm(o,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=Zm(i,e)}}})}var El=new cl,Yue={};function nXe(r,e){Yue[r]=e}function Xue(r){return Yue[r]}var iXe="5.6.0",aXe={zrender:"5.6.1"},sXe=1,oXe=800,lXe=900,uXe=1e3,cXe=2e3,fXe=5e3,Kue=1e3,hXe=1100,sV=2e3,Zue=3e3,dXe=4e3,lI=4500,pXe=4600,vXe=5e3,gXe=6e3,Que=7e3,Jue={PROCESSOR:{FILTER:uXe,SERIES_FILTER:oXe,STATISTIC:fXe},VISUAL:{LAYOUT:Kue,PROGRESSIVE_LAYOUT:hXe,GLOBAL:sV,CHART:Zue,POST_CHART_LAYOUT:pXe,COMPONENT:dXe,BRUSH:vXe,CHART_ITEM:lI,ARIA:gXe,DECAL:Que}},Aa="__flagInMainProcess",Rs="__pendingUpdate",RP="__needsUpdateStatus",Qq=/^[a-zA-Z0-9_]+$/,MP="__connectUpdateStatus",Jq=0,mXe=1,yXe=2;function ece(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return rce(this,r,e)}}function tce(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rce(this,r,e)}}function rce(r,e,t){return t[0]=t[0]&&t[0].toLowerCase(),cl.prototype[e].apply(r,t)}var nce=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(cl),ice=nce.prototype;ice.on=tce("on");ice.off=tce("off");var y0,kP,v2,th,PP,LP,OP,c_,f_,eY,tY,NP,rY,g2,nY,ace,Oo,iY,fC=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,new EYe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},$e(n)&&(n=sce[n]),a._dom=t;var s="canvas",o="auto",l=!1;i.ssr&&Goe(function(h){var p=gt(h),v=p.dataIndex;if(v!=null){var m=tt();return m.set("series_index",p.seriesIndex),m.set("data_index",v),p.ssrType&&m.set("ssr_type",p.ssrType),m}});var u=a._zr=r4(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:_t(i.useDirtyRect,l),useCoarsePointer:_t(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=oI(Xe(u.flush,u),17),n=ht(n),n&&fue(n,!0),a._theme=n,a._locale=O$e(i.locale||Gle),a._coordSysMgr=new Py;var c=a._api=nY(a);function f(h,p){return h.__prio-p.__prio}return fA(dC,f),fA(R4,f),a._scheduler=new Nue(a,c,R4,dC),a._messageCenter=new nce,a._initEvents(),a.resize=Xe(a.resize,a),u.animation.on("frame",a._onframe,a),eY(u,a),tY(u,a),pw(a),a}return e.prototype._onframe=function(){if(!this._disposed){iY(this);var t=this._scheduler;if(this[Rs]){var n=this[Rs].silent;this[Aa]=!0;try{y0(this),th.update.call(this,null,this[Rs].updateParams)}catch(l){throw this[Aa]=!1,this[Rs]=null,l}this._zr.flush(),this[Aa]=!1,this[Rs]=null,c_.call(this,n),f_.call(this,n)}else if(t.unfinished){var i=sXe,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),LP(this,a),t.performVisualTasks(a),g2(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,i){if(!this[Aa]){if(this._disposed){this.id;return}var a,s,o;if(ct(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[Aa]=!0,!this._model||n){var l=new lqe(this._api),u=this._theme,c=this._model=new QB;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:s},M4);var f={seriesTransition:o,optionChanged:!0};if(i)this[Rs]={silent:a,updateParams:f},this[Aa]=!1,this.getZr().wakeUp();else{try{y0(this),th.update.call(this,null,f)}catch(h){throw this[Rs]=null,this[Aa]=!1,h}this._ssr||this._zr.flush(),this[Rs]=null,this[Aa]=!1,c_.call(this,a),f_.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ut.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Ut.svgSupported){var t=this._zr,n=t.storage.getDisplayList();return B(n,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var n=t.excludeComponents,i=this._model,a=[],s=this;B(n,function(l){i.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return B(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(pC[i]){var l=o,u=o,c=-o,f=-o,h=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();B(wv,function(b,T){if(b.group===i){var C=n?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(ht(t)),D=b.getDom().getBoundingClientRect();l=a(D.left,l),u=a(D.top,u),c=s(D.right,c),f=s(D.bottom,f),h.push({dom:C,left:D.left,top:D.top})}}),l*=p,u*=p,c*=p,f*=p;var v=c-l,m=f-u,y=$l.createCanvas(),x=r4(y,{renderer:n?"svg":"canvas"});if(x.resize({width:v,height:m}),n){var w="";return B(h,function(b){var T=b.left-l,C=b.top-u;w+='<g transform="translate('+T+","+C+')">'+b.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=w,t.connectedBackgroundColor&&x.painter.setBackgroundColor(t.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return t.connectedBackgroundColor&&x.add(new Xt({shape:{x:0,y:0,width:v,height:m},style:{fill:t.connectedBackgroundColor}})),B(h,function(b){var T=new Ni({style:{x:b.left*p-l,y:b.top*p-u,image:b.dom}});x.add(T)}),x.refreshImmediately(),y.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n){return PP(this,"convertToPixel",t,n)},e.prototype.convertFromPixel=function(t,n){return PP(this,"convertFromPixel",t,n)},e.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var i=this._model,a,s=Rx(i,t);return B(s,function(o,l){l.indexOf("Models")>=0&&B(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},e.prototype.getVisual=function(t,n){var i=this._model,a=Rx(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?nV(o,l,n):Nb(o,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;B(_Xe,function(n){var i=function(a){var s=t.getModel(),o=a.target,l,u=n==="globalout";if(u?l={}:o&&av(o,function(v){var m=gt(v);if(m&&m.dataIndex!=null){var y=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=y&&y.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=De({},m.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var h=c&&f!=null&&s.getComponent(c,f),p=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=a,l.type=n,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:h,view:p},t.trigger(n,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(n,i,t)}),B(Nx,function(n,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),B(["selectchanged"],function(n){t._messageCenter.on(n,function(i){this.trigger(n,i)},t)}),IYe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&ele(this.getDom(),lV,"");var n=this,i=n._api,a=n._model;B(n._componentsViews,function(s){s.dispose(a,i)}),B(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete wv[n.id]},e.prototype.resize=function(t){if(!this[Aa]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=t&&t.silent;this[Rs]&&(a==null&&(a=this[Rs].silent),i=!0,this[Rs]=null),this[Aa]=!0;try{i&&y0(this),th.update.call(this,{type:"resize",animation:De({duration:0},t&&t.animation)})}catch(s){throw this[Aa]=!1,s}this[Aa]=!1,c_.call(this,a),f_.call(this,a)}}},e.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(ct(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!!k4[t]){var i=k4[t](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=De({},t);return n.type=Nx[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(ct(n)||(n={silent:!!n}),!!hC[t.type]&&this._model){if(this[Aa]){this._pendingActions.push(t);return}var i=n.silent;OP.call(this,t,i);var a=n.flush;a?this._zr.flush():a!==!1&&Ut.browser.weChat&&this._throttledZrFlush(),c_.call(this,i),f_.call(this,i)}},e.prototype.updateLabelLayout=function(){El.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){y0=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),kP(f,!0),kP(f,!1),h.plan()},kP=function(f,h){for(var p=f._model,v=f._scheduler,m=h?f._componentsViews:f._chartsViews,y=h?f._componentsMap:f._chartsMap,x=f._zr,w=f._api,b=0;b<m.length;b++)m[b].__alive=!1;h?p.eachComponent(function(D,E){D!=="series"&&T(E)}):p.eachSeries(T);function T(D){var E=D.__requireNewView;D.__requireNewView=!1;var R="_ec_"+D.id+"_"+D.type,M=!E&&y[R];if(!M){var k=Ou(D.type),L=h?qr.getClass(k.main,k.sub):Dr.getClass(k.sub);M=new L,M.init(p,w),y[R]=M,m.push(M),x.add(M.group)}D.__viewId=M.__id=R,M.__alive=!0,M.__model=D,M.group.__ecComponentInfo={mainType:D.mainType,index:D.componentIndex},!h&&v.prepareView(M,D,p,w)}for(var b=0;b<m.length;){var C=m[b];C.__alive?b++:(!h&&C.renderTask.dispose(),x.remove(C.group),C.dispose(p,w),m.splice(b,1),y[C.__id]===C&&delete y[C.__id],C.__id=C.group.__ecComponentInfo=null)}},v2=function(f,h,p,v,m){var y=f._model;if(y.setUpdatePayload(p),!v){B([].concat(f._componentsViews).concat(f._chartsViews),C);return}var x={};x[v+"Id"]=p[v+"Id"],x[v+"Index"]=p[v+"Index"],x[v+"Name"]=p[v+"Name"];var w={mainType:v,query:x};m&&(w.subType=m);var b=p.excludeSeriesId,T;b!=null&&(T=tt(),B(Pr(b),function(D){var E=gi(D,null);E!=null&&T.set(E,!0)})),y&&y.eachComponent(w,function(D){var E=T&&T.get(D.id)!=null;if(!E)if(z$(p))if(D instanceof Lr)p.type===_v&&!p.notBlur&&!D.get(["emphasis","disabled"])&&BWe(D,p,f._api);else{var R=MB(D.mainType,D.componentIndex,p.name,f._api),M=R.focusSelf,k=R.dispatchers;p.type===_v&&M&&!p.notBlur&&h4(D.mainType,D.componentIndex,f._api),k&&B(k,function(L){p.type===_v?gf(L):mf(L)})}else p4(p)&&D instanceof Lr&&(UWe(D,p,f._api),B$(D),Oo(f))},f),y&&y.eachComponent(w,function(D){var E=T&&T.get(D.id)!=null;E||C(f[v==="series"?"_chartsMap":"_componentsMap"][D.__viewId])},f);function C(D){D&&D.__alive&&D[h]&&D[h](D.__model,y,f._api,p)}},th={prepareAndUpdate:function(f){y0(this),th.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,h){var p=this._model,v=this._api,m=this._zr,y=this._coordSysMgr,x=this._scheduler;if(p){p.setUpdatePayload(f),x.restoreData(p,f),x.performSeriesTasks(p),y.create(p,v),x.performDataProcessorTasks(p,f),LP(this,p),y.update(p,v),t(p),x.performVisualTasks(p,f),NP(this,p,v,f,h);var w=p.get("backgroundColor")||"transparent",b=p.get("darkMode");m.setBackgroundColor(w),b!=null&&b!=="auto"&&m.setDarkMode(b),El.trigger("afterupdate",p,v)}},updateTransform:function(f){var h=this,p=this._model,v=this._api;if(p){p.setUpdatePayload(f);var m=[];p.eachComponent(function(x,w){if(x!=="series"){var b=h.getViewOfComponentModel(w);if(b&&b.__alive)if(b.updateTransform){var T=b.updateTransform(w,p,v,f);T&&T.update&&m.push(b)}else m.push(b)}});var y=tt();p.eachSeries(function(x){var w=h._chartsMap[x.__viewId];if(w.updateTransform){var b=w.updateTransform(x,p,v,f);b&&b.update&&y.set(x.uid,1)}else y.set(x.uid,1)}),t(p),this._scheduler.performVisualTasks(p,f,{setDirty:!0,dirtyMap:y}),g2(this,p,v,f,{},y),El.trigger("afterupdate",p,v)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),Dr.markUpdateMethod(f,"updateView"),t(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),NP(this,h,this._api,f,{}),El.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,p=this._model;p&&(p.setUpdatePayload(f),p.eachSeries(function(v){v.getData().clearAllVisual()}),Dr.markUpdateMethod(f,"updateVisual"),t(p),this._scheduler.performVisualTasks(p,f,{visualType:"visual",setDirty:!0}),p.eachComponent(function(v,m){if(v!=="series"){var y=h.getViewOfComponentModel(m);y&&y.__alive&&y.updateVisual(m,p,h._api,f)}}),p.eachSeries(function(v){var m=h._chartsMap[v.__viewId];m.updateVisual(v,p,h._api,f)}),El.trigger("afterupdate",p,this._api))},updateLayout:function(f){th.update.call(this,f)}},PP=function(f,h,p,v){if(f._disposed){f.id;return}for(var m=f._model,y=f._coordSysMgr.getCoordinateSystems(),x,w=Rx(m,p),b=0;b<y.length;b++){var T=y[b];if(T[h]&&(x=T[h](m,w,v))!=null)return x}},LP=function(f,h){var p=f._chartsMap,v=f._scheduler;h.eachSeries(function(m){v.updateStreamModes(m,p[m.__viewId])})},OP=function(f,h){var p=this,v=this.getModel(),m=f.type,y=f.escapeConnect,x=hC[m],w=x.actionInfo,b=(w.update||"update").split(":"),T=b.pop(),C=b[0]!=null&&Ou(b[0]);this[Aa]=!0;var D=[f],E=!1;f.batch&&(E=!0,D=Pe(f.batch,function(W){return W=ut(De({},W),f),W.batch=null,W}));var R=[],M,k=p4(f),L=z$(f);if(L&&ble(this._api),B(D,function(W){if(M=x.action(W,p._model,p._api),M=M||De({},W),M.type=w.event||M.type,R.push(M),L){var U=SB(f),z=U.queryOptionMap,Y=U.mainTypeSpecified,re=Y?z.keys()[0]:"series";v2(p,T,W,re),Oo(p)}else k?(v2(p,T,W,"series"),Oo(p)):C&&v2(p,T,W,C.main,C.sub)}),T!=="none"&&!L&&!k&&!C)try{this[Rs]?(y0(this),th.update.call(this,f),this[Rs]=null):th[T].call(this,f)}catch(W){throw this[Aa]=!1,W}if(E?M={type:w.event||m,escapeConnect:y,batch:R}:M=R[0],this[Aa]=!1,!h){var O=this._messageCenter;if(O.trigger(M.type,M),k){var N={type:"selectchanged",escapeConnect:y,selected:HWe(v),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};O.trigger(N.type,N)}}},c_=function(f){for(var h=this._pendingActions;h.length;){var p=h.shift();OP.call(this,p,f)}},f_=function(f){!f&&this.trigger("updated")},eY=function(f,h){f.on("rendered",function(p){h.trigger("rendered",p),f.animation.isFinished()&&!h[Rs]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},tY=function(f,h){f.on("mouseover",function(p){var v=p.target,m=av(v,Sw);m&&(VWe(m,p,h._api),Oo(h))}).on("mouseout",function(p){var v=p.target,m=av(v,Sw);m&&(zWe(m,p,h._api),Oo(h))}).on("click",function(p){var v=p.target,m=av(v,function(w){return gt(w).dataIndex!=null},!0);if(m){var y=m.selected?"unselect":"select",x=gt(m);h._api.dispatchAction({type:y,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function t(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function n(f){var h=[],p=[],v=!1;if(f.eachComponent(function(w,b){var T=b.get("zlevel")||0,C=b.get("z")||0,D=b.getZLevelKey();v=v||!!D,(w==="series"?p:h).push({zlevel:T,z:C,idx:b.componentIndex,type:w,key:D})}),v){var m=h.concat(p),y,x;fA(m,function(w,b){return w.zlevel===b.zlevel?w.z-b.z:w.zlevel-b.zlevel}),B(m,function(w){var b=f.getComponent(w.type,w.idx),T=w.zlevel,C=w.key;y!=null&&(T=Math.max(y,T)),C?(T===y&&C!==x&&T++,x=C):x&&(T===y&&T++,x=""),y=T,b.setZLevel(T)})}}NP=function(f,h,p,v,m){n(h),rY(f,h,p,v,m),B(f._chartsViews,function(y){y.__alive=!1}),g2(f,h,p,v,m),B(f._chartsViews,function(y){y.__alive||y.remove(h,p)})},rY=function(f,h,p,v,m,y){B(y||f._componentsViews,function(x){var w=x.__model;u(w,x),x.render(w,h,p,v),o(w,x),c(w,x)})},g2=function(f,h,p,v,m,y){var x=f._scheduler;m=De(m||{},{updatedSeries:h.getSeries()}),El.trigger("series:beforeupdate",h,p,m);var w=!1;h.eachSeries(function(b){var T=f._chartsMap[b.__viewId];T.__alive=!0;var C=T.renderTask;x.updatePayload(C,v),u(b,T),y&&y.get(b.uid)&&C.dirty(),C.perform(x.getPerformArgs(C))&&(w=!0),T.group.silent=!!b.get("silent"),s(b,T),B$(b)}),x.unfinished=w||x.unfinished,El.trigger("series:layoutlabels",h,p,m),El.trigger("series:transition",h,p,m),h.eachSeries(function(b){var T=f._chartsMap[b.__viewId];o(b,T),c(b,T)}),a(f,h),El.trigger("series:afterupdate",h,p,m)},Oo=function(f){f[RP]=!0,f.getZr().wakeUp()},iY=function(f){f[RP]&&(f.getZr().storage.traverse(function(h){wm(h)||i(h)}),f[RP]=!1)};function i(f){for(var h=[],p=f.currentStates,v=0;v<p.length;v++){var m=p[v];m==="emphasis"||m==="blur"||m==="select"||h.push(m)}f.selected&&f.states.select&&h.push("select"),f.hoverState===qD&&f.states.emphasis?h.push("emphasis"):f.hoverState===Rb&&f.states.blur&&h.push("blur"),f.useStates(h)}function a(f,h){var p=f._zr,v=p.storage,m=0;v.traverse(function(y){y.isGroup||m++}),m>h.get("hoverLayerThreshold")&&!Ut.node&&!Ut.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var x=f._chartsMap[y.__viewId];x.__alive&&x.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function s(f,h){var p=f.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=p)})}function o(f,h){if(!f.preventAutoZ){var p=f.get("z")||0,v=f.get("zlevel")||0;h.eachRendered(function(m){return l(m,p,v,-1/0),!0})}}function l(f,h,p,v){var m=f.getTextContent(),y=f.getTextGuideLine(),x=f.isGroup;if(x)for(var w=f.childrenRef(),b=0;b<w.length;b++)v=Math.max(l(w[b],h,p,v),v);else f.z=h,f.zlevel=p,v=Math.max(f.z2,v);if(m&&(m.z=h,m.zlevel=p,isFinite(v)&&(m.z2=v+2)),y){var T=f.textGuideLineConfig;y.z=h,y.zlevel=p,isFinite(v)&&(y.z2=v+(T&&T.showAbove?1:-1))}return v}function u(f,h){h.eachRendered(function(p){if(!wm(p)){var v=p.getTextContent(),m=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(f,h){var p=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),m=p.get("duration"),y=m>0?{duration:m,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(x){if(x.states&&x.states.emphasis){if(wm(x))return;if(x instanceof Ht&&qWe(x),x.__dirty){var w=x.prevStates;w&&x.useStates(w)}if(v){x.stateTransition=y;var b=x.getTextContent(),T=x.getTextGuideLine();b&&(b.stateTransition=y),T&&(T.stateTransition=y)}x.__dirty&&i(x)}})}nY=function(f){return new(function(h){ge(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(v){for(;v;){var m=v.__ecComponentInfo;if(m!=null)return f._model.getComponent(m.mainType,m.index);v=v.parent}},p.prototype.enterEmphasis=function(v,m){gf(v,m),Oo(f)},p.prototype.leaveEmphasis=function(v,m){mf(v,m),Oo(f)},p.prototype.enterBlur=function(v){yle(v),Oo(f)},p.prototype.leaveBlur=function(v){RB(v),Oo(f)},p.prototype.enterSelect=function(v){_le(v),Oo(f)},p.prototype.leaveSelect=function(v){xle(v),Oo(f)},p.prototype.getModel=function(){return f.getModel()},p.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},p.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},p}(uue))(f)},ace=function(f){function h(p,v){for(var m=0;m<p.length;m++){var y=p[m];y[MP]=v}}B(Nx,function(p,v){f._messageCenter.on(v,function(m){if(pC[f.group]&&f[MP]!==Jq){if(m&&m.escapeConnect)return;var y=f.makeActionFromEvent(m),x=[];B(wv,function(w){w!==f&&w.group===f.group&&x.push(w)}),h(x,Jq),B(x,function(w){w[MP]!==mXe&&w.dispatchAction(y)}),h(x,yXe)}})})}}(),e}(cl),oV=fC.prototype;oV.on=ece("on");oV.off=ece("off");oV.one=function(r,e,t){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),n.off(r,i)}this.on.call(this,r,i,t)};var _Xe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var hC={},Nx={},R4=[],M4=[],dC=[],sce={},k4={},wv={},pC={},xXe=+new Date-0,wXe=+new Date-0,lV="_echarts_instance_";function bXe(r,e,t){var n=!(t&&t.ssr);if(n){var i=uV(r);if(i)return i}var a=new fC(r,e,t);return a.id="ec_"+xXe++,wv[a.id]=a,n&&ele(r,lV,a.id),ace(a),El.trigger("afterinit",a),a}function SXe(r){if(ke(r)){var e=r;r=null,B(e,function(t){t.group!=null&&(r=t.group)}),r=r||"g_"+wXe++,B(e,function(t){t.group=r})}return pC[r]=!0,r}function oce(r){pC[r]=!1}var TXe=oce;function AXe(r){$e(r)?r=wv[r]:r instanceof fC||(r=uV(r)),r instanceof fC&&!r.isDisposed()&&r.dispose()}function uV(r){return wv[Oje(r,lV)]}function EXe(r){return wv[r]}function cV(r,e){sce[r]=e}function fV(r){Dt(M4,r)<0&&M4.push(r)}function hV(r,e){dV(R4,r,e,cXe)}function lce(r){uI("afterinit",r)}function uce(r){uI("afterupdate",r)}function uI(r,e){El.on(r,e)}function Ql(r,e,t){it(e)&&(t=e,e="");var n=ct(r)?r.type:[r,r={event:e}][0];r.event=(r.event||n).toLowerCase(),e=r.event,!Nx[e]&&(Ga(Qq.test(n)&&Qq.test(e)),hC[n]||(hC[n]={action:t,actionInfo:r}),Nx[e]=n)}function cce(r,e){Py.register(r,e)}function CXe(r){var e=Py.get(r);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function fce(r,e){dV(dC,r,e,Kue,"layout")}function Ad(r,e){dV(dC,r,e,Zue,"visual")}var aY=[];function dV(r,e,t,n,i){if((it(e)||ct(e))&&(t=e,e=n),!(Dt(aY,t)>=0)){aY.push(t);var a=Nue.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,r.push(a)}}function pV(r,e){k4[r]=e}function DXe(r){aoe({createCanvas:r})}function hce(r,e,t){var n=Xue("registerMap");n&&n(r,e,t)}function IXe(r){var e=Xue("getMap");return e&&e(r)}var dce=zqe;Ad(sV,hYe);Ad(lI,dYe);Ad(lI,pYe);Ad(sV,CYe);Ad(lI,DYe);Ad(Que,rXe);fV(fue);hV(lXe,xqe);pV("default",vYe);Ql({type:_v,event:_v,update:_v},An);Ql({type:mA,event:mA,update:mA},An);Ql({type:Mx,event:Mx,update:Mx},An);Ql({type:yA,event:yA,update:yA},An);Ql({type:kx,event:kx,update:kx},An);cV("light",AYe);cV("dark",zue);var RXe={},sY=[],MXe={registerPreprocessor:fV,registerProcessor:hV,registerPostInit:lce,registerPostUpdate:uce,registerUpdateLifecycle:uI,registerAction:Ql,registerCoordinateSystem:cce,registerLayout:fce,registerVisual:Ad,registerTransform:dce,registerLoading:pV,registerMap:hce,registerImpl:nXe,PRIORITY:Jue,ComponentModel:zt,ComponentView:qr,SeriesModel:Lr,ChartView:Dr,registerComponentModel:function(r){zt.registerClass(r)},registerComponentView:function(r){qr.registerClass(r)},registerSeriesModel:function(r){Lr.registerClass(r)},registerChartView:function(r){Dr.registerClass(r)},registerSubTypeDefaulter:function(r,e){zt.registerSubTypeDefaulter(r,e)},registerPainter:function(r,e){Uoe(r,e)}};function Pt(r){if(ke(r)){B(r,function(e){Pt(e)});return}Dt(sY,r)>=0||(sY.push(r),it(r)&&(r={install:r}),r.install(MXe))}function h_(r){return r==null?0:r.length||1}function oY(r){return r}var yf=function(){function r(e,t,n,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=n||oY,this._newKeyGetter=i||oY,this.context=a,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=n[o],u=h_(l);if(u>1){var c=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(c,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},a=[],s=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=n[l],c=i[l],f=h_(u),h=h_(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var p=0;p<f;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},r.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=t[i],s=h_(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},r.prototype._initIndexMap=function(e,t,n,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(n[s]=o),!!t){var l=t[o],u=h_(l);u===0?(t[o]=s,a&&n.push(o)):u===1?t[o]=[l,s]:l.push(s)}}},r}(),kXe=function(){function r(e,t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function PXe(r,e){var t={},n=t.encode={},i=tt(),a=[],s=[],o={};B(r.dimensions,function(h){var p=r.getDimensionInfo(h),v=p.coordDim;if(v){var m=p.coordDimIndex;FP(n,v)[m]=h,p.isExtraCoord||(i.set(v,1),LXe(p.type)&&(a[0]=h),FP(o,v)[m]=r.getDimensionIndex(p.name)),p.defaultTooltip&&s.push(h)}rue.each(function(y,x){var w=FP(n,x),b=p.otherDims[x];b!=null&&b!==!1&&(w[b]=p.name)})});var l=[],u={};i.each(function(h,p){var v=n[p];u[p]=v[0],l=l.concat(v)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Pe(l,function(h){return r.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?s=f.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,t.userOutput=new kXe(o,e),t}function FP(r,e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function vC(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function LXe(r){return!(r==="ordinal"||r==="time")}var SA=function(){function r(e){this.otherDims={},e!=null&&De(this,e)}return r}(),OXe=Qt(),NXe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},pce=function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=mce(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return _t(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=due(this.source),n=!yce(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=t?f.name:null,u=f.type,c=f.ordinalMeta,o++;else{var h=this.getSourceDimension(s);h&&(l=t?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=NXe[u]||"f",c&&(i+=c.uid),i+="$"}var p=this.source,v=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:a,hash:v}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function vce(r){return r instanceof pce}function gce(r){for(var e=tt(),t=0;t<(r||[]).length;t++){var n=r[t],i=ct(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function mce(r){var e=OXe(r);return e.dimNameMap||(e.dimNameMap=gce(r.dimensionsDefine))}function yce(r){return r>30}var d_=ct,rh=Pe,FXe=typeof Int32Array>"u"?Array:Int32Array,BXe="e\0\0",lY=-1,VXe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],zXe=["_approximateExtent"],uY,m2,p_,v_,BP,g_,VP,Va=function(){function r(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;vce(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],h=$e(f)?new SA({name:f}):f instanceof SA?f:new SA(f),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};s.push(p),a[p]=h,u[p]!=null&&(l=!0),h.createInvertedIndices&&(o[p]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),i&&(h.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=tt();B(s,function(y){m.set(a[y].storeDimIndex,y)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var i=this._schema.getSourceDimension(t);if(i)return i.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if(tr(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e,t,n){var i=this,a;if(e instanceof S4&&(a=e),!a){var s=this.dimensions,o=JB(e)||va(e)?new pue(e,s.length):e;a=new S4;var l=rh(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,n)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=PXe(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&VP(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Wh&&!e.fillStorage},r.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===hl;if(l&&!i.pure)for(var u=[],c=e;c<t;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&bje(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=gi(h,null));var p=f.id;s[c]==null&&p!=null&&(s[c]=gi(p,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)VP(this,c);uY(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e,t){d_(e)?De(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=p_(this,this._nameDimIdx,t)),n==null&&(n=""),n},r.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},r.prototype.getId=function(e){return m2(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},r.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e,t){var n=this,i=this._store;return ke(e)?i.getValues(rh(e,function(a){return n._getStoreDimIndex(a)}),t):i.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],i=n&&n[t];return i==null||isNaN(i)?lY:i},r.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},r.prototype.each=function(e,t,n){it(e)&&(n=t,t=e,e=[]);var i=n||this,a=rh(v_(e),this._getStoreDimIndex,this);this._store.each(a,i?Xe(t,i):t)},r.prototype.filterSelf=function(e,t,n){it(e)&&(n=t,t=e,e=[]);var i=n||this,a=rh(v_(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Xe(t,i):t),this},r.prototype.selectRange=function(e){var t=this,n={},i=Gt(e);return B(i,function(a){var s=t._getStoreDimIndex(a);n[s]=e[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(e,t,n){it(e)&&(n=t,t=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n),i},r.prototype.map=function(e,t,n,i){var a=n||i||this,s=rh(v_(e),this._getStoreDimIndex,this),o=g_(this);return o._store=this._store.map(s,a?Xe(t,a):t),o},r.prototype.modify=function(e,t,n,i){var a=n||i||this,s=rh(v_(e),this._getStoreDimIndex,this);this._store.modify(s,a?Xe(t,a):t)},r.prototype.downSample=function(e,t,n,i){var a=g_(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),a},r.prototype.minmaxDownSample=function(e,t){var n=g_(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},r.prototype.lttbDownSample=function(e,t){var n=g_(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new sr(n,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new yf(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return m2(e,n)},function(n){return m2(t,n)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e,t){this._visual=this._visual||{},d_(e)?De(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return i??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),ke(a)?a=a.slice():d_(a)&&(a=De({},a)),i[t]=a),a},r.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,d_(t)?De(i,t):i[t]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e,t){d_(e)?De(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?De(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;c4(n,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e,t){B(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:rh(this.dimensions,this._getDimInfo,this),this.hostModel)),BP(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e,t){var n=this[e];it(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(OD(arguments)))})},r.internalField=function(){uY=function(e){var t=e._invertedIndicesMap;B(t,function(n,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){n=t[i]=new FXe(s.categories.length);for(var l=0;l<n.length;l++)n[l]=lY;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},p_=function(e,t,n){return gi(e._getCategory(t,n),null)},m2=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=p_(e,e._idDimIdx,t)),n==null&&(n=BXe+t),n},v_=function(e){return ke(e)||(e=e!=null?[e]:[]),e},g_=function(e){var t=new r(e._schema?e._schema:rh(e.dimensions,e._getDimInfo,e),e.hostModel);return BP(t,e),t},BP=function(e,t){B(VXe.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,B(zXe,function(n){e[n]=ht(t[n])}),e._calculationInfo=De({},t._calculationInfo)},VP=function(e,t){var n=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=n[t],l=i[t];if(o==null&&a!=null&&(n[t]=o=p_(e,a,t)),l==null&&s!=null&&(i[t]=l=p_(e,s,t)),l==null&&o!=null){var u=e._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),i[t]=l}}}(),r}();function UXe(r,e){return Fy(r,e).dimensions}function Fy(r,e){JB(r)||(r=eV(r)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||r.dimensionsDefine||[],i=tt(),a=[],s=GXe(r,t,n,e.dimensionsCount),o=e.canOmitUnusedDimensions&&yce(s),l=n===r.dimensionsDefine,u=l?mce(r):gce(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(r,s));for(var f=tt(c),h=new bue(s),p=0;p<h.length;p++)h[p]=-1;function v(M){var k=h[M];if(k<0){var L=n[M],O=ct(L)?L:{name:L},N=new SA,W=O.name;W!=null&&u.get(W)!=null&&(N.name=N.displayName=W),O.type!=null&&(N.type=O.type),O.displayName!=null&&(N.displayName=O.displayName);var U=a.length;return h[M]=U,N.storeDimIndex=M,a.push(N),N}return a[k]}if(!o)for(var p=0;p<s;p++)v(p);f.each(function(M,k){var L=Pr(M).slice();if(L.length===1&&!$e(L[0])&&L[0]<0){f.set(k,!1);return}var O=f.set(k,[]);B(L,function(N,W){var U=$e(N)?u.get(N):N;U!=null&&U<s&&(O[W]=U,y(v(U),k,W))})});var m=0;B(t,function(M){var k,L,O,N;if($e(M))k=M,N={};else{N=M,k=N.name;var W=N.ordinalMeta;N.ordinalMeta=null,N=De({},N),N.ordinalMeta=W,L=N.dimsDef,O=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var U=f.get(k);if(U!==!1){if(U=Pr(U),!U.length)for(var z=0;z<(L&&L.length||1);z++){for(;m<s&&v(m).coordDim!=null;)m++;m<s&&U.push(m++)}B(U,function(Y,re){var K=v(Y);if(l&&N.type!=null&&(K.type=N.type),y(ut(K,N),k,re),K.name==null&&L){var q=L[re];!ct(q)&&(q={name:q}),K.name=K.displayName=q.name,K.defaultTooltip=q.defaultTooltip}O&&ut(K.otherDims,O)})}});function y(M,k,L){rue.get(k)!=null?M.otherDims[k]=L:(M.coordDim=k,M.coordDimIndex=L,i.set(k,!0))}var x=e.generateCoord,w=e.generateCoordCount,b=w!=null;w=x?w||1:0;var T=x||"value";function C(M){M.name==null&&(M.name=M.coordDim)}if(o)B(a,function(M){C(M)}),a.sort(function(M,k){return M.storeDimIndex-k.storeDimIndex});else for(var D=0;D<s;D++){var E=v(D),R=E.coordDim;R==null&&(E.coordDim=jXe(T,i,b),E.coordDimIndex=0,(!x||w<=0)&&(E.isExtraCoord=!0),w--),C(E),E.type==null&&(sue(r,D)===na.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return HXe(a),new pce({source:r,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function HXe(r){for(var e=tt(),t=0;t<r.length;t++){var n=r[t],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function GXe(r,e,t,n){var i=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,n||0);return B(e,function(a){var s;ct(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function jXe(r,e,t){if(t||e.hasKey(r)){for(var n=0;e.hasKey(r+n);)n++;r+=n}return e.set(r,!0),r}var WXe=function(){function r(e){this.coordSysDims=[],this.axisMap=tt(),this.categoryAxisMap=tt(),this.coordSysName=e}return r}();function $Xe(r){var e=r.get("coordinateSystem"),t=new WXe(e),n=qXe[e];if(n)return n(r,t,t.axisMap,t.categoryAxisMap),t}var qXe={cartesian2d:function(r,e,t,n){var i=r.getReferringComponents("xAxis",Qn).models[0],a=r.getReferringComponents("yAxis",Qn).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),_0(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),_0(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,n){var i=r.getReferringComponents("singleAxis",Qn).models[0];e.coordSysDims=["single"],t.set("single",i),_0(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(r,e,t,n){var i=r.getReferringComponents("polar",Qn).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),_0(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),_0(s)&&(n.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();B(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),c=s[l];t.set(c,u),_0(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function _0(r){return r.get("type")==="category"}function _ce(r,e,t){t=t||{};var n=t.byIndex,i=t.stackedCoordDimension,a,s,o;YXe(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(r&&r.get("stack")),u,c,f,h;if(B(a,function(w,b){$e(w)&&(a[b]=w={name:w}),l&&!w.isExtraCoord&&(!n&&!u&&w.ordinalMeta&&(u=w),!c&&w.type!=="ordinal"&&w.type!=="time"&&(!i||i===w.coordDim)&&(c=w))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+r.id,h="__\0ecstackedover_"+r.id,u&&(u.createInvertedIndices=!0);var p=c.coordDim,v=c.type,m=0;B(a,function(w){w.coordDim===p&&m++});var y={name:f,coordDim:p,coordDimIndex:m,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:h,coordDim:h,coordDimIndex:m+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(y.storeDimIndex=o.ensureCalculationDimension(h,v),x.storeDimIndex=o.ensureCalculationDimension(f,v)),s.appendCalculationDimension(y),s.appendCalculationDimension(x)):(a.push(y),a.push(x))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function YXe(r){return!vce(r.schema)}function _f(r,e){return!!e&&e===r.getCalculationInfo("stackedDimension")}function vV(r,e){return _f(r,e)?r.getCalculationInfo("stackResultDimension"):e}function XXe(r,e){var t=r.get("coordinateSystem"),n=Py.get(t),i;return e&&e.coordSysDims&&(i=Pe(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=vC(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function KXe(r,e,t){var n,i;return t&&B(r,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function cc(r,e,t){t=t||{};var n=e.getSourceManager(),i,a=!1;r?(a=!0,i=eV(r)):(i=n.getSource(),a=i.sourceFormat===hl);var s=$Xe(e),o=XXe(e,s),l=t.useEncodeDefaulter,u=it(l)?l:l?xt(aue,o,e):null,c={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=Fy(i,c),h=KXe(f.dimensions,t.createInvertedIndices,s),p=a?null:n.getSharedDataStore(f),v=_ce(e,{schema:f,store:p}),m=new Va(f,e);m.setCalculationInfo(v);var y=h!=null&&ZXe(i)?function(x,w,b,T){return T===h?b:this.defaultDimValueGetter(x,w,b,T)}:null;return m.hasItemOption=!1,m.initData(a?i:p,null,y),m}function ZXe(r){if(r.sourceFormat===hl){var e=QXe(r.data||[]);return!ke(by(e))}}function QXe(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var fc=function(){function r(e){this._setting=e||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},r.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r}();GD(fc);var JXe=0,P4=function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++JXe}return r.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Pe(n,eKe);return new r({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!$e(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=tt(this.categories))},r}();function eKe(r){return ct(r)&&r.value!=null?r.value:r+""}function L4(r){return r.type==="interval"||r.type==="log"}function tKe(r,e,t,n){var i={},a=r[1]-r[0],s=i.interval=xB(a/e,!0);t!=null&&s<t&&(s=i.interval=t),n!=null&&s>n&&(s=i.interval=n);var o=i.intervalPrecision=xce(s),l=i.niceTickExtent=[wn(Math.ceil(r[0]/s)*s,o),wn(Math.floor(r[1]/s)*s,o)];return rKe(l,r),i}function zP(r){var e=Math.pow(10,HD(r)),t=r/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,wn(t*e)}function xce(r){return Ll(r)+2}function cY(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function rKe(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),cY(r,0,e),cY(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function cI(r,e){return r>=e[0]&&r<=e[1]}function fI(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function hI(r,e){return r*(e[1]-e[0])+e[0]}var dI=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new P4({})),ke(i)&&(i=new P4({categories:Pe(i,function(a){return ct(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:$e(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),cI(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),fI(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(hI(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,i=n[0];i<=n[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];i[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;i.push(c),a[c]=s}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(fc);fc.registerClass(dI);var Ep=wn,xf=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return cI(t,this._extent)},e.prototype.normalize=function(t){return fI(t,this._extent)},e.prototype.scale=function(t){return hI(t,this._extent)},e.prototype.setExtent=function(t,n){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=xce(t)},e.prototype.getTicks=function(t){var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;i[0]<a[0]&&(t?o.push({value:Ep(a[0]-n,s)}):o.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(o.push({value:u}),u=Ep(u+n,s),u!==o[o.length-1].value);)if(o.length>l)return[];var c=o.length?o[o.length-1].value:a[1];return i[1]>c&&(t?o.push({value:Ep(c+n,s)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<n.length;s++){for(var o=n[s],l=n[s-1],u=0,c=[],f=o.value-l.value,h=f/t;u<t-1;){var p=Ep(l.value+(u+1)*h);p>a[0]&&p<a[1]&&c.push(p),u++}i.push(c)}return i},e.prototype.getLabel=function(t,n){if(t==null)return"";var i=n&&n.precision;i==null?i=Ll(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Ep(t.value,i,!0);return WB(a)},e.prototype.calcNiceTicks=function(t,n,i){t=t||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=tKe(a,t,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);t.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(n[0]=Ep(Math.floor(n[0]/s)*s)),t.fixMax||(n[1]=Ep(Math.ceil(n[1]/s)*s))},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e}(fc);fc.registerClass(xf);var wce=typeof Float32Array<"u",nKe=wce?Float32Array:Array;function Nu(r){return ke(r)?wce?new Float32Array(r):r:new nKe(r)}var O4="__ec_stack_";function bce(r){return r.get("stack")||O4+r.seriesIndex}function gV(r){return r.dim+r.index}function iKe(r){var e=[],t=r.axis,n="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<r.count;a++)e.push(ut({bandWidth:i,axisKey:n,stackId:O4+a},r));for(var s=Ace(e),o=[],a=0;a<r.count;a++){var l=s[n][O4+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function Sce(r,e){var t=[];return e.eachSeriesByType(r,function(n){Dce(n)&&t.push(n)}),t}function aKe(r){var e={};B(r,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,p=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),m=0,y=v.count();m<y;++m){var x=v.get(p,m);e[h]?e[h].push(x):e[h]=[x]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[n]=a}}return t}function Tce(r){var e=aKe(r),t=[];return B(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(s[1]-s[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);o=u?c/h*u:c}else{var p=n.getData();o=Math.abs(s[1]-s[0])/p.count()}var v=je(n.get("barWidth"),o),m=je(n.get("barMaxWidth"),o),y=je(n.get("barMinWidth")||(Ice(n)?.5:1),o),x=n.get("barGap"),w=n.get("barCategoryGap");t.push({bandWidth:o,barWidth:v,barMaxWidth:m,barMinWidth:y,barGap:x,barCategoryGap:w,axisKey:gV(a),stackId:bce(n)})}),Ace(t)}function Ace(r){var e={};B(r,function(n,i){var a=n.axisKey,s=n.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;e[a]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var h=n.barMinWidth;h&&(l[u].minWidth=h);var p=n.barGap;p!=null&&(o.gap=p);var v=n.barCategoryGap;v!=null&&(o.categoryGap=v)});var t={};return B(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=Gt(a).length;o=Math.max(35-l*4,15)+"%"}var u=je(o,s),c=je(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,p=(f-u)/(h+(h-1)*c);p=Math.max(p,0),B(a,function(x){var w=x.maxWidth,b=x.minWidth;if(x.width){var T=x.width;w&&(T=Math.min(T,w)),b&&(T=Math.max(T,b)),x.width=T,f-=T+c*T,h--}else{var T=p;w&&w<T&&(T=Math.min(w,f)),b&&b>T&&(T=b),T!==p&&(x.width=T,f-=T+c*T,h--)}}),p=(f-u)/(h+(h-1)*c),p=Math.max(p,0);var v=0,m;B(a,function(x,w){x.width||(x.width=p),m=x,v+=x.width*(1+c)}),m&&(v-=m.width*c);var y=-v/2;B(a,function(x,w){t[i][w]=t[i][w]||{bandWidth:s,offset:y,width:x.width},y+=x.width*(1+c)})}),t}function sKe(r,e,t){if(r&&e){var n=r[gV(e)];return n}}function Ece(r,e){var t=Sce(r,e),n=Tce(t);B(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=bce(i),u=n[gV(o)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function Cce(r){return{seriesType:r,plan:Ly(),reset:function(e){if(Dce(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=_f(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),p=oKe(i,a),v=Ice(e),m=e.get("barMinHeight")||0,y=c&&t.getDimensionIndex(c),x=t.getLayout("size"),w=t.getLayout("offset");return{progress:function(b,T){for(var C=b.count,D=v&&Nu(C*3),E=v&&l&&Nu(C*3),R=v&&Nu(C),M=n.master.getRect(),k=h?M.width:M.height,L,O=T.getStore(),N=0;(L=b.next())!=null;){var W=O.get(f?y:s,L),U=O.get(o,L),z=p,Y=void 0;f&&(Y=+W-O.get(s,L));var re=void 0,K=void 0,q=void 0,Q=void 0;if(h){var j=n.dataToPoint([W,U]);if(f){var J=n.dataToPoint([Y,U]);z=J[0]}re=z,K=j[1]+w,q=j[0]-z,Q=x,Math.abs(q)<m&&(q=(q<0?-1:1)*m)}else{var j=n.dataToPoint([U,W]);if(f){var J=n.dataToPoint([U,Y]);z=J[1]}re=j[0]+w,K=z,q=x,Q=j[1]-z,Math.abs(Q)<m&&(Q=(Q<=0?-1:1)*m)}v?(D[N]=re,D[N+1]=K,D[N+2]=h?q:Q,E&&(E[N]=h?M.x:re,E[N+1]=h?K:M.y,E[N+2]=k),R[L]=L):T.setItemLayout(L,{x:re,y:K,width:q,height:Q}),N+=3}v&&T.setLayout({largePoints:D,largeDataIndices:R,largeBackgroundPoints:E,valueAxisHorizontal:h})}}}}}}function Dce(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function Ice(r){return r.pipelineContext&&r.pipelineContext.large}function oKe(r,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var lKe=function(r,e,t,n){for(;t<n;){var i=t+n>>>1;r[i][1]<e?t=i+1:n=i}return t},mV=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return Ob(t.value,tq[B$e(Sm(this._minLevelUnit))]||tq.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return V$e(t,n,i,s,a)},e.prototype.getTicks=function(){var t=this._interval,n=this._extent,i=[];if(!t)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),s=vKe(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Zo,n[1]+=Zo),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Zo}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,i){t=t||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=y2.length,l=Math.min(lKe(y2,this._approxInterval,0,o),o-1);this._interval=y2[l][1],this._minLevelUnit=y2[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return tr(t)?t:+mo(t)},e.prototype.contain=function(t){return cI(this.parse(t),this._extent)},e.prototype.normalize=function(t){return fI(this.parse(t),this._extent)},e.prototype.scale=function(t){return hI(t,this._extent)},e.type="time",e}(xf),y2=[["second",HB],["minute",GB],["hour",Lx],["quarter-day",Lx*6],["half-day",Lx*12],["day",Zo*1.2],["half-week",Zo*3.5],["week",Zo*7],["month",Zo*31],["quarter",Zo*95],["half-year",eq/2],["year",eq]];function uKe(r,e,t,n){var i=mo(e),a=mo(t),s=function(v){return rq(i,v,n)===rq(a,v,n)},o=function(){return s("year")},l=function(){return o()&&s("month")},u=function(){return l()&&s("day")},c=function(){return u()&&s("hour")},f=function(){return c()&&s("minute")},h=function(){return f()&&s("second")},p=function(){return h()&&s("millisecond")};switch(r){case"year":return o();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return h();case"millisecond":return p()}}function cKe(r,e){return r/=Zo,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function fKe(r){var e=30*Zo;return r/=e,r>6?6:r>3?3:r>2?2:1}function hKe(r){return r/=Lx,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function fY(r,e){return r/=e?GB:HB,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function dKe(r){return xB(r,!0)}function pKe(r,e,t){var n=new Date(r);switch(Sm(e)){case"year":case"month":n[$le(t)](0);case"day":n[qle(t)](1);case"hour":n[Yle(t)](0);case"minute":n[Xle(t)](0);case"second":n[Kle(t)](0),n[Zle(t)](0)}return n.getTime()}function vKe(r,e,t,n){var i=1e4,a=jle,s=0;function o(k,L,O,N,W,U,z){for(var Y=new Date(L),re=L,K=Y[N]();re<O&&re<=n[1];)z.push({value:re}),K+=k,Y[W](K),re=Y.getTime();z.push({value:re,notAdd:!0})}function l(k,L,O){var N=[],W=!L.length;if(!uKe(Sm(k),n[0],n[1],t)){W&&(L=[{value:pKe(new Date(n[0]),k,t)},{value:n[1]}]);for(var U=0;U<L.length-1;U++){var z=L[U].value,Y=L[U+1].value;if(z!==Y){var re=void 0,K=void 0,q=void 0,Q=!1;switch(k){case"year":re=Math.max(1,Math.round(e/Zo/365)),K=jB(t),q=z$e(t);break;case"half-year":case"quarter":case"month":re=fKe(e),K=Tm(t),q=$le(t);break;case"week":case"half-week":case"day":re=cKe(e),K=JD(t),q=qle(t),Q=!0;break;case"half-day":case"quarter-day":case"hour":re=hKe(e),K=Aw(t),q=Yle(t);break;case"minute":re=fY(e,!0),K=eI(t),q=Xle(t);break;case"second":re=fY(e,!1),K=tI(t),q=Kle(t);break;case"millisecond":re=dKe(e),K=rI(t),q=Zle(t);break}o(re,z,Y,K,q,Q,N),k==="year"&&O.length>1&&U===0&&O.unshift({value:O[0].value-re})}}for(var U=0;U<N.length;U++)O.push(N[U]);return N}}for(var u=[],c=[],f=0,h=0,p=0;p<a.length&&s++<i;++p){var v=Sm(a[p]);if(F$e(a[p])){l(a[p],u[u.length-1]||[],c);var m=a[p+1]?Sm(a[p+1]):null;if(v!==m){if(c.length){h=f,c.sort(function(k,L){return k.value-L.value});for(var y=[],x=0;x<c.length;++x){var w=c[x].value;(x===0||c[x-1].value!==w)&&(y.push(c[x]),w>=n[0]&&w<=n[1]&&f++)}var b=(n[1]-n[0])/e;if(f>b*1.5&&h>b/1.5||(u.push(y),f>b||r===a[p]))break}c=[]}}}for(var T=ar(Pe(u,function(k){return ar(k,function(L){return L.value>=n[0]&&L.value<=n[1]&&!L.notAdd})}),function(k){return k.length>0}),C=[],D=T.length-1,p=0;p<T.length;++p)for(var E=T[p],R=0;R<E.length;++R)C.push({value:E[R].value,level:D-p});C.sort(function(k,L){return k.value-L.value});for(var M=[],p=0;p<C.length;++p)(p===0||C[p].value!==C[p-1].value)&&M.push(C[p]);return M}fc.registerClass(mV);var hY=fc.prototype,Fx=xf.prototype,gKe=wn,mKe=Math.floor,yKe=Math.ceil,_2=Math.pow,bl=Math.log,yV=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new xf,t._interval=0,t}return e.prototype.getTicks=function(t){var n=this._originalScale,i=this._extent,a=n.getExtent(),s=Fx.getTicks.call(this,t);return Pe(s,function(o){var l=o.value,u=wn(_2(this.base,l));return u=l===i[0]&&this._fixMin?x2(u,a[0]):u,u=l===i[1]&&this._fixMax?x2(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,n){var i=bl(this.base);t=bl(Math.max(0,t))/i,n=bl(Math.max(0,n))/i,Fx.setExtent.call(this,t,n)},e.prototype.getExtent=function(){var t=this.base,n=hY.getExtent.call(this);n[0]=_2(t,n[0]),n[1]=_2(t,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=x2(n[0],a[0])),this._fixMax&&(n[1]=x2(n[1],a[1])),n},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var n=this.base;t[0]=bl(t[0])/bl(n),t[1]=bl(t[1])/bl(n),hY.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=qoe(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[wn(yKe(n[0]/a)*a),wn(mKe(n[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){Fx.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=bl(t)/bl(this.base),cI(t,this._extent)},e.prototype.normalize=function(t){return t=bl(t)/bl(this.base),fI(t,this._extent)},e.prototype.scale=function(t){return t=hI(t,this._extent),_2(this.base,t)},e.type="log",e}(fc),Rce=yV.prototype;Rce.getMinorTicks=Fx.getMinorTicks;Rce.getLabel=Fx.getLabel;function x2(r,e){return gKe(r,Ll(e))}fc.registerClass(yV);var _Ke=function(){function r(e,t,n){this._prepareParams(e,t,n)}return r.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var s=this._modelMinRaw=a;it(s)?this._modelMinNum=w2(e,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=w2(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(it(o)?this._modelMaxNum=w2(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=w2(e,o)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ke(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Yl(u[0],1),Yl(u[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:n-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Wm(o)||Wm(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var h=this._determinedMin,p=this._determinedMax;return h!=null&&(o=h,u=!0),p!=null&&(l=p,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:f}},r.prototype.modifyDataMinMax=function(e,t){this[wKe[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var n=xKe[e];this[n]=t},r.prototype.freeze=function(){this.frozen=!0},r}(),xKe={min:"_determinedMin",max:"_determinedMax"},wKe={min:"_dataMin",max:"_dataMax"};function Mce(r,e,t){var n=r.rawExtentInfo;return n||(n=new _Ke(r,e,t),r.rawExtentInfo=n,n)}function w2(r,e){return e==null?null:Wm(e)?NaN:r.parse(e)}function kce(r,e){var t=r.type,n=Mce(r,e,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,s=e.ecModel;if(s&&t==="time"){var o=Sce("bar",s),l=!1;if(B(o,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=Tce(o),c=bKe(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function bKe(r,e,t,n){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=sKe(n,t.axis);if(s===void 0)return{min:r,max:e};var o=1/0;B(s,function(p){o=Math.min(p.offset,o)});var l=-1/0;B(s,function(p){l=Math.max(p.offset+p.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=e-r,f=1-(o+l)/a,h=c/f-c;return e+=h*(l/u),r-=h*(o/u),{min:r,max:e}}function jv(r,e){var t=e,n=kce(r,t),i=n.extent,a=t.get("splitNumber");r instanceof yV&&(r.base=t.get("logBase"));var s=r.type,o=t.get("interval"),l=s==="interval"||s==="time";r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function Fb(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new dI({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new mV({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(fc.getClass(e)||xf)}}function SKe(r){var e=r.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function By(r){var e=r.getLabelModel().get("formatter"),t=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(n){return function(i,a){return r.scale.getFormattedLabel(i,a,n)}}(e):$e(e)?function(n){return function(i){var a=r.scale.getLabel(i),s=n.replace("{value}",a??"");return s}}(e):it(e)?function(n){return function(i,a){return t!=null&&(a=i.value-t),n(_V(r,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return r.scale.getLabel(n)}}function _V(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function TKe(r){var e=r.model,t=r.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var n,i,a=t.getExtent();t instanceof dI?i=t.count():(n=t.getTicks(),i=n.length);var s=r.getLabelModel(),o=By(r),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=n?n[c]:{value:a[0]+c},h=o(f,c),p=s.getTextRect(h),v=AKe(p,s.get("rotate")||0);l?l.union(v):l=v}return l}}function AKe(r,e){var t=e*Math.PI/180,n=r.width,i=r.height,a=n*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),s=n*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),o=new Ct(r.x,r.y,a,s);return o}function xV(r){var e=r.get("interval");return e??"auto"}function Pce(r){return r.type==="category"&&xV(r.getLabelModel())===0}function gC(r,e){var t={};return B(r.mapDimensionsAll(e),function(n){t[vV(r,n)]=!0}),Gt(t)}function EKe(r,e,t){e&&B(gC(e,t),function(n){var i=e.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}var Vy=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}();function CKe(r){return cc(null,r)}var DKe={isDimensionStacked:_f,enableDataStack:_ce,getStackedDimension:vV};function IKe(r,e){var t=e;e instanceof sr||(t=new sr(e));var n=Fb(t);return n.setExtent(r[0],r[1]),jv(n,t),n}function RKe(r){Cn(r,Vy)}function MKe(r,e){return e=e||{},Ur(r,null,null,e.state!=="normal")}const kKe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:UXe,createList:CKe,createScale:IKe,createSymbol:Bn,createTextStyle:MKe,dataStack:DKe,enableHoverEmphasis:Gh,getECData:gt,getLayoutRect:ti,mixinAxisModelCommonMethods:RKe},Symbol.toStringTag,{value:"Module"}));var PKe=1e-8;function dY(r,e){return Math.abs(r-e)<PKe}function Hp(r,e,t){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var s=r[a];n+=Uc(i[0],i[1],s[0],s[1],e,t),i=s}var o=r[0];return(!dY(i[0],o[0])||!dY(i[1],o[1]))&&(n+=Uc(i[0],i[1],o[0],o[1],e,t)),n!==0}var LKe=[];function UP(r,e){for(var t=0;t<r.length;t++)Yi(r[t],r[t],e)}function pY(r,e,t,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Yc(e,e,a),Xc(t,t,a))}}function OKe(r){for(var e=0,t=0,n=0,i=r.length,a=r[i-1][0],s=r[i-1][1],o=0;o<i;o++){var l=r[o][0],u=r[o][1],c=a*u-l*s;e+=c,t+=(a+l)*c,n+=(s+u)*c,a=l,s=u}return e?[t/e/3,n/e/3,e]:[r[0][0]||0,r[0][1]||0]}var Lce=function(){function r(e){this.name=e}return r.prototype.setCenter=function(e){this._center=e},r.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},r}(),vY=function(){function r(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return r}(),gY=function(){function r(e){this.type="linestring",this.points=e}return r}(),Oce=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,n,i=0,a=0;a<t.length;a++){var s=t[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return OKe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return B(s,function(o){o.type==="polygon"?pY(o.exterior,i,a,t):B(o.points,function(l){pY(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new Ct(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=n),n},e.prototype.contain=function(t){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(t[0],t[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(Hp(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Hp(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new Ct(t,n,i,a),u=s.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(UP(h.exterior,u),B(h.interiors,function(p){UP(p,u)})):B(h.points,function(p){UP(p,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(Lce),NKe=function(r){ge(e,r);function e(t,n){var i=r.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=Eb(LKe),s=t;s&&!s.isGeoSVGGraphicRoot;)Ku(a,s.getLocalTransform(),a),s=s.parent;return ug(a,a),Yi(i,i,a),i},e}(Lce);function FKe(r){if(!r.UTF8Encoding)return r;var e=r,t=e.UTF8Scale;t==null&&(t=1024);var n=e.features;return B(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=Nce(o,s,t);break;case"Polygon":HP(o,s,t);break;case"MultiLineString":HP(o,s,t);break;case"MultiPolygon":B(o,function(l,u){return HP(l,s[u],t)})}}),e.UTF8Encoding=!1,e}function HP(r,e,t){for(var n=0;n<r.length;n++)r[n]=Nce(r[n],e[n],t)}function Nce(r,e,t){for(var n=[],i=e[0],a=e[1],s=0;s<r.length;s+=2){var o=r.charCodeAt(s)-64,l=r.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/t,l/t])}return n}function N4(r,e){return r=FKe(r),Pe(ar(r.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new vY(s[0],s.slice(1)));break;case"MultiPolygon":B(i.coordinates,function(l){l[0]&&a.push(new vY(l[0],l.slice(1)))});break;case"LineString":a.push(new gY([i.coordinates]));break;case"MultiLineString":a.push(new gY(i.coordinates))}var o=new Oce(n[e||"name"],a,n.cp);return o.properties=n,o})}const BKe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:i4,asc:co,getPercentWithPrecision:_je,getPixelPrecision:yB,getPrecision:Ll,getPrecisionSafe:Woe,isNumeric:wB,isRadianAroundZero:qm,linearMap:cr,nice:xB,numericToNumber:nc,parseDate:mo,quantile:gA,quantity:qoe,quantityExponent:HD,reformIntervals:a4,remRadian:_B,round:wn},Symbol.toStringTag,{value:"Module"})),VKe=Object.freeze(Object.defineProperty({__proto__:null,format:Ob,parse:mo},Symbol.toStringTag,{value:"Module"})),zKe=Object.freeze(Object.defineProperty({__proto__:null,Arc:kb,BezierCurve:Ay,BoundingRect:Ct,Circle:lc,CompoundPath:XD,Ellipse:Mb,Group:pt,Image:Ni,IncrementalDisplayable:Mle,Line:mi,LinearGradient:Ey,Polygon:Wa,Polyline:Ya,RadialGradient:PB,Rect:Xt,Ring:Ty,Sector:ja,Text:Yt,clipPointsByRect:FB,clipRectByRect:Nle,createIcon:Dy,extendPath:Lle,extendShape:Ple,getShapeClass:KD,getTransform:jh,initProps:Qr,makeImage:OB,makePath:Pb,mergePath:so,registerShape:fl,resizePath:NB,updateProps:rr},Symbol.toStringTag,{value:"Module"})),UKe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:WB,capitalFirst:j$e,encodeHTML:ka,formatTime:G$e,formatTpl:qB,getTextRect:U$e,getTooltipMarker:Qle,normalizeCssArray:hg,toCamelCase:$B,truncateText:Xje},Symbol.toStringTag,{value:"Module"})),HKe=Object.freeze(Object.defineProperty({__proto__:null,bind:Xe,clone:ht,curry:xt,defaults:ut,each:B,extend:De,filter:ar,indexOf:Dt,inherits:cB,isArray:ke,isFunction:it,isObject:ct,isString:$e,map:Pe,merge:bt,reduce:ol},Symbol.toStringTag,{value:"Module"}));var Mw=Qt();function Fce(r,e){var t=Pe(e,function(n){return r.scale.parse(n)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function GKe(r){var e=r.getLabelModel().get("customValues");if(e){var t=By(r),n=r.scale.getExtent(),i=Fce(r,e),a=ar(i,function(s){return s>=n[0]&&s<=n[1]});return{labels:Pe(a,function(s){var o={value:s};return{formattedLabel:t(o),rawLabel:r.scale.getLabel(o),tickValue:s}})}}return r.type==="category"?WKe(r):qKe(r)}function jKe(r,e){var t=r.getTickModel().get("customValues");if(t){var n=r.scale.getExtent(),i=Fce(r,t);return{ticks:ar(i,function(a){return a>=n[0]&&a<=n[1]})}}return r.type==="category"?$Ke(r,e):{ticks:Pe(r.scale.getTicks(),function(a){return a.value})}}function WKe(r){var e=r.getLabelModel(),t=Bce(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Bce(r,e){var t=Vce(r,"labels"),n=xV(e),i=zce(t,n);if(i)return i;var a,s;return it(n)?a=Gce(r,n):(s=n==="auto"?YKe(r):n,a=Hce(r,s)),Uce(t,n,{labels:a,labelCategoryInterval:s})}function $Ke(r,e){var t=Vce(r,"ticks"),n=xV(e),i=zce(t,n);if(i)return i;var a,s;if((!e.get("show")||r.scale.isBlank())&&(a=[]),it(n))a=Gce(r,n,!0);else if(n==="auto"){var o=Bce(r,r.getLabelModel());s=o.labelCategoryInterval,a=Pe(o.labels,function(l){return l.tickValue})}else s=n,a=Hce(r,s,!0);return Uce(t,n,{ticks:a,tickCategoryInterval:s})}function qKe(r){var e=r.scale.getTicks(),t=By(r);return{labels:Pe(e,function(n,i){return{level:n.level,formattedLabel:t(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value}})}}function Vce(r,e){return Mw(r)[e]||(Mw(r)[e]=[])}function zce(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function Uce(r,e,t){return r.push({key:e,value:t}),t}function YKe(r){var e=Mw(r).autoInterval;return e??(Mw(r).autoInterval=r.calculateCategoryInterval())}function XKe(r){var e=KKe(r),t=By(r),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=r.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],u=r.dataToCoord(l+1)-r.dataToCoord(l),c=Math.abs(u*Math.cos(n)),f=Math.abs(u*Math.sin(n)),h=0,p=0;l<=a[1];l+=o){var v=0,m=0,y=Db(t({value:l}),e.font,"center","top");v=y.width*1.3,m=y.height*1.3,h=Math.max(h,v,7),p=Math.max(p,m,7)}var x=h/c,w=p/f;isNaN(x)&&(x=1/0),isNaN(w)&&(w=1/0);var b=Math.max(0,Math.floor(Math.min(x,w))),T=Mw(r.model),C=r.getExtent(),D=T.lastAutoInterval,E=T.lastTickCount;return D!=null&&E!=null&&Math.abs(D-b)<=1&&Math.abs(E-s)<=1&&D>b&&T.axisExtent0===C[0]&&T.axisExtent1===C[1]?b=D:(T.lastTickCount=s,T.lastAutoInterval=b,T.axisExtent0=C[0],T.axisExtent1=C[1]),b}function KKe(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Hce(r,e,t){var n=By(r),i=r.scale,a=i.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=Pce(r),h=s.get("showMinLabel")||f,p=s.get("showMaxLabel")||f;h&&u!==a[0]&&m(a[0]);for(var v=u;v<=a[1];v+=l)m(v);p&&v-l!==a[1]&&m(a[1]);function m(y){var x={value:y};o.push(t?y:{formattedLabel:n(x),rawLabel:i.getLabel(x),tickValue:y})}return o}function Gce(r,e,t){var n=r.scale,i=By(r),a=[];return B(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var mY=[0,1],pl=function(){function r(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return r.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return yB(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},r.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),yY(n,i.count())),cr(e,mY,n,t)},r.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),yY(n,i.count()));var a=cr(e,n,mY,t);return this.scale.scale(a)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=jKe(this,t),i=n.ticks,a=Pe(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return ZKe(this,a,s,e.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),i=Pe(n,function(a){return Pe(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},r.prototype.getViewLabels=function(){return GKe(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(){return XKe(this)},r}();function yY(r,e){var t=r[1]-r[0],n=e,i=t/n/2;r[0]+=i,r[1]-=i}function ZKe(r,e,t,n){var i=e.length;if(!r.onBand||t||!i)return;var a=r.getExtent(),s,o;if(i===1)e[0].coord=a[0],s=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;B(e,function(p){p.coord-=u/2});var c=r.scale.getExtent();o=1+c[1]-e[i-1].tickValue,s={coord:e[i-1].coord+u*o,tickValue:c[1]+1},e.push(s)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&h(a[0],e[0].coord)&&e.unshift({coord:a[0]}),h(a[1],s.coord)&&(n?s.coord=a[1]:e.pop()),n&&h(s.coord,a[1])&&e.push({coord:a[1]});function h(p,v){return p=wn(p),v=wn(v),f?p>v:p<v}}function QKe(r){var e=zt.extend(r);return zt.registerClass(e),e}function JKe(r){var e=qr.extend(r);return qr.registerClass(e),e}function eZe(r){var e=Lr.extend(r);return Lr.registerClass(e),e}function tZe(r){var e=Dr.extend(r);return Dr.registerClass(e),e}var m_=Math.PI*2,Cp=ic.CMD,rZe=["top","right","bottom","left"];function nZe(r,e,t,n,i){var a=t.width,s=t.height;switch(r){case"top":n.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":n.set(t.x+a/2,t.y+s+e),i.set(0,1);break;case"left":n.set(t.x-e,t.y+s/2),i.set(-1,0);break;case"right":n.set(t.x+a+e,t.y+s/2),i.set(1,0);break}}function iZe(r,e,t,n,i,a,s,o,l){s-=r,o-=e;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*t+r,f=o*t+e;if(Math.abs(n-i)%m_<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var h=n;n=fo(i),i=fo(h)}else n=fo(n),i=fo(i);n>i&&(i+=m_);var p=Math.atan2(o,s);if(p<0&&(p+=m_),p>=n&&p<=i||p+m_>=n&&p+m_<=i)return l[0]=c,l[1]=f,u-t;var v=t*Math.cos(n)+r,m=t*Math.sin(n)+e,y=t*Math.cos(i)+r,x=t*Math.sin(i)+e,w=(v-s)*(v-s)+(m-o)*(m-o),b=(y-s)*(y-s)+(x-o)*(x-o);return w<b?(l[0]=v,l[1]=m,Math.sqrt(w)):(l[0]=y,l[1]=x,Math.sqrt(b))}function mC(r,e,t,n,i,a,s,o){var l=i-r,u=a-e,c=t-r,f=n-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var p=l*c+u*f,v=p/h;o&&(v=Math.min(Math.max(v,0),1)),v*=h;var m=s[0]=r+v*c,y=s[1]=e+v*f;return Math.sqrt((m-i)*(m-i)+(y-a)*(y-a))}function jce(r,e,t,n,i,a,s){t<0&&(r=r+t,t=-t),n<0&&(e=e+n,n=-n);var o=r+t,l=e+n,u=s[0]=Math.min(Math.max(i,r),o),c=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Dl=[];function aZe(r,e,t){var n=jce(e.x,e.y,e.width,e.height,r.x,r.y,Dl);return t.set(Dl[0],Dl[1]),n}function sZe(r,e,t){for(var n=0,i=0,a=0,s=0,o,l,u=1/0,c=e.data,f=r.x,h=r.y,p=0;p<c.length;){var v=c[p++];p===1&&(n=c[p],i=c[p+1],a=n,s=i);var m=u;switch(v){case Cp.M:a=c[p++],s=c[p++],n=a,i=s;break;case Cp.L:m=mC(n,i,c[p],c[p+1],f,h,Dl,!0),n=c[p++],i=c[p++];break;case Cp.C:m=Aoe(n,i,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],f,h,Dl),n=c[p++],i=c[p++];break;case Cp.Q:m=Coe(n,i,c[p++],c[p++],c[p],c[p+1],f,h,Dl),n=c[p++],i=c[p++];break;case Cp.A:var y=c[p++],x=c[p++],w=c[p++],b=c[p++],T=c[p++],C=c[p++];p+=1;var D=!!(1-c[p++]);o=Math.cos(T)*w+y,l=Math.sin(T)*b+x,p<=1&&(a=o,s=l);var E=(f-y)*b/w+y;m=iZe(y,x,b,T,T+C,D,E,h,Dl),n=Math.cos(T+C)*w+y,i=Math.sin(T+C)*b+x;break;case Cp.R:a=n=c[p++],s=i=c[p++];var R=c[p++],M=c[p++];m=jce(a,s,R,M,f,h,Dl);break;case Cp.Z:m=mC(n,i,a,s,f,h,Dl,!0),n=a,i=s;break}m<u&&(u=m,t.set(Dl[0],Dl[1]))}return u}var Ol=new At,$r=new At,Pn=new At,Fu=new At,ku=new At;function _Y(r,e){if(r){var t=r.getTextGuideLine(),n=r.getTextContent();if(n&&t){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||rZe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=r.getComputedTransform(),f=c&&ug([],c),h=e.get("length2")||0;u&&Pn.copy(u);for(var p=0;p<s.length;p++){var v=s[p];nZe(v,0,o,Ol,Fu),At.scaleAndAdd($r,Ol,Fu,h),$r.transform(f);var m=r.getBoundingRect(),y=u?u.distance($r):r instanceof Ht?sZe($r,r.path,Pn):aZe($r,m,Pn);y<l&&(l=y,$r.transform(c),Pn.transform(c),Pn.toArray(a[0]),$r.toArray(a[1]),Ol.toArray(a[2]))}Wce(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var yC=[],os=new At;function Wce(r,e){if(e<=180&&e>0){e=e/180*Math.PI,Ol.fromArray(r[0]),$r.fromArray(r[1]),Pn.fromArray(r[2]),At.sub(Fu,Ol,$r),At.sub(ku,Pn,$r);var t=Fu.len(),n=ku.len();if(!(t<.001||n<.001)){Fu.scale(1/t),ku.scale(1/n);var i=Fu.dot(ku),a=Math.cos(e);if(a<i){var s=mC($r.x,$r.y,Pn.x,Pn.y,Ol.x,Ol.y,yC,!1);os.fromArray(yC),os.scaleAndAdd(ku,s/Math.tan(Math.PI-e));var o=Pn.x!==$r.x?(os.x-$r.x)/(Pn.x-$r.x):(os.y-$r.y)/(Pn.y-$r.y);if(isNaN(o))return;o<0?At.copy(os,$r):o>1&&At.copy(os,Pn),os.toArray(r[1])}}}}function oZe(r,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ol.fromArray(r[0]),$r.fromArray(r[1]),Pn.fromArray(r[2]),At.sub(Fu,$r,Ol),At.sub(ku,Pn,$r);var n=Fu.len(),i=ku.len();if(!(n<.001||i<.001)){Fu.scale(1/n),ku.scale(1/i);var a=Fu.dot(e),s=Math.cos(t);if(a<s){var o=mC($r.x,$r.y,Pn.x,Pn.y,Ol.x,Ol.y,yC,!1);os.fromArray(yC);var l=Math.PI/2,u=Math.acos(ku.dot(e)),c=l+u-t;if(c>=l)At.copy(os,Pn);else{os.scaleAndAdd(ku,o/Math.tan(Math.PI/2-c));var f=Pn.x!==$r.x?(os.x-$r.x)/(Pn.x-$r.x):(os.y-$r.y)/(Pn.y-$r.y);if(isNaN(f))return;f<0?At.copy(os,$r):f>1&&At.copy(os,Pn)}os.toArray(r[1])}}}}function GP(r,e,t,n){var i=t==="normal",a=i?r:r.ensureState(t);a.ignore=e;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?r.useStyle(o):a.style=o}function lZe(r,e){var t=e.smooth,n=e.points;if(n)if(r.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var i=qc(n[0],n[1]),a=qc(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*t,o=Ax([],n[1],n[0],s/i),l=Ax([],n[1],n[2],s/a),u=Ax([],o,l,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)r.lineTo(n[c][0],n[c][1])}function wV(r,e,t){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<bw.length;l++){var u=bw[l],c=e[u],f=u==="normal";if(c){var h=c.get("show"),p=f?o:_t(i.states[u]&&i.states[u].ignore,o);if(p||!_t(h,s)){var v=f?n:n&&n.states[u];v&&(v.ignore=!0),n&&GP(n,!0,u,c);continue}n||(n=new Ya,r.setTextGuideLine(n),!f&&(o||!s)&&GP(n,!0,"normal",e.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),GP(n,!1,u,c)}}if(n){ut(n.style,t),n.style.fill=null;var m=a.get("showAbove"),y=r.textGuideLineConfig=r.textGuideLineConfig||{};y.showAbove=m||!1,n.buildPath=lZe}}function bV(r,e){e=e||"labelLine";for(var t={normal:r.getModel(e)},n=0;n<_s.length;n++){var i=_s[n];t[i]=r.getModel([i,e])}return t}function $ce(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=o?new eC(s,a):null;e.push({label:i,labelLine:n.labelLine,rect:u,localRect:s,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:a})}}return e}function qce(r,e,t,n,i,a){var s=r.length;if(s<2)return;r.sort(function(D,E){return D.rect[e]-E.rect[e]});for(var o=0,l,u=!1,c=0;c<s;c++){var f=r[c],h=f.rect;l=h[e]-o,l<0&&(h[e]-=l,f.label[e]-=l,u=!0),o=h[e]+h[t]}var p=r[0],v=r[s-1],m,y;x(),m<0&&T(-m,.8),y<0&&T(y,.8),x(),w(m,y,1),w(y,m,-1),x(),m<0&&C(-m),y<0&&C(y);function x(){m=p.rect[e]-n,y=i-v.rect[e]-v.rect[t]}function w(D,E,R){if(D<0){var M=Math.min(E,-D);if(M>0){b(M*R,0,s);var k=M+D;k<0&&T(-k*R,1)}else T(-D*R,1)}}function b(D,E,R){D!==0&&(u=!0);for(var M=E;M<R;M++){var k=r[M],L=k.rect;L[e]+=D,k.label[e]+=D}}function T(D,E){for(var R=[],M=0,k=1;k<s;k++){var L=r[k-1].rect,O=Math.max(r[k].rect[e]-L[e]-L[t],0);R.push(O),M+=O}if(M){var N=Math.min(Math.abs(D)/M,E);if(D>0)for(var k=0;k<s-1;k++){var W=R[k]*N;b(W,0,k+1)}else for(var k=s-1;k>0;k--){var W=R[k-1]*N;b(-W,k,s)}}}function C(D){var E=D<0?-1:1;D=Math.abs(D);for(var R=Math.ceil(D/(s-1)),M=0;M<s-1;M++)if(E>0?b(R,0,M+1):b(-R,s-M-1,s),D-=R,D<=0)return}return u}function uZe(r,e,t,n){return qce(r,"x","width",e,t)}function Yce(r,e,t,n){return qce(r,"y","height",e,t)}function Xce(r){var e=[];r.sort(function(m,y){return y.priority-m.priority});var t=new Ct(0,0,0,0);function n(m){if(!m.ignore){var y=m.ensureState("emphasis");y.ignore==null&&(y.ignore=!1)}m.ignore=!0}for(var i=0;i<r.length;i++){var a=r[i],s=a.axisAligned,o=a.localRect,l=a.transform,u=a.label,c=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var f=a.obb,h=!1,p=0;p<e.length;p++){var v=e[p];if(t.intersect(v.rect)){if(s&&v.axisAligned){h=!0;break}if(v.obb||(v.obb=new eC(v.localRect,v.transform)),f||(f=new eC(o,l)),f.intersect(v.obb)){h=!0;break}}}h?(n(u),c&&n(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function cZe(r){if(r){for(var e=[],t=0;t<r.length;t++)e.push(r[t].slice());return e}}function fZe(r,e){var t=r.label,n=e&&e.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:cZe(n&&n.shape.points)}}var xY=["align","verticalAlign","width","height","fontSize"],rs=new Kc,jP=Qt(),hZe=Qt();function b2(r,e,t){for(var n=0;n<t.length;n++){var i=t[n];e[i]!=null&&(r[i]=e[i])}}var S2=["x","y","rotation"],dZe=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(e,t,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();Ct.applyTransform(c,c,u),u?rs.setLocalTransform(u):(rs.x=rs.y=rs.rotation=rs.originX=rs.originY=0,rs.scaleX=rs.scaleY=1),rs.rotation=fo(rs.rotation);var f=i.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var p=f.getComputedTransform();Ct.applyTransform(h,h,p)}var v=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:rs.x,y:rs.y,scaleX:rs.scaleX,scaleY:rs.scaleY,rotation:rs.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(it(i)||Gt(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=gt(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,s,i)})},r.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(b,T){return function(){_Y(b,T)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;it(s.layoutOption)?c=s.layoutOption(fZe(s,l)):c=s.layoutOption,c=c||{},s.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(o.x=je(c.x,t),o.setStyle("x",0),h=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=je(c.y,n),o.setStyle("y",0),h=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:c.labelLinePoints}),h=!1)}var v=jP(o);v.needsUpdateLabelLine=h,o.rotation=c.rotate!=null?c.rotate*f:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var m=0;m<xY.length;m++){var y=xY[m];o.setStyle(y,c[y]!=null?c[y]:u.style[y])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var x=s.seriesModel;if(s.dataIndex!=null){var w=s.seriesModel.getData(s.dataType);x=w.getItemModel(s.dataIndex)}o.on("drag",i(l,x.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},r.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),i=$ce(this._labelList),a=ar(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=ar(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});uZe(a,0,t),Yce(s,0,n);var o=ar(i,function(l){return l.layoutOption.hideOverlap});Xce(o)},r.prototype.processLabelsOverall=function(){var e=this;B(this._chartViewList,function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,a=n.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=jP(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,n),a&&e._animateLabels(s,n)})})},r.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=gt(e),a=i.dataIndex;if(n&&a!=null){var s=t.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var f=o.getModel("labelLine");wV(e,bV(o),l),_Y(e,f)}},r.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!wm(e))){var a=jP(n),s=a.oldLayout,o=gt(e),l=o.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=t.getData(o.dataType);if(s){n.attr(s);var h=e.prevStates;h&&(Dt(h,"select")>=0&&n.attr(a.oldLayoutSelect),Dt(h,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),rr(n,u,t,l)}else if(n.attr(u),!Iy(n).valueAnimation){var f=_t(n.style.opacity,1);n.style.opacity=0,Qr(n,{style:{opacity:f}},t,l)}if(a.oldLayout=u,n.states.select){var p=a.oldLayoutSelect={};b2(p,u,S2),b2(p,n.states.select,S2)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};b2(v,u,S2),b2(v,n.states.emphasis,S2)}zle(n,l,c,t,t)}if(i&&!i.ignore&&!i.invisible){var a=hZe(i),s=a.oldLayout,m={points:i.shape.points};s?(i.attr({shape:s}),rr(i,{shape:m},t)):(i.setShape(m),i.style.strokePercent=0,Qr(i,{style:{strokePercent:1}},t)),a.oldLayout=m}},r}(),WP=Qt();function pZe(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var i=WP(t).labelManager;i||(i=WP(t).labelManager=new dZe),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var i=WP(t).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var $P=Math.sin,qP=Math.cos,Kce=Math.PI,Dp=Math.PI*2,vZe=180/Kce,Zce=function(){function r(){}return r.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},r.prototype.moveTo=function(e,t){this._add("M",e,t)},r.prototype.lineTo=function(e,t){this._add("L",e,t)},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){this._add("C",e,t,n,i,a,s)},r.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},r.prototype.arc=function(e,t,n,i,a,s){this.ellipse(e,t,n,n,0,i,a,s)},r.prototype.ellipse=function(e,t,n,i,a,s,o,l){var u=o-s,c=!l,f=Math.abs(u),h=Mh(f-Dp)||(c?u>=Dp:-u>=Dp),p=u>0?u%Dp:u%Dp+Dp,v=!1;h?v=!0:Mh(f)?v=!1:v=p>=Kce==!!c;var m=e+n*qP(s),y=t+i*$P(s);this._start&&this._add("M",m,y);var x=Math.round(a*vZe);if(h){var w=1/this._p,b=(c?1:-1)*(Dp-w);this._add("A",n,i,x,1,+c,e+n*qP(s+b),t+i*$P(s+b)),w>.01&&this._add("A",n,i,x,0,+c,m,y)}else{var T=e+n*qP(o),C=t+i*$P(o);this._add("A",n,i,x,+v,+c,T,C)}},r.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(e,t,n,i,a,s,o,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var p=arguments[h];if(isNaN(p)){this._invalid=!0;return}c.push(Math.round(p*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),SV="none",gZe=Math.round;function mZe(r){var e=r.fill;return e!=null&&e!==SV}function yZe(r){var e=r.stroke;return e!=null&&e!==SV}var F4=["lineCap","miterLimit","lineJoin"],_Ze=Pe(F4,function(r){return"stroke-"+r.toLowerCase()});function xZe(r,e,t,n){var i=e.opacity==null?1:e.opacity;if(t instanceof Ni){r("opacity",i);return}if(mZe(e)){var a=xw(e.fill);r("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;s<1&&r("fill-opacity",s)}else r("fill",SV);if(yZe(e)){var o=xw(e.stroke);r("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,f=e.strokeFirst;if(u!==1&&r("stroke-width",u),f&&r("paint-order",f?"stroke":"fill"),c<1&&r("stroke-opacity",c),e.lineDash){var h=iV(t),p=h[0],v=h[1];p&&(v=gZe(v||0),r("stroke-dasharray",p.join(",")),(v||n)&&r("stroke-dashoffset",v))}for(var m=0;m<F4.length;m++){var y=F4[m];if(e[y]!==QE[y]){var x=e[y]||QE[y];x&&r(_Ze[m],x)}}}}var Qce="http://www.w3.org/2000/svg",Jce="http://www.w3.org/1999/xlink",wZe="http://www.w3.org/2000/xmlns/",bZe="http://www.w3.org/XML/1998/namespace",wY="ecmeta_";function efe(r){return document.createElementNS(Qce,r)}function Ri(r,e,t,n,i){return{tag:r,attrs:t||{},children:n,text:i,key:e}}function SZe(r,e){var t=[];if(e)for(var n in e){var i=e[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+r+" "+t.join(" ")+">"}function TZe(r){return"</"+r+">"}function TV(r,e){e=e||{};var t=e.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return SZe(s,o)+(s!=="style"?ka(l):l||"")+(a?""+t+Pe(a,function(u){return n(u)}).join(t)+t:"")+TZe(s)}return n(r)}function AZe(r,e,t){t=t||{};var n=t.newline?`
`:"",i=" {"+n,a=n+"}",s=Pe(Gt(r),function(l){return l+i+Pe(Gt(r[l]),function(u){return u+":"+r[l][u]+";"}).join(n)+a}).join(n),o=Pe(Gt(e),function(l){return"@keyframes "+l+i+Pe(Gt(e[l]),function(u){return u+i+Pe(Gt(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function B4(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function bY(r,e,t,n){return Ri("svg","root",{width:r,height:e,xmlns:Qce,"xmlns:xlink":Jce,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+e:!1},t)}var EZe=0;function tfe(){return EZe++}var SY={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Lp="transform-origin";function CZe(r,e,t){var n=De({},r.shape);De(n,e),r.buildPath(t,n);var i=new Zce;return i.reset(Loe(r)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function DZe(r,e){var t=e.originX,n=e.originY;(t||n)&&(r[Lp]=t+"px "+n+"px")}var IZe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function rfe(r,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=r,t}function RZe(r,e,t){var n=r.shape.paths,i={},a,s;if(B(n,function(l){var u=B4(t.zrId);u.animation=!0,pI(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=Gt(c),p=h.length;if(p){s=h[p-1];var v=c[s];for(var m in v){var y=v[m];i[m]=i[m]||{d:""},i[m].d+=y.d||""}for(var x in f){var w=f[x].animation;w.indexOf(s)>=0&&(a=w)}}}),!!a){e.d=!1;var o=rfe(i,t);return a.replace(s,o)}}function TY(r){return $e(r)?SY[r]?"cubic-bezier("+SY[r]+")":pB(r)?r:"":""}function pI(r,e,t,n){var i=r.animators,a=i.length,s=[];if(r instanceof XD){var o=RZe(r,e,t);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],h=TY(c.getClip().easing),p=c.getDelay();h?f.push(h):f.push("linear"),p&&f.push(p/1e3+"s"),c.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function m(w){var b=w[1],T=b.length,C={},D={},E={},R="animation-timing-function";function M(Ae,ye,Se){for(var me=Ae.getTracks(),ee=Ae.getMaxTime(),mt=0;mt<me.length;mt++){var rt=me[mt];if(rt.needsAnimate()){var at=rt.keyframes,ot=rt.propName;if(Se&&(ot=Se(ot)),ot)for(var Ue=0;Ue<at.length;Ue++){var Jt=at[Ue],vr=Math.round(Jt.time/ee*100)+"%",en=TY(Jt.easing),Gr=Jt.rawValue;($e(Gr)||tr(Gr))&&(ye[vr]=ye[vr]||{},ye[vr][ot]=Jt.rawValue,en&&(ye[vr][R]=en))}}}}for(var k=0;k<T;k++){var L=b[k],O=L.targetName;O?O==="shape"&&M(L,D):!n&&M(L,C)}for(var N in C){var W={};Voe(W,r),De(W,C[N]);var U=Ooe(W),z=C[N][R];E[N]=U?{transform:U}:{},DZe(E[N],W),z&&(E[N][R]=z)}var Y,re=!0;for(var N in D){E[N]=E[N]||{};var K=!Y,z=D[N][R];K&&(Y=new ic);var q=Y.len();Y.reset(),E[N].d=CZe(r,D[N],Y);var Q=Y.len();if(!K&&q!==Q){re=!1;break}z&&(E[N][R]=z)}if(!re)for(var N in E)delete E[N].d;if(!n)for(var k=0;k<T;k++){var L=b[k],O=L.targetName;O==="style"&&M(L,E,function(me){return IZe[me]})}for(var j=Gt(E),J=!0,te,k=1;k<j.length;k++){var se=j[k-1],de=j[k];if(E[se][Lp]!==E[de][Lp]){J=!1;break}te=E[se][Lp]}if(J&&te){for(var N in E)E[N][Lp]&&delete E[N][Lp];e[Lp]=te}if(ar(j,function(Ae){return Gt(E[Ae]).length>0}).length){var Oe=rfe(E,t);return Oe+" "+w[0]+" both"}}for(var y in l){var o=m(l[y]);o&&s.push(o)}if(s.length){var x=t.zrId+"-cls-"+tfe();t.cssNodes["."+x]={animation:s.join(",")},e.class=x}}function MZe(r,e,t){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};AY(n,e,t)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var s=r.style&&r.style.fill,o=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&o||s;l&&(a=YE(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&r.transform?r.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),AY(n,e,t)}}function AY(r,e,t,n){var i=JSON.stringify(r),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+tfe(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=r),e.class=e.class?e.class+" "+a:a}var kw=Math.round;function nfe(r){return r&&$e(r.src)}function ife(r){return r&&it(r.toDataURL)}function AV(r,e,t,n){xZe(function(i,a){var s=i==="fill"||i==="stroke";s&&Poe(a)?sfe(e,r,i,n):s&&gB(a)?ofe(t,r,i,n):r[i]=a,s&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},e,t,!1),BZe(t,r,n)}function EV(r,e){var t=Hoe(e);t&&(t.each(function(n,i){n!=null&&(r[(wY+i).toLowerCase()]=n+"")}),e.isSilent()&&(r[wY+"silent"]="true"))}function EY(r){return Mh(r[0]-1)&&Mh(r[1])&&Mh(r[2])&&Mh(r[3]-1)}function kZe(r){return Mh(r[4])&&Mh(r[5])}function CV(r,e,t){if(e&&!(kZe(e)&&EY(e))){var n=1e4;r.transform=EY(e)?"translate("+kw(e[4]*n)/n+" "+kw(e[5]*n)/n+")":FGe(e)}}function CY(r,e,t){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(kw(n[a][0]*t)/t),i.push(kw(n[a][1]*t)/t);e.points=i.join(" ")}function DY(r){return!r.smooth}function PZe(r){var e=Pe(r,function(t){return typeof t=="string"?[t,t]:t});return function(t,n,i){for(var a=0;a<e.length;a++){var s=e[a],o=t[s[0]];o!=null&&(n[s[1]]=kw(o*i)/i)}}}var LZe={circle:[PZe(["cx","cy","r"])],polyline:[CY,DY],polygon:[CY,DY]};function OZe(r){for(var e=r.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function afe(r,e){var t=r.style,n=r.shape,i=LZe[r.type],a={},s=e.animation,o="path",l=r.style.strokePercent,u=e.compress&&Loe(r)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&OZe(r))&&!(l<1)){o=r.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var f=!r.path||r.shapeChanged();r.path||r.createPathProxy();var h=r.path;f&&(h.beginPath(),r.buildPath(h,r.shape),r.pathUpdated());var p=h.getVersion(),v=r,m=v.__svgPathBuilder;(v.__svgPathVersion!==p||!m||l!==v.__svgPathStrokePercent)&&(m||(m=v.__svgPathBuilder=new Zce),m.reset(u),h.rebuildPath(m,l),m.generateStr(),v.__svgPathVersion=p,v.__svgPathStrokePercent=l),a.d=m.getStr()}return CV(a,r.transform),AV(a,t,r,e),EV(a,r),e.animation&&pI(r,a,e),e.emphasis&&MZe(r,a,e),Ri(o,r.id+"",a)}function NZe(r,e){var t=r.style,n=t.image;if(n&&!$e(n)&&(nfe(n)?n=n.src:ife(n)&&(n=n.toDataURL())),!!n){var i=t.x||0,a=t.y||0,s=t.width,o=t.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),CV(l,r.transform),AV(l,t,r,e),EV(l,r),e.animation&&pI(r,l,e),Ri("image",r.id+"",l)}}function FZe(r,e){var t=r.style,n=t.text;if(n!=null&&(n+=""),!(!n||isNaN(t.x)||isNaN(t.y))){var i=t.font||ld,a=t.x||0,s=VGe(t.y||0,zD(i),t.textBaseline),o=BGe[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(dle(t)){var u="",c=t.fontStyle,f=hle(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||ioe,p=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),p&&p!=="normal"&&(u+="font-weight:"+p+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),CV(l,r.transform),AV(l,t,r,e),EV(l,r),e.animation&&pI(r,l,e),Ri("text",r.id+"",l,void 0,n)}}function IY(r,e){if(r instanceof Ht)return afe(r,e);if(r instanceof Ni)return NZe(r,e);if(r instanceof Ym)return FZe(r,e)}function BZe(r,e,t){var n=r.style;if(zGe(n)){var i=UGe(r),a=t.shadowCache,s=a[i];if(!s){var o=r.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,h=n.shadowBlur,p=xw(n.shadowColor),v=p.opacity,m=p.color,y=h/2/l,x=h/2/u,w=y+" "+x;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=Ri("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Ri("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:w,"flood-color":m,"flood-opacity":v})]),a[i]=s}e.filter=VD(s)}}function sfe(r,e,t,n){var i=r[t],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Moe(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(koe(i))a="radialGradient",s.cx=_t(i.x,.5),s.cy=_t(i.y,.5),s.r=_t(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,c=o.length;u<c;++u){var f=qN(o[u].offset)*100+"%",h=o[u].color,p=xw(h),v=p.color,m=p.opacity,y={offset:f};y["stop-color"]=v,m<1&&(y["stop-opacity"]=m),l.push(Ri("stop",u+"",y))}var x=Ri(a,"",s,l),w=TV(x),b=n.gradientCache,T=b[w];T||(T=n.zrId+"-g"+n.gradientIdx++,b[w]=T,s.id=T,n.defs[T]=Ri(a,T,s,l)),e[t]=VD(T)}function ofe(r,e,t,n){var i=r.style[t],a=r.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",f;if(Roe(i)){var h=i.imageWidth,p=i.imageHeight,v=void 0,m=i.image;if($e(m)?v=m:nfe(m)?v=m.src:ife(m)&&(v=m.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";Ga(h,y),Ga(p,y)}else if(h==null||p==null){var x=function(k,L){if(k){var O=k.elm,N=h||L.width,W=p||L.height;k.tag==="pattern"&&(u?(W=1,N/=a.width):c&&(N=1,W/=a.height)),k.attrs.width=N,k.attrs.height=W,O&&(O.setAttribute("width",N),O.setAttribute("height",W))}},w=AB(v,null,r,function(k){l||x(D,k),x(f,k)});w&&w.width&&w.height&&(h=h||w.width,p=p||w.height)}f=Ri("image","img",{href:v,width:h,height:p}),s.width=h,s.height=p}else i.svgElement&&(f=ht(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(f){var b,T;l?b=T=1:u?(T=1,b=s.width/a.width):c?(b=1,T=s.height/a.height):s.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(s.width=b),T!=null&&!isNaN(T)&&(s.height=T);var C=Ooe(i);C&&(s.patternTransform=C);var D=Ri("pattern","",s,[f]),E=TV(D),R=n.patternCache,M=R[E];M||(M=n.zrId+"-p"+n.patternIdx++,R[E]=M,s.id=M,D=n.defs[M]=Ri("pattern",M,s,[f])),e[t]=VD(M)}}function VZe(r,e,t){var n=t.clipPathCache,i=t.defs,a=n[r.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var s={id:a};n[r.id]=a,i[a]=Ri("clipPath",a,s,[afe(r,t)])}e["clip-path"]=VD(a)}function RY(r){return document.createTextNode(r)}function Gp(r,e,t){r.insertBefore(e,t)}function MY(r,e){r.removeChild(e)}function kY(r,e){r.appendChild(e)}function lfe(r){return r.parentNode}function ufe(r){return r.nextSibling}function YP(r,e){r.textContent=e}var PY=58,zZe=120,UZe=Ri("","");function V4(r){return r===void 0}function Iu(r){return r!==void 0}function HZe(r,e,t){for(var n={},i=e;i<=t;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function X_(r,e){var t=r.key===e.key,n=r.tag===e.tag;return n&&t}function Pw(r){var e,t=r.children,n=r.tag;if(Iu(n)){var i=r.elm=efe(n);if(DV(UZe,r),ke(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&kY(i,Pw(a))}else Iu(r.text)&&!ct(r.text)&&kY(i,RY(r.text))}else r.elm=RY(r.text);return r.elm}function cfe(r,e,t,n,i){for(;n<=i;++n){var a=t[n];a!=null&&Gp(r,Pw(a),e)}}function _C(r,e,t,n){for(;t<=n;++t){var i=e[t];if(i!=null)if(Iu(i.tag)){var a=lfe(i.elm);MY(a,i.elm)}else MY(r,i.elm)}}function DV(r,e){var t,n=e.elm,i=r&&r.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var s=a[t],o=i[t];o!==s&&(s===!0?n.setAttribute(t,""):s===!1?n.removeAttribute(t):t==="style"?n.style.cssText=s:t.charCodeAt(0)!==zZe?n.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?n.setAttributeNS(wZe,t,s):t.charCodeAt(3)===PY?n.setAttributeNS(bZe,t,s):t.charCodeAt(5)===PY?n.setAttributeNS(Jce,t,s):n.setAttribute(t,s))}for(t in i)t in a||n.removeAttribute(t)}}function GZe(r,e,t){for(var n=0,i=0,a=e.length-1,s=e[0],o=e[a],l=t.length-1,u=t[0],c=t[l],f,h,p,v;n<=a&&i<=l;)s==null?s=e[++n]:o==null?o=e[--a]:u==null?u=t[++i]:c==null?c=t[--l]:X_(s,u)?(F0(s,u),s=e[++n],u=t[++i]):X_(o,c)?(F0(o,c),o=e[--a],c=t[--l]):X_(s,c)?(F0(s,c),Gp(r,s.elm,ufe(o.elm)),s=e[++n],c=t[--l]):X_(o,u)?(F0(o,u),Gp(r,o.elm,s.elm),o=e[--a],u=t[++i]):(V4(f)&&(f=HZe(e,n,a)),h=f[u.key],V4(h)?Gp(r,Pw(u),s.elm):(p=e[h],p.tag!==u.tag?Gp(r,Pw(u),s.elm):(F0(p,u),e[h]=void 0,Gp(r,p.elm,s.elm))),u=t[++i]);(n<=a||i<=l)&&(n>a?(v=t[l+1]==null?null:t[l+1].elm,cfe(r,v,t,i,l)):_C(r,e,n,a))}function F0(r,e){var t=e.elm=r.elm,n=r.children,i=e.children;r!==e&&(DV(r,e),V4(e.text)?Iu(n)&&Iu(i)?n!==i&&GZe(t,n,i):Iu(i)?(Iu(r.text)&&YP(t,""),cfe(t,null,i,0,i.length-1)):Iu(n)?_C(t,n,0,n.length-1):Iu(r.text)&&YP(t,""):r.text!==e.text&&(Iu(n)&&_C(t,n,0,n.length-1),YP(t,e.text)))}function jZe(r,e){if(X_(r,e))F0(r,e);else{var t=r.elm,n=lfe(t);Pw(e),n!==null&&(Gp(n,e.elm,ufe(t)),_C(n,[r],0,0))}return e}var WZe=0,$Ze=function(){function r(e,t,n){if(this.type="svg",this.refreshHover=LY(),this.configLayer=LY(),this.storage=t,this._opts=n=De({},n),this.root=e,this._id="zr"+WZe++,this._oldVNode=bY(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=efe("svg");DV(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",jZe(this._oldVNode,e),this._oldVNode=e}},r.prototype.renderOneToVNode=function(e){return IY(e,B4(this._id))},r.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=B4(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=qZe(n,i,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=Ri("g","main",{},[]);this._paintList(t,a,l?l.children:s),l&&s.push(l);var u=Pe(Gt(a.defs),function(h){return a.defs[h]});if(u.length&&s.push(Ri("defs","defs",{},u)),e.animation){var c=AZe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Ri("style","stl",{},[],c);s.push(f)}}return bY(n,i,s,e.useViewBox)},r.prototype.renderToString=function(e){return e=e||{},TV(this.renderToVNode({animation:_t(e.cssAnimation,!0),emphasis:_t(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:_t(e.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(e,t,n){for(var i=e.length,a=[],s=0,o,l,u=0,c=0;c<i;c++){var f=e[c];if(!f.invisible){var h=f.__clipPaths,p=h&&h.length||0,v=l&&l.length||0,m=void 0;for(m=Math.max(p-1,v-1);m>=0&&!(h&&l&&h[m]===l[m]);m--);for(var y=v-1;y>m;y--)s--,o=a[s-1];for(var x=m+1;x<p;x++){var w={};VZe(h[x],w,t);var b=Ri("g","clip-g-"+u++,w,[]);(o?o.children:n).push(b),a[s++]=b,o=b}l=h;var T=IY(f,t);T&&(o?o.children:n).push(T)}}},r.prototype.resize=function(e,t){var n=this._opts,i=this.root,a=this._viewport;if(e!=null&&(n.width=e),t!=null&&(n.height=t),i&&a&&(a.style.display="none",e=em(i,0,n),t=em(i,1,n),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var s=a.style;s.width=e+"px",s.height=t+"px"}if(gB(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=GGe(t),t&&n+"base64,"+t):n+"charset=UTF-8,"+encodeURIComponent(t)},r}();function LY(r){return function(){}}function qZe(r,e,t,n){var i;if(t&&t!=="none")if(i=Ri("rect","bg",{width:r,height:e,x:"0",y:"0"}),Poe(t))sfe({fill:t},i.attrs,"fill",n);else if(gB(t))ofe({style:{fill:t},dirty:An,getBoundingRect:function(){return{width:r,height:e}}},i.attrs,"fill",n);else{var a=xw(t),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function YZe(r){r.registerPainter("svg",$Ze)}function OY(r,e,t){var n=$l.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*t,n.height=a*t,n}var XP=function(r){Jr(e,r);function e(t,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||KE,typeof t=="string"?s=OY(t,n,i):ct(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(fB(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=OY("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new Ct(0,0,0,0);function c(w){if(!(!w.isFinite()||w.isZero()))if(s.length===0){var b=new Ct(0,0,0,0);b.copy(w),s.push(b)}else{for(var T=!1,C=1/0,D=0,E=0;E<s.length;++E){var R=s[E];if(R.intersect(w)){var M=new Ct(0,0,0,0);M.copy(R),M.union(w),s[E]=M,T=!0;break}else if(l){u.copy(w),u.union(R);var k=w.width*w.height,L=R.width*R.height,O=u.width*u.height,N=O-k-L;N<C&&(C=N,D=E)}}if(l&&(s[D].union(w),T=!0),!T){var b=new Ct(0,0,0,0);b.copy(w),s.push(b)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var p=h.shouldBePainted(i,a,!0,!0),v=h.__isRendered&&(h.__dirty&ao||!p)?h.getPrevPaintRect():null;v&&c(v);var m=p&&(h.__dirty&ao||!h.__isRendered)?h.getPaintRect():null;m&&c(m)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],p=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&c(v)}}var y;do{y=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var x=f+1;x<s.length;)s[f].intersect(s[x])?(y=!0,s[f].union(s[x]),s.splice(x,1)):x++;f++}}while(y);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=n+"px"),a.width=t*i,a.height=n*i,o&&(o.width=t*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/f,l/f));var p=this.domBack;function v(m,y,x,w){if(s.clearRect(m,y,x,w),n&&n!=="transparent"){var b=void 0;if(Tb(n)){var T=n.global||n.__width===x&&n.__height===w;b=T&&n.__canvasGradient||D4(s,n,{x:0,y:0,width:x,height:w}),n.__canvasGradient=b,n.__width=x,n.__height=w}else uoe(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,b=I4(s,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));s.save(),s.fillStyle=b||n,s.fillRect(m,y,x,w),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(p,m,y,x,w),s.restore())}!i||u?v(0,0,o,l):i.length&&B(i,function(m){v(m.x*f,m.y*f,m.width*f,m.height*f)})},e}(cl),NY=1e5,Ip=314159,T2=.01,XZe=.001;function KZe(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function ZZe(r,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var QZe=function(){function r(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=De({},n||{}),this.dpr=n.devicePixelRatio||KE,this._singleCanvas=a,this.root=e;var s=e.style;s&&(fB(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,h=c.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var p=new XP(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[Ip]=p,p.zlevel=Ip,o.push(Ip),this._domRoot=e}else{this._width=em(e,0,n),this._height=em(e,1,n);var u=this._domRoot=ZZe(this._width,this._height);e.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(NY)),a||(a=n.ctx,a.save()),ov(a,o,i,s===t-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(NY)},r.prototype.paintOne=function(e,t){aV(e,t)},r.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;jE(function(){l._paintList(e,t,n,i)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(Ip).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},r.prototype._doPaintList=function(e,t,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,h=function(m){var y=a[m],x=y.ctx,w=s&&y.createRepaintRects(e,t,p._width,p._height),b=n?y.__startIndex:y.__drawIndex,T=!n&&y.incremental&&Date.now,C=T&&Date.now(),D=y.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,D,w);else if(b===y.__startIndex){var E=e[b];(!E.incremental||!E.notClear||n)&&y.clear(!1,D,w)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=y.__startIndex);var R,M=function(N){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(R=b;R<y.__endIndex;R++){var U=e[R];if(U.__inHover&&(f=!0),i._doPaintEl(U,y,s,N,W,R===y.__endIndex-1),T){var z=Date.now()-C;if(z>15)break}}W.prevElClipPaths&&x.restore()};if(w)if(w.length===0)R=y.__endIndex;else for(var k=p.dpr,L=0;L<w.length;++L){var O=w[L];x.save(),x.beginPath(),x.rect(O.x*k,O.y*k,O.width*k,O.height*k),x.clip(),M(O),x.restore()}else x.save(),M(),x.restore();y.__drawIndex=R,y.__drawIndex<y.__endIndex&&(c=!1)},p=this,v=0;v<a.length;v++)h(v);return Ut.wxa&&B(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:f}},r.prototype._doPaintEl=function(e,t,n,i,a,s){var o=t.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(ov(o,e,a,s),e.setPrevPaintRect(l))}else ov(o,e,a,s)},r.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Ip);var n=this._layers[e];return n||(n=new XP("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?bt(n,this._layerConfig[e],!0):this._layerConfig[e-T2]&&bt(n,this._layerConfig[e-T2],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},r.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[e]&&KZe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=n[i[l]]}if(i.splice(l+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(t,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},r.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;o!==u&&(o=u,s=0),i.incremental?(c=this.getLayer(u+XZe,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?T2:0),this._needsManuallyCompositing),c.__builtin__||PD("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),i.__dirty&ao&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,B(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?bt(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+T2){var s=this._layers[a];bt(s,n[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(Dt(n,e),1))},r.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=em(a,0,i),t=em(a,1,i),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Ip).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Ip].dom;var t=new XP("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];ov(n,c,s,l===u-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function JZe(r){r.registerPainter("canvas",QZe)}var eQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return cc(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new pt,i=Bn("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=t.itemHeight*.8,u=Bn(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Lr);function Qm(r,e){var t=r.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var i=Km(r,e,t[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<t.length;s++)a.push(Km(r,e,t[s]));return a.join(" ")}}function ffe(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!ke(e))return e+"";for(var n=[],i=0;i<t.length;i++){var a=r.getDimensionIndex(t[i]);a>=0&&n.push(e[a])}return n.join(" ")}var Bb=function(r){ge(e,r);function e(t,n,i,a){var s=r.call(this)||this;return s.updateData(t,n,i,a),s}return e.prototype._createSymbol=function(t,n,i,a,s){this.removeAll();var o=Bn(t,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=tQe,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){gf(this.childAt(0))},e.prototype.downplay=function(){mf(this.childAt(0))},e.prototype.setZ=function(t,n){var i=this.childAt(0);i.zlevel=t,i.z=n},e.prototype.setDraggable=function(t,n){var i=this.childAt(0);i.draggable=t,i.cursor=!n&&t?"move":i.cursor},e.prototype.updateData=function(t,n,i,a){this.silent=!1;var s=t.getItemVisual(n,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,n),u=s!==this._symbolType,c=a&&a.disableAnimation;if(u){var f=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,t,n,l,f)}else{var h=this.childAt(0);h.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(p):rr(h,p,o,n),Xl(h)}if(this._updateCommon(t,n,l,i,a),u){var h=this.childAt(0);if(!c){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Qr(h,p,o,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,i,a,s){var o=this.childAt(0),l=t.hostModel,u,c,f,h,p,v,m,y,x;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,p=a.blurScope,m=a.labelStatesModels,y=a.hoverScale,x=a.cursorStyle,v=a.emphasisDisabled),!a||t.hasItemOption){var w=a&&a.itemModel?a.itemModel:t.getItemModel(n),b=w.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),f=w.getModel(["select","itemStyle"]).getItemStyle(),c=w.getModel(["blur","itemStyle"]).getItemStyle(),h=b.get("focus"),p=b.get("blurScope"),v=b.get("disabled"),m=Li(w),y=b.getShallow("scale"),x=w.getShallow("cursor")}var T=t.getItemVisual(n,"symbolRotate");o.attr("rotation",(T||0)*Math.PI/180||0);var C=dg(t.getItemVisual(n,"symbolOffset"),i);C&&(o.x=C[0],o.y=C[1]),x&&o.attr("cursor",x);var D=t.getItemVisual(n,"style"),E=D.fill;if(o instanceof Ni){var R=o.style;o.useStyle(De({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},D))}else o.__isEmptyBrush?o.useStyle(De({},D)):o.useStyle(D),o.style.decal=null,o.setColor(E,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var M=t.getItemVisual(n,"liftZ"),k=this._z2;M!=null?k==null&&(this._z2=o.z2,o.z2+=M):k!=null&&(o.z2=k,this._z2=null);var L=s&&s.useNameLabel;ma(o,m,{labelFetcher:l,labelDataIndex:n,defaultText:O,inheritColor:E,defaultOpacity:D.opacity});function O(U){return L?t.getName(U):Qm(t,U)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var N=o.ensureState("emphasis");N.style=u,o.ensureState("select").style=f,o.ensureState("blur").style=c;var W=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;N.scaleX=this._sizeX*W,N.scaleY=this._sizeY*W,this.setSymbolScale(1),dn(this,h,p,v)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,i){var a=this.childAt(0),s=gt(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&cd(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();cd(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,n){return Ny(t.getItemVisual(n,"symbolSize"))},e}(pt);function tQe(r,e){this.parent.drift(r,e)}function KP(r,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function FY(r){return r!=null&&!ct(r)&&(r={isIgnore:r}),r||{}}function BY(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Li(e),cursorStyle:e.get("cursor")}}var Vb=function(){function r(e){this.group=new pt,this._SymbolCtor=e||Bb}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=FY(t);var n=this.group,i=e.hostModel,a=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=BY(e),u={disableAnimation:o},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||n.removeAll(),e.diff(a).add(function(f){var h=c(f);if(KP(e,h,f,t)){var p=new s(e,f,l,u);p.setPosition(h),e.setItemGraphicEl(f,p),n.add(p)}}).update(function(f,h){var p=a.getItemGraphicEl(h),v=c(f);if(!KP(e,v,f,t)){n.remove(p);return}var m=e.getItemVisual(f,"symbol")||"circle",y=p&&p.getSymbolType&&p.getSymbolType();if(!p||y&&y!==m)n.remove(p),p=new s(e,f,l,u),p.setPosition(v);else{p.updateData(e,f,l,u);var x={x:v[0],y:v[1]};o?p.attr(x):rr(p,x,i)}n.add(p),e.setItemGraphicEl(f,p)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){n.remove(h)},i)}).execute(),this._getSymbolPoint=c,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=BY(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=FY(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=t.getItemLayout(a);if(KP(t,s,a,n)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(e){Sd(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},n.hostModel)}):t.removeAll()},r}();function hfe(r,e,t){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=rQe(i,t),s=n.dim,o=i.dim,l=e.mapDimension(o),u=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,f=Pe(r.dimensions,function(v){return e.mapDimension(v)}),h=!1,p=e.getCalculationInfo("stackResultDimension");return _f(e,f[0])&&(h=!0,f[0]=p),_f(e,f[1])&&(h=!0,f[1]=p),{dataDimsForPoint:f,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function rQe(r,e){var t=0,n=r.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:tr(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function dfe(r,e,t,n){var i=NaN;r.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,s=[];return s[a]=t.get(r.baseDim,n),s[1-a]=i,e.dataToPoint(s)}function nQe(r,e){var t=[];return e.diff(r).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,i){t.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function iQe(r,e,t,n,i,a,s,o){for(var l=nQe(r,e),u=[],c=[],f=[],h=[],p=[],v=[],m=[],y=hfe(i,e,s),x=r.getLayout("points")||[],w=e.getLayout("points")||[],b=0;b<l.length;b++){var T=l[b],C=!0,D=void 0,E=void 0;switch(T.cmd){case"=":D=T.idx*2,E=T.idx1*2;var R=x[D],M=x[D+1],k=w[E],L=w[E+1];(isNaN(R)||isNaN(M))&&(R=k,M=L),u.push(R,M),c.push(k,L),f.push(t[D],t[D+1]),h.push(n[E],n[E+1]),m.push(e.getRawIndex(T.idx1));break;case"+":var O=T.idx,N=y.dataDimsForPoint,W=i.dataToPoint([e.get(N[0],O),e.get(N[1],O)]);E=O*2,u.push(W[0],W[1]),c.push(w[E],w[E+1]);var U=dfe(y,i,e,O);f.push(U[0],U[1]),h.push(n[E],n[E+1]),m.push(e.getRawIndex(O));break;case"-":C=!1}C&&(p.push(T),v.push(v.length))}v.sort(function(se,de){return m[se]-m[de]});for(var z=u.length,Y=Nu(z),re=Nu(z),K=Nu(z),q=Nu(z),Q=[],b=0;b<v.length;b++){var j=v[b],J=b*2,te=j*2;Y[J]=u[te],Y[J+1]=u[te+1],re[J]=c[te],re[J+1]=c[te+1],K[J]=f[te],K[J+1]=f[te+1],q[J]=h[te],q[J+1]=h[te+1],Q[b]=p[j]}return{current:Y,next:re,stackedOnCurrent:K,stackedOnNext:q,status:Q}}var nh=Math.min,ih=Math.max;function bv(r,e){return isNaN(r)||isNaN(e)}function z4(r,e,t,n,i,a,s,o,l){for(var u,c,f,h,p,v,m=t,y=0;y<n;y++){var x=e[m*2],w=e[m*2+1];if(m>=i||m<0)break;if(bv(x,w)){if(l){m+=a;continue}break}if(m===t)r[a>0?"moveTo":"lineTo"](x,w),f=x,h=w;else{var b=x-u,T=w-c;if(b*b+T*T<.5){m+=a;continue}if(s>0){for(var C=m+a,D=e[C*2],E=e[C*2+1];D===x&&E===w&&y<n;)y++,C+=a,m+=a,D=e[C*2],E=e[C*2+1],x=e[m*2],w=e[m*2+1],b=x-u,T=w-c;var R=y+1;if(l)for(;bv(D,E)&&R<n;)R++,C+=a,D=e[C*2],E=e[C*2+1];var M=.5,k=0,L=0,O=void 0,N=void 0;if(R>=n||bv(D,E))p=x,v=w;else{k=D-u,L=E-c;var W=x-u,U=D-x,z=w-c,Y=E-w,re=void 0,K=void 0;if(o==="x"){re=Math.abs(W),K=Math.abs(U);var q=k>0?1:-1;p=x-q*re*s,v=w,O=x+q*K*s,N=w}else if(o==="y"){re=Math.abs(z),K=Math.abs(Y);var Q=L>0?1:-1;p=x,v=w-Q*re*s,O=x,N=w+Q*K*s}else re=Math.sqrt(W*W+z*z),K=Math.sqrt(U*U+Y*Y),M=K/(K+re),p=x-k*s*(1-M),v=w-L*s*(1-M),O=x+k*s*M,N=w+L*s*M,O=nh(O,ih(D,x)),N=nh(N,ih(E,w)),O=ih(O,nh(D,x)),N=ih(N,nh(E,w)),k=O-x,L=N-w,p=x-k*re/K,v=w-L*re/K,p=nh(p,ih(u,x)),v=nh(v,ih(c,w)),p=ih(p,nh(u,x)),v=ih(v,nh(c,w)),k=x-p,L=w-v,O=x+k*K/re,N=w+L*K/re}r.bezierCurveTo(f,h,p,v,x,w),f=O,h=N}else r.lineTo(x,w)}u=x,c=w,m+=a}return y}var pfe=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),aQe=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new pfe},e.prototype.buildPath=function(t,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&bv(i[s*2-2],i[s*2-1]);s--);for(;a<s&&bv(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=z4(t,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=ic.CMD,o,l,u=n==="x",c=[],f=0;f<a.length;){var h=a[f++],p=void 0,v=void 0,m=void 0,y=void 0,x=void 0,w=void 0,b=void 0;switch(h){case s.M:o=a[f++],l=a[f++];break;case s.L:if(p=a[f++],v=a[f++],b=u?(t-o)/(p-o):(t-l)/(v-l),b<=1&&b>=0){var T=u?(v-l)*b+l:(p-o)*b+o;return u?[t,T]:[T,t]}o=p,l=v;break;case s.C:p=a[f++],v=a[f++],m=a[f++],y=a[f++],x=a[f++],w=a[f++];var C=u?$E(o,p,m,x,t,c):$E(l,v,y,w,t,c);if(C>0)for(var D=0;D<C;D++){var E=c[D];if(E<=1&&E>=0){var T=u?Ci(l,v,y,w,E):Ci(o,p,m,x,E);return u?[t,T]:[T,t]}}o=x,l=w;break}}},e}(Ht),sQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(pfe),vfe=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new sQe},e.prototype.buildPath=function(t,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&bv(i[o*2-2],i[o*2-1]);o--);for(;s<o&&bv(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=z4(t,i,s,o,o,1,n.smooth,l,n.connectNulls);z4(t,a,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,t.closePath()}},e}(Ht);function gfe(r,e,t,n,i){var a=r.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new Xt({shape:{x:s,y:o,width:l,height:u}});if(e){var h=r.getBaseAxis(),p=h.isHorizontal(),v=h.inverse;p?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var m=it(i)?function(y){i(y,f)}:null;Qr(f,{shape:{width:l,height:u,x:s,y:o}},t,null,n,m)}return f}function mfe(r,e,t){var n=r.getArea(),i=wn(n.r0,1),a=wn(n.r,1),s=new ja({shape:{cx:wn(r.cx,1),cy:wn(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,Qr(s,{shape:{endAngle:n.endAngle,r:a}},t)}return s}function zb(r,e,t,n,i){if(r){if(r.type==="polar")return mfe(r,e,t);if(r.type==="cartesian2d")return gfe(r,e,t,n,i)}else return null;return null}function pg(r,e){return r.type===e}function VY(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function zY(r){for(var e=1/0,t=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var s=r[a++],o=r[a++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(o)||(t=Math.min(o,t),i=Math.max(o,i))}return[[e,t],[n,i]]}function UY(r,e){var t=zY(r),n=t[0],i=t[1],a=zY(e),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function HY(r){return tr(r)?r:r?.5:0}function oQe(r,e,t){if(!t.valueDim)return[];for(var n=e.count(),i=Nu(n*2),a=0;a<n;a++){var s=dfe(t,r,e,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function ah(r,e,t,n,i){var a=t.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],f=[],h=[];if(i){for(l=0;l<r.length;l+=2){var p=e||r;!isNaN(p[l])&&!isNaN(p[l+1])&&h.push(r[l],r[l+1])}r=h}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],o.push(c[0],c[1]),n){case"end":u[s]=f[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var v=(c[s]+f[s])/2,m=[];u[s]=m[s]=v,u[1-s]=c[1-s],m[1-s]=f[1-s],o.push(u[0],u[1]),o.push(m[0],m[1]);break;default:u[s]=c[s],u[1-s]=f[1-s],o.push(u[0],u[1])}return o.push(r[l++],r[l++]),o}function lQe(r,e){var t=[],n=r.length,i,a;function s(c,f,h){var p=c.coord,v=(h-p)/(f.coord-p),m=vB(v,[c.color,f.color]);return{coord:h,color:m}}for(var o=0;o<n;o++){var l=r[o],u=l.coord;if(u<0)i=l;else if(u>e){a?t.push(s(a,l,e)):i&&t.push(s(i,l,0),s(i,l,e));break}else i&&(t.push(s(i,l,0)),i=null),t.push(l),a=l}return t}function uQe(r,e,t){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&e.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=e.getAxis(i),u=Pe(a.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=lQe(u,i==="x"?t.getWidth():t.getHeight()),p=h.length;if(!p&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,m=h[0].coord-v,y=h[p-1].coord+v,x=y-m;if(x<.001)return"transparent";B(h,function(b){b.offset=(b.coord-m)/x}),h.push({offset:p?h[p-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:f[0]||"transparent"});var w=new Ey(0,0,0,0,h,!0);return w[i]=m,w[i+"2"]=y,w}}}function cQe(r,e,t){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&fQe(a,e))){var s=e.mapDimension(a.dim),o={};return B(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function fQe(r,e){var t=r.getExtent(),n=Math.abs(t[1]-t[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(Bb.getSymbolSize(e,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function hQe(r,e){return isNaN(r)||isNaN(e)}function dQe(r){for(var e=r.length/2;e>0&&hQe(r[e*2-2],r[e*2-1]);e--);return e-1}function GY(r,e){return[r[e*2],r[e*2+1]]}function pQe(r,e,t){for(var n=r.length/2,i=t==="x"?0:1,a,s,o=0,l=-1,u=0;u<n;u++)if(s=r[u*2+i],!(isNaN(s)||isNaN(r[u*2+1-i]))){if(u===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=u;break}o=u,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function yfe(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<_s.length;e++)if(r.get([_s[e],"endLabel","show"]))return!0;return!1}function ZP(r,e,t,n){if(pg(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=yfe(n)?function(p,v){r._endLabelOnDuring(p,v,s,o,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=gfe(e,t,n,function(){var p=r._endLabel;p&&t&&o.originalX!=null&&p.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return mfe(e,t,n)}function vQe(r,e){var t=e.getBaseAxis(),n=t.isHorizontal(),i=t.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||s}}}var gQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new pt,n=new Vb;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=Xe(this._changePolyState,this)},e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=o.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,p=this._symbolDraw,v=this._polyline,m=this._polygon,y=this._lineGroup,x=!n.ssr&&t.get("animation"),w=!u.isEmpty(),b=u.get("origin"),T=hfe(a,o,b),C=w&&oQe(a,o,T),D=t.get("showSymbol"),E=t.get("connectNulls"),R=D&&!f&&cQe(t,o,a),M=this._data;M&&M.eachItemGraphicEl(function(se,de){se.__temp&&(s.remove(se),M.setItemGraphicEl(de,null))}),D||p.remove(),s.add(y);var k=f?!1:t.get("step"),L;a&&a.getArea&&t.get("clip",!0)&&(L=a.getArea(),L.width!=null?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r+=.5)),this._clipShapeForSymbol=L;var O=uQe(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(v&&h.type===a.type&&k===this._step))D&&p.updateData(o,{isIgnore:R,clipShape:L,disableAnimation:!0,getSymbolPoint:function(se){return[c[se*2],c[se*2+1]]}}),x&&this._initSymbolLabelAnimation(o,a,L),k&&(C&&(C=ah(C,c,a,k,E)),c=ah(c,null,a,k,E)),v=this._newPolyline(c),w?m=this._newPolygon(c,C):m&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Gv(O)),y.setClipPath(ZP(this,a,!0,t));else{w&&!m?m=this._newPolygon(c,C):m&&!w&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Gv(O));var N=y.getClipPath();if(N){var W=ZP(this,a,!1,t);Qr(N,{shape:W.shape},t)}else y.setClipPath(ZP(this,a,!0,t));D&&p.updateData(o,{isIgnore:R,clipShape:L,disableAnimation:!0,getSymbolPoint:function(se){return[c[se*2],c[se*2+1]]}}),(!VY(this._stackedOnPoints,C)||!VY(this._points,c))&&(x?this._doUpdateAnimation(o,C,a,i,k,b,E):(k&&(C&&(C=ah(C,c,a,k,E)),c=ah(c,null,a,k,E)),v.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:C})))}var U=t.getModel("emphasis"),z=U.get("focus"),Y=U.get("blurScope"),re=U.get("disabled");if(v.useStyle(ut(l.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"})),ga(v,t,"lineStyle"),v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var K=v.getState("emphasis").style;K.lineWidth=+v.style.lineWidth+1}gt(v).seriesIndex=t.seriesIndex,dn(v,z,Y,re);var q=HY(t.get("smooth")),Q=t.get("smoothMonotone");if(v.setShape({smooth:q,smoothMonotone:Q,connectNulls:E}),m){var j=o.getCalculationInfo("stackedOnSeries"),J=0;m.useStyle(ut(u.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),j&&(J=HY(j.get("smooth"))),m.setShape({smooth:q,stackedOnSmooth:J,smoothMonotone:Q,connectNulls:E}),ga(m,t,"areaStyle"),gt(m).seriesIndex=t.seriesIndex,dn(m,z,Y,re)}var te=this._changePolyState;o.eachItemGraphicEl(function(se){se&&(se.onHoverStateChange=te)}),this._polyline.onHoverStateChange=te,this._data=o,this._coordSys=a,this._stackedOnPoints=C,this._points=c,this._step=k,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,v),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,n){gt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,i,a){var s=t.getData(),o=zv(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],f=l[o*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=t.get("zlevel")||0,p=t.get("z")||0;u=new Bb(s,o),u.x=c,u.y=f,u.setZ(h,p);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=p,v.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Dr.prototype.highlight.call(this,t,n,i,a)},e.prototype.downplay=function(t,n,i,a){var s=t.getData(),o=zv(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Dr.prototype.downplay.call(this,t,n,i,a)},e.prototype._changePolyState=function(t){var n=this._polygon;JE(this._polyline,t),n&&JE(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new aQe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new vfe({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");it(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=it(f)?f(null):f;t.eachItemGraphicEl(function(p,v){var m=p;if(m){var y=[p.x,p.y],x=void 0,w=void 0,b=void 0;if(i)if(s){var T=i,C=n.pointToCoord(y);a?(x=T.startAngle,w=T.endAngle,b=-C[1]/180*Math.PI):(x=T.r0,w=T.r,b=C[0])}else{var D=i;a?(x=D.x,w=D.x+D.width,b=p.x):(x=D.y+D.height,w=D.y,b=p.y)}var E=w===x?0:(b-x)/(w-x);l&&(E=1-E);var R=it(f)?f(v):c*E+h,M=m.getSymbolPath(),k=M.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:R}),k&&k.animateFrom({style:{opacity:0}},{duration:300,delay:R}),M.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,i){var a=t.getModel("endLabel");if(yfe(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Yt({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=dQe(l);c>=0&&(ma(o,Li(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(f,h,p){return p!=null?ffe(s,p):Qm(s,f)},enableTextSetter:!0},vQe(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,i,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),h=i.hostModel,p=h.get("connectNulls"),v=o.get("precision"),m=o.get("distance")||0,y=l.getBaseAxis(),x=y.isHorizontal(),w=y.inverse,b=n.shape,T=w?x?b.x:b.y+b.height:x?b.x+b.width:b.y,C=(x?m:0)*(w?-1:1),D=(x?0:-m)*(w?-1:1),E=x?"x":"y",R=pQe(f,T,E),M=R.range,k=M[1]-M[0],L=void 0;if(k>=1){if(k>1&&!p){var O=GY(f,M[0]);u.attr({x:O[0]+C,y:O[1]+D}),s&&(L=h.getRawValue(M[0]))}else{var O=c.getPointOn(T,E);O&&u.attr({x:O[0]+C,y:O[1]+D});var N=h.getRawValue(M[0]),W=h.getRawValue(M[1]);s&&(L=tle(i,v,N,W,R.t))}a.lastFrameIndex=M[0]}else{var U=t===1||a.lastFrameIndex>0?M[0]:0,O=GY(f,U);s&&(L=h.getRawValue(U)),u.attr({x:O[0]+C,y:O[1]+D})}if(s){var z=Iy(u);typeof z.setLabelText=="function"&&z.setLabelText(L)}}},e.prototype._doUpdateAnimation=function(t,n,i,a,s,o,l){var u=this._polyline,c=this._polygon,f=t.hostModel,h=iQe(this._data,t,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),p=h.current,v=h.stackedOnCurrent,m=h.next,y=h.stackedOnNext;if(s&&(v=ah(h.stackedOnCurrent,h.current,i,s,l),p=ah(h.current,null,i,s,l),y=ah(h.stackedOnNext,h.next,i,s,l),m=ah(h.next,null,i,s,l)),UY(p,m)>3e3||c&&UY(v,y)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:y}));return}u.shape.__points=h.current,u.shape.points=p;var x={shape:{points:m}};h.current!==p&&(x.shape.__points=h.next),u.stopAnimation(),rr(u,x,f),c&&(c.setShape({points:p,stackedOnPoints:v}),c.stopAnimation(),rr(c,{shape:{stackedOnPoints:y}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var w=[],b=h.status,T=0;T<b.length;T++){var C=b[T].cmd;if(C==="="){var D=t.getItemGraphicEl(b[T].idx1);D&&w.push({el:D,ptIdx:T})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var E=u.shape.__points,R=0;R<w.length;R++){var M=w[R].el,k=w[R].ptIdx*2;M.x=E[k],M.y=E[k+1],M.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Dr);function Ub(r,e){return{seriesType:r,plan:Ly(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,s=e||a.large;if(i){var o=Pe(i.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=o.length,u=n.getCalculationInfo("stackResultDimension");_f(n,o[0])&&(o[0]=u),_f(n,o[1])&&(o[1]=u);var c=n.getStore(),f=n.getDimensionIndex(o[0]),h=n.getDimensionIndex(o[1]);return l&&{progress:function(p,v){for(var m=p.end-p.start,y=s&&Nu(m*l),x=[],w=[],b=p.start,T=0;b<p.end;b++){var C=void 0;if(l===1){var D=c.get(f,b);C=i.dataToPoint(D,null,w)}else x[0]=c.get(f,b),x[1]=c.get(h,b),C=i.dataToPoint(x,null,w);s?(y[T++]=C[0],y[T++]=C[1]):v.setItemLayout(b,C.slice())}s&&v.setLayout("points",y)}}}}}}var mQe={average:function(r){for(var e=0,t=0,n=0;n<r.length;n++)isNaN(r[n])||(e+=r[n],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},yQe=function(r){return Math.round(r.length/2)};function _fe(r){return{seriesType:r,reset:function(e,t,n){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),p=Math.round(o/h);if(isFinite(p)&&p>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/p)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/p));var v=void 0;$e(a)?v=mQe[a]:it(a)&&(v=a),v&&e.setData(i.downSample(i.mapDimension(u.dim),1/p,v,yQe))}}}}}function _Qe(r){r.registerChartView(gQe),r.registerSeriesModel(eQe),r.registerLayout(Ub("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,_fe("line"))}var Lw=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return cc(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)B(a.getAxes(),function(h,p){if(h.type==="category"&&n!=null){var v=h.getTicksCoords(),m=h.getTickModel().get("alignWithLabel"),y=s[p],x=n[p]==="x1"||n[p]==="y1";if(x&&!m&&(y+=1),v.length<2)return;if(v.length===2){o[p]=h.toGlobalCoord(h.getExtent()[x?1:0]);return}for(var w=void 0,b=void 0,T=1,C=0;C<v.length;C++){var D=v[C].coord,E=C===v.length-1?v[C-1].tickValue+T:v[C].tickValue;if(E===y){b=D;break}else if(E<y)w=D;else if(w!=null&&E>y){b=(D+w)/2;break}C===1&&(T=E-v[0].tickValue)}b==null&&(w?w&&(b=v[v.length-1].coord):b=v[0].coord),o[p]=h.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;o[f]+=u+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Lr);Lr.registerClass(Lw);var xQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return cc(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,i){return i.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Td(Lw.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Lw),wQe=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),xC=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new wQe},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,c=n.startAngle,f=n.endAngle,h=n.clockwise,p=Math.PI*2,v=h?f-c<p:c-f<p;v||(c=f-(h?p:-p));var m=Math.cos(c),y=Math.sin(c),x=Math.cos(f),w=Math.sin(f);v?(t.moveTo(m*s+i,y*s+a),t.arc(m*u+i,y*u+a,l,-Math.PI+c,c,!h)):t.moveTo(m*o+i,y*o+a),t.arc(i,a,o,c,f,!h),t.arc(x*u+i,w*u+a,l,f-Math.PI*2,f-Math.PI,!h),s!==0&&t.arc(i,a,s,f,c,h)},e}(Ht);function bQe(r,e){e=e||{};var t=e.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return ZE(n,i,a);var o=r(s),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,p=u.r0,v=(h+p)/2,m=u.startAngle,y=u.endAngle,x=(m+y)/2,w=t?Math.abs(h-p)/2:0,b=Math.cos,T=Math.sin,C=c+h*b(m),D=f+h*T(m),E="left",R="top";switch(o){case"startArc":C=c+(p-l)*b(x),D=f+(p-l)*T(x),E="center",R="top";break;case"insideStartArc":C=c+(p+l)*b(x),D=f+(p+l)*T(x),E="center",R="bottom";break;case"startAngle":C=c+v*b(m)+A2(m,l+w,!1),D=f+v*T(m)+E2(m,l+w,!1),E="right",R="middle";break;case"insideStartAngle":C=c+v*b(m)+A2(m,-l+w,!1),D=f+v*T(m)+E2(m,-l+w,!1),E="left",R="middle";break;case"middle":C=c+v*b(x),D=f+v*T(x),E="center",R="middle";break;case"endArc":C=c+(h+l)*b(x),D=f+(h+l)*T(x),E="center",R="bottom";break;case"insideEndArc":C=c+(h-l)*b(x),D=f+(h-l)*T(x),E="center",R="top";break;case"endAngle":C=c+v*b(y)+A2(y,l+w,!0),D=f+v*T(y)+E2(y,l+w,!0),E="left",R="middle";break;case"insideEndAngle":C=c+v*b(y)+A2(y,-l+w,!0),D=f+v*T(y)+E2(y,-l+w,!0),E="right",R="middle";break;default:return ZE(n,i,a)}return n=n||{},n.x=C,n.y=D,n.align=E,n.verticalAlign=R,n}}function SQe(r,e,t,n){if(tr(n)){r.setTextConfig({rotation:n});return}else if(ke(e)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function A2(r,e,t){return e*Math.sin(r)*(t?-1:1)}function E2(r,e,t){return e*Math.cos(r)*(t?1:-1)}function lv(r,e,t){var n=r.get("borderRadius");if(n==null)return t?{cornerRadius:0}:null;ke(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Pe(n,function(a){return Yl(a,i)})}}var QP=Math.max,JP=Math.min;function TQe(r,e){var t=r.getArea&&r.getArea();if(pg(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var AQe=function(r){ge(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,i):this._renderNormal(t,n,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){Sd(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,i,a){var s=this.group,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,p=EQe(t,u);p&&this._enableRealtimeSort(p,o,i);var v=t.get("clip",!0)||p,m=TQe(u,o);s.removeClipPath();var y=t.get("roundCap",!0),x=t.get("showBackground",!0),w=t.getModel("backgroundStyle"),b=w.get("borderRadius")||0,T=[],C=this._backgroundEls,D=a&&a.isInitSort,E=a&&a.type==="changeAxisOrder";function R(L){var O=C2[u.type](o,L),N=PQe(u,f,O);return N.useStyle(w.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",b):N.setShape("cornerRadius",b),T[L]=N,N}o.diff(l).add(function(L){var O=o.getItemModel(L),N=C2[u.type](o,L,O);if(x&&R(L),!(!o.hasValue(L)||!YY[u.type](N))){var W=!1;v&&(W=jY[u.type](m,N));var U=WY[u.type](t,o,L,N,f,h,c.model,!1,y);p&&(U.forceLabelAnimation=!0),XY(U,o,L,O,N,t,f,u.type==="polar"),D?U.attr({shape:N}):p?$Y(p,h,U,N,L,f,!1,!1):Qr(U,{shape:N},t,L),o.setItemGraphicEl(L,U),s.add(U),U.ignore=W}}).update(function(L,O){var N=o.getItemModel(L),W=C2[u.type](o,L,N);if(x){var U=void 0;C.length===0?U=R(O):(U=C[O],U.useStyle(w.getItemStyle()),u.type==="cartesian2d"?U.setShape("r",b):U.setShape("cornerRadius",b),T[L]=U);var z=C2[u.type](o,L),Y=wfe(f,z,u);rr(U,{shape:Y},h,L)}var re=l.getItemGraphicEl(O);if(!o.hasValue(L)||!YY[u.type](W)){s.remove(re);return}var K=!1;if(v&&(K=jY[u.type](m,W),K&&s.remove(re)),re?Xl(re):re=WY[u.type](t,o,L,W,f,h,c.model,!!re,y),p&&(re.forceLabelAnimation=!0),E){var q=re.getTextContent();if(q){var Q=Iy(q);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else XY(re,o,L,N,W,t,f,u.type==="polar");D?re.attr({shape:W}):p?$Y(p,h,re,W,L,f,!0,E):rr(re,{shape:W},t,L,null),o.setItemGraphicEl(L,re),re.ignore=K,s.add(re)}).remove(function(L){var O=l.getItemGraphicEl(L);O&&Tw(O,t,L)}).execute();var M=this._backgroundGroup||(this._backgroundGroup=new pt);M.removeAll();for(var k=0;k<T.length;++k)M.add(T[k]);s.add(M),this._backgroundEls=T,this._data=o},e.prototype._renderLarge=function(t,n,i){this._clear(),ZY(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),ZY(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&zb(t.coordinateSystem,!1,t),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,i){var a=this;if(n.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,i),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,i){var a=[];return t.each(t.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Pe(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(t.indexOfRawIndex(c));if(f>o)return!0;o=f}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,n,i,a){if(this._isOrderChangedWithinSameData(t,n,i)){var s=this._dataSort(t,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,n,i){var a=n.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Tw(a,t,gt(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Dr),jY={cartesian2d:function(r,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=r.x+r.width,a=r.y+r.height,s=QP(e.x,r.x),o=JP(e.x+e.width,i),l=QP(e.y,r.y),u=JP(e.y+e.height,a),c=o<s,f=u<l;return e.x=c&&s>i?o:s,e.y=f&&l>a?u:l,e.width=c?0:o-s,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var i=JP(e.r,r.r),a=QP(e.r0,r.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return s}},WY={cartesian2d:function(r,e,t,n,i,a,s,o,l){var u=new Xt({shape:De({},n),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(r,e,t,n,i,a,s,o,l){var u=!i&&l?xC:ja,c=new u({shape:n,z2:1});c.name="item";var f=xfe(i);if(c.calculateTextPosition=bQe(f,{isRoundCap:u===xC}),a){var h=c.shape,p=i?"r":"endAngle",v={};h[p]=i?n.r0:n.startAngle,v[p]=n[p],(o?rr:Qr)(c,{shape:v},a)}return c}};function EQe(r,e){var t=r.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function $Y(r,e,t,n,i,a,s,o){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?rr:Qr)(t,{shape:l},e,i,null);var c=e?r.baseAxis.model:null;(s?rr:Qr)(t,{shape:u},c,i)}function qY(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var CQe=["x","y","width","height"],DQe=["cx","cy","r","startAngle","endAngle"],YY={cartesian2d:function(r){return!qY(r,CQe)},polar:function(r){return!qY(r,DQe)}},C2={cartesian2d:function(r,e,t){var n=r.getItemLayout(e),i=t?RQe(t,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(r,e,t){var n=r.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function IQe(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function xfe(r){return function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}}(r)}function XY(r,e,t,n,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var c=r.shape,f=lv(n.getModel("itemStyle"),c,!0);De(c,f),r.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var h=n.getShallow("cursor");h&&r.attr("cursor",h);var p=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=Li(n);ma(r,v,{labelFetcher:a,labelDataIndex:t,defaultText:Qm(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var m=r.getTextContent();if(o&&m){var y=n.get(["label","position"]);r.textConfig.inside=y==="middle"?!0:null,SQe(r,y==="outside"?p:y,xfe(s),n.get(["label","rotate"]))}Vle(m,v,a.getRawValue(t),function(w){return ffe(e,w)});var x=n.getModel(["emphasis"]);dn(r,x.get("focus"),x.get("blurScope"),x.get("disabled")),ga(r,n),IQe(i)&&(r.style.fill="none",r.style.stroke="none",B(r.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function RQe(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var MQe=function(){function r(){}return r}(),KY=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new MQe},e.prototype.buildPath=function(t,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[s]=i[c+2],o[a]=i[c+a],o[s]=i[c+s],t.rect(o[0],o[1],l[0],l[1])},e}(Ht);function ZY(r,e,t,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new KY({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new KY({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=s,f.barWidth=o,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,gt(f).seriesIndex=r.seriesIndex,r.get("silent")||(f.on("mousedown",QY),f.on("mousemove",QY)),t&&t.push(f)}var QY=oI(function(r){var e=this,t=kQe(e,r.offsetX,r.offsetY);gt(e).dataIndex=t>=0?t:null},30,!1);function kQe(r,e,t){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,s=r.largeDataIndices,o=[],l=[],u=r.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[n]=u,l[i]=a[h+2],o[n]=a[h+n],o[i]=a[h+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[c]}return-1}function wfe(r,e,t){if(pg(t,"cartesian2d")){var n=e,i=t.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function PQe(r,e,t){var n=r.type==="polar"?ja:Xt;return new n({shape:wfe(e,t,r),silent:!0,z2:0})}function LQe(r){r.registerChartView(AQe),r.registerSeriesModel(xQe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,xt(Ece,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Cce("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,_fe("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var JY=Math.PI*2,D2=Math.PI/180;function bfe(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Sfe(r,e){var t=bfe(r,e),n=r.get("center"),i=r.get("radius");ke(i)||(i=[0,i]);var a=je(t.width,e.getWidth()),s=je(t.height,e.getHeight()),o=Math.min(a,s),l=je(i[0],o/2),u=je(i[1],o/2),c,f,h=r.coordinateSystem;if(h){var p=h.dataToPoint(n);c=p[0]||0,f=p[1]||0}else ke(n)||(n=[n,n]),c=je(n[0],a)+t.x,f=je(n[1],s)+t.y;return{cx:c,cy:f,r0:l,r:u}}function OQe(r,e,t){e.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),s=bfe(n,t),o=Sfe(n,t),l=o.cx,u=o.cy,c=o.r,f=o.r0,h=-n.get("startAngle")*D2,p=n.get("endAngle"),v=n.get("padAngle")*D2;p=p==="auto"?h-JY:-p*D2;var m=n.get("minAngle")*D2,y=m+v,x=0;i.each(a,function(Y){!isNaN(Y)&&x++});var w=i.getSum(a),b=Math.PI/(w||x)*2,T=n.get("clockwise"),C=n.get("roseType"),D=n.get("stillShowZeroSum"),E=i.getDataExtent(a);E[0]=0;var R=T?1:-1,M=[h,p],k=R*v/2;EB(M,!T),h=M[0],p=M[1];var L=Tfe(n);L.startAngle=h,L.endAngle=p,L.clockwise=T;var O=Math.abs(p-h),N=O,W=0,U=h;if(i.setLayout({viewRect:s,r:c}),i.each(a,function(Y,re){var K;if(isNaN(Y)){i.setItemLayout(re,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:T,cx:l,cy:u,r0:f,r:C?NaN:c});return}C!=="area"?K=w===0&&D?b:Y*b:K=O/x,K<y?(K=y,N-=y):W+=Y;var q=U+R*K,Q=0,j=0;v>K?(Q=U+R*K/2,j=Q):(Q=U+k,j=q-k),i.setItemLayout(re,{angle:K,startAngle:Q,endAngle:j,clockwise:T,cx:l,cy:u,r0:f,r:C?cr(Y,E,[f,c]):c}),U=q}),N<JY&&x)if(N<=.001){var z=O/x;i.each(a,function(Y,re){if(!isNaN(Y)){var K=i.getItemLayout(re);K.angle=z;var q=0,Q=0;z<v?(q=h+R*(re+1/2)*z,Q=q):(q=h+R*re*z+k,Q=h+R*(re+1)*z-k),K.startAngle=q,K.endAngle=Q}})}else b=N/W,U=h,i.each(a,function(Y,re){if(!isNaN(Y)){var K=i.getItemLayout(re),q=K.angle===y?y:Y*b,Q=0,j=0;q<v?(Q=U+R*q/2,j=Q):(Q=U+k,j=U+R*q-k),K.startAngle=Q,K.endAngle=j,U+=R*q}})})}var Tfe=Qt();function Hb(r){return{seriesType:r,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var NQe=Math.PI/180;function eX(r,e,t,n,i,a,s,o,l,u){if(r.length<2)return;function c(m){for(var y=m.rB,x=y*y,w=0;w<m.list.length;w++){var b=m.list[w],T=Math.abs(b.label.y-t),C=n+b.len,D=C*C,E=Math.sqrt(Math.abs((1-T*T/x)*D)),R=e+(E+b.len2)*i,M=R-b.label.x,k=b.targetTextWidth-M*i;Afe(b,k,!0),b.label.x=R}}function f(m){for(var y={list:[],maxY:0},x={list:[],maxY:0},w=0;w<m.length;w++)if(m[w].labelAlignTo==="none"){var b=m[w],T=b.label.y>t?x:y,C=Math.abs(b.label.y-t);if(C>=T.maxY){var D=b.label.x-e-b.len2*i,E=n+b.len,R=Math.abs(D)<E?Math.sqrt(C*C/(1-D*D/E/E)):E;T.rB=R,T.maxY=C}T.list.push(b)}c(y),c(x)}for(var h=r.length,p=0;p<h;p++)if(r[p].position==="outer"&&r[p].labelAlignTo==="labelLine"){var v=r[p].label.x-u;r[p].linePoints[1][0]+=v,r[p].label.x=u}Yce(r,l,l+s)&&f(r)}function FQe(r,e,t,n,i,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<r.length;h++){var p=r[h].label;eL(r[h])||(p.x<e?(c=Math.min(c,p.x),l.push(r[h])):(f=Math.max(f,p.x),u.push(r[h])))}for(var h=0;h<r.length;h++){var v=r[h];if(!eL(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var p=v.label,m=v.linePoints,y=void 0;v.labelAlignTo==="edge"?p.x<e?y=m[2][0]-v.labelDistance-s-v.edgeDistance:y=s+i-v.edgeDistance-m[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?p.x<e?y=c-s-v.bleedMargin:y=s+i-f-v.bleedMargin:p.x<e?y=p.x-s-v.bleedMargin:y=s+i-p.x-v.bleedMargin,v.targetTextWidth=y,Afe(v,y)}}eX(u,e,t,n,1,i,a,s,o,f),eX(l,e,t,n,-1,i,a,s,o,c);for(var h=0;h<r.length;h++){var v=r[h];if(!eL(v)&&v.linePoints){var p=v.label,m=v.linePoints,x=v.labelAlignTo==="edge",w=p.style.padding,b=w?w[1]+w[3]:0,T=p.style.backgroundColor?0:b,C=v.rect.width+T,D=m[1][0]-m[2][0];x?p.x<e?m[2][0]=s+v.edgeDistance+C+v.labelDistance:m[2][0]=s+i-v.edgeDistance-C-v.labelDistance:(p.x<e?m[2][0]=p.x+v.labelDistance:m[2][0]=p.x-v.labelDistance,m[1][0]=m[2][0]+D),m[1][1]=m[2][1]=p.y}}}function Afe(r,e,t){if(t===void 0&&(t=!1),r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,c=a.width+(s?0:l);if(e<c||t){var f=a.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",s)}else{var p=e-l,v=e<c?p:t?p>r.unconstrainedWidth?null:p:null;n.setStyle("width",v)}var m=n.getBoundingRect();a.width=m.width;var y=(n.style.margin||0)+2.1;a.height=m.height+y,a.y-=(a.height-f)/2}}}function eL(r){return r.position==="center"}function BQe(r){var e=r.getData(),t=[],n,i,a=!1,s=(r.get("minShowLabelAngle")||0)*NQe,o=e.getLayout("viewRect"),l=e.getLayout("r"),u=o.width,c=o.x,f=o.y,h=o.height;function p(D){D.ignore=!0}function v(D){if(!D.ignore)return!0;for(var E in D.states)if(D.states[E].ignore===!1)return!0;return!1}e.each(function(D){var E=e.getItemGraphicEl(D),R=E.shape,M=E.getTextContent(),k=E.getTextGuideLine(),L=e.getItemModel(D),O=L.getModel("label"),N=O.get("position")||L.get(["emphasis","label","position"]),W=O.get("distanceToLabelLine"),U=O.get("alignTo"),z=je(O.get("edgeDistance"),u),Y=O.get("bleedMargin"),re=L.getModel("labelLine"),K=re.get("length");K=je(K,u);var q=re.get("length2");if(q=je(q,u),Math.abs(R.endAngle-R.startAngle)<s){B(M.states,p),M.ignore=!0,k&&(B(k.states,p),k.ignore=!0);return}if(v(M)){var Q=(R.startAngle+R.endAngle)/2,j=Math.cos(Q),J=Math.sin(Q),te,se,de,Oe;n=R.cx,i=R.cy;var Ae=N==="inside"||N==="inner";if(N==="center")te=R.cx,se=R.cy,Oe="center";else{var ye=(Ae?(R.r+R.r0)/2*j:R.r*j)+n,Se=(Ae?(R.r+R.r0)/2*J:R.r*J)+i;if(te=ye+j*3,se=Se+J*3,!Ae){var me=ye+j*(K+l-R.r),ee=Se+J*(K+l-R.r),mt=me+(j<0?-1:1)*q,rt=ee;U==="edge"?te=j<0?c+z:c+u-z:te=mt+(j<0?-W:W),se=rt,de=[[ye,Se],[me,ee],[mt,rt]]}Oe=Ae?"center":U==="edge"?j>0?"right":"left":j>0?"left":"right"}var at=Math.PI,ot=0,Ue=O.get("rotate");if(tr(Ue))ot=Ue*(at/180);else if(N==="center")ot=0;else if(Ue==="radial"||Ue===!0){var Jt=j<0?-Q+at:-Q;ot=Jt}else if(Ue==="tangential"&&N!=="outside"&&N!=="outer"){var vr=Math.atan2(j,J);vr<0&&(vr=at*2+vr);var en=J>0;en&&(vr=at+vr),ot=vr-at}if(a=!!ot,M.x=te,M.y=se,M.rotation=ot,M.setStyle({verticalAlign:"middle"}),Ae){M.setStyle({align:Oe});var Or=M.states.select;Or&&(Or.x+=M.x,Or.y+=M.y)}else{var Gr=M.getBoundingRect().clone();Gr.applyTransform(M.getComputedTransform());var ni=(M.style.margin||0)+2.1;Gr.y-=ni/2,Gr.height+=ni,t.push({label:M,labelLine:k,position:N,len:K,len2:q,minTurnAngle:re.get("minTurnAngle"),maxSurfaceAngle:re.get("maxSurfaceAngle"),surfaceNormal:new At(j,J),linePoints:de,textAlign:Oe,labelDistance:W,labelAlignTo:U,edgeDistance:z,bleedMargin:Y,rect:Gr,unconstrainedWidth:Gr.width,labelStyleWidth:M.style.width})}E.setTextConfig({inside:Ae})}}),!a&&r.get("avoidLabelOverlap")&&FQe(t,n,i,l,u,h,c,f);for(var m=0;m<t.length;m++){var y=t[m],x=y.label,w=y.labelLine,b=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:y.textAlign}),b&&(B(x.states,p),x.ignore=!0);var T=x.states.select;T&&(T.x+=x.x,T.y+=x.y)}if(w){var C=y.linePoints;b||!C?(B(w.states,p),w.ignore=!0):(Wce(C,y.minTurnAngle),oZe(C,y.surfaceNormal,y.maxSurfaceAngle),w.setShape({points:C}),x.__hostTarget.textGuideLineConfig={anchor:new At(C[0][0],C[0][1])})}}}var VQe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;a.z2=2;var s=new Yt;return a.setTextContent(s),a.updateData(t,n,i,!0),a}return e.prototype.updateData=function(t,n,i,a){var s=this,o=t.hostModel,l=t.getItemModel(n),u=l.getModel("emphasis"),c=t.getItemLayout(n),f=De(lv(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){s.setShape(f);return}if(a){s.setShape(f);var h=o.getShallow("animationType");o.ecModel.ssr?(Qr(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):h==="scale"?(s.shape.r=c.r0,Qr(s,{shape:{r:c.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Qr(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,n)):(s.shape.endAngle=c.startAngle,rr(s,{shape:{endAngle:c.endAngle}},o,n))}else Xl(s),rr(s,{shape:f},o,n);s.useStyle(t.getItemVisual(n,"style")),ga(s,l);var p=(c.startAngle+c.endAngle)/2,v=o.get("selectedOffset"),m=Math.cos(p)*v,y=Math.sin(p)*v,x=l.getShallow("cursor");x&&s.attr("cursor",x),this._updateLabel(o,t,n),s.ensureState("emphasis").shape=De({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},lv(u.getModel("itemStyle"),c)),De(s.ensureState("select"),{x:m,y,shape:lv(l.getModel(["select","itemStyle"]),c)}),De(s.ensureState("blur"),{shape:lv(l.getModel(["blur","itemStyle"]),c)});var w=s.getTextGuideLine(),b=s.getTextContent();w&&De(w.ensureState("select"),{x:m,y}),De(b.ensureState("select"),{x:m,y}),dn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;ma(a,Li(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=t.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ya,this.setTextGuideLine(p)),wV(this,bV(s),{stroke:u,opacity:Bl(o.get(["lineStyle","opacity"]),c,1)})}},e}(ja),zQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i,a){var s=t.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<s.count();++f)c=s.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var h=Tfe(t),p=new ja({shape:De(Sfe(t,i),h)});p.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}s.diff(o).add(function(v){var m=new VQe(s,v,u);s.setItemGraphicEl(v,m),l.add(m)}).update(function(v,m){var y=o.getItemGraphicEl(m);y.updateData(s,v,u),y.off("click"),l.add(y),s.setItemGraphicEl(v,y)}).remove(function(v){var m=o.getItemGraphicEl(v);Tw(m,t,v)}).execute(),BQe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(Dr);function zy(r,e,t){e=ke(e)&&{coordDimensions:e}||De({encodeDefine:r.getEncode()},e);var n=r.getSource(),i=Fy(n,e).dimensions,a=new Va(i,r);return a.initData(n,t),a}var Gb=function(){function r(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return r.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},r.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},r.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},r.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},r}(),UQe=Qt(),HQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gb(Xe(this.getData,this),Xe(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return zy(this,{coordDimensions:["value"],encodeDefaulter:xt(XB,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),i=UQe(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=$oe(s,n.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){Vv(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Lr);function GQe(r){return{seriesType:r,reset:function(e,t){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(tr(s)&&!isNaN(s)&&s<0)})}}}function jQe(r){r.registerChartView(zQe),r.registerSeriesModel(HQe),Hue("pie",r.registerAction),r.registerLayout(xt(OQe,"pie")),r.registerProcessor(Hb("pie")),r.registerProcessor(GQe("pie"))}var WQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return cc(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Lr),Efe=4,$Qe=function(){function r(){}return r}(),qQe=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new $Qe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<Efe,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var h=i[f++],p=i[f++];isNaN(h)||isNaN(p)||c&&!c.contain(h,p)||(o.x=h-a[0]/2,o.y=p-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,i=t.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],u=n[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-o/2,h=a[c+1]-l/2;if(t>=f&&n>=h&&t<=f+o&&n<=h+l)return u}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<i.length;){var p=i[h++],v=i[h++];l=Math.min(p,l),c=Math.max(p,c),u=Math.min(v,u),f=Math.max(v,f)}t=this._rect=new Ct(l-s/2,u-o/2,c-l+s,f-u+o)}return t},e}(Ht),YQe=function(){function r(){this.group=new pt}return r.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},r.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}n.setShape("points",t),n.reset()})},r.prototype.incrementalPrepareUpdate=function(e){this._clear()},r.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],a=t.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,n)}},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new qQe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=n.clipShape||null,e.symbolProxy=Bn(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<Efe;e.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=gt(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),XQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=Ub("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new YQe:new Vb,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Dr),KQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(zt),U4=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Qn).models[0]},e.type="cartesian2dAxis",e}(zt);Cn(U4,Vy);var Cfe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ZQe=bt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Cfe),IV=bt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Cfe),QQe=bt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},IV),JQe=ut({logBase:10},IV);const Dfe={category:ZQe,value:IV,time:QQe,log:JQe};var eJe={value:1,category:1,time:1,log:1};function Jm(r,e,t,n){B(eJe,function(i,a){var s=bt(bt({},Dfe[a],!0),n,!0),o=function(l){ge(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=Ew(this),p=h?My(c):{},v=f.getTheme();bt(c,v.get(a+"Axis")),bt(c,this.getDefaultOption()),c.type=tX(c),h&&fd(c,p,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=P4.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=s,u}(t);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(e+"Axis",tX)}function tX(r){return r.type||(r.data?"category":"value")}var tJe=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return Pe(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ar(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}(),H4=["x","y"];function rX(r){return r.type==="interval"||r.type==="time"}var rJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=H4,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!rX(t)||!rX(n))){var i=t.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,f=(o[1]-s[1])/u,h=s[0]-i[0]*c,p=s[1]-a[0]*f,v=this._transform=[c,0,0,f,h,p];this._invTransform=ug([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var i=this.dataToPoint(t),a=this.dataToPoint(n),s=this.getArea(),o=new Ct(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,n,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return Yi(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},e.prototype.clampData=function(t,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},e.prototype.pointToData=function(t,n){var i=[];if(this._invTransform)return Yi(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),n),i[1]=s.coordToData(s.toLocalCoord(t[1]),n),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-t,s=Math.min(i[0],i[1])-t,o=Math.max(n[0],n[1])-a+t,l=Math.max(i[0],i[1])-s+t;return new Ct(a,s,o,l)},e}(tJe),nJe=function(r){ge(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(pl);function G4(r,e,t){t=t||{};var n=r.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,u=i.dim,c=n.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,v=u==="x"?[f[2]-p,f[3]+p]:[f[0]-p,f[1]+p];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));v[h.onZero]=Math.max(Math.min(m,v[1]),v[0])}a.position=[u==="y"?v[h[l]]:f[0],u==="x"?v[h[l]]:f[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=y[o],a.labelOffset=s?v[h[o]]-v[h.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Ii(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var x=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-x:x,a.z2=1,a}function nX(r){return r.get("coordinateSystem")==="cartesian2d"}function iX(r){var e={xAxisModel:null,yAxisModel:null};return B(e,function(t,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Qn).models[0];e[n]=a}),e}var tL=Math.log;function Ife(r,e,t){var n=xf.prototype,i=n.getTicks.call(t),a=n.getTicks.call(t,!0),s=i.length-1,o=n.getInterval.call(t),l=kce(r,e),u=l.extent,c=l.fixMin,f=l.fixMax;if(r.type==="log"){var h=tL(r.base);u=[tL(u[0])/h,tL(u[1])/h]}r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:f});var p=n.getExtent.call(r);c&&(u[0]=p[0]),f&&(u[1]=p[1]);var v=n.getInterval.call(r),m=u[0],y=u[1];if(c&&f)v=(y-m)/s;else if(c)for(y=u[0]+v*s;y<u[1]&&isFinite(y)&&isFinite(u[1]);)v=zP(v),y=u[0]+v*s;else if(f)for(m=u[1]-v*s;m>u[0]&&isFinite(m)&&isFinite(u[0]);)v=zP(v),m=u[1]-v*s;else{var x=r.getTicks().length-1;x>s&&(v=zP(v));var w=v*s;y=Math.ceil(u[1]/v)*v,m=wn(y-w),m<0&&u[0]>=0?(m=0,y=wn(w)):y>0&&u[1]<=0&&(y=0,m=-wn(w))}var b=(i[0].value-a[0].value)/o,T=(i[s].value-a[s].value)/o;n.setExtent.call(r,m+v*b,y+v*T),n.setInterval.call(r,v),(b||T)&&n.setNiceExtent.call(r,m+v,y-v)}var iJe=function(){function r(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=H4,this._initCartesian(e,t,n),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=Gt(s),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],p=s[h],v=p.model,m=p.scale;L4(m)&&v.get("alignTicks")&&v.get("interval")==null?c.push(p):(jv(m,v),L4(m)&&(o=p))}c.length&&(o||(o=c.pop(),jv(o.scale,o.model)),B(c,function(y){Ife(y.scale,y.model,o.scale)}))}}i(n.x),i(n.y);var a={};B(n.x,function(s){aX(n,"y",s,a)}),B(n.y,function(s){aX(n,"x",s,a)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),s=ti(i,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(B(o,function(u){if(!u.model.get(["axisLabel","inside"])){var c=TKe(u);if(c){var f=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);s[f]-=c[f]+h,u.position==="top"?s.y+=c.height+h:u.position==="left"&&(s.x+=c.width+h)}}}),l()),B(this._coordsList,function(u){u.calcAffineTransform()});function l(){B(o,function(u){var c=u.isHorizontal(),f=c?[0,s.width]:[0,s.height],h=u.inverse?1:0;u.setExtent(f[h],f[1-h]),aJe(u,c?s.x:s.y)})}},r.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}ct(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",Qn).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",Qn).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,Dt(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,B(o.x,function(c,f){B(o.y,function(h,p){var v="x"+f+"y"+p,m=new rJe(v);m.master=i,m.model=e,i._coordsMap[v]=m,i._coordsList.push(m),m.addAxis(c),m.addAxis(h)})});function u(c){return function(f,h){if(rL(f,e)){var p=f.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=s.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=s.left?"right":"left"),s[p]=!0;var v=new nJe(c,Fb(f),[0,0],f.get("type"),p),m=v.type==="category";v.onBand=m&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=h,a._axesList.push(v),o[c][h]=v,l[c]++}}}},r.prototype._updateScale=function(e,t){B(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(nX(i)){var a=iX(i),s=a.xAxisModel,o=a.yAxisModel;if(!rL(s,t)||!rL(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(i,a){B(gC(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},r.prototype.getTooltipAxes=function(e){var t=[],n=[];return B(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);Dt(t,a)<0&&t.push(a),Dt(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,a){var s=new r(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,n.push(s)}),e.eachSeries(function(i){if(nX(i)){var a=iX(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(s.componentIndex,o.componentIndex)}}),n},r.dimensions=H4,r}();function rL(r,e){return r.getCoordSysModel()===e}function aX(r,e,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)sX(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&sX(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function sX(r){return r&&r.type!=="category"&&r.type!=="time"&&SKe(r)}function aJe(r,e){var t=r.getExtent(),n=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+e}:function(i){return n-i+e},r.toLocalCoord=r.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}var kh=Math.PI,vs=function(){function r(e,t){this.group=new pt,this.opt=t,this.axisModel=e,ut(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new pt({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return r.prototype.hasBuilder=function(e){return!!oX[e]},r.prototype.add=function(e){oX[e](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(e,t,n){var i=_B(t-e),a,s;return qm(i)?(s=n>0?"top":"bottom",a="center"):qm(i-kh)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<kh?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r}(),oX={axisLine:function(r,e,t,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=n.transform,o=[a[0],0],l=[a[1],0],u=o[0]>l[0];s&&(Yi(o,o,s),Yi(l,l,s));var c=De({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new mi({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Xm(f.shape,f.style.lineWidth),f.anid="line",t.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var p=e.get(["axisLine","symbolSize"]);$e(h)&&(h=[h,h]),($e(p)||tr(p))&&(p=[p,p]);var v=dg(e.get(["axisLine","symbolOffset"])||0,p),m=p[0],y=p[1];B([{rotate:r.rotation+Math.PI/2,offset:v[0],r:0},{rotate:r.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(x,w){if(h[w]!=="none"&&h[w]!=null){var b=Bn(h[w],-m/2,-y/2,m,y,c.stroke,!0),T=x.r+x.offset,C=u?l:o;b.attr({rotation:x.rotate,x:C[0]+T*Math.cos(r.rotation),y:C[1]-T*Math.sin(r.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(r,e,t,n){var i=lJe(t,n,e,r),a=cJe(t,n,e,r);if(oJe(e,a,i),uJe(t,n,e,r.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=$ce(Pe(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));Xce(s)}},axisName:function(r,e,t,n){var i=Ii(r.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=r.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,uX(a)?r.labelOffset+s*l:0],h,p=e.get("nameRotate");p!=null&&(p=p*kh/180);var v;uX(a)?h=vs.innerTextLayout(r.rotation,p??r.rotation,s):(h=sJe(r.rotation,a,p||0,u),v=r.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(h.rotation)),!isFinite(v)&&(v=null)));var m=o.getFont(),y=e.get("nameTruncate",!0)||{},x=y.ellipsis,w=Ii(r.nameTruncateMaxWidth,y.maxWidth,v),b=new Yt({x:f[0],y:f[1],rotation:h.rotation,silent:vs.isLabelSilent(e),style:Ur(o,{text:i,font:m,overflow:"truncate",width:w,ellipsis:x,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||h.textAlign,verticalAlign:o.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(cg({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var T=vs.makeAxisEventDataBase(e);T.targetType="axisName",T.name=i,gt(b).eventData=T}n.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function sJe(r,e,t,n){var i=_B(t-r),a,s,o=n[0]>n[1],l=e==="start"&&!o||e!=="start"&&o;return qm(i-kh/2)?(s=l?"bottom":"top",a="center"):qm(i-kh*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<kh*1.5&&i>kh/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function oJe(r,e,t){if(!Pce(r.axis)){var n=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],f=t[t.length-1],h=t[t.length-2];n===!1?(No(a),No(u)):lX(a,s)&&(n?(No(s),No(c)):(No(a),No(u))),i===!1?(No(o),No(f)):lX(l,o)&&(i?(No(l),No(h)):(No(o),No(f)))}}function No(r){r&&(r.ignore=!0)}function lX(r,e){var t=r&&r.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!t||!n)){var i=Eb([]);return bd(i,i,-r.rotation),t.applyTransform(Ku([],i,r.getLocalTransform())),n.applyTransform(Ku([],i,e.getLocalTransform())),t.intersect(n)}}function uX(r){return r==="middle"||r==="center"}function Rfe(r,e,t,n,i){for(var a=[],s=[],o=[],l=0;l<r.length;l++){var u=r[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=t,e&&(Yi(s,s,e),Yi(o,o,e));var c=new mi({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Xm(c.shape,c.style.lineWidth),c.anid=i+"_"+r[l].tickValue,a.push(c)}return a}function lJe(r,e,t,n){var i=t.axis,a=t.getModel("axisTick"),s=a.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=i.getTicksCoords(),c=Rfe(u,e.transform,l,ut(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)r.add(c[f]);return c}}function uJe(r,e,t,n){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=n*a.get("length"),u=ut(o.getLineStyle(),ut(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var f=Rfe(s[c],e.transform,l,u,"minorticks_"+c),h=0;h<f.length;h++)r.add(f[h])}}function cJe(r,e,t,n){var i=t.axis,a=Ii(n.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=t.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),u=(Ii(n.labelRotate,s.get("rotate"))||0)*kh/180,c=vs.innerTextLayout(n.rotation,u,n.labelDirection),f=t.getCategories&&t.getCategories(!0),h=[],p=vs.isLabelSilent(t),v=t.get("triggerEvent");return B(l,function(m,y){var x=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,w=m.formattedLabel,b=m.rawLabel,T=s;if(f&&f[x]){var C=f[x];ct(C)&&C.textStyle&&(T=new sr(C.textStyle,s,t.ecModel))}var D=T.getTextColor()||t.get(["axisLine","lineStyle","color"]),E=i.dataToCoord(x),R=T.getShallow("align",!0)||c.textAlign,M=_t(T.getShallow("alignMinLabel",!0),R),k=_t(T.getShallow("alignMaxLabel",!0),R),L=T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||c.textVerticalAlign,O=_t(T.getShallow("verticalAlignMinLabel",!0),L),N=_t(T.getShallow("verticalAlignMaxLabel",!0),L),W=new Yt({x:E,y:n.labelOffset+n.labelDirection*o,rotation:c.rotation,silent:p,z2:10+(m.level||0),style:Ur(T,{text:w,align:y===0?M:y===l.length-1?k:R,verticalAlign:y===0?O:y===l.length-1?N:L,fill:it(D)?D(i.type==="category"?b:i.type==="value"?x+"":x,y):D})});if(W.anid="label_"+x,cg({el:W,componentModel:t,itemName:w,formatterParamsExtra:{isTruncated:function(){return W.isTruncated},value:b,tickIndex:y}}),v){var U=vs.makeAxisEventDataBase(t);U.targetType="axisLabel",U.value=b,U.tickIndex=y,i.type==="category"&&(U.dataIndex=x),gt(W).eventData=U}e.add(W),W.updateTransform(),h.push(W),r.add(W),W.decomposeTransform()}),h}}function fJe(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return hJe(t,r,e),t.seriesInvolved&&pJe(t,r),t}function hJe(r,e,t){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];B(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=Ow(o.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var c=o.model,f=c.getModel("tooltip",n);if(B(o.getAxes(),xt(m,!1,null)),o.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",p=f.get(["axisPointer","type"])==="cross",v=o.getTooltipAxes(f.get(["axisPointer","axis"]));(h||p)&&B(v.baseAxes,xt(m,p?"cross":!0,h)),p&&B(v.otherAxes,xt(m,"cross",!1))}function m(y,x,w){var b=w.model.getModel("axisPointer",i),T=b.get("show");if(!(!T||T==="auto"&&!y&&!j4(b))){x==null&&(x=b.get("triggerTooltip")),b=y?dJe(w,f,i,e,y,x):b;var C=b.get("snap"),D=b.get("triggerEmphasis"),E=Ow(w.model),R=x||C||w.type==="category",M=r.axesInfo[E]={key:E,axis:w,coordSys:o,axisPointerModel:b,triggerTooltip:x,triggerEmphasis:D,involveSeries:R,snap:C,useHandle:j4(b),seriesModels:[],linkGroup:null};u[E]=M,r.seriesInvolved=r.seriesInvolved||R;var k=vJe(a,w);if(k!=null){var L=s[k]||(s[k]={axesInfo:{}});L.axesInfo[E]=M,L.mapper=a[k].mapper,M.linkGroup=L}}}})}function dJe(r,e,t,n,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};B(o,function(h){l[h]=ht(s.get(h))}),l.snap=r.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=s.get("crossStyle");f&&ut(u,f.textStyle)}}return r.model.getModel("axisPointer",new sr(l,t,n))}function pJe(r,e){e.eachSeries(function(t){var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||B(r.coordSysAxesInfo[Ow(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function vJe(r,e){for(var t=e.model,n=e.dim,i=0;i<r.length;i++){var a=r[i]||{};if(nL(a[n+"AxisId"],t.id)||nL(a[n+"AxisIndex"],t.componentIndex)||nL(a[n+"AxisName"],t.name))return i}}function nL(r,e){return r==="all"||ke(r)&&Dt(r,e)>=0||r===e}function gJe(r){var e=RV(r);if(e){var t=e.axisPointerModel,n=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=n.parse(s));var o=j4(t);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function RV(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Ow(r)]}function mJe(r){var e=RV(r);return e&&e.axisPointerModel}function j4(r){return!!r.get(["handle","show"])}function Ow(r){return r.type+"||"+r.id}var cX={},vg=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.axisPointerClass&&gJe(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,n,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=mJe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){cX[t]=n},e.getAxisPointerClass=function(t){return t&&cX[t]},e.type="axis",e}(qr),W4=Qt();function Mfe(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=o.length,f=W4(r).splitAreaColors,h=tt(),p=0;if(f)for(var v=0;v<u.length;v++){var m=f.get(u[v].tickValue);if(m!=null){p=(m+(c-1)*v)%c;break}}var y=i.toGlobalCoord(u[0].coord),x=s.getAreaStyle();o=ke(o)?o:[o];for(var v=1;v<u.length;v++){var w=i.toGlobalCoord(u[v].coord),b=void 0,T=void 0,C=void 0,D=void 0;i.isHorizontal()?(b=y,T=l.y,C=w-b,D=l.height,y=b+C):(b=l.x,T=y,C=l.width,D=w-T,y=T+D);var E=u[v-1].tickValue;E!=null&&h.set(E,p),e.add(new Xt({anid:E!=null?"area_"+E:null,shape:{x:b,y:T,width:C,height:D},style:ut({fill:o[p]},x),autoBatch:!0,silent:!0})),p=(p+1)%c}W4(r).splitAreaColors=h}}}function kfe(r){W4(r).splitAreaColors=null}var yJe=["axisLine","axisTickLabel","axisName"],_Je=["splitArea","splitLine","minorSplitLine"],Pfe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new pt,this.group.add(this._axisGroup),!!t.get("show")){var o=t.getCoordSysModel(),l=G4(o,t),u=new vs(t,De({handleAutoShown:function(f){for(var h=o.coordinateSystem.getCartesians(),p=0;p<h.length;p++)if(L4(h[p].getOtherAxis(t.axis).scale))return!0;return!1}},l));B(yJe,u.add,u),this._axisGroup.add(u.getGroup()),B(_Je,function(f){t.get([f,"show"])&&xJe[f](this,this._axisGroup,t,o)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Lb(s,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)}},e.prototype.remove=function(){kfe(this)},e.type="cartesianAxis",e}(vg),xJe={splitLine:function(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color"),l=a.get("showMinLine")!==!1,u=a.get("showMaxLine")!==!1;o=ke(o)?o:[o];for(var c=n.coordinateSystem.getRect(),f=i.isHorizontal(),h=0,p=i.getTicksCoords({tickModel:a}),v=[],m=[],y=s.getLineStyle(),x=0;x<p.length;x++){var w=i.toGlobalCoord(p[x].coord);if(!(x===0&&!l||x===p.length-1&&!u)){var b=p[x].tickValue;f?(v[0]=w,v[1]=c.y,m[0]=w,m[1]=c.y+c.height):(v[0]=c.x,v[1]=w,m[0]=c.x+c.width,m[1]=w);var T=h++%o.length,C=new mi({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},style:ut({stroke:o[T]},y),silent:!0});Xm(C.shape,y.lineWidth),e.add(C)}}}},minorSplitLine:function(r,e,t,n){var i=t.axis,a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],f=[],h=s.getLineStyle(),p=0;p<u.length;p++)for(var v=0;v<u[p].length;v++){var m=i.toGlobalCoord(u[p][v].coord);l?(c[0]=m,c[1]=o.y,f[0]=m,f[1]=o.y+o.height):(c[0]=o.x,c[1]=m,f[0]=o.x+o.width,f[1]=m);var y=new mi({anid:"minor_line_"+u[p][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:h,silent:!0});Xm(y.shape,h.lineWidth),e.add(y)}},splitArea:function(r,e,t,n){Mfe(r,e,t,n)}},Lfe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Pfe),wJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=Lfe.type,t}return e.type="yAxis",e}(Pfe),bJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new Xt({shape:t.coordinateSystem.getRect(),style:ut({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(qr),fX={offset:0};function Ofe(r){r.registerComponentView(bJe),r.registerComponentModel(KQe),r.registerCoordinateSystem("cartesian2d",iJe),Jm(r,"x",U4,fX),Jm(r,"y",U4,fX),r.registerComponentView(Lfe),r.registerComponentView(wJe),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function SJe(r){Pt(Ofe),r.registerSeriesModel(WQe),r.registerChartView(XQe),r.registerLayout(Ub("scatter"))}function TJe(r){r.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();B(a,function(s,o){t.each(t.mapDimension(a[o].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,o);n[u][o]=hX(c)?c:dX(i)})}),t.each(function(s){var o=loe(n[s],function(l){return hX(l)})||dX(i);n[s].push(o.slice()),t.setItemLayout(s,n[s])})}})}function hX(r){return!isNaN(r[0])&&!isNaN(r[1])}function dX(r){return[r.cx,r.cy]}function AJe(r){var e=r.polar;if(e){ke(e)||(e=[e]);var t=[];B(e,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],ke(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):t.push(n)}),r.polar=t}B(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var EJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function u(h,p){var v=h.getItemVisual(p,"symbol")||"circle";if(v!=="none"){var m=Ny(h.getItemVisual(p,"symbolSize")),y=Bn(v,-1,-1,2,2),x=h.getItemVisual(p,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:x*Math.PI/180||0}),y}}function c(h,p,v,m,y,x){v.removeAll();for(var w=0;w<p.length-1;w++){var b=u(m,y);b&&(b.__dimIdx=w,h[w]?(b.setPosition(h[w]),fg[x?"initProps":"updateProps"](b,{x:p[w][0],y:p[w][1]},t,y)):b.setPosition(p[w]),v.add(b))}}function f(h){return Pe(h,function(p){return[a.cx,a.cy]})}o.diff(l).add(function(h){var p=o.getItemLayout(h);if(p){var v=new Wa,m=new Ya,y={shape:{points:p}};v.shape.points=f(p),m.shape.points=f(p),Qr(v,y,t,h),Qr(m,y,t,h);var x=new pt,w=new pt;x.add(m),x.add(v),x.add(w),c(m.shape.points,p,w,o,h,!0),o.setItemGraphicEl(h,x)}}).update(function(h,p){var v=l.getItemGraphicEl(p),m=v.childAt(0),y=v.childAt(1),x=v.childAt(2),w={shape:{points:o.getItemLayout(h)}};w.shape.points&&(c(m.shape.points,w.shape.points,x,o,h,!1),Xl(y),Xl(m),rr(m,w,t),rr(y,w,t),o.setItemGraphicEl(h,v))}).remove(function(h){s.remove(l.getItemGraphicEl(h))}).execute(),o.eachItemGraphicEl(function(h,p){var v=o.getItemModel(p),m=h.childAt(0),y=h.childAt(1),x=h.childAt(2),w=o.getItemVisual(p,"style"),b=w.fill;s.add(h),m.useStyle(ut(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),ga(m,v,"lineStyle"),ga(y,v,"areaStyle");var T=v.getModel("areaStyle"),C=T.isEmpty()&&T.parentModel.isEmpty();y.ignore=C,B(["emphasis","select","blur"],function(R){var M=v.getModel([R,"areaStyle"]),k=M.isEmpty()&&M.parentModel.isEmpty();y.ensureState(R).ignore=k&&C}),y.useStyle(ut(T.getAreaStyle(),{fill:b,opacity:.7,decal:w.decal}));var D=v.getModel("emphasis"),E=D.getModel("itemStyle").getItemStyle();x.eachChild(function(R){if(R instanceof Ni){var M=R.style;R.useStyle(De({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},w))}else R.useStyle(w),R.setColor(b),R.style.strokeNoScale=!0;var k=R.ensureState("emphasis");k.style=ht(E);var L=o.getStore().get(o.getDimensionIndex(R.__dimIdx),p);(L==null||isNaN(L))&&(L=""),ma(R,Li(v),{labelFetcher:o.hostModel,labelDataIndex:p,labelDimIndex:R.__dimIdx,defaultText:L,inheritColor:b,defaultOpacity:w.opacity})}),dn(h,D.get("focus"),D.get("blurScope"),D.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Dr),CJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gb(Xe(this.getData,this),Xe(this.getRawData,this))},e.prototype.getInitialData=function(t,n){return zy(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=Rue(this,t);return Oi("section",{header:u,sortBlocks:!0,blocks:Pe(o,function(f){var h=a.get(a.mapDimension(f.dim),t);return Oi("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Pe(i.dimensions,function(u){return n.mapDimension(u)}),t),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Lr),y_=Dfe.value;function I2(r,e){return ut({show:e},r)}var DJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),p=Pe(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var m=l;v.color!=null&&(m=ut({color:v.color},l));var y=bt(ht(v),{boundaryGap:t,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:v.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:m,triggerEvent:h},!1);if($e(c)){var x=y.name;y.name=c.replace("{value}",x??"")}else it(c)&&(y.name=c(y.name,y));var w=new sr(y,null,this.ecModel);return Cn(w,Vy.prototype),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:bt({lineStyle:{color:"#bbb"}},y_.axisLine),axisLabel:I2(y_.axisLabel,!1),axisTick:I2(y_.axisTick,!1),splitLine:I2(y_.splitLine,!0),splitArea:I2(y_.splitArea,!0),indicator:[]},e}(zt),IJe=["axisLine","axisTickLabel","axisName"],RJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes(),a=Pe(i,function(s){var o=s.model.get("showName")?s.name:"",l=new vs(s.model,{axisName:o,position:[n.cx,n.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});B(a,function(s){B(IJe,s.add,s),this.group.add(s.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),f=o.get("show"),h=l.get("color"),p=u.get("color"),v=ke(h)?h:[h],m=ke(p)?p:[p],y=[],x=[];function w(U,z,Y){var re=Y%z.length;return U[re]=U[re]||[],re}if(a==="circle")for(var b=i[0].getTicksCoords(),T=n.cx,C=n.cy,D=0;D<b.length;D++){if(c){var E=w(y,v,D);y[E].push(new lc({shape:{cx:T,cy:C,r:b[D].coord}}))}if(f&&D<b.length-1){var E=w(x,m,D);x[E].push(new Ty({shape:{cx:T,cy:C,r0:b[D].coord,r:b[D+1].coord}}))}}else for(var R,M=Pe(i,function(U,z){var Y=U.getTicksCoords();return R=R==null?Y.length-1:Math.min(Y.length-1,R),Pe(Y,function(re){return n.coordToPoint(re.coord,z)})}),k=[],D=0;D<=R;D++){for(var L=[],O=0;O<i.length;O++)L.push(M[O][D]);if(L[0]&&L.push(L[0].slice()),c){var E=w(y,v,D);y[E].push(new Ya({shape:{points:L}}))}if(f&&k){var E=w(x,m,D-1);x[E].push(new Wa({shape:{points:L.concat(k)}}))}k=L.slice().reverse()}var N=l.getLineStyle(),W=u.getAreaStyle();B(x,function(U,z){this.group.add(so(U,{style:ut({stroke:"none",fill:m[z%m.length]},W),silent:!0}))},this),B(y,function(U,z){this.group.add(so(U,{style:ut({fill:"none",stroke:v[z%v.length]},N),silent:!0}))},this)},e.type="radar",e}(qr),MJe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return e}(pl),kJe=function(){function r(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=Pe(e.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new MJe(s,new xf);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(e,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],i=n.angle,a=this.cx+e*Math.cos(i),s=this.cy-e*Math.sin(i);return[a,s]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var a=Math.atan2(-n,t),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<s&&(o=c,l=u,s=f)}return[l,+(o&&o.coordToData(i))]},r.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),a=t.getHeight(),s=Math.min(i,a)/2;this.cx=je(n[0],i),this.cy=je(n[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");($e(o)||tr(o))&&(o=[0,o]),this.r0=je(o[0],s),this.r=je(o[1],s),B(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},r.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;B(n,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();B(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),s=new xf;s.setExtent(0,a),s.setInterval(1),B(n,function(o,l){Ife(o.scale,o.model,s)})},r.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var a=new r(i,e,t);n.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r}();function PJe(r){r.registerCoordinateSystem("radar",kJe),r.registerComponentModel(DJe),r.registerComponentView(RJe),r.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function LJe(r){Pt(PJe),r.registerChartView(EJe),r.registerSeriesModel(CJe),r.registerLayout(TJe),r.registerProcessor(Hb("radar")),r.registerPreprocessor(AJe)}var pX="\0_ec_interaction_mutex";function OJe(r,e,t){var n=MV(r);n[e]=t}function NJe(r,e,t){var n=MV(r),i=n[e];i===t&&(n[e]=null)}function vX(r,e){return!!MV(r)[e]}function MV(r){return r[pX]||(r[pX]={})}Ql({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},An);var jb=function(r){ge(e,r);function e(t){var n=r.call(this)||this;n._zr=t;var i=Xe(n._mousedownHandler,n),a=Xe(n._mousemoveHandler,n),s=Xe(n._mouseupHandler,n),o=Xe(n._mousewheelHandler,n),l=Xe(n._pinchHandler,n);return n.enable=function(u,c){this.disable(),this._opt=ut(ht(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",o),t.on("pinch",l))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",s),t.off("mousewheel",o),t.off("pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!WW(t)){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!TA("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||vX(this._zr,"globalPan"))){var n=t.offsetX,i=t.offsetY,a=this._x,s=this._y,o=n-a,l=i-s;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&vf(t.event),Nfe(this,"pan","moveOnMouseMove",t,{dx:o,dy:l,oldX:a,oldY:s,newX:n,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){WW(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var n=TA("zoomOnMouseWheel",t,this._opt),i=TA("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!n&&!i)){if(n){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;iL(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);iL(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:o,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!vX(this._zr,"globalPan")){var n=t.pinchScale>1?1.1:1/1.1;iL(this,"zoom",null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(cl);function iL(r,e,t,n,i){r.pointerChecker&&r.pointerChecker(n,i.originX,i.originY)&&(vf(n.event),Nfe(r,e,t,n,i))}function Nfe(r,e,t,n,i){i.isAvailableBehavior=Xe(TA,null,t,n),r.trigger(e,i)}function TA(r,e,t){var n=t[r];return!r||n&&(!$e(n)||e.event[n+"Key"])}function kV(r,e,t){var n=r.target;n.x+=e,n.y+=t,n.dirty()}function PV(r,e,t,n){var i=r.target,a=r.zoomLimit,s=r.zoom=r.zoom||1;if(s*=e,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var u=s/r.zoom;r.zoom=s,i.x-=(t-i.x)*(u-1),i.y-=(n-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var FJe={axisPointer:1,tooltip:1,brush:1};function vI(r,e,t){var n=e.getComponentByElement(r.topTarget),i=n&&n.coordinateSystem;return n&&n!==t&&!FJe.hasOwnProperty(n.mainType)&&i&&i.model!==t}function Ffe(r){if($e(r)){var e=new DOMParser;r=e.parseFromString(r,"text/xml")}var t=r;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var aL,wC={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},gX=Gt(wC),bC={"alignment-baseline":"textBaseline","stop-color":"stopColor"},mX=Gt(bC),BJe=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(e,t){t=t||{};var n=Ffe(e);this._defsUsePending=[];var i=new pt;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),eo(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;UJe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(s){var h=gI(s);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&o!=null&&l!=null&&(f=Vfe(c,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var p=i;i=new pt,i.add(p),p.scaleX=p.scaleY=f.scale,p.x=f.x,p.y=f.y}return!t.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new Xt({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},r.prototype._parseNode=function(e,t,n,i,a,s){var o=e.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!a){var c=aL[o];if(c&&Qe(aL,o)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:l};n.push(h),o==="g"&&(u=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});t.add(l)}}var p=yX[o];if(p&&Qe(yX,o)){var v=p.call(this,e),m=e.getAttribute("id");m&&(this._defs[m]=v)}}if(l&&l.isGroup)for(var y=e.firstChild;y;)y.nodeType===1?this._parseNode(y,l,n,u,a,s):y.nodeType===3&&s&&this._parseText(y,l),y=y.nextSibling},r.prototype._parseText=function(e,t){var n=new Ym({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),VJe(n,t);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,t.add(n),n},r.internalField=function(){aL={g:function(e,t){var n=new pt;return Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new Xt;return Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new lc;return Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new mi;return Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new Mb;return Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n=e.getAttribute("points"),i;n&&(i=wX(n));var a=new Wa({shape:{points:i||[]},silent:!0});return Fo(t,a),eo(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var n=e.getAttribute("points"),i;n&&(i=wX(n));var a=new Ya({shape:{points:i||[]},silent:!0});return Fo(t,a),eo(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var n=new Ni;return Fo(t,n),eo(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new pt;return Fo(t,o),eo(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new pt;return Fo(t,o),eo(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,t){var n=e.getAttribute("d")||"",i=Cle(n);return Fo(t,i),eo(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),r}(),yX={lineargradient:function(r){var e=parseInt(r.getAttribute("x1")||"0",10),t=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new Ey(e,t,n,i);return _X(r,a),xX(r,a),a},radialgradient:function(r){var e=parseInt(r.getAttribute("cx")||"0",10),t=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new PB(e,t,n);return _X(r,i),xX(r,i),i}};function _X(r,e){var t=r.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function xX(r,e){for(var t=r.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var n=t.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};Bfe(t,a,a);var s=a.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:s})}t=t.nextSibling}}function Fo(r,e){r&&r.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),ut(e.__inheritedStyle,r.__inheritedStyle))}function wX(r){for(var e=gI(r),t=[],n=0;n<e.length;n+=2){var i=parseFloat(e[n]),a=parseFloat(e[n+1]);t.push([i,a])}return t}function eo(r,e,t,n,i){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};r.nodeType===1&&(jJe(r,e),Bfe(r,s,o),n||WJe(r,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=bX(a,"fill",s.fill,t)),s.stroke!=null&&(a.style.stroke=bX(a,"stroke",s.stroke,t)),B(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),B(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=Pe(gI(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function VJe(r,e){var t=e.__selfStyle;if(t){var n=t.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),r.style.textAlign=o)}}var zJe=/^url\(\s*#(.*?)\)/;function bX(r,e,t,n){var i=t&&t.match(zJe);if(i){var a=Qo(i[1]);n.push([r,e,a]);return}return t==="none"&&(t=null),t}function UJe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n[0].style[n[1]]=r[n[2]]}}var HJe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function gI(r){return r.match(HJe)||[]}var GJe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,sL=Math.PI/180;function jJe(r,e){var t=r.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],i=null;t.replace(GJe,function(f,h,p){return n.push(h,p),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=gI(s);switch(i=i||Us(),o){case"translate":ql(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":BD(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":bd(i,i,-parseFloat(l[0])*sL,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*sL);Ku(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*sL);Ku(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var SX=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Bfe(r,e,t){var n=r.getAttribute("style");if(n){SX.lastIndex=0;for(var i;(i=SX.exec(n))!=null;){var a=i[1],s=Qe(wC,a)?wC[a]:null;s&&(e[s]=i[2]);var o=Qe(bC,a)?bC[a]:null;o&&(t[o]=i[2])}}}function WJe(r,e,t){for(var n=0;n<gX.length;n++){var i=gX[n],a=r.getAttribute(i);a!=null&&(e[wC[i]]=a)}for(var n=0;n<mX.length;n++){var i=mX[n],a=r.getAttribute(i);a!=null&&(t[bC[i]]=a)}}function Vfe(r,e){var t=e.width/r.width,n=e.height/r.height,i=Math.min(t,n);return{scale:i,x:-(r.x+r.width/2)*i+(e.x+e.width/2),y:-(r.y+r.height/2)*i+(e.y+e.height/2)}}function $Je(r,e){var t=new BJe;return t.parse(r,e)}var qJe=tt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),YJe=function(){function r(e,t){this.type="geoSVG",this._usedGraphicMap=tt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Ffe(t)}return r.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=KJe(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(e){var t,n;try{t=e&&$Je(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,Ga(n!=null)}catch(y){throw new Error(`Invalid svg format
`+y.message)}var i=new pt;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):o&&(u=o.x,f=o.width),s!=null?(c=0,h=s):o&&(c=o.y,h=o.height),u==null||c==null){var p=n.getBoundingRect();u==null&&(u=p.x,f=p.width),c==null&&(c=p.y,h=p.height)}l=this._boundingRect=new Ct(u,c,f,h)}if(o){var v=Vfe(o,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}i.setClipPath(new Xt({shape:l.plain()}));var m=[];return B(t.named,function(y){qJe.get(y.svgNodeTagLower)!=null&&(m.push(y),XJe(y.el))}),{root:i,boundingRect:l,named:m}},r.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},r.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},r}();function XJe(r){r.silent=!1,r.isGroup&&r.traverse(function(e){e.silent=!1})}function KJe(r){var e=[],t=tt();return B(r,function(n){if(n.namedFrom==null){var i=new NKe(n.name,n.el);e.push(i),t.set(n.name,i)}}),{regions:e,regionsMap:t}}var $4=[126,25],TX="南海诸岛",Op=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Rp=0;Rp<Op.length;Rp++)for(var x0=0;x0<Op[Rp].length;x0++)Op[Rp][x0][0]/=10.5,Op[Rp][x0][1]/=-10.5/.75,Op[Rp][x0][0]+=$4[0],Op[Rp][x0][1]+=$4[1];function ZJe(r,e){if(r==="china"){for(var t=0;t<e.length;t++)if(e[t].name===TX)return;e.push(new Oce(TX,Pe(Op,function(n){return{type:"polygon",exterior:n}}),$4))}}var QJe={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function JJe(r,e){if(r==="china"){var t=QJe[e.name];if(t){var n=e.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/(10.5/.75),e.setCenter(n)}}}var eet=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function tet(r,e){r==="china"&&e.name==="台湾"&&e.geometries.push({type:"polygon",exterior:eet[0]})}var ret="name",net=function(){function r(e,t,n){this.type="geoJSON",this._parsedMap=tt(),this._mapName=e,this._specialAreas=n,this._geoJSON=aet(t)}return r.prototype.load=function(e,t){t=t||ret;var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:iet(i)})}var a=tt(),s=[];return B(n.regions,function(o){var l=o.name;e&&Qe(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new Ct(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(e){var t=this._mapName,n=this._geoJSON,i;try{i=n?N4(n,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return ZJe(t,i),B(i,function(a){var s=a.name;JJe(t,a),tet(t,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function iet(r){for(var e,t=0;t<r.length;t++){var n=r[t].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function aet(r){return $e(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var __=tt();const wf={registerMap:function(r,e,t){if(e.svg){var n=new YJe(r,e.svg);__.set(r,n)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var n=new net(r,i,t);__.set(r,n)}},getGeoResource:function(r){return __.get(r)},getMapForUser:function(r){var e=__.get(r);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(r,e,t){var n=__.get(r);if(n)return n.load(e,t)}};var LV=["rect","circle","line","ellipse","polygon","polyline","path"],set=tt(LV),oet=tt(LV.concat(["g"])),uet=tt(LV.concat(["g"])),zfe=Qt();function R2(r){var e=r.getItemStyle(),t=r.get("areaColor");return t!=null&&(e.fill=t),e}function AX(r){var e=r.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Ufe=function(){function r(e){var t=new pt;this.uid=Ry("ec_map_draw"),this._controller=new jb(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new pt),t.add(this._svgGroup=new pt)}return r.prototype.draw=function(e,t,n,i,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(x){!o&&x.getHostGeoModel()===e&&(o=x.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),h=f.raw,p=f.roam,v=!u.childAt(0)||a;v?(c.x=p.x,c.y=p.y,c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.dirty()):rr(c,p,e);var m=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,y={api:n,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:m,isGeo:s,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(y):l.resourceType==="geoSVG"&&this._buildSVG(y),this._updateController(e,t,n),this._updateMapSelectHandler(e,u,n,i)},r.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=tt(),n=tt(),i=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,u=l&&l.stream;function c(p,v){return v&&(p=v(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function f(p){for(var v=[],m=!u&&l&&l.project,y=0;y<p.length;++y){var x=c(p[y],m);x&&v.push(x)}return v}function h(p){return{shape:{points:f(p)}}}i.removeAll(),B(e.geo.regions,function(p){var v=p.name,m=t.get(v),y=n.get(v)||{},x=y.dataIdx,w=y.regionModel;if(!m){m=t.set(v,new pt),i.add(m),x=o?o.indexOfName(v):null,w=e.isGeo?s.getRegionModel(v):o?o.getItemModel(x):null;var b=w.get("silent",!0);b!=null&&(m.silent=b),n.set(v,{dataIdx:x,regionModel:w})}var T=[],C=[];B(p.geometries,function(R){if(R.type==="polygon"){var M=[R.exterior].concat(R.interiors||[]);u&&(M=MX(M,u)),B(M,function(L){T.push(new Wa(h(L)))})}else{var k=R.points;u&&(k=MX(k,u,!0)),B(k,function(L){C.push(new Ya(h(L)))})}});var D=c(p.getCenter(),l&&l.project);function E(R,M){if(R.length){var k=new XD({culling:!0,segmentIgnoreThreshold:1,shape:{paths:R}});m.add(k),EX(e,k,x,w),CX(e,k,v,w,s,x,D),M&&(AX(k),B(k.states,AX))}}E(T),E(C,!0)}),t.each(function(p,v){var m=n.get(v),y=m.dataIdx,x=m.regionModel;DX(e,p,v,x,s,y),IX(e,p,v,x,s),RX(e,p,v,x,s)},this)},r.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=tt(),a=!1;B(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,u=e.data,c=s.svgNodeTagLower,f=s.el,h=u?u.indexOfName(o):null,p=l.getRegionModel(o);set.get(c)!=null&&f instanceof ll&&EX(e,f,h,p),f instanceof ll&&(f.culling=!0);var v=p.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!s.namedFrom&&(uet.get(c)!=null&&CX(e,f,o,p,l,h,null),DX(e,f,o,p,l,h),IX(e,f,o,p,l),oet.get(c)!=null)){var m=RX(e,f,o,p,l);m==="self"&&(a=!0);var y=i.get(o)||i.set(o,[]);y.push(f)}},this),this._enableBlurEntireSVG(a,e)},r.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Hv(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},r.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},r.prototype._useSVG=function(e){var t=wf.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},r.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=wf.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(e.get("roam")||!1);var o=e.mainType;function l(){var u={type:"geoRoam",componentType:o};return u[o+"Id"]=e.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,kV(s,u.dx,u.dy),n.dispatchAction(De(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,PV(s,u.scale,u.originX,u.originY),n.dispatchAction(De(l(),{totalZoom:s.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,f){return i.containPoint([c,f])&&!vI(u,n,e)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=zfe(t).ignore)})},r.prototype._updateMapSelectHandler=function(e,t,n,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r}();function EX(r,e,t,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=R2(i),u=R2(a),c=R2(o),f=R2(s),h=r.data;if(h){var p=h.getItemVisual(t,"style"),v=h.getItemVisual(t,"decal");r.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),v&&(l.decal=Zm(v,r.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,Hv(e)}function CX(r,e,t,n,i,a,s){var o=r.data,l=r.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,h=void 0;(!o||a>=0)&&(h=i);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;ma(e,Li(n),{labelFetcher:h,labelDataIndex:f,defaultText:t},p);var v=e.getTextContent();if(v&&(zfe(v).ignore=v.ignore,e.textConfig&&s)){var m=e.getBoundingRect().clone();e.textConfig.layoutRect=m,e.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function DX(r,e,t,n,i,a){r.data?r.data.setItemGraphicEl(a,e):gt(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:n&&n.option||{}}}function IX(r,e,t,n,i){r.data||cg({el:e,componentModel:i,itemName:t,itemTooltipOption:n.get("tooltip")})}function RX(r,e,t,n,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return dn(e,s,a.get("blurScope"),a.get("disabled")),r.isGeo&&WWe(e,i,t),s}function MX(r,e,t){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!t&&o.polygonStart(),B(r,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!t&&o.polygonEnd(),n}var cet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new Ufe(i);s.add(o.group),o.draw(t,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,n,i){var a=t.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new lc({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:Sy+1)});if(!f){var p=t.mainSeries.getData(),v=a.getName(l),m=p.indexOfName(v),y=a.getItemModel(l),x=y.getModel("label"),w=p.getItemGraphicEl(m);ma(h,Li(y),{labelFetcher:{getFormattedLabel:function(b,T){return t.getFormattedLabel(m,T)}},defaultText:v}),h.disableLabelAnimation=!0,x.get("position")||h.setTextConfig({position:"bottom"}),w.onHoverStateChange=function(b){JE(h,b)}}s.add(h)}}})},e.type="map",e}(Dr),fet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var n=zy(this,{coordDimensions:["value"],encodeDefaulter:xt(XB,this)}),i=tt(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var u=wf.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return B(u.regions,function(c){var f=c.name,h=i.get(f),p=c.properties&&c.properties.echartsStyle,v;h==null?(v={name:f},a.push(v)):v=n.getRawDataItem(h),p&&bt(v,p)}),n.appendData(a),n},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData(),s=this.getRawValue(t),o=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(o),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return Oi("section",{header:u.join(", "),noHeader:!u.length,blocks:[Oi("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",i=Bn(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Lr);function het(r,e){var t={};return B(r,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);t[s]=t[s]||[],isNaN(i)||t[s].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),s=0,o=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)o=Math.min(o,t[a][c]),l=Math.max(l,t[a][c]),s+=t[a][c];var f;return e==="min"?f=o:e==="max"?f=l:e==="average"?f=s/u:f=s,u===0?NaN:f})}function det(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),B(e,function(t,n){for(var i=het(Pe(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function pet(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getMapType();if(!(t.getHostGeoModel()||e[n])){var i={};B(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=o.getRegion(f);if(!(!h||isNaN(u))){var p=i[f]||0,v=o.dataToPoint(h.getCenter());i[f]=p+1,l.setItemLayout(c,{point:v,offset:p})}})});var a=t.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),e[n]=!0}})}var kX=Yi,Wb=function(r){ge(e,r);function e(t){var n=r.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Kc,n._rawTransformable=new Kc,n.name=t,n}return e.prototype.setBoundingRect=function(t,n,i,a){return this._rect=new Ct(t,n,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,n,i,a){this._transformTo(t,n,i,a),this._viewRect=new Ct(t,n,i,a)},e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Ct(t,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,n){t&&(this._center=[je(t[0],n.getWidth()),je(t[1],n.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var n=this.zoomLimit;n&&(n.max!=null&&(t=Math.min(n.max,t)),n.min!=null&&(t=Math.max(n.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),n=t.x+t.width/2,i=t.y+t.height/2;return[n,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=Yi([],a,t),i=Yi([],i,t),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),FD(this.transform||(this.transform=[]),n.transform||Us()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],ug(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,i=new Kc;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?kX(i,t,a):Ca(i,t)},e.prototype.pointToData=function(t){var n=this.invTransform;return n?kX([],t,n):[t[0],t[1]]},e.prototype.convertToPixel=function(t,n,i){var a=PX(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=PX(n);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Kc);function PX(r){var e=r.seriesModel;return e?e.coordinateSystem:null}var vet={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Hfe=["lng","lat"],q4=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t)||this;a.dimensions=Hfe,a.type="geo",a._nameCoordMap=tt(),a.map=n;var s=i.projection,o=wf.load(n,i.nameMap,i.nameProperty),l=wf.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=vet[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var f;if(s)for(var h=0;h<u.length;h++){var p=u[h].getBoundingRect(s);f=f||p.clone(),f.union(p)}else f=o.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=s?1:_t(i.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new Ct(t,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(t))return n[i]}},e.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},e.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},e.prototype.dataToPoint=function(t,n,i){if($e(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,i)}},e.prototype.pointToData=function(t){var n=this.projection;return n&&(t=n.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return r.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,n,i){return r.prototype.dataToPoint.call(this,t,n,i)},e.prototype.convertToPixel=function(t,n,i){var a=LX(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=LX(n);return a===this?a.pointToData(i):null},e}(Wb);Cn(q4,Wb);function LX(r){var e=r.geoModel,t=r.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Qn).models[0]||{}).coordinateSystem:null}function OX(r,e){var t=r.get("boundingCoords");if(t!=null){var n=t[0],i=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(D,E,R,M){for(var k=R-D,L=M-E,O=0;O<=100;O++){var N=O/100,W=a.project([D+k*N,E+L*N]);Yc(n,n,W),Xc(i,i,W)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var f=this.getBoundingRect(),h=r.get("layoutCenter"),p=r.get("layoutSize"),v=e.getWidth(),m=e.getHeight(),y=f.width/f.height*this.aspectScale,x=!1,w,b;h&&p&&(w=[je(h[0],v),je(h[1],m)],b=je(p,Math.min(v,m)),!isNaN(w[0])&&!isNaN(w[1])&&!isNaN(b)&&(x=!0));var T;if(x)T={},y>1?(T.width=b,T.height=b/y):(T.height=b,T.width=b*y),T.y=w[1]-T.height/2,T.x=w[0]-T.width/2;else{var C=r.getBoxLayoutParams();C.aspect=y,T=ti(C,{width:v,height:m})}this.setViewRect(T.x,T.y,T.width,T.height),this.setCenter(r.get("center"),e),this.setZoom(r.get("zoom"))}function get(r,e){B(e.get("geoCoord"),function(t,n){r.addGeoCoord(n,t)})}var met=function(){function r(){this.dimensions=Hfe}return r.prototype.create=function(e,t){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),u=new q4(l+o,l,De({nameMap:s.get("nameMap")},i(s)));u.zoomLimit=s.get("scaleLimit"),n.push(u),s.coordinateSystem=u,u.model=s,u.resize=OX,u.resize(s,t)}),e.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=n[l]}});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),B(a,function(s,o){var l=Pe(s,function(c){return c.get("nameMap")}),u=new q4(o,o,De({nameMap:LD(l)},i(s[0])));u.zoomLimit=Ii.apply(null,Pe(s,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=OX,u.resize(s[0],t),B(s,function(c){c.coordinateSystem=u,get(u,c)})}),n},r.prototype.getFilledRegions=function(e,t,n,i){for(var a=(e||[]).slice(),s=tt(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=wf.load(t,n,i);return B(l.regions,function(u){var c=u.name,f=s.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&bt(f,h)}),a},r}(),Gfe=new met,yet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=wf.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(t,i),Vv(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=Gfe.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=ol(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new sr(s,t,t.ecModel)),s.selected&&(i[o]=!0)),a},tt()),n.selectedMap||(n.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new sr(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,n){var i=this.getRegionModel(t),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:t};if(it(a))return s.status=n,a(s);if($e(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(zt);function NX(r,e){return r.pointToProjected?r.pointToProjected(e):r.pointToData(e)}function OV(r,e,t,n){var i=r.getZoom(),a=r.getCenter(),s=e.zoom,o=r.projectedToPoint?r.projectedToPoint(a):r.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,r.setCenter(NX(r,o),n)),s!=null){if(t){var l=t.min||0,u=t.max||1/0;s=Math.max(Math.min(i*s,u),l)/i}r.scaleX*=s,r.scaleY*=s;var c=(e.originX-r.x)*(s-1),f=(e.originY-r.y)*(s-1);r.x-=c,r.y-=f,r.updateTransform(),r.setCenter(NX(r,o),n),r.setZoom(s*i)}return{center:r.getCenter(),zoom:r.getZoom()}}var _et=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,n){this._api=n},e.prototype.render=function(t,n,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Ufe(i));var s=this._mapDraw;s.draw(t,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,n,i)},e.prototype._handleRegionClick=function(t){var n;av(t.target,function(i){return(n=gt(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(t,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=gt(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(qr);function xet(r,e,t){wf.registerMap(r,e,t)}function jfe(r){r.registerCoordinateSystem("geo",Gfe),r.registerComponentModel(yet),r.registerComponentView(_et),r.registerImpl("registerMap",xet),r.registerImpl("getMap",function(t){return wf.getMapForUser(t)});function e(t,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var u=l.coordinateSystem;B(u.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var c=[];B(s,function(f,h){s[h]&&c.push(h)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,i){var a=t.componentType||"series";n.eachComponent({mainType:a,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=OV(o,t,s.get("scaleLimit"),i);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&B(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function wet(r){Pt(jfe),r.registerChartView(cet),r.registerSeriesModel(fet),r.registerLayout(pet),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,det),Hue("map",r.registerAction)}function bet(r){var e=r;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],n,i;n=t.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function Tet(r,e){var t=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(t.length){Cet(r);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+e(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+e(r,i));r.parentNode.hierNode.defaultAncestor=Det(r,i,r.parentNode.hierNode.defaultAncestor||n[0],e)}function Aet(r){var e=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:e},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function FX(r){return arguments.length?r:Met}function K_(r,e){return r-=Math.PI/2,{x:e*Math.cos(r),y:e*Math.sin(r)}}function Eet(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Cet(r){for(var e=r.children,t=e.length,n=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function Det(r,e,t,n){if(e){for(var i=r,a=r,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,f=o.hierNode.modifier;o=oL(o),a=lL(a),o&&a;){i=oL(i),s=lL(s),i.hierNode.ancestor=r;var h=o.hierNode.prelim+f-a.hierNode.prelim-u+n(o,a);h>0&&(Ret(Iet(o,r,t),r,h),u+=h,l+=h),f+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=s.hierNode.modifier}o&&!oL(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=f-l),a&&!lL(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,t=r)}return t}function oL(r){var e=r.children;return e.length&&r.isExpand?e[e.length-1]:r.hierNode.thread}function lL(r){var e=r.children;return e.length&&r.isExpand?e[0]:r.hierNode.thread}function Iet(r,e,t){return r.hierNode.ancestor.parentNode===e.parentNode?r.hierNode.ancestor:t}function Ret(r,e,t){var n=t/(e.hierNode.i-r.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,r.hierNode.change+=n}function Met(r,e){return r.parentNode===e.parentNode?1:2}var ket=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),Pet=function(r){ge(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ket},e.prototype.buildPath=function(t,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=je(n.forkPosition,1),p=[];p[c]=s[c],p[f]=s[f]+(l[f]-s[f])*h,t.moveTo(s[0],s[1]),t.lineTo(p[0],p[1]),t.moveTo(o[0],o[1]),p[c]=o[c],t.lineTo(p[0],p[1]),p[c]=l[c],t.lineTo(p[0],p[1]),t.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var m=i[v];t.moveTo(m[0],m[1]),p[c]=m[c],t.lineTo(p[0],p[1])}},e}(Ht),Let=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new pt,t}return e.prototype.init=function(t,n){this._controller=new jb(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,n,i);var u=this._data;a.diff(u).add(function(c){BX(a,c)&&VX(a,c,null,o,t)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!BX(a,c)){h&&UX(u,f,h,o,t);return}VX(a,c,h,o,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&UX(u,c,f,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,n){var i=t.getData(),a=[];i.each(function(f){var h=i.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var s=[],o=[];$D(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=t.coordinateSystem=new Wb;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(t.get("center"),n),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(u,c,f){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,f)&&!vI(u,i,t)}),s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){kV(o,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){PV(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(t),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),i=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Dr);function BX(r,e){var t=r.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function VX(r,e,t,n,i){var a=!t,s=r.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:"#fff",c=r.tree.root,f=s.parentNode===c?s:s.parentNode||s,h=r.getItemGraphicEl(f.dataIndex),p=f.getLayout(),v=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,m=s.getLayout();a?(t=new Bb(r,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=v.x,t.y=v.y):t.updateData(r,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=m.rawX,t.__radialRawY=m.rawY,n.add(t),r.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,rr(t,{x:m.x,y:m.y},i);var y=t.getSymbolPath();if(i.get("layout")==="radial"){var x=c.children[0],w=x.getLayout(),b=x.children.length,T=void 0,C=void 0;if(m.x===w.x&&s.isExpand===!0&&x.children.length){var D={x:(x.children[0].getLayout().x+x.children[b-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[b-1].getLayout().y)/2};T=Math.atan2(D.y-w.y,D.x-w.x),T<0&&(T=Math.PI*2+T),C=D.x<w.x,C&&(T=T-Math.PI)}else T=Math.atan2(m.y-w.y,m.x-w.x),T<0&&(T=Math.PI*2+T),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(C=m.x<w.x,C&&(T=T-Math.PI)):(C=m.x>w.x,C||(T=T-Math.PI));var E=C?"left":"right",R=o.getModel("label"),M=R.get("rotate"),k=M*(Math.PI/180),L=y.getTextContent();L&&(y.setTextConfig({position:R.get("position")||E,rotation:M==null?-T:k,origin:"center"}),L.setStyle("verticalAlign","middle"))}var O=o.get(["emphasis","focus"]),N=O==="relative"?$m(s.getAncestorsIndices(),s.getDescendantIndices()):O==="ancestor"?s.getAncestorsIndices():O==="descendant"?s.getDescendantIndices():null;N&&(gt(t).focus=N),Oet(i,s,c,t,v,p,m,n),t.__edge&&(t.onHoverStateChange=function(W){if(W!=="blur"){var U=s.parentNode&&r.getItemGraphicEl(s.parentNode.dataIndex);U&&U.hoverState===Rb||JE(t.__edge,W)}})}function Oet(r,e,t,n,i,a,s,o){var l=e.getModel(),u=r.get("edgeShape"),c=r.get("layout"),f=r.getOrient(),h=r.get(["lineStyle","curveness"]),p=r.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),m=n.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(m||(m=n.__edge=new Ay({shape:Y4(c,f,h,i,i)})),rr(m,{shape:Y4(c,f,h,a,s)},r));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var y=e.children,x=[],w=0;w<y.length;w++){var b=y[w].getLayout();x.push([b.x,b.y])}m||(m=n.__edge=new Pet({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:p}})),rr(m,{shape:{parentPoint:[s.x,s.y],childPoints:x}},r)}m&&!(u==="polyline"&&!e.isExpand)&&(m.useStyle(ut({strokeNoScale:!0,fill:null},v)),ga(m,l,"lineStyle"),Hv(m),o.add(m))}function zX(r,e,t,n,i){var a=e.tree.root,s=Wfe(a,r),o=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(r.dataIndex);if(u){var c=e.getItemGraphicEl(o.dataIndex),f=c.__edge,h=u.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),p=n.get("edgeShape"),v=n.get("layout"),m=n.get("orient"),y=n.get(["lineStyle","curveness"]);h&&(p==="curve"?cd(h,{shape:Y4(v,m,y,l,l),style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:i}):p==="polyline"&&n.get("layout")==="orthogonal"&&cd(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:i}))}}function Wfe(r,e){for(var t=e.parentNode===r?e:e.parentNode||e,n;n=t.getLayout(),n==null;)t=t.parentNode===r?t:t.parentNode||t;return{source:t,sourceLayout:n}}function UX(r,e,t,n,i){var a=r.tree.getNodeByDataIndex(e),s=r.tree.root,o=Wfe(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};cd(t,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(t),r.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){zX(u,r,n,i,l)}),zX(a,r,n,i,l)}function Y4(r,e,t,n,i){var a,s,o,l,u,c,f,h;if(r==="radial"){u=n.rawX,f=n.rawY,c=i.rawX,h=i.rawY;var p=K_(u,f),v=K_(u,f+(h-f)*t),m=K_(c,h+(f-h)*t),y=K_(c,h);return{x1:p.x||0,y1:p.y||0,x2:y.x||0,y2:y.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=n.x,f=n.y,c=i.x,h=i.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,s=f,o=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(a=u,s=f+(h-f)*t,o=c,l=h+(f-h)*t);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var rl=Qt();function $fe(r){var e=r.mainData,t=r.datas;t||(t={main:e},r.datasAttr={main:"data"}),r.datas=r.mainData=null,qfe(e,t,r),B(t,function(n){B(e.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,xt(Net,r))})}),e.wrapMethod("cloneShallow",xt(Bet,r)),B(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,xt(Fet,r))}),Ga(t[e.dataType]===e)}function Net(r,e){if(Uet(this)){var t=De({},rl(this).datas);t[this.dataType]=e,qfe(e,t,r)}else NV(e,this.dataType,rl(this).mainData,r);return e}function Fet(r,e){return r.struct&&r.struct.update(),e}function Bet(r,e){return B(rl(e).datas,function(t,n){t!==e&&NV(t.cloneShallow(),n,e,r)}),e}function Vet(r){var e=rl(this).mainData;return r==null||e==null?e:rl(e).datas[r]}function zet(){var r=rl(this).mainData;return r==null?[{data:r}]:Pe(Gt(rl(r).datas),function(e){return{type:e,data:rl(r).datas[e]}})}function Uet(r){return rl(r).mainData===r}function qfe(r,e,t){rl(r).datas={},B(e,function(n,i){NV(n,i,r,t)})}function NV(r,e,t,n){rl(t).datas[e]=r,rl(r).mainData=t,r.dataType=e,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=r),r.getLinkedData=Vet,r.getLinkedDataAll=zet}var Het=function(){function r(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(e,t,n){it(e)&&(n=t,t=e,e=null),e=e||{},$e(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,n);i==="postorder"&&t.call(n,this)},r.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},r.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].getNodeById(e);if(a)return a}},r.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].contains(e);if(a)return a}},r.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},r.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},r.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},r.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},r.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},r.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},r.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},r.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},r}(),FV=function(){function r(e){this.type="tree",this._nodes=[],this.hostModel=e}return r.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},r.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},r.prototype.getNodeById=function(e){return this.root.getNodeById(e)},r.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(var n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(e,t,n){var i=new r(t),a=[],s=1;o(e);function o(c,f){var h=c.value;s=Math.max(s,ke(h)?h.length:1),a.push(c);var p=new Het(gi(c.name,""),i);f?Get(p,f):i.root=p,i._nodes.push(p);var v=c.children;if(v)for(var m=0;m<v.length;m++)o(v[m],p)}i.root.updateDepthAndHeight(0);var l=Fy(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new Va(l,t);return u.initData(a),n&&n(u),$fe({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r}();function Get(r,e){var t=e.children;r.parentNode!==e&&(t.push(r),r.parentNode=e)}function Nw(r,e,t){if(r&&Dt(e,r.type)>=0){var n=t.getData().tree.root,i=r.targetNode;if($e(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function Yfe(r){for(var e=[];r;)r=r.parentNode,r&&e.push(r);return e.reverse()}function BV(r,e){var t=Yfe(r);return Dt(t,e)>=0}function mI(r,e){for(var t=[];r;){var n=r.dataIndex;t.push({name:r.name,dataIndex:n,value:e.getRawValue(n)}),r=r.parentNode}return t.reverse(),t}var jet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},i=t.leaves||{},a=new sr(i,this,this.ecModel),s=FV.createTree(n,this,o);function o(f){f.wrapMethod("getItemModel",function(h,p){var v=s.getNodeByDataIndex(p);return v&&v.children.length&&v.isExpand||(h.parentModel=a),h})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return Oi("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=mI(i,this),n.collapsed=!i.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Lr);function Wet(r,e,t){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)e(a,t)}function x_(r,e){for(var t=[r],n;n=t.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function $et(r,e){r.eachSeriesByType("tree",function(t){qet(t,e)})}function qet(r,e){var t=Eet(r,e);r.layoutInfo=t;var n=r.get("layout"),i=0,a=0,s=null;n==="radial"?(i=2*Math.PI,a=Math.min(t.height,t.width)/2,s=FX(function(b,T){return(b.parentNode===T.parentNode?1:2)/b.depth})):(i=t.width,a=t.height,s=FX());var o=r.getData().tree.root,l=o.children[0];if(l){bet(o),Wet(l,Tet,s),o.hierNode.modifier=-l.hierNode.prelim,x_(l,Aet);var u=l,c=l,f=l;x_(l,function(b){var T=b.getLayout().x;T<u.getLayout().x&&(u=b),T>c.getLayout().x&&(c=b),b.depth>f.depth&&(f=b)});var h=u===c?1:s(u,c)/2,p=h-u.getLayout().x,v=0,m=0,y=0,x=0;if(n==="radial")v=i/(c.getLayout().x+h+p),m=a/(f.depth-1||1),x_(l,function(b){y=(b.getLayout().x+p)*v,x=(b.depth-1)*m;var T=K_(y,x);b.setLayout({x:T.x,y:T.y,rawX:y,rawY:x},!0)});else{var w=r.getOrient();w==="RL"||w==="LR"?(m=a/(c.getLayout().x+h+p),v=i/(f.depth-1||1),x_(l,function(b){x=(b.getLayout().x+p)*m,y=w==="LR"?(b.depth-1)*v:i-(b.depth-1)*v,b.setLayout({x:y,y:x},!0)})):(w==="TB"||w==="BT")&&(v=i/(c.getLayout().x+h+p),m=a/(f.depth-1||1),x_(l,function(b){y=(b.getLayout().x+p)*v,x=w==="TB"?(b.depth-1)*m:a-(b.depth-1)*m,b.setLayout({x:y,y:x},!0)}))}}}function Yet(r){r.eachSeriesByType("tree",function(e){var t=e.getData(),n=t.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");De(o,s)})})}function Xet(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=OV(a,e,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function Ket(r){r.registerChartView(Let),r.registerSeriesModel(jet),r.registerLayout($et),r.registerVisual(Yet),Xet(r)}var HX=["treemapZoomToNode","treemapRender","treemapMove"];function Zet(r){for(var e=0;e<HX.length;e++)r.registerAction({type:HX[e],update:"updateView"},An);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=Nw(t,o,a);if(l){var u=a.getViewRoot();u&&(t.direction=BV(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Xfe(r){var e=r.getData(),t=e.tree,n={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=w4(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var Qet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};Kfe(i);var a=t.levels||[],s=this.designatedVisualItemStyle={},o=new sr({itemStyle:s},this,n);a=t.levels=Jet(a,n);var l=Pe(a||[],function(f){return new sr(f,o,n)},this),u=FV.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(h,p){var v=u.getNodeByDataIndex(p),m=v?l[v.depth]:null;return h.parentModel=m||o,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Oi("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=mI(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},De(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=tt(),this._idIndexMapCount=0);var i=n.get(t);return i==null&&n.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Xfe(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Lr);function Kfe(r){var e=0;B(r.children,function(n){Kfe(n);var i=n.value;ke(i)&&(i=i[0]),e+=i});var t=r.value;ke(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ke(r.value)?r.value[0]=t:r.value=t}function Jet(r,e){var t=Pr(e.get("color")),n=Pr(e.get(["aria","decal","decals"]));if(t){r=r||[];var i,a;B(r,function(o){var l=new sr(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=r[0]||(r[0]={});return i||(s.color=t.slice()),!a&&n&&(s.decal=n.slice()),r}}var ett=8,GX=8,uL=5,ttt=function(){function r(e){this.group=new pt,e.add(this.group)}return r.prototype.render=function(e,t,n,i){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,f,u),this._renderContent(e,f,o,l,u,c,i),nI(s,f.pos,f.box)}},r.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var a=gi(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+ett*2,t.emptyItemWidth);t.totalWidth+=o+GX,t.renderList.push({node:i,text:a,width:o})}},r.prototype._renderContent=function(e,t,n,i,a,s,o){for(var l=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),f=W$e(t.pos,t.box),h=t.totalWidth,p=t.renderList,v=i.getModel("itemStyle").getItemStyle(),m=p.length-1;m>=0;m--){var y=p[m],x=y.node,w=y.width,b=y.text;h>f.width&&(h-=w-u,w=u,b=null);var T=new Wa({shape:{points:rtt(l,0,w,c,m===p.length-1,m===0)},style:ut(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Yt({style:Ur(a,{text:b})}),textConfig:{position:"inside"},z2:Sy*1e4,onclick:xt(o,x)});T.disableLabelAnimation=!0,T.getTextContent().ensureState("emphasis").style=Ur(s,{text:b}),T.ensureState("emphasis").style=v,dn(T,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(T),ntt(T,e,x),l+=w+GX}},r.prototype.remove=function(){this.group.removeAll()},r}();function rtt(r,e,t,n,i,a){var s=[[i?r:r-uL,e],[r+t,e],[r+t,e+n],[i?r:r-uL,e+n]];return!a&&s.splice(2,0,[r+t+uL,e+n/2]),!i&&s.push([r,e+n/2]),s}function ntt(r,e,t){gt(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&mI(t,e)}}var itt=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(e,t,n,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(e){return this._finishedCallback=e,this},r.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},r}();function att(){return new itt}var X4=pt,jX=Xt,WX=3,$X="label",qX="upperLabel",stt=Sy*10,ott=Sy*2,ltt=Sy*3,Np=Uv([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),YX=function(r){var e=Np(r);return e.stroke=e.fill=e.lineWidth=null,e},SC=Qt(),utt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=w_(),t}return e.prototype.render=function(t,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Dt(s,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=Nw(a,o,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,h=this._storage,p=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),m=t.get("animation"),y=this._doRender(v,t,p);m&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,y,t,p):y.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new X4,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},e.prototype._doRender=function(t,n,i){var a=n.getData().tree,s=this._oldTree,o=w_(),l=w_(),u=this._storage,c=[];function f(w,b,T,C){return ctt(n,l,u,i,o,c,w,b,T,C)}m(a.root?[a.root]:[],s&&s.root?[s.root]:[],t,a===s||!s,0);var h=y(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===p.width&&v.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:h,renderFinally:x};function m(w,b,T,C,D){C?(b=w,B(w,function(M,k){!M.isRemoved()&&R(k,k)})):new yf(b,w,E,E).add(R).update(R).remove(xt(R,null)).execute();function E(M){return M.getId()}function R(M,k){var L=M!=null?w[M]:null,O=k!=null?b[k]:null,N=f(L,O,T,D);N&&m(L&&L.viewChildren||[],O&&O.viewChildren||[],N,C,D+1)}}function y(w){var b=w_();return w&&B(w,function(T,C){var D=b[C];B(T,function(E){E&&(D.push(E),SC(E).willDelete=!0)})}),b}function x(){B(h,function(w){B(w,function(b){b.parent&&b.parent.remove(b)})}),B(c,function(w){w.invisible=!0,w.dirty()})}},e.prototype._doAnimation=function(t,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(it(s)?0:s)||0,u=(it(o)?null:o)||"cubicOut",c=att();B(n.willDeleteEls,function(f,h){B(f,function(p,v){if(!p.invisible){var m=p.parent,y,x=SC(m);if(a&&a.direction==="drillDown")y=m===a.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var w=0,b=0;x.willDelete||(w=x.nodeWidth/2,b=x.nodeHeight/2),y=h==="nodeGroup"?{x:w,y:b,style:{opacity:0}}:{shape:{x:w,y:b,width:0,height:0},style:{opacity:0}}}y&&c.add(p,y,l,0,u)}})}),B(this._storage,function(f,h){B(f,function(p,v){var m=n.lastsForAnimation[h][v],y={};m&&(p instanceof pt?m.oldX!=null&&(y.x=p.x,y.y=p.y,p.x=m.oldX,p.y=m.oldY):(m.oldShape&&(y.shape=De({},p.shape),p.setShape(m.oldShape)),m.fadein?(p.setStyle("opacity",0),y.style={opacity:1}):p.style.opacity!==1&&(y.style={opacity:1})),c.add(p,y,l,0,u))})},this),this._state="animating",c.finished(Xe(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(t){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new jb(t.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",Xe(this._onPan,this)),n.on("zoom",Xe(this._onZoom,this)));var a=new Ct(0,0,t.getWidth(),t.getHeight());n.setPointerChecker(function(s,o,l){return a.contain(o,l)})},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>WX||Math.abs(t.dy)>WX)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var n=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new Ct(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,p=u.max||1/0;f=Math.max(Math.min(p,f),h)}var v=f/c.zoom;c.zoom=f;var m=this.seriesModel.layoutInfo;n-=m.x,i-=m.y;var y=Us();ql(y,y,[-n,-i]),BD(y,y,[v,v]),ql(y,y,[n,i]),l.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var n=this;t.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&aC(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,n,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new ttt(this.group))).render(t,n,i.node,function(s){a._state!=="animating"&&(BV(t.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=w_(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,n),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e}(Dr);function w_(){return{nodeGroup:[],background:[],content:[]}}function ctt(r,e,t,n,i,a,s,o,l,u){if(!s)return;var c=s.getLayout(),f=r.getData(),h=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var p=c.width,v=c.height,m=c.borderWidth,y=c.invisible,x=s.getRawIndex(),w=o&&o.getRawIndex(),b=s.viewChildren,T=c.upperHeight,C=b&&b.length,D=h.getModel("itemStyle"),E=h.getModel(["emphasis","itemStyle"]),R=h.getModel(["blur","itemStyle"]),M=h.getModel(["select","itemStyle"]),k=D.get("borderRadius")||0,L=se("nodeGroup",X4);if(!L)return;if(l.add(L),L.x=c.x||0,L.y=c.y||0,L.markRedraw(),SC(L).nodeWidth=p,SC(L).nodeHeight=v,c.isAboveViewRoot)return L;var O=se("background",jX,u,ott);O&&q(L,O,C&&c.upperLabelHeight);var N=h.getModel("emphasis"),W=N.get("focus"),U=N.get("blurScope"),z=N.get("disabled"),Y=W==="ancestor"?s.getAncestorsIndices():W==="descendant"?s.getDescendantIndices():W;if(C)Sw(L)&&nv(L,!1),O&&(nv(O,!z),f.setItemGraphicEl(s.dataIndex,O),d4(O,Y,U));else{var re=se("content",jX,u,ltt);re&&Q(L,re),O.disableMorphing=!0,O&&Sw(O)&&nv(O,!1),nv(L,!z),f.setItemGraphicEl(s.dataIndex,L);var K=h.getShallow("cursor");K&&re.attr("cursor",K),d4(L,Y,U)}return L;function q(Ae,ye,Se){var me=gt(ye);if(me.dataIndex=s.dataIndex,me.seriesIndex=r.seriesIndex,ye.setShape({x:0,y:0,width:p,height:v,r:k}),y)j(ye);else{ye.invisible=!1;var ee=s.getVisual("style"),mt=ee.stroke,rt=YX(D);rt.fill=mt;var at=Np(E);at.fill=E.get("borderColor");var ot=Np(R);ot.fill=R.get("borderColor");var Ue=Np(M);if(Ue.fill=M.get("borderColor"),Se){var Jt=p-2*m;J(ye,mt,ee.opacity,{x:m,y:0,width:Jt,height:T})}else ye.removeTextContent();ye.setStyle(rt),ye.ensureState("emphasis").style=at,ye.ensureState("blur").style=ot,ye.ensureState("select").style=Ue,Hv(ye)}Ae.add(ye)}function Q(Ae,ye){var Se=gt(ye);Se.dataIndex=s.dataIndex,Se.seriesIndex=r.seriesIndex;var me=Math.max(p-2*m,0),ee=Math.max(v-2*m,0);if(ye.culling=!0,ye.setShape({x:m,y:m,width:me,height:ee,r:k}),y)j(ye);else{ye.invisible=!1;var mt=s.getVisual("style"),rt=mt.fill,at=YX(D);at.fill=rt,at.decal=mt.decal;var ot=Np(E),Ue=Np(R),Jt=Np(M);J(ye,rt,mt.opacity,null),ye.setStyle(at),ye.ensureState("emphasis").style=ot,ye.ensureState("blur").style=Ue,ye.ensureState("select").style=Jt,Hv(ye)}Ae.add(ye)}function j(Ae){!Ae.invisible&&a.push(Ae)}function J(Ae,ye,Se,me){var ee=h.getModel(me?qX:$X),mt=gi(h.get("name"),null),rt=ee.getShallow("show");ma(Ae,Li(h,me?qX:$X),{defaultText:rt?mt:null,inheritColor:ye,defaultOpacity:Se,labelFetcher:r,labelDataIndex:s.dataIndex});var at=Ae.getTextContent();if(at){var ot=at.style,Ue=ND(ot.padding||0);me&&(Ae.setTextConfig({layoutRect:me}),at.disableLabelLayout=!0),at.beforeUpdate=function(){var vr=Math.max((me?me.width:Ae.shape.width)-Ue[1]-Ue[3],0),en=Math.max((me?me.height:Ae.shape.height)-Ue[0]-Ue[2],0);(ot.width!==vr||ot.height!==en)&&at.setStyle({width:vr,height:en})},ot.truncateMinChar=2,ot.lineOverflow="truncate",te(ot,me,c);var Jt=at.getState("emphasis");te(Jt?Jt.style:null,me,c)}}function te(Ae,ye,Se){var me=Ae?Ae.text:null;if(!ye&&Se.isLeafRoot&&me!=null){var ee=r.get("drillDownIcon",!0);Ae.text=ee?ee+" "+me:me}}function se(Ae,ye,Se,me){var ee=w!=null&&t[Ae][w],mt=i[Ae];return ee?(t[Ae][w]=null,de(mt,ee)):y||(ee=new ye,ee instanceof ll&&(ee.z2=ftt(Se,me)),Oe(mt,ee)),e[Ae][x]=ee}function de(Ae,ye){var Se=Ae[x]={};ye instanceof X4?(Se.oldX=ye.x,Se.oldY=ye.y):Se.oldShape=De({},ye.shape)}function Oe(Ae,ye){var Se=Ae[x]={},me=s.parentNode,ee=ye instanceof pt;if(me&&(!n||n.direction==="drillDown")){var mt=0,rt=0,at=i.background[me.getRawIndex()];!n&&at&&at.oldShape&&(mt=at.oldShape.width,rt=at.oldShape.height),ee?(Se.oldX=0,Se.oldY=rt):Se.oldShape={x:mt,y:rt,width:0,height:0}}Se.fadein=!ee}}function ftt(r,e){return r*stt+e}var Fw=B,htt=ct,TC=-1,Pi=function(){function r(e){var t=e.mappingMethod,n=e.type,i=this.option=ht(e);this.type=n,this.mappingMethod=t,this._normalizeData=vtt[t];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(cL(i),dtt(i)):t==="category"?i.categories?ptt(i):cL(i,!0):(Ga(t!=="linear"||i.dataExtent),cL(i))}return r.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},r.prototype.getNormalizer=function(){return Xe(this._normalizeData,this)},r.listVisualTypes=function(){return Gt(r.visualHandlers)},r.isValidType=function(e){return r.visualHandlers.hasOwnProperty(e)},r.eachVisual=function(e,t,n){ct(e)?B(e,t,n):t.call(n,e)},r.mapVisual=function(e,t,n){var i,a=ke(e)?[]:ct(e)?{}:(i=!0,null);return r.eachVisual(e,function(s,o){var l=t.call(n,s,o);i?a=l:a[o]=l}),a},r.retrieveVisuals=function(e){var t={},n;return e&&Fw(r.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],n=!0)}),n?t:null},r.prepareVisualTypes=function(e){if(ke(e))e=e.slice();else if(htt(e)){var t=[];Fw(e,function(n,i){t.push(i)}),e=t}else return[];return e.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},r.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},r.findPieceIndex=function(e,t,n){for(var i,a=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||$e(l)&&l===e+"")return s;n&&h(l,s)}}for(var s=0,o=t.length;s<o;s++){var u=t[s],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(k2(f[1],e,c[1]))return s}else if(c[1]===1/0){if(k2(f[0],c[0],e))return s}else if(k2(f[0],c[0],e)&&k2(f[1],e,c[1]))return s;n&&h(c[0],s),n&&h(c[1],s)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(p,v){var m=Math.abs(p-e);m<a&&(a=m,i=v)}},r.visualHandlers={color:{applyVisual:b_("color"),getColorMapper:function(){var e=this.option;return Xe(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),Z_.call(this,t)}:function(t,n,i){var a=!!i;return!n&&(t=this._normalizeData(t)),i=Cx(t,e.parsedVisual,i),a?i:zl(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return zl(Cx(e,this.option.parsedVisual),"rgba")},category:Z_,piecewise:function(e,t){var n=Z4.call(this,t);return n==null&&(n=zl(Cx(e,this.option.parsedVisual),"rgba")),n},fixed:Fp}},colorHue:M2(function(e,t){return xm(e,t)}),colorSaturation:M2(function(e,t){return xm(e,null,t)}),colorLightness:M2(function(e,t){return xm(e,null,null,t)}),colorAlpha:M2(function(e,t){return yw(e,t)}),decal:{applyVisual:b_("decal"),_normalizedToVisual:{linear:null,category:Z_,piecewise:null,fixed:null}},opacity:{applyVisual:b_("opacity"),_normalizedToVisual:K4([0,1])},liftZ:{applyVisual:b_("liftZ"),_normalizedToVisual:{linear:Fp,category:Fp,piecewise:Fp,fixed:Fp}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("symbol",i)},_normalizedToVisual:{linear:XX,category:Z_,piecewise:function(e,t){var n=Z4.call(this,t);return n==null&&(n=XX.call(this,e)),n},fixed:Fp}},symbolSize:{applyVisual:b_("symbolSize"),_normalizedToVisual:K4([0,1])}},r}();function dtt(r){var e=r.pieceList;r.hasSpecialVisual=!1,B(e,function(t,n){t.originIndex=n,t.visual!=null&&(r.hasSpecialVisual=!0)})}function ptt(r){var e=r.categories,t=r.categoryMap={},n=r.visual;if(Fw(e,function(s,o){t[s]=o}),!ke(n)){var i=[];ct(n)?Fw(n,function(s,o){var l=t[o];i[l??TC]=s}):i[TC]=n,n=Zfe(r,i)}for(var a=e.length-1;a>=0;a--)n[a]==null&&(delete t[e[a]],e.pop())}function cL(r,e){var t=r.visual,n=[];ct(t)?Fw(t,function(a){n.push(a)}):t!=null&&n.push(t);var i={color:1,symbol:1};!e&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),Zfe(r,n)}function M2(r){return{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("color",r(t("color"),i))},_normalizedToVisual:K4([0,1])}}function XX(r){var e=this.option.visual;return e[Math.round(cr(r,[0,1],[0,e.length-1],!0))]||{}}function b_(r){return function(e,t,n){n(r,this.mapValueToVisual(e))}}function Z_(r){var e=this.option.visual;return e[this.option.loop&&r!==TC?r%e.length:r]}function Fp(){return this.option.visual[0]}function K4(r){return{linear:function(e){return cr(e,r,this.option.visual,!0)},category:Z_,piecewise:function(e,t){var n=Z4.call(this,t);return n==null&&(n=cr(e,r,this.option.visual,!0)),n},fixed:Fp}}function Z4(r){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var n=Pi.findPieceIndex(r,t),i=t[n];if(i&&i.visual)return i.visual[this.type]}}function Zfe(r,e){return r.visual=e,r.type==="color"&&(r.parsedVisual=Pe(e,function(t){var n=ps(t);return n||[0,0,0,1]})),e}var vtt={linear:function(r){return cr(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var e=this.option.pieceList,t=Pi.findPieceIndex(r,e,!0);if(t!=null)return cr(t,[0,e.length-1],[0,1],!0)},category:function(r){var e=this.option.categories?this.option.categoryMap[r]:r;return e??TC},fixed:An};function k2(r,e,t){return r?e<=t:e<t}var gtt="itemStyle",Qfe=Qt();const mtt={seriesType:"treemap",reset:function(r){var e=r.getData().tree,t=e.root;t.isRemoved()||Jfe(t,{},r.getViewRoot().getAncestors(),r)}};function Jfe(r,e,t,n){var i=r.getModel(),a=r.getLayout(),s=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(gtt),l=ytt(o,e,n),u=s.ensureUniqueItemVisual(r.dataIndex,"style"),c=o.get("borderColor"),f=o.get("borderColorSaturation"),h;f!=null&&(h=KX(l),c=_tt(f,h)),u.stroke=c;var p=r.viewChildren;if(!p||!p.length)h=KX(l),u.fill=h;else{var v=xtt(r,i,a,o,l,p);B(p,function(m,y){if(m.depth>=t.length||m===t[m.depth]){var x=wtt(i,l,m,y,v,n);Jfe(m,x,t,n)}})}}}function ytt(r,e,t){var n=De({},e),i=t.designatedVisualItemStyle;return B(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var s=r.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function KX(r){var e=fL(r,"color");if(e){var t=fL(r,"colorAlpha"),n=fL(r,"colorSaturation");return n&&(e=xm(e,null,null,n)),t&&(e=yw(e,t)),e}}function _tt(r,e){return e!=null?xm(e,null,null,r):null}function fL(r,e){var t=r[e];if(t!=null&&t!=="none")return t}function xtt(r,e,t,n,i,a){if(!(!a||!a.length)){var s=hL(e,"color")||i.color!=null&&i.color!=="none"&&(hL(e,"colorAlpha")||hL(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:s.name,dataExtent:u,visual:s.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new Pi(f);return Qfe(h).drColorMappingBy=c,h}}}function hL(r,e){var t=r.get(e);return ke(t)&&t.length?{name:e,range:t}:null}function wtt(r,e,t,n,i,a){var s=De({},e);if(i){var o=i.type,l=o==="color"&&Qfe(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(r.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var Bw=Math.max,AC=Math.min,ZX=Ii,VV=B,ehe=["itemStyle","borderWidth"],btt=["itemStyle","gapWidth"],Stt=["upperLabel","show"],Ttt=["upperLabel","height"];const Att={seriesType:"treemap",reset:function(r,e,t,n){var i=t.getWidth(),a=t.getHeight(),s=r.option,o=ti(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=s.size||[],u=je(ZX(o.width,l[0]),i),c=je(ZX(o.height,l[1]),a),f=n&&n.type,h=["treemapZoomToNode","treemapRootToNode"],p=Nw(n,h,r),v=f==="treemapRender"||f==="treemapMove"?n.rootRect:null,m=r.getViewRoot(),y=Yfe(m);if(f!=="treemapMove"){var x=f==="treemapZoomToNode"?Mtt(r,p,m,u,c):v?[v.width,v.height]:[u,c],w=s.sort;w&&w!=="asc"&&w!=="desc"&&(w="desc");var b={squareRatio:s.squareRatio,sort:w,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var T={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};m.setLayout(T),the(m,b,!1,0),T=m.getLayout(),VV(y,function(D,E){var R=(y[E+1]||m).getValue();D.setLayout(De({dataExtent:[R,R],borderWidth:0,upperHeight:0},T))})}var C=r.getData().tree.root;C.setLayout(ktt(o,v,p),!0),r.setLayoutInfo(o),rhe(C,new Ct(-o.x,-o.y,i,a),y,m,0)}};function the(r,e,t,n){var i,a;if(!r.isRemoved()){var s=r.getLayout();i=s.width,a=s.height;var o=r.getModel(),l=o.get(ehe),u=o.get(btt)/2,c=nhe(o),f=Math.max(l,c),h=l-u,p=f-u;r.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=Bw(i-2*h,0),a=Bw(a-h-p,0);var v=i*a,m=Ett(r,o,v,e,t,n);if(m.length){var y={x:h,y:p,width:i,height:a},x=AC(i,a),w=1/0,b=[];b.area=0;for(var T=0,C=m.length;T<C;){var D=m[T];b.push(D),b.area+=D.getLayout().area;var E=Rtt(b,x,e.squareRatio);E<=w?(T++,w=E):(b.area-=b.pop().getLayout().area,QX(b,x,y,u,!1),x=AC(y.width,y.height),b.length=b.area=0,w=1/0)}if(b.length&&QX(b,x,y,u,!0),!t){var R=o.get("childrenVisibleMin");R!=null&&v<R&&(t=!0)}for(var T=0,C=m.length;T<C;T++)the(m[T],e,t,n+1)}}}function Ett(r,e,t,n,i,a){var s=r.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return r.viewChildren=[];s=ar(s,function(p){return!p.isRemoved()}),Dtt(s,o);var u=Itt(e,s,o);if(u.sum===0)return r.viewChildren=[];if(u.sum=Ctt(e,t,u.sum,o,s),u.sum===0)return r.viewChildren=[];for(var c=0,f=s.length;c<f;c++){var h=s[c].getValue()/u.sum*t;s[c].setLayout({area:h})}return l&&(s.length&&r.setLayout({isLeafRoot:!0},!0),s.length=0),r.viewChildren=s,r.setLayout({dataExtent:u.dataExtent},!0),s}function Ctt(r,e,t,n,i){if(!n)return t;for(var a=r.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[n==="asc"?s-l-1:l].getValue();u/t*e<a&&(o=l,t-=u)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),t}function Dtt(r,e){return e&&r.sort(function(t,n){var i=e==="asc"?t.getValue()-n.getValue():n.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}),r}function Itt(r,e,t){for(var n=0,i=0,a=e.length;i<a;i++)n+=e[i].getValue();var s=r.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],VV(e,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:n,dataExtent:o}}function Rtt(r,e,t){for(var n=0,i=1/0,a=0,s=void 0,o=r.length;a<o;a++)s=r[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=r.area*r.area,u=e*e*t;return l?Bw(u*n/l,l/(u*i)):1/0}function QX(r,e,t,n,i){var a=e===t.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=t[o[a]],c=e?r.area/e:0;(i||c>t[l[s]])&&(c=t[l[s]]);for(var f=0,h=r.length;f<h;f++){var p=r[f],v={},m=c?p.getLayout().area/c:0,y=v[l[s]]=Bw(c-2*n,0),x=t[o[a]]+t[l[a]]-u,w=f===h-1||x<m?x:m,b=v[l[a]]=Bw(w-2*n,0);v[o[s]]=t[o[s]]+AC(n,y/2),v[o[a]]=u+AC(n,b/2),u+=w,p.setLayout(v,!0)}t[o[s]]+=c,t[l[s]]-=c}function Mtt(r,e,t,n,i){var a=(e||{}).node,s=[n,i];if(!a||a===t)return s;for(var o,l=n*i,u=l*r.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,f=o.children,h=0,p=f.length;h<p;h++)c+=f[h].getValue();var v=a.getValue();if(v===0)return s;u*=c/v;var m=o.getModel(),y=m.get(ehe),x=Math.max(y,nhe(m));u+=4*y*y+(3*y+x)*Math.pow(u,.5),u>i4&&(u=i4),a=o}u<l&&(u=l);var w=Math.pow(u/l,.5);return[n*w,i*w]}function ktt(r,e,t){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!t)return n;var i=t.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:r.width/2-s[0],y:r.height/2-s[1]}}function rhe(r,e,t,n,i){var a=r.getLayout(),s=t[i],o=s&&s===r;if(!(s&&!o||i===t.length&&r!==n)){r.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new Ct(e.x-a.x,e.y-a.y,e.width,e.height);VV(r.viewChildren||[],function(u){rhe(u,l,t,n,i+1)})}}function nhe(r){return r.get(Stt)?r.get(Ttt):0}function Ptt(r){r.registerSeriesModel(Qet),r.registerChartView(utt),r.registerVisual(mtt),r.registerLayout(Att),Zet(r)}function Ltt(r){var e=r.findComponents({mainType:"legend"});!e||!e.length||r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){tr(u)&&(u=s[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function Ott(r){var e={};r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(o,e)),n.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&n.setItemVisual(s,c[f],h)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){$e(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(s,"style");De(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)i.setItemVisual(s,f[h],n.getItemVisual(l,f[h]))}})})}function P2(r){return r instanceof Array||(r=[r,r]),r}function Ntt(r){r.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),i=P2(e.get("edgeSymbol")),a=P2(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=t.getEdgeByIndex(s),u=P2(o.getShallow("symbol",!0)),c=P2(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(s,"style");switch(De(h,f),h.stroke){case"source":{var p=l.node1.getVisual("style");h.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");h.stroke=p&&p.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var Q4="-->",yI=function(r){return r.get("autoCurveness")||null},ihe=function(r,e){var t=yI(r),n=20,i=[];if(tr(t))n=t;else if(ke(t)){r.__curvenessList=t;return}e>n&&(n=e);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));r.__curvenessList=i},Vw=function(r,e,t){var n=[r.id,r.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,n,i].join(Q4)},ahe=function(r){var e=r.split(Q4);return[e[0],e[2],e[1]].join(Q4)},Ftt=function(r,e){var t=Vw(r.node1,r.node2,e);return e.__edgeMap[t]},Btt=function(r,e){var t=J4(Vw(r.node1,r.node2,e),e),n=J4(Vw(r.node2,r.node1,e),e);return t+n},J4=function(r,e){var t=e.__edgeMap;return t[r]?t[r].length:0};function Vtt(r){yI(r)&&(r.__curvenessList=[],r.__edgeMap={},ihe(r))}function ztt(r,e,t,n){if(yI(t)){var i=Vw(r,e,t),a=t.__edgeMap,s=a[ahe(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function zV(r,e,t,n){var i=yI(e),a=ke(i);if(!i)return null;var s=Ftt(r,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var u=Btt(r,e);ihe(e,u),r.lineStyle=r.lineStyle||{};var c=Vw(r.node1,r.node2,e),f=e.__curvenessList,h=a||u%2?0:1;if(s.isForward)return f[h+o];var p=ahe(c),v=J4(p,e),m=f[o+v+h];return n?a?i&&i[0]===0?(v+h)%2?m:-m:((v%2?0:1)+h)%2?m:-m:(v+h)%2?m:-m:f[o+v+h]}function she(r){var e=r.coordinateSystem;if(!(e&&e.type!=="view")){var t=r.getGraph();t.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),UV(t,r)}}function UV(r,e){r.eachEdge(function(t,n){var i=Bl(t.getModel().get(["lineStyle","curveness"]),-zV(t,e,n,!0),0),a=Xu(t.node1.getLayout()),s=Xu(t.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),t.setLayout(o)})}function Utt(r,e){r.eachSeriesByType("graph",function(t){var n=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),s=[];B(i.dimensions,function(h){s=s.concat(a.mapDimensionsAll(h))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var f=a.get(s[c],o);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}UV(a.graph,t)}else(!n||n==="none")&&she(t)})}function Q_(r){var e=r.coordinateSystem;if(e.type!=="view")return 1;var t=r.option.nodeScaleRatio,n=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/n}function J_(r){var e=r.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var JX=Math.PI,dL=[];function HV(r,e,t,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=r.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=s.count();if(s.setLayout({cx:l,cy:u}),!!f){if(t){var h=i.pointToData(n),p=h[0],v=h[1],m=[p-l,v-u];lg(m,m),Tx(m,m,c),t.setLayout([l+m[0],u+m[1]],!0);var y=r.get(["circular","rotateLabel"]);ohe(t,y,l,u)}Htt[e](r,o,s,c,l,u,f),o.eachEdge(function(x,w){var b=Bl(x.getModel().get(["lineStyle","curveness"]),zV(x,r,w),0),T=Xu(x.node1.getLayout()),C=Xu(x.node2.getLayout()),D,E=(T[0]+C[0])/2,R=(T[1]+C[1])/2;+b&&(b*=3,D=[l*b+E*(1-b),u*b+R*(1-b)]),x.setLayout([T,C,D])})}}}var Htt={value:function(r,e,t,n,i,a,s){var o=0,l=t.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;o+=h,c.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=h})},symbolSize:function(r,e,t,n,i,a,s){var o=0;dL.length=s;var l=Q_(r);e.eachNode(function(f){var h=J_(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var p=Math.asin(h/2/n);isNaN(p)&&(p=JX/2),dL[f.dataIndex]=p,o+=p*2});var u=(2*JX-o)/s/2,c=0;e.eachNode(function(f){var h=u+dL[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=h})}};function ohe(r,e,t,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(e){var l=r.getLayout(),u=Math.atan2(l[1]-n,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";o.setTextConfig({rotation:-u,position:f,origin:"center"});var h=o.ensureState("emphasis");De(h.textConfig||(h.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function Gtt(r){r.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&HV(e,"symbolSize")})}var w0=HE;function jtt(r,e,t){for(var n=r,i=e,a=t.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=t.gravity==null?.1:t.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=wd(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=Xu(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,p=h,v,m;return{warmUp:function(){p=h*.8},setFixed:function(y){n[y].fixed=!0},setUnfixed:function(y){n[y].fixed=!1},beforeStep:function(y){v=y},afterStep:function(y){m=y},step:function(y){v&&v(n,i);for(var x=[],w=n.length,b=0;b<i.length;b++){var T=i[b];if(!T.ignoreForceLayout){var C=T.n1,D=T.n2;Dh(x,D.p,C.p);var E=vw(x)-T.d,R=D.w/(C.w+D.w);isNaN(R)&&(R=0),lg(x,x),!C.fixed&&w0(C.p,C.p,x,R*E*p),!D.fixed&&w0(D.p,D.p,x,-(1-R)*E*p)}}for(var b=0;b<w;b++){var M=n[b];M.fixed||(Dh(x,l,M.p),w0(M.p,M.p,x,u*p))}for(var b=0;b<w;b++)for(var C=n[b],k=b+1;k<w;k++){var D=n[k];Dh(x,D.p,C.p);var E=vw(x);E===0&&(poe(x,Math.random()-.5,Math.random()-.5),E=1);var L=(C.rep+D.rep)/E/E;!C.fixed&&w0(C.pp,C.pp,x,L),!D.fixed&&w0(D.pp,D.pp,x,-L)}for(var O=[],b=0;b<w;b++){var M=n[b];M.fixed||(Dh(O,M.p,M.pp),w0(M.p,M.p,O,p),Ca(M.pp,M.p))}p=p*.992;var N=p<.01;m&&m(n,i,N),y&&y(N)}}}function Wtt(r){r.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},i=e.getGraph(),a=i.data,s=i.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(b){var T=a.getId(b);a.setItemLayout(b,n[T]||[NaN,NaN])}):!l||l==="none"?she(e):l==="circular"&&HV(e,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),f=o.get("repulsion"),h=o.get("edgeLength"),p=ke(f)?f:[f,f],v=ke(h)?h:[h,h];v=[v[1],v[0]];var m=a.mapArray("value",function(b,T){var C=a.getItemLayout(T),D=cr(b,u,p);return isNaN(D)&&(D=(p[0]+p[1])/2),{w:D,rep:D,fixed:a.getItemModel(T).get("fixed"),p:!C||isNaN(C[0])||isNaN(C[1])?null:C}}),y=s.mapArray("value",function(b,T){var C=i.getEdgeByIndex(T),D=cr(b,c,v);isNaN(D)&&(D=(v[0]+v[1])/2);var E=C.getModel(),R=Bl(C.getModel().get(["lineStyle","curveness"]),-zV(C,e,T,!0),0);return{n1:m[C.node1.dataIndex],n2:m[C.node2.dataIndex],d:D,curveness:R,ignoreForceLayout:E.get("ignoreForceLayout")}}),x=t.getBoundingRect(),w=jtt(m,y,{rect:x,gravity:o.get("gravity"),friction:o.get("friction")});w.beforeStep(function(b,T){for(var C=0,D=b.length;C<D;C++)b[C].fixed&&Ca(b[C].p,i.getNodeByIndex(C).getLayout())}),w.afterStep(function(b,T,C){for(var D=0,E=b.length;D<E;D++)b[D].fixed||i.getNodeByIndex(D).setLayout(b[D].p),n[a.getId(D)]=b[D].p;for(var D=0,E=T.length;D<E;D++){var R=T[D],M=i.getEdgeByIndex(D),k=R.n1.p,L=R.n2.p,O=M.getLayout();O=O?O.slice():[],O[0]=O[0]||[],O[1]=O[1]||[],Ca(O[0],k),Ca(O[1],L),+R.curveness&&(O[2]=[(k[0]+L[0])/2-(k[1]-L[1])*R.curveness,(k[1]+L[1])/2-(L[0]-k[0])*R.curveness]),M.setLayout(O)}}),e.forceLayout=w,e.preservedPoints=n,w.step()}else e.forceLayout=null})}function $tt(r,e,t){var n=De(r.getBoxLayoutParams(),{aspect:t});return ti(n,{width:e.getWidth(),height:e.getHeight()})}function qtt(r,e){var t=[];return r.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),s=a.mapArray(function(y){var x=a.getItemModel(y);return[+x.get("x"),+x.get("y")]}),o=[],l=[];$D(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=$tt(n,e,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-o[0],h=l[1]-o[1],p=c.width,v=c.height,m=n.coordinateSystem=new Wb;m.zoomLimit=n.get("scaleLimit"),m.setBoundingRect(o[0],o[1],f,h),m.setViewRect(c.x,c.y,p,v),m.setCenter(n.get("center"),e),m.setZoom(n.get("zoom")),t.push(m)}}),t}var eK=mi.prototype,pL=Ay.prototype,lhe=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(lhe);function vL(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Ytt=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new lhe},e.prototype.buildPath=function(t,n){vL(n)?eK.buildPath.call(this,t,n):pL.buildPath.call(this,t,n)},e.prototype.pointAt=function(t){return vL(this.shape)?eK.pointAt.call(this,t):pL.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var n=this.shape,i=vL(n)?[n.x2-n.x1,n.y2-n.y1]:pL.tangentAt.call(this,t);return lg(i,i)},e}(Ht),gL=["fromSymbol","toSymbol"];function tK(r){return"_"+r+"Type"}function rK(r,e,t){var n=e.getItemVisual(t,r);if(!n||n==="none")return n;var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=Ny(i),u=dg(s||0,l);return n+l+u+(a||"")+(o||"")}function nK(r,e,t){var n=e.getItemVisual(t,r);if(!(!n||n==="none")){var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=Ny(i),u=dg(s||0,l),c=Bn(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=r,c}}function Xtt(r){var e=new Ytt({name:"line",subPixelOptimize:!0});return e3(e.shape,r),e}function e3(r,e){r.x1=e[0][0],r.y1=e[0][1],r.x2=e[1][0],r.y2=e[1][1],r.percent=1;var t=e[2];t?(r.cpx1=t[0],r.cpy1=t[1]):(r.cpx1=NaN,r.cpy1=NaN)}var GV=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createLine(t,n,i),a}return e.prototype._createLine=function(t,n,i){var a=t.hostModel,s=t.getItemLayout(n),o=Xtt(s);o.shape.percent=0,Qr(o,{shape:{percent:1}},a,n),this.add(o),B(gL,function(l){var u=nK(l,t,n);this.add(u),this[tK(l)]=rK(l,t,n)},this),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(n),l={shape:{}};e3(l.shape,o),rr(s,l,a,n),B(gL,function(u){var c=rK(u,t,n),f=tK(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=nK(u,t,n);this.add(h)}this[f]=c},this),this._updateCommonStl(t,n,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,h=i&&i.focus,p=i&&i.blurScope;if(!i||t.hasItemOption){var v=t.getItemModel(n),m=v.getModel("emphasis");o=m.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),f=m.get("disabled"),h=m.get("focus"),p=m.get("blurScope"),c=Li(v)}var y=t.getItemVisual(n,"style"),x=y.stroke;s.useStyle(y),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,B(gL,function(D){var E=this.childOfName(D);if(E){E.setColor(x),E.style.opacity=y.opacity;for(var R=0;R<_s.length;R++){var M=_s[R],k=s.getState(M);if(k){var L=k.style||{},O=E.ensureState(M),N=O.style||(O.style={});L.stroke!=null&&(N[E.__isEmptyBrush?"stroke":"fill"]=L.stroke),L.opacity!=null&&(N.opacity=L.opacity)}}E.markRedraw()}},this);var w=a.getRawValue(n);ma(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(D,E){return a.getFormattedLabel(D,E,t.dataType)}},inheritColor:x||"#000",defaultOpacity:y.opacity,defaultText:(w==null?t.getName(n):isFinite(w)?wn(w):w)+""});var b=this.getTextContent();if(b){var T=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=T.get("position")||"middle";var C=T.get("distance");ke(C)||(C=[C,C]),b.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),dn(this,h,p,f)},e.prototype.highlight=function(){gf(this)},e.prototype.downplay=function(){mf(this)},e.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},e.prototype.setLinePoints=function(t){var n=this.childOfName("line");e3(n.shape,t),n.dirty()},e.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=Dh([],f,c);lg(h,h);function p(k,L){var O=k.__specifiedRotation;if(O==null){var N=l.tangentAt(L);k.attr("rotation",(L===1?-1:1)*Math.PI/2-Math.atan2(N[1],N[0]))}else k.attr("rotation",O)}if(n&&(n.setPosition(c),p(n,0),n.scaleX=n.scaleY=s*u,n.markRedraw()),i&&(i.setPosition(f),p(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,m=void 0,y=a.__labelDistance,x=y[0]*s,w=y[1]*s,b=u/2,T=l.tangentAt(b),C=[T[1],-T[0]],D=l.pointAt(b);C[1]>0&&(C[0]=-C[0],C[1]=-C[1]);var E=T[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var R=-Math.atan2(T[1],T[0]);f[0]<c[0]&&(R=Math.PI+R),a.rotation=R}var M=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-w,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=w,m="top";break;default:M=0,m="middle"}switch(a.__position){case"end":a.x=h[0]*x+f[0],a.y=h[1]*w+f[1],v=h[0]>.8?"left":h[0]<-.8?"right":"center",m=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*x+c[0],a.y=-h[1]*w+c[1],v=h[0]>.8?"right":h[0]<-.8?"left":"center",m=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=x*E+c[0],a.y=c[1]+M,v=T[0]<0?"right":"left",a.originX=-x*E,a.originY=-M;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=D[0],a.y=D[1]+M,v="center",a.originY=-M;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-x*E+f[0],a.y=f[1]+M,v=T[0]>=0?"right":"left",a.originX=x*E,a.originY=-M;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||v})}},e}(pt),jV=function(){function r(e){this.group=new pt,this._LineCtor=e||GV}return r.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=e,a||i.removeAll();var s=iK(e);e.diff(a).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(a,e,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},r.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=iK(e),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function n(o){!o.isGroup&&!Ktt(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(mL(a)){var s=new this._LineCtor(t,i,this._seriesScope);s.traverse(n),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(e){Sd(this._progressiveEls||this.group,e)},r.prototype._doAdd=function(e,t,n){var i=e.getItemLayout(t);if(mL(i)){var a=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,a),this.group.add(a)}},r.prototype._doUpdate=function(e,t,n,i,a){var s=e.getItemGraphicEl(n);if(!mL(t.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(t,i,a):s=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,s),this.group.add(s)},r}();function Ktt(r){return r.animators&&r.animators.length>0}function iK(r){var e=r.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Li(e)}}function aK(r){return isNaN(r[0])||isNaN(r[1])}function mL(r){return r&&!aK(r[0])&&!aK(r[1])}var yL=[],_L=[],xL=[],b0=Wi,wL=Uh,sK=Math.abs;function oK(r,e,t){for(var n=r[0],i=r[1],a=r[2],s=1/0,o,l=t*t,u=.1,c=.1;c<=.9;c+=.1){yL[0]=b0(n[0],i[0],a[0],c),yL[1]=b0(n[1],i[1],a[1],c);var f=sK(wL(yL,e)-l);f<s&&(s=f,o=c)}for(var h=0;h<32;h++){var p=o+u;_L[0]=b0(n[0],i[0],a[0],o),_L[1]=b0(n[1],i[1],a[1],o),xL[0]=b0(n[0],i[0],a[0],p),xL[1]=b0(n[1],i[1],a[1],p);var f=wL(_L,e)-l;if(sK(f)<.01)break;var v=wL(xL,e)-l;u/=2,f<0?v>=0?o=o+u:o=o-u:v>=0?o=o-u:o=o+u}return o}function bL(r,e){var t=[],n=gw,i=[[],[],[]],a=[[],[]],s=[];e/=2,r.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");u.__original||(u.__original=[Xu(u[0]),Xu(u[1])],u[2]&&u.__original.push(Xu(u[2])));var h=u.__original;if(u[2]!=null){if(Ca(i[0],h[0]),Ca(i[1],h[2]),Ca(i[2],h[1]),c&&c!=="none"){var p=J_(o.node1),v=oK(i,h[0],p*e);n(i[0][0],i[1][0],i[2][0],v,t),i[0][0]=t[3],i[1][0]=t[4],n(i[0][1],i[1][1],i[2][1],v,t),i[0][1]=t[3],i[1][1]=t[4]}if(f&&f!=="none"){var p=J_(o.node2),v=oK(i,h[1],p*e);n(i[0][0],i[1][0],i[2][0],v,t),i[1][0]=t[1],i[2][0]=t[2],n(i[0][1],i[1][1],i[2][1],v,t),i[1][1]=t[1],i[2][1]=t[2]}Ca(u[0],i[0]),Ca(u[1],i[2]),Ca(u[2],i[1])}else{if(Ca(a[0],h[0]),Ca(a[1],h[1]),Dh(s,a[1],a[0]),lg(s,s),c&&c!=="none"){var p=J_(o.node1);HE(a[0],a[0],s,p*e)}if(f&&f!=="none"){var p=J_(o.node2);HE(a[1],a[1],s,-p*e)}Ca(u[0],a[0]),Ca(u[1],a[1])}})}function lK(r){return r.type==="view"}var Ztt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){var i=new Vb,a=new jV,s=this.group;this._controller=new jb(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(t,n,i){var a=this,s=t.coordinateSystem;this._model=t;var o=this._symbolDraw,l=this._lineDraw,u=this.group;if(lK(s)){var c={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?u.attr(c):rr(u,c,t)}bL(t.getGraph(),Q_(t));var f=t.getData();o.updateData(f);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,n,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,v=t.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,v);var m=t.get("layout");f.graph.eachNode(function(b){var T=b.dataIndex,C=b.getGraphicEl(),D=b.getModel();if(C){C.off("drag").off("dragend");var E=D.get("draggable");E&&C.on("drag",function(M){switch(m){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,v),p.setFixed(T),f.setItemLayout(T,[C.x,C.y]);break;case"circular":f.setItemLayout(T,[C.x,C.y]),b.setLayout({fixed:!0},!0),HV(t,"symbolSize",b,[M.offsetX,M.offsetY]),a.updateLayout(t);break;case"none":default:f.setItemLayout(T,[C.x,C.y]),UV(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){p&&p.setUnfixed(T)}),C.setDraggable(E,!!D.get("cursor"));var R=D.get(["emphasis","focus"]);R==="adjacency"&&(gt(C).focus=b.getAdjacentDataIndices())}}),f.graph.eachEdge(function(b){var T=b.getGraphicEl(),C=b.getModel().get(["emphasis","focus"]);T&&C==="adjacency"&&(gt(T).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var y=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),x=f.getLayout("cx"),w=f.getLayout("cy");f.graph.eachNode(function(b){ohe(b,y,x,w)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,n){var i=this;(function a(){t.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(t,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;if(s.setPointerChecker(function(u,c,f){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,f)&&!vI(u,i,t)}),!lK(t.coordinateSystem)){s.disable();return}s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){kV(o,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){PV(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),bL(t.getGraph(),Q_(t)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),i=Q_(t);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){bL(t.getGraph(),Q_(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Dr);function S0(r){return"_EC_"+r}var Qtt=function(){function r(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(!n[S0(e)]){var i=new Bp(e,t);return i.hostGraph=this,this.nodes.push(i),n[S0(e)]=i,i}},r.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},r.prototype.getNodeById=function(e){return this._nodesMap[S0(e)]},r.prototype.addEdge=function(e,t,n){var i=this._nodesMap,a=this._edgesMap;if(tr(e)&&(e=this.nodes[e]),tr(t)&&(t=this.nodes[t]),e instanceof Bp||(e=i[S0(e)]),t instanceof Bp||(t=i[S0(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new uhe(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),a[s]=o,o}},r.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},r.prototype.getEdge=function(e,t){e instanceof Bp&&(e=e.id),t instanceof Bp&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},r.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&e.call(t,n[a],a)},r.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&e.call(t,n[a],a)},r.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof Bp||(t=this._nodesMap[S0(t)]),!!t){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(i,t,null))for(var o=[t];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(i,f,l))return;o.push(f),f.__visited=!0}}}},r.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)n[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(o){var l=i[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)i[t.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var e=new r(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},r}(),Bp=function(){function r(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},r.prototype.getTrajectoryDataIndices=function(){for(var e=tt(),t=tt(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var a=[i.node1],s=[i.node2],o=0;o<a.length;){var l=a[o];o++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(o=0;o<s.length;){var c=s[o];o++,t.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),s.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},r}(),uhe=function(){function r(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=n??-1}return r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var e=tt(),t=tt();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,t.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)e.set(s.inEdges[o].dataIndex,!0),n.push(s.inEdges[o].node1)}for(a=0;a<i.length;){var l=i[a];a++,t.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)e.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:e.keys(),node:t.keys()}},r}();function che(r,e){return{getValue:function(t){var n=this[r][e];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[r][e].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[r][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[r][e].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[r][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][e].getRawIndex(this.dataIndex)}}}Cn(Bp,che("hostGraph","data"));Cn(uhe,che("hostGraph","edgeData"));function fhe(r,e,t,n,i){for(var a=new Qtt(n),s=0;s<r.length;s++)a.addNode(Ii(r[s].id,r[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<e.length;s++){var c=e[s],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),o.push(Ii(gi(c.id,null),f+" > "+h)),u++)}var p=t.get("coordinateSystem"),v;if(p==="cartesian2d"||p==="polar")v=cc(r,t);else{var m=Py.get(p),y=m?m.dimensions||[]:[];Dt(y,"value")<0&&y.concat(["value"]);var x=Fy(r,{coordDimensions:y,encodeDefine:t.getEncode()}).dimensions;v=new Va(x,t),v.initData(r)}var w=new Va(["value"],t);return w.initData(l,o),i&&i(v,w),$fe({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Jtt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Gb(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){r.prototype.mergeDefaultAndTheme.apply(this,arguments),Vv(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=this;if(a&&i){Vtt(this);var o=fhe(a,i,this,!0,l);return B(o.edges,function(u){ztt(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var m=s._categoriesModels,y=v.getShallow("category"),x=m[y];return x&&(x.parentModel=v.parentModel,v.parentModel=x),v});var f=sr.prototype.getModel;function h(v,m){var y=f.call(this,v,m);return y.resolveParentPath=p,y}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=p,v.getModel=h,v});function p(v){if(v&&(v[0]==="label"||v[1]==="label")){var m=v.slice();return v[0]==="label"?m[0]="edgeLabel":v[1]==="label"&&(m[1]="edgeLabel"),m}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(t,i),o=a.graph.getEdgeByIndex(t),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Oi("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var f=kue({series:this,dataIndex:t,multipleSeries:n});return f},e.prototype._updateCategoriesData=function(){var t=Pe(this.option.categories||[],function(i){return i.value!=null?i:De({value:0},i)}),n=new Va(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Lr),ert={type:"graphRoam",event:"graphRoam",update:"none"};function trt(r){r.registerChartView(Ztt),r.registerSeriesModel(Jtt),r.registerProcessor(Ltt),r.registerVisual(Ott),r.registerVisual(Ntt),r.registerLayout(Utt),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Gtt),r.registerLayout(Wtt),r.registerCoordinateSystem("graphView",{dimensions:Wb.dimensions,create:qtt}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},An),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},An),r.registerAction(ert,function(e,t,n){t.eachComponent({mainType:"series",query:e},function(i){var a=i.coordinateSystem,s=OV(a,e,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var rrt=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),nrt=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new rrt},e.prototype.buildPath=function(t,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,u=n.x-i(l)*o*(o>=s/3?1:2),c=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(n.x+i(l)*o,n.y+a(l)*o),t.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),t.lineTo(n.x-i(l)*o,n.y-a(l)*o),t.lineTo(u,c)},e}(Ht);function irt(r,e){var t=r.get("center"),n=e.getWidth(),i=e.getHeight(),a=Math.min(n,i),s=je(t[0],e.getWidth()),o=je(t[1],e.getHeight()),l=je(r.get("radius"),a/2);return{cx:s,cy:o,r:l}}function L2(r,e){var t=r==null?"":r+"";return e&&($e(e)?t=e.replace("{value}",t):it(e)&&(t=e(r))),t}var art=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),s=irt(t,i);this._renderMain(t,n,i,a,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,n,i,a,s){var o=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),p=h?xC:ja,v=f.get("show"),m=f.getModel("lineStyle"),y=m.get("width"),x=[u,c];EB(x,!l),u=x[0],c=x[1];for(var w=c-u,b=u,T=[],C=0;v&&C<a.length;C++){var D=Math.min(Math.max(a[C][0],0),1);c=u+w*D;var E=new p({shape:{startAngle:b,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-y,r:s.r},silent:!0});E.setStyle({fill:a[C][1]}),E.setStyle(m.getLineStyle(["color","width"])),T.push(E),b=c}T.reverse(),B(T,function(M){return o.add(M)});var R=function(M){if(M<=0)return a[0][1];var k;for(k=0;k<a.length;k++)if(a[k][0]>=M&&(k===0?0:a[k-1][0])<M)return a[k][1];return a[k-1][1]};this._renderTicks(t,n,i,R,s,u,c,l,y),this._renderTitleAndDetail(t,n,i,R,s),this._renderAnchor(t,s),this._renderPointer(t,n,i,R,s,u,c,l,y)},e.prototype._renderTicks=function(t,n,i,a,s,o,l,u,c){for(var f=this.group,h=s.cx,p=s.cy,v=s.r,m=+t.get("min"),y=+t.get("max"),x=t.getModel("splitLine"),w=t.getModel("axisTick"),b=t.getModel("axisLabel"),T=t.get("splitNumber"),C=w.get("splitNumber"),D=je(x.get("length"),v),E=je(w.get("length"),v),R=o,M=(l-o)/T,k=M/C,L=x.getModel("lineStyle").getLineStyle(),O=w.getModel("lineStyle").getLineStyle(),N=x.get("distance"),W,U,z=0;z<=T;z++){if(W=Math.cos(R),U=Math.sin(R),x.get("show")){var Y=N?N+c:c,re=new mi({shape:{x1:W*(v-Y)+h,y1:U*(v-Y)+p,x2:W*(v-D-Y)+h,y2:U*(v-D-Y)+p},style:L,silent:!0});L.stroke==="auto"&&re.setStyle({stroke:a(z/T)}),f.add(re)}if(b.get("show")){var Y=b.get("distance")+N,K=L2(wn(z/T*(y-m)+m),b.get("formatter")),q=a(z/T),Q=W*(v-D-Y)+h,j=U*(v-D-Y)+p,J=b.get("rotate"),te=0;J==="radial"?(te=-R+2*Math.PI,te>Math.PI/2&&(te+=Math.PI)):J==="tangential"?te=-R-Math.PI/2:tr(J)&&(te=J*Math.PI/180),te===0?f.add(new Yt({style:Ur(b,{text:K,x:Q,y:j,verticalAlign:U<-.8?"top":U>.8?"bottom":"middle",align:W<-.4?"left":W>.4?"right":"center"},{inheritColor:q}),silent:!0})):f.add(new Yt({style:Ur(b,{text:K,x:Q,y:j,verticalAlign:"middle",align:"center"},{inheritColor:q}),silent:!0,originX:Q,originY:j,rotation:te}))}if(w.get("show")&&z!==T){var Y=w.get("distance");Y=Y?Y+c:c;for(var se=0;se<=C;se++){W=Math.cos(R),U=Math.sin(R);var de=new mi({shape:{x1:W*(v-Y)+h,y1:U*(v-Y)+p,x2:W*(v-E-Y)+h,y2:U*(v-E-Y)+p},silent:!0,style:O});O.stroke==="auto"&&de.setStyle({stroke:a((z+se/C)/T)}),f.add(de),R+=k}R-=k}else R+=M}},e.prototype._renderPointer=function(t,n,i,a,s,o,l,u,c){var f=this.group,h=this._data,p=this._progressEls,v=[],m=t.get(["pointer","show"]),y=t.getModel("progress"),x=y.get("show"),w=t.getData(),b=w.mapDimension("value"),T=+t.get("min"),C=+t.get("max"),D=[T,C],E=[o,l];function R(k,L){var O=w.getItemModel(k),N=O.getModel("pointer"),W=je(N.get("width"),s.r),U=je(N.get("length"),s.r),z=t.get(["pointer","icon"]),Y=N.get("offsetCenter"),re=je(Y[0],s.r),K=je(Y[1],s.r),q=N.get("keepAspect"),Q;return z?Q=Bn(z,re-W/2,K-U,W,U,null,q):Q=new nrt({shape:{angle:-Math.PI/2,width:W,r:U,x:re,y:K}}),Q.rotation=-(L+Math.PI/2),Q.x=s.cx,Q.y=s.cy,Q}function M(k,L){var O=y.get("roundCap"),N=O?xC:ja,W=y.get("overlap"),U=W?y.get("width"):c/w.count(),z=W?s.r-U:s.r-(k+1)*U,Y=W?s.r:s.r-k*U,re=new N({shape:{startAngle:o,endAngle:L,cx:s.cx,cy:s.cy,clockwise:u,r0:z,r:Y}});return W&&(re.z2=cr(w.get(b,k),[T,C],[100,0],!0)),re}(x||m)&&(w.diff(h).add(function(k){var L=w.get(b,k);if(m){var O=R(k,o);Qr(O,{rotation:-((isNaN(+L)?E[0]:cr(L,D,E,!0))+Math.PI/2)},t),f.add(O),w.setItemGraphicEl(k,O)}if(x){var N=M(k,o),W=y.get("clip");Qr(N,{shape:{endAngle:cr(L,D,E,W)}},t),f.add(N),c4(t.seriesIndex,w.dataType,k,N),v[k]=N}}).update(function(k,L){var O=w.get(b,k);if(m){var N=h.getItemGraphicEl(L),W=N?N.rotation:o,U=R(k,W);U.rotation=W,rr(U,{rotation:-((isNaN(+O)?E[0]:cr(O,D,E,!0))+Math.PI/2)},t),f.add(U),w.setItemGraphicEl(k,U)}if(x){var z=p[L],Y=z?z.shape.endAngle:o,re=M(k,Y),K=y.get("clip");rr(re,{shape:{endAngle:cr(O,D,E,K)}},t),f.add(re),c4(t.seriesIndex,w.dataType,k,re),v[k]=re}}).execute(),w.each(function(k){var L=w.getItemModel(k),O=L.getModel("emphasis"),N=O.get("focus"),W=O.get("blurScope"),U=O.get("disabled");if(m){var z=w.getItemGraphicEl(k),Y=w.getItemVisual(k,"style"),re=Y.fill;if(z instanceof Ni){var K=z.style;z.useStyle(De({image:K.image,x:K.x,y:K.y,width:K.width,height:K.height},Y))}else z.useStyle(Y),z.type!=="pointer"&&z.setColor(re);z.setStyle(L.getModel(["pointer","itemStyle"]).getItemStyle()),z.style.fill==="auto"&&z.setStyle("fill",a(cr(w.get(b,k),D,[0,1],!0))),z.z2EmphasisLift=0,ga(z,L),dn(z,N,W,U)}if(x){var q=v[k];q.useStyle(w.getItemVisual(k,"style")),q.setStyle(L.getModel(["progress","itemStyle"]).getItemStyle()),q.z2EmphasisLift=0,ga(q,L),dn(q,N,W,U)}}),this._progressEls=v)},e.prototype._renderAnchor=function(t,n){var i=t.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Bn(o,n.cx-s/2+je(l[0],n.r),n.cy-s/2+je(l[1],n.r),s,s,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,n,i,a,s){var o=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),h=new pt,p=[],v=[],m=t.isAnimationEnabled(),y=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){p[x]=new Yt({silent:!0}),v[x]=new Yt({silent:!0})}).update(function(x,w){p[x]=o._titleEls[w],v[x]=o._detailEls[w]}).execute(),l.each(function(x){var w=l.getItemModel(x),b=l.get(u,x),T=new pt,C=a(cr(b,[c,f],[0,1],!0)),D=w.getModel("title");if(D.get("show")){var E=D.get("offsetCenter"),R=s.cx+je(E[0],s.r),M=s.cy+je(E[1],s.r),k=p[x];k.attr({z2:y?0:2,style:Ur(D,{x:R,y:M,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:C})}),T.add(k)}var L=w.getModel("detail");if(L.get("show")){var O=L.get("offsetCenter"),N=s.cx+je(O[0],s.r),W=s.cy+je(O[1],s.r),U=je(L.get("width"),s.r),z=je(L.get("height"),s.r),Y=t.get(["progress","show"])?l.getItemVisual(x,"style").fill:C,k=v[x],re=L.get("formatter");k.attr({z2:y?0:2,style:Ur(L,{x:N,y:W,text:L2(b,re),width:isNaN(U)?null:U,height:isNaN(z)?null:z,align:"center",verticalAlign:"middle"},{inheritColor:Y})}),Vle(k,{normal:L},b,function(q){return L2(q,re)}),m&&zle(k,x,l,t,{getFormattedLabel:function(q,Q,j,J,te,se){return L2(se?se.interpolatedValue:b,re)}}),T.add(k)}h.add(T)}),this.group.add(h),this._titleEls=p,this._detailEls=v},e.type="gauge",e}(Dr),srt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,n){return zy(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Lr);function ort(r){r.registerChartView(art),r.registerSeriesModel(srt)}var lrt=["itemStyle","opacity"],urt=function(r){ge(e,r);function e(t,n){var i=r.call(this)||this,a=i,s=new Ya,o=new Yt;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(t,n,!0),i}return e.prototype.updateData=function(t,n,i){var a=this,s=t.hostModel,o=t.getItemModel(n),l=t.getItemLayout(n),u=o.getModel("emphasis"),c=o.get(lrt);c=c??1,i||Xl(a),a.useStyle(t.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Qr(a,{style:{opacity:c}},s,n)):rr(a,{style:{opacity:c},shape:{points:l.points}},s,n),ga(a,o),this._updateLabel(t,n),dn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=t.hostModel,l=t.getItemModel(n),u=t.getItemLayout(n),c=u.label,f=t.getItemVisual(n,"style"),h=f.fill;ma(s,Li(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:t.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:h,outsideFill:h});var p=c.linePoints;a.setShape({points:p}),i.textGuideLineConfig={anchor:p?new At(p[0][0],p[0][1]):null},rr(s,{style:{x:c.x,y:c.y}},o,n),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),wV(i,bV(l),{stroke:h})},e}(Wa),crt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new urt(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);Tw(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Dr),frt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gb(Xe(this.getData,this),Xe(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,n){return zy(this,{coordDimensions:["value"],encodeDefaulter:xt(XB,this)})},e.prototype._defaultLabelLine=function(t){Vv(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var n=this.getData(),i=r.prototype.getDataParams.call(this,t),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,t)/s*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Lr);function hrt(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function drt(r,e){for(var t=r.mapDimension("value"),n=r.mapArray(t,function(l){return l}),i=[],a=e==="ascending",s=0,o=r.count();s<o;s++)i[s]=s;return it(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function prt(r){var e=r.hostModel,t=e.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=r.getItemLayout(n),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,h,p,v;if(c)s==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,p=(u[0][1]+u[3][1])/2,f="left"):s==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,p=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,p=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),v=[[h,p],[h,p]];else{var m=void 0,y=void 0,x=void 0,w=void 0,b=o.get("length");s==="left"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,x=m-b,h=x-5,f="right"):s==="right"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,x=m+b,h=x+5,f="left"):s==="top"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,w=y-b,p=w-5,f="center"):s==="bottom"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,w=y+b,p=w+5,f="center"):s==="rightTop"?(m=t==="horizontal"?u[3][0]:u[1][0],y=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(w=y-b,p=w-5,f="center"):(x=m+b,h=x+5,f="top")):s==="rightBottom"?(m=u[2][0],y=u[2][1],t==="horizontal"?(w=y+b,p=w+5,f="center"):(x=m+b,h=x+5,f="bottom")):s==="leftTop"?(m=u[0][0],y=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(w=y-b,p=w-5,f="center"):(x=m-b,h=x-5,f="right")):s==="leftBottom"?(m=t==="horizontal"?u[1][0]:u[3][0],y=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(w=y+b,p=w+5,f="center"):(x=m-b,h=x-5,f="right")):(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,t==="horizontal"?(w=y+b,p=w+5,f="center"):(x=m+b,h=x+5,f="left")),t==="horizontal"?(x=m,h=x):(w=y,p=w),v=[[m,y],[x,w]]}l.label={linePoints:v,x:h,y:p,verticalAlign:"middle",textAlign:f,inside:c}})}function vrt(r,e){r.eachSeriesByType("funnel",function(t){var n=t.getData(),i=n.mapDimension("value"),a=t.get("sort"),s=hrt(t,e),o=t.get("orient"),l=s.width,u=s.height,c=drt(n,a),f=s.x,h=s.y,p=o==="horizontal"?[je(t.get("minSize"),u),je(t.get("maxSize"),u)]:[je(t.get("minSize"),l),je(t.get("maxSize"),l)],v=n.getDataExtent(i),m=t.get("min"),y=t.get("max");m==null&&(m=Math.min(v[0],0)),y==null&&(y=v[1]);var x=t.get("funnelAlign"),w=t.get("gap"),b=o==="horizontal"?l:u,T=(b-w*(n.count()-1))/n.count(),C=function(W,U){if(o==="horizontal"){var z=n.get(i,W)||0,Y=cr(z,[m,y],p,!0),re=void 0;switch(x){case"top":re=h;break;case"center":re=h+(u-Y)/2;break;case"bottom":re=h+(u-Y);break}return[[U,re],[U,re+Y]]}var K=n.get(i,W)||0,q=cr(K,[m,y],p,!0),Q;switch(x){case"left":Q=f;break;case"center":Q=f+(l-q)/2;break;case"right":Q=f+l-q;break}return[[Q,U],[Q+q,U]]};a==="ascending"&&(T=-T,w=-w,o==="horizontal"?f+=l:h+=u,c=c.reverse());for(var D=0;D<c.length;D++){var E=c[D],R=c[D+1],M=n.getItemModel(E);if(o==="horizontal"){var k=M.get(["itemStyle","width"]);k==null?k=T:(k=je(k,l),a==="ascending"&&(k=-k));var L=C(E,f),O=C(R,f+k);f+=k+w,n.setItemLayout(E,{points:L.concat(O.slice().reverse())})}else{var N=M.get(["itemStyle","height"]);N==null?N=T:(N=je(N,u),a==="ascending"&&(N=-N));var L=C(E,h),O=C(R,h+N);h+=N+w,n.setItemLayout(E,{points:L.concat(O.slice().reverse())})}}prt(n)})}function grt(r){r.registerChartView(crt),r.registerSeriesModel(frt),r.registerLayout(vrt),r.registerProcessor(Hb("funnel"))}var mrt=.3,yrt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new pt,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=cK(t);o.diff(l).add(h).update(p).remove(v).execute();function h(y){var x=uK(o,s,y,c,u);SL(x,o,y,f)}function p(y,x){var w=l.getItemGraphicEl(x),b=hhe(o,y,c,u);o.setItemGraphicEl(y,w),rr(w,{shape:{points:b}},t,y),Xl(w),SL(w,o,y,f)}function v(y){var x=l.getItemGraphicEl(y);s.remove(x)}if(!this._initialized){this._initialized=!0;var m=_rt(u,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(m)}this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=cK(n),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=uK(a,this._dataGroup,c,o,s);f.incremental=!0,SL(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Dr);function _rt(r,e,t){var n=r.model,i=r.getRect(),a=new Xt({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Qr(a,{shape:{width:i.width,height:i.height}},e,t),a}function hhe(r,e,t,n){for(var i=[],a=0;a<t.length;a++){var s=t[a],o=r.get(r.mapDimension(s),e);xrt(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function uK(r,e,t,n,i){var a=hhe(r,t,n,i),s=new Ya({shape:{points:a},z2:10});return e.add(s),r.setItemGraphicEl(t,s),s}function cK(r){var e=r.get("smooth",!0);return e===!0&&(e=mrt),e=nc(e),Wm(e)&&(e=0),{smooth:e}}function SL(r,e,t,n){r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");ga(r,i,"lineStyle"),dn(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function xrt(r,e){return e==="category"?r==null:r==null||isNaN(r)}var wrt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,n){return cc(null,this,{useEncodeDefaulter:Xe(brt,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){t===s&&a.push(i.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Lr);function brt(r){var e=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(e){var t={};return B(e.dimensions,function(n){var i=Srt(n);t[n]=i}),t}}function Srt(r){return+r.replace("dim","")}var Trt=["lineStyle","opacity"],Art={seriesType:"parallel",reset:function(r,e){var t=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(Trt,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},i.start,i.end)}}}};function Ert(r){Crt(r),Drt(r)}function Crt(r){if(!r.parallel){var e=!1;B(r.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(r.parallel=[{}])}}function Drt(r){var e=Pr(r.parallelAxis);B(e,function(t){if(ct(t)){var n=t.parallelIndex||0,i=Pr(r.parallel)[n];i&&i.parallelAxisDefault&&bt(t,i.parallelAxisDefault,!1)}})}var Irt=5,Rrt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this._model=t,this._api=i,this._handlers||(this._handlers={},B(Mrt,function(a,s){i.getZr().on(s,this._handlers[s]=Xe(a,this))},this)),Oy(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,n){Dw(this,"_throttledDispatchExpand"),B(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(De({type:"parallelAxisExpand"},t))},e.type="parallel",e}(qr),Mrt={mousedown:function(r){TL(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var e=this._mouseDownPoint;if(TL(this,"click")&&e){var t=[r.offsetX,r.offsetY],n=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(n>Irt)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!TL(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=t.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function TL(r,e){var t=r._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var krt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var n=this.option;t&&bt(n,t,!0),this._initDimensions()},e.prototype.contains=function(t,n){var i=t.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){B(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[],i=ar(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);B(i,function(a){t.push("dim"+a.get("dim")),n.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(zt),Prt=function(r){ge(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(pl);function gg(r,e,t,n,i,a){r=r||0;var s=t[1]-t[0];if(i!=null&&(i=T0(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(e[1]-e[0]);o=T0(o,[0,s]),i=a=T0(o,[i,a]),n=0}e[0]=T0(e[0],t),e[1]=T0(e[1],t);var l=AL(e,n);e[n]+=r;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[n]=T0(e[n],c);var f;return f=AL(e,n),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-n]=e[n]+l.sign*i),f=AL(e,n),a!=null&&f.span>a&&(e[1-n]=e[n]+f.sign*a),e}function AL(r,e){var t=r[e]-r[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function T0(r,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,r))}var EL=B,dhe=Math.min,phe=Math.max,fK=Math.floor,Lrt=Math.ceil,hK=wn,Ort=Math.PI,Nrt=function(){function r(e,t,n){this.type="parallel",this._axesMap=tt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=e.dimensions,a=e.parallelAxisIndex;EL(i,function(s,o){var l=a[o],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(s,new Prt(s,Fb(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},r.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},r.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,s=e[1-a],o=e[a];return s>=n&&s<=n+t.axisLength&&o>=i&&o<=i+t.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();EL(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),jv(s.scale,s.model)},this)}},this)},r.prototype.resize=function(e,t){this._rect=ti(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],i=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=t[i[s]],l=[0,o],u=this.dimensions.length,c=O2(e.get("axisExpandWidth"),l),f=O2(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&o>0,p=e.get("axisExpandWindow"),v;if(p)v=O2(p[1]-p[0],l),p[1]=p[0]+v;else{v=O2(c*(f-1),l);var m=e.get("axisExpandCenter")||fK(u/2);p=[c*m-v/2],p[1]=p[0]+v}var y=(o-v)/(u-f);y<3&&(y=0);var x=[fK(hK(p[0]/c,1))+1,Lrt(hK(p[1]/c,1))-1],w=y/c*p[0];return{layout:a,pixelDimIndex:s,layoutBase:t[n[s]],layoutLength:o,axisBase:t[n[1-s]],axisLength:t[i[1-s]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:p,axisCount:u,winInnerIndices:x,axisExpandWindow0Pos:w}},r.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),EL(n,function(s,o){var l=(i.axisExpandable?Brt:Frt)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:Ort/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],h=c[a],p=Us();bd(p,p,h),ql(p,p,f),this._axesLayout[s]={position:f,rotation:h,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(e){return this._axesMap.get(e)},r.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},r.prototype.eachActiveState=function(e,t,n,i){n==null&&(n=0),i==null&&(i=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];B(s,function(y){o.push(e.mapDimension(y)),l.push(a.get(y).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=e.getValues(o,c),p=0,v=s.length;p<v;p++){var m=l[p].getActiveState(h[p]);if(m==="inactive"){f="inactive";break}}}t(f,c)}},r.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return Ul([e,0],n.transform)},r.prototype.getAxisLayout=function(e){return ht(this._axesLayout[e])},r.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var o=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&o<a*f[0]?(u="jump",l=o-a*f[2]):h&&c&&o>a*(1-f[0])?(u="jump",l=o-a*(1-f[2])):(l=o-a*f[1])>=0&&(l=o-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?gg(l,i,s,"all"):u="none";else{var p=i[1]-i[0],v=s[1]*o/p;i=[phe(0,v-p/2)],i[1]=dhe(s[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:u}},r}();function O2(r,e){return dhe(phe(r,e[0]),e[1])}function Frt(r,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*r,axisNameAvailableWidth:t,axisLabelShow:!0}}function Brt(r,e){var t=e.layoutLength,n=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,u=!1,c;return r<s[0]?(o=r*a,c=a):r<=s[1]?(o=e.axisExpandWindow0Pos+r*n-e.axisExpandWindow[0],l=n,u=!0):(o=t-(i-1-r)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function Vrt(r,e){var t=[];return r.eachComponent("parallel",function(n,i){var a=new Nrt(n,r,e);a.name="parallel_"+i,a.resize(n,e),n.coordinateSystem=a,a.model=n,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Qn).models[0];n.coordinateSystem=i.coordinateSystem}}),t}var zrt={create:Vrt},t3=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Uv([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=ht(t);if(n)for(var i=n.length-1;i>=0;i--)co(n[i])},e.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=t&&t<=n[a][1])return"active";return"inactive"},e}(zt);Cn(t3,Vy);var Wv=!0,zw=Math.min,ey=Math.max,Urt=Math.pow,Hrt=1e4,Grt=6,jrt=6,dK="globalPan",Wrt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},$rt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},pK={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},qrt=0,WV=function(r){ge(e,r);function e(t){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new pt,n._uid="brushController_"+qrt++,B(ent,function(i,a){this._handlers[a]=Xe(i,this)},n),n}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||OJe(n,dK,this._uid),B(this._handlers,function(i,a){n.on(a,i)}),this._brushType=t.brushType,this._brushOption=bt(ht(pK),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;NJe(t,dK,this._uid),B(this._handlers,function(n,i){t.off(i,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};B(t,function(i){n[i.panelId]=ht(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Pe(t,function(h){return bt(ht(pK),h,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new yf(i,t,u,l).add(c).update(c).remove(f).execute(),this;function l(h,p){return(h.id!=null?h.id:n+p)+"-"+h.brushType}function u(h,p){return l(h.__brushOption,p)}function c(h,p){var v=t[h];if(p!=null&&i[p]===o)a[h]=i[p];else{var m=a[h]=p!=null?(i[p].__brushOption=v,i[p]):ghe(s,vhe(s,v));$V(s,m)}}function f(h){i[h]!==o&&s.group.remove(i[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),r3(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(cl);function vhe(r,e){var t=_I[e.brushType].createCover(r,e);return t.__brushOption=e,yhe(t,e),r.group.add(t),t}function ghe(r,e){var t=qV(e);return t.endCreating&&(t.endCreating(r,e),yhe(e,e.__brushOption)),e}function mhe(r,e){var t=e.__brushOption;qV(e).updateCoverShape(r,e,t.range,t)}function yhe(r,e){var t=e.z;t==null&&(t=Hrt),r.traverse(function(n){n.z=t,n.z2=t})}function $V(r,e){qV(e).updateCommon(r,e),mhe(r,e)}function qV(r){return _I[r.__brushOption.brushType]}function YV(r,e,t){var n=r._panels;if(!n)return Wv;var i,a=r._transform;return B(n,function(s){s.isTargetByCursor(e,t,a)&&(i=s)}),i}function _he(r,e){var t=r._panels;if(!t)return Wv;var n=e.__brushOption.panelId;return n!=null?t[n]:Wv}function r3(r){var e=r._covers,t=e.length;return B(e,function(n){r.group.remove(n)},r),e.length=0,!!t}function $v(r,e){var t=Pe(r._covers,function(n){var i=n.__brushOption,a=ht(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Yrt(r){var e=r._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],i=t[0]-n[0],a=t[1]-n[1],s=Urt(i*i+a*a,.5);return s>Grt}function xhe(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function whe(r,e,t,n){var i=new pt;return i.add(new Xt({name:"main",style:XV(t),silent:!0,draggable:!0,cursor:"move",drift:xt(vK,r,e,i,["n","s","w","e"]),ondragend:xt($v,e,{isEnd:!0})})),B(n,function(a){i.add(new Xt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:xt(vK,r,e,i,a),ondragend:xt($v,e,{isEnd:!0})}))}),i}function bhe(r,e,t,n){var i=n.brushStyle.lineWidth||0,a=ey(i,jrt),s=t[0][0],o=t[1][0],l=s-i/2,u=o-i/2,c=t[0][1],f=t[1][1],h=c-a+i/2,p=f-a+i/2,v=c-s,m=f-o,y=v+i,x=m+i;Oc(r,e,"main",s,o,v,m),n.transformable&&(Oc(r,e,"w",l,u,a,x),Oc(r,e,"e",h,u,a,x),Oc(r,e,"n",l,u,y,a),Oc(r,e,"s",l,p,y,a),Oc(r,e,"nw",l,u,a,a),Oc(r,e,"ne",h,u,a,a),Oc(r,e,"sw",l,p,a,a),Oc(r,e,"se",h,p,a,a))}function n3(r,e){var t=e.__brushOption,n=t.transformable,i=e.childAt(0);i.useStyle(XV(t)),i.attr({silent:!n,cursor:n?"move":"default"}),B([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?i3(r,a[0]):Krt(r,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?$rt[o]+"-resize":null})})}function Oc(r,e,t,n,i,a,s){var o=e.childOfName(t);o&&o.setShape(Qrt(KV(r,e,[[n,i],[n+a,i+s]])))}function XV(r){return ut({strokeNoScale:!0},r.brushStyle)}function She(r,e,t,n){var i=[zw(r,t),zw(e,n)],a=[ey(r,t),ey(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function Xrt(r){return jh(r.group)}function i3(r,e){var t={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=ZD(t[e],Xrt(r));return n[i]}function Krt(r,e){var t=[i3(r,e[0]),i3(r,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function vK(r,e,t,n,i,a){var s=t.__brushOption,o=r.toRectRange(s.range),l=The(e,i,a);B(n,function(u){var c=Wrt[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=r.fromRectRange(She(o[0][0],o[1][0],o[0][1],o[1][1])),$V(e,t),$v(e,{isEnd:!1})}function Zrt(r,e,t,n){var i=e.__brushOption.range,a=The(r,t,n);B(i,function(s){s[0]+=a[0],s[1]+=a[1]}),$V(r,e),$v(r,{isEnd:!1})}function The(r,e,t){var n=r.group,i=n.transformCoordToLocal(e,t),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function KV(r,e,t){var n=_he(r,e);return n&&n!==Wv?n.clipPath(t,r._transform):ht(t)}function Qrt(r){var e=zw(r[0][0],r[1][0]),t=zw(r[0][1],r[1][1]),n=ey(r[0][0],r[1][0]),i=ey(r[0][1],r[1][1]);return{x:e,y:t,width:n-e,height:i-t}}function Jrt(r,e,t){if(!(!r._brushType||tnt(r,e.offsetX,e.offsetY))){var n=r._zr,i=r._covers,a=YV(r,e,t);if(!r._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Wv||o.panelId===a.panelId)&&_I[o.brushType].contain(i[s],t[0],t[1]))return}a&&n.setCursorStyle("crosshair")}}function a3(r){var e=r.event;e.preventDefault&&e.preventDefault()}function s3(r,e,t){return r.childOfName("main").contain(e,t)}function Ahe(r,e,t,n){var i=r._creatingCover,a=r._creatingPanel,s=r._brushOption,o;if(r._track.push(t.slice()),Yrt(r)||i){if(a&&!i){s.brushMode==="single"&&r3(r);var l=ht(s);l.brushType=gK(l.brushType,a),l.panelId=a===Wv?null:a.panelId,i=r._creatingCover=vhe(r,l),r._covers.push(i)}if(i){var u=_I[gK(r._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(KV(r,i,r._track)),n&&(ghe(r,i),u.updateCommon(r,i)),mhe(r,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&YV(r,e,t)&&r3(r)&&(o={isEnd:n,removeOnClick:!0});return o}function gK(r,e){return r==="auto"?e.defaultBrushType:r}var ent={mousedown:function(r){if(this._dragging)mK(this,r);else if(!r.target||!r.target.draggable){a3(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var t=this._creatingPanel=YV(this,r,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,t=r.offsetY,n=this.group.transformCoordToLocal(e,t);if(Jrt(this,r,n),this._dragging){a3(r);var i=Ahe(this,r,n,!1);i&&$v(this,i)}},mouseup:function(r){mK(this,r)}};function mK(r,e){if(r._dragging){a3(e);var t=e.offsetX,n=e.offsetY,i=r.group.transformCoordToLocal(t,n),a=Ahe(r,e,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&$v(r,a)}}function tnt(r,e,t){var n=r._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var _I={lineX:yK(0),lineY:yK(1),rect:{createCover:function(r,e){function t(n){return n}return whe({toRectRange:t,fromRectRange:t},r,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var e=xhe(r);return She(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,t,n){bhe(r,e,t,n)},updateCommon:n3,contain:s3},polygon:{createCover:function(r,e){var t=new pt;return t.add(new Ya({name:"main",style:XV(e),silent:!0})),t},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new Wa({name:"main",draggable:!0,drift:xt(Zrt,r,e),ondragend:xt($v,r,{isEnd:!0})}))},updateCoverShape:function(r,e,t,n){e.childAt(0).setShape({points:KV(r,e,t)})},updateCommon:n3,contain:s3}};function yK(r){return{createCover:function(e,t){return whe({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},e,t,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(e){var t=xhe(e),n=zw(t[0][r],t[1][r]),i=ey(t[0][r],t[1][r]);return[n,i]},updateCoverShape:function(e,t,n,i){var a,s=_he(e,t);if(s!==Wv&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(r);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-r]]}var l=[n,a];r&&l.reverse(),bhe(e,t,l,i)},updateCommon:n3,contain:s3}}function Ehe(r){return r=ZV(r),function(e){return FB(e,r)}}function Che(r,e){return r=ZV(r),function(t){var n=e??t,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function Dhe(r,e,t){var n=ZV(r);return function(i,a){return n.contain(a[0],a[1])&&!vI(i,e,t)}}function ZV(r){return Ct.create(r)}var rnt=["axisLine","axisTickLabel","axisName"],nnt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){r.prototype.init.apply(this,arguments),(this._brushController=new WV(n.getZr())).on("brush",Xe(this._onBrush,this))},e.prototype.render=function(t,n,i,a){if(!int(t,n,a)){this.axisModel=t,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new pt,this.group.add(this._axisGroup),!!t.get("show")){var o=snt(t,n),l=o.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,h=l.getAxisLayout(f),p=De({strokeContainThreshold:c},h),v=new vs(t,p);B(rnt,v.add,v),this._axisGroup.add(v.getGroup()),this._refreshBrushController(p,u,t,o,c,i),Lb(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,n,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Ct.create({x:l[0],y:-s/2,width:u,height:s});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Ehe(f),isTargetByCursor:Dhe(f,o,a),getLinearBrushOtherExtent:Che(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(ant(i))},e.prototype._onBrush=function(t){var n=t.areas,i=this.axisModel,a=i.axis,s=Pe(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(qr);function int(r,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===r}function ant(r){var e=r.axis;return Pe(r.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function snt(r,e){return e.getComponent("parallel",r.get("parallelIndex"))}var ont={type:"axisAreaSelect",event:"axisAreaSelected"};function lnt(r){r.registerAction(ont,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),r.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var unt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Ihe(r){r.registerComponentView(Rrt),r.registerComponentModel(krt),r.registerCoordinateSystem("parallel",zrt),r.registerPreprocessor(Ert),r.registerComponentModel(t3),r.registerComponentView(nnt),Jm(r,"parallel",t3,unt),lnt(r)}function cnt(r){Pt(Ihe),r.registerChartView(yrt),r.registerSeriesModel(wrt),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,Art)}var fnt=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),hnt=function(r){ge(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new fnt},e.prototype.buildPath=function(t,n){var i=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(t.lineTo(n.x2+i,n.y2),t.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(t.lineTo(n.x2,n.y2+i),t.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),t.closePath()},e.prototype.highlight=function(){gf(this)},e.prototype.downplay=function(){mf(this)},e}(Ht),dnt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return e.prototype.render=function(t,n,i){var a=this,s=t.getGraph(),o=this.group,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),h=t.getData("edge"),p=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,s.eachEdge(function(v){var m=new hnt,y=gt(m);y.dataIndex=v.dataIndex,y.seriesIndex=t.seriesIndex,y.dataType="edge";var x=v.getModel(),w=x.getModel("lineStyle"),b=w.get("curveness"),T=v.node1.getLayout(),C=v.node1.getModel(),D=C.get("localX"),E=C.get("localY"),R=v.node2.getLayout(),M=v.node2.getModel(),k=M.get("localX"),L=M.get("localY"),O=v.getLayout(),N,W,U,z,Y,re,K,q;m.shape.extent=Math.max(1,O.dy),m.shape.orient=p,p==="vertical"?(N=(D!=null?D*u:T.x)+O.sy,W=(E!=null?E*c:T.y)+T.dy,U=(k!=null?k*u:R.x)+O.ty,z=L!=null?L*c:R.y,Y=N,re=W*(1-b)+z*b,K=U,q=W*b+z*(1-b)):(N=(D!=null?D*u:T.x)+T.dx,W=(E!=null?E*c:T.y)+O.sy,U=k!=null?k*u:R.x,z=(L!=null?L*c:R.y)+O.ty,Y=N*(1-b)+U*b,re=W,K=N*b+U*(1-b),q=z),m.setShape({x1:N,y1:W,x2:U,y2:z,cpx1:Y,cpy1:re,cpx2:K,cpy2:q}),m.useStyle(w.getItemStyle()),_K(m.style,p,v);var Q=""+x.get("value"),j=Li(x,"edgeLabel");ma(m,j,{labelFetcher:{getFormattedLabel:function(se,de,Oe,Ae,ye,Se){return t.getFormattedLabel(se,de,"edge",Ae,Bl(ye,j.normal&&j.normal.get("formatter"),Q),Se)}},labelDataIndex:v.dataIndex,defaultText:Q}),m.setTextConfig({position:"inside"});var J=x.getModel("emphasis");ga(m,x,"lineStyle",function(se){var de=se.getItemStyle();return _K(de,p,v),de}),o.add(m),h.setItemGraphicEl(v.dataIndex,m);var te=J.get("focus");dn(m,te==="adjacency"?v.getAdjacentDataIndices():te==="trajectory"?v.getTrajectoryDataIndices():te,J.get("blurScope"),J.get("disabled"))}),s.eachNode(function(v){var m=v.getLayout(),y=v.getModel(),x=y.get("localX"),w=y.get("localY"),b=y.getModel("emphasis"),T=y.get(["itemStyle","borderRadius"])||0,C=new Xt({shape:{x:x!=null?x*u:m.x,y:w!=null?w*c:m.y,width:m.dx,height:m.dy,r:T},style:y.getModel("itemStyle").getItemStyle(),z2:10});ma(C,Li(y),{labelFetcher:{getFormattedLabel:function(E,R){return t.getFormattedLabel(E,R,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),C.disableLabelAnimation=!0,C.setStyle("fill",v.getVisual("color")),C.setStyle("decal",v.getVisual("style").decal),ga(C,y),o.add(C),f.setItemGraphicEl(v.dataIndex,C),gt(C).dataType="node";var D=b.get("focus");dn(C,D==="adjacency"?v.getAdjacentDataIndices():D==="trajectory"?v.getTrajectoryDataIndices():D,b.get("blurScope"),b.get("disabled"))}),f.eachItemGraphicEl(function(v,m){var y=f.getItemModel(m);y.get("draggable")&&(v.drift=function(x,w){a._focusAdjacencyDisabled=!0,this.shape.x+=x,this.shape.y+=w,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(pnt(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Dr);function _K(r,e,t){switch(r.fill){case"source":r.fill=t.node1.getVisual("color"),r.decal=t.node1.getVisual("style").decal;break;case"target":r.fill=t.node2.getVisual("color"),r.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),i=t.node2.getVisual("color");$e(n)&&$e(i)&&(r.fill=new Ey(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function pnt(r,e,t){var n=new Xt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Qr(n,{shape:{width:r.width+20}},e,t),n}var vnt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new sr(s[l],this,n));var u=fhe(a,i,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(p,v){var m=p.parentModel,y=m.getData().getItemLayout(v);if(y){var x=y.depth,w=m.levelModels[x];w&&(p.parentModel=w)}return p}),h.wrapMethod("getItemModel",function(p,v){var m=p.parentModel,y=m.getGraph().getEdgeByIndex(v),x=y.node1.getLayout();if(x){var w=x.depth,b=m.levelModels[w];b&&(p.parentModel=b)}return p})}},e.prototype.setNodePosition=function(t,n){var i=this.option.data||this.option.nodes,a=i[t];a.localX=n[0],a.localY=n[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,i){function a(p){return isNaN(p)||p==null}if(i==="edge"){var s=this.getDataParams(t,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return Oi("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,h=this.getDataParams(t,i).data.name;return Oi("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,n){var i=r.prototype.getDataParams.call(this,t,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(t),s=a.getLayout().value;i.value=s}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Lr);function gnt(r,e){r.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),a=mnt(t,e);t.layoutInfo=a;var s=a.width,o=a.height,l=t.getGraph(),u=l.nodes,c=l.edges;_nt(u);var f=ar(u,function(m){return m.getLayout().value===0}),h=f.length!==0?0:t.get("layoutIterations"),p=t.get("orient"),v=t.get("nodeAlign");ynt(u,c,n,i,s,o,h,p,v)})}function mnt(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ynt(r,e,t,n,i,a,s,o,l){xnt(r,e,t,i,a,o,l),Tnt(r,e,a,i,n,s,o),Pnt(r,o)}function _nt(r){B(r,function(e){var t=qh(e.outEdges,EC),n=qh(e.inEdges,EC),i=e.getValue()||0,a=Math.max(t,n,i);e.setLayout({value:a},!0)})}function xnt(r,e,t,n,i,a,s){for(var o=[],l=[],u=[],c=[],f=0,h=0;h<e.length;h++)o[h]=1;for(var h=0;h<r.length;h++)l[h]=r[h].inEdges.length,l[h]===0&&u.push(r[h]);for(var p=-1;u.length;){for(var v=0;v<u.length;v++){var m=u[v],y=m.hostGraph.data.getRawDataItem(m.dataIndex),x=y.depth!=null&&y.depth>=0;x&&y.depth>p&&(p=y.depth),m.setLayout({depth:x?y.depth:f},!0),a==="vertical"?m.setLayout({dy:t},!0):m.setLayout({dx:t},!0);for(var w=0;w<m.outEdges.length;w++){var b=m.outEdges[w],T=e.indexOf(b);o[T]=0;var C=b.node2,D=r.indexOf(C);--l[D]===0&&c.indexOf(C)<0&&c.push(C)}}++f,u=c,c=[]}for(var h=0;h<o.length;h++)if(o[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var E=p>f-1?p:f-1;s&&s!=="left"&&wnt(r,s,a,E);var R=a==="vertical"?(i-t)/E:(n-t)/E;Snt(r,R,a)}function Rhe(r){var e=r.hostGraph.data.getRawDataItem(r.dataIndex);return e.depth!=null&&e.depth>=0}function wnt(r,e,t,n){if(e==="right"){for(var i=[],a=r,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++s}B(r,function(f){Rhe(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&bnt(r,n)}function bnt(r,e){B(r,function(t){!Rhe(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function Snt(r,e,t){B(r,function(n){var i=n.getLayout().depth*e;t==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function Tnt(r,e,t,n,i,a,s){var o=Ant(r,s);Ent(o,e,t,n,i,s),CL(o,i,t,n,s);for(var l=1;a>0;a--)l*=.99,Cnt(o,l,s),CL(o,i,t,n,s),knt(o,l,s),CL(o,i,t,n,s)}function Ant(r,e){var t=[],n=e==="vertical"?"y":"x",i=s4(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),B(i.keys,function(a){t.push(i.buckets.get(a))}),t}function Ent(r,e,t,n,i,a){var s=1/0;B(r,function(o){var l=o.length,u=0;B(o,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(t-(l-1)*i)/u;c<s&&(s=c)}),B(r,function(o){B(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),B(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function CL(r,e,t,n,i){var a=i==="vertical"?"x":"y";B(r,function(s){s.sort(function(m,y){return m.getLayout()[a]-y.getLayout()[a]});for(var o,l,u,c=0,f=s.length,h=i==="vertical"?"dx":"dy",p=0;p<f;p++)l=s[p],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[h]+e;var v=i==="vertical"?n:t;if(u=c-e-v,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var p=f-2;p>=0;--p)l=s[p],u=l.getLayout()[a]+l.getLayout()[h]+e-c,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function Cnt(r,e,t){B(r.slice().reverse(),function(n){B(n,function(i){if(i.outEdges.length){var a=qh(i.outEdges,Dnt,t)/qh(i.outEdges,EC);if(isNaN(a)){var s=i.outEdges.length;a=s?qh(i.outEdges,Int,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-hd(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-hd(i,t))*e;i.setLayout({y:l},!0)}}})})}function Dnt(r,e){return hd(r.node2,e)*r.getValue()}function Int(r,e){return hd(r.node2,e)}function Rnt(r,e){return hd(r.node1,e)*r.getValue()}function Mnt(r,e){return hd(r.node1,e)}function hd(r,e){return e==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function EC(r){return r.getValue()}function qh(r,e,t){for(var n=0,i=r.length,a=-1;++a<i;){var s=+e(r[a],t);isNaN(s)||(n+=s)}return n}function knt(r,e,t){B(r,function(n){B(n,function(i){if(i.inEdges.length){var a=qh(i.inEdges,Rnt,t)/qh(i.inEdges,EC);if(isNaN(a)){var s=i.inEdges.length;a=s?qh(i.inEdges,Mnt,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-hd(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-hd(i,t))*e;i.setLayout({y:l},!0)}}})})}function Pnt(r,e){var t=e==="vertical"?"x":"y";B(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),B(r,function(n){var i=0,a=0;B(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),B(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function Lnt(r){r.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var a=1/0,s=-1/0;B(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),B(n,function(o){var l=new Pi({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&B(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function Ont(r){r.registerChartView(dnt),r.registerSeriesModel(vnt),r.registerLayout(gnt),r.registerVisual(Lnt),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var Mhe=function(){function r(){}return r.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},r.prototype.getInitialData=function(e,t){var n,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],p=[i,a],v=p[c].get("type"),m=p[1-c].get("type"),y=e.data;if(y&&l){var x=[];B(y,function(T,C){var D;ke(T)?(D=T.slice(),T.unshift(C)):ke(T.value)?(D=De({},T),D.value=D.value.slice(),T.value.unshift(C)):D=T,x.push(D)}),e.data=x}var w=this.defaultValueDimensions,b=[{name:f,type:vC(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:vC(m),dimsDef:w.slice()}];return zy(this,{coordDimensions:b,dimensionsCount:w.length+1,encodeDefaulter:xt(aue,b,this)})},r.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},r}(),khe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Lr);Cn(khe,Mhe,!0);var Nnt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=xK(c,a,u,l,!0);a.setItemGraphicEl(u,f),s.add(f)}}).update(function(u,c){var f=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(f);return}var h=a.getItemLayout(u);f?(Xl(f),Phe(h,f,a,u)):f=xK(h,a,u,l),s.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},e.type="boxplot",e}(Dr),Fnt=function(){function r(){}return r}(),Bnt=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new Fnt},e.prototype.buildPath=function(t,n){var i=n.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e}(Ht);function xK(r,e,t,n,i){var a=r.ends,s=new Bnt({shape:{points:i?Vnt(a,n,r):a}});return Phe(r,s,e,t,i),s}function Phe(r,e,t,n,i){var a=t.hostModel,s=fg[i?"initProps":"updateProps"];s(e,{shape:{points:r.ends}},a,n),e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(n),l=o.getModel("emphasis");ga(e,o),dn(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Vnt(r,e,t){return Pe(r,function(n){return n=n.slice(),n[e]=t.initBaseline,n})}var Bx=B;function znt(r){var e=Unt(r);Bx(e,function(t){var n=t.seriesModels;n.length&&(Hnt(t),Bx(n,function(i,a){Gnt(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function Unt(r){var e=[],t=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Dt(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(n)}),e}function Hnt(r){var e=r.axis,t=r.seriesModels,n=t.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;Bx(t,function(v){l=Math.max(l,v.getData().count())});var u=e.getExtent();o=Math.abs(u[1]-u[0])/l}Bx(t,function(v){var m=v.get("boxWidth");ke(m)||(m=[m,m]),s.push([je(m[0],o)||0,je(m[1],o)||0])});var c=o*.8-2,f=c/n*.3,h=(c-f*(n-1))/n,p=h/2-c/2;Bx(t,function(v,m){a.push(p),p+=f+h,i.push(Math.min(Math.max(h,s[m][0]),s[m][1]))})}function Gnt(r,e,t){var n=r.coordinateSystem,i=r.getData(),a=t/2,s=r.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),c=i.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var h=i.get(u,f),p=b(h,c[2],f),v=b(h,c[0],f),m=b(h,c[1],f),y=b(h,c[3],f),x=b(h,c[4],f),w=[];T(w,m,!1),T(w,y,!0),w.push(v,m,x,y),C(w,v),C(w,x),C(w,p),i.setItemLayout(f,{initBaseline:p[o],ends:w})}function b(D,E,R){var M=i.get(E,R),k=[];k[s]=D,k[o]=M;var L;return isNaN(D)||isNaN(M)?L=[NaN,NaN]:(L=n.dataToPoint(k),L[s]+=e),L}function T(D,E,R){var M=E.slice(),k=E.slice();M[s]+=a,k[s]-=a,R?D.push(M,k):D.push(k,M)}function C(D,E){var R=E.slice(),M=E.slice();R[s]-=a,M[s]+=a,D.push(R,M)}}function jnt(r,e){e=e||{};for(var t=[],n=[],i=e.boundIQR,a=i==="none"||i===0,s=0;s<r.length;s++){var o=co(r[s].slice()),l=gA(o,.25),u=gA(o,.5),c=gA(o,.75),f=o[0],h=o[o.length-1],p=(i??1.5)*(c-l),v=a?f:Math.max(f,l-p),m=a?h:Math.min(h,c+p),y=e.itemNameFormatter,x=it(y)?y({value:s}):$e(y)?y.replace("{value}",s+""):s+"";t.push([x,v,l,u,c,m]);for(var w=0;w<o.length;w++){var b=o[w];if(b<v||b>m){var T=[x,b];n.push(T)}}}return{boxData:t,outliers:n}}var Wnt={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==$a){var n="";dr(n)}var i=jnt(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function $nt(r){r.registerSeriesModel(khe),r.registerChartView(Nnt),r.registerLayout(znt),r.registerTransform(Wnt)}var qnt=["itemStyle","borderColor"],Ynt=["itemStyle","borderColor0"],Xnt=["itemStyle","borderColorDoji"],Knt=["itemStyle","color"],Znt=["itemStyle","color0"];function QV(r,e){return e.get(r>0?Knt:Znt)}function JV(r,e){return e.get(r===0?Xnt:r>0?qnt:Ynt)}var Qnt={seriesType:"candlestick",plan:Ly(),performRawSeries:!0,reset:function(r,e){if(!e.isSeriesFiltered(r)){var t=r.pipelineContext.large;return!t&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=QV(o,s),l.stroke=JV(o,s)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");De(u,l)}}}}}},Jnt=["color","borderColor"],eit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){Sd(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(o&&wK(u,f))return;var h=DL(f,c,!0);Qr(h,{shape:{points:f.ends}},t,c),IL(h,n,c,s),a.add(h),n.setItemGraphicEl(c,h)}}).update(function(c,f){var h=i.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(h);return}var p=n.getItemLayout(c);if(o&&wK(u,p)){a.remove(h);return}h?(rr(h,{shape:{points:p.ends}},t,c),Xl(h)):h=DL(p),IL(h,n,c,s),a.add(h),n.setItemGraphicEl(c,h)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),bK(t,this.group);var n=t.get("clip",!0)?zb(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=i.getItemLayout(s),l=DL(o);IL(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){bK(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Dr),tit=function(){function r(){}return r}(),rit=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new tit},e.prototype.buildPath=function(t,n){var i=n.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e}(Ht);function DL(r,e,t){var n=r.ends;return new rit({shape:{points:t?nit(n,r):n},z2:100})}function wK(r,e){for(var t=!0,n=0;n<e.ends.length;n++)if(r.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function IL(r,e,t,n){var i=e.getItemModel(t);r.useStyle(e.getItemVisual(t,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,ga(r,i);var a=e.getItemLayout(t).sign;B(r.states,function(o,l){var u=i.getModel(l),c=QV(a,u),f=JV(a,u)||c,h=o.style||(o.style={});c&&(h.fill=c),f&&(h.stroke=f)});var s=i.getModel("emphasis");dn(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function nit(r,e){return Pe(r,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var iit=function(){function r(){}return r}(),RL=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new iit},e.prototype.buildPath=function(t,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];t.moveTo(s,i[a++]),t.lineTo(s,i[a++])}else a+=3},e}(Ht);function bK(r,e,t,n){var i=r.getData(),a=i.getLayout("largePoints"),s=new RL({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new RL({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new RL({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),ML(1,s,r),ML(-1,o,r),ML(0,l,r),n&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function ML(r,e,t,n){var i=JV(r,t)||QV(r,t),a=t.getModel("itemStyle").getItemStyle(Jnt);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var Lhe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,i){var a=n.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Lr);Cn(Lhe,Mhe,!0);function ait(r){!r||!ke(r.series)||B(r.series,function(e){ct(e)&&e.type==="k"&&(e.type="candlestick")})}var sit={seriesType:"candlestick",plan:Ly(),reset:function(r){var e=r.coordinateSystem,t=r.getData(),n=oit(r,t),i=0,a=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[i])),l=Pe(t.mapDimensionsAll(s[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?v:p};function p(m,y){for(var x,w=y.getStore();(x=m.next())!=null;){var b=w.get(o,x),T=w.get(u,x),C=w.get(c,x),D=w.get(f,x),E=w.get(h,x),R=Math.min(T,C),M=Math.max(T,C),k=Y(R,b),L=Y(M,b),O=Y(D,b),N=Y(E,b),W=[];re(W,L,0),re(W,k,1),W.push(q(N),q(L),q(O),q(k));var U=y.getItemModel(x),z=!!U.get(["itemStyle","borderColorDoji"]);y.setItemLayout(x,{sign:SK(w,x,T,C,c,z),initBaseline:T>C?L[a]:k[a],ends:W,brushRect:K(D,E,b)})}function Y(Q,j){var J=[];return J[i]=j,J[a]=Q,isNaN(j)||isNaN(Q)?[NaN,NaN]:e.dataToPoint(J)}function re(Q,j,J){var te=j.slice(),se=j.slice();te[i]=_A(te[i]+n/2,1,!1),se[i]=_A(se[i]-n/2,1,!0),J?Q.push(te,se):Q.push(se,te)}function K(Q,j,J){var te=Y(Q,J),se=Y(j,J);return te[i]-=n/2,se[i]-=n/2,{x:te[0],y:te[1],width:n,height:se[1]-te[1]}}function q(Q){return Q[i]=_A(Q[i],1),Q}}function v(m,y){for(var x=Nu(m.count*4),w=0,b,T=[],C=[],D,E=y.getStore(),R=!!r.get(["itemStyle","borderColorDoji"]);(D=m.next())!=null;){var M=E.get(o,D),k=E.get(u,D),L=E.get(c,D),O=E.get(f,D),N=E.get(h,D);if(isNaN(M)||isNaN(O)||isNaN(N)){x[w++]=NaN,w+=3;continue}x[w++]=SK(E,D,k,L,c,R),T[i]=M,T[a]=O,b=e.dataToPoint(T,null,C),x[w++]=b?b[0]:NaN,x[w++]=b?b[1]:NaN,T[a]=N,b=e.dataToPoint(T,null,C),x[w++]=b?b[1]:NaN}y.setLayout("largePoints",x)}}};function SK(r,e,t,n,i,a){var s;return t>n?s=-1:t<n?s=1:s=a?0:e>0?r.get(i,e-1)<=n?1:-1:1,s}function oit(r,e){var t=r.getBaseAxis(),n,i=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=je(_t(r.get("barMaxWidth"),i),i),s=je(_t(r.get("barMinWidth"),1),i),o=r.get("barWidth");return o!=null?je(o,i):Math.max(Math.min(i/2,a),s)}function lit(r){r.registerChartView(eit),r.registerSeriesModel(Lhe),r.registerPreprocessor(ait),r.registerVisual(Qnt),r.registerLayout(sit)}function TK(r,e){var t=e.rippleEffectColor||e.color;r.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var uit=function(r){ge(e,r);function e(t,n){var i=r.call(this)||this,a=new Bb(t,n),s=new pt;return i.add(a),i.add(s),i.updateData(t,n),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,i=t.color,a=t.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=Bn(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),s.add(l)}TK(s,t)},e.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}TK(i,t)},e.prototype.highlight=function(){gf(this)},e.prototype.downplay=function(){mf(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,n){var i=this,a=t.hostModel;this.childAt(0).updateData(t,n);var s=this.childAt(1),o=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),u=Ny(t.getItemVisual(n,"symbolSize")),c=t.getItemVisual(n,"style"),f=c&&c.fill,h=o.getModel("emphasis");s.setScale(u),s.traverse(function(y){y.setStyle("fill",f)});var p=dg(t.getItemVisual(n,"symbolOffset"),u);p&&(s.x=p[0],s.y=p[1]);var v=t.getItemVisual(n,"symbolRotate");s.rotation=(v||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=o.get(["rippleEffect","scale"]),m.brushType=o.get(["rippleEffect","brushType"]),m.period=o.get(["rippleEffect","period"])*1e3,m.effectOffset=n/t.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=f,m.rippleEffectColor=o.get(["rippleEffect","color"]),m.rippleNumber=o.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?m.showEffectOn!=="render"&&i.startEffectAnimation(m):y==="normal"&&m.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=m,dn(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(pt),cit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new Vb(uit)},e.prototype.render=function(t,n,i){var a=t.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var n=t.coordinateSystem,i=n&&n.getArea&&n.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,n,i){var a=t.getData();this.group.dirty();var s=Ub("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=moe(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Dr),fit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return cc(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Lr);function hit(r){r.registerChartView(cit),r.registerSeriesModel(fit),r.registerLayout(Ub("effectScatter"))}var Ohe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;return a.add(a.createLine(t,n,i)),a._updateEffectSymbol(t,n),a}return e.prototype.createLine=function(t,n,i){return new GV(t,n,i)},e.prototype._updateEffectSymbol=function(t,n){var i=t.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");ke(s)||(s=[s,s]);var l=t.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=Bn(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,a,n))},e.prototype._updateEffectAnimation=function(t,n,i){var a=this.childAt(1);if(a){var s=t.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=Ii(n.get("delay"),function(p){return p/t.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;it(f)?h=f(i):h=f,a.__t>0&&(h=-o*a.__t),this._animateSymbol(a,o,h,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,n,i,a,s){if(n>0){t.__t=0;var o=this,l=t.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(t)});a||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return qc(t.__p1,t.__cp1)+qc(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(t,n,i){this.childAt(0).updateData(t,n,i),this._updateEffectSymbol(t,n)},e.prototype._updateSymbolPosition=function(t){var n=t.__p1,i=t.__p2,a=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),u=Wi,c=jN;o[0]=u(n[0],a[0],i[0],s),o[1]=u(n[1],a[1],i[1],s);var f=t.__t<1?c(n[0],a[0],i[0],s):c(i[0],a[0],n[0],1-s),h=t.__t<1?c(n[1],a[1],i[1],s):c(i[1],a[1],n[1],1-s);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=qc(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*qc(n,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var i=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,i,n)},e}(pt),Nhe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createPolyline(t,n,i),a}return e.prototype._createPolyline=function(t,n,i){var a=t.getItemLayout(n),s=new Ya({shape:{points:a}});this.add(s),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(n)}};rr(s,o,a,n),this._updateCommonStl(t,n,i)},e.prototype._updateCommonStl=function(t,n,i){var a=this.childAt(0),s=t.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=o,dn(this,l,u,c)},e.prototype.updateLayout=function(t,n){var i=this.childAt(0);i.setShape("points",t.getItemLayout(n))},e}(pt),dit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,n,i){return new Nhe(t,n,i)},e.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=qc(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=i[l],h=i[l+1];t.x=f[0]*(1-c)+c*h[0],t.y=f[1]*(1-c)+c*h[1];var p=t.__t<1?h[0]-f[0]:f[0]-h[0],v=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(v,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},e}(Ohe),pit=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),vit=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new pit},e.prototype.buildPath=function(t,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){t.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)t.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],c=i[s++],f=i[s++],h=i[s++];if(t.moveTo(u,c),a>0){var p=(u+f)/2-(c-h)*a,v=(c+h)/2-(f-u)*a;t.quadraticCurveTo(p,v,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],p=1;p<c;p++){var v=a[u++],m=a[u++];if(uh(f,h,v,m,o,t,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],v=a[u++],m=a[u++];if(s>0){var y=(f+v)/2-(h-m)*s,x=(h+m)/2-(v-f)*s;if(lle(f,h,y,x,v,m,o,t,n))return l}else if(uh(f,h,v,m,o,t,n))return l;l++}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(f,s),l=Math.max(f,l)}t=this._rect=new Ct(a,s,o,l)}return t},e}(Ht),git=function(){function r(){this.group=new pt}return r.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},r.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new vit({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=gt(e);s.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),Fhe={seriesType:"lines",plan:Ly(),reset:function(r){var e=r.coordinateSystem;if(e){var t=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(t){for(var u=0,c=i.start;c<i.end;c++)u+=r.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var f=0,h=[],c=i.start;c<i.end;c++){var p=r.getLineCoords(c,s);t&&(o[f++]=p);for(var v=0;v<p;v++)h=e.dataToPoint(s[v],!1,h),o[f++]=h[0],o[f++]=h[1]}a.setLayout("linesPoints",o)}else for(var c=i.start;c<i.end;c++){var m=a.getItemModel(c),p=r.getLineCoords(c,s),y=[];if(t)for(var x=0;x<p;x++)y.push(e.dataToPoint(s[x]));else{y[0]=e.dataToPoint(s[0]),y[1]=e.dataToPoint(s[1]);var w=m.get(["lineStyle","curveness"]);+w&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*w,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*w])}a.setItemLayout(c,y)}}}}}},mit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var f=t.get("clip",!0)&&zb(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,n,i){var a=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=Fhe.reset(t,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new git:new jV(s?a?dit:Nhe:a?Ohe:GV),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var n=t.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.type="lines",e}(Dr),yit=typeof Uint32Array>"u"?Array:Uint32Array,_it=typeof Float64Array>"u"?Array:Float64Array;function AK(r){var e=r.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(r.data=Pe(e,function(t){var n=[t[0].coord,t[1].coord],i={coords:n};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),LD([i,t[0],t[1]])}))}var xit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],AK(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(AK(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=$m(this._flatCoords,n.flatCoords),this._flatCoordsOffset=$m(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),tr(t[0])){for(var i=t.length,a=new yit(i),s=new _it(i),o=0,l=0,u=0,c=0;c<i;){u++;var f=t[c++];a[l++]=o+n,a[l++]=f;for(var h=0;h<f;h++){var p=t[c++],v=t[c++];s[o++]=p,s[o++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,n){var i=new Va(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Oi("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Lr);function N2(r){return r instanceof Array||(r=[r,r]),r}var wit={seriesType:"lines",reset:function(r){var e=N2(r.get("symbol")),t=N2(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]);function i(a,s){var o=a.getItemModel(s),l=N2(o.getShallow("symbol",!0)),u=N2(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function bit(r){r.registerChartView(mit),r.registerSeriesModel(xit),r.registerLayout(Fhe),r.registerVisual(wit)}var Sit=256,Tit=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=$l.createCanvas();this.canvas=e}return r.prototype.update=function(e,t,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),p=e.length;f.width=t,f.height=n;for(var v=0;v<p;++v){var m=e[v],y=m[0],x=m[1],w=m[2],b=i(w);h.globalAlpha=b,h.drawImage(o,y-c,x-c)}if(!f.width||!f.height)return f;for(var T=h.getImageData(0,0,f.width,f.height),C=T.data,D=0,E=C.length,R=this.minOpacity,M=this.maxOpacity,k=M-R;D<E;){var b=C[D+3]/256,L=Math.floor(b*(Sit-1))*4;if(b>0){var O=s(b)?l:u;b>0&&(b=b*k+R),C[D++]=O[L],C[D++]=O[L+1],C[D++]=O[L+2],C[D++]=O[L+3]*b*256}else D+=4}return h.putImageData(T,0,0),f},r.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=$l.createCanvas()),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},r.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},r}();function Ait(r,e,t){var n=r[1]-r[0];e=Pe(e,function(s){return{interval:[(s.interval[0]-r[0])/n,(s.interval[1]-r[0])/n]}});var i=e.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&t[o]}}function Eit(r,e){var t=r[1]-r[0];return e=[(e[0]-r[0])/t,(e[1]-r[0])/t],function(n){return n>=e[0]&&n<=e[1]}}function EK(r){var e=r.dimensions;return e[0]==="lng"&&e[1]==="lat"}var Cit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):EK(s)&&this._renderOnGeo(s,t,a,i)},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,n,i,a){var s=n.coordinateSystem;s&&(EK(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Sd(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,n,i,a,s){var o=t.coordinateSystem,l=pg(o,"cartesian2d"),u,c,f,h;if(l){var p=o.getAxis("x"),v=o.getAxis("y");u=p.getBandWidth()+.5,c=v.getBandWidth()+.5,f=p.scale.getExtent(),h=v.scale.getExtent()}for(var m=this.group,y=t.getData(),x=t.getModel(["emphasis","itemStyle"]).getItemStyle(),w=t.getModel(["blur","itemStyle"]).getItemStyle(),b=t.getModel(["select","itemStyle"]).getItemStyle(),T=t.get(["itemStyle","borderRadius"]),C=Li(t),D=t.getModel("emphasis"),E=D.get("focus"),R=D.get("blurScope"),M=D.get("disabled"),k=l?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],L=i;L<a;L++){var O=void 0,N=y.getItemVisual(L,"style");if(l){var W=y.get(k[0],L),U=y.get(k[1],L);if(isNaN(y.get(k[2],L))||isNaN(W)||isNaN(U)||W<f[0]||W>f[1]||U<h[0]||U>h[1])continue;var z=o.dataToPoint([W,U]);O=new Xt({shape:{x:z[0]-u/2,y:z[1]-c/2,width:u,height:c},style:N})}else{if(isNaN(y.get(k[1],L)))continue;O=new Xt({z2:1,shape:o.dataToRect([y.get(k[0],L)]).contentShape,style:N})}if(y.hasItemOption){var Y=y.getItemModel(L),re=Y.getModel("emphasis");x=re.getModel("itemStyle").getItemStyle(),w=Y.getModel(["blur","itemStyle"]).getItemStyle(),b=Y.getModel(["select","itemStyle"]).getItemStyle(),T=Y.get(["itemStyle","borderRadius"]),E=re.get("focus"),R=re.get("blurScope"),M=re.get("disabled"),C=Li(Y)}O.shape.r=T;var K=t.getRawValue(L),q="-";K&&K[2]!=null&&(q=K[2]+""),ma(O,C,{labelFetcher:t,labelDataIndex:L,defaultOpacity:N.opacity,defaultText:q}),O.ensureState("emphasis").style=x,O.ensureState("blur").style=w,O.ensureState("select").style=b,dn(O,E,R,M),O.incremental=s,s&&(O.states.emphasis.hoverLayer=!0),m.add(O),y.setItemGraphicEl(L,O),this._progressiveEls&&this._progressiveEls.push(O)}},e.prototype._renderOnGeo=function(t,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new Tit;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),p=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),m=Math.min(c.height+c.y,a.getHeight()),y=v-h,x=m-p,w=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(w,function(E,R,M){var k=t.dataToPoint([E,R]);return k[0]-=h,k[1]-=p,k.push(M),k}),T=i.getExtent(),C=i.type==="visualMap.continuous"?Eit(T,i.option.range):Ait(T,i.getPieceList(),i.option.selected);u.update(b,y,x,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},C);var D=new Ni({style:{width:y,height:x,x:h,y:p,image:u.canvas},silent:!0});this.group.add(D)},e.type="heatmap",e}(Dr),Dit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return cc(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Py.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Lr);function Iit(r){r.registerChartView(Cit),r.registerSeriesModel(Dit)}var Rit=["itemStyle","borderWidth"],CK=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],kL=new lc,Mit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:CK[+c],categoryDim:CK[1-+c]};s.diff(o).add(function(v){if(s.hasValue(v)){var m=IK(s,v),y=DK(s,v,m,h),x=RK(s,h,y);s.setItemGraphicEl(v,x),a.add(x),kK(x,h,y)}}).update(function(v,m){var y=o.getItemGraphicEl(m);if(!s.hasValue(v)){a.remove(y);return}var x=IK(s,v),w=DK(s,v,x,h),b=Ghe(s,w);y&&b!==y.__pictorialShapeStr&&(a.remove(y),s.setItemGraphicEl(v,null),y=null),y?Bit(y,h,w):y=RK(s,h,w,!0),s.setItemGraphicEl(v,y),y.__pictorialSymbolMeta=w,a.add(y),kK(y,h,w)}).remove(function(v){var m=o.getItemGraphicEl(v);m&&MK(o,v,m.__pictorialSymbolMeta.animationModel,m)}).execute();var p=t.get("clip",!0)?zb(t.coordinateSystem,!1,t):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,n){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(s){MK(a,gt(s).dataIndex,t,s)}):i.removeAll()},e.type="pictorialBar",e}(Dr);function DK(r,e,t,n){var i=r.getItemLayout(e),a=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:t,symbolType:r.getItemVisual(e,"symbol")||"circle",style:r.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};kit(t,a,i,n,h),Pit(r,e,i,a,s,h.boundingLength,h.pxSign,c,n,h),Lit(t,h.symbolScale,u,n,h);var p=h.symbolSize,v=dg(t.get("symbolOffset"),p);return Oit(t,p,i,a,s,v,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function kit(r,e,t,n,i){var a=n.valueDim,s=r.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(ke(s)){var f=[PL(o,s[0])-l,PL(o,s[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else s!=null?c=PL(o,s)-l:e?c=n.coordSysExtent[a.index][u]-l:c=t[a.wh];i.boundingLength=c,e&&(i.repeatCutLength=t[a.wh]);var h=a.xy==="x",p=o.inverse;i.pxSign=h&&!p||!h&&p?c>=0?1:-1:c>0?1:-1}function PL(r,e){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)))}function Pit(r,e,t,n,i,a,s,o,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),p=r.getItemVisual(e,"symbolSize"),v;ke(p)?v=p.slice():p==null?v=["100%","100%"]:v=[p,p],v[f.index]=je(v[f.index],h),v[c.index]=je(v[c.index],n?h:Math.abs(a)),u.symbolSize=v;var m=u.symbolScale=[v[0]/o,v[1]/o];m[c.index]*=(l.isHorizontal?-1:1)*s}function Lit(r,e,t,n,i){var a=r.get(Rit)||0;a&&(kL.attr({scaleX:e[0],scaleY:e[1],rotation:t}),kL.updateTransform(),a/=kL.getLineScale(),a*=e[n.valueDim.index]),i.valueLineWidth=a||0}function Oit(r,e,t,n,i,a,s,o,l,u,c,f){var h=c.categoryDim,p=c.valueDim,v=f.pxSign,m=Math.max(e[p.index]+o,0),y=m;if(n){var x=Math.abs(l),w=Ii(r.get("symbolMargin"),"15%")+"",b=!1;w.lastIndexOf("!")===w.length-1&&(b=!0,w=w.slice(0,w.length-1));var T=je(w,e[p.index]),C=Math.max(m+T*2,0),D=b?0:T*2,E=wB(n),R=E?n:PK((x+D)/C),M=x-R*m;T=M/2/(b?R:Math.max(R-1,1)),C=m+T*2,D=b?0:T*2,!E&&n!=="fixed"&&(R=u?PK((Math.abs(u)+D)/C):0),y=R*C-D,f.repeatTimes=R,f.symbolMargin=T}var k=v*(y/2),L=f.pathPosition=[];L[h.index]=t[h.wh]/2,L[p.index]=s==="start"?k:s==="end"?l-k:l/2,a&&(L[0]+=a[0],L[1]+=a[1]);var O=f.bundlePosition=[];O[h.index]=t[h.xy],O[p.index]=t[p.xy];var N=f.barRectShape=De({},t);N[p.wh]=v*Math.max(Math.abs(t[p.wh]),Math.abs(L[p.index]+k)),N[h.wh]=t[h.wh];var W=f.clipShape={};W[h.xy]=-t[h.xy],W[h.wh]=c.ecSize[h.wh],W[p.xy]=0,W[p.wh]=t[p.wh]}function Bhe(r){var e=r.symbolPatternSize,t=Bn(r.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function Vhe(r,e,t,n){var i=r.__pictorialBundle,a=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+s+t.symbolMargin*2;for(e6(r,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?Am(m,null,v(c),t,n):Am(m,null,{scaleX:0,scaleY:0},t,n,function(){i.remove(m)}),c++});c<u;c++){var h=Bhe(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var p=v(c);Am(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},t,n)}function v(m){var y=o.slice(),x=t.pxSign,w=m;return(t.symbolRepeatDirection==="start"?x>0:x<0)&&(w=u-1-m),y[l.index]=f*(w-u/2+.5)+o[l.index],{x:y[0],y:y[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function zhe(r,e,t,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?Am(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(a=r.__pictorialMainPath=Bhe(t),i.add(a),Am(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function Uhe(r,e,t){var n=De({},e.barRectShape),i=r.__pictorialBarRect;i?Am(i,null,{shape:n},e,t):(i=r.__pictorialBarRect=new Xt({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function Hhe(r,e,t,n){if(t.symbolClip){var i=r.__pictorialClipPath,a=De({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(i)rr(i,{shape:a},o,l);else{a[s.wh]=0,i=new Xt({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var u={};u[s.wh]=t.clipShape[s.wh],fg[n?"updateProps":"initProps"](i,{shape:u},o,l)}}}function IK(r,e){var t=r.getItemModel(e);return t.getAnimationDelayParams=Nit,t.isAnimationEnabled=Fit,t}function Nit(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function Fit(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function RK(r,e,t,n){var i=new pt,a=new pt;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?Vhe(i,e,t):zhe(i,e,t),Uhe(i,t,n),Hhe(i,e,t,n),i.__pictorialShapeStr=Ghe(r,t),i.__pictorialSymbolMeta=t,i}function Bit(r,e,t){var n=t.animationModel,i=t.dataIndex,a=r.__pictorialBundle;rr(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},n,i),t.symbolRepeat?Vhe(r,e,t,!0):zhe(r,e,t,!0),Uhe(r,t,!0),Hhe(r,e,t,!0)}function MK(r,e,t,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];e6(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),B(a,function(s){cd(s,{scaleX:0,scaleY:0},t,e,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(e,null)}function Ghe(r,e){return[r.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function e6(r,e,t){B(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&e.call(t,n)})}function Am(r,e,t,n,i,a){e&&r.attr(e),n.symbolClip&&!i?t&&r.attr(t):t&&fg[i?"updateProps":"initProps"](r,t,n.animationModel,n.dataIndex,a)}function kK(r,e,t){var n=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");e6(r,function(m){if(m instanceof Ni){var y=m.style;m.useStyle(De({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},t.style))}else m.useStyle(t.style);var x=m.ensureState("emphasis");x.style=s,h&&(x.scaleX=m.scaleX*1.1,x.scaleY=m.scaleY*1.1),m.ensureState("blur").style=o,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=t.z2});var p=e.valueDim.posDesc[+(t.boundingLength>0)],v=r.__pictorialBarRect;v.ignoreClip=!0,ma(v,Li(i),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:Qm(e.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:p}),dn(r,c,f,a.get("disabled"))}function PK(r){var e=Math.round(r);return Math.abs(r-e)<1e-4?e:Math.ceil(r)}var Vit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,r.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Td(Lw.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(Lw);function zit(r){r.registerChartView(Mit),r.registerSeriesModel(Vit),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,xt(Ece,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Cce("pictorialBar"))}var Uit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;o.x=0,o.y=c.y+f[0];function h(y){return y.name}var p=new yf(this._layersSeries||[],l,h,h),v=[];p.add(Xe(m,this,"add")).update(Xe(m,this,"update")).remove(Xe(m,this,"remove")).execute();function m(y,x,w){var b=s._layers;if(y==="remove"){o.remove(b[x]);return}for(var T=[],C=[],D,E=l[x].indices,R=0;R<E.length;R++){var M=a.getItemLayout(E[R]),k=M.x,L=M.y0,O=M.y;T.push(k,L),C.push(k,L+O),D=a.getItemVisual(E[R],"style")}var N,W=a.getItemLayout(E[0]),U=t.getModel("label"),z=U.get("margin"),Y=t.getModel("emphasis");if(y==="add"){var re=v[x]=new pt;N=new vfe({shape:{points:T,stackedOnPoints:C,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),re.add(N),o.add(re),t.isAnimationEnabled()&&N.setClipPath(Hit(N.getBoundingRect(),t,function(){N.removeClipPath()}))}else{var re=b[w];N=re.childAt(0),o.add(re),v[x]=re,rr(N,{shape:{points:T,stackedOnPoints:C}},t),Xl(N)}ma(N,Li(t),{labelDataIndex:E[R-1],defaultText:a.getName(E[R-1]),inheritColor:D.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var K=N.getTextContent();K&&(K.x=W.x-z,K.y=W.y0+W.y/2),N.useStyle(D),a.setItemGraphicEl(x,N),ga(N,t),dn(N,Y.get("focus"),Y.get("blurScope"),Y.get("disabled"))}this._layersSeries=l,this._layers=v},e.type="themeRiver",e}(Dr);function Hit(r,e,t){var n=new Xt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Qr(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},e,t),n}var LL=2,Git=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gb(Xe(this.getData,this),Xe(this.getRawData,this))},e.prototype.fixData=function(t){var n=t.length,i={},a=s4(t,function(h){return i.hasOwnProperty(h[0]+"")||(i[h[0]+""]=-1),h[2]}),s=[];a.buckets.each(function(h,p){s.push({name:p,dataList:h})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var f=s[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,t[n]=[f,0,u],n++)}return t},e.prototype.getInitialData=function(t,n){for(var i=this.getReferringComponents("singleAxis",Qn).models[0],a=i.get("type"),s=ar(t.data,function(v){return v[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=tt(),c=0,f=0;f<o.length;++f)l.push(o[f][LL]),u.get(o[f][LL])||(u.set(o[f][LL],c),c++);var h=Fy(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:vC(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Va(h,this);return p.initData(o),p},e.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),i=[],a=0;a<n;++a)i[a]=a;var s=t.mapDimension("single"),o=s4(i,function(u){return t.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(f,h){return t.get(s,f)-t.get(s,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,n,i){ke(t)||(t=t?[t]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,p=s[c].indices.length,v=0;v<p;++v){var m=a.get(t[0],s[c].indices[v]),y=Math.abs(m-n);y<=f&&(u=m,f=y,h=s[c].indices[v])}o.push(h)}return{dataIndices:o,nestestValue:u}},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getName(t),o=a.get(a.mapDimension("value"),t);return Oi("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Lr);function jit(r,e){r.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=je(o[0],s.height),o[1]=je(o[1],s.height);var u=s.height-o[0]-o[1];LK(n,t,u)}else{o[0]=je(o[0],s.width),o[1]=je(o[1],s.width);var c=s.width-o[0]-o[1];LK(n,t,c)}n.setLayout("layoutInfo",a)})}function LK(r,e,t){if(r.count())for(var n=e.coordinateSystem,i=e.getLayerSeries(),a=r.mapDimension("single"),s=r.mapDimension("value"),o=Pe(i,function(y){return Pe(y.indices,function(x){var w=n.dataToPoint(r.get(a,x));return w[1]=r.get(s,x),w})}),l=Wit(o),u=l.y0,c=t/l.max,f=i.length,h=i[0].indices.length,p,v=0;v<h;++v){p=u[v]*c,r.setItemLayout(i[0].indices[v],{layerIndex:0,x:o[0][v][0],y0:p,y:o[0][v][1]*c});for(var m=1;m<f;++m)p+=o[m-1][v][1]*c,r.setItemLayout(i[m].indices[v],{layerIndex:m,x:o[m][v][0],y0:p,y:o[m][v][1]*c})}}function Wit(r){for(var e=r.length,t=r[0].length,n=[],i=[],a=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=r[l][s][1];o>a&&(a=o),n.push(o)}for(var u=0;u<t;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<t;++c){var f=n[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function $it(r){r.registerChartView(Uit),r.registerSeriesModel(Git),r.registerLayout(jit),r.registerProcessor(Hb("themeRiver"))}var qit=2,Yit=4,OK=function(r){ge(e,r);function e(t,n,i,a){var s=r.call(this)||this;s.z2=qit,s.textConfig={inside:!0},gt(s).seriesIndex=n.seriesIndex;var o=new Yt({z2:Yit,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,n,i,a),s}return e.prototype.updateData=function(t,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;gt(o).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=De({},c);f.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var p=n.getVisual("decal");p&&(h.decal=Zm(p,s));var v=lv(l.getModel("itemStyle"),f,!0);De(f,v),B(_s,function(w){var b=o.ensureState(w),T=l.getModel([w,"itemStyle"]);b.style=T.getItemStyle();var C=lv(T,f);C&&(b.shape=C)}),t?(o.setShape(f),o.shape.r=c.r0,Qr(o,{shape:{r:c.r}},i,n.dataIndex)):(rr(o,{shape:f},i),Xl(o)),o.useStyle(h),this._updateLabel(i);var m=l.getShallow("cursor");m&&o.attr("cursor",m),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),x=y==="relative"?$m(n.getAncestorsIndices(),n.getDescendantIndices()):y==="ancestor"?n.getAncestorsIndices():y==="descendant"?n.getDescendantIndices():y;dn(this,x,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),p=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(v!=null&&Math.abs(o)<v);h.ignore=!m,B(bw,function(x){var w=x==="normal"?i.getModel("label"):i.getModel([x,"label"]),b=x==="normal",T=b?h:h.ensureState(x),C=t.getFormattedLabel(p,x);b&&(C=C||n.node.name),T.style=Ur(w,{},null,x!=="normal",!0),C&&(T.style.text=C);var D=w.get("show");D!=null&&!b&&(T.ignore=!D);var E=y(w,"position"),R=b?f:f.states[x],M=R.style.fill;R.textConfig={outsideFill:w.get("color")==="inherit"?M:null,inside:E!=="outside"};var k,L=y(w,"distance")||0,O=y(w,"align"),N=y(w,"rotate"),W=Math.PI*.5,U=Math.PI*1.5,z=fo(N==="tangential"?Math.PI/2-l:l),Y=z>W&&!qm(z-W)&&z<U;E==="outside"?(k=s.r+L,O=Y?"right":"left"):!O||O==="center"?(o===2*Math.PI&&s.r0===0?k=0:k=(s.r+s.r0)/2,O="center"):O==="left"?(k=s.r0+L,O=Y?"right":"left"):O==="right"&&(k=s.r-L,O=Y?"left":"right"),T.style.align=O,T.style.verticalAlign=y(w,"verticalAlign")||"middle",T.x=k*u+s.cx,T.y=k*c+s.cy;var re=0;N==="radial"?re=fo(-l)+(Y?Math.PI:0):N==="tangential"?re=fo(Math.PI/2-l)+(Y?Math.PI:0):tr(N)&&(re=N*Math.PI/180),T.rotation=fo(re)});function y(x,w){var b=x.get(w);return b??a.get(w)}h.dirtyStyle()},e}(ja),o3="sunburstRootToNode",NK="sunburstHighlight",Xit="sunburstUnhighlight";function Kit(r){r.registerAction({type:o3,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(i,a){var s=Nw(e,[o3],i);if(s){var o=i.getViewRoot();o&&(e.direction=BV(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),r.registerAction({type:NK,update:"none"},function(e,t,n){e=De({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var s=Nw(e,[NK],a);s&&(e.dataIndex=s.node.dataIndex)}n.dispatchAction(De(e,{type:"highlight"}))}),r.registerAction({type:Xit,update:"updateView"},function(e,t,n){e=De({},e),n.dispatchAction(De(e,{type:"downplay"}))})}var Zit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){var s=this;this.seriesModel=t,this.api=i,this.ecModel=n;var o=t.getData(),l=o.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(w){h.push(w)});var p=this._oldChildren||[];v(h,p),x(l,u),this._initEvents(),this._oldChildren=h;function v(w,b){if(w.length===0&&b.length===0)return;new yf(b,w,T,T).add(C).update(C).remove(xt(C,null)).execute();function T(D){return D.getId()}function C(D,E){var R=D==null?null:w[D],M=E==null?null:b[E];m(R,M)}}function m(w,b){if(!f&&w&&!w.getValue()&&(w=null),w!==l&&b!==l){if(b&&b.piece)w?(b.piece.updateData(!1,w,t,n,i),o.setItemGraphicEl(w.dataIndex,b.piece)):y(b);else if(w){var T=new OK(w,t,n,i);c.add(T),o.setItemGraphicEl(w.dataIndex,T)}}}function y(w){w&&w.piece&&(c.remove(w.piece),w.piece=null)}function x(w,b){b.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,w,t,n,i):(s.virtualPiece=new OK(w,t,n,i),c.add(s.virtualPiece)),b.piece.off("click"),s.virtualPiece.on("click",function(T){s._rootToNode(b.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";aC(u,c)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:o3,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e}(Dr),Qit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};jhe(i);var a=this._levelModels=Pe(t.levels||[],function(l){return new sr(l,this,n)},this),s=FV.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var f=s.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=mI(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Xfe(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Lr);function jhe(r){var e=0;B(r.children,function(n){jhe(n);var i=n.value;ke(i)&&(i=i[0]),e+=i});var t=r.value;ke(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ke(r.value)?r.value[0]=t:r.value=t}var FK=Math.PI/180;function Jit(r,e,t){e.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");ke(a)||(a=[0,a]),ke(i)||(i=[i,i]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),u=je(i[0],s),c=je(i[1],o),f=je(a[0],l/2),h=je(a[1],l/2),p=-n.get("startAngle")*FK,v=n.get("minAngle")*FK,m=n.getData().tree.root,y=n.getViewRoot(),x=y.depth,w=n.get("sort");w!=null&&Whe(y,w);var b=0;B(y.children,function(z){!isNaN(z.getValue())&&b++});var T=y.getValue(),C=Math.PI/(T||b)*2,D=y.depth>0,E=y.height-(D?-1:1),R=(h-f)/(E||1),M=n.get("clockwise"),k=n.get("stillShowZeroSum"),L=M?1:-1,O=function(z,Y){if(z){var re=Y;if(z!==m){var K=z.getValue(),q=T===0&&k?C:K*C;q<v&&(q=v),re=Y+L*q;var Q=z.depth-x-(D?-1:1),j=f+R*Q,J=f+R*(Q+1),te=n.getLevelModel(z);if(te){var se=te.get("r0",!0),de=te.get("r",!0),Oe=te.get("radius",!0);Oe!=null&&(se=Oe[0],de=Oe[1]),se!=null&&(j=je(se,l/2)),de!=null&&(J=je(de,l/2))}z.setLayout({angle:q,startAngle:Y,endAngle:re,clockwise:M,cx:u,cy:c,r0:j,r:J})}if(z.children&&z.children.length){var Ae=0;B(z.children,function(ye){Ae+=O(ye,Y+Ae)})}return re-Y}};if(D){var N=f,W=f+R,U=Math.PI*2;m.setLayout({angle:U,startAngle:p,endAngle:p+U,clockwise:M,cx:u,cy:c,r0:N,r:W})}O(y,p)})}function Whe(r,e){var t=r.children||[];r.children=eat(t,e),t.length&&B(r.children,function(n){Whe(n,e)})}function eat(r,e){if(it(e)){var t=Pe(r,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),Pe(t,function(i){return r[i.index]})}else{var n=e==="asc";return r.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function tat(r){var e={};function t(n,i,a){for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",e);return n.depth>1&&$e(o)&&(o=qE(o,(n.depth-1)/(a-1)*.5)),o}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,n,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");De(u,l)})})}function rat(r){r.registerChartView(Zit),r.registerSeriesModel(Qit),r.registerLayout(xt(Jit,"sunburst")),r.registerProcessor(xt(Hb,"sunburst")),r.registerVisual(tat),Kit(r)}var BK={color:"fill",borderColor:"stroke"},nat={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},sf=Qt(),iat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,n){return cc(null,this)},e.prototype.getDataParams=function(t,n,i){var a=r.prototype.getDataParams.call(this,t,n);return i&&(a.info=sf(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Lr);function aat(r,e){return e=e||[0,0],Pe(["x","y"],function(t,n){var i=this.getAxis(t),a=e[n],s=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function sat(r){var e=r.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Xe(aat,r)}}}function oat(r,e){return e=e||[0,0],Pe([0,1],function(t){var n=e[t],i=r[t]/2,a=[],s=[];return a[t]=n-i,s[t]=n+i,a[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(s)[t])},this)}function lat(r){var e=r.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:r.getZoom()},api:{coord:function(t){return r.dataToPoint(t)},size:Xe(oat,r)}}}function uat(r,e){var t=this.getAxis(),n=e instanceof Array?e[0]:e,i=(r instanceof Array?r[0]:r)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(n-i)-t.dataToCoord(n+i))}function cat(r){var e=r.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Xe(uat,r)}}}function fat(r,e){return e=e||[0,0],Pe(["Radius","Angle"],function(t,n){var i="get"+t+"Axis",a=this[i](),s=e[n],o=r[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function hat(r){var e=r.getRadiusAxis(),t=r.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),s=t.dataToAngle(i[1]),o=r.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Xe(fat,r)}}}function dat(r){var e=r.getRect(),t=r.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)}}}}function $he(r,e,t,n){return r&&(r.legacy||r.legacy!==!1&&!t&&!n&&e!=="tspan"&&(e==="text"||Qe(r,"text")))}function qhe(r,e,t){var n=r,i,a,s;if(e==="text")s=n;else{s={},Qe(n,"text")&&(s.text=n.text),Qe(n,"rich")&&(s.rich=n.rich),Qe(n,"textFill")&&(s.fill=n.textFill),Qe(n,"textStroke")&&(s.stroke=n.textStroke),Qe(n,"fontFamily")&&(s.fontFamily=n.fontFamily),Qe(n,"fontSize")&&(s.fontSize=n.fontSize),Qe(n,"fontStyle")&&(s.fontStyle=n.fontStyle),Qe(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=Qe(n,"textPosition");t?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),Qe(n,"textPosition")&&(i.position=n.textPosition),Qe(n,"textOffset")&&(i.offset=n.textOffset),Qe(n,"textRotation")&&(i.rotation=n.textRotation),Qe(n,"textDistance")&&(i.distance=n.textDistance)}return VK(s,r),B(s.rich,function(l){VK(l,l)}),{textConfig:i,textContent:a}}function VK(r,e){e&&(e.font=e.textFont||e.font,Qe(e,"textStrokeWidth")&&(r.lineWidth=e.textStrokeWidth),Qe(e,"textAlign")&&(r.align=e.textAlign),Qe(e,"textVerticalAlign")&&(r.verticalAlign=e.textVerticalAlign),Qe(e,"textLineHeight")&&(r.lineHeight=e.textLineHeight),Qe(e,"textWidth")&&(r.width=e.textWidth),Qe(e,"textHeight")&&(r.height=e.textHeight),Qe(e,"textBackgroundColor")&&(r.backgroundColor=e.textBackgroundColor),Qe(e,"textPadding")&&(r.padding=e.textPadding),Qe(e,"textBorderColor")&&(r.borderColor=e.textBorderColor),Qe(e,"textBorderWidth")&&(r.borderWidth=e.textBorderWidth),Qe(e,"textBorderRadius")&&(r.borderRadius=e.textBorderRadius),Qe(e,"textBoxShadowColor")&&(r.shadowColor=e.textBoxShadowColor),Qe(e,"textBoxShadowBlur")&&(r.shadowBlur=e.textBoxShadowBlur),Qe(e,"textBoxShadowOffsetX")&&(r.shadowOffsetX=e.textBoxShadowOffsetX),Qe(e,"textBoxShadowOffsetY")&&(r.shadowOffsetY=e.textBoxShadowOffsetY))}function zK(r,e,t){var n=r;n.textPosition=n.textPosition||t.position||"inside",t.offset!=null&&(n.textOffset=t.offset),t.rotation!=null&&(n.textRotation=t.rotation),t.distance!=null&&(n.textDistance=t.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||"#000";UK(n,e);var s=n.textFill==null;return i?s&&(n.textFill=t.insideFill||"#fff",!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=r.fill||t.outsideFill||"#000"),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=e.text,n.rich=e.rich,B(e.rich,function(o){UK(o,o)}),n}function UK(r,e){e&&(Qe(e,"fill")&&(r.textFill=e.fill),Qe(e,"stroke")&&(r.textStroke=e.fill),Qe(e,"lineWidth")&&(r.textStrokeWidth=e.lineWidth),Qe(e,"font")&&(r.font=e.font),Qe(e,"fontStyle")&&(r.fontStyle=e.fontStyle),Qe(e,"fontWeight")&&(r.fontWeight=e.fontWeight),Qe(e,"fontSize")&&(r.fontSize=e.fontSize),Qe(e,"fontFamily")&&(r.fontFamily=e.fontFamily),Qe(e,"align")&&(r.textAlign=e.align),Qe(e,"verticalAlign")&&(r.textVerticalAlign=e.verticalAlign),Qe(e,"lineHeight")&&(r.textLineHeight=e.lineHeight),Qe(e,"width")&&(r.textWidth=e.width),Qe(e,"height")&&(r.textHeight=e.height),Qe(e,"backgroundColor")&&(r.textBackgroundColor=e.backgroundColor),Qe(e,"padding")&&(r.textPadding=e.padding),Qe(e,"borderColor")&&(r.textBorderColor=e.borderColor),Qe(e,"borderWidth")&&(r.textBorderWidth=e.borderWidth),Qe(e,"borderRadius")&&(r.textBorderRadius=e.borderRadius),Qe(e,"shadowColor")&&(r.textBoxShadowColor=e.shadowColor),Qe(e,"shadowBlur")&&(r.textBoxShadowBlur=e.shadowBlur),Qe(e,"shadowOffsetX")&&(r.textBoxShadowOffsetX=e.shadowOffsetX),Qe(e,"shadowOffsetY")&&(r.textBoxShadowOffsetY=e.shadowOffsetY),Qe(e,"textShadowColor")&&(r.textShadowColor=e.textShadowColor),Qe(e,"textShadowBlur")&&(r.textShadowBlur=e.textShadowBlur),Qe(e,"textShadowOffsetX")&&(r.textShadowOffsetX=e.textShadowOffsetX),Qe(e,"textShadowOffsetY")&&(r.textShadowOffsetY=e.textShadowOffsetY))}var Yhe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},HK=Gt(Yhe);ol(rc,function(r,e){return r[e]=1,r},{});rc.join(", ");var CC=["","style","shape","extra"],ty=Qt();function t6(r,e,t,n,i){var a=r+"Animation",s=Cy(r,n,i)||{},o=ty(e).userDuring;return s.duration>0&&(s.during=o?Xe(yat,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=r),De(s,t[a]),s}function AA(r,e,t,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=t.isAnimationEnabled(),l=ty(r),u=e.style;l.userDuring=e.during;var c={},f={};if(xat(r,e,f),jK("shape",e,f),jK("extra",e,f),!a&&o&&(_at(r,e,c),GK("shape",r,e,c),GK("extra",r,e,c),wat(r,e,u,c)),f.style=u,pat(r,f,s),gat(r,e),o)if(a){var h={};B(CC,function(v){var m=v?e[v]:e;m&&m.enterFrom&&(v&&(h[v]=h[v]||{}),De(v?h[v]:h,m.enterFrom))});var p=t6("enter",r,e,t,i);p.duration>0&&r.animateFrom(h,p)}else vat(r,e,i||0,t,c);Xhe(r,e),u?r.dirty():r.markRedraw()}function Xhe(r,e){for(var t=ty(r).leaveToProps,n=0;n<CC.length;n++){var i=CC[n],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=ty(r).leaveToProps={}),i&&(t[i]=t[i]||{}),De(i?t[i]:t,a.leaveTo))}}function xI(r,e,t,n){if(r){var i=r.parent,a=ty(r).leaveToProps;if(a){var s=t6("update",r,e,t,0);s.done=function(){i.remove(r)},r.animateTo(a,s)}else i.remove(r)}}function Sv(r){return r==="all"}function pat(r,e,t){var n=e.style;if(!r.isGroup&&n){if(t){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(r.style)}}r.setStyle(n)}e&&(e.style=null,e&&r.attr(e),e.style=n)}function vat(r,e,t,n,i){if(i){var a=t6("update",r,e,n,t);a.duration>0&&r.animateFrom(i,a)}}function gat(r,e){Qe(e,"silent")&&(r.silent=e.silent),Qe(e,"ignore")&&(r.ignore=e.ignore),r instanceof ll&&Qe(e,"invisible")&&(r.invisible=e.invisible),r instanceof Ht&&Qe(e,"autoBatch")&&(r.autoBatch=e.autoBatch)}var Tu={},mat={setTransform:function(r,e){return Tu.el[r]=e,this},getTransform:function(r){return Tu.el[r]},setShape:function(r,e){var t=Tu.el,n=t.shape||(t.shape={});return n[r]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(r){var e=Tu.el.shape;if(e)return e[r]},setStyle:function(r,e){var t=Tu.el,n=t.style;return n&&(n[r]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(r){var e=Tu.el.style;if(e)return e[r]},setExtra:function(r,e){var t=Tu.el.extra||(Tu.el.extra={});return t[r]=e,this},getExtra:function(r){var e=Tu.el.extra;if(e)return e[r]}};function yat(){var r=this,e=r.el;if(e){var t=ty(e).userDuring,n=r.userDuring;if(t!==n){r.el=r.userDuring=null;return}Tu.el=e,n(mat)}}function GK(r,e,t,n){var i=t[r];if(i){var a=e[r],s;if(a){var o=t.transition,l=i.transition;if(l)if(!s&&(s=n[r]={}),Sv(l))De(s,a);else for(var u=Pr(l),c=0;c<u.length;c++){var f=u[c],h=a[f];s[f]=h}else if(Sv(o)||Dt(o,r)>=0){!s&&(s=n[r]={});for(var p=Gt(a),c=0;c<p.length;c++){var f=p[c],h=a[f];bat(i[f],h)&&(s[f]=h)}}}}}function jK(r,e,t){var n=e[r];if(n)for(var i=t[r]={},a=Gt(n),s=0;s<a.length;s++){var o=a[s];i[o]=Dx(n[o])}}function _at(r,e,t){for(var n=e.transition,i=Sv(n)?rc:Pr(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=r[s];t[s]=o}}}function xat(r,e,t){for(var n=0;n<HK.length;n++){var i=HK[n],a=Yhe[i],s=e[i];s&&(t[a[0]]=s[0],t[a[1]]=s[1])}for(var n=0;n<rc.length;n++){var o=rc[n];e[o]!=null&&(t[o]=e[o])}}function wat(r,e,t,n){if(t){var i=r.style,a;if(i){var s=t.transition,o=e.transition;if(s&&!Sv(s)){var l=Pr(s);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(r.getAnimationStyleProps&&(Sv(o)||Sv(s)||Dt(o,"style")>=0)){var h=r.getAnimationStyleProps(),p=h?h.style:null;if(p){!a&&(a=n.style={});for(var v=Gt(t),u=0;u<v.length;u++){var c=v[u];if(p[c]){var f=i[c];a[c]=f}}}}}}}function bat(r,e){return va(r)?r!==e:r!=null&&isFinite(r)}var Khe=Qt(),Sat=["percent","easing","shape","style","extra"];function Zhe(r){r.stopAnimation("keyframe"),r.attr(Khe(r))}function DC(r,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ke(e)){B(e,function(o){DC(r,o,t)});return}var n=e.keyframes,i=e.duration;if(t&&i==null){var a=Cy("enter",t,0);i=a&&a.duration}if(!(!n||!i)){var s=Khe(r);B(CC,function(o){if(!(o&&!r[o])){var l;n.sort(function(u,c){return u.percent-c.percent}),B(n,function(u){var c=r.animators,f=o?u[o]:u;if(f){var h=Gt(f);if(o||(h=ar(h,function(m){return Dt(Sat,m)<0})),!!h.length){l||(l=r.animate(o,e.loop,!0),l.scope="keyframe");for(var p=0;p<c.length;p++)c[p]!==l&&c[p].targetName===l.targetName&&c[p].stopTracks(h);o&&(s[o]=s[o]||{});var v=o?s[o]:s;B(h,function(m){v[m]=((o?r[o]:r)||{})[m]}),l.whenWithKeys(i*u.percent,f,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var of="emphasis",Ph="normal",r6="blur",n6="select",dd=[Ph,of,r6,n6],OL={normal:["itemStyle"],emphasis:[of,"itemStyle"],blur:[r6,"itemStyle"],select:[n6,"itemStyle"]},NL={normal:["label"],emphasis:[of,"label"],blur:[r6,"label"],select:[n6,"label"]},Tat=["x","y"],Aat="e\0\0",Bo={normal:{},emphasis:{},blur:{},select:{}},Eat={cartesian2d:sat,geo:lat,single:cat,polar:hat,calendar:dat};function l3(r){return r instanceof Ht}function u3(r){return r instanceof ll}function Cat(r,e){e.copyTransform(r),u3(e)&&u3(r)&&(e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e.invisible=r.invisible,e.ignore=r.ignore,l3(e)&&l3(r)&&e.setShape(r.shape))}var Dat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,u=WK(t,o,n,i);s||l.removeAll(),o.diff(s).add(function(f){FL(i,null,f,u(f,a),t,l,o)}).remove(function(f){var h=s.getItemGraphicEl(f);h&&xI(h,sf(h).option,t)}).update(function(f,h){var p=s.getItemGraphicEl(h);FL(i,p,f,u(f,a),t,l,o)}).execute();var c=t.get("clip",!0)?zb(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,n,i,a,s){var o=n.getData(),l=WK(n,o,i,a),u=this._progressiveEls=[];function c(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=FL(null,null,f,l(f,s),n,this.group,o);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Sd(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},e.type="custom",e}(Dr);function i6(r){var e=r.type,t;if(e==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=ede(n);t=Pb(a,null,i,n.layout||"center"),sf(t).customPathData=a}else if(e==="image")t=new Ni({}),sf(t).customImagePath=r.style.image;else if(e==="text")t=new Yt({});else if(e==="group")t=new pt;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=KD(e);if(!s){var o="";dr(o)}t=new s}return sf(t).customGraphicType=e,t.name=r.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function a6(r,e,t,n,i,a,s){Zhe(e);var o=i&&i.normal.cfg;o&&e.setTextConfig(o),n&&n.transition==null&&(n.transition=Tat);var l=n&&n.style;if(l){if(e.type==="text"){var u=l;Qe(u,"textFill")&&(u.fill=u.textFill),Qe(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=l3(e)?l.decal:null;r&&f&&(f.dirty=!0,c=Zm(f,r)),l.__decalPattern=c}if(u3(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}AA(e,n,a,{dataIndex:t,isInit:s,clearStyle:!0}),DC(e,n.keyframeAnimation,a)}function Qhe(r,e,t,n,i){var a=e.isGroup?null:e,s=i&&i[r].cfg;if(a){var o=a.ensureState(r);if(n===!1){var l=a.getState(r);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),Hv(a)}}function Iat(r,e,t){if(!r.isGroup){var n=r,i=t.currentZ,a=t.currentZLevel;n.z=i,n.zlevel=a;var s=e.z2;s!=null&&(n.z2=s||0);for(var o=0;o<dd.length;o++)Rat(n,e,dd[o])}}function Rat(r,e,t){var n=t===Ph,i=n?e:IC(e,t),a=i?i.z2:null,s;a!=null&&(s=n?r:r.ensureState(t),s.z2=a||0)}function WK(r,e,t,n){var i=r.get("renderItem"),a=r.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):Eat[a.type](a));for(var o=ut({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:T,style:D,ordinalRawValue:C,styleEmphasis:E,visual:k,barLayout:L,currentSeriesIndices:O,font:N},s.api||{}),l={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:Mat(r.getData())},u,c,f={},h={},p={},v={},m=0;m<dd.length;m++){var y=dd[m];p[y]=r.getModel(OL[y]),v[y]=r.getModel(NL[y])}function x(W){return W===u?c||(c=e.getItemModel(W)):e.getItemModel(W)}function w(W,U){return e.hasItemOption?W===u?f[U]||(f[U]=x(W).getModel(OL[U])):x(W).getModel(OL[U]):p[U]}function b(W,U){return e.hasItemOption?W===u?h[U]||(h[U]=x(W).getModel(NL[U])):x(W).getModel(NL[U]):v[U]}return function(W,U){return u=W,c=null,f={},h={},i&&i(ut({dataIndexInside:W,dataIndex:e.getRawIndex(W),actionType:U?U.type:null},l),o)};function T(W,U){return U==null&&(U=u),e.getStore().get(e.getDimensionIndex(W||0),U)}function C(W,U){U==null&&(U=u),W=W||0;var z=e.getDimensionInfo(W);if(!z){var Y=e.getDimensionIndex(W);return Y>=0?e.getStore().get(Y,U):void 0}var re=e.get(z.name,U),K=z&&z.ordinalMeta;return K?K.categories[re]:re}function D(W,U){U==null&&(U=u);var z=e.getItemVisual(U,"style"),Y=z&&z.fill,re=z&&z.opacity,K=w(U,Ph).getItemStyle();Y!=null&&(K.fill=Y),re!=null&&(K.opacity=re);var q={inheritColor:$e(Y)?Y:"#000"},Q=b(U,Ph),j=Ur(Q,null,q,!1,!0);j.text=Q.getShallow("show")?_t(r.getFormattedLabel(U,Ph),Qm(e,U)):null;var J=nC(Q,q,!1);return M(W,K),K=zK(K,j,J),W&&R(K,W),K.legacy=!0,K}function E(W,U){U==null&&(U=u);var z=w(U,of).getItemStyle(),Y=b(U,of),re=Ur(Y,null,null,!0,!0);re.text=Y.getShallow("show")?Bl(r.getFormattedLabel(U,of),r.getFormattedLabel(U,Ph),Qm(e,U)):null;var K=nC(Y,null,!0);return M(W,z),z=zK(z,re,K),W&&R(z,W),z.legacy=!0,z}function R(W,U){for(var z in U)Qe(U,z)&&(W[z]=U[z])}function M(W,U){W&&(W.textFill&&(U.textFill=W.textFill),W.textPosition&&(U.textPosition=W.textPosition))}function k(W,U){if(U==null&&(U=u),Qe(BK,W)){var z=e.getItemVisual(U,"style");return z?z[BK[W]]:null}if(Qe(nat,W))return e.getItemVisual(U,W)}function L(W){if(a.type==="cartesian2d"){var U=a.getBaseAxis();return iKe(ut({axis:U},W))}}function O(){return t.getCurrentSeriesIndices()}function N(W){return BB(W,t)}}function Mat(r){var e={};return B(r.dimensions,function(t){var n=r.getDimensionInfo(t);if(!n.isExtraCoord){var i=n.coordDim,a=e[i]=e[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(t)}}),e}function FL(r,e,t,n,i,a,s){if(!n){a.remove(e);return}var o=s6(r,e,t,n,i,a);return o&&s.setItemGraphicEl(t,o),o&&dn(o,n.focus,n.blurScope,n.emphasisDisabled),o}function s6(r,e,t,n,i,a){var s=-1,o=e;e&&Jhe(e,n,i)&&(s=Dt(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=i6(n),o&&Cat(o,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Bo.normal.cfg=Bo.normal.conOpt=Bo.emphasis.cfg=Bo.emphasis.conOpt=Bo.blur.cfg=Bo.blur.conOpt=Bo.select.cfg=Bo.select.conOpt=null,Bo.isLegacy=!1,Pat(u,t,n,i,l,Bo),kat(u,t,n,i,l),a6(r,u,t,n,Bo,i,l),Qe(n,"info")&&(sf(u).info=n.info);for(var c=0;c<dd.length;c++){var f=dd[c];if(f!==Ph){var h=IC(n,f),p=o6(n,h,f);Qhe(f,u,h,p,Bo)}}return Iat(u,n,i),n.type==="group"&&Lat(r,u,t,n,i),s>=0?a.replaceAt(u,s):a.add(u),u}function Jhe(r,e,t){var n=sf(r),i=e.type,a=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&Bat(a)&&ede(a)!==n.customPathData||i==="image"&&Qe(s,"image")&&s.image!==n.customImagePath}function kat(r,e,t,n,i){var a=t.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var s=r.getClipPath();s&&Jhe(s,a,n)&&(s=null),s||(s=i6(a),r.setClipPath(s)),a6(null,s,e,a,null,n,i)}}function Pat(r,e,t,n,i,a){if(!r.isGroup){$K(t,null,a),$K(t,of,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=r.getTextContent();if(s===!1)c&&r.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=i6(s),r.setTextContent(c)),a6(null,c,e,s,null,n,i);for(var f=s&&s.style,h=0;h<dd.length;h++){var p=dd[h];if(p!==Ph){var v=a[p].conOpt;Qhe(p,c,v,o6(s,v,p),null)}}f?c.dirty():c.markRedraw()}}}}function $K(r,e,t){var n=e?IC(r,e):r,i=e?o6(r,n,of):r.style,a=r.type,s=n?n.textConfig:null,o=r.textContent,l=o?e?IC(o,e):o:null;if(i&&(t.isLegacy||$he(i,a,!!s,!!l))){t.isLegacy=!0;var u=qhe(i,a,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=s,f.conOpt=l}function IC(r,e){return e?r?r[e]:null:r}function o6(r,e,t){var n=e&&e.style;return n==null&&t===of&&r&&(n=r.styleEmphasis),n}function Lat(r,e,t,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){Nat({api:r,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<s;c++){var f=a[c],h=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),s6(r,h,t,f,i,e)):h.ignore=!0}for(var p=e.childCount()-1;p>=c;p--){var v=e.childAt(p);Oat(e,v,i)}}}function Oat(r,e,t){e&&xI(e,sf(r).option,t)}function Nat(r){new yf(r.oldChildren,r.newChildren,qK,qK,r).add(YK).update(YK).remove(Fat).execute()}function qK(r,e){var t=r&&r.name;return t??Aat+e}function YK(r,e){var t=this.context,n=r!=null?t.newChildren[r]:null,i=e!=null?t.oldChildren[e]:null;s6(t.api,i,t.dataIndex,n,t.seriesModel,t.group)}function Fat(r){var e=this.context,t=e.oldChildren[r];t&&xI(t,sf(t).option,e.seriesModel)}function ede(r){return r&&(r.pathData||r.d)}function Bat(r){return r&&(Qe(r,"pathData")||Qe(r,"d"))}function Vat(r){r.registerChartView(Dat),r.registerSeriesModel(iat)}var jp=Qt(),XK=ht,BL=Xe,l6=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,n,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new pt,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),n.getZr().add(o);else{var h=xt(KK,t,f);this.updatePointerEl(o,u,h),this.updateLabelEl(o,u,h,t)}QK(o,t,!0),this._renderHandle(a)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=RV(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(e,t,n,i,a){},r.prototype.createPointerEl=function(e,t,n,i){var a=t.pointer;if(a){var s=jp(e).pointerEl=new fg[a.type](XK(t.pointer));e.add(s)}},r.prototype.createLabelEl=function(e,t,n,i){if(t.label){var a=jp(e).labelEl=new Yt(XK(t.label));e.add(a),ZK(a,i)}},r.prototype.updatePointerEl=function(e,t,n){var i=jp(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,n,i){var a=jp(e).labelEl;a&&(a.setStyle(t.label.style),n(a,{x:t.label.x,y:t.label.y}),ZK(a,i))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=Dy(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){vf(u.event)},onmousedown:BL(this._onHandleDragMove,this,0,0),drift:BL(this._onHandleDragMove,this),ondragend:BL(this._onHandleDragEnd,this)}),n.add(i)),QK(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ke(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Oy(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},r.prototype._moveHandleToValue=function(e,t){KK(this._axisPointerModel,!t&&this._moveAnimation,this._handle,VL(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(VL(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(VL(i)),jp(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Dw(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},r}();function KK(r,e,t,n){tde(jp(t).lastProp,n)||(jp(t).lastProp=n,e?rr(t,n,r):(t.stopAnimation(),t.attr(n)))}function tde(r,e){if(ct(r)&&ct(e)){var t=!0;return B(e,function(n,i){t=t&&tde(r[i],n)}),!!t}else return r===e}function ZK(r,e){r[e.get(["label","show"])?"show":"hide"]()}function VL(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function QK(r,e,t){var n=e.get("z"),i=e.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=t)})}function u6(r){var e=r.get("type"),t=r.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function rde(r,e,t,n,i){var a=t.get("value"),s=nde(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=hg(o.get("padding")||0),u=o.getFont(),c=Db(s,u),f=i.position,h=c.width+l[1]+l[3],p=c.height+l[0]+l[2],v=i.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var m=i.verticalAlign;m==="bottom"&&(f[1]-=p),m==="middle"&&(f[1]-=p/2),zat(f,h,p,n);var y=o.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),r.label={x:f[0],y:f[1],style:Ur(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function zat(r,e,t,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+e,i)-e,r[1]=Math.min(r[1]+t,a)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function nde(r,e,t,n,i){r=e.scale.parse(r);var a=e.scale.getLabel({value:r},{precision:i.precision}),s=i.formatter;if(s){var o={value:_V(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};B(n,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&o.seriesData.push(f)}),$e(s)?a=s.replace("{value}",a):it(s)&&(a=s(o))}return a}function c6(r,e,t){var n=Us();return bd(n,n,t.rotation),ql(n,n,t.position),Ul([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function ide(r,e,t,n,i,a){var s=vs.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),rde(e,n,i,a,{position:c6(n.axis,r,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function f6(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function ade(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}function JK(r,e,t,n,i,a){return{cx:r,cy:e,r0:t,r:n,startAngle:i,endAngle:a,clockwise:!0}}var Uat=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),c=eZ(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var h=u6(a),p=Hat[u](o,f,c);p.style=h,t.graphicKey=p.type,t.pointer=p}var v=G4(l.model,i);ide(n,t,v,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=G4(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=c6(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=eZ(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,f=[t.x,t.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,p=[h,h];p[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:p,tooltipOption:v[c]}},e}(l6);function eZ(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var Hat={line:function(r,e,t){var n=f6([e,t[0]],[e,t[1]],tZ(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=Math.max(1,r.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:ade([e-n/2,t[0]],[n,i],tZ(r))}}};function tZ(r){return r.dim==="x"?0:1}var Gat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(zt),Zc=Qt(),jat=B;function sde(r,e,t){if(!Ut.node){var n=e.getZr();Zc(n).records||(Zc(n).records={}),Wat(n,e);var i=Zc(n).records[r]||(Zc(n).records[r]={});i.handler=t}}function Wat(r,e){if(Zc(r).initialized)return;Zc(r).initialized=!0,t("click",xt(rZ,"click")),t("mousemove",xt(rZ,"mousemove")),t("globalout",qat);function t(n,i){r.on(n,function(a){var s=Yat(e);jat(Zc(r).records,function(o){o&&i(o,a,s.dispatchAction)}),$at(s.pendings,e)})}}function $at(r,e){var t=r.showTip.length,n=r.hideTip.length,i;t?i=r.showTip[t-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function qat(r,e,t){r.handler("leave",null,t)}function rZ(r,e,t,n){e.handler(r,t,n)}function Yat(r){var e={showTip:[],hideTip:[]},t=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=t,r.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function c3(r,e){if(!Ut.node){var t=e.getZr(),n=(Zc(t).records||{})[r];n&&(Zc(t).records[r]=null)}}var Xat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=n.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";sde("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){c3("axisPointer",n)},e.prototype.dispose=function(t,n){c3("axisPointer",n)},e.type="axisPointer",e}(qr);function ode(r,e){var t=[],n=r.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=zv(a,r);if(s==null||s<0||ke(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,p=f==="x"||f==="radius"?1:0,v=a.mapDimension(h),m=[];m[p]=a.get(v,s),m[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(Pe(l.dimensions,function(x){return a.mapDimension(x)}),s))||[];else if(o){var y=o.getBoundingRect().clone();y.applyTransform(o.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:o}}var nZ=Qt();function Kat(r,e,t){var n=r.currTrigger,i=[r.x,r.y],a=r,s=r.dispatchAction||Xe(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){EA(i)&&(i=ode({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=EA(i),u=a.axesInfo,c=o.axesInfo,f=n==="leave"||EA(i),h={},p={},v={list:[],map:{}},m={showPointer:xt(Qat,p),showTooltip:xt(Jat,v)};B(o.coordSysMap,function(x,w){var b=l||x.containPoint(i);B(o.coordSysAxesInfo[w],function(T,C){var D=T.axis,E=nst(u,T);if(!f&&b&&(!u||E)){var R=E&&E.value;R==null&&!l&&(R=D.pointToData(i)),R!=null&&iZ(T,R,m,!1,h)}})});var y={};return B(c,function(x,w){var b=x.linkGroup;b&&!p[w]&&B(b.axesInfo,function(T,C){var D=p[C];if(T!==x&&D){var E=D.value;b.mapper&&(E=x.axis.scale.parse(b.mapper(E,aZ(T),aZ(x)))),y[x.key]=E}})}),B(y,function(x,w){iZ(c[w],x,m,!0,h)}),est(p,c,h),tst(v,i,r,s),rst(c,s,t),h}}function iZ(r,e,t,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var s=Zat(e,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&De(i,o[0]),!n&&r.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,o),t.showTooltip(r,s,l)}}function Zat(r,e){var t=e.axis,n=t.dim,i=r,a=[],s=Number.MAX_VALUE,o=-1;return B(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,h;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(c,r,t);h=p.dataIndices,f=p.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],r,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var v=r-f,m=Math.abs(v);m<=s&&((m<s||v>=0&&o<0)&&(s=m,o=v,i=f,a.length=0),B(h,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:i}}function Qat(r,e,t,n){r[e.key]={value:t,payloadBatch:n}}function Jat(r,e,t,n){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=Ow(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function est(r,e,t){var n=t.axesInfo=[];B(e,function(i,a){var s=i.axisPointerModel.option,o=r[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function tst(r,e,t,n){if(EA(e)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function rst(r,e,t){var n=t.getZr(),i="axisPointerLastHighlights",a=nZ(n)[i]||{},s=nZ(n)[i]={};B(r,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&B(f.seriesDataIndices,function(h){var p=h.seriesIndex+" | "+h.dataIndex;s[p]=h})});var o=[],l=[];B(a,function(u,c){!s[c]&&l.push(u)}),B(s,function(u,c){!a[c]&&o.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function nst(r,e){for(var t=0;t<(r||[]).length;t++){var n=r[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function aZ(r){var e=r.axis.model,t={},n=t.axisDim=r.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function EA(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function $b(r){vg.registerAxisPointerClass("CartesianAxisPointer",Uat),r.registerComponentModel(Gat),r.registerComponentView(Xat),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ke(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=fJe(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Kat)}function ist(r){Pt(Ofe),Pt($b)}var ast=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),f=o.dataToCoord(n),h=a.get("type");if(h&&h!=="none"){var p=u6(a),v=ost[h](o,l,f,c);v.style=p,t.graphicKey=v.type,t.pointer=v}var m=a.get(["label","margin"]),y=sst(n,i,a,l,m);rde(t,i,a,s,y)},e}(l6);function sst(r,e,t,n,i){var a=e.axis,s=a.dataToCoord(r),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=Us();bd(h,h,o),ql(h,h,[n.cx,n.cy]),u=Ul([s,-i],h);var p=e.getModel("axisLabel").get("rotate")||0,v=vs.innerTextLayout(o,p*Math.PI/180,-1);c=v.textAlign,f=v.textVerticalAlign}else{var m=l[1];u=n.coordToPoint([m+i,s]);var y=n.cx,x=n.cy;c=Math.abs(u[0]-y)/m<.3?"center":u[0]>y?"left":"right",f=Math.abs(u[1]-x)/m<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var ost={line:function(r,e,t,n){return r.dim==="angle"?{type:"Line",shape:f6(e.coordToPoint([n[0],t]),e.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(r,e,t,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:JK(e.cx,e.cy,n[0],n[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:JK(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},lst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var n,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(zt),h6=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Qn).models[0]},e.type="polarAxis",e}(zt);Cn(h6,Vy);var ust=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(h6),cst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(h6),d6=function(r){ge(e,r);function e(t,n){return r.call(this,"radius",t,n)||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e}(pl);d6.prototype.dataToRadius=pl.prototype.dataToCoord;d6.prototype.radiusToData=pl.prototype.coordToData;var fst=Qt(),p6=function(r){ge(e,r);function e(t,n){return r.call(this,"angle",t,n||[0,360])||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),i=t.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),u=Math.abs(l),c=Db(o==null?"":o+"",n.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var p=Math.max(0,Math.floor(h)),v=fst(t.model),m=v.lastAutoInterval,y=v.lastTickCount;return m!=null&&y!=null&&Math.abs(m-p)<=1&&Math.abs(y-s)<=1&&m>p?p=m:(v.lastTickCount=s,v.lastAutoInterval=p),p},e}(pl);p6.prototype.dataToAngle=pl.prototype.dataToCoord;p6.prototype.angleToData=pl.prototype.coordToData;var lde=["radius","angle"],hst=function(){function r(e){this.dimensions=lde,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new d6,this._angleAxis=new p6,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},r.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},r.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},r.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},r.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},r.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},r.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI,i=Math.cos(n)*t+this.cx,a=-Math.sin(n)*t+this.cy;return[i,a]},r.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var i=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,p=this.r0;return h!==p&&f-s<=h*h&&f+s>=p*p}}},r.prototype.convertToPixel=function(e,t,n){var i=sZ(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=sZ(t);return i===this?this.pointToData(n):null},r}();function sZ(r){var e=r.seriesModel,t=r.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function dst(r,e,t){var n=e.get("center"),i=t.getWidth(),a=t.getHeight();r.cx=je(n[0],i),r.cy=je(n[1],a);var s=r.getRadiusAxis(),o=Math.min(i,a)/2,l=e.get("radius");l==null?l=[0,"100%"]:ke(l)||(l=[0,l]);var u=[je(l[0],o),je(l[1],o)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}function pst(r,e){var t=this,n=t.getAngleAxis(),i=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();B(gC(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),B(gC(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),jv(n.scale,n.model),jv(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function vst(r){return r.mainType==="angleAxis"}function oZ(r,e){var t;if(r.type=e.get("type"),r.scale=Fb(e),r.onBand=e.get("boundaryGap")&&r.type==="category",r.inverse=e.get("inverse"),vst(e)){r.inverse=r.inverse!==e.get("clockwise");var n=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:n+(r.inverse?-360:360);r.setExtent(n,i)}e.axis=r,r.model=e}var gst={dimensions:lde,create:function(r,e){var t=[];return r.eachComponent("polar",function(n,i){var a=new hst(i+"");a.update=pst;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");oZ(s,l),oZ(o,u),dst(a,n,e),t.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Qn).models[0];n.coordinateSystem=i.coordinateSystem}}),t}},mst=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function F2(r,e,t){e[1]>e[0]&&(e=e.slice().reverse());var n=r.coordToPoint([e[0],t]),i=r.coordToPoint([e[1],t]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function B2(r){var e=r.getRadiusAxis();return e.inverse?0:1}function lZ(r){var e=r[0],t=r[r.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&r.pop()}var yst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=Pe(i.getViewLabels(),function(c){c=ht(c);var f=i.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});lZ(u),lZ(o),B(mst,function(c){t.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&_st[c](this.group,t,a,o,l,s,u)},this)}},e.type="angleAxis",e}(vg),_st={axisLine:function(r,e,t,n,i,a){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=B2(t),f=c?0:1,h,p=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new fg[p]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):h=new Ty({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:s.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,r.add(h)},axisTick:function(r,e,t,n,i,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[B2(t)],u=Pe(n,function(c){return new mi({shape:F2(t,[l,l+o],c.coord)})});r.add(so(u,{style:ut(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[B2(t)],c=[],f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)c.push(new mi({shape:F2(t,[u,u+l],i[f][h].coord)}));r.add(so(c,{style:ut(o.getModel("lineStyle").getLineStyle(),ut(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,e,t,n,i,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");B(s,function(f,h){var p=l,v=f.tickValue,m=a[B2(t)],y=t.coordToPoint([m+u,f.coord]),x=t.cx,w=t.cy,b=Math.abs(y[0]-x)/m<.3?"center":y[0]>x?"left":"right",T=Math.abs(y[1]-w)/m<.3?"middle":y[1]>w?"top":"bottom";if(o&&o[v]){var C=o[v];ct(C)&&C.textStyle&&(p=new sr(C.textStyle,l,l.ecModel))}var D=new Yt({silent:vs.isLabelSilent(e),style:Ur(p,{x:y[0],y:y[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:b,verticalAlign:T})});if(r.add(D),c){var E=vs.makeAxisEventDataBase(e);E.targetType="axisLabel",E.value=f.rawLabel,gt(D).eventData=E}},this)},splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new mi({shape:F2(t,a,n[f].coord)}))}for(var f=0;f<c.length;f++)r.add(so(c[f],{style:ut({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new mi({shape:F2(t,a,i[u][c].coord)}));r.add(so(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(r,e,t,n,i,a){if(n.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-n[0].coord*f,p=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),m=e.get("clockwise"),y=1,x=n.length;y<=x;y++){var w=y===x?n[0].coord:n[y].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new ja({shape:{cx:t.cx,cy:t.cy,r0:p,r:v,startAngle:h,endAngle:-w*f,clockwise:m},silent:!0})),h=-w*f}for(var y=0;y<c.length;y++)r.add(so(c[y],{style:ut({fill:l[y%l.length]},o.getAreaStyle()),silent:!0}))}}},xst=["axisLine","axisTickLabel","axisName"],wst=["splitLine","splitArea","minorSplitLine"],bst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,a=this._axisGroup=new pt;this.group.add(a);var s=t.axis,o=s.polar,l=o.getAngleAxis(),u=s.getTicksCoords(),c=s.getMinorTicksCoords(),f=l.getExtent()[0],h=s.getExtent(),p=Tst(o,t,f),v=new vs(t,p);B(xst,v.add,v),a.add(v.getGroup()),Lb(i,a,t),B(wst,function(m){t.get([m,"show"])&&!s.scale.isBlank()&&Sst[m](this.group,t,o,f,h,u,c)},this)}},e.type="radiusAxis",e}(vg),Sst={splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),p=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],m=0;m<a.length;m++){var y=u++%l.length;v[y]=v[y]||[],v[y].push(new fg[p]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[m].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var m=0;m<v.length;m++)r.add(so(v[m],{style:ut({stroke:l[m%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(r,e,t,n,i,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var f=0;f<s[c].length;f++)u.push(new lc({shape:{cx:t.cx,cy:t.cy,r:s[c][f].coord}}));r.add(so(u,{style:ut({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,e,t,n,i,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var p=u++%l.length;c[p]=c[p]||[],c[p].push(new ja({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)r.add(so(c[h],{style:ut({fill:l[h%l.length]},o.getAreaStyle()),silent:!0}))}}};function Tst(r,e,t){return{position:[r.cx,r.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function ude(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function cde(r,e){return e.dim+r.model.componentIndex}function Ast(r,e,t){var n={},i=Est(ar(e.getSeriesByType(r),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=cde(o,l),c=ude(a),f=i[u][c],h=f.offset,p=f.width,v=o.getOtherAxis(l),m=a.coordinateSystem.cx,y=a.coordinateSystem.cy,x=a.get("barMinHeight")||0,w=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var b=s.mapDimension(v.dim),T=s.mapDimension(l.dim),C=_f(s,b),D=l.dim!=="radius"||!a.get("roundCap",!0),E=v.model,R=E.get("startValue"),M=v.dataToCoord(R||0),k=0,L=s.count();k<L;k++){var O=s.get(b,k),N=s.get(T,k),W=O>=0?"p":"n",U=M;C&&(n[c][N]||(n[c][N]={p:M,n:M}),U=n[c][N][W]);var z=void 0,Y=void 0,re=void 0,K=void 0;if(v.dim==="radius"){var q=v.dataToCoord(O)-M,Q=l.dataToCoord(N);Math.abs(q)<x&&(q=(q<0?-1:1)*x),z=U,Y=U+q,re=Q-h,K=re-p,C&&(n[c][N][W]=Y)}else{var j=v.dataToCoord(O,D)-M,J=l.dataToCoord(N);Math.abs(j)<w&&(j=(j<0?-1:1)*w),z=J+h,Y=z+p,re=U,K=U+j,C&&(n[c][N][W]=K)}s.setItemLayout(k,{cx:m,cy:y,r0:z,r:Y,startAngle:-re*Math.PI/180,endAngle:-K*Math.PI/180,clockwise:re>=K})}}})}function Est(r){var e={};B(r,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=cde(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var p=ude(n);h[p]||f.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var v=je(n.get("barWidth"),c),m=je(n.get("barMaxWidth"),c),y=n.get("barGap"),x=n.get("barCategoryGap");v&&!h[p].width&&(v=Math.min(f.remainedWidth,v),h[p].width=v,f.remainedWidth-=v),m&&(h[p].maxWidth=m),y!=null&&(f.gap=y),x!=null&&(f.categoryGap=x)});var t={};return B(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=je(n.categoryGap,s),l=je(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-o)/(c+(c-1)*l);f=Math.max(f,0),B(a,function(m,y){var x=m.maxWidth;x&&x<f&&(x=Math.min(x,u),m.width&&(x=Math.min(x,m.width)),u-=x,m.width=x,c--)}),f=(u-o)/(c+(c-1)*l),f=Math.max(f,0);var h=0,p;B(a,function(m,y){m.width||(m.width=f),p=m,h+=m.width*(1+l)}),p&&(h-=p.width*l);var v=-h/2;B(a,function(m,y){t[i][y]=t[i][y]||{offset:v,width:m.width},v+=m.width*(1+l)})}),t}var Cst={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Dst={splitNumber:5},Ist=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(qr);function Rst(r){Pt($b),vg.registerAxisPointerClass("PolarAxisPointer",ast),r.registerCoordinateSystem("polar",gst),r.registerComponentModel(lst),r.registerComponentView(Ist),Jm(r,"angle",ust,Cst),Jm(r,"radius",cst,Dst),r.registerComponentView(yst),r.registerComponentView(bst),r.registerLayout(xt(Ast,"bar"))}function f3(r,e){e=e||{};var t=r.coordinateSystem,n=r.axis,i={},a=n.position,s=n.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[s];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ii(e.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=e.rotate;return h==null&&(h=r.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-h:h,i.z2=1,i}var Mst=["axisLine","axisTickLabel","axisName"],kst=["splitArea","splitLine"],Pst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new pt;var l=f3(t),u=new vs(t,l);B(Mst,u.add,u),s.add(this._axisGroup),s.add(u.getGroup()),B(kst,function(c){t.get([c,"show"])&&Lst[c](this,this.group,this._axisGroup,t)},this),Lb(o,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)},e.prototype.remove=function(){kfe(this)},e.type="singleAxis",e}(vg),Lst={splitLine:function(r,e,t,n){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=s.get("width"),u=n.coordinateSystem.getRect(),c=i.isHorizontal(),f=[],h=0,p=i.getTicksCoords({tickModel:a}),v=[],m=[],y=0;y<p.length;++y){var x=i.toGlobalCoord(p[y].coord);c?(v[0]=x,v[1]=u.y,m[0]=x,m[1]=u.y+u.height):(v[0]=u.x,v[1]=x,m[0]=u.x+u.width,m[1]=x);var w=new mi({shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},silent:!0});Xm(w.shape,l);var b=h++%o.length;f[b]=f[b]||[],f[b].push(w)}for(var T=s.getLineStyle(["color"]),y=0;y<f.length;++y)e.add(so(f[y],{style:ut({stroke:o[y%o.length]},T),silent:!0}))}},splitArea:function(r,e,t,n){Mfe(r,t,n,n)}},CA=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(zt);Cn(CA,Vy.prototype);var Ost=function(r){ge(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},e}(pl),fde=["single"],Nst=function(){function r(e,t,n){this.type="single",this.dimension="single",this.dimensions=fde,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=this.dimension,a=new Ost(i,Fb(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();B(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),jv(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(e,t){this._rect=ti({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,n?e.x:e.y)},r.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+t}:function(s){return i-s+t},e.toLocalCoord=a?function(s){return s-t}:function(s){return i-s+t}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},r.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),i=[],a=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[a]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,i},r.prototype.convertToPixel=function(e,t,n){var i=uZ(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=uZ(t);return i===this?this.pointToData(n):null},r}();function uZ(r){var e=r.seriesModel,t=r.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Fst(r,e){var t=[];return r.eachComponent("singleAxis",function(n,i){var a=new Nst(n,r,e);a.name="single_"+i,a.resize(n,e),n.coordinateSystem=a,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Qn).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),t}var Bst={create:Fst,dimensions:fde},cZ=["x","y"],Vst=["width","height"],zst=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.coordinateSystem,u=zL(l,1-RC(o)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var h=u6(a),p=Ust[f](o,c,u);p.style=h,t.graphicKey=p.type,t.pointer=p}var v=f3(i);ide(n,t,v,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=f3(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=c6(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.coordinateSystem,l=RC(s),u=zL(o,l),c=[t.x,t.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=zL(o,1-l),h=(f[1]+f[0])/2,p=[h,h];return p[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},e}(l6),Ust={line:function(r,e,t){var n=f6([e,t[0]],[e,t[1]],RC(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=r.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:ade([e-n/2,t[0]],[n,i],RC(r))}}};function RC(r){return r.isHorizontal()?0:1}function zL(r,e){var t=r.getRect();return[t[cZ[e]],t[cZ[e]]+t[Vst[e]]]}var Hst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(qr);function Gst(r){Pt($b),vg.registerAxisPointerClass("SingleAxisPointer",zst),r.registerComponentView(Hst),r.registerComponentView(Pst),r.registerComponentModel(CA),Jm(r,"single",CA,CA.defaultOption),r.registerCoordinateSystem("single",Bst)}var jst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=My(t);r.prototype.init.apply(this,arguments),fZ(t,a)},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),fZ(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(zt);function fZ(r,e){var t=r.cellSize,n;ke(t)?n=t:n=r.cellSize=[t,t],n.length===1&&(n[1]=n[0]);var i=Pe([0,1],function(a){return $$e(e,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});fd(r,e,{type:"box",ignoreSize:i})}var Wst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=n.getLocaleModel();this._renderDayRect(t,o,a),this._renderLines(t,o,l,a),this._renderYearText(t,o,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,o,l,a)},e.prototype._renderDayRect=function(t,n,i){for(var a=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,f=new Xt({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});i.add(f)}},e.prototype._renderLines=function(t,n,i,a){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,h=0;f.time<=n.end.time;h++){v(f.formatedDate),h===0&&(f=o.getDateInfo(n.start.y+"-"+n.start.m));var p=f.date;p.setMonth(p.getMonth()+1),f=o.getDateInfo(p)}v(o.getNextNDay(n.end.time,1).formatedDate);function v(m){s._firstDayOfMonth.push(o.getDateInfo(m)),s._firstDayPoints.push(o.dataToRect([m],!1).tl);var y=s._getLinePointsOfOneWeek(t,m,i);s._tlpoints.push(y[0]),s._blpoints.push(y[y.length-1]),u&&s._drawSplitline(y,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,i),l,a)},e.prototype._getEdgesPoints=function(t,n,i){var a=[t[0].slice(),t[t.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},e.prototype._drawSplitline=function(t,n,i){var a=new Ya({z2:20,shape:{points:t},style:n});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,n,i){for(var a=t.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToRect([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,n){return $e(t)&&t?H$e(t,n):it(t)?t(n):n.nameMap},e.prototype._yearTextPositionControl=function(t,n,i,a,s){var o=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,n,i,a){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,p={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},v=n.start.y;+n.end.y>+n.start.y&&(v=v+"-"+n.end.y);var m=s.get("formatter"),y={start:n.start.y,end:n.end.y,nameMap:v},x=this._formatterLabel(m,y),w=new Yt({z2:30,style:Ur(s,{text:x}),silent:s.get("silent")});w.attr(this._yearTextPositionControl(w,p[l],i,l,o)),a.add(w)}},e.prototype._monthTextPositionControl=function(t,n,i,a,s){var o="left",l="top",u=t[0],c=t[1];return i==="horizontal"?(c=c+s,n&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,n&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,n,i,a){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||$e(o))&&(o&&(n=y4(o)||n),o=n.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,p=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",m=s.get("silent"),y=0;y<f[h].length-1;y++){var x=f[h][y].slice(),w=this._firstDayOfMonth[y];if(v){var b=this._firstDayPoints[y];x[p]=(b[p]+f[0][y+1][p])/2}var T=s.get("formatter"),C=o[+w.m-1],D={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:C},E=this._formatterLabel(T,D),R=new Yt({z2:30,style:De(Ur(s,{text:E}),this._monthTextPositionControl(x,v,i,u,l)),silent:m});a.add(R)}}},e.prototype._weekTextPositionControl=function(t,n,i,a,s){var o="center",l="middle",u=t[0],c=t[1],f=i==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*s[0]/2,o=f?"right":"left"):(c=c+a+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,n,i,a,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),f=o.get("margin"),h=l.getFirstDayOfWeek();if(!c||$e(c)){c&&(n=y4(c)||n);var p=n.get(["time","dayOfWeekShort"]);c=p||Pe(n.get(["time","dayOfWeekAbbr"]),function(D){return D[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];f=je(f,Math.min(m[1],m[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var y=o.get("silent"),x=0;x<7;x++){var w=l.getNextNDay(v,x),b=l.dataToRect([w.time],!1).center,T=x;T=Math.abs((x+h)%7);var C=new Yt({z2:30,style:De(Ur(o,{text:c[T]}),this._weekTextPositionControl(b,a,u,f,m)),silent:y});s.add(C)}}},e.type="calendar",e}(qr),UL=864e5,$st=function(){function r(e,t,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=e}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(e){e=mo(e);var t=e.getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+i+"-"+s,date:e}},r.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},r.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];B([0,1],function(f){c(a,f)&&(s[i[f]]=a[f]*o[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=ti(s,l);B([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/o[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(e,t){ke(e)&&(e=e[0]),t==null&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,a=n.formatedDate;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+UL))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},r.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},r.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},r.prototype.convertToPixel=function(e,t,n){var i=hZ(t);return i===this?i.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=hZ(t);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ke(e)&&e.length===1&&(e=e[0]),ke(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);t=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},r.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;t[0].time>t[1].time&&(n=!0,t.reverse());var i=Math.floor(t[1].time/UL)-Math.floor(t[0].time/UL)+1,a=new Date(t[0].time),s=a.getDate(),o=t[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-t[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+t[0].day+6)/7),f=n?-c+1:c-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},r.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},r.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var a=new r(i);n.push(a),i.coordinateSystem=a}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},r.dimensions=["time","value"],r}();function hZ(r){var e=r.calendarModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}function qst(r){r.registerComponentModel(jst),r.registerComponentView(Wst),r.registerCoordinateSystem("calendar",$st)}function Yst(r,e){var t=r.existing;if(e.id=r.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function dZ(r,e){var t;return B(e,function(n){r[n]!=null&&r[n]!=="auto"&&(t=!0)}),t}function Xst(r,e,t){var n=De({},t),i=r[e],a=t.$action||"merge";a==="merge"?i?(bt(i,n,!0),fd(i,n,{ignoreSize:!0}),eue(t,i),V2(t,i),V2(t,i,"shape"),V2(t,i,"style"),V2(t,i,"extra"),t.clipPath=i.clipPath):r[e]=n:a==="replace"?r[e]=n:a==="remove"&&i&&(r[e]=null)}var hde=["transition","enterFrom","leaveTo"],Kst=hde.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function V2(r,e,t){if(t&&(!r[t]&&e[t]&&(r[t]={}),r=r[t],e=e[t]),!(!r||!e))for(var n=t?hde:Kst,i=0;i<n.length;i++){var a=n[i];r[a]==null&&e[a]!=null&&(r[a]=e[a])}}function Zst(r,e){if(r&&(r.hv=e.hv=[dZ(e,["left","right"]),dZ(e,["top","bottom"])],r.type==="group")){var t=r,n=e;t.width==null&&(t.width=n.width=0),t.height==null&&(t.height=n.height=0)}}var Qst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,t,n),this.option.elements=i},e.prototype.optionUpdated=function(t,n){var i=this.option,a=(n?i:t).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=Qoe(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];B(l,function(c,f){var h=c.newOption;h&&(u.push(h),Yst(c,h),Xst(s,f,h),Zst(s[f],h))},this),i.elements=ar(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,n,i){B(t,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(zt),pZ={path:null,compoundPath:null,group:pt,image:Ni,text:Yt},qo=Qt(),Jst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=tt()},e.prototype.render=function(t,n,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=t.get("z"),o=t.get("zlevel");B(n,function(l){var u=gi(l.id,null),c=u!=null?i.get(u):null,f=gi(l.parentId,null),h=f!=null?i.get(f):a,p=l.type,v=l.style;p==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var m=l.textContent,y=l.textConfig;if(v&&$he(v,p,!!y,!!m)){var x=qhe(v,p,!0);!y&&x.textConfig&&(y=l.textConfig=x.textConfig),!m&&x.textContent&&(m=x.textContent)}var w=eot(l),b=l.$action||"merge",T=b==="merge",C=b==="replace";if(T){var D=!c,E=c;D?E=vZ(u,h,l.type,i):(E&&(qo(E).isNew=!1),Zhe(E)),E&&(AA(E,w,t,{isInit:D}),gZ(E,l,s,o))}else if(C){DA(c,l,i,t);var R=vZ(u,h,l.type,i);R&&(AA(R,w,t,{isInit:!0}),gZ(R,l,s,o))}else b==="remove"&&(Xhe(c,l),DA(c,l,i,t));var M=i.get(u);if(M&&m)if(T){var k=M.getTextContent();k?k.attr(m):M.setTextContent(new Yt(m))}else C&&M.setTextContent(new Yt(m));if(M){var L=l.clipPath;if(L){var O=L.type,N=void 0,D=!1;if(T){var W=M.getClipPath();D=!W||qo(W).type!==O,N=D?h3(O):W}else C&&(D=!0,N=h3(O));M.setClipPath(N),AA(N,L,t,{isInit:D}),DC(N,L.keyframeAnimation,t)}var U=qo(M);M.setTextConfig(y),U.option=l,tot(M,t,l),cg({el:M,componentModel:t,itemName:M.name,itemTooltipOption:l.tooltip}),DC(M,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,n){for(var i=t.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],h=gi(f.id,null),p=h!=null?s.get(h):null;if(!(!p||!p.isGroup)){var v=p.parent,m=v===a,y=qo(p),x=qo(v);y.width=je(y.option.width,m?o:x.width)||0,y.height=je(y.option.height,m?l:x.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],h=gi(f.id,null),p=h!=null?s.get(h):null;if(p){var v=p.parent,x=qo(v),w=v===a?{width:o,height:l}:{width:x.width,height:x.height},b={},T=nI(p,f,w,null,{hv:f.hv,boundingMode:f.bounding},b);if(!qo(p).isNew&&T){for(var C=f.transition,D={},E=0;E<u.length;E++){var R=u[E],M=b[R];C&&(Sv(C)||Dt(C,R)>=0)?D[R]=M:p[R]=M}rr(p,D,t,0)}else p.attr(b)}}},e.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(i){DA(i,qo(i).option,n,t._lastGraphicModel)}),this._elMap=tt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(qr);function h3(r){var e=Qe(pZ,r)?pZ[r]:KD(r),t=new e({});return qo(t).type=r,t}function vZ(r,e,t,n){var i=h3(t);return e.add(i),n.set(r,i),qo(i).id=r,qo(i).isNew=!0,i}function DA(r,e,t,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){DA(a,e,t,n)}),xI(r,e,n),t.removeKey(qo(r).id))}function gZ(r,e,t,n){r.isGroup||B([["cursor",ll.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(i){var a=i[0];Qe(e,a)?r[a]=_t(e[a],i[1]):r[a]==null&&(r[a]=i[1])}),B(Gt(e),function(i){if(i.indexOf("on")===0){var a=e[i];r[i]=it(a)?a:null}}),Qe(e,"draggable")&&(r.draggable=e.draggable),e.name!=null&&(r.name=e.name),e.id!=null&&(r.id=e.id)}function eot(r){return r=De({},r),B(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Jle),function(e){delete r[e]}),r}function tot(r,e,t){var n=gt(r).eventData;!r.silent&&!r.ignore&&!n&&(n=gt(r).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:r.name}),n&&(n.info=t.info)}function rot(r){r.registerComponentModel(Qst),r.registerComponentView(Jst),r.registerPreprocessor(function(e){var t=e.graphic;ke(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var mZ=["x","y","radius","angle","single"],not=["cartesian2d","polar","singleAxis"];function iot(r){var e=r.get("coordinateSystem");return Dt(not,e)>=0}function Lh(r){return r+"Axis"}function aot(r,e){var t=tt(),n=[],i=tt();r.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||o(c)});var a;do a=!1,r.eachComponent("dataZoom",s);while(a);function s(c){!i.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,p){var v=t.get(h);v&&v[p]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return n}function dde(r){var e=r.ecModel,t={infoList:[],infoMap:tt()};return r.eachTargetAxis(function(n,i){var a=e.getComponent(Lh(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(a)}}}),t}var HL=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},r}(),Uw=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,n,i){var a=yZ(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var n=yZ(t);bt(this.option,t,!0),bt(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;B([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=tt(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return B(mZ,function(i){var a=this.getReferringComponents(Lh(i),Lje);if(a.specified){n=!0;var s=new HL;B(a.models,function(o){s.add(o.componentIndex)}),t.set(i,s)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(o,"single")}function l(u,c){var f=u[0];if(f){var h=new HL;if(h.add(f.componentIndex),t.set(c,h),a=!1,c==="x"||c==="y"){var p=f.getReferringComponents("grid",Qn).models[0];p&&B(u,function(v){f.componentIndex!==v.componentIndex&&p===v.getReferringComponents("grid",Qn).models[0]&&h.add(v.componentIndex)})}}}a&&B(mZ,function(u){if(a){var c=i.findComponents({mainType:Lh(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new HL;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,i=this.get("rangeMode");B([["start","startValue"],["end","endValue"]],function(a,s){var o=t[a[0]]!=null,l=t[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,i){t==null&&(t=this.ecModel.getComponent(Lh(n),i))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(i,a){B(i.indexList,function(s){t.call(n,a,s)})})},e.prototype.getAxisProxy=function(t,n){var i=this.getAxisModel(t,n);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[n])return this.ecModel.getComponent(Lh(t),n)},e.prototype.setRawRange=function(t){var n=this.option,i=this.settledOption;B([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(n[a[0]]=i[a[0]]=t[a[0]],n[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;B(["start","startValue","end","endValue"],function(i){n[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(t==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(zt);function yZ(r){var e={};return B(["start","end","startValue","endValue","throttle"],function(t){r.hasOwnProperty(t)&&(e[t]=r[t])}),e}var sot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Uw),v6=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.dataZoomModel=t,this.ecModel=n,this.api=i},e.type="dataZoom",e}(qr),oot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(v6),B0=B,_Z=co,lot=function(){function r(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(e){return this._dataZoomModel===e},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(iot(t)){var n=Lh(this._dimName),i=t.getReferringComponents(n,Qn).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return ht(this._minMaxSpan)},r.prototype.calculateDataWindow=function(e){var t=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;B0(["start","end"],function(h,p){var v=e[h],m=e[h+"Value"];a[p]==="percent"?(v==null&&(v=s[p]),m=i.parse(cr(v,s,t))):(u=!0,m=m==null?t[p]:i.parse(m),v=cr(m,t,s)),l[p]=m==null||isNaN(m)?t[p]:m,o[p]=v==null||isNaN(v)?s[p]:v}),_Z(l),_Z(o);var c=this._minMaxSpan;u?f(l,o,t,s,!1):f(o,l,s,t,!0);function f(h,p,v,m,y){var x=y?"Span":"ValueSpan";gg(0,h,v,"all",c["min"+x],c["max"+x]);for(var w=0;w<2;w++)p[w]=cr(h[w],v,m,!0),y&&(p[w]=i.parse(p[w]))}return{valueWindow:l,percentWindow:o}},r.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=uot(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;B0(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=Pe(c,function(p){return u.getDimensionIndex(p)},u);u.filterSelf(function(p){for(var v,m,y,x=0;x<c.length;x++){var w=f.get(h[x],p),b=!isNaN(w),T=w<s[0],C=w>s[1];if(b&&!T&&!C)return!0;b&&(y=!0),T&&(v=!0),C&&(m=!0)}return y&&v&&m})}else B0(c,function(p){if(a==="empty")l.setData(u=u.map(p,function(m){return o(m)?m:NaN}));else{var v={};v[p]=s,u.selectRange(v)}});B0(c,function(p){u.setApproximateExtent(s,p)})}});function o(l){return l>=s[0]&&l<=s[1]}},r.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;B0(["min","max"],function(i){var a=t.get(i+"Span"),s=t.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=cr(n[0]+s,n,[0,100],!0):a!=null&&(s=cr(a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=yB(n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r}();function uot(r,e,t){var n=[1/0,-1/0];B0(t,function(s){EKe(n,s.getData(),e)});var i=r.getAxisModel(),a=Mce(i.axis.scale,i,n).calculate();return[a.min,a.max]}var cot={getTargetSeries:function(r){function e(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=r.getComponent(Lh(s),o);i(s,o,l,a)})})}e(function(i,a,s,o){s.__dzAxisProxy=null});var t=[];e(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new lot(i,a,o,r),t.push(s.__dzAxisProxy))});var n=tt();return B(t,function(i){B(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,e){r.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).reset(t)}),t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).filterData(t,e)})}),r.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function fot(r){r.registerAction("dataZoom",function(e,t){var n=aot(t,e);B(n,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var xZ=!1;function g6(r){xZ||(xZ=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,cot),fot(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function hot(r){r.registerComponentModel(sot),r.registerComponentView(oot),g6(r)}var Xo=function(){function r(){}return r}(),pde={};function V0(r,e){pde[r]=e}function vde(r){return pde[r]}var dot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;B(this.option.feature,function(n,i){var a=vde(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),bt(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(zt);function pot(r,e,t){var n=e.getBoxLayoutParams(),i=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},s=ti(n,a,i);xv(e.get("orient"),r,e.get("itemGap"),s.width,s.height),nI(r,n,a,i)}function gde(r,e){var t=hg(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),r=new Xt({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),r}var vot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];B(u,function(v,m){f.push(m)}),new yf(this._featureNames||[],f).add(h).update(h).remove(xt(h,null)).execute(),this._featureNames=f;function h(v,m){var y=f[v],x=f[m],w=u[y],b=new sr(w,t,t.ecModel),T;if(a&&a.newTitle!=null&&a.featureName===y&&(w.title=a.newTitle),y&&!x){if(got(y))T={onclick:b.option.onclick,featureName:y};else{var C=vde(y);if(!C)return;T=new C}c[y]=T}else if(T=c[x],!T)return;T.uid=Ry("toolbox-feature"),T.model=b,T.ecModel=n,T.api=i;var D=T instanceof Xo;if(!y&&x){D&&T.dispose&&T.dispose(n,i);return}if(!b.get("show")||D&&T.unusable){D&&T.remove&&T.remove(n,i);return}p(b,T,y),b.setIconStatus=function(E,R){var M=this.option,k=this.iconPaths;M.iconStatus=M.iconStatus||{},M.iconStatus[E]=R,k[E]&&(R==="emphasis"?gf:mf)(k[E])},T instanceof Xo&&T.render&&T.render(b,n,i,a)}function p(v,m,y){var x=v.getModel("iconStyle"),w=v.getModel(["emphasis","iconStyle"]),b=m instanceof Xo&&m.getIcons?m.getIcons():v.get("icon"),T=v.get("title")||{},C,D;$e(b)?(C={},C[y]=b):C=b,$e(T)?(D={},D[y]=T):D=T;var E=v.iconPaths={};B(C,function(R,M){var k=Dy(R,{},{x:-o/2,y:-o/2,width:o,height:o});k.setStyle(x.getItemStyle());var L=k.ensureState("emphasis");L.style=w.getItemStyle();var O=new Yt({style:{text:D[M],align:w.get("textAlign"),borderRadius:w.get("textBorderRadius"),padding:w.get("textPadding"),fill:null,font:BB({fontStyle:w.get("textFontStyle"),fontFamily:w.get("textFontFamily"),fontSize:w.get("textFontSize"),fontWeight:w.get("textFontWeight")},n)},ignore:!0});k.setTextContent(O),cg({el:k,componentModel:t,itemName:M,formatterParamsExtra:{title:D[M]}}),k.__title=D[M],k.on("mouseover",function(){var N=w.getItemStyle(),W=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";O.setStyle({fill:w.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:w.get("textBackgroundColor")}),k.setTextConfig({position:w.get("textPosition")||W}),O.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",M])!=="emphasis"&&i.leaveEmphasis(this),O.hide()}),(v.get(["iconStatus",M])==="emphasis"?gf:mf)(k),s.add(k),k.on("click",Xe(m.onclick,m,n,i,M)),E[M]=k})}pot(s,t,i),s.add(gde(s.getBoundingRect(),t)),l||s.eachChild(function(v){var m=v.__title,y=v.ensureState("emphasis"),x=y.textConfig||(y.textConfig={}),w=v.getTextContent(),b=w&&w.ensureState("emphasis");if(b&&!it(b)&&m){var T=b.style||(b.style={}),C=Db(m,Yt.makeFont(T)),D=v.x+s.x,E=v.y+s.y+o,R=!1;E+C.height>i.getHeight()&&(x.position="top",R=!0);var M=R?-5-C.height:o+10;D+C.width/2>i.getWidth()?(x.position=["100%",M],T.align="right"):D-C.width/2<0&&(x.position=[0,M],T.align="left")}})},e.prototype.updateView=function(t,n,i,a){B(this._features,function(s){s instanceof Xo&&s.updateView&&s.updateView(s.model,n,i,a)})},e.prototype.remove=function(t,n){B(this._features,function(i){i instanceof Xo&&i.remove&&i.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){B(this._features,function(i){i instanceof Xo&&i.dispose&&i.dispose(t,n)})},e.type="toolbox",e}(qr);function got(r){return r.indexOf("my")===0}var mot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Ut.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var h=l.split(","),p=h[0].indexOf("base64")>-1,v=s?decodeURIComponent(h[1]):h[1];p&&(v=window.atob(v));var m=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var y=v.length,x=new Uint8Array(y);y--;)x[y]=v.charCodeAt(y);var w=new Blob([x]);window.navigator.msSaveOrOpenBlob(w,m)}else{var b=document.createElement("iframe");document.body.appendChild(b);var T=b.contentWindow,C=T.document;C.open("image/svg+xml","replace"),C.write(v),C.close(),T.focus(),C.execCommand("SaveAs",!0,m),document.body.removeChild(b)}}else{var D=i.get("lang"),E='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(D&&D[0]||"")+'" /></body>',R=window.open();R.document.write(E),R.document.title=a}},e.getDefaultOption=function(t){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e}(Xo),wZ="__ec_magicType_stack__",yot=[["line","bar"],["stack"]],_ot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),i={};return B(t.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},e.getDefaultOption=function(t){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(t,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(bZ[i]){var o={series:[]},l=function(f){var h=f.subType,p=f.id,v=bZ[i](h,p,f,a);v&&(ut(v,f.option),o.series.push(v));var m=f.coordinateSystem;if(m&&m.type==="cartesian2d"&&(i==="line"||i==="bar")){var y=m.getAxesByScale("ordinal")[0];if(y){var x=y.dim,w=x+"Axis",b=f.getReferringComponents(w,Qn).models[0],T=b.componentIndex;o[w]=o[w]||[];for(var C=0;C<=T;C++)o[w][T]=o[w][T]||{};o[w][T].boundaryGap=i==="bar"}}};B(yot,function(f){Dt(f,i)>=0&&B(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=i;i==="stack"&&(u=bt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},e}(Xo),bZ={line:function(r,e,t,n){if(r==="bar")return bt({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,e,t,n){if(r==="line")return bt({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,e,t,n){var i=t.get("stack")===wZ;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),bt({id:e,stack:i?"":wZ},n.get(["option","stack"])||{},!0)}};Ql({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,e){e.mergeOption(r.newOption)});var wI=new Array(60).join("-"),ry="	";function xot(r){var e={},t=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}function wot(r){var e=[];return B(r,function(t,n){var i=t.categoryAxis,a=t.valueAxis,s=a.dim,o=[" "].concat(Pe(t.series,function(p){return p.name})),l=[i.model.getCategories()];B(t.series,function(p){var v=p.getRawData();l.push(p.getRawData().mapArray(v.mapDimension(s),function(m){return m}))});for(var u=[o.join(ry)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(ry))}e.push(u.join(`
`))}),e.join(`

`+wI+`

`)}function bot(r){return Pe(r,function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=t.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+ry:"")+i.join(ry))}),n.join(`
`)}).join(`

`+wI+`

`)}function Sot(r){var e=xot(r);return{value:ar([wot(e.seriesGroupByCategoryAxis),bot(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+wI+`

`),meta:e.meta}}function MC(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Tot(r){var e=r.slice(0,r.indexOf(`
`));if(e.indexOf(ry)>=0)return!0}var d3=new RegExp("["+ry+"]+","g");function Aot(r){for(var e=r.split(/\n+/g),t=MC(e.shift()).split(d3),n=[],i=Pe(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=MC(e[a]).split(d3);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function Eot(r){for(var e=r.split(/\n+/g),t=MC(e.shift()),n=[],i=0;i<e.length;i++){var a=MC(e[i]);if(a){var s=a.split(d3),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:t,data:n}}function Cot(r,e){var t=r.split(new RegExp(`
*`+wI+`
*`,"g")),n={series:[]};return B(t,function(i,a){if(Tot(i)){var s=Aot(i),o=e[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=Eot(i);n.series.push(s)}}),n}var Dot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),p=Sot(t);if(it(f)){var v=f(n.getOption());$e(v)?u.innerHTML=v:Bv(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),c.value=p.value,u.appendChild(c)}var y=p.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),T=document.createElement("div");w+=";background-color:"+a.get("buttonColor"),w+=";color:"+a.get("buttonTextColor");var C=this;function D(){i.removeChild(s),C._dom=null}GN(b,"click",D),GN(T,"click",function(){if(h==null&&f!=null||h!=null&&f==null){D();return}var E;try{it(h)?E=h(u,n.getOption()):E=Cot(c.value,y)}catch(R){throw D(),new Error("Data view format error "+R)}E&&n.dispatchAction({type:"changeDataView",newOption:E}),D()}),b.innerHTML=l[1],T.innerHTML=l[2],T.style.cssText=b.style.cssText=w,!a.get("readOnly")&&x.appendChild(T),x.appendChild(b),s.appendChild(o),s.appendChild(u),s.appendChild(x),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},e}(Xo);function Iot(r,e){return Pe(r,function(t,n){var i=e&&e[n];if(ct(i)&&!ke(i)){var a=ct(t)&&!ke(t);a||(t={value:t});var s=i.name!=null&&t.name==null;return t=ut(t,i),s&&delete t.name,t}else return t})}Ql({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,e){var t=[];B(r.newOption.series,function(n){var i=e.getSeriesByName(n.name)[0];if(!i)t.push(De({type:"scatter"},n));else{var a=i.get("data");t.push({name:n.name,data:Iot(n.data,a)})}}),e.mergeOption(ut({series:t},r.newOption))});var mde=B,yde=Qt();function Rot(r,e){var t=m6(r);mde(e,function(n,i){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s[i])break}if(a<0){var o=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function Mot(r){var e=m6(r),t=e[e.length-1];e.length>1&&e.pop();var n={};return mde(t,function(i,a){for(var s=e.length-1;s>=0;s--)if(i=e[s][a],i){n[a]=i;break}}),n}function kot(r){yde(r).snapshots=null}function Pot(r){return m6(r).length}function m6(r){var e=yde(r);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Lot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){kot(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return n},e}(Xo);Ql({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});var Oot=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],y6=function(){function r(e,t,n){var i=this;this._targetInfoList=[];var a=SZ(t,e);B(Not,function(s,o){(!n||!n.include||Dt(n.include,o)>=0)&&s(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=GL[n.brushType](0,a,i);n.__rangeOffset={offset:CZ[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},r.prototype.matchOutputRanges=function(e,t,n){B(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&B(a.coordSyses,function(s){var o=GL[i.brushType](1,s,i.range,!0);n(i,o.values,s,t)})},this)},r.prototype.setInputRanges=function(e,t){B(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=GL[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?CZ[n.brushType](a.values,s.offset,Fot(a.xyMinMax,s.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(e,t){return Pe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:Ehe(i),isTargetByCursor:Dhe(i,e,n.coordSysModel),getLinearBrushOtherExtent:Che(i)}})},r.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return i===!0||i&&Dt(i.coordSyses,t.coordinateSystem)>=0},r.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=SZ(t,e),a=0;a<n.length;a++){var s=n[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<TZ.length;l++)if(TZ[l](i,s))return s}return!0},r}();function p3(r){return r[0]>r[1]&&r.reverse(),r}function SZ(r,e){return Rx(r,e,{includeMainTypes:Oot})}var Not={grid:function(r,e){var t=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=tt(),s={},o={};!t&&!n&&!i||(B(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),B(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),B(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];B(u.getCartesians(),function(f,h){(Dt(t,f.getAxis("x").model)>=0||Dt(n,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:AZ.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(r,e){B(r.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:AZ.geo})})}},TZ=[function(r,e){var t=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(r,e){var t=r.geoModel;return t&&t===e.geoModel}],AZ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,e=r.getBoundingRect().clone();return e.applyTransform(jh(r)),e}},GL={lineX:xt(EZ,0),lineY:xt(EZ,1),rect:function(r,e,t,n){var i=r?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),a=r?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),s=[p3([i[0],a[0]]),p3([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(r,e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Pe(t,function(s){var o=r?e.pointToData(s,n):e.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function EZ(r,e,t,n){var i=t.getAxis(["x","y"][r]),a=p3(Pe([0,1],function(o){return e?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[r]=a,s[1-r]=[NaN,NaN],{values:a,xyMinMax:s}}var CZ={lineX:xt(DZ,0),lineY:xt(DZ,1),rect:function(r,e,t){return[[r[0][0]-t[0]*e[0][0],r[0][1]-t[0]*e[0][1]],[r[1][0]-t[1]*e[1][0],r[1][1]-t[1]*e[1][1]]]},polygon:function(r,e,t){return Pe(r,function(n,i){return[n[0]-t[0]*e[i][0],n[1]-t[1]*e[i][1]]})}};function DZ(r,e,t,n){return[e[0]-n[r]*t[0],e[1]-n[r]*t[1]]}function Fot(r,e){var t=IZ(r),n=IZ(e),i=[t[0]/n[0],t[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function IZ(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var v3=B,Bot=Ije("toolbox-dataZoom_"),Vot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){this._brushController||(this._brushController=new WV(i.getZr()),this._brushController.on("brush",Xe(this._onBrush,this)).mount()),Hot(t,n,this,a,i),Uot(t,n)},e.prototype.onclick=function(t,n,i){zot[i].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new y6(_6(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(o("x",f,c[0]),o("y",f,c[1])):o({lineX:"x",lineY:"y"}[h],f,c)}}),Rot(a,i),this._dispatchZoomAction(i);function o(u,c,f){var h=c.getAxis(u),p=h.model,v=l(u,p,a),m=v.findRepresentativeAxisProxy(p).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(f=gg(0,f.slice(),h.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var v=p.getAxisModel(u,c.componentIndex);v&&(h=p)}),h}},e.prototype._dispatchZoomAction=function(t){var n=[];v3(t,function(i,a){n.push(ht(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},e}(Xo),zot={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(Mot(this.ecModel))}};function _6(r){var e={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Uot(r,e){r.setIconStatus("back",Pot(e)>1?"emphasis":"normal")}function Hot(r,e,t,n,i){var a=t._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),t._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var s=new y6(_6(r),e,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}Q$e("dataZoom",function(r){var e=r.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var n=e.getModel(t),i=[],a=_6(n),s=Rx(r,a);v3(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),v3(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:Bot+u+f};h[c]=f,i.push(h)}return i});function Got(r){r.registerComponentModel(dot),r.registerComponentView(vot),V0("saveAsImage",mot),V0("magicType",_ot),V0("dataView",Dot),V0("dataZoom",Vot),V0("restore",Lot),Pt(hot)}var jot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(zt);function _de(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function xde(r){if(Ut.domSupported){for(var e=document.documentElement.style,t=0,n=r.length;t<n;t++)if(r[t]in e)return r[t]}}var wde=xde(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wot=xde(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function bde(r,e){if(!r)return e;e=$B(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function $ot(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var qot=bde(Wot,"transition"),x6=bde(wde,"transform"),Yot="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ut.transform3dSupported?"will-change:transform;":"");function Xot(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function Kot(r,e,t){if(!$e(t)||t==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");e=Gv(e);var a=Xot(t),s=Math.max(Math.round(i)*1.5,6),o="",l=x6+":",u;Dt(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=s+i,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),p=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;o+=";"+a+":-"+p+"px";var v=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function Zot(r,e){var t="cubic-bezier(0.23,1,0.32,1)",n=" "+r/2+"s "+t,i="opacity"+n+",visibility"+n;return e||(n=" "+r+"s "+t,i+=Ut.transformSupported?","+x6+n:",left"+n+",top"+n),qot+":"+i}function RZ(r,e,t){var n=r.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Ut.transformSupported)return t?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Ut.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+x6+":"+s+";":[["top",0],["left",0],[wde,s]]}function Qot(r){var e=[],t=r.get("fontSize"),n=r.getTextColor();n&&e.push("color:"+n),e.push("font:"+r.getFont());var i=_t(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),B(["decoration","align"],function(u){var c=r.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function Jot(r,e,t){var n=[],i=r.get("transitionDuration"),a=r.get("backgroundColor"),s=r.get("shadowBlur"),o=r.get("shadowColor"),l=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),c=r.getModel("textStyle"),f=Mue(r,"html"),h=l+"px "+u+"px "+s+"px "+o;return n.push("box-shadow:"+h),e&&i&&n.push(Zot(i,t)),a&&n.push("background-color:"+a),B(["width","color","radius"],function(p){var v="border-"+p,m=$B(v),y=r.get(m);y!=null&&n.push(v+":"+y+(p==="color"?"":"px"))}),n.push(Qot(c)),f!=null&&n.push("padding:"+hg(f).join("px ")+"px"),n.join(";")+";"}function MZ(r,e,t,n,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&nGe(r,s,t,n,i)}else{r[0]=n,r[1]=i;var o=a&&a.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var elt=function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ut.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=t.appendTo,s=a&&($e(a)?document.querySelector(a):Bv(a)?a:it(a)&&a(e.getDom()));MZ(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(n),this._api=e,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,c=i.painter.getViewportRoot();jo(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=$ot(t,"position"),i=t.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=Yot+Jot(e,!this._firstShow,this._longHide)+RZ(a[0],a[1],!0)+("border-color:"+Gv(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,n,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if($e(a)&&n.get("trigger")==="item"&&!_de(n)&&(o=Kot(n,i,a)),$e(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ke(e)||(e=[e]);for(var l=0;l<e.length;l++)Bv(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(MZ(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var i=this.el.style,a=RZ(n[0],n[1]);B(a,function(s){i[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Ut.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Xe(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},r}(),tlt=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),PZ(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,n,i,a){var s=this;ct(e)&&dr(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new Yt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Mue(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),B(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),B(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=kZ(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},r.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;PZ(i,this._zr,e,t),e=i[0],t=i[1];var a=n.style,s=lh(a.borderWidth||0),o=kZ(a);n.x=e+s+o.left,n.y=t+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Xe(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function lh(r){return Math.max(0,r)}function kZ(r){var e=lh(r.shadowBlur||0),t=lh(r.shadowOffsetX||0),n=lh(r.shadowOffsetY||0);return{left:lh(e-t),right:lh(e+t),top:lh(e-n),bottom:lh(e+n)}}function PZ(r,e,t,n){r[0]=t,r[1]=n,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var rlt=new Xt({shape:{x:-1,y:-1,width:2,height:2}}),nlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(Ut.node||!n.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=Nje(i.get("renderMode"));this._tooltipContent=a==="richText"?new tlt(n):new elt(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,n,i){if(!(Ut.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Oy(this,"_updatePosition",50,"fixRate"):Dw(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");sde("itemTooltip",this._api,Xe(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,i,a){if(!(a.from===this.uid||Ut.node||!i.getDom())){var s=LZ(a,i);this._ticket="";var o=a.dataByCoordSys,l=olt(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=rlt;c.x=a.x,c.y=a.y,c.update(),gt(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,i,a))return;var f=ode(a,n),h=f.point[0],p=f.point[1];h!=null&&p!=null&&this._tryShow({offsetX:h,offsetY:p,target:f.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(LZ(a,i))},e.prototype._manuallyAxisShowTip=function(t,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var c=u.getData(),f=S_([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,n){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){var o=gt(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;av(i,function(c){if(gt(c).dataIndex!=null)return l=c,!0;if(gt(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(t,l,n):u?this._showComponentItemTooltip(t,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var i=t.get("showDelay");n=Xe(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(t,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=S_([n.tooltipOption],a),l=this._renderMode,u=[],c=Oi("section",{blocks:[],noHeader:!0}),f=[],h=new DP;B(t,function(w){B(w.dataByAxis,function(b){var T=i.getComponent(b.axisDim+"Axis",b.axisIndex),C=b.value;if(!(!T||C==null)){var D=nde(C,T.axis,i,b.seriesDataIndices,b.valueLabelOpt),E=Oi("section",{header:D,noHeader:!Qo(D),sortBlocks:!0,blocks:[]});c.blocks.push(E),B(b.seriesDataIndices,function(R){var M=i.getSeriesByIndex(R.seriesIndex),k=R.dataIndexInside,L=M.getDataParams(k);if(!(L.dataIndex<0)){L.axisDim=b.axisDim,L.axisIndex=b.axisIndex,L.axisType=b.axisType,L.axisId=b.axisId,L.axisValue=_V(T.axis,{value:C}),L.axisValueLabel=D,L.marker=h.makeTooltipMarker("item",Gv(L.color),l);var O=wq(M.formatTooltip(k,!0,null)),N=O.frag;if(N){var W=S_([M],a).get("valueFormatter");E.blocks.push(W?De({valueFormatter:W},N):N)}O.text&&f.push(O.text),u.push(L)}})}})}),c.blocks.reverse(),f.reverse();var p=n.position,v=o.get("order"),m=Cq(c,h,l,v,i.get("useUTC"),o.get("textStyle"));m&&f.unshift(m);var y=l==="richText"?`

`:"<br/>",x=f.join(y);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(o,p,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,x,u,Math.random()+"",s[0],s[1],p,null,h)})},e.prototype._showSeriesItemTooltip=function(t,n,i){var a=this._ecModel,s=gt(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,f=s.dataType,h=u.getData(f),p=this._renderMode,v=t.positionDefault,m=S_([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=m.get("trigger");if(!(y!=null&&y!=="item")){var x=u.getDataParams(c,f),w=new DP;x.marker=w.makeTooltipMarker("item",Gv(x.color),p);var b=wq(u.formatTooltip(c,!1,f)),T=m.get("order"),C=m.get("valueFormatter"),D=b.frag,E=D?Cq(C?De({valueFormatter:C},D):D,w,p,T,a.get("useUTC"),m.get("textStyle")):b.text,R="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,E,x,R,t.offsetX,t.offsetY,t.position,t.target,w)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,i){var a=this._renderMode==="html",s=gt(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if($e(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=ht(l),l.content=ka(l.content));var f=[l],h=this._ecModel.getComponent(s.componentMainType,s.componentIndex);h&&f.push(h),f.push({formatter:l.content});var p=t.positionDefault,v=S_(f,this._tooltipModel,p?{position:p}:null),m=v.get("content"),y=Math.random()+"",x=new DP;this._showOrMove(v,function(){var w=ht(v.get("formatterParams")||{});this._showTooltipContent(v,m,w,y,t.offsetX,t.offsetY,t.position,n,x)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,i,a,s,o,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var p=n,v=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor")),m=v.color;if(h)if($e(h)){var y=t.ecModel.get("useUTC"),x=ke(i)?i[0]:i,w=x&&x.axisType&&x.axisType.indexOf("time")>=0;p=h,w&&(p=Ob(x.axisValue,p,y)),p=qB(p,i,!0)}else if(it(h)){var b=Xe(function(T,C){T===this._ticket&&(f.setContent(C,c,t,m,l),this._updatePosition(t,l,s,o,f,i,u))},this);this._ticket=a,p=h(i,a,b)}else p=h;f.setContent(p,c,t,m,l),f.show(t,m),this._updatePosition(t,l,s,o,f,i,u)}},e.prototype._getNearestPoint=function(t,n,i,a){if(i==="axis"||ke(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ke(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,i,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||t.get("position");var f=s.getSize(),h=t.get("align"),p=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),it(n)&&(n=n([i,a],o,s.el,v,{viewSize:[u,c],contentSize:f.slice()})),ke(n))i=je(n[0],u),a=je(n[1],c);else if(ct(n)){var m=n;m.width=f[0],m.height=f[1];var y=ti(m,{width:u,height:c});i=y.x,a=y.y,h=null,p=null}else if($e(n)&&l){var x=slt(n,v,f,t.get("borderWidth"));i=x[0],a=x[1]}else{var x=ilt(i,a,s,u,c,h?null:20,p?null:20);i=x[0],a=x[1]}if(h&&(i-=OZ(h)?f[0]/2:h==="right"?f[0]:0),p&&(a-=OZ(p)?f[1]/2:p==="bottom"?f[1]:0),_de(t)){var x=alt(i,a,s,u,c);i=x[0],a=x[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&B(i,function(o,l){var u=o.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];s=s&&u.length===f.length,s&&B(u,function(h,p){var v=f[p]||{},m=h.seriesDataIndices||[],y=v.seriesDataIndices||[];s=s&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&m.length===y.length,s&&B(m,function(x,w){var b=y[w];s=s&&x.seriesIndex===b.seriesIndex&&x.dataIndex===b.dataIndex}),a&&B(h.seriesDataIndices,function(x){var w=x.seriesIndex,b=n[w],T=a[w];b&&T&&T.data!==b.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){Ut.node||!n.getDom()||(Dw(this,"_updatePosition"),this._tooltipContent.dispose(),c3("itemTooltip",n))},e.type="tooltip",e}(qr);function S_(r,e,t){var n=e.ecModel,i;t?(i=new sr(t,n,n),i=new sr(e.option,i,n)):i=e;for(var a=r.length-1;a>=0;a--){var s=r[a];s&&(s instanceof sr&&(s=s.get("tooltip",!0)),$e(s)&&(s={formatter:s}),s&&(i=new sr(s,i,n)))}return i}function LZ(r,e){return r.dispatchAction||Xe(e.dispatchAction,e)}function ilt(r,e,t,n,i,a,s){var o=t.getSize(),l=o[0],u=o[1];return a!=null&&(r+l+a+2>n?r-=l+a:r+=a),s!=null&&(e+u+s>i?e-=u+s:e+=s),[r,e]}function alt(r,e,t,n,i){var a=t.getSize(),s=a[0],o=a[1];return r=Math.min(r+s,n)-s,e=Math.min(e+o,i)-o,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function slt(r,e,t,n){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=e.width,c=e.height;switch(r){case"inside":o=e.x+u/2-i/2,l=e.y+c/2-a/2;break;case"top":o=e.x+u/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+u/2-i/2,l=e.y+c+s;break;case"left":o=e.x-i-s,l=e.y+c/2-a/2;break;case"right":o=e.x+u+s,l=e.y+c/2-a/2}return[o,l]}function OZ(r){return r==="center"||r==="middle"}function olt(r,e,t){var n=SB(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Ib(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=gt(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function llt(r){Pt($b),r.registerComponentModel(jot),r.registerComponentView(nlt),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},An),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},An)}var ult=["rect","polygon","keep","clear"];function clt(r,e){var t=Pr(r?r.brush:[]);if(t.length){var n=[];B(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=r&&r.toolbox;ke(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),flt(o),e&&!o.length&&o.push.apply(o,ult)}}function flt(r){var e={};B(r,function(t){e[t]=1}),r.length=0,B(e,function(t,n){r.push(n)})}var NZ=B;function FZ(r){if(r){for(var e in r)if(r.hasOwnProperty(e))return!0}}function g3(r,e,t){var n={};return NZ(e,function(a){var s=n[a]=i();NZ(r[a],function(o,l){if(Pi.isValidType(l)){var u={type:l,visual:o};t&&t(u,a),s[l]=new Pi(u),l==="opacity"&&(u=ht(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new Pi(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function Sde(r,e,t){var n;B(t,function(i){e.hasOwnProperty(i)&&FZ(e[i])&&(n=!0)}),n&&B(t,function(i){e.hasOwnProperty(i)&&FZ(e[i])?r[i]=ht(e[i]):delete r[i]})}function hlt(r,e,t,n,i,a){var s={};B(r,function(f){var h=Pi.prepareVisualTypes(e[f]);s[f]=h});var o;function l(f){return nV(t,o,f)}function u(f,h){Uue(t,o,f,h)}t.each(c);function c(f,h){o=f;var p=t.getRawDataItem(o);if(!(p&&p.visualMap===!1))for(var v=n.call(i,f),m=e[v],y=s[v],x=0,w=y.length;x<w;x++){var b=y[x];m[b]&&m[b].applyVisual(f,l,u)}}}function dlt(r,e,t,n){var i={};return B(r,function(a){var s=Pi.prepareVisualTypes(e[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function u(C){return nV(o,f,C)}function c(C,D){Uue(o,f,C,D)}for(var f,h=o.getStore();(f=s.next())!=null;){var p=o.getRawDataItem(f);if(!(p&&p.visualMap===!1))for(var v=n!=null?h.get(l,f):f,m=t(v),y=e[m],x=i[m],w=0,b=x.length;w<b;w++){var T=x[w];y[T]&&y[T].applyVisual(v,u,c)}}}}}function plt(r){var e=r.brushType,t={point:function(n){return BZ[e].point(n,t,r)},rect:function(n){return BZ[e].rect(n,t,r)}};return t}var BZ={lineX:VZ(0),lineY:VZ(1),rect:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])},rect:function(r,e,t){return r&&t.boundingRect.intersect(r)}},polygon:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])&&Hp(t.range,r[0],r[1])},rect:function(r,e,t){var n=t.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,s=r.width,o=r.height,l=n[0];if(Hp(n,i,a)||Hp(n,i+s,a)||Hp(n,i,a+o)||Hp(n,i+s,a+o)||Ct.create(r).contain(l[0],l[1])||$_(i,a,i+s,a,n)||$_(i,a,i,a+o,n)||$_(i+s,a,i+s,a+o,n)||$_(i,a+o,i+s,a+o,n))return!0}}};function VZ(r){var e=["x","y"],t=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[r];return T_(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[e[r]],n[e[r]]+n[t[r]]];return o[1]<o[0]&&o.reverse(),T_(o[0],s)||T_(o[1],s)||T_(s[0],o)||T_(s[1],o)}}}}function T_(r,e){return e[0]<=r&&r<=e[1]}var zZ=["inBrush","outOfBrush"],jL="__ecBrushSelect",m3="__ecInBrushSelectEvent";function Tde(r){r.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new y6(e.option,r);t.setInputRanges(e.areas,r)})}function vlt(r,e,t){var n=[],i,a;r.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Tde(r),r.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:ht(s.areas),selected:[]};n.push(l);var u=s.option,c=u.brushLink,f=[],h=[],p=[],v=!1;o||(i=u.throttleType,a=u.throttleDelay);var m=Pe(s.areas,function(C){var D=_lt[C.brushType],E=ut({boundingRect:D?D(C):void 0},C);return E.selectors=plt(E),E}),y=g3(s.option,zZ,function(C){C.mappingMethod="fixed"});ke(c)&&B(c,function(C){f[C]=1});function x(C){return c==="all"||!!f[C]}function w(C){return!!C.length}r.eachSeries(function(C,D){var E=p[D]=[];C.subType==="parallel"?b(C,D):T(C,D,E)});function b(C,D){var E=C.coordinateSystem;v=v||E.hasAxisBrushed(),x(D)&&E.eachActiveState(C.getData(),function(R,M){R==="active"&&(h[M]=1)})}function T(C,D,E){if(!(!C.brushSelector||ylt(s,D))&&(B(m,function(M){s.brushTargetManager.controlSeries(M,C,r)&&E.push(M),v=v||w(E)}),x(D)&&w(E))){var R=C.getData();R.each(function(M){UZ(C,E,R,M)&&(h[M]=1)})}}r.eachSeries(function(C,D){var E={seriesId:C.id,seriesIndex:D,seriesName:C.name,dataIndex:[]};l.selected.push(E);var R=p[D],M=C.getData(),k=x(D)?function(L){return h[L]?(E.dataIndex.push(M.getRawIndex(L)),"inBrush"):"outOfBrush"}:function(L){return UZ(C,R,M,L)?(E.dataIndex.push(M.getRawIndex(L)),"inBrush"):"outOfBrush"};(x(D)?v:w(R))&&hlt(zZ,y,M,k)})}),glt(e,i,a,n,t)}function glt(r,e,t,n,i){if(i){var a=r.getZr();if(!a[m3]){a[jL]||(a[jL]=mlt);var s=Oy(a,jL,t,e);s(r,n)}}}function mlt(r,e){if(!r.isDisposed()){var t=r.getZr();t[m3]=!0,r.dispatchAction({type:"brushSelect",batch:e}),t[m3]=!1}}function UZ(r,e,t,n){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(r.brushSelector(n,t,s.selectors,s))return!0}}function ylt(r,e){var t=r.option.seriesIndex;return t!=null&&t!=="all"&&(ke(t)?Dt(t,e)<0:e!==t)}var _lt={rect:function(r){return HZ(r.range)},polygon:function(r){for(var e,t=r.range,n=0,i=t.length;n<i;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&HZ(e)}};function HZ(r){return new Ct(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var xlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new WV(n.getZr())).on("brush",Xe(this._onBrush,this)).mount()},e.prototype.render=function(t,n,i,a){this.model=t,this._updateController(t,n,i,a)},e.prototype.updateTransform=function(t,n,i,a){Tde(n),this._updateController(t,n,i,a)},e.prototype.updateVisual=function(t,n,i,a){this.updateTransform(t,n,i,a)},e.prototype.updateView=function(t,n,i,a){this._updateController(t,n,i,a)},e.prototype._updateController=function(t,n,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:ht(i),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:ht(i),$from:n})},e.type="brush",e}(qr),wlt="#ddd",blt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&Sde(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:wlt},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Pe(t,function(n){return GZ(this.option,n)},this))},e.prototype.setBrushOption=function(t){this.brushOption=GZ(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(zt);function GZ(r,e){return bt({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new sr(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},e,!0)}var Slt=["rect","polygon","lineX","lineY","keep","clear"],Tlt=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,B(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,n,i){this.render(t,n,i)},e.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),i={};return B(t.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},e.prototype.onclick=function(t,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var n={show:!0,type:Slt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return n},e}(Xo);function Alt(r){r.registerComponentView(xlt),r.registerComponentModel(blt),r.registerPreprocessor(clt),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,vlt),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},An),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},An),V0("brush",Tlt)}var Elt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(zt),Clt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),u=_t(t.get("textBaseline"),t.get("textVerticalAlign")),c=new Yt({style:Ur(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=t.get("subtext"),p=new Yt({style:Ur(o,{text:h,fill:o.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),m=t.get("sublink"),y=t.get("triggerEvent",!0);c.silent=!v&&!y,p.silent=!m&&!y,v&&c.on("click",function(){aC(v,"_"+t.get("target"))}),m&&p.on("click",function(){aC(m,"_"+t.get("subtarget"))}),gt(c).eventData=gt(p).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),h&&a.add(p);var x=a.getBoundingRect(),w=t.getBoxLayoutParams();w.width=x.width,w.height=x.height;var b=ti(w,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var T={align:l,verticalAlign:u};c.setStyle(T),p.setStyle(T),x=a.getBoundingRect();var C=b.margin,D=t.getItemStyle(["color","opacity"]);D.fill=t.get("backgroundColor");var E=new Xt({shape:{x:x.x-C[3],y:x.y-C[0],width:x.width+C[1]+C[3],height:x.height+C[0]+C[2],r:t.get("borderRadius")},style:D,subPixelOptimize:!0,silent:!0});a.add(E)}},e.type="title",e}(qr);function Dlt(r){r.registerComponentModel(Elt),r.registerComponentView(Clt)}var jZ=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,n=t.data||[],i=t.axisType,a=this._names=[],s;i==="category"?(s=[],B(n,function(u,c){var f=gi(by(u),""),h;ct(u)?(h=ht(u),h.value=c):h=c,s.push(h),a.push(f)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Va([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(zt),Ade=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Td(jZ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(jZ);Cn(Ade,aI.prototype);var Ilt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(qr),Rlt=function(r){ge(e,r);function e(t,n,i,a){var s=r.call(this,t,n,i)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(pl),WL=Math.PI,WZ=Qt(),Mlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.api=n},e.prototype.render=function(t,n,i){if(this.model=t,this.api=i,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Oi("nameValue",{noName:!0,value:c})},B(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,t)},this),this._renderAxisLabel(a,o,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,n){var i=t.get(["label","position"]),a=t.get("orient"),s=Plt(t,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":$e(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:WL/2},f=a==="vertical"?s.height:s.width,h=t.getModel("controlStyle"),p=h.get("show",!0),v=p?h.get("itemSize"):0,m=p?h.get("itemGap"):0,y=v+m,x=t.get(["label","rotate"])||0;x=x*WL/180;var w,b,T,C=h.get("position",!0),D=p&&h.get("showPlayBtn",!0),E=p&&h.get("showPrevBtn",!0),R=p&&h.get("showNextBtn",!0),M=0,k=f;C==="left"||C==="bottom"?(D&&(w=[0,0],M+=y),E&&(b=[M,0],M+=y),R&&(T=[k-v,0],k-=y)):(D&&(w=[k-v,0],k-=y),E&&(b=[0,0],M+=y),R&&(T=[k-v,0],k-=y));var L=[M,k];return t.get("inverse")&&L.reverse(),{viewRect:s,mainLength:f,orient:a,rotation:c[a],labelRotation:x,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:w,prevBtnPosition:b,nextBtnPosition:T,axisExtent:L,controlSize:v,controlGap:m}},e.prototype._position=function(t,n){var i=this._mainGroup,a=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=Us(),l=s.x,u=s.y+s.height;ql(o,o,[-l,-u]),bd(o,o,-WL/2),ql(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=w(s),f=w(i.getBoundingRect()),h=w(a.getBoundingRect()),p=[i.x,i.y],v=[a.x,a.y];v[0]=p[0]=c[0][0];var m=t.labelPosOpt;if(m==null||$e(m)){var y=m==="+"?0:1;b(p,f,c,1,y),b(v,h,c,1,1-y)}else{var y=m>=0?0:1;b(p,f,c,1,y),v[1]=p[1]+m}i.setPosition(p),a.setPosition(v),i.rotation=a.rotation=t.rotation,x(i),x(a);function x(T){T.originX=c[0][0]-T.x,T.originY=c[1][0]-T.y}function w(T){return[[T.x,T.x+T.width],[T.y,T.y+T.height]]}function b(T,C,D,E,R){T[E]+=D[E][R]-C[E][R]}},e.prototype._createAxis=function(t,n){var i=n.getData(),a=n.get("axisType"),s=klt(n,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new Rlt("value",s,t.axisExtent,a);return l.model=n,l},e.prototype._createGroup=function(t){var n=this[t]=new pt;return this.group.add(n),n},e.prototype._renderAxisLine=function(t,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new mi({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:De({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new mi({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:ut({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(t,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],B(l,function(u){var c=i.dataToCoord(u.value),f=o.getItemModel(u.value),h=f.getModel("itemStyle"),p=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:Xe(s._changeTimeline,s,u.value)},y=$Z(f,h,n,m);y.ensureState("emphasis").style=p.getItemStyle(),y.ensureState("progress").style=v.getItemStyle(),Gh(y);var x=gt(y);f.get("tooltip")?(x.dataIndex=u.value,x.dataModel=a):x.dataIndex=x.dataModel=null,s._tickSymbols.push(y)})},e.prototype._renderAxisLabel=function(t,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],B(u,function(c){var f=c.tickValue,h=l.getItemModel(f),p=h.getModel("label"),v=h.getModel(["emphasis","label"]),m=h.getModel(["progress","label"]),y=i.dataToCoord(c.tickValue),x=new Yt({x:y,y:0,rotation:t.labelRotation-t.rotation,onclick:Xe(s._changeTimeline,s,f),silent:!1,style:Ur(p,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});x.ensureState("emphasis").style=Ur(v),x.ensureState("progress").style=Ur(m),n.add(x),Gh(x),WZ(x).dataIndex=f,s._tickLabels.push(x)})}},e.prototype._renderControl=function(t,n,i,a){var s=t.controlSize,o=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(t.nextBtnPosition,"next",Xe(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",Xe(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,c?"stop":"play",Xe(this._handlePlayClick,this,!c),!0);function h(p,v,m,y){if(p){var x=Yl(_t(a.get(["controlStyle",v+"BtnSize"]),s),s),w=[0,-x/2,x,x],b=Llt(a,v+"Icon",w,{x:p[0],y:p[1],originX:s/2,originY:0,rotation:y?-o:0,rectHover:!0,style:l,onclick:m});b.ensureState("emphasis").style=u,n.add(b),Gh(b)}}},e.prototype._renderCurrentPointer=function(t,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Xe(u._handlePointerDrag,u),f.ondragend=Xe(u._handlePointerDragend,u),qZ(f,u._progressLine,o,i,a,!0)},onUpdate:function(f){qZ(f,u._progressLine,o,i,a)}};this._currentPointer=$Z(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,n){var i=this._toAxisCoord(t)[0],a=this._axis,s=co(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var n=this._mainGroup.getLocalTransform();return Ul(t,n,!0)},e.prototype._findNearestTick=function(t){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-t);c<i&&(i=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t==="+"?t=n+1:t==="-"&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",WZ(i[a]).dataIndex<=t)},e.type="timeline.slider",e}(Ilt);function klt(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new dI({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new mV({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new xf}}function Plt(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},r.get("padding"))}function Llt(r,e,t,n){var i=n.style,a=Dy(r.get(["controlStyle",e]),n||{},new Ct(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function $Z(r,e,t,n,i,a){var s=e.get("color");if(i)i.setColor(s),t.add(i),a&&a.onUpdate(i);else{var o=r.get("symbol");i=Bn(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),n=bt({rectHover:!0,z2:100},n,!0);var u=Ny(r.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=dg(r.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=r.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function qZ(r,e,t,n,i,a){if(!r.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",t));if(a||!s.get("animation",!0))r.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function Olt(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),ut({currentIndex:i.option.currentIndex},e)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function Nlt(r){var e=r&&r.timeline;ke(e)||(e=e?[e]:[]),B(e,function(t){t&&Flt(t)})}function Flt(r){var e=r.type,t={number:"value",time:"time"};if(t[e]&&(r.axisType=t[e],delete r.type),YZ(r),Wp(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});Wp(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!Wp(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}B(r.data||[],function(i){ct(i)&&!ke(i)&&(!Wp(i,"value")&&Wp(i,"name")&&(i.value=i.name),YZ(i))})}function YZ(r){var e=r.itemStyle||(r.itemStyle={}),t=e.emphasis||(e.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};B(n,function(s,o){!a[o]&&!Wp(i,o)&&(i[o]=s)}),t.label&&!Wp(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function Wp(r,e){return r.hasOwnProperty(e)}function Blt(r){r.registerComponentModel(Ade),r.registerComponentView(Mlt),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),Olt(r),r.registerPreprocessor(Nlt)}function w6(r,e){if(!r)return!1;for(var t=ke(r)?r:[r],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function z2(r){Vv(r,"label",["show"])}var U2=Qt(),bf=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Ut.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=U2(o)[s];if(!l||!l.data){U2(o)[s]=null;return}u?u._mergeOption(l,n,!0):(a&&z2(l),B(l.data,function(c){c instanceof Array?(z2(c[0]),z2(c[1])):z2(c)}),u=this.createMarkerModelFromSeries(l,this,n),De(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),U2(o)[s]=u},this)},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Oi("section",{header:this.name,blocks:[Oi("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var i=aI.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,n){return U2(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(zt);Cn(bf,aI.prototype);var Vlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(bf);function y3(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function zlt(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function H2(r,e,t,n,i,a){var s=[],o=_f(e,n),l=o?e.getCalculationInfo("stackResultDimension"):n,u=b6(e,l,r),c=e.indicesOfNearest(l,u)[0];s[i]=e.get(t,c),s[a]=e.get(l,c);var f=e.get(n,c),h=Ll(e.get(n,c));return h=Math.min(h,20),h>=0&&(s[a]=+s[a].toFixed(h)),[s,f]}var $L={min:xt(H2,"min"),max:xt(H2,"max"),average:xt(H2,"average"),median:xt(H2,"median")};function Hw(r,e){if(e){var t=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!zlt(e)&&!ke(e.coord)&&ke(i)){var a=Ede(e,t,n,r);if(e=ht(e),e.type&&$L[e.type]&&a.baseAxis&&a.valueAxis){var s=Dt(i,a.baseAxis.dim),o=Dt(i,a.valueAxis.dim),l=$L[e.type](t,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ke(i))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)$L[u[c]]&&(u[c]=b6(t,t.mapDimension(i[c]),u[c]));return e}}function Ede(r,e,t,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,i.valueAxis=t.getAxis(Ult(n,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function Ult(r,e){var t=r.getData().getDimensionInfo(e);return t&&t.coordDim}function Gw(r,e){return r&&r.containData&&e.coord&&!y3(e)?r.containData(e.coord):!0}function Hlt(r,e,t){return r&&r.containZone&&e.coord&&t.coord&&!y3(e)&&!y3(t)?r.containZone(e.coord,t.coord):!0}function Cde(r,e){return r?function(t,n,i,a){var s=a<2?t.coord&&t.coord[a]:t.value;return $h(s,e[a])}:function(t,n,i,a){return $h(t.value,e[a])}}function b6(r,e,t){if(t==="average"){var n=0,i=0;return r.each(e,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return t==="median"?r.getMedian(e):r.getDataExtent(e)[t==="max"?1:0]}var qL=Qt(),S6=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=tt()},e.prototype.render=function(t,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){qL(o).keep=!1}),n.eachSeries(function(o){var l=bf.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!qL(o).keep&&a.group.remove(o.group)})},e.prototype.markKeep=function(t){qL(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var i=this;B(t,function(a){var s=bf.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?yle(l):RB(l))})}})},e.type="marker",e}(qr);function XZ(r,e,t){var n=e.coordinateSystem;r.each(function(i){var a=r.getItemModel(i),s,o=je(a.get("x"),t.getWidth()),l=je(a.get("y"),t.getHeight());if(!isNaN(o)&&!isNaN(l))s=[o,l];else if(e.getMarkerPosition)s=e.getMarkerPosition(r.getValues(r.dimensions,i));else if(n){var u=r.get(n.dimensions[0],i),c=r.get(n.dimensions[1],i);s=n.dataToPoint([u,c])}isNaN(o)||(s[0]=o),isNaN(l)||(s[1]=l),r.setItemLayout(i,s)})}var Glt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=bf.getMarkerModelFromSeries(a,"markPoint");s&&(XZ(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new Vb),f=jlt(s,t,n);n.setData(f),XZ(n.getData(),t,a),f.each(function(h){var p=f.getItemModel(h),v=p.getShallow("symbol"),m=p.getShallow("symbolSize"),y=p.getShallow("symbolRotate"),x=p.getShallow("symbolOffset"),w=p.getShallow("symbolKeepAspect");if(it(v)||it(m)||it(y)||it(x)){var b=n.getRawValue(h),T=n.getDataParams(h);it(v)&&(v=v(b,T)),it(m)&&(m=m(b,T)),it(y)&&(y=y(b,T)),it(x)&&(x=x(b,T))}var C=p.getModel("itemStyle").getItemStyle(),D=Nb(l,"color");C.fill||(C.fill=D),f.setItemVisual(h,{symbol:v,symbolSize:m,symbolRotate:y,symbolOffset:x,symbolKeepAspect:w,style:C})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(p){gt(p).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e}(S6);function jlt(r,e,t){var n;r?n=Pe(r&&r.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return De(De({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Va(n,t),a=Pe(t.get("data"),xt(Hw,e));r&&(a=ar(a,xt(Gw,r)));var s=Cde(!!r,n);return i.initData(a,null,s),i}function Wlt(r){r.registerComponentModel(Vlt),r.registerComponentView(Glt),r.registerPreprocessor(function(e){w6(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var $lt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(bf),G2=Qt(),qlt=function(r,e,t,n){var i=r.getData(),a;if(ke(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=e.getAxis(n.yAxis!=null?"y":"x"),l=Ii(n.yAxis,n.xAxis);else{var u=Ede(n,i,e,r);o=u.valueAxis;var c=vV(i,u.valueDataDim);l=b6(i,c,s)}var f=o.dim==="x"?0:1,h=1-f,p=ht(n),v={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,v.coord[h]=1/0;var m=t.get("precision");m>=0&&tr(l)&&(l=+l.toFixed(Math.min(m,20))),p.coord[f]=v.coord[f]=l,a=[p,v,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var y=[Hw(r,a[0]),Hw(r,a[1]),De({},a[2])];return y[2].type=y[2].type||null,bt(y[2],y[0]),bt(y[2],y[1]),y};function kC(r){return!isNaN(r)&&!isFinite(r)}function KZ(r,e,t,n){var i=1-r,a=n.dimensions[r];return kC(e[i])&&kC(t[i])&&e[r]===t[r]&&n.getAxis(a).containData(e[r])}function Ylt(r,e){if(r.type==="cartesian2d"){var t=e[0].coord,n=e[1].coord;if(t&&n&&(KZ(1,t,n,r)||KZ(0,t,n,r)))return!0}return Gw(r,e[0])&&Gw(r,e[1])}function YL(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=je(s.get("x"),i.getWidth()),u=je(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition)o=n.getMarkerPosition(r.getValues(r.dimensions,e));else{var c=a.dimensions,f=r.get(c[0],e),h=r.get(c[1],e);o=a.dataToPoint([f,h])}if(pg(a,"cartesian2d")){var p=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;kC(r.get(c[0],e))?o[0]=p.toGlobalCoord(p.getExtent()[t?0:1]):kC(r.get(c[1],e))&&(o[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}r.setItemLayout(e,o)}var Xlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=bf.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=G2(s).from,u=G2(s).to;l.each(function(c){YL(l,c,!0,a,i),YL(u,c,!1,a,i)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new jV);this.group.add(c.group);var f=Klt(s,t,n),h=f.from,p=f.to,v=f.line;G2(n).from=h,G2(n).to=p,n.setData(v);var m=n.get("symbol"),y=n.get("symbolSize"),x=n.get("symbolRotate"),w=n.get("symbolOffset");ke(m)||(m=[m,m]),ke(y)||(y=[y,y]),ke(x)||(x=[x,x]),ke(w)||(w=[w,w]),f.from.each(function(T){b(h,T,!0),b(p,T,!1)}),v.each(function(T){var C=v.getItemModel(T).getModel("lineStyle").getLineStyle();v.setItemLayout(T,[h.getItemLayout(T),p.getItemLayout(T)]),C.stroke==null&&(C.stroke=h.getItemVisual(T,"style").fill),v.setItemVisual(T,{fromSymbolKeepAspect:h.getItemVisual(T,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(T,"symbolOffset"),fromSymbolRotate:h.getItemVisual(T,"symbolRotate"),fromSymbolSize:h.getItemVisual(T,"symbolSize"),fromSymbol:h.getItemVisual(T,"symbol"),toSymbolKeepAspect:p.getItemVisual(T,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(T,"symbolOffset"),toSymbolRotate:p.getItemVisual(T,"symbolRotate"),toSymbolSize:p.getItemVisual(T,"symbolSize"),toSymbol:p.getItemVisual(T,"symbol"),style:C})}),c.updateData(v),f.line.eachItemGraphicEl(function(T){gt(T).dataModel=n,T.traverse(function(C){gt(C).dataModel=n})});function b(T,C,D){var E=T.getItemModel(C);YL(T,C,D,t,a);var R=E.getModel("itemStyle").getItemStyle();R.fill==null&&(R.fill=Nb(l,"color")),T.setItemVisual(C,{symbolKeepAspect:E.get("symbolKeepAspect"),symbolOffset:_t(E.get("symbolOffset",!0),w[D?0:1]),symbolRotate:_t(E.get("symbolRotate",!0),x[D?0:1]),symbolSize:_t(E.get("symbolSize"),y[D?0:1]),symbol:_t(E.get("symbol",!0),m[D?0:1]),style:R})}this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markLine",e}(S6);function Klt(r,e,t){var n;r?n=Pe(r&&r.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return De(De({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Va(n,t),a=new Va(n,t),s=new Va([],t),o=Pe(t.get("data"),xt(qlt,e,r,t));r&&(o=ar(o,xt(Ylt,r)));var l=Cde(!!r,n);return i.initData(Pe(o,function(u){return u[0]}),null,l),a.initData(Pe(o,function(u){return u[1]}),null,l),s.initData(Pe(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function Zlt(r){r.registerComponentModel($lt),r.registerComponentView(Xlt),r.registerPreprocessor(function(e){w6(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Qlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(bf),j2=Qt(),Jlt=function(r,e,t,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=Hw(r,i),o=Hw(r,a),l=s.coord,u=o.coord;l[0]=Ii(l[0],-1/0),l[1]=Ii(l[1],-1/0),u[0]=Ii(u[0],1/0),u[1]=Ii(u[1],1/0);var c=LD([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function PC(r){return!isNaN(r)&&!isFinite(r)}function ZZ(r,e,t,n){var i=1-r;return PC(e[i])&&PC(t[i])}function eut(r,e){var t=e.coord[0],n=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:n,x:e.x1,y:e.y1};return pg(r,"cartesian2d")?t&&n&&(ZZ(1,t,n)||ZZ(0,t,n))?!0:Hlt(r,i,a):Gw(r,i)||Gw(r,a)}function QZ(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=je(s.get(t[0]),i.getWidth()),u=je(s.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var c=r.getValues(["x0","y0"],e),f=r.getValues(["x1","y1"],e),h=a.clampData(c),p=a.clampData(f),v=[];t[0]==="x0"?v[0]=h[0]>p[0]?f[0]:c[0]:v[0]=h[0]>p[0]?c[0]:f[0],t[1]==="y0"?v[1]=h[1]>p[1]?f[1]:c[1]:v[1]=h[1]>p[1]?c[1]:f[1],o=n.getMarkerPosition(v,t,!0)}else{var m=r.get(t[0],e),y=r.get(t[1],e),x=[m,y];a.clampData&&a.clampData(x,x),o=a.dataToPoint(x,!0)}if(pg(a,"cartesian2d")){var w=a.getAxis("x"),b=a.getAxis("y"),m=r.get(t[0],e),y=r.get(t[1],e);PC(m)?o[0]=w.toGlobalCoord(w.getExtent()[t[0]==="x0"?0:1]):PC(y)&&(o[1]=b.toGlobalCoord(b.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var JZ=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],tut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=bf.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=Pe(JZ,function(f){return QZ(o,l,f,a,i)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new pt});this.group.add(c.group),this.markKeep(c);var f=rut(s,t,n);n.setData(f),f.each(function(h){var p=Pe(JZ,function(R){return QZ(f,h,R,t,a)}),v=s.getAxis("x").scale,m=s.getAxis("y").scale,y=v.getExtent(),x=m.getExtent(),w=[v.parse(f.get("x0",h)),v.parse(f.get("x1",h))],b=[m.parse(f.get("y0",h)),m.parse(f.get("y1",h))];co(w),co(b);var T=!(y[0]>w[1]||y[1]<w[0]||x[0]>b[1]||x[1]<b[0]),C=!T;f.setItemLayout(h,{points:p,allClipped:C});var D=f.getItemModel(h).getModel("itemStyle").getItemStyle(),E=Nb(l,"color");D.fill||(D.fill=E,$e(D.fill)&&(D.fill=yw(D.fill,.4))),D.stroke||(D.stroke=E),f.setItemVisual(h,"style",D)}),f.diff(j2(c).data).add(function(h){var p=f.getItemLayout(h);if(!p.allClipped){var v=new Wa({shape:{points:p.points}});f.setItemGraphicEl(h,v),c.group.add(v)}}).update(function(h,p){var v=j2(c).data.getItemGraphicEl(p),m=f.getItemLayout(h);m.allClipped?v&&c.group.remove(v):(v?rr(v,{shape:{points:m.points}},n,h):v=new Wa({shape:{points:m.points}}),f.setItemGraphicEl(h,v),c.group.add(v))}).remove(function(h){var p=j2(c).data.getItemGraphicEl(h);c.group.remove(p)}).execute(),f.eachItemGraphicEl(function(h,p){var v=f.getItemModel(p),m=f.getItemVisual(p,"style");h.useStyle(f.getItemVisual(p,"style")),ma(h,Li(v),{labelFetcher:n,labelDataIndex:p,defaultText:f.getName(p)||"",inheritColor:$e(m.fill)?yw(m.fill,1):"#000"}),ga(h,v),dn(h,null,null,v.get(["emphasis","disabled"])),gt(h).dataModel=n}),j2(c).data=f,c.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e}(S6);function rut(r,e,t){var n,i,a=["x0","y0","x1","y1"];if(r){var s=Pe(r&&r.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return De(De({},f),{name:u,ordinalMeta:null})});i=Pe(a,function(u,c){return{name:u,type:s[c%2].type}}),n=new Va(i,t)}else i=[{name:"value",type:"float"}],n=new Va(i,t);var o=Pe(t.get("data"),xt(Jlt,e,r,t));r&&(o=ar(o,xt(eut,r)));var l=r?function(u,c,f,h){var p=u.coord[Math.floor(h/2)][h%2];return $h(p,i[h])}:function(u,c,f,h){return $h(u.value,i[h])};return n.initData(o,null,l),n.hasItemOption=!0,n}function nut(r){r.registerComponentModel(Qlt),r.registerComponentView(tut),r.registerPreprocessor(function(e){w6(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var iut=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},_3=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,i=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ke(n)&&B(n,function(a,s){$e(a)&&(a={type:a}),n[s]=bt(a,iut(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&bB(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=tt(),o=Pe(a,function(l){return($e(l)||tr(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new sr(l,this,this.ecModel))},this);this._data=ar(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;B(a,function(s){n[s.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;B(t,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;B(t,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&Dt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(zt),A0=xt,x3=B,W2=pt,Dde=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new W2),this.group.add(this._selectorGroup=new W2),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,t,n,i,l,o,u);var c=t.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),p=ti(c,f,h),v=this.layoutInner(t,s,p,a,l,u),m=ti(ut({width:v.width,height:v.height},c),f,h);this.group.x=m.x-v.x,this.group.y=m.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=gde(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,i,a,s,o,l){var u=this.getContentGroup(),c=tt(),f=n.get("selectedMode"),h=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),x3(n.getData(),function(p,v){var m=p.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var y=new W2;y.newline=!0,u.add(y);return}var x=i.getSeriesByName(m)[0];if(!c.get(m))if(x){var w=x.getData(),b=w.getVisual("legendLineStyle")||{},T=w.getVisual("legendIcon"),C=w.getVisual("style"),D=this._createItem(x,m,v,p,n,t,b,C,T,f,a);D.on("click",A0(eQ,m,null,a,h)).on("mouseover",A0(w3,x.name,null,a,h)).on("mouseout",A0(b3,x.name,null,a,h)),i.ssr&&D.eachChild(function(E){var R=gt(E);R.seriesIndex=x.seriesIndex,R.dataIndex=v,R.ssrType="legend"}),c.set(m,!0)}else i.eachRawSeries(function(E){if(!c.get(m)&&E.legendVisualProvider){var R=E.legendVisualProvider;if(!R.containName(m))return;var M=R.indexOfName(m),k=R.getItemVisual(M,"style"),L=R.getItemVisual(M,"legendIcon"),O=ps(k.fill);O&&O[3]===0&&(O[3]=.2,k=De(De({},k),{fill:zl(O,"rgba")}));var N=this._createItem(E,m,v,p,n,t,{},k,L,f,a);N.on("click",A0(eQ,null,m,a,h)).on("mouseover",A0(w3,null,m,a,h)).on("mouseout",A0(b3,null,m,a,h)),i.ssr&&N.eachChild(function(W){var U=gt(W);U.seriesIndex=E.seriesIndex,U.dataIndex=v,U.ssrType="legend"}),c.set(m,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},e.prototype._createSelector=function(t,n,i,a,s){var o=this.getSelectorGroup();x3(t,function(u){var c=u.type,f=new Yt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(f);var h=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);ma(f,{normal:h,emphasis:p},{defaultText:u.title}),Gh(f)})},e.prototype._createItem=function(t,n,i,a,s,o,l,u,c,f,h){var p=t.visualDrawType,v=s.get("itemWidth"),m=s.get("itemHeight"),y=s.isSelected(n),x=a.get("symbolRotate"),w=a.get("symbolKeepAspect"),b=a.get("icon");c=b||c||"roundRect";var T=aut(c,a,l,u,p,y,h),C=new W2,D=a.getModel("textStyle");if(it(t.getLegendIcon)&&(!b||b==="inherit"))C.add(t.getLegendIcon({itemWidth:v,itemHeight:m,icon:c,iconRotate:x,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:w}));else{var E=b==="inherit"&&t.getData().getVisual("symbol")?x==="inherit"?t.getData().getVisual("symbolRotate"):x:0;C.add(sut({itemWidth:v,itemHeight:m,icon:c,iconRotate:E,itemStyle:T.itemStyle,symbolKeepAspect:w}))}var R=o==="left"?v+5:-5,M=o,k=s.get("formatter"),L=n;$e(k)&&k?L=k.replace("{name}",n??""):it(k)&&(L=k(n));var O=y?D.getTextColor():a.get("inactiveColor");C.add(new Yt({style:Ur(D,{text:L,x:R,y:m/2,fill:O,align:M,verticalAlign:"middle"},{inheritColor:O})}));var N=new Xt({shape:C.getBoundingRect(),style:{fill:"transparent"}}),W=a.getModel("tooltip");return W.get("show")&&cg({el:N,componentModel:s,itemName:n,itemTooltipOption:W.option}),C.add(N),C.eachChild(function(U){U.silent=!0}),N.silent=!f,this.getContentGroup().add(C),Gh(C),C.__legendDataIndex=i,C},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();xv(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){xv("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),p=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),m=t.getOrient().index,y=m===0?"width":"height",x=m===0?"height":"width",w=m===0?"y":"x";o==="end"?p[m]+=c[y]+v:f[m]+=h[y]+v,p[1-m]+=c[x]/2-h[x]/2,u.x=p[0],u.y=p[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[y]=c[y]+v+h[y],b[x]=Math.max(c[x],h[x]),b[w]=Math.min(0,h[w]+p[1-m]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(qr);function aut(r,e,t,n,i,a,s){function o(y,x){y.lineWidth==="auto"&&(y.lineWidth=x.lineWidth>0?2:0),x3(y,function(w,b){y[b]==="inherit"&&(y[b]=x[b])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:Zm(f,s),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:t).opacity),o(u,n);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(o(p,t),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!a){var v=e.get("inactiveBorderWidth"),m=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&m?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function sut(r){var e=r.icon||"roundRect",t=Bn(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function eQ(r,e,t,n){b3(r,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:r??e}),w3(r,e,t,n)}function Ide(r){for(var e=r.getZr().storage.getDisplayList(),t,n=0,i=e.length;n<i&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function w3(r,e,t,n){Ide(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:n})}function b3(r,e,t,n){Ide(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:n})}function out(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function A_(r,e,t){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(o){n?o[r]():o[r](e.name),tQ(o,i),a.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){B(i,function(l,u){o[l?"select":"unSelect"](u)}),tQ(o,s)}),n?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function tQ(r,e){var t=e||{};return B(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Qe(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function lut(r){r.registerAction("legendToggleSelect","legendselectchanged",xt(A_,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",xt(A_,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",xt(A_,"inverseSelect")),r.registerAction("legendSelect","legendselected",xt(A_,"select")),r.registerAction("legendUnSelect","legendunselected",xt(A_,"unSelect"))}function Rde(r){r.registerComponentModel(_3),r.registerComponentView(Dde),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,out),r.registerSubTypeDefaulter("legend",function(){return"plain"}),lut(r)}var uut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,i){var a=My(t);r.prototype.init.call(this,t,n,i),rQ(this,t,a)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),rQ(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Td(_3.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(_3);function rQ(r,e,t){var n=r.getOrient(),i=[1,1];i[n.index]=0,fd(e,t,{type:"box",ignoreSize:!!i})}var nQ=pt,XL=["width","height"],KL=["x","y"],cut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new nQ),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new nQ)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,i,a,s,o,l){var u=this;r.prototype.renderInner.call(this,t,n,i,a,s,o,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),h=ke(f)?f:[f,f];v("pagePrev",0);var p=n.getModel("pageTextStyle");c.add(new Yt({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(m,y){var x=m+"DataIndex",w=Dy(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:Xe(u._pageGo,u,x,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});w.name=m,c.add(w)}},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getSelectorGroup(),u=t.getOrient().index,c=XL[u],f=KL[u],h=XL[1-u],p=KL[1-u];s&&xv("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],x=ht(i);s&&(x[c]=i[c]-m[c]-v);var w=this._layoutContentAndController(t,a,x,u,c,h,p,f);if(s){if(o==="end")y[u]+=w[c]+v;else{var b=m[c]+v;y[u]-=b,w[f]-=b}w[c]+=m[c]+v,y[1-u]+=w[p]+w[h]/2-m[h]/2,w[h]=Math.max(w[h],m[h]),w[p]=Math.min(w[p],m[p]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return w},e.prototype._layoutContentAndController=function(t,n,i,a,s,o,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;xv(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),xv("horizontal",h,t.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),v=h.getBoundingRect(),m=this._showController=p[s]>i[s],y=[-p.x,-p.y];n||(y[a]=c[u]);var x=[0,0],w=[-v.x,-v.y],b=_t(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var T=t.get("pageButtonPosition",!0);T==="end"?w[a]+=i[s]-v[s]:x[a]+=v[s]+b}w[1-a]+=p[o]/2-v[o]/2,c.setPosition(y),f.setPosition(x),h.setPosition(w);var C={x:0,y:0};if(C[s]=m?i[s]:p[s],C[o]=Math.max(p[o],v[o]),C[l]=Math.min(0,v[l]+w[1-a]),f.__rectSize=i[s],m){var D={x:0,y:0};D[s]=Math.max(i[s]-v[s]-b,0),D[o]=C[o],f.setClipPath(new Xt({shape:D})),f.__rectSize=D[s]}else h.eachChild(function(R){R.attr({invisible:!0,silent:!0})});var E=this._getPageInfo(t);return E.pageIndex!=null&&rr(c,{x:E.contentPosition[0],y:E.contentPosition[1]},m?t:null),this._updatePageInfoView(t,E),C},e.prototype._pageGo=function(t,n,i){var a=this._getPageInfo(n)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var i=this._controllerGroup;B(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=n[f]!=null,p=i.childOfName(c);p&&(p.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;a&&s&&a.setStyle("text",$e(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=XL[s],l=KL[s],u=this._findTargetItemIndex(n),c=i.children(),f=c[u],h=c.length,p=h?1:0,v={contentPosition:[i.x,i.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var m=T(f);v.contentPosition[s]=-m.s;for(var y=u+1,x=m,w=m,b=null;y<=h;++y)b=T(c[y]),(!b&&w.e>x.s+a||b&&!C(b,x.s))&&(w.i>x.i?x=w:x=b,x&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=x.i),++v.pageCount)),w=b;for(var y=u-1,x=m,w=m,b=null;y>=-1;--y)b=T(c[y]),(!b||!C(w,b.s))&&x.i<w.i&&(w=x,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=x.i),++v.pageCount,++v.pageIndex),x=b;return v;function T(D){if(D){var E=D.getBoundingRect(),R=E[l]+D[l];return{s:R,e:R+E[o],i:D.__legendDataIndex}}}function C(D,E){return D.e>=E&&D.s<=E+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(n=o)}),n??a},e.type="legend.scroll",e}(Dde);function fut(r){r.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function hut(r){Pt(Rde),r.registerComponentModel(uut),r.registerComponentView(cut),fut(r)}function dut(r){Pt(Rde),Pt(hut)}var put=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Td(Uw.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Uw),T6=Qt();function vut(r,e,t){T6(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function gut(r,e){for(var t=T6(r).coordSysRecordMap,n=t.keys(),i=0;i<n.length;i++){var a=n[i],s=t.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||Mde(t,s))}}}function Mde(r,e){if(e){r.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function mut(r,e){var t={model:e,containsPoint:xt(_ut,e),dispatchAction:xt(yut,r),dataZoomInfoMap:null,controller:null},n=t.controller=new jb(r.getZr());return B(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];t.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&t.dispatchAction(s)})}),t}function yut(r,e){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function _ut(r,e,t,n){return r.coordinateSystem.containPoint([t,n])}function xut(r){var e,t="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return r.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[t+o]>n[t+e]&&(e=o),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function wut(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=T6(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=tt());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=dde(a);B(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,mut(t,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=tt());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){Mde(i,a);return}var c=xut(l);s.enable(c.controlType,c.opt),s.setPointerChecker(a.containsPoint),Oy(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var but=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,n,i){if(r.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),vut(i,t,{pan:Xe(ZL.pan,this),zoom:Xe(ZL.zoom,this),scrollMove:Xe(ZL.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){gut(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(v6),ZL={zoom:function(r,e,t,n){var i=this.range,a=i.slice(),s=r.axisModels[0];if(s){var o=QL[e](null,[n.originX,n.originY],s,t,r),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(gg(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:iQ(function(r,e,t,n,i,a){var s=QL[n]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:iQ(function(r,e,t,n,i,a){var s=QL[n]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return s.signal*(r[1]-r[0])*a.scrollDelta})};function iQ(r){return function(e,t,n,i){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=r(s,o,e,t,n,i);if(gg(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var QL={grid:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(s.pixel=e[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return r=r?o.pointToCoord(r):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-r[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(r,e,t,n,i){var a=t.axis,s=i.model.coordinateSystem.getRect(),o={};return r=r||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function kde(r){g6(r),r.registerComponentModel(put),r.registerComponentView(but),wut(r)}var Sut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Td(Uw.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Uw),E_=Xt,aQ=7,Tut=1,JL=30,Aut=7,C_="horizontal",sQ="vertical",Eut=5,Cut=["line","bar","candlestick","scatter"],Dut={easing:"cubicOut",duration:100,delay:0},Iut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,n){this.api=n,this._onBrush=Xe(this._onBrush,this),this._onBrushEnd=Xe(this._onBrushEnd,this)},e.prototype.render=function(t,n,i,a){if(r.prototype.render.apply(this,arguments),Oy(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Dw(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new pt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,i=t.get("brushSelect"),a=i?Aut:0,s=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===C_?{right:o.width-s.x-s.width,top:o.height-JL-aQ-a,width:s.width,height:JL}:{right:aQ,top:s.y,width:JL,height:s.height},u=My(t.option);B(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=ti(u,o);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===sQ&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===C_&&!s?{scaleY:l?1:-1,scaleX:1}:i===C_&&s?{scaleY:l?1:-1,scaleX:-1}:i===sQ&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([o]);t.x=n.x-u.x,t.y=n.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new E_({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new E_({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Xe(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,i=this._shadowSize||[],a=t.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var f=s.getDataExtent(l),h=(f[1]-f[0])*.3;f=[f[0]-h,f[1]+h];var p=[0,n[1]],v=[0,n[0]],m=[[n[0],0],[0,0]],y=[],x=v[1]/(s.count()-1),w=0,b=Math.round(s.count()/n[0]),T;s.each([l],function(M,k){if(b>0&&k%b){w+=x;return}var L=M==null||isNaN(M)||M==="",O=L?0:cr(M,f,p,!0);L&&!T&&k?(m.push([m[m.length-1][0],0]),y.push([y[y.length-1][0],0])):!L&&T&&(m.push([w,0]),y.push([w,0])),m.push([w,O]),y.push([w,O]),w+=x,T=L}),u=this._shadowPolygonPts=m,c=this._shadowPolylinePts=y}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var C=this.dataZoomModel;function D(M){var k=C.getModel(M?"selectedDataBackground":"dataBackground"),L=new pt,O=new Wa({shape:{points:u},segmentIgnoreThreshold:1,style:k.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),N=new Ya({shape:{points:c},segmentIgnoreThreshold:1,style:k.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return L.add(O),L.add(N),L}for(var E=0;E<3;E++){var R=D(E===1);this._displayables.sliderGroup.add(R),this._displayables.dataShadowSegs.push(R)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();B(l,function(u){if(!i&&!(n!==!0&&Dt(Cut,u.get("type"))<0)){var c=a.getComponent(Lh(s),o).axis,f=Rut(s),h,p=u.coordinateSystem;f!=null&&p.getOtherAxis&&(h=p.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),i={thisAxis:c,series:u,thisDim:s,otherDim:f,otherAxisInverse:h}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=n.filler=new E_({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new E_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:Tut,fill:"rgba(0,0,0,0)"}})),B([0,1],function(b){var T=l.get("handleIcon");!lC[T]&&T.indexOf("path://")<0&&T.indexOf("image://")<0&&(T="path://"+T);var C=Bn(T,-1,0,2,2,null,!0);C.attr({cursor:oQ(this._orient),draggable:!0,drift:Xe(this._onDragMove,this,b),ondragend:Xe(this._onDragEnd,this),onmouseover:Xe(this._showDataInfo,this,!0),onmouseout:Xe(this._showDataInfo,this,!1),z2:5});var D=C.getBoundingRect(),E=l.get("handleSize");this._handleHeight=je(E,this._size[1]),this._handleWidth=D.width/D.height*this._handleHeight,C.setStyle(l.getModel("handleStyle").getItemStyle()),C.style.strokeNoScale=!0,C.rectHover=!0,C.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Gh(C);var R=l.get("handleColor");R!=null&&(C.style.fill=R),s.add(i[b]=C);var M=l.getModel("textStyle"),k=l.get("handleLabel")||{},L=k.show||!1;t.add(a[b]=new Yt({silent:!0,invisible:!L,style:Ur(M,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:M.getTextColor(),font:M.getFont()}),z2:10}))},this);var p=h;if(f){var v=je(l.get("moveHandleSize"),o[1]),m=n.moveHandle=new Xt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:v}}),y=v*.8,x=n.moveHandleIcon=Bn(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);x.silent=!0,x.y=o[1]+v/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(o[1]/2,Math.max(v,10));p=n.moveZone=new Xt({invisible:!0,shape:{y:o[1]-w,height:v+w}}),p.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),s.add(m),s.add(x),s.add(p)}p.attr({draggable:!0,cursor:oQ(this._orient),drift:Xe(this._onDragMove,this,"all"),ondragstart:Xe(this._showDataInfo,this,!0),ondragend:Xe(this._onDragEnd,this),onmouseover:Xe(this._showDataInfo,this,!0),onmouseout:Xe(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[cr(t[0],[0,100],n,!0),cr(t[1],[0,100],n,!0)]},e.prototype._updateInterval=function(t,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];gg(n,a,s,i.get("zoomLock")?"all":t,o.minSpan!=null?cr(o.minSpan,l,s,!0):null,o.maxSpan!=null?cr(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=co([cr(a[0],s,l,!0),cr(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var n=this._displayables,i=this._handleEnds,a=co(i.slice()),s=this._size;B([0,1],function(p){var v=n.handles[p],m=this._handleHeight;v.attr({scaleX:m/2,scaleY:m/2,x:i[p]+(p?-1:1),y:s[1]/2-m/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new Xt,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=co(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(v){var m=jh(i.handles[v].parent,this.group),y=ZD(v===0?"right":"left",m),x=this._handleWidth/2+Eut,w=Ul([h[v]+(v===0?-x:x),this._size[1]/2],m);a[v].setStyle({x:w[0],y:w[1],verticalAlign:s===C_?"middle":y,align:s===C_?y:"center",text:o[v]})}},e.prototype._formatLabel=function(t,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=t==null||isNaN(t)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return it(a)?a(t,o):$e(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=t||this._dragging?s:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,n,i,a){this._dragging=!0,vf(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Ul([n,i],s,!0),l=this._updateInterval(t,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var n=t.offsetX,i=t.offsetY;this._brushStart=new At(n,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=co([cr(i.x,s,o,!0),cr(i.x+i.width,s,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(vf(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new E_({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,n),c=l.transformCoordToLocal(o.x,o.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Dut:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var t,n=dde(this.dataZoomModel).infoList;if(!t&&n.length){var i=n[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),s=this.api.getHeight();t={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return t},e.type="dataZoom.slider",e}(v6);function Rut(r){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[r]}function oQ(r){return r==="vertical"?"ns-resize":"ew-resize"}function Pde(r){r.registerComponentModel(Sut),r.registerComponentView(Iut),g6(r)}function Mut(r){Pt(kde),Pt(Pde)}var Lde={get:function(r,e,t){var n=ht((kut[r]||{})[e]);return t&&ke(n)?n[n.length-1]:n}},kut={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},lQ=Pi.mapVisual,Put=Pi.eachVisual,Lut=ke,uQ=B,Out=co,Nut=cr,LC=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&Sde(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var n=this.stateList;t=Xe(t,this),this.controllerVisuals=g3(this.option.controller,n,t),this.targetVisuals=g3(this.option.target,n,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,n=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,a){n.push(a)}):n=Pr(t),n},e.prototype.eachTargetSeries=function(t,n){B(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(n,a)},this)},e.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(i){i===t&&(n=!0)}),n},e.prototype.formatValueText=function(t,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],ke(t)&&(t=t.slice(),u=!0);var c=n?t:u?[f(t[0]),f(t[1])]:f(t);if($e(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(it(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===o[0]?i[0]+" "+c[1]:t[1]===o[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===o[0]?"min":h===o[1]?"max":(+h).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,n=Out([t.min,t.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});bt(a,i),bt(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(f){Lut(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,p){var v=f[h],m=f[p];v&&!m&&(m=f[p]={},uQ(v,function(y,x){if(Pi.isValidType(x)){var w=Lde.get(x,"inactive",o);w!=null&&(m[x]=w,x==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,p=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),m=this.getItemSymbol(),y=m||"roundRect";uQ(this.stateList,function(x){var w=this.itemSize,b=f[x];b||(b=f[x]={color:o?v:[v]}),b.symbol==null&&(b.symbol=h&&ht(h)||(o?y:[y])),b.symbolSize==null&&(b.symbolSize=p&&ht(p)||(o?w[0]:[w[0],w[0]])),b.symbol=lQ(b.symbol,function(D){return D==="none"?y:D});var T=b.symbolSize;if(T!=null){var C=-1/0;Put(T,function(D){D>C&&(C=D)}),b.symbolSize=lQ(T,function(D){return Nut(D,[0,C],[0,w[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(zt),cQ=[20,140],Fut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=cQ[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=cQ[1])},e.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):ke(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},e.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),B(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),n=co((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},e.prototype.getValueState=function(t){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=t)&&(n[1]>=i[1]||t<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},e.prototype.getVisualMeta=function(t){var n=fQ(this,"outOfRange",this.getExtent()),i=fQ(this,"inRange",this.option.range.slice()),a=[];function s(p,v){a.push({value:p,color:t(p,v)})}for(var o=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var f=1;o<u;o++,f=0)f&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(f&&(a.length&&s(a[a.length-1].value,"outOfRange"),f=0),s(n[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Td(LC.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(LC);function fQ(r,e,t){if(t[0]===t[1])return t.slice();for(var n=200,i=(t[1]-t[0])/n,a=t[0],s=[],o=0;o<=n&&a<t[1];o++)s.push(a),a+=i;return s.push(t[1]),s}var Ode=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n},e.prototype.render=function(t,n,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,n,i,a)},e.prototype.renderBackground=function(t){var n=this.visualMapModel,i=hg(n.get("padding")||0),a=t.getBoundingRect();t.add(new Xt({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function u(p){return o[p]}function c(p,v){o[p]=v}var f=s.controllerVisuals[a||s.getValueState(t)],h=Pi.prepareVisualTypes(f);return B(h,function(p){var v=f[p];i.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",v=f.__alphaForOpacity),Pi.dependsOn(p,n)&&v&&v.applyVisual(t,u,c)}),o[n]},e.prototype.positionGroup=function(t){var n=this.visualMapModel,i=this.api;nI(t,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,n,i,a){},e.type="visualMap",e}(qr),hQ=[["left","right","width"],["top","bottom","height"]];function Nde(r,e,t){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},s=n.orient==="horizontal"?1:0,o=hQ[s],l=[0,null,10],u={},c=0;c<3;c++)u[hQ[1-s][c]]=l[c],u[o[c]]=c===2?t[0]:n[o[c]];var f=[["x","width",3],["y","height",0]][s],h=ti(u,a,n.padding);return o[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function IA(r,e){return B(r||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),r}var Au=cr,But=B,dQ=Math.min,eO=Math.max,Vut=12,zut=6,Uut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,n){r.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=Xe(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Xe(this._hideIndicator,this)},e.prototype.doRender=function(t,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var i=t.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(t,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),f=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new Yt({style:Ur(p,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":f,align:h==="horizontal"?f:"center",text:a})}))}},e.prototype._renderBar=function(t){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=Nde(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new pt;u.add(c),c.add(i.outOfRange=pQ()),c.add(i.inRange=pQ(null,o?gQ(this._orient):null,Xe(this._dragHandle,this,"all",!1),Xe(this._dragHandle,this,"all",!0))),c.setClipPath(new Xt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect("国"),h=eO(f.width,f.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,h,s),this._createHandle(n,u,1,a,h,s)),this._createIndicator(n,u,a,h,s),t.add(u)},e.prototype._createHandle=function(t,n,i,a,s,o){var l=Xe(this._dragHandle,this,i,!1),u=Xe(this._dragHandle,this,i,!0),c=Yl(t.get("handleSize"),a[0]),f=Bn(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=gQ(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){vf(x.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),nv(f,!0),n.add(f);var p=this.visualMapModel.textStyleModel,v=new Yt({cursor:h,draggable:!0,drift:l,onmousemove:function(x){vf(x.event)},ondragend:u,style:Ur(p,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var m=[c,0],y=this._shapes;y.handleThumbs[i]=f,y.handleLabelPoints[i]=m,y.handleLabels[i]=v},e.prototype._createIndicator=function(t,n,i,a,s){var o=Yl(t.get("indicatorSize"),i[0]),l=Bn(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Ni){var c=l.style;l.useStyle(De({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,h=new Yt({silent:!0,invisible:!0,style:Ur(f,{x:0,y:0,text:""})});this.group.add(h);var p=[(s==="horizontal"?a/2:zut)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():vQ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[Au(n[0],i,a,!0),Au(n[1],i,a,!0)]},e.prototype._updateInterval=function(t,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];gg(n,a,s,t,0);var o=i.getExtent();this._dataInterval=[Au(a[0],s,o,!0),Au(a[1],s,o,!0)]},e.prototype._updateView=function(t){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new Ey(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,n){var i=100,a=[],s=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=t[0]+s*o;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),a},e.prototype._createBarPoints=function(t,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-n[1],t[1]]]},e.prototype._createBarGroup=function(t){var n=this._orient,i=this.visualMapModel.get("inverse");return new pt(n==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);But([0,1],function(f){var h=s[f];h.setStyle("fill",n.handlesColor[f]),h.y=t[f];var p=Au(t[f],[0,l[1]],u,!0),v=this.getControllerVisual(p,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var m=Ul(i.handleLabelPoints[f],jh(h,this.group));if(this._orient==="horizontal"){var y=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;m[1]+=y}o[f].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},p=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),m=Au(t,o,u,!0),y=l[0]-v/2,x={x:f.x,y:f.y};f.y=m,f.x=y;var w=Ul(c.indicatorLabelPoint,jh(f,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var T=this._applyTransform("left",c.mainGroup),C=this._orient,D=C==="horizontal";b.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:D?T:"middle",align:D?"center":T});var E={x:y,y:m,style:{fill:p}},R={style:{x:w[0],y:w[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var M={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(E,M),b.animateTo(R,M)}else f.attr(E),b.attr(R);this._firstShowIndicator=!1;var k=this._shapes.handleLabels;if(k)for(var L=0;L<k.length;L++)this.api.enterBlur(k[L])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=dQ(eO(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();t=dQ(eO(s[0],t),s[1]);var l=Hut(i,o,s),u=[t-l,t+l],c=Au(t,s,o,!0),f=[Au(u[0],s,o,!0),Au(u[1],s,o,!0)];u[0]<s[0]&&(f[0]=-1/0),u[1]>s[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var h=this._hoverLinkDataIndices,p=[];(n||vQ(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var v=kje(h,p);this._dispatchHighDown("downplay",IA(v[0],i)),this._dispatchHighDown("highlight",IA(v[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(av(t.target,function(l){var u=gt(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",IA(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,n,i,a){var s=jh(n,a?null:this.group);return ke(t)?Ul(t,s,i):ZD(t,s,i)},e.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Ode);function pQ(r,e,t,n){return new Wa({shape:{points:r},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){vf(i.event)},ondragend:n})}function Hut(r,e,t){var n=Vut/2,i=r.get("hoverLinkDataSize");return i&&(n=Au(i,e,t,!0)/2),n}function vQ(r){var e=r.get("hoverLinkOnHandle");return!!(e??r.get("realtime"))}function gQ(r){return r==="vertical"?"ns-resize":"ew-resize"}var Gut={type:"selectDataRange",event:"dataRangeSelected",update:"update"},jut=function(r,e){e.eachComponent({mainType:"visualMap",query:r},function(t){t.setSelected(r.selected)})},Wut=[{createOnAllSeries:!0,reset:function(r,e){var t=[];return e.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||t.push(dlt(n.stateList,n.targetVisuals,Xe(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),t}},{createOnAllSeries:!0,reset:function(r,e){var t=r.getData(),n=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(Xe($ut,null,r,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(t);s>=0&&(a.dimension=s,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function $ut(r,e,t,n){for(var i=e.targetVisuals[n],a=Pi.prepareVisualTypes(i),s={color:Nb(r.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,h)}return s.color;function f(p){return s[p]}function h(p,v){s[p]=v}}var mQ=B;function qut(r){var e=r&&r.visualMap;ke(e)||(e=e?[e]:[]),mQ(e,function(t){if(t){E0(t,"splitList")&&!E0(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&ke(n)&&mQ(n,function(i){ct(i)&&(E0(i,"start")&&!E0(i,"min")&&(i.min=i.start),E0(i,"end")&&!E0(i,"max")&&(i.max=i.end))})}})}function E0(r,e){return r&&r.hasOwnProperty&&r.hasOwnProperty(e)}var yQ=!1;function Fde(r){yQ||(yQ=!0,r.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),r.registerAction(Gut,jut),B(Wut,function(e){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,e)}),r.registerPreprocessor(qut))}function Bde(r){r.registerComponentModel(Fut),r.registerComponentView(Uut),Fde(r)}var Yut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Xut[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=ht(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Pe(this._pieceList,function(l){return l=ht(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,n={},i=Pi.listVisualTypes(),a=this.isCategory();B(t.pieces,function(o){B(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),B(n,function(o,l){var u=!1;B(this.stateList,function(c){u=u||s(t,c,l)||s(t.target,c,l)},this),!u&&B(this.stateList,function(c){(t[c]||(t[c]={}))[l]=Lde.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}r.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,n){var i=this.option,a=this._pieceList,s=(n?i:t).selected||{};if(i.selected=s,B(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),i.selectedMode==="single"){var o=!1;B(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=ht(t)},e.prototype.getValueState=function(t){var n=Pi.findPieceIndex(t,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=Pi.findPieceIndex(l,i);c===t&&s.push(u)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},e.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var i=t.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var p=t(h,f);c[0]===-1/0?i[0]=p:c[1]===1/0?i[1]=p:n.push({value:c[0],color:p},{value:c[1],color:p})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return B(o,function(c){var f=c.interval;f&&(f[0]>u&&s([u,f[0]],"outOfRange"),s(f.slice()),u=f[1])},this),{stops:n,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Td(LC.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(LC),Xut={splitNumber:function(r){var e=this.option,t=Math.min(e.precision,20),n=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;r.push({interval:[o,l],close:[1,1]})}e.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),a4(r),B(r,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(r){var e=this.option;B(e.categories,function(t){r.push({text:this.formatValueText(t,!0),value:t})},this),_Q(e,r)},pieces:function(r){var e=this.option;B(e.pieces,function(t,n){ct(t)||(t={value:t});var i={text:"",index:n};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],p=0;p<3&&s[f]==null;p++)s[f]=t[h[p]],o[f]=l[p],c[f]=p===2;s[f]==null&&(s[f]=u[f])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=Pi.retrieveVisuals(t),r.push(i)},this),_Q(e,r),a4(r),B(r,function(t){var n=t.close,i=[["<","≤"][n[1]],[">","≥"][n[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function _Q(r,e){var t=r.inverse;(r.orient==="vertical"?!t:t)&&e.reverse()}var Kut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=a.getFont(),o=a.getTextColor(),l=this._getItemAlign(),u=n.itemSize,c=this._getViewData(),f=c.endsText,h=Ii(n.get("showLabel",!0),!f),p=!n.get("selectedMode");f&&this._renderEndsText(t,f[0],u,h,l),B(c.viewPieceList,function(v){var m=v.piece,y=new pt;y.onclick=Xe(this._onItemClick,this,m),this._enableHoverLink(y,v.indexInModelPieceList);var x=n.getRepresentValue(m);if(this._createItemSymbol(y,x,[0,0,u[0],u[1]],p),h){var w=this.visualMapModel.getValueState(x);y.add(new Yt({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:m.text,verticalAlign:"middle",align:l,font:s,fill:o,opacity:w==="outOfRange"?.5:1},silent:p}))}t.add(y)},this),f&&this._renderEndsText(t,f[1],u,h,l),xv(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,n){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:IA(o.findTargetDataIndices(n),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient==="vertical")return Nde(t,this.api,t.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,n,i,a,s){if(n){var o=new pt,l=this.visualMapModel.textStyleModel;o.add(new Yt({style:Ur(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,n=Pe(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),s=t.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},e.prototype._createItemSymbol=function(t,n,i,a){var s=Bn(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,t.add(s)},e.prototype._onItemClick=function(t){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=ht(i.selected),o=n.getSelectedMapKey(t);a==="single"||a===!0?(s[o]=!0,B(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e}(Ode);function Vde(r){r.registerComponentModel(Yut),r.registerComponentView(Kut),Fde(r)}function Zut(r){Pt(Bde),Pt(Vde)}var Qut={label:{enabled:!0},decal:{show:!1}},xQ=Qt(),Jut={};function ect(r,e){var t=r.getModel("aria");if(!t.get("enabled"))return;var n=ht(Qut);bt(n.label,r.getLocaleModel().get("aria"),!1),bt(t.option,n,!1),i(),a();function i(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=tt();r.eachSeries(function(h){if(!h.isColorBySeries()){var p=f.get(h.type);p||(p={},f.set(h.type,p)),xQ(h).scope=p}}),r.eachRawSeries(function(h){if(r.isSeriesFiltered(h))return;if(it(h.enableAriaDecal)){h.enableAriaDecal();return}var p=h.getData();if(h.isColorBySeries()){var w=w4(h.ecModel,h.name,Jut,r.getSeriesCount()),b=p.getVisual("decal");p.setVisual("decal",T(b,w))}else{var v=h.getRawData(),m={},y=xQ(h).scope;p.each(function(C){var D=p.getRawIndex(C);m[D]=C});var x=v.count();v.each(function(C){var D=m[C],E=v.getName(C)||C+"",R=w4(h.ecModel,E,y,x),M=p.getItemVisual(D,"decal");p.setItemVisual(D,"decal",T(M,R))})}function T(C,D){var E=C?De(De({},D),C):D;return E.dirty=!0,E}})}}function a(){var u=e.getZr().dom;if(u){var c=r.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=ut(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=r.getSeriesCount(),p=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,m=Math.min(h,v),y;if(!(h<1)){var x=o();if(x){var w=f.get(["general","withTitle"]);y=s(w,{title:x})}else y=f.get(["general","withoutTitle"]);var b=[],T=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);y+=s(T,{seriesCount:h}),r.eachSeries(function(R,M){if(M<m){var k=void 0,L=R.get("name"),O=L?"withName":"withoutName";k=h>1?f.get(["series","multiple",O]):f.get(["series","single",O]),k=s(k,{seriesId:R.seriesIndex,seriesName:R.get("name"),seriesType:l(R.subType)});var N=R.getData();if(N.count()>p){var W=f.get(["data","partialData"]);k+=s(W,{displayCnt:p})}else k+=f.get(["data","allData"]);for(var U=f.get(["data","separator","middle"]),z=f.get(["data","separator","end"]),Y=f.get(["data","excludeDimensionId"]),re=[],K=0;K<N.count();K++)if(K<p){var q=N.getName(K),Q=Y?ar(N.getValues(K),function(J,te){return Dt(Y,te)===-1}):N.getValues(K),j=f.get(["data",q?"withName":"withoutName"]);re.push(s(j,{name:q,value:Q.join(U)}))}k+=re.join(U)+z,b.push(k)}});var C=f.getModel(["series","multiple","separator"]),D=C.get("middle"),E=C.get("end");y+=b.join(D)+E,u.setAttribute("aria-label",y)}}}}function s(u,c){if(!$e(u))return u;var f=u;return B(c,function(h,p){f=f.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),h)}),f}function o(){var u=r.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=r.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function tct(r){if(!(!r||!r.aria)){var e=r.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},B(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function rct(r){r.registerPreprocessor(tct),r.registerVisual(r.PRIORITY.VISUAL.ARIA,ect)}var wQ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},nct=function(){function r(e){var t=this._condVal=$e(e)?new RegExp(e):coe(e)?e:null;if(t==null){var n="";dr(n)}}return r.prototype.evaluate=function(e){var t=typeof e;return $e(t)?this._condVal.test(e):tr(t)?this._condVal.test(e+""):!1},r}(),ict=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),act=function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},r}(),sct=function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},r}(),oct=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),lct=function(){function r(){}return r.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},r}();function A6(r,e){if(r===!0||r===!1){var t=new ict;return t.value=r,t}var n="";return zde(r)||dr(n),r.and?bQ("and",r,e):r.or?bQ("or",r,e):r.not?uct(r,e):cct(r,e)}function bQ(r,e,t){var n=e[r],i="";ke(n)||dr(i),n.length||dr(i);var a=r==="and"?new act:new sct;return a.children=Pe(n,function(s){return A6(s,t)}),a.children.length||dr(i),a}function uct(r,e){var t=r.not,n="";zde(t)||dr(n);var i=new oct;return i.child=A6(t,e),i.child||dr(n),i}function cct(r,e){for(var t="",n=e.prepareGetValue(r),i=[],a=Gt(r),s=r.parser,o=s?yue(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=Qe(wQ,u)?wQ[u]:u,f=r[u],h=o?o(f):f,p=Pqe(c,h)||c==="reg"&&new nct(h);p||dr(t),i.push(p)}}i.length||dr(t);var v=new lct;return v.valueGetterParam=n,v.valueParser=o,v.getValue=e.getValue,v.subCondList=i,v}function zde(r){return ct(r)&&!va(r)}var fct=function(){function r(e,t){this._cond=A6(e,t)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function hct(r,e){return new fct(r,e)}var dct={type:"echarts:filter",transform:function(r){for(var e=r.upstream,t,n=hct(r.config,{valueGetterAttrMap:tt({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;Qe(o,"dimension")||dr(l);var c=e.getDimensionInfo(u);return c||dr(l),{dimIdx:c.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),i=[],a=0,s=e.count();a<s;a++)t=e.getRawDataItem(a),n.evaluate()&&i.push(t);return{data:i}}},pct={type:"echarts:sort",transform:function(r){var e=r.upstream,t=r.config,n="",i=Pr(t);i.length||dr(n);var a=[];B(i,function(c){var f=c.dimension,h=c.order,p=c.parser,v=c.incomparable;if(f==null&&dr(n),h!=="asc"&&h!=="desc"&&dr(n),v&&v!=="min"&&v!=="max"){var m="";dr(m)}if(h!=="asc"&&h!=="desc"){var y="";dr(y)}var x=e.getDimensionInfo(f);x||dr(n);var w=p?yue(p):null;p&&!w&&dr(n),a.push({dimIdx:x.index,parser:w,comparator:new xue(h,v)})});var s=e.sourceFormat;s!==$a&&s!==dl&&dr(n);for(var o=[],l=0,u=e.count();l<u;l++)o.push(e.getRawDataItem(l));return o.sort(function(c,f){for(var h=0;h<a.length;h++){var p=a[h],v=e.retrieveValueFromItem(c,p.dimIdx),m=e.retrieveValueFromItem(f,p.dimIdx);p.parser&&(v=p.parser(v),m=p.parser(m));var y=p.comparator.evaluate(v,m);if(y!==0)return y}return 0}),{data:o}}};function vct(r){r.registerTransform(dct),r.registerTransform(pct)}var gct=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,n,i){r.prototype.init.call(this,t,n,i),this._sourceManager=new Tue(this),Aq(this)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),Aq(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Zu},e}(zt),mct=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(qr);function yct(r){r.registerComponentModel(gct),r.registerComponentView(mct)}var wu=ic.CMD;function tm(r,e){return Math.abs(r-e)<1e-5}function S3(r){var e=r.data,t=r.len(),n=[],i,a=0,s=0,o=0,l=0;function u(N,W){i&&i.length>2&&n.push(i),i=[N,W]}function c(N,W,U,z){tm(N,U)&&tm(W,z)||i.push(N,W,U,z,U,z)}function f(N,W,U,z,Y,re){var K=Math.abs(W-N),q=Math.tan(K/4)*4/3,Q=W<N?-1:1,j=Math.cos(N),J=Math.sin(N),te=Math.cos(W),se=Math.sin(W),de=j*Y+U,Oe=J*re+z,Ae=te*Y+U,ye=se*re+z,Se=Y*q*Q,me=re*q*Q;i.push(de-Se*J,Oe+me*j,Ae+Se*se,ye-me*te,Ae,ye)}for(var h,p,v,m,y=0;y<t;){var x=e[y++],w=y===1;switch(w&&(a=e[y],s=e[y+1],o=a,l=s,(x===wu.L||x===wu.C||x===wu.Q)&&(i=[o,l])),x){case wu.M:a=o=e[y++],s=l=e[y++],u(o,l);break;case wu.L:h=e[y++],p=e[y++],c(a,s,h,p),a=h,s=p;break;case wu.C:i.push(e[y++],e[y++],e[y++],e[y++],a=e[y++],s=e[y++]);break;case wu.Q:h=e[y++],p=e[y++],v=e[y++],m=e[y++],i.push(a+2/3*(h-a),s+2/3*(p-s),v+2/3*(h-v),m+2/3*(p-m),v,m),a=v,s=m;break;case wu.A:var b=e[y++],T=e[y++],C=e[y++],D=e[y++],E=e[y++],R=e[y++]+E;y+=1;var M=!e[y++];h=Math.cos(E)*C+b,p=Math.sin(E)*D+T,w?(o=h,l=p,u(o,l)):c(a,s,h,p),a=Math.cos(R)*C+b,s=Math.sin(R)*D+T;for(var k=(M?-1:1)*Math.PI/2,L=E;M?L>R:L<R;L+=k){var O=M?Math.max(L+k,R):Math.min(L+k,R);f(L,O,b,T,C,D)}break;case wu.R:o=a=e[y++],l=s=e[y++],h=o+e[y++],p=l+e[y++],u(h,l),c(h,l,h,p),c(h,p,o,p),c(o,p,o,l),c(o,l,h,l);break;case wu.Z:i&&c(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function T3(r,e,t,n,i,a,s,o,l,u){if(tm(r,t)&&tm(e,n)&&tm(i,s)&&tm(a,o)){l.push(s,o);return}var c=2/u,f=c*c,h=s-r,p=o-e,v=Math.sqrt(h*h+p*p);h/=v,p/=v;var m=t-r,y=n-e,x=i-s,w=a-o,b=m*m+y*y,T=x*x+w*w;if(b<f&&T<f){l.push(s,o);return}var C=h*m+p*y,D=-h*x-p*w,E=b-C*C,R=T-D*D;if(E<f&&C>=0&&R<f&&D>=0){l.push(s,o);return}var M=[],k=[];ud(r,t,i,s,.5,M),ud(e,n,a,o,.5,k),T3(M[0],k[0],M[1],k[1],M[2],k[2],M[3],k[3],l,u),T3(M[4],k[4],M[5],k[5],M[6],k[6],M[7],k[7],l,u)}function _ct(r,e){var t=S3(r),n=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],p=a[u++],v=a[u++],m=a[u++];T3(o,l,c,f,h,p,v,m,s,e),o=v,l=m}n.push(s)}return n}function Ude(r,e,t){var n=r[e],i=r[1-e],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%s]+=1;return l}function SQ(r,e,t){for(var n=r.r0,i=r.r,a=r.startAngle,s=r.endAngle,o=Math.abs(s-a),l=o*i,u=i-n,c=l>Math.abs(u),f=Ude([l,u],c?0:1,e),h=(c?o:u)/f.length,p=0;p<f.length;p++)for(var v=(c?u:o)/f[p],m=0;m<f[p];m++){var y={};c?(y.startAngle=a+h*p,y.endAngle=a+h*(p+1),y.r0=n+v*m,y.r=n+v*(m+1)):(y.startAngle=a+v*m,y.endAngle=a+v*(m+1),y.r0=n+h*p,y.r=n+h*(p+1)),y.clockwise=r.clockwise,y.cx=r.cx,y.cy=r.cy,t.push(y)}}function xct(r,e,t){for(var n=r.width,i=r.height,a=n>i,s=Ude([n,i],a?0:1,e),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=r[o]/s.length,h=0;h<s.length;h++)for(var p=r[l]/s[h],v=0;v<s[h];v++){var m={};m[u]=h*f,m[c]=v*p,m[o]=f,m[l]=p,m.x+=r.x,m.y+=r.y,t.push(m)}}function TQ(r,e,t,n){return r*n-t*e}function wct(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,f=o-a,h=TQ(c,f,l,u);if(Math.abs(h)<1e-6)return null;var p=r-i,v=e-a,m=TQ(p,v,c,f)/h;return m<0||m>1?null:new At(m*l+r,m*u+e)}function bct(r,e,t){var n=new At;At.sub(n,t,e),n.normalize();var i=new At;At.sub(i,r,e);var a=i.dot(n);return a}function C0(r,e){var t=r[r.length-1];t&&t[0]===e[0]&&t[1]===e[1]||r.push(e)}function Sct(r,e,t){for(var n=r.length,i=[],a=0;a<n;a++){var s=r[a],o=r[(a+1)%n],l=wct(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:bct(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(y,x){return y.projPt-x.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],v=[h],m=[p],a=u.idx+1;a<=c.idx;a++)C0(v,r[a].slice());C0(v,p),C0(v,h);for(var a=c.idx+1;a<=u.idx+n;a++)C0(m,r[a%n].slice());return C0(m,h),C0(m,p),[{points:v},{points:m}]}function AQ(r){var e=r.points,t=[],n=[];$D(e,t,n);var i=new Ct(t[0],t[1],n[0]-t[0],n[1]-t[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new At,c=new At;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),Sct(e,u,c)}function OC(r,e,t,n){if(t===1)n.push(e);else{var i=Math.floor(t/2),a=r(e);OC(r,a[0],i,n),OC(r,a[1],t-i,n)}return n}function Tct(r,e){for(var t=[],n=0;n<e;n++)t.push(kB(r));return t}function Act(r,e){e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel}function Ect(r){for(var e=[],t=0;t<r.length;)e.push([r[t++],r[t++]]);return e}function Cct(r,e){var t=[],n=r.shape,i;switch(r.type){case"rect":xct(n,e,t),i=Xt;break;case"sector":SQ(n,e,t),i=ja;break;case"circle":SQ({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,t),i=ja;break;default:var a=r.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=Pe(_ct(r.getUpdatedPathProxy(),s),function(x){return Ect(x)}),l=o.length;if(l===0)OC(AQ,{points:o[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:o[u]});else{var c=0,f=Pe(o,function(x){var w=[],b=[];$D(x,w,b);var T=(b[1]-w[1])*(b[0]-w[0]);return c+=T,{poly:x,area:T}});f.sort(function(x,w){return w.area-x.area});for(var h=e,u=0;u<l;u++){var p=f[u];if(h<=0)break;var v=u===l-1?h:Math.ceil(p.area/c*e);v<0||(OC(AQ,{points:p.poly},v,t),h-=v)}}i=Wa;break}if(!i)return Tct(r,e);for(var m=[],u=0;u<t.length;u++){var y=new i;y.setShape(t[u]),Act(r,y),m.push(y)}return m}function Dct(r,e){var t=r.length,n=e.length;if(t===n)return[r,e];for(var i=[],a=[],s=t<n?r:e,o=Math.min(t,n),l=Math.abs(n-t)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,f=[s[0],s[1]],h=l,p=2;p<o;){var v=s[p-2],m=s[p-1],y=s[p++],x=s[p++],w=s[p++],b=s[p++],T=s[p++],C=s[p++];if(h<=0){f.push(y,x,w,b,T,C);continue}for(var D=Math.min(h,c-1)+1,E=1;E<=D;E++){var R=E/D;ud(v,y,w,T,R,i),ud(m,x,b,C,R,a),v=i[3],m=a[3],f.push(i[1],a[1],i[2],a[2],v,m),y=i[5],x=a[5],w=i[6],b=a[6]}h-=D-1}return s===r?[f,e]:[r,f]}function EQ(r,e){for(var t=r.length,n=r[t-2],i=r[t-1],a=[],s=0;s<e.length;)a[s++]=n,a[s++]=i;return a}function Ict(r,e){for(var t,n,i,a=[],s=[],o=0;o<Math.max(r.length,e.length);o++){var l=r[o],u=e[o],c=void 0,f=void 0;l?u?(t=Dct(l,u),c=t[0],f=t[1],n=c,i=f):(f=EQ(i||l,l),c=l):(c=EQ(n||u,u),f=u),a.push(c),s.push(f)}return[a,s]}function CQ(r){for(var e=0,t=0,n=0,i=r.length,a=0,s=i-2;a<i;s=a,a+=2){var o=r[s],l=r[s+1],u=r[a],c=r[a+1],f=o*c-u*l;e+=f,t+=(o+u)*f,n+=(l+c)*f}return e===0?[r[0]||0,r[1]||0]:[t/e/3,n/e/3,e]}function Rct(r,e,t,n){for(var i=(r.length-2)/6,a=1/0,s=0,o=r.length,l=o-2,u=0;u<i;u++){for(var c=u*6,f=0,h=0;h<o;h+=2){var p=h===0?c:(c+h-2)%l+2,v=r[p]-t[0],m=r[p+1]-t[1],y=e[h]-n[0],x=e[h+1]-n[1],w=y-v,b=x-m;f+=w*w+b*b}f<a&&(a=f,s=u)}return s}function Mct(r){for(var e=[],t=r.length,n=0;n<t;n+=2)e[n]=r[t-n-2],e[n+1]=r[t-n-1];return e}function kct(r,e,t,n){for(var i=[],a,s=0;s<r.length;s++){var o=r[s],l=e[s],u=CQ(o),c=CQ(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],p=0,v=1/0,m=[],y=o.length;a&&(o=Mct(o));for(var x=Rct(o,l,u,c)*6,w=y-2,b=0;b<w;b+=2){var T=(x+b)%w+2;f[b+2]=o[T]-u[0],f[b+3]=o[T+1]-u[1]}f[0]=o[x]-u[0],f[1]=o[x+1]-u[1];for(var C=n/t,D=-n/2;D<=n/2;D+=C){for(var E=Math.sin(D),R=Math.cos(D),M=0,b=0;b<o.length;b+=2){var k=f[b],L=f[b+1],O=l[b]-c[0],N=l[b+1]-c[1],W=O*R-N*E,U=O*E+N*R;m[b]=W,m[b+1]=U;var z=W-k,Y=U-L;M+=z*z+Y*Y}if(M<v){v=M,p=D;for(var re=0;re<m.length;re++)h[re]=m[re]}}i.push({from:f,to:h,fromCp:u,toCp:c,rotation:-p})}return i}function NC(r){return r.__isCombineMorphing}var Hde="__mOriginal_";function FC(r,e,t){var n=Hde+e,i=r[n]||r[e];r[n]||(r[n]=r[e]);var a=t.replace,s=t.after,o=t.before;r[e]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function Vx(r,e){var t=Hde+e;r[t]&&(r[e]=r[t],r[t]=null)}function DQ(r,e){for(var t=0;t<r.length;t++)for(var n=r[t],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=e[0]*a+e[2]*s+e[4],n[i++]=e[1]*a+e[3]*s+e[5]}}function Gde(r,e){var t=r.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=Ict(S3(t),S3(n)),a=i[0],s=i[1],o=r.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}o&&DQ(a,o),l&&DQ(s,l),FC(e,"updateTransform",{replace:u}),e.transform=null;var c=kct(a,s,10,Math.PI),f=[];FC(e,"buildPath",{replace:function(h){for(var p=e.__morphT,v=1-p,m=[],y=0;y<c.length;y++){var x=c[y],w=x.from,b=x.to,T=x.rotation*p,C=x.fromCp,D=x.toCp,E=Math.sin(T),R=Math.cos(T);Ax(m,C,D,p);for(var M=0;M<w.length;M+=2){var k=w[M],L=w[M+1],O=b[M],N=b[M+1],W=k*v+O*p,U=L*v+N*p;f[M]=W*R-U*E+m[0],f[M+1]=W*E+U*R+m[1]}var z=f[0],Y=f[1];h.moveTo(z,Y);for(var M=2;M<w.length;){var O=f[M++],N=f[M++],re=f[M++],K=f[M++],q=f[M++],Q=f[M++];z===O&&Y===N&&re===q&&K===Q?h.lineTo(q,Q):h.bezierCurveTo(O,N,re,K,q,Q),z=q,Y=Q}}}})}function E6(r,e,t){if(!r||!e)return e;var n=t.done,i=t.during;Gde(r,e),e.__morphT=0;function a(){Vx(e,"buildPath"),Vx(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},ut({during:function(s){e.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},t)),e}function Pct(r,e,t,n,i,a){var s=16;r=i===t?0:Math.round(32767*(r-t)/(i-t)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,f=0;(r&u)>0&&(c=1),(e&u)>0&&(f=1),o+=u*u*(3*c^f),f===0&&(c===1&&(r=u-1-r,e=u-1-e),l=r,r=e,e=l)}return o}function BC(r){var e=1/0,t=1/0,n=-1/0,i=-1/0,a=Pe(r,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),n=Math.max(c,n),i=Math.max(f,i),[c,f]}),s=Pe(a,function(o,l){return{cp:o,z:Pct(o[0],o[1],e,t,n,i),path:r[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function jde(r){return Cct(r.path,r.count)}function A3(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Lct(r,e,t){var n=[];function i(C){for(var D=0;D<C.length;D++){var E=C[D];NC(E)?i(E.childrenRef()):E instanceof Ht&&n.push(E)}}i(r);var a=n.length;if(!a)return A3();var s=t.dividePath||jde,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),A3();n=BC(n),o=BC(o);for(var l=t.done,u=t.during,c=t.individualDelay,f=new Kc,h=0;h<a;h++){var p=n[h],v=o[h];v.parent=e,v.copyTransform(f),c||Gde(p,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function m(C){for(var D=0;D<o.length;D++)o[D].addSelfToZr(C)}FC(e,"addSelfToZr",{after:function(C){m(C)}}),FC(e,"removeSelfFromZr",{after:function(C){for(var D=0;D<o.length;D++)o[D].removeSelfFromZr(C)}});function y(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Vx(e,"addSelfToZr"),Vx(e,"removeSelfFromZr")}var x=o.length;if(c)for(var w=x,b=function(){w--,w===0&&(y(),l&&l())},h=0;h<x;h++){var T=c?ut({delay:(t.delay||0)+c(h,x,n[h],o[h]),done:b},t):t;E6(n[h],o[h],T)}else e.__morphT=0,e.animateTo({__morphT:1},ut({during:function(C){for(var D=0;D<x;D++){var E=o[D];E.__morphT=e.__morphT,E.dirtyShape()}u&&u(C)},done:function(){y();for(var C=0;C<r.length;C++)Vx(r[C],"updateTransform");l&&l()}},t));return e.__zr&&m(e.__zr),{fromIndividuals:n,toIndividuals:o,count:x}}function Oct(r,e,t){var n=e.length,i=[],a=t.dividePath||jde;function s(p){for(var v=0;v<p.length;v++){var m=p[v];NC(m)?s(m.childrenRef()):m instanceof Ht&&i.push(m)}}if(NC(r)){s(r.childrenRef());var o=i.length;if(o<n)for(var l=0,u=o;u<n;u++)i.push(kB(i[l++%o]));i.length=n}else{i=a({path:r,count:n});for(var c=r.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),A3()}i=BC(i),e=BC(e);for(var f=t.individualDelay,u=0;u<n;u++){var h=f?ut({delay:(t.delay||0)+f(u,n,i[u],e[u])},t):t;E6(i[u],e[u],h)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function IQ(r){return ke(r[0])}function RQ(r,e){for(var t=[],n=r.length,i=0;i<n;i++)t.push({one:r[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,s=void 0;for(s=0;s<a;s++)t[s%n].many.push(e[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!t[i].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var a=l.length,u=Math.ceil(a/2);t[i].many=l.slice(u,a),t[o].many=l.slice(0,u),o++}return t}var Nct={clone:function(r){for(var e=[],t=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=kB(r.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function tO(r,e,t,n,i,a){if(!r.length||!e.length)return;var s=Cy("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;IQ(r)&&(u=r,c=e),IQ(e)&&(u=e,c=r);function f(x,w,b,T,C){var D=x.many,E=x.one;if(D.length===1&&!C){var R=w?D[0]:E,M=w?E:D[0];if(NC(R))f({many:[R],one:M},!0,b,T,!0);else{var k=o?ut({delay:o(b,T)},l):l;E6(R,M,k),a(R,M,R,M,k)}}else for(var L=ut({dividePath:Nct[t],individualDelay:o&&function(Y,re,K,q){return o(Y+b,T)}},l),O=w?Lct(D,E,L):Oct(E,D,L),N=O.fromIndividuals,W=O.toIndividuals,U=N.length,z=0;z<U;z++){var k=o?ut({delay:o(z,U)},l):l;a(N[z],W[z],w?D[z]:x.one,w?x.one:D[z],k)}}for(var h=u?u===r:r.length>e.length,p=u?RQ(c,u):RQ(h?e:r,[h?r:e]),v=0,m=0;m<p.length;m++)v+=p[m].many.length;for(var y=0,m=0;m<p.length;m++)f(p[m],h,y,v),y+=p[m].many.length}function Vp(r){if(!r)return[];if(ke(r)){for(var e=[],t=0;t<r.length;t++)e.push(Vp(r[t]));return e}var n=[];return r.traverse(function(i){i instanceof Ht&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var Wde=1e4,Fct=0,MQ=1,kQ=2,Bct=Qt();function Vct(r,e){for(var t=r.dimensions,n=0;n<t.length;n++){var i=r.getDimensionInfo(t[n]);if(i&&i.otherDims[e]===0)return t[n]}}function zct(r,e,t){var n=r.getDimensionInfo(t),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,e);return i&&i.categories[a]||a+""}}function PQ(r,e,t,n){var i=n?"itemChildGroupId":"itemGroupId",a=Vct(r,i);if(a){var s=zct(r,e,a);return s}var o=r.getRawDataItem(e),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return t||r.getId(e)}function LQ(r){var e=[];return B(r,function(t){var n=t.data,i=t.dataGroupId;if(!(n.count()>Wde))for(var a=n.getIndices(),s=0;s<a.length;s++)e.push({data:n,groupId:PQ(n,s,i,!1),childGroupId:PQ(n,s,i,!0),divide:t.divide,dataIndex:s})}),e}function rO(r,e,t){r.traverse(function(n){n instanceof Ht&&Qr(n,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function nO(r){if(r.parent){var e=r.getComputedTransform();r.setLocalTransform(e),r.parent.remove(r)}}function D0(r){r.stopAnimation(),r.isGroup&&r.traverse(function(e){e.stopAnimation()})}function Uct(r,e,t){var n=Cy("update",t,e);n&&r.traverse(function(i){if(i instanceof ll){var a=m$e(i);a&&i.animateFrom({style:a},n)}})}function Hct(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++){var i=r[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function $de(r,e,t){var n=LQ(r),i=LQ(e);function a(b,T,C,D,E){(C||b)&&T.animateFrom({style:C&&C!==b?De(De({},C.style),b.style):b.style},E)}var s=!1,o=Fct,l=tt(),u=tt();n.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){o=MQ;break}var h=i[c].childGroupId;if(h&&l.get(h)){o=kQ;break}}function p(b,T){return function(C){var D=C.data,E=C.dataIndex;return T?D.getId(E):b?o===MQ?C.childGroupId:C.groupId:o===kQ?C.childGroupId:C.groupId}}var v=Hct(n,i),m={};if(!v)for(var c=0;c<i.length;c++){var y=i[c],x=y.data.getItemGraphicEl(y.dataIndex);x&&(m[x.id]=!0)}function w(b,T){var C=n[T],D=i[b],E=D.data.hostModel,R=C.data.getItemGraphicEl(C.dataIndex),M=D.data.getItemGraphicEl(D.dataIndex);if(R===M){M&&Uct(M,D.dataIndex,E);return}R&&m[R.id]||M&&(D0(M),R?(D0(R),nO(R),s=!0,tO(Vp(R),Vp(M),D.divide,E,b,a)):rO(M,E,b))}new yf(n,i,p(!0,v),p(!1,v),null,"multiple").update(w).updateManyToOne(function(b,T){var C=i[b],D=C.data,E=D.hostModel,R=D.getItemGraphicEl(C.dataIndex),M=ar(Pe(T,function(k){return n[k].data.getItemGraphicEl(n[k].dataIndex)}),function(k){return k&&k!==R&&!m[k.id]});R&&(D0(R),M.length?(B(M,function(k){D0(k),nO(k)}),s=!0,tO(Vp(M),Vp(R),C.divide,E,b,a)):rO(R,E,C.dataIndex))}).updateOneToMany(function(b,T){var C=n[T],D=C.data.getItemGraphicEl(C.dataIndex);if(!(D&&m[D.id])){var E=ar(Pe(b,function(M){return i[M].data.getItemGraphicEl(i[M].dataIndex)}),function(M){return M&&M!==D}),R=i[b[0]].data.hostModel;E.length&&(B(E,function(M){return D0(M)}),D?(D0(D),nO(D),s=!0,tO(Vp(D),Vp(E),C.divide,R,b[0],a)):B(E,function(M){return rO(M,R,b[0])}))}}).updateManyToMany(function(b,T){new yf(T,b,function(C){return n[C].data.getId(n[C].dataIndex)},function(C){return i[C].data.getId(i[C].dataIndex)}).update(function(C,D){w(b[C],T[D])}).execute()}).execute(),s&&B(e,function(b){var T=b.data,C=T.hostModel,D=C&&t.getViewOfSeriesModel(C),E=Cy("update",C,0);D&&C.isAnimationEnabled()&&E&&E.duration>0&&D.group.traverse(function(R){R instanceof Ht&&!R.animators.length&&R.animateFrom({style:{opacity:0}},E)})})}function OQ(r){var e=r.getModel("universalTransition").get("seriesKey");return e||r.id}function NQ(r){return ke(r)?r.sort().join(","):r}function ch(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function Gct(r,e){var t=tt(),n=tt(),i=tt();return B(r.oldSeries,function(a,s){var o=r.oldDataGroupIds[s],l=r.oldData[s],u=OQ(a),c=NQ(u);n.set(c,{dataGroupId:o,data:l}),ke(u)&&B(u,function(f){i.set(f,{key:c,dataGroupId:o,data:l})})}),B(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=OQ(a),u=NQ(l),c=n.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:ch(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:ch(o),data:o}]});else if(ke(l)){var f=[];B(l,function(v){var m=n.get(v);m.data&&f.push({dataGroupId:m.dataGroupId,divide:ch(m.data),data:m.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:ch(o)}]})}else{var h=i.get(l);if(h){var p=t.get(h.key);p||(p={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:ch(h.data)}],newSeries:[]},t.set(h.key,p)),p.newSeries.push({dataGroupId:s,data:o,divide:ch(o)})}}}}),t}function FQ(r,e){for(var t=0;t<r.length;t++){var n=e.seriesIndex!=null&&e.seriesIndex===r[t].seriesIndex||e.seriesId!=null&&e.seriesId===r[t].id;if(n)return t}}function jct(r,e,t,n){var i=[],a=[];B(Pr(r.from),function(s){var o=FQ(e.oldSeries,s);o>=0&&i.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:ch(e.oldData[o]),groupIdDim:s.dimension})}),B(Pr(r.to),function(s){var o=FQ(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:ch(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&$de(i,a,n)}function Wct(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){B(Pr(n.seriesTransition),function(i){B(Pr(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][bA]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(e,t,n){var i=Bct(t);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)B(Pr(a),function(p){jct(p,i,n,t)});else{var s=Gct(i,n);B(s.keys(),function(p){var v=s.get(p);$de(v.oldSeries,v.newSeries,t)})}B(n.updatedSeries,function(p){p[bA]&&(p[bA]=!1)})}for(var o=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<o.length;f++){var h=o[f].getData();h.count()<Wde&&(l.push(o[f]),u.push(o[f].get("dataGroupId")),c.push(h))}})}Pt([JZe]);Pt([YZe]);Pt([_Qe,LQe,jQe,SJe,LJe,wet,Ket,Ptt,trt,ort,grt,cnt,Ont,$nt,lit,hit,bit,Iit,zit,$it,rat,Vat]);Pt(ist);Pt(Rst);Pt(jfe);Pt(Gst);Pt(Ihe);Pt(qst);Pt(rot);Pt(Got);Pt(llt);Pt($b);Pt(Alt);Pt(Dlt);Pt(Blt);Pt(Wlt);Pt(Zlt);Pt(nut);Pt(dut);Pt(Mut);Pt(kde);Pt(Pde);Pt(Zut);Pt(Bde);Pt(Vde);Pt(rct);Pt(vct);Pt(yct);Pt(Wct);Pt(pZe);const $ct=Object.freeze(Object.defineProperty({__proto__:null,Axis:pl,ChartView:Dr,ComponentModel:zt,ComponentView:qr,List:Va,Model:sr,PRIORITY:Jue,SeriesModel:Lr,color:NGe,connect:SXe,dataTool:RXe,dependencies:aXe,disConnect:TXe,disconnect:oce,dispose:AXe,env:Ut,extendChartView:tZe,extendComponentModel:QKe,extendComponentView:JKe,extendSeriesModel:eZe,format:UKe,getCoordinateSystemDimensions:CXe,getInstanceByDom:uV,getInstanceById:EXe,getMap:IXe,graphic:zKe,helper:kKe,init:bXe,innerDrawElementOnCanvas:aV,matrix:pGe,number:BKe,parseGeoJSON:N4,parseGeoJson:N4,registerAction:Ql,registerCoordinateSystem:cce,registerLayout:fce,registerLoading:pV,registerLocale:UB,registerMap:hce,registerPostInit:lce,registerPostUpdate:uce,registerPreprocessor:fV,registerProcessor:hV,registerTheme:cV,registerTransform:dce,registerUpdateLifecycle:uI,registerVisual:Ad,setCanvasCreator:DXe,setPlatformAPI:aoe,throttle:oI,time:VKe,use:Pt,util:HKe,vector:eGe,version:iXe,zrUtil:qHe,zrender:mje},Symbol.toStringTag,{value:"Module"}));var Nc={},Fc={},iO={},BQ;function qct(){return BQ||(BQ=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=1,t=function(){return"".concat(e++)};r.default=t}(iO)),iO}var D_={},I_={},aO={},VQ;function qde(){return VQ||(VQ=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){n.apply(s,l)},i)}};r.default=e}(aO)),aO}var Bc={},zQ;function C6(){if(zQ)return Bc;zQ=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.SizeSensorId=Bc.SensorTabIndex=Bc.SensorClassName=void 0;var r="size-sensor-id";Bc.SizeSensorId=r;var e="size-sensor-object";Bc.SensorClassName=e;var t="-1";return Bc.SensorTabIndex=t,Bc}var UQ;function Yct(){if(UQ)return I_;UQ=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.createSensor=void 0;var r=t(qde()),e=C6();function t(i){return i&&i.__esModule?i:{default:i}}var n=function(a,s){var o=void 0,l=[],u=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var m=document.createElement("object");return m.onload=function(){m.contentDocument.defaultView.addEventListener("resize",c),c()},m.style.display="block",m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.height="100%",m.style.width="100%",m.style.overflow="hidden",m.style.pointerEvents="none",m.style.zIndex="-1",m.style.opacity="0",m.setAttribute("class",e.SensorClassName),m.setAttribute("tabindex",e.SensorTabIndex),m.type="text/html",a.appendChild(m),m.data="about:blank",m},c=(0,r.default)(function(){l.forEach(function(v){v(a)})}),f=function(m){o||(o=u()),l.indexOf(m)===-1&&l.push(m)},h=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",c),o.parentNode.removeChild(o),a.removeAttribute(e.SizeSensorId),o=void 0,l=[],s&&s())},p=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&o&&h()};return{element:a,bind:f,destroy:h,unbind:p}};return I_.createSensor=n,I_}var R_={},HQ;function Xct(){if(HQ)return R_;HQ=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.createSensor=void 0;var r=C6(),e=t(qde());function t(i){return i&&i.__esModule?i:{default:i}}var n=function(a,s){var o=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(v){v(a)})}),c=function(){var m=new ResizeObserver(u);return m.observe(a),u(),m},f=function(m){o||(o=c()),l.indexOf(m)===-1&&l.push(m)},h=function(){o.disconnect(),l=[],o=void 0,a.removeAttribute(r.SizeSensorId),s&&s()},p=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&o&&h()};return{element:a,bind:f,destroy:h,unbind:p}};return R_.createSensor=n,R_}var GQ;function Kct(){if(GQ)return D_;GQ=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.createSensor=void 0;var r=Yct(),e=Xct(),t=typeof ResizeObserver<"u"?e.createSensor:r.createSensor;return D_.createSensor=t,D_}var jQ;function Zct(){if(jQ)return Fc;jQ=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.removeSensor=Fc.getSensor=Fc.Sensors=void 0;var r=n(qct()),e=Kct(),t=C6();function n(l){return l&&l.__esModule?l:{default:l}}var i={};Fc.Sensors=i;function a(l){l&&i[l]&&delete i[l]}var s=function(u){var c=u.getAttribute(t.SizeSensorId);if(c&&i[c])return i[c];var f=(0,r.default)();u.setAttribute(t.SizeSensorId,f);var h=(0,e.createSensor)(u,function(){return a(f)});return i[f]=h,h};Fc.getSensor=s;var o=function(u){var c=u.element.getAttribute(t.SizeSensorId);u.destroy(),a(c)};return Fc.removeSensor=o,Fc}var WQ;function Qct(){if(WQ)return Nc;WQ=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.ver=Nc.clear=Nc.bind=void 0;var r=Zct(),e=function(a,s){var o=(0,r.getSensor)(a);return o.bind(s),function(){o.unbind(s)}};Nc.bind=e;var t=function(a){var s=(0,r.getSensor)(a);(0,r.removeSensor)(s)};Nc.clear=t;var n="1.0.2";return Nc.ver=n,Nc}var $Q=Qct();function qQ(r,e){var t={};return e.forEach(function(n){t[n]=r[n]}),t}function sO(r){return typeof r=="function"}function Jct(r){return typeof r=="string"}var oO,YQ;function eft(){return YQ||(YQ=1,oO=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!r(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),oO}var tft=eft();const I0=VC(tft);var rft=function(r){QF(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=t.echarts,n.ele=null,n.isInitialResize=!0,n}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var n=this.props.shouldSetOption;if(!(sO(n)&&!n(t,this.props))){if(!I0(t.theme,this.props.theme)||!I0(t.opts,this.props.opts)||!I0(t.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];I0(qQ(this.props,i),qQ(t,i))||this.updateEChartsOption(),(!I0(t.style,this.props.style)||!I0(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},e.prototype.dispose=function(){if(this.ele){try{$Q.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){var t=this,n=this.props,i=n.onEvents,a=n.onChartReady,s=this.updateEChartsOption();this.bindEvents(s,i||{}),sO(a)&&a(s),this.ele&&$Q.bind(this.ele,function(){t.resize()})},e.prototype.bindEvents=function(t,n){function i(s,o){Jct(s)&&sO(o)&&t.on(s,function(l){o(l,t)})}for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i(a,n[a])},e.prototype.updateEChartsOption=function(){var t=this.props,n=t.option,i=t.notMerge,a=i===void 0?!1:i,s=t.lazyUpdate,o=s===void 0?!1:s,l=t.showLoading,u=t.loadingOption,c=u===void 0?null:u,f=this.getEchartsInstance();return f.setOption(n,a,o),l?f.showLoading(c):f.hideLoading(),f},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(n){console.warn(n)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,n=this.props,i=n.style,a=n.className,s=a===void 0?"":a,o=Ai({height:300},i);return Qc.createElement("div",{ref:function(l){t.ele=l},style:o,className:"echarts-for-react "+s})},e}(ue.PureComponent),E3=function(r){QF(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=$ct,n}return e}(rft);const nft="_card_1eq32_1",ift="_titulo_1eq32_25",aft="_chartBlock_1eq32_41",$2={card:nft,titulo:ift,chartBlock:aft},sft=[{nombre:"ALIANZA POPULAR (AP)",acronimo:"ap",colores:["#5BA5D6"]},{nombre:"LIBERTAD Y PROGRESO ADN (LYP-ADN)",acronimo:"adn",colores:["#D9042B"]},{nombre:"AUTONOMÍA PARA BOLIVIA SÚMATE (APB-SUMATE)",acronimo:"sumate",colores:["#410A59"]},{nombre:"LIBERTAD Y DEMOCRACIA (LIBRE)",acronimo:"libre",colores:["#1D3973"]},{nombre:"LA FUERZA DEL PUEBLO (FP)",acronimo:"fp",colores:["#52C5F2"]},{nombre:"MAS-IPSP",acronimo:"mas",colores:["#0B2447"]},{nombre:"MORENA",acronimo:"morena",colores:["#F20587"]},{nombre:"UNIDAD",acronimo:"unidad",colores:["#FFBA49"]},{nombre:"PARTIDO DEMOCRATA CRISTIANO (PDC)",acronimo:"pdc",colores:["#D90B1C"]},{nombre:"BIA-YUQUI",acronimo:"bia",colores:["#000000"]},{nombre:"OICH",acronimo:"oich",colores:["#888888"]}];function oft(){const[r,e]=ue.useState([]);ue.useEffect(()=>{(async()=>{const s=Kn(mr(St,"recepcion"),_n("estado","==","aprobado")),o=await an(s),l={};o.forEach(c=>{const h=c.data().votosPresidente||{};Object.entries(h).forEach(([p,v])=>{const m=parseInt(v,10)||0;l[p]=(l[p]||0)+m})});const u=Object.entries(l).map(([c,f])=>{const h=sft.find(p=>p.nombre===c);return{name:c,value:f,itemStyle:{color:h?.colores[0]||"#ccc"}}});e(u)})()},[]);const t=r.reduce((a,s)=>a+s.value,0),n={title:{text:"Votos Presidenciales (Gráfico de Torta)",left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1D3973"}},tooltip:{trigger:"item",formatter:"{b}: {c} votos ({d}%)"},legend:{bottom:10,type:"scroll"},series:[{name:"Presidenciales",type:"pie",radius:"55%",center:["50%","50%"],data:r,label:{formatter:`{b|{b}}
{c} votos ({d}%)`,rich:{b:{fontWeight:"bold"}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},i={title:{text:"Votos Presidenciales (Barras Horizontales)",left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1D3973"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:a=>{const{name:s,value:o}=a[0],l=(o/t*100).toFixed(2);return`${s}: ${o} votos (${l}%)`}},grid:{left:"15%",right:"5%",bottom:"10%",containLabel:!0},xAxis:{type:"value",name:"Votos"},yAxis:{type:"category",data:r.map(a=>a.name),axisTick:{alignWithLabel:!0},axisLabel:{interval:0,formatter:a=>a.length>20?a.slice(0,20)+"...":a}},series:[{type:"bar",data:r.map(a=>({value:a.value,itemStyle:{color:a.itemStyle.color}})),label:{show:!0,position:"right",formatter:({value:a})=>{const s=(a/t*100).toFixed(2);return`${a} (${s}%)`}},emphasis:{itemStyle:{color:"#F20505"}}}]};return G.jsxs("div",{className:$2.card,children:[G.jsx("h3",{className:$2.titulo,children:"Votos Presidenciales"}),G.jsx("div",{className:$2.chartBlock,children:G.jsx(E3,{option:n,style:{height:400,width:"100%"}})}),G.jsx("div",{className:$2.chartBlock,children:G.jsx(E3,{option:i,style:{height:500,width:"100%"}})})]})}const lft="_detalleDHondt_1bfkw_1",uft="_pasoActual_1bfkw_17",cft="_tablaValores_1bfkw_27",Mp={detalleDHondt:lft,pasoActual:uft,tablaValores:cft},XQ={"Santa Cruz":14,"La Paz":14,Cochabamba:9,Potosí:6,Chuquisaca:4,Oruro:4,Tarija:4,Beni:3,Pando:2},lO=[{nombre:"ALIANZA POPULAR (AP)",colores:["#5BA5D6"]},{nombre:"LIBERTAD Y PROGRESO ADN (LYP-ADN)",colores:["#D9042B"]},{nombre:"AUTONOMÍA PARA BOLIVIA SÚMATE (APB-SUMATE)",colores:["#410A59"]},{nombre:"LIBERTAD Y DEMOCRACIA (LIBRE)",colores:["#1D3973"]},{nombre:"LA FUERZA DEL PUEBLO (FP)",colores:["#52C5F2"]},{nombre:"MAS-IPSP",colores:["#0B2447"]},{nombre:"MORENA",colores:["#F20587"]},{nombre:"UNIDAD",colores:["#FFBA49"]},{nombre:"PARTIDO DEMOCRATA CRISTIANO (PDC)",colores:["#D90B1C"]},{nombre:"BIA-YUQUI",colores:["#000000"]},{nombre:"OICH",colores:["#888888"]}];function fft(r,e){const t={};Object.keys(r).forEach(i=>t[i]=0);const n=[];for(let i=0;i<e;i++){let a=-1,s=null;const o={};for(const[l,u]of Object.entries(r)){const c=t[l]+1,f=u/c;o[l]=f,f>a&&(a=f,s=l)}t[s]++,n.push({paso:i+1,partidoGanador:s,valorGanador:a,valores:o,asignaciones:{...t}})}return{asignaciones:t,pasos:n}}function hft(){const[r,e]=ue.useState({}),[t,n]=ue.useState({}),[i,a]=ue.useState({}),[s,o]=ue.useState({}),l=ue.useRef(null);ue.useEffect(()=>{(async()=>{const f=await an(mr(St,"departamentos")),h={};f.forEach(p=>{h[p.id]=p.data().nombre}),n(h)})()},[]),ue.useEffect(()=>{const c=async()=>{const f=Kn(mr(St,"recepcion"),_n("estado","==","aprobado")),h=await an(f),p={};h.forEach(m=>{const y=m.data(),x=y.departamento,w=y.votosPresidente;if(!t[x])return;const b=t[x];p[b]||(p[b]={});for(const[T,C]of Object.entries(w||{}))p[b][T]=(p[b][T]||0)+parseInt(C)});const v={};for(const[m,y]of Object.entries(p)){const x=XQ[m]||0;v[m]=fft(y,x)}e(v)};Object.keys(t).length>0&&c()},[t]);const u=c=>{a(f=>{const h={...f,[c]:!f[c]};return h[c]||(o(p=>({...p,[c]:0})),clearInterval(l.current)),h})};return ue.useEffect(()=>(Object.entries(i).forEach(([c,f])=>{f&&r[c]&&(clearInterval(l.current),l.current=setInterval(()=>{o(h=>{const p=r[c].pasos.length,v=(h[c]??0)+1;return v>=p?(clearInterval(l.current),{...h,[c]:p-1}):{...h,[c]:v}})},2500))}),()=>clearInterval(l.current)),[i,r]),G.jsxs("div",{className:Mp.card,children:[G.jsx("h3",{className:Mp.titulo,children:"Diputados Plurinominales (por votos presidenciales)"}),Object.entries(r).map(([c,{asignaciones:f,pasos:h}])=>{const p="#1d3973",v=i[c],m=s[c]??0;return G.jsxs("div",{className:Mp.subcard,children:[G.jsxs("h4",{style:{cursor:"pointer",color:p},onClick:()=>u(c),children:[v?G.jsx(Hne,{}):G.jsx(Gne,{})," ",c," - ",XQ[c]," curules"]}),G.jsx("ul",{className:Mp.listaDiputados,children:Object.entries(f).map(([y,x])=>{const w=lO.find(b=>b.nombre===y)?.colores[0]||"#000";return G.jsxs("li",{style:{color:w},children:[G.jsx(jne,{style:{marginRight:5}}),G.jsx("strong",{children:y}),": ",x," curul",x!==1?"es":""]},y)})}),v&&G.jsxs("div",{className:Mp.detalleDHondt,children:[G.jsx("h5",{children:"Proceso D'Hondt paso a paso"}),G.jsxs("div",{className:Mp.pasoActual,children:[G.jsxs("p",{children:[G.jsxs("strong",{children:["Paso ",h[m].paso,":"]})," Curul asignada a"," ",G.jsx("span",{style:{color:lO.find(y=>y.nombre===h[m].partidoGanador)?.colores[0]},children:h[m].partidoGanador})," ","con valor ",h[m].valorGanador.toFixed(2)]}),G.jsxs("table",{className:Mp.tablaValores,children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Partido"}),G.jsx("th",{children:"Votos / divisor"}),G.jsx("th",{children:"Curules asignadas"})]})}),G.jsx("tbody",{children:Object.entries(h[m].valores).map(([y,x])=>{const w=lO.find(T=>T.nombre===y)?.colores[0]||"#555",b=y===h[m].partidoGanador;return G.jsxs("tr",{style:{backgroundColor:b?"rgba(29, 57, 115, 0.2)":"transparent",color:w,fontWeight:b?"700":"normal"},children:[G.jsx("td",{children:y}),G.jsx("td",{children:x.toFixed(2)}),G.jsx("td",{children:h[m].asignaciones[y]})]},y)})})]})]})]})]},c)})]})}const dft="_card_1u6gl_1",pft="_titulo_1u6gl_19",vft="_subcard_1u6gl_37",gft="_listaDiputados_1u6gl_67",mft="_listaDetalles_1u6gl_103",yft="_itemDetalle_1u6gl_139",bu={card:dft,titulo:pft,subcard:vft,listaDiputados:gft,listaDetalles:mft,itemDetalle:yft},uO=[{nombre:"ALIANZA POPULAR (AP)",colores:["#5BA5D6"]},{nombre:"LIBERTAD Y PROGRESO ADN (LYP-ADN)",colores:["#D9042B"]},{nombre:"AUTONOMÍA PARA BOLIVIA SÚMATE (APB-SUMATE)",colores:["#410A59"]},{nombre:"LIBERTAD Y DEMOCRACIA (LIBRE)",colores:["#1D3973"]},{nombre:"LA FUERZA DEL PUEBLO (FP)",colores:["#52C5F2"]},{nombre:"MAS-IPSP",colores:["#0B2447"]},{nombre:"MORENA",colores:["#F20587"]},{nombre:"UNIDAD",colores:["#FFBA49"]},{nombre:"PARTIDO DEMOCRATA CRISTIANO (PDC)",colores:["#D90B1C"]},{nombre:"BIA-YUQUI",colores:["#000000"]},{nombre:"OICH",colores:["#888888"]}];function _ft(){const[r,e]=ue.useState({}),[t,n]=ue.useState({});ue.useEffect(()=>{(async()=>{const o=await an(Kn(mr(St,"recepcion"),_n("estado","==","aprobado"))),l=await an(mr(St,"circunscripciones")),u=await an(mr(St,"departamentos")),c={};l.forEach(p=>c[p.id]=p.data());const f={};u.forEach(p=>f[p.id]=p.data().nombre);const h={};o.forEach(p=>{const v=p.data(),m=v.circunscripcion,y=v.departamento,x=v.votosDiputado||{};if(!m||!x||!f[y])return;const w=f[y],b=c[m]?.nombre||m;h[w]||(h[w]={}),h[w][b]||(h[w][b]={}),Object.entries(x).forEach(([T,C])=>{const D=parseInt(C)||0;h[w][b][T]=(h[w][b][T]||0)+D})}),e(h)})()},[]);const i=(s,o)=>{const l=`${s}-${o}`;n(u=>({...u,[l]:!u[l]}))},a=s=>{const o=Object.entries(s).map(([l,u])=>{const c=uO.find(f=>f.nombre===l)?.colores[0]||"#999";return{name:l,value:u,itemStyle:{color:c}}});return{tooltip:{trigger:"item",formatter:"{b}: {c} votos ({d}%)"},legend:{orient:"horizontal",bottom:5,type:"scroll",textStyle:{fontSize:10}},series:[{name:"Votos",type:"pie",radius:"70%",center:["50%","50%"],data:o,label:{formatter:"{b}: {c} ({d}%)",fontSize:10},emphasis:{itemStyle:{shadowBlur:12,shadowOffsetX:0,shadowColor:"rgba(0,0,0,0.6)"}}}]}};return G.jsxs("div",{className:bu.card,children:[G.jsx("h3",{className:bu.titulo,children:"Diputados Uninominales por Circunscripción (mayoría simple)"}),Object.entries(r).map(([s,o])=>G.jsxs("div",{className:bu.subcard,children:[G.jsx("h4",{children:s}),G.jsx("ul",{className:bu.listaDiputados,children:Object.entries(o).map(([l,u])=>{const c=Object.entries(u).sort((y,x)=>x[1]-y[1]),[f,h]=c[0],p=uO.find(y=>y.nombre===f)?.colores[0]||"#000",v=`${s}-${l}`,m=t[v];return G.jsxs("li",{className:bu.itemCircunscripcion,children:[G.jsxs("div",{className:bu.cabeceraCirc,style:{color:p},onClick:()=>i(s,l),children:[m?G.jsx(Hne,{}):G.jsx(Gne,{}),G.jsx(jne,{}),G.jsxs("span",{children:[G.jsx("strong",{children:f})," gana en la circunscripción ",G.jsx("strong",{children:l})," ","(",G.jsxs("span",{className:bu.votos,children:[h," votos"]}),")"]})]}),m&&G.jsxs("div",{className:bu.detalleExpandido,children:[G.jsx(E3,{option:a(u),style:{height:300,maxWidth:400,margin:"auto"}}),G.jsx("ul",{className:bu.listaDetalles,children:c.map(([y,x])=>{const w=uO.find(b=>b.nombre===y)?.colores[0]||"#555";return G.jsxs("li",{className:bu.itemDetalle,style:{color:w},children:[G.jsx("span",{children:y}),G.jsxs("strong",{children:[x," votos"]})]},y)})})]})]},l)})})]},s))]})}const xft="_resultadosContainer_zwazn_5",wft="_tituloPrincipal_zwazn_19",bft="_seccionGrafico_zwazn_37",Sft="_card_zwazn_47",Tft="_titulo_zwazn_19",Aft="_subcard_zwazn_77",Eft="_listaDiputados_zwazn_95",Ru={resultadosContainer:xft,tituloPrincipal:wft,seccionGrafico:bft,card:Sft,titulo:Tft,subcard:Aft,listaDiputados:Eft},Cft=[{nombre:"ALIANZA POPULAR (AP)",colores:["#5BA5D6"]},{nombre:"LIBERTAD Y PROGRESO ADN (LYP-ADN)",colores:["#D9042B"]},{nombre:"AUTONOMÍA PARA BOLIVIA SÚMATE (APB-SUMATE)",colores:["#410A59"]},{nombre:"LIBERTAD Y DEMOCRACIA (LIBRE)",colores:["#1D3973"]},{nombre:"LA FUERZA DEL PUEBLO (FP)",colores:["#52C5F2"]},{nombre:"MAS-IPSP",colores:["#0B2447"]},{nombre:"MORENA",colores:["#F20587"]},{nombre:"UNIDAD",colores:["#FFBA49"]},{nombre:"PARTIDO DEMOCRATA CRISTIANO (PDC)",colores:["#D90B1C"]},{nombre:"BIA-YUQUI",colores:["#000000"]},{nombre:"OICH",colores:["#888888"]}];function Dft(r,e){const t={};Object.keys(r).forEach(n=>t[n]=0);for(let n=0;n<e;n++){let i=-1,a=null;for(const[s,o]of Object.entries(r)){const l=t[s]+1,u=o/l;u>i&&(i=u,a=s)}t[a]++}return t}function Ift(){const[r,e]=ue.useState({}),[t,n]=ue.useState({});return ue.useEffect(()=>{(async()=>{const a=await an(mr(St,"departamentos")),s={};a.forEach(o=>{s[o.id]=o.data().nombre}),n(s)})()},[]),ue.useEffect(()=>{const i=async()=>{const a=Kn(mr(St,"recepcion"),_n("estado","==","aprobado")),s=await an(a),o={};s.forEach(u=>{const c=u.data(),f=c.departamento,h=c.votosPresidente;if(!t[f])return;const p=t[f];o[p]||(o[p]={});for(const[v,m]of Object.entries(h||{}))o[p][v]=(o[p][v]||0)+parseInt(m)});const l={};for(const[u,c]of Object.entries(o))l[u]=Dft(c,4);e(l)};Object.keys(t).length>0&&i()},[t]),G.jsxs("div",{className:Ru.card,children:[G.jsx("h3",{className:Ru.titulo,children:"Senadores por Departamento (votos presidenciales)"}),Object.entries(r).map(([i,a])=>G.jsxs("div",{className:Ru.subcard,children:[G.jsx("h4",{children:i}),G.jsx("ul",{className:Ru.listaDiputados,children:Object.entries(a).map(([s,o])=>{const l=Cft.find(u=>u.nombre===s)?.colores[0]||"#000";return G.jsxs("li",{style:{color:l},children:[G.jsx(CLe,{style:{marginRight:5}})," ",G.jsx("strong",{children:s}),": ",o," senador",o>1?"es":""]},s)})})]},i))]})}function Rft(){const[r,e]=ue.useState(null),t=Sf();return ue.useEffect(()=>{(async()=>{const i=uo.currentUser?.uid;if(!i){t("/");return}const a=await Ps(Xn(St,"usuarios",i));if(a.exists()){const s=a.data();e(s),s.rol!=="administrador"&&t("/")}else t("/")})()},[t]),r?G.jsxs("div",{className:Ru.resultadosContainer,children:[G.jsx("h2",{className:Ru.tituloPrincipal,children:"Resultados Electorales"}),G.jsx("section",{className:Ru.seccionGrafico,children:G.jsx(oft,{})}),G.jsx("section",{className:Ru.seccionGrafico,children:G.jsx(hft,{})}),G.jsx("section",{className:Ru.seccionGrafico,children:G.jsx(_ft,{})}),G.jsx("section",{className:Ru.seccionGrafico,children:G.jsx(Ift,{})})]}):G.jsx("p",{children:"Cargando..."})}function Mft(){return G.jsx(G.Fragment,{children:G.jsx(mSe,{})})}function kft(){const r=Ww(),[e,t]=ue.useState(!1);return ue.useEffect(()=>{t(!0);const n=setTimeout(()=>t(!1),300);return()=>clearTimeout(n)},[r]),e?G.jsx(dD,{}):G.jsxs(_ge,{children:[G.jsx(Vo,{path:"/",element:G.jsx(Mft,{})}),G.jsx(Vo,{path:"/login",element:G.jsx(GSe,{})}),G.jsx(Vo,{path:"/signup",element:G.jsx(FAe,{})}),G.jsx(Vo,{path:"/delegado/registro_electoral",element:G.jsx(zFe,{})}),G.jsx(Vo,{path:"/revisor/registros_cargados",element:G.jsx(gHe,{})}),G.jsx(Vo,{path:"/resultados/resultados_graficos",element:G.jsx(Rft,{})}),G.jsx(Vo,{path:"/jefesR/GestionUsuariosPage",element:G.jsx(RHe,{})}),G.jsx(Vo,{path:"/test",element:G.jsx(rLe,{})}),G.jsx(Vo,{path:"/testv1",element:G.jsx(H7e,{})}),G.jsx(Vo,{path:"/testv2",element:G.jsx(G7e,{})}),G.jsx(Vo,{path:"/testEstres",element:G.jsx(Q7e,{})})]})}function Pft(){return G.jsxs(Ege,{children:[G.jsx(fSe,{}),G.jsx("main",{style:{minHeight:"80vh"},children:G.jsx(kft,{})}),G.jsx(xSe,{})]})}Dve.createRoot(document.getElementById("root")).render(G.jsx(ue.StrictMode,{children:G.jsx(Pft,{})}));
