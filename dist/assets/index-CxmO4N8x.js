function xve(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function FC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gk={exports:{}},O1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FU;function wve(){if(FU)return O1;FU=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:s,ref:i!==void 0?i:null,props:a}}return O1.Fragment=e,O1.jsx=t,O1.jsxs=t,O1}var BU;function bve(){return BU||(BU=1,gk.exports=wve()),gk.exports}var q=bve(),mk={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VU;function Sve(){if(VU)return Jt;VU=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.iterator;function h(W){return W===null||typeof W!="object"?null:(W=f&&W[f]||W["@@iterator"],typeof W=="function"?W:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(W,Q,H){this.props=W,this.context=Q,this.refs=m,this.updater=H||p}y.prototype.isReactComponent={},y.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},y.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function x(){}x.prototype=y.prototype;function w(W,Q,H){this.props=W,this.context=Q,this.refs=m,this.updater=H||p}var b=w.prototype=new x;b.constructor=w,v(b,y.prototype),b.isPureReactComponent=!0;var T=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function A(W,Q,H,ee,J,se){return H=se.ref,{$$typeof:r,type:W,key:Q,ref:H!==void 0?H:null,props:se}}function k(W,Q){return A(W.type,Q,void 0,void 0,void 0,W.props)}function I(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function M(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(H){return Q[H]})}var P=/\/+/g;function O(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):Q.toString(36)}function N(){}function G(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(N,N):(W.status="pending",W.then(function(Q){W.status==="pending"&&(W.status="fulfilled",W.value=Q)},function(Q){W.status==="pending"&&(W.status="rejected",W.reason=Q)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function j(W,Q,H,ee,J){var se=typeof W;(se==="undefined"||se==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(se){case"bigint":case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case r:case e:de=!0;break;case c:return de=W._init,j(de(W._payload),Q,H,ee,J)}}if(de)return J=J(W),de=ee===""?"."+O(W,0):ee,T(J)?(H="",de!=null&&(H=de.replace(P,"$&/")+"/"),j(J,Q,H,"",function(xe){return xe})):J!=null&&(I(J)&&(J=k(J,H+(J.key==null||W&&W.key===J.key?"":(""+J.key).replace(P,"$&/")+"/")+de)),Q.push(J)),1;de=0;var Me=ee===""?".":ee+":";if(T(W))for(var Se=0;Se<W.length;Se++)ee=W[Se],se=Me+O(ee,Se),de+=j(ee,Q,H,se,J);else if(Se=h(W),typeof Se=="function")for(W=Se.call(W),Se=0;!(ee=W.next()).done;)ee=ee.value,se=Me+O(ee,Se++),de+=j(ee,Q,H,se,J);else if(se==="object"){if(typeof W.then=="function")return j(G(W),Q,H,ee,J);throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function U(W,Q,H){if(W==null)return W;var ee=[],J=0;return j(W,ee,"","",function(se){return Q.call(H,se,J++)}),ee}function X(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(H){(W._status===0||W._status===-1)&&(W._status=1,W._result=H)},function(H){(W._status===0||W._status===-1)&&(W._status=2,W._result=H)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var ie=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function Z(){}return Jt.Children={map:U,forEach:function(W,Q,H){U(W,function(){Q.apply(this,arguments)},H)},count:function(W){var Q=0;return U(W,function(){Q++}),Q},toArray:function(W){return U(W,function(Q){return Q})||[]},only:function(W){if(!I(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Jt.Component=y,Jt.Fragment=t,Jt.Profiler=i,Jt.PureComponent=w,Jt.StrictMode=n,Jt.Suspense=l,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return C.H.useMemoCache(W)}},Jt.cache=function(W){return function(){return W.apply(null,arguments)}},Jt.cloneElement=function(W,Q,H){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ee=v({},W.props),J=W.key,se=void 0;if(Q!=null)for(de in Q.ref!==void 0&&(se=void 0),Q.key!==void 0&&(J=""+Q.key),Q)!D.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(ee[de]=Q[de]);var de=arguments.length-2;if(de===1)ee.children=H;else if(1<de){for(var Me=Array(de),Se=0;Se<de;Se++)Me[Se]=arguments[Se+2];ee.children=Me}return A(W.type,J,void 0,void 0,se,ee)},Jt.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Jt.createElement=function(W,Q,H){var ee,J={},se=null;if(Q!=null)for(ee in Q.key!==void 0&&(se=""+Q.key),Q)D.call(Q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(J[ee]=Q[ee]);var de=arguments.length-2;if(de===1)J.children=H;else if(1<de){for(var Me=Array(de),Se=0;Se<de;Se++)Me[Se]=arguments[Se+2];J.children=Me}if(W&&W.defaultProps)for(ee in de=W.defaultProps,de)J[ee]===void 0&&(J[ee]=de[ee]);return A(W,se,void 0,void 0,null,J)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(W){return{$$typeof:o,render:W}},Jt.isValidElement=I,Jt.lazy=function(W){return{$$typeof:c,_payload:{_status:-1,_result:W},_init:X}},Jt.memo=function(W,Q){return{$$typeof:u,type:W,compare:Q===void 0?null:Q}},Jt.startTransition=function(W){var Q=C.T,H={};C.T=H;try{var ee=W(),J=C.S;J!==null&&J(H,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Z,ie)}catch(se){ie(se)}finally{C.T=Q}},Jt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Jt.use=function(W){return C.H.use(W)},Jt.useActionState=function(W,Q,H){return C.H.useActionState(W,Q,H)},Jt.useCallback=function(W,Q){return C.H.useCallback(W,Q)},Jt.useContext=function(W){return C.H.useContext(W)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(W,Q){return C.H.useDeferredValue(W,Q)},Jt.useEffect=function(W,Q,H){var ee=C.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(W,Q)},Jt.useId=function(){return C.H.useId()},Jt.useImperativeHandle=function(W,Q,H){return C.H.useImperativeHandle(W,Q,H)},Jt.useInsertionEffect=function(W,Q){return C.H.useInsertionEffect(W,Q)},Jt.useLayoutEffect=function(W,Q){return C.H.useLayoutEffect(W,Q)},Jt.useMemo=function(W,Q){return C.H.useMemo(W,Q)},Jt.useOptimistic=function(W,Q){return C.H.useOptimistic(W,Q)},Jt.useReducer=function(W,Q,H){return C.H.useReducer(W,Q,H)},Jt.useRef=function(W){return C.H.useRef(W)},Jt.useState=function(W){return C.H.useState(W)},Jt.useSyncExternalStore=function(W,Q,H){return C.H.useSyncExternalStore(W,Q,H)},Jt.useTransition=function(){return C.H.useTransition()},Jt.version="19.1.0",Jt}var zU;function BC(){return zU||(zU=1,mk.exports=Sve()),mk.exports}var ce=BC();const Ml=FC(ce),Tve=xve({__proto__:null,default:Ml},[ce]);var yk={exports:{}},N1={},_k={exports:{}},xk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UU;function Ave(){return UU||(UU=1,function(r){function e(U,X){var ie=U.length;U.push(X);e:for(;0<ie;){var Z=ie-1>>>1,W=U[Z];if(0<i(W,X))U[Z]=X,U[ie]=W,ie=Z;else break e}}function t(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var X=U[0],ie=U.pop();if(ie!==X){U[0]=ie;e:for(var Z=0,W=U.length,Q=W>>>1;Z<Q;){var H=2*(Z+1)-1,ee=U[H],J=H+1,se=U[J];if(0>i(ee,ie))J<W&&0>i(se,ee)?(U[Z]=se,U[J]=ie,Z=J):(U[Z]=ee,U[H]=ie,Z=H);else if(J<W&&0>i(se,ie))U[Z]=se,U[J]=ie,Z=J;else break e}}return X}function i(U,X){var ie=U.sortIndex-X.sortIndex;return ie!==0?ie:U.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,v=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function T(U){for(var X=t(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=U)n(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function C(U){if(m=!1,T(U),!v)if(t(l)!==null)v=!0,D||(D=!0,O());else{var X=t(u);X!==null&&j(C,X.startTime-U)}}var D=!1,A=-1,k=5,I=-1;function M(){return y?!0:!(r.unstable_now()-I<k)}function P(){if(y=!1,D){var U=r.unstable_now();I=U;var X=!0;try{e:{v=!1,m&&(m=!1,w(A),A=-1),p=!0;var ie=h;try{t:{for(T(U),f=t(l);f!==null&&!(f.expirationTime>U&&M());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var W=Z(f.expirationTime<=U);if(U=r.unstable_now(),typeof W=="function"){f.callback=W,T(U),X=!0;break t}f===t(l)&&n(l),T(U)}else n(l);f=t(l)}if(f!==null)X=!0;else{var Q=t(u);Q!==null&&j(C,Q.startTime-U),X=!1}}break e}finally{f=null,h=ie,p=!1}X=void 0}}finally{X?O():D=!1}}}var O;if(typeof b=="function")O=function(){b(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=P,O=function(){G.postMessage(null)}}else O=function(){x(P,0)};function j(U,X){A=x(function(){U(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(U){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var ie=h;h=X;try{return U()}finally{h=ie}},r.unstable_requestPaint=function(){y=!0},r.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=h;h=U;try{return X()}finally{h=ie}},r.unstable_scheduleCallback=function(U,X,ie){var Z=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Z+ie:Z):ie=Z,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ie+W,U={id:c++,callback:X,priorityLevel:U,startTime:ie,expirationTime:W,sortIndex:-1},ie>Z?(U.sortIndex=ie,e(u,U),t(l)===null&&U===t(u)&&(m?(w(A),A=-1):m=!0,j(C,ie-Z))):(U.sortIndex=W,e(l,U),v||p||(v=!0,D||(D=!0,O()))),U},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(U){var X=h;return function(){var ie=h;h=X;try{return U.apply(this,arguments)}finally{h=ie}}}}(xk)),xk}var HU;function Eve(){return HU||(HU=1,_k.exports=Ave()),_k.exports}var wk={exports:{}},ga={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GU;function Cve(){if(GU)return ga;GU=1;var r=BC();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ga.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},ga.flushSync=function(l){var u=s.T,c=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=u,n.p=c,n.d.f()}},ga.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},ga.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},ga.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):c==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ga.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},ga.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=o(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ga.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},ga.requestFormReset=function(l){n.d.r(l)},ga.unstable_batchedUpdates=function(l,u){return l(u)},ga.useFormState=function(l,u,c){return s.H.useFormState(l,u,c)},ga.useFormStatus=function(){return s.H.useHostTransitionStatus()},ga.version="19.1.0",ga}var jU;function KQ(){if(jU)return wk.exports;jU=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wk.exports=Cve(),wk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WU;function Dve(){if(WU)return N1;WU=1;var r=Eve(),e=BC(),t=KQ();function n(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function a(d){var g=d,_=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,(g.flags&4098)!==0&&(_=g.return),d=g.return;while(d)}return g.tag===3?_:null}function s(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function o(d){if(a(d)!==d)throw Error(n(188))}function l(d){var g=d.alternate;if(!g){if(g=a(d),g===null)throw Error(n(188));return g!==d?null:d}for(var _=d,S=g;;){var R=_.return;if(R===null)break;var L=R.alternate;if(L===null){if(S=R.return,S!==null){_=S;continue}break}if(R.child===L.child){for(L=R.child;L;){if(L===_)return o(R),d;if(L===S)return o(R),g;L=L.sibling}throw Error(n(188))}if(_.return!==S.return)_=R,S=L;else{for(var z=!1,K=R.child;K;){if(K===_){z=!0,_=R,S=L;break}if(K===S){z=!0,S=R,_=L;break}K=K.sibling}if(!z){for(K=L.child;K;){if(K===_){z=!0,_=L,S=R;break}if(K===S){z=!0,S=L,_=R;break}K=K.sibling}if(!z)throw Error(n(189))}}if(_.alternate!==S)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?d:g}function u(d){var g=d.tag;if(g===5||g===26||g===27||g===6)return d;for(d=d.child;d!==null;){if(g=u(d),g!==null)return g;d=d.sibling}return null}var c=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(d){return d===null||typeof d!="object"?null:(d=P&&d[P]||d["@@iterator"],typeof d=="function"?d:null)}var N=Symbol.for("react.client.reference");function G(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===N?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case v:return"Fragment";case y:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case p:return"Portal";case b:return(d.displayName||"Context")+".Provider";case w:return(d._context.displayName||"Context")+".Consumer";case T:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case A:return g=d.displayName||null,g!==null?g:G(d.type)||"Memo";case k:g=d._payload,d=d._init;try{return G(d(g))}catch{}}return null}var j=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Z=[],W=-1;function Q(d){return{current:d}}function H(d){0>W||(d.current=Z[W],Z[W]=null,W--)}function ee(d,g){W++,Z[W]=d.current,d.current=g}var J=Q(null),se=Q(null),de=Q(null),Me=Q(null);function Se(d,g){switch(ee(de,g),ee(se,d),ee(J,null),g.nodeType){case 9:case 11:d=(d=g.documentElement)&&(d=d.namespaceURI)?fU(d):0;break;default:if(d=g.tagName,g=g.namespaceURI)g=fU(g),d=hU(g,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}H(J),ee(J,d)}function xe(){H(J),H(se),H(de)}function Te(d){d.memoizedState!==null&&ee(Me,d);var g=J.current,_=hU(g,d.type);g!==_&&(ee(se,d),ee(J,_))}function Oe(d){se.current===d&&(H(J),H(se)),Me.current===d&&(H(Me),R1._currentValue=ie)}var ne=Object.prototype.hasOwnProperty,pt=r.unstable_scheduleCallback,tt=r.unstable_cancelCallback,ct=r.unstable_shouldYield,it=r.unstable_requestPaint,He=r.unstable_now,xt=r.unstable_getCurrentPriorityLevel,gr=r.unstable_ImmediatePriority,Jr=r.unstable_UserBlockingPriority,Ve=r.unstable_NormalPriority,At=r.unstable_LowPriority,Nt=r.unstable_IdlePriority,Dt=r.log,_n=r.unstable_setDisableYieldValue,Et=null,mt=null;function ir(d){if(typeof Dt=="function"&&_n(d),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Et,d)}catch{}}var yr=Math.clz32?Math.clz32:hn,kt=Math.log,Dr=Math.LN2;function hn(d){return d>>>=0,d===0?32:31-(kt(d)/Dr|0)|0}var Or=256,ni=4194304;function qi(d){var g=d&42;if(g!==0)return g;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function il(d,g,_){var S=d.pendingLanes;if(S===0)return 0;var R=0,L=d.suspendedLanes,z=d.pingedLanes;d=d.warmLanes;var K=S&134217727;return K!==0?(S=K&~L,S!==0?R=qi(S):(z&=K,z!==0?R=qi(z):_||(_=K&~d,_!==0&&(R=qi(_))))):(K=S&~L,K!==0?R=qi(K):z!==0?R=qi(z):_||(_=S&~d,_!==0&&(R=qi(_)))),R===0?0:g!==0&&g!==R&&(g&L)===0&&(L=R&-R,_=g&-g,L>=_||L===32&&(_&4194048)!==0)?g:R}function al(d,g){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&g)===0}function mf(d,g){switch(d){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(){var d=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),d}function _f(){var d=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),d}function sl(d){for(var g=[],_=0;31>_;_++)g.push(d);return g}function ol(d,g){d.pendingLanes|=g,g!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Kl(d,g,_,S,R,L){var z=d.pendingLanes;d.pendingLanes=_,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=_,d.entangledLanes&=_,d.errorRecoveryDisabledLanes&=_,d.shellSuspendCounter=0;var K=d.entanglements,fe=d.expirationTimes,we=d.hiddenUpdates;for(_=z&~_;0<_;){var Ne=31-yr(_),ze=1<<Ne;K[Ne]=0,fe[Ne]=-1;var Ee=we[Ne];if(Ee!==null)for(we[Ne]=null,Ne=0;Ne<Ee.length;Ne++){var De=Ee[Ne];De!==null&&(De.lane&=-536870913)}_&=~ze}S!==0&&lo(d,S,0),L!==0&&R===0&&d.tag!==0&&(d.suspendedLanes|=L&~(z&~g))}function lo(d,g,_){d.pendingLanes|=g,d.suspendedLanes&=~g;var S=31-yr(g);d.entangledLanes|=g,d.entanglements[S]=d.entanglements[S]|1073741824|_&4194090}function wd(d,g){var _=d.entangledLanes|=g;for(d=d.entanglements;_;){var S=31-yr(_),R=1<<S;R&g|d[S]&g&&(d[S]|=g),_&=~R}}function Zl(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function xf(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Ql(){var d=X.p;return d!==0?d:(d=window.event,d===void 0?32:kU(d.type))}function cg(d,g){var _=X.p;try{return X.p=d,g()}finally{X.p=_}}var tn=Math.random().toString(36).slice(2),Un="__reactFiber$"+tn,dn="__reactProps$"+tn,vs="__reactContainer$"+tn,bd="__reactEvents$"+tn,Fy="__reactListeners$"+tn,Y="__reactHandles$"+tn,le="__reactResources$"+tn,re="__reactMarker$"+tn;function ae(d){delete d[Un],delete d[dn],delete d[bd],delete d[Fy],delete d[Y]}function oe(d){var g=d[Un];if(g)return g;for(var _=d.parentNode;_;){if(g=_[vs]||_[Un]){if(_=g.alternate,g.child!==null||_!==null&&_.child!==null)for(d=gU(d);d!==null;){if(_=d[Un])return _;d=gU(d)}return g}d=_,_=d.parentNode}return null}function ue(d){if(d=d[Un]||d[vs]){var g=d.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return d}return null}function _e(d){var g=d.tag;if(g===5||g===26||g===27||g===6)return d.stateNode;throw Error(n(33))}function Ie(d){var g=d[le];return g||(g=d[le]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function ve(d){d[re]=!0}var be=new Set,Ae={};function Ge(d,g){Xe(d,g),Xe(d+"Capture",g)}function Xe(d,g){for(Ae[d]=g,d=0;d<g.length;d++)be.add(g[d])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qe={},et={};function Ft(d){return ne.call(et,d)?!0:ne.call(qe,d)?!1:nt.test(d)?et[d]=!0:(qe[d]=!0,!1)}function Rr(d,g,_){if(Ft(g))if(_===null)d.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":d.removeAttribute(g);return;case"boolean":var S=g.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){d.removeAttribute(g);return}}d.setAttribute(g,""+_)}}function _r(d,g,_){if(_===null)d.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(g);return}d.setAttribute(g,""+_)}}function xr(d,g,_,S){if(S===null)d.removeAttribute(_);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(_);return}d.setAttributeNS(g,_,""+S)}}var Ls,Jl;function ja(d){if(Ls===void 0)try{throw Error()}catch(_){var g=_.stack.trim().match(/\n( *(at )?)/);Ls=g&&g[1]||"",Jl=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+d+Jl}var gs=!1;function eu(d,g){if(!d||gs)return"";gs=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(g){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(De){var Ee=De}Reflect.construct(d,[],ze)}else{try{ze.call()}catch(De){Ee=De}d.call(ze.prototype)}}else{try{throw Error()}catch(De){Ee=De}(ze=d())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(De){if(De&&Ee&&typeof De.stack=="string")return[De.stack,Ee.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),z=L[0],K=L[1];if(z&&K){var fe=z.split(`
`),we=K.split(`
`);for(R=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;R<we.length&&!we[R].includes("DetermineComponentFrameRoot");)R++;if(S===fe.length||R===we.length)for(S=fe.length-1,R=we.length-1;1<=S&&0<=R&&fe[S]!==we[R];)R--;for(;1<=S&&0<=R;S--,R--)if(fe[S]!==we[R]){if(S!==1||R!==1)do if(S--,R--,0>R||fe[S]!==we[R]){var Ne=`
`+fe[S].replace(" at new "," at ");return d.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",d.displayName)),Ne}while(1<=S&&0<=R);break}}}finally{gs=!1,Error.prepareStackTrace=_}return(_=d?d.displayName||d.name:"")?ja(_):""}function Wa(d){switch(d.tag){case 26:case 27:case 5:return ja(d.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 15:return eu(d.type,!1);case 11:return eu(d.type.render,!1);case 1:return eu(d.type,!0);case 31:return ja("Activity");default:return""}}function fg(d){try{var g="";do g+=Wa(d),d=d.return;while(d);return g}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function $a(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function By(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function xI(d){var g=By(d)?"checked":"value",_=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),S=""+d[g];if(!d.hasOwnProperty(g)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var R=_.get,L=_.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return R.call(this)},set:function(z){S=""+z,L.call(this,z)}}),Object.defineProperty(d,g,{enumerable:_.enumerable}),{getValue:function(){return S},setValue:function(z){S=""+z},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function hg(d){d._valueTracker||(d._valueTracker=xI(d))}function Vy(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var _=g.getValue(),S="";return d&&(S=By(d)?d.checked?"true":"false":d.value),d=S,d!==_?(g.setValue(d),!0):!1}function Sd(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var wI=/[\n"\\]/g;function ii(d){return d.replace(wI,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function Os(d,g,_,S,R,L,z,K){d.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?d.type=z:d.removeAttribute("type"),g!=null?z==="number"?(g===0&&d.value===""||d.value!=g)&&(d.value=""+$a(g)):d.value!==""+$a(g)&&(d.value=""+$a(g)):z!=="submit"&&z!=="reset"||d.removeAttribute("value"),g!=null?wf(d,z,$a(g)):_!=null?wf(d,z,$a(_)):S!=null&&d.removeAttribute("value"),R==null&&L!=null&&(d.defaultChecked=!!L),R!=null&&(d.checked=R&&typeof R!="function"&&typeof R!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?d.name=""+$a(K):d.removeAttribute("name")}function Td(d,g,_,S,R,L,z,K){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(d.type=L),g!=null||_!=null){if(!(L!=="submit"&&L!=="reset"||g!=null))return;_=_!=null?""+$a(_):"",g=g!=null?""+$a(g):_,K||g===d.value||(d.value=g),d.defaultValue=g}S=S??R,S=typeof S!="function"&&typeof S!="symbol"&&!!S,d.checked=K?d.checked:!!S,d.defaultChecked=!!S,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(d.name=z)}function wf(d,g,_){g==="number"&&Sd(d.ownerDocument)===d||d.defaultValue===""+_||(d.defaultValue=""+_)}function oc(d,g,_,S){if(d=d.options,g){g={};for(var R=0;R<_.length;R++)g["$"+_[R]]=!0;for(_=0;_<d.length;_++)R=g.hasOwnProperty("$"+d[_].value),d[_].selected!==R&&(d[_].selected=R),R&&S&&(d[_].defaultSelected=!0)}else{for(_=""+$a(_),g=null,R=0;R<d.length;R++){if(d[R].value===_){d[R].selected=!0,S&&(d[R].defaultSelected=!0);return}g!==null||d[R].disabled||(g=d[R])}g!==null&&(g.selected=!0)}}function qr(d,g,_){if(g!=null&&(g=""+$a(g),g!==d.value&&(d.value=g),_==null)){d.defaultValue!==g&&(d.defaultValue=g);return}d.defaultValue=_!=null?""+$a(_):""}function Ad(d,g,_,S){if(g==null){if(S!=null){if(_!=null)throw Error(n(92));if(j(S)){if(1<S.length)throw Error(n(93));S=S[0]}_=S}_==null&&(_=""),g=_}_=$a(g),d.defaultValue=_,S=d.textContent,S===_&&S!==""&&S!==null&&(d.value=S)}function uo(d,g){if(g){var _=d.firstChild;if(_&&_===d.lastChild&&_.nodeType===3){_.nodeValue=g;return}}d.textContent=g}var Ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wb(d,g,_){var S=g.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?S?d.setProperty(g,""):g==="float"?d.cssFloat="":d[g]="":S?d.setProperty(g,_):typeof _!="number"||_===0||Ed.has(g)?g==="float"?d.cssFloat=_:d[g]=(""+_).trim():d[g]=_+"px"}function zy(d,g,_){if(g!=null&&typeof g!="object")throw Error(n(62));if(d=d.style,_!=null){for(var S in _)!_.hasOwnProperty(S)||g!=null&&g.hasOwnProperty(S)||(S.indexOf("--")===0?d.setProperty(S,""):S==="float"?d.cssFloat="":d[S]="");for(var R in g)S=g[R],g.hasOwnProperty(R)&&_[R]!==S&&Wb(d,R,S)}else for(var L in g)g.hasOwnProperty(L)&&Wb(d,L,g[L])}function Uy(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dg(d){return SI.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var lc=null;function co(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var uc=null,cc=null;function Hy(d){var g=ue(d);if(g&&(d=g.stateNode)){var _=d[dn]||null;e:switch(d=g.stateNode,g.type){case"input":if(Os(d,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),g=_.name,_.type==="radio"&&g!=null){for(_=d;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+ii(""+g)+'"][type="radio"]'),g=0;g<_.length;g++){var S=_[g];if(S!==d&&S.form===d.form){var R=S[dn]||null;if(!R)throw Error(n(90));Os(S,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(g=0;g<_.length;g++)S=_[g],S.form===d.form&&Vy(S)}break e;case"textarea":qr(d,_.value,_.defaultValue);break e;case"select":g=_.value,g!=null&&oc(d,!!_.multiple,g,!1)}}}var tu=!1;function $b(d,g,_){if(tu)return d(g,_);tu=!0;try{var S=d(g);return S}finally{if(tu=!1,(uc!==null||cc!==null)&&(VS(),uc&&(g=uc,d=cc,cc=uc=null,Hy(g),d)))for(g=0;g<d.length;g++)Hy(d[g])}}function Cd(d,g){var _=d.stateNode;if(_===null)return null;var S=_[dn]||null;if(S===null)return null;_=S[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(d=d.type,S=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!S;break e;default:d=!1}if(d)return null;if(_&&typeof _!="function")throw Error(n(231,g,typeof _));return _}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=!1;if(ll)try{var Dd={};Object.defineProperty(Dd,"passive",{get:function(){fo=!0}}),window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{fo=!1}var ru=null,bf=null,fc=null;function Gy(){if(fc)return fc;var d,g=bf,_=g.length,S,R="value"in ru?ru.value:ru.textContent,L=R.length;for(d=0;d<_&&g[d]===R[d];d++);var z=_-d;for(S=1;S<=z&&g[_-S]===R[L-S];S++);return fc=R.slice(d,1<S?1-S:void 0)}function nu(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function iu(){return!0}function jy(){return!1}function Oi(d){function g(_,S,R,L,z){this._reactName=_,this._targetInst=R,this.type=S,this.nativeEvent=L,this.target=z,this.currentTarget=null;for(var K in d)d.hasOwnProperty(K)&&(_=d[K],this[K]=_?_(L):L[K]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?iu:jy,this.isPropagationStopped=jy,this}return c(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),g}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=Oi(Vr),Id=c({},Vr,{view:0,detail:0}),qb=Oi(Id),vg,gg,au,Rd=c({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==au&&(au&&d.type==="mousemove"?(vg=d.screenX-au.screenX,gg=d.screenY-au.screenY):gg=vg=0,au=d),vg)},movementY:function(d){return"movementY"in d?d.movementY:gg}}),ho=Oi(Rd),Yb=c({},Rd,{dataTransfer:0}),TI=Oi(Yb),kd=c({},Id,{relatedTarget:0}),mg=Oi(kd),Wy=c({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),yg=Oi(Wy),Xb=c({},Vr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),_g=Oi(Xb),AI=c({},Vr,{data:0}),$y=Oi(AI),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=Zb[d])?!!g[d]:!1}function Pd(){return qy}var Qb=c({},Id,{key:function(d){if(d.key){var g=Md[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=nu(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Kb[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(d){return d.type==="keypress"?nu(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?nu(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),xg=Oi(Qb),Jb=c({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=Oi(Jb),hc=c({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),eS=Oi(hc),tS=c({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rS=Oi(tS),nS=c({},Rd,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=Oi(nS),qa=c({},Vr,{newState:0,oldState:0}),iS=Oi(qa),aS=[9,13,27,32],su=ll&&"CompositionEvent"in window,E=null;ll&&"documentMode"in document&&(E=document.documentMode);var F=ll&&"TextEvent"in window&&!E,V=ll&&(!su||E&&8<E&&11>=E),te=" ",me=!1;function Re(d,g){switch(d){case"keyup":return aS.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qe(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var wr=!1;function _i(d,g){switch(d){case"compositionend":return Qe(g);case"keypress":return g.which!==32?null:(me=!0,te);case"textInput":return d=g.data,d===te&&me?null:d;default:return null}}function br(d,g){if(wr)return d==="compositionend"||!su&&Re(d,g)?(d=Gy(),fc=bf=ru=null,wr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return V&&g.locale!=="ko"?null:g.data;default:return null}}var Ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xi(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!Ni[d.type]:g==="textarea"}function dc(d,g,_,S){uc?cc?cc.push(S):cc=[S]:uc=S,g=WS(g,"onChange"),0<g.length&&(_=new pg("onChange","change",null,_,S),d.push({event:_,listeners:g}))}var Yi=null,ou=null;function Xy(d){sU(d,0)}function sS(d){var g=_e(d);if(Vy(g))return d}function C6(d,g){if(d==="change")return g}var D6=!1;if(ll){var EI;if(ll){var CI="oninput"in document;if(!CI){var I6=document.createElement("div");I6.setAttribute("oninput","return;"),CI=typeof I6.oninput=="function"}EI=CI}else EI=!1;D6=EI&&(!document.documentMode||9<document.documentMode)}function R6(){Yi&&(Yi.detachEvent("onpropertychange",k6),ou=Yi=null)}function k6(d){if(d.propertyName==="value"&&sS(ou)){var g=[];dc(g,ou,d,co(d)),$b(Xy,g)}}function Kde(d,g,_){d==="focusin"?(R6(),Yi=g,ou=_,Yi.attachEvent("onpropertychange",k6)):d==="focusout"&&R6()}function Zde(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return sS(ou)}function Qde(d,g){if(d==="click")return sS(g)}function Jde(d,g){if(d==="input"||d==="change")return sS(g)}function epe(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var Ns=typeof Object.is=="function"?Object.is:epe;function Ky(d,g){if(Ns(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var _=Object.keys(d),S=Object.keys(g);if(_.length!==S.length)return!1;for(S=0;S<_.length;S++){var R=_[S];if(!ne.call(g,R)||!Ns(d[R],g[R]))return!1}return!0}function M6(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function P6(d,g){var _=M6(d);d=0;for(var S;_;){if(_.nodeType===3){if(S=d+_.textContent.length,d<=g&&S>=g)return{node:_,offset:g-d};d=S}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=M6(_)}}function L6(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?L6(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function O6(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var g=Sd(d.document);g instanceof d.HTMLIFrameElement;){try{var _=typeof g.contentWindow.location.href=="string"}catch{_=!1}if(_)d=g.contentWindow;else break;g=Sd(d.document)}return g}function DI(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}var tpe=ll&&"documentMode"in document&&11>=document.documentMode,bg=null,II=null,Zy=null,RI=!1;function N6(d,g,_){var S=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;RI||bg==null||bg!==Sd(S)||(S=bg,"selectionStart"in S&&DI(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Zy&&Ky(Zy,S)||(Zy=S,S=WS(II,"onSelect"),0<S.length&&(g=new pg("onSelect","select",null,g,_),d.push({event:g,listeners:S}),g.target=bg)))}function Ld(d,g){var _={};return _[d.toLowerCase()]=g.toLowerCase(),_["Webkit"+d]="webkit"+g,_["Moz"+d]="moz"+g,_}var Sg={animationend:Ld("Animation","AnimationEnd"),animationiteration:Ld("Animation","AnimationIteration"),animationstart:Ld("Animation","AnimationStart"),transitionrun:Ld("Transition","TransitionRun"),transitionstart:Ld("Transition","TransitionStart"),transitioncancel:Ld("Transition","TransitionCancel"),transitionend:Ld("Transition","TransitionEnd")},kI={},F6={};ll&&(F6=document.createElement("div").style,"AnimationEvent"in window||(delete Sg.animationend.animation,delete Sg.animationiteration.animation,delete Sg.animationstart.animation),"TransitionEvent"in window||delete Sg.transitionend.transition);function Od(d){if(kI[d])return kI[d];if(!Sg[d])return d;var g=Sg[d],_;for(_ in g)if(g.hasOwnProperty(_)&&_ in F6)return kI[d]=g[_];return d}var B6=Od("animationend"),V6=Od("animationiteration"),z6=Od("animationstart"),rpe=Od("transitionrun"),npe=Od("transitionstart"),ipe=Od("transitioncancel"),U6=Od("transitionend"),H6=new Map,MI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");MI.push("scrollEnd");function ul(d,g){H6.set(d,g),Ge(g,[d])}var G6=new WeakMap;function po(d,g){if(typeof d=="object"&&d!==null){var _=G6.get(d);return _!==void 0?_:(g={value:d,source:g,stack:fg(g)},G6.set(d,g),g)}return{value:d,source:g,stack:fg(g)}}var vo=[],Tg=0,PI=0;function oS(){for(var d=Tg,g=PI=Tg=0;g<d;){var _=vo[g];vo[g++]=null;var S=vo[g];vo[g++]=null;var R=vo[g];vo[g++]=null;var L=vo[g];if(vo[g++]=null,S!==null&&R!==null){var z=S.pending;z===null?R.next=R:(R.next=z.next,z.next=R),S.pending=R}L!==0&&j6(_,R,L)}}function lS(d,g,_,S){vo[Tg++]=d,vo[Tg++]=g,vo[Tg++]=_,vo[Tg++]=S,PI|=S,d.lanes|=S,d=d.alternate,d!==null&&(d.lanes|=S)}function LI(d,g,_,S){return lS(d,g,_,S),uS(d)}function Ag(d,g){return lS(d,null,null,g),uS(d)}function j6(d,g,_){d.lanes|=_;var S=d.alternate;S!==null&&(S.lanes|=_);for(var R=!1,L=d.return;L!==null;)L.childLanes|=_,S=L.alternate,S!==null&&(S.childLanes|=_),L.tag===22&&(d=L.stateNode,d===null||d._visibility&1||(R=!0)),d=L,L=L.return;return d.tag===3?(L=d.stateNode,R&&g!==null&&(R=31-yr(_),d=L.hiddenUpdates,S=d[R],S===null?d[R]=[g]:S.push(g),g.lane=_|536870912),L):null}function uS(d){if(50<b1)throw b1=0,zR=null,Error(n(185));for(var g=d.return;g!==null;)d=g,g=d.return;return d.tag===3?d.stateNode:null}var Eg={};function ape(d,g,_,S){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(d,g,_,S){return new ape(d,g,_,S)}function OI(d){return d=d.prototype,!(!d||!d.isReactComponent)}function pc(d,g){var _=d.alternate;return _===null?(_=Fs(d.tag,g,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=g,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&65011712,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,g=d.dependencies,_.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_.refCleanup=d.refCleanup,_}function W6(d,g){d.flags&=65011714;var _=d.alternate;return _===null?(d.childLanes=0,d.lanes=g,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=_.childLanes,d.lanes=_.lanes,d.child=_.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=_.memoizedProps,d.memoizedState=_.memoizedState,d.updateQueue=_.updateQueue,d.type=_.type,g=_.dependencies,d.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),d}function cS(d,g,_,S,R,L){var z=0;if(S=d,typeof d=="function")OI(d)&&(z=1);else if(typeof d=="string")z=ove(d,_,J.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case I:return d=Fs(31,_,g,R),d.elementType=I,d.lanes=L,d;case v:return Nd(_.children,R,L,g);case m:z=8,R|=24;break;case y:return d=Fs(12,_,g,R|2),d.elementType=y,d.lanes=L,d;case C:return d=Fs(13,_,g,R),d.elementType=C,d.lanes=L,d;case D:return d=Fs(19,_,g,R),d.elementType=D,d.lanes=L,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case x:case b:z=10;break e;case w:z=9;break e;case T:z=11;break e;case A:z=14;break e;case k:z=16,S=null;break e}z=29,_=Error(n(130,d===null?"null":typeof d,"")),S=null}return g=Fs(z,_,g,R),g.elementType=d,g.type=S,g.lanes=L,g}function Nd(d,g,_,S){return d=Fs(7,d,S,g),d.lanes=_,d}function NI(d,g,_){return d=Fs(6,d,null,g),d.lanes=_,d}function FI(d,g,_){return g=Fs(4,d.children!==null?d.children:[],d.key,g),g.lanes=_,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}var Cg=[],Dg=0,fS=null,hS=0,go=[],mo=0,Fd=null,vc=1,gc="";function Bd(d,g){Cg[Dg++]=hS,Cg[Dg++]=fS,fS=d,hS=g}function $6(d,g,_){go[mo++]=vc,go[mo++]=gc,go[mo++]=Fd,Fd=d;var S=vc;d=gc;var R=32-yr(S)-1;S&=~(1<<R),_+=1;var L=32-yr(g)+R;if(30<L){var z=R-R%5;L=(S&(1<<z)-1).toString(32),S>>=z,R-=z,vc=1<<32-yr(g)+R|_<<R|S,gc=L+d}else vc=1<<L|_<<R|S,gc=d}function BI(d){d.return!==null&&(Bd(d,1),$6(d,1,0))}function VI(d){for(;d===fS;)fS=Cg[--Dg],Cg[Dg]=null,hS=Cg[--Dg],Cg[Dg]=null;for(;d===Fd;)Fd=go[--mo],go[mo]=null,gc=go[--mo],go[mo]=null,vc=go[--mo],go[mo]=null}var Ya=null,Dn=null,Nr=!1,Vd=null,lu=!1,zI=Error(n(519));function zd(d){var g=Error(n(418,""));throw e1(po(g,d)),zI}function q6(d){var g=d.stateNode,_=d.type,S=d.memoizedProps;switch(g[Un]=d,g[dn]=S,_){case"dialog":ur("cancel",g),ur("close",g);break;case"iframe":case"object":case"embed":ur("load",g);break;case"video":case"audio":for(_=0;_<T1.length;_++)ur(T1[_],g);break;case"source":ur("error",g);break;case"img":case"image":case"link":ur("error",g),ur("load",g);break;case"details":ur("toggle",g);break;case"input":ur("invalid",g),Td(g,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),hg(g);break;case"select":ur("invalid",g);break;case"textarea":ur("invalid",g),Ad(g,S.value,S.defaultValue,S.children),hg(g)}_=S.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||g.textContent===""+_||S.suppressHydrationWarning===!0||cU(g.textContent,_)?(S.popover!=null&&(ur("beforetoggle",g),ur("toggle",g)),S.onScroll!=null&&ur("scroll",g),S.onScrollEnd!=null&&ur("scrollend",g),S.onClick!=null&&(g.onclick=$S),g=!0):g=!1,g||zd(d)}function Y6(d){for(Ya=d.return;Ya;)switch(Ya.tag){case 5:case 13:lu=!1;return;case 27:case 3:lu=!0;return;default:Ya=Ya.return}}function Qy(d){if(d!==Ya)return!1;if(!Nr)return Y6(d),Nr=!0,!1;var g=d.tag,_;if((_=g!==3&&g!==27)&&((_=g===5)&&(_=d.type,_=!(_!=="form"&&_!=="button")||rk(d.type,d.memoizedProps)),_=!_),_&&Dn&&zd(d),Y6(d),g===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8)if(_=d.data,_==="/$"){if(g===0){Dn=fl(d.nextSibling);break e}g--}else _!=="$"&&_!=="$!"&&_!=="$?"||g++;d=d.nextSibling}Dn=null}}else g===27?(g=Dn,Bf(d.type)?(d=sk,sk=null,Dn=d):Dn=g):Dn=Ya?fl(d.stateNode.nextSibling):null;return!0}function Jy(){Dn=Ya=null,Nr=!1}function X6(){var d=Vd;return d!==null&&(_s===null?_s=d:_s.push.apply(_s,d),Vd=null),d}function e1(d){Vd===null?Vd=[d]:Vd.push(d)}var UI=Q(null),Ud=null,mc=null;function Sf(d,g,_){ee(UI,g._currentValue),g._currentValue=_}function yc(d){d._currentValue=UI.current,H(UI)}function HI(d,g,_){for(;d!==null;){var S=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,S!==null&&(S.childLanes|=g)):S!==null&&(S.childLanes&g)!==g&&(S.childLanes|=g),d===_)break;d=d.return}}function GI(d,g,_,S){var R=d.child;for(R!==null&&(R.return=d);R!==null;){var L=R.dependencies;if(L!==null){var z=R.child;L=L.firstContext;e:for(;L!==null;){var K=L;L=R;for(var fe=0;fe<g.length;fe++)if(K.context===g[fe]){L.lanes|=_,K=L.alternate,K!==null&&(K.lanes|=_),HI(L.return,_,d),S||(z=null);break e}L=K.next}}else if(R.tag===18){if(z=R.return,z===null)throw Error(n(341));z.lanes|=_,L=z.alternate,L!==null&&(L.lanes|=_),HI(z,_,d),z=null}else z=R.child;if(z!==null)z.return=R;else for(z=R;z!==null;){if(z===d){z=null;break}if(R=z.sibling,R!==null){R.return=z.return,z=R;break}z=z.return}R=z}}function t1(d,g,_,S){d=null;for(var R=g,L=!1;R!==null;){if(!L){if((R.flags&524288)!==0)L=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var z=R.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var K=R.type;Ns(R.pendingProps.value,z.value)||(d!==null?d.push(K):d=[K])}}else if(R===Me.current){if(z=R.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(d!==null?d.push(R1):d=[R1])}R=R.return}d!==null&&GI(g,d,_,S),g.flags|=262144}function dS(d){for(d=d.firstContext;d!==null;){if(!Ns(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Hd(d){Ud=d,mc=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function va(d){return K6(Ud,d)}function pS(d,g){return Ud===null&&Hd(d),K6(d,g)}function K6(d,g){var _=g._currentValue;if(g={context:g,memoizedValue:_,next:null},mc===null){if(d===null)throw Error(n(308));mc=g,d.dependencies={lanes:0,firstContext:g},d.flags|=524288}else mc=mc.next=g;return _}var spe=typeof AbortController<"u"?AbortController:function(){var d=[],g=this.signal={aborted:!1,addEventListener:function(_,S){d.push(S)}};this.abort=function(){g.aborted=!0,d.forEach(function(_){return _()})}},ope=r.unstable_scheduleCallback,lpe=r.unstable_NormalPriority,wi={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jI(){return{controller:new spe,data:new Map,refCount:0}}function r1(d){d.refCount--,d.refCount===0&&ope(lpe,function(){d.controller.abort()})}var n1=null,WI=0,Ig=0,Rg=null;function upe(d,g){if(n1===null){var _=n1=[];WI=0,Ig=qR(),Rg={status:"pending",value:void 0,then:function(S){_.push(S)}}}return WI++,g.then(Z6,Z6),g}function Z6(){if(--WI===0&&n1!==null){Rg!==null&&(Rg.status="fulfilled");var d=n1;n1=null,Ig=0,Rg=null;for(var g=0;g<d.length;g++)(0,d[g])()}}function cpe(d,g){var _=[],S={status:"pending",value:null,reason:null,then:function(R){_.push(R)}};return d.then(function(){S.status="fulfilled",S.value=g;for(var R=0;R<_.length;R++)(0,_[R])(g)},function(R){for(S.status="rejected",S.reason=R,R=0;R<_.length;R++)(0,_[R])(void 0)}),S}var Q6=U.S;U.S=function(d,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&upe(d,g),Q6!==null&&Q6(d,g)};var Gd=Q(null);function $I(){var d=Gd.current;return d!==null?d:rn.pooledCache}function vS(d,g){g===null?ee(Gd,Gd.current):ee(Gd,g.pool)}function J6(){var d=$I();return d===null?null:{parent:wi._currentValue,pool:d}}var i1=Error(n(460)),ez=Error(n(474)),gS=Error(n(542)),qI={then:function(){}};function tz(d){return d=d.status,d==="fulfilled"||d==="rejected"}function mS(){}function rz(d,g,_){switch(_=d[_],_===void 0?d.push(g):_!==g&&(g.then(mS,mS),g=_),g.status){case"fulfilled":return g.value;case"rejected":throw d=g.reason,iz(d),d;default:if(typeof g.status=="string")g.then(mS,mS);else{if(d=rn,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=g,d.status="pending",d.then(function(S){if(g.status==="pending"){var R=g;R.status="fulfilled",R.value=S}},function(S){if(g.status==="pending"){var R=g;R.status="rejected",R.reason=S}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw d=g.reason,iz(d),d}throw a1=g,i1}}var a1=null;function nz(){if(a1===null)throw Error(n(459));var d=a1;return a1=null,d}function iz(d){if(d===i1||d===gS)throw Error(n(483))}var Tf=!1;function YI(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function XI(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Af(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Ef(d,g,_){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,(Gr&2)!==0){var R=S.pending;return R===null?g.next=g:(g.next=R.next,R.next=g),S.pending=g,g=uS(d),j6(d,null,_),g}return lS(d,S,g,_),uS(d)}function s1(d,g,_){if(g=g.updateQueue,g!==null&&(g=g.shared,(_&4194048)!==0)){var S=g.lanes;S&=d.pendingLanes,_|=S,g.lanes=_,wd(d,_)}}function KI(d,g){var _=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,_===S)){var R=null,L=null;if(_=_.firstBaseUpdate,_!==null){do{var z={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};L===null?R=L=z:L=L.next=z,_=_.next}while(_!==null);L===null?R=L=g:L=L.next=g}else R=L=g;_={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=g:d.next=g,_.lastBaseUpdate=g}var ZI=!1;function o1(){if(ZI){var d=Rg;if(d!==null)throw d}}function l1(d,g,_,S){ZI=!1;var R=d.updateQueue;Tf=!1;var L=R.firstBaseUpdate,z=R.lastBaseUpdate,K=R.shared.pending;if(K!==null){R.shared.pending=null;var fe=K,we=fe.next;fe.next=null,z===null?L=we:z.next=we,z=fe;var Ne=d.alternate;Ne!==null&&(Ne=Ne.updateQueue,K=Ne.lastBaseUpdate,K!==z&&(K===null?Ne.firstBaseUpdate=we:K.next=we,Ne.lastBaseUpdate=fe))}if(L!==null){var ze=R.baseState;z=0,Ne=we=fe=null,K=L;do{var Ee=K.lane&-536870913,De=Ee!==K.lane;if(De?(Sr&Ee)===Ee:(S&Ee)===Ee){Ee!==0&&Ee===Ig&&(ZI=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Bt=d,Rt=K;Ee=g;var Kr=_;switch(Rt.tag){case 1:if(Bt=Rt.payload,typeof Bt=="function"){ze=Bt.call(Kr,ze,Ee);break e}ze=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Rt.payload,Ee=typeof Bt=="function"?Bt.call(Kr,ze,Ee):Bt,Ee==null)break e;ze=c({},ze,Ee);break e;case 2:Tf=!0}}Ee=K.callback,Ee!==null&&(d.flags|=64,De&&(d.flags|=8192),De=R.callbacks,De===null?R.callbacks=[Ee]:De.push(Ee))}else De={lane:Ee,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ne===null?(we=Ne=De,fe=ze):Ne=Ne.next=De,z|=Ee;if(K=K.next,K===null){if(K=R.shared.pending,K===null)break;De=K,K=De.next,De.next=null,R.lastBaseUpdate=De,R.shared.pending=null}}while(!0);Ne===null&&(fe=ze),R.baseState=fe,R.firstBaseUpdate=we,R.lastBaseUpdate=Ne,L===null&&(R.shared.lanes=0),Lf|=z,d.lanes=z,d.memoizedState=ze}}function az(d,g){if(typeof d!="function")throw Error(n(191,d));d.call(g)}function sz(d,g){var _=d.callbacks;if(_!==null)for(d.callbacks=null,d=0;d<_.length;d++)az(_[d],g)}var kg=Q(null),yS=Q(0);function oz(d,g){d=Ac,ee(yS,d),ee(kg,g),Ac=d|g.baseLanes}function QI(){ee(yS,Ac),ee(kg,kg.current)}function JI(){Ac=yS.current,H(kg),H(yS)}var Cf=0,nr=null,Yr=null,ai=null,_S=!1,Mg=!1,jd=!1,xS=0,u1=0,Pg=null,fpe=0;function Hn(){throw Error(n(321))}function eR(d,g){if(g===null)return!1;for(var _=0;_<g.length&&_<d.length;_++)if(!Ns(d[_],g[_]))return!1;return!0}function tR(d,g,_,S,R,L){return Cf=L,nr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,U.H=d===null||d.memoizedState===null?jz:Wz,jd=!1,L=_(S,R),jd=!1,Mg&&(L=uz(g,_,S,R)),lz(d),L}function lz(d){U.H=ES;var g=Yr!==null&&Yr.next!==null;if(Cf=0,ai=Yr=nr=null,_S=!1,u1=0,Pg=null,g)throw Error(n(300));d===null||Fi||(d=d.dependencies,d!==null&&dS(d)&&(Fi=!0))}function uz(d,g,_,S){nr=d;var R=0;do{if(Mg&&(Pg=null),u1=0,Mg=!1,25<=R)throw Error(n(301));if(R+=1,ai=Yr=null,d.updateQueue!=null){var L=d.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}U.H=ype,L=g(_,S)}while(Mg);return L}function hpe(){var d=U.H,g=d.useState()[0];return g=typeof g.then=="function"?c1(g):g,d=d.useState()[0],(Yr!==null?Yr.memoizedState:null)!==d&&(nr.flags|=1024),g}function rR(){var d=xS!==0;return xS=0,d}function nR(d,g,_){g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~_}function iR(d){if(_S){for(d=d.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}_S=!1}Cf=0,ai=Yr=nr=null,Mg=!1,u1=xS=0,Pg=null}function ms(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?nr.memoizedState=ai=d:ai=ai.next=d,ai}function si(){if(Yr===null){var d=nr.alternate;d=d!==null?d.memoizedState:null}else d=Yr.next;var g=ai===null?nr.memoizedState:ai.next;if(g!==null)ai=g,Yr=d;else{if(d===null)throw nr.alternate===null?Error(n(467)):Error(n(310));Yr=d,d={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},ai===null?nr.memoizedState=ai=d:ai=ai.next=d}return ai}function aR(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function c1(d){var g=u1;return u1+=1,Pg===null&&(Pg=[]),d=rz(Pg,d,g),g=nr,(ai===null?g.memoizedState:ai.next)===null&&(g=g.alternate,U.H=g===null||g.memoizedState===null?jz:Wz),d}function wS(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return c1(d);if(d.$$typeof===b)return va(d)}throw Error(n(438,String(d)))}function sR(d){var g=null,_=nr.updateQueue;if(_!==null&&(g=_.memoCache),g==null){var S=nr.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(g={data:S.data.map(function(R){return R.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),_===null&&(_=aR(),nr.updateQueue=_),_.memoCache=g,_=g.data[g.index],_===void 0)for(_=g.data[g.index]=Array(d),S=0;S<d;S++)_[S]=M;return g.index++,_}function _c(d,g){return typeof g=="function"?g(d):g}function bS(d){var g=si();return oR(g,Yr,d)}function oR(d,g,_){var S=d.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=_;var R=d.baseQueue,L=S.pending;if(L!==null){if(R!==null){var z=R.next;R.next=L.next,L.next=z}g.baseQueue=R=L,S.pending=null}if(L=d.baseState,R===null)d.memoizedState=L;else{g=R.next;var K=z=null,fe=null,we=g,Ne=!1;do{var ze=we.lane&-536870913;if(ze!==we.lane?(Sr&ze)===ze:(Cf&ze)===ze){var Ee=we.revertLane;if(Ee===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),ze===Ig&&(Ne=!0);else if((Cf&Ee)===Ee){we=we.next,Ee===Ig&&(Ne=!0);continue}else ze={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},fe===null?(K=fe=ze,z=L):fe=fe.next=ze,nr.lanes|=Ee,Lf|=Ee;ze=we.action,jd&&_(L,ze),L=we.hasEagerState?we.eagerState:_(L,ze)}else Ee={lane:ze,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},fe===null?(K=fe=Ee,z=L):fe=fe.next=Ee,nr.lanes|=ze,Lf|=ze;we=we.next}while(we!==null&&we!==g);if(fe===null?z=L:fe.next=K,!Ns(L,d.memoizedState)&&(Fi=!0,Ne&&(_=Rg,_!==null)))throw _;d.memoizedState=L,d.baseState=z,d.baseQueue=fe,S.lastRenderedState=L}return R===null&&(S.lanes=0),[d.memoizedState,S.dispatch]}function lR(d){var g=si(),_=g.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=d;var S=_.dispatch,R=_.pending,L=g.memoizedState;if(R!==null){_.pending=null;var z=R=R.next;do L=d(L,z.action),z=z.next;while(z!==R);Ns(L,g.memoizedState)||(Fi=!0),g.memoizedState=L,g.baseQueue===null&&(g.baseState=L),_.lastRenderedState=L}return[L,S]}function cz(d,g,_){var S=nr,R=si(),L=Nr;if(L){if(_===void 0)throw Error(n(407));_=_()}else _=g();var z=!Ns((Yr||R).memoizedState,_);z&&(R.memoizedState=_,Fi=!0),R=R.queue;var K=dz.bind(null,S,R,d);if(f1(2048,8,K,[d]),R.getSnapshot!==g||z||ai!==null&&ai.memoizedState.tag&1){if(S.flags|=2048,Lg(9,SS(),hz.bind(null,S,R,_,g),null),rn===null)throw Error(n(349));L||(Cf&124)!==0||fz(S,g,_)}return _}function fz(d,g,_){d.flags|=16384,d={getSnapshot:g,value:_},g=nr.updateQueue,g===null?(g=aR(),nr.updateQueue=g,g.stores=[d]):(_=g.stores,_===null?g.stores=[d]:_.push(d))}function hz(d,g,_,S){g.value=_,g.getSnapshot=S,pz(g)&&vz(d)}function dz(d,g,_){return _(function(){pz(g)&&vz(d)})}function pz(d){var g=d.getSnapshot;d=d.value;try{var _=g();return!Ns(d,_)}catch{return!0}}function vz(d){var g=Ag(d,2);g!==null&&Hs(g,d,2)}function uR(d){var g=ms();if(typeof d=="function"){var _=d;if(d=_(),jd){ir(!0);try{_()}finally{ir(!1)}}}return g.memoizedState=g.baseState=d,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:d},g}function gz(d,g,_,S){return d.baseState=_,oR(d,Yr,typeof S=="function"?S:_c)}function dpe(d,g,_,S,R){if(AS(d))throw Error(n(485));if(d=g.action,d!==null){var L={payload:R,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){L.listeners.push(z)}};U.T!==null?_(!0):L.isTransition=!1,S(L),_=g.pending,_===null?(L.next=g.pending=L,mz(g,L)):(L.next=_.next,g.pending=_.next=L)}}function mz(d,g){var _=g.action,S=g.payload,R=d.state;if(g.isTransition){var L=U.T,z={};U.T=z;try{var K=_(R,S),fe=U.S;fe!==null&&fe(z,K),yz(d,g,K)}catch(we){cR(d,g,we)}finally{U.T=L}}else try{L=_(R,S),yz(d,g,L)}catch(we){cR(d,g,we)}}function yz(d,g,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(S){_z(d,g,S)},function(S){return cR(d,g,S)}):_z(d,g,_)}function _z(d,g,_){g.status="fulfilled",g.value=_,xz(g),d.state=_,g=d.pending,g!==null&&(_=g.next,_===g?d.pending=null:(_=_.next,g.next=_,mz(d,_)))}function cR(d,g,_){var S=d.pending;if(d.pending=null,S!==null){S=S.next;do g.status="rejected",g.reason=_,xz(g),g=g.next;while(g!==S)}d.action=null}function xz(d){d=d.listeners;for(var g=0;g<d.length;g++)(0,d[g])()}function wz(d,g){return g}function bz(d,g){if(Nr){var _=rn.formState;if(_!==null){e:{var S=nr;if(Nr){if(Dn){t:{for(var R=Dn,L=lu;R.nodeType!==8;){if(!L){R=null;break t}if(R=fl(R.nextSibling),R===null){R=null;break t}}L=R.data,R=L==="F!"||L==="F"?R:null}if(R){Dn=fl(R.nextSibling),S=R.data==="F!";break e}}zd(S)}S=!1}S&&(g=_[0])}}return _=ms(),_.memoizedState=_.baseState=g,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wz,lastRenderedState:g},_.queue=S,_=Uz.bind(null,nr,S),S.dispatch=_,S=uR(!1),L=vR.bind(null,nr,!1,S.queue),S=ms(),R={state:g,dispatch:null,action:d,pending:null},S.queue=R,_=dpe.bind(null,nr,R,L,_),R.dispatch=_,S.memoizedState=d,[g,_,!1]}function Sz(d){var g=si();return Tz(g,Yr,d)}function Tz(d,g,_){if(g=oR(d,g,wz)[0],d=bS(_c)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var S=c1(g)}catch(z){throw z===i1?gS:z}else S=g;g=si();var R=g.queue,L=R.dispatch;return _!==g.memoizedState&&(nr.flags|=2048,Lg(9,SS(),ppe.bind(null,R,_),null)),[S,L,d]}function ppe(d,g){d.action=g}function Az(d){var g=si(),_=Yr;if(_!==null)return Tz(g,_,d);si(),g=g.memoizedState,_=si();var S=_.queue.dispatch;return _.memoizedState=d,[g,S,!1]}function Lg(d,g,_,S){return d={tag:d,create:_,deps:S,inst:g,next:null},g=nr.updateQueue,g===null&&(g=aR(),nr.updateQueue=g),_=g.lastEffect,_===null?g.lastEffect=d.next=d:(S=_.next,_.next=d,d.next=S,g.lastEffect=d),d}function SS(){return{destroy:void 0,resource:void 0}}function Ez(){return si().memoizedState}function TS(d,g,_,S){var R=ms();S=S===void 0?null:S,nr.flags|=d,R.memoizedState=Lg(1|g,SS(),_,S)}function f1(d,g,_,S){var R=si();S=S===void 0?null:S;var L=R.memoizedState.inst;Yr!==null&&S!==null&&eR(S,Yr.memoizedState.deps)?R.memoizedState=Lg(g,L,_,S):(nr.flags|=d,R.memoizedState=Lg(1|g,L,_,S))}function Cz(d,g){TS(8390656,8,d,g)}function Dz(d,g){f1(2048,8,d,g)}function Iz(d,g){return f1(4,2,d,g)}function Rz(d,g){return f1(4,4,d,g)}function kz(d,g){if(typeof g=="function"){d=d();var _=g(d);return function(){typeof _=="function"?_():g(null)}}if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function Mz(d,g,_){_=_!=null?_.concat([d]):null,f1(4,4,kz.bind(null,g,d),_)}function fR(){}function Pz(d,g){var _=si();g=g===void 0?null:g;var S=_.memoizedState;return g!==null&&eR(g,S[1])?S[0]:(_.memoizedState=[d,g],d)}function Lz(d,g){var _=si();g=g===void 0?null:g;var S=_.memoizedState;if(g!==null&&eR(g,S[1]))return S[0];if(S=d(),jd){ir(!0);try{d()}finally{ir(!1)}}return _.memoizedState=[S,g],S}function hR(d,g,_){return _===void 0||(Cf&1073741824)!==0?d.memoizedState=g:(d.memoizedState=_,d=F8(),nr.lanes|=d,Lf|=d,_)}function Oz(d,g,_,S){return Ns(_,g)?_:kg.current!==null?(d=hR(d,_,S),Ns(d,g)||(Fi=!0),d):(Cf&42)===0?(Fi=!0,d.memoizedState=_):(d=F8(),nr.lanes|=d,Lf|=d,g)}function Nz(d,g,_,S,R){var L=X.p;X.p=L!==0&&8>L?L:8;var z=U.T,K={};U.T=K,vR(d,!1,g,_);try{var fe=R(),we=U.S;if(we!==null&&we(K,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ne=cpe(fe,S);h1(d,g,Ne,Us(d))}else h1(d,g,S,Us(d))}catch(ze){h1(d,g,{then:function(){},status:"rejected",reason:ze},Us())}finally{X.p=L,U.T=z}}function vpe(){}function dR(d,g,_,S){if(d.tag!==5)throw Error(n(476));var R=Fz(d).queue;Nz(d,R,g,ie,_===null?vpe:function(){return Bz(d),_(S)})}function Fz(d){var g=d.memoizedState;if(g!==null)return g;g={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:ie},next:null};var _={};return g.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:_},next:null},d.memoizedState=g,d=d.alternate,d!==null&&(d.memoizedState=g),g}function Bz(d){var g=Fz(d).next.queue;h1(d,g,{},Us())}function pR(){return va(R1)}function Vz(){return si().memoizedState}function zz(){return si().memoizedState}function gpe(d){for(var g=d.return;g!==null;){switch(g.tag){case 24:case 3:var _=Us();d=Af(_);var S=Ef(g,d,_);S!==null&&(Hs(S,g,_),s1(S,g,_)),g={cache:jI()},d.payload=g;return}g=g.return}}function mpe(d,g,_){var S=Us();_={lane:S,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},AS(d)?Hz(g,_):(_=LI(d,g,_,S),_!==null&&(Hs(_,d,S),Gz(_,g,S)))}function Uz(d,g,_){var S=Us();h1(d,g,_,S)}function h1(d,g,_,S){var R={lane:S,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(AS(d))Hz(g,R);else{var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=g.lastRenderedReducer,L!==null))try{var z=g.lastRenderedState,K=L(z,_);if(R.hasEagerState=!0,R.eagerState=K,Ns(K,z))return lS(d,g,R,0),rn===null&&oS(),!1}catch{}finally{}if(_=LI(d,g,R,S),_!==null)return Hs(_,d,S),Gz(_,g,S),!0}return!1}function vR(d,g,_,S){if(S={lane:2,revertLane:qR(),action:S,hasEagerState:!1,eagerState:null,next:null},AS(d)){if(g)throw Error(n(479))}else g=LI(d,_,S,2),g!==null&&Hs(g,d,2)}function AS(d){var g=d.alternate;return d===nr||g!==null&&g===nr}function Hz(d,g){Mg=_S=!0;var _=d.pending;_===null?g.next=g:(g.next=_.next,_.next=g),d.pending=g}function Gz(d,g,_){if((_&4194048)!==0){var S=g.lanes;S&=d.pendingLanes,_|=S,g.lanes=_,wd(d,_)}}var ES={readContext:va,use:wS,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn},jz={readContext:va,use:wS,useCallback:function(d,g){return ms().memoizedState=[d,g===void 0?null:g],d},useContext:va,useEffect:Cz,useImperativeHandle:function(d,g,_){_=_!=null?_.concat([d]):null,TS(4194308,4,kz.bind(null,g,d),_)},useLayoutEffect:function(d,g){return TS(4194308,4,d,g)},useInsertionEffect:function(d,g){TS(4,2,d,g)},useMemo:function(d,g){var _=ms();g=g===void 0?null:g;var S=d();if(jd){ir(!0);try{d()}finally{ir(!1)}}return _.memoizedState=[S,g],S},useReducer:function(d,g,_){var S=ms();if(_!==void 0){var R=_(g);if(jd){ir(!0);try{_(g)}finally{ir(!1)}}}else R=g;return S.memoizedState=S.baseState=R,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:R},S.queue=d,d=d.dispatch=mpe.bind(null,nr,d),[S.memoizedState,d]},useRef:function(d){var g=ms();return d={current:d},g.memoizedState=d},useState:function(d){d=uR(d);var g=d.queue,_=Uz.bind(null,nr,g);return g.dispatch=_,[d.memoizedState,_]},useDebugValue:fR,useDeferredValue:function(d,g){var _=ms();return hR(_,d,g)},useTransition:function(){var d=uR(!1);return d=Nz.bind(null,nr,d.queue,!0,!1),ms().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,g,_){var S=nr,R=ms();if(Nr){if(_===void 0)throw Error(n(407));_=_()}else{if(_=g(),rn===null)throw Error(n(349));(Sr&124)!==0||fz(S,g,_)}R.memoizedState=_;var L={value:_,getSnapshot:g};return R.queue=L,Cz(dz.bind(null,S,L,d),[d]),S.flags|=2048,Lg(9,SS(),hz.bind(null,S,L,_,g),null),_},useId:function(){var d=ms(),g=rn.identifierPrefix;if(Nr){var _=gc,S=vc;_=(S&~(1<<32-yr(S)-1)).toString(32)+_,g=""+g+"R"+_,_=xS++,0<_&&(g+="H"+_.toString(32)),g+=""}else _=fpe++,g=""+g+"r"+_.toString(32)+"";return d.memoizedState=g},useHostTransitionStatus:pR,useFormState:bz,useActionState:bz,useOptimistic:function(d){var g=ms();g.memoizedState=g.baseState=d;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=_,g=vR.bind(null,nr,!0,_),_.dispatch=g,[d,g]},useMemoCache:sR,useCacheRefresh:function(){return ms().memoizedState=gpe.bind(null,nr)}},Wz={readContext:va,use:wS,useCallback:Pz,useContext:va,useEffect:Dz,useImperativeHandle:Mz,useInsertionEffect:Iz,useLayoutEffect:Rz,useMemo:Lz,useReducer:bS,useRef:Ez,useState:function(){return bS(_c)},useDebugValue:fR,useDeferredValue:function(d,g){var _=si();return Oz(_,Yr.memoizedState,d,g)},useTransition:function(){var d=bS(_c)[0],g=si().memoizedState;return[typeof d=="boolean"?d:c1(d),g]},useSyncExternalStore:cz,useId:Vz,useHostTransitionStatus:pR,useFormState:Sz,useActionState:Sz,useOptimistic:function(d,g){var _=si();return gz(_,Yr,d,g)},useMemoCache:sR,useCacheRefresh:zz},ype={readContext:va,use:wS,useCallback:Pz,useContext:va,useEffect:Dz,useImperativeHandle:Mz,useInsertionEffect:Iz,useLayoutEffect:Rz,useMemo:Lz,useReducer:lR,useRef:Ez,useState:function(){return lR(_c)},useDebugValue:fR,useDeferredValue:function(d,g){var _=si();return Yr===null?hR(_,d,g):Oz(_,Yr.memoizedState,d,g)},useTransition:function(){var d=lR(_c)[0],g=si().memoizedState;return[typeof d=="boolean"?d:c1(d),g]},useSyncExternalStore:cz,useId:Vz,useHostTransitionStatus:pR,useFormState:Az,useActionState:Az,useOptimistic:function(d,g){var _=si();return Yr!==null?gz(_,Yr,d,g):(_.baseState=d,[d,_.queue.dispatch])},useMemoCache:sR,useCacheRefresh:zz},Og=null,d1=0;function CS(d){var g=d1;return d1+=1,Og===null&&(Og=[]),rz(Og,d,g)}function p1(d,g){g=g.props.ref,d.ref=g!==void 0?g:null}function DS(d,g){throw g.$$typeof===f?Error(n(525)):(d=Object.prototype.toString.call(g),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d)))}function $z(d){var g=d._init;return g(d._payload)}function qz(d){function g(pe,he){if(d){var ye=pe.deletions;ye===null?(pe.deletions=[he],pe.flags|=16):ye.push(he)}}function _(pe,he){if(!d)return null;for(;he!==null;)g(pe,he),he=he.sibling;return null}function S(pe){for(var he=new Map;pe!==null;)pe.key!==null?he.set(pe.key,pe):he.set(pe.index,pe),pe=pe.sibling;return he}function R(pe,he){return pe=pc(pe,he),pe.index=0,pe.sibling=null,pe}function L(pe,he,ye){return pe.index=ye,d?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<he?(pe.flags|=67108866,he):ye):(pe.flags|=67108866,he)):(pe.flags|=1048576,he)}function z(pe){return d&&pe.alternate===null&&(pe.flags|=67108866),pe}function K(pe,he,ye,Fe){return he===null||he.tag!==6?(he=NI(ye,pe.mode,Fe),he.return=pe,he):(he=R(he,ye),he.return=pe,he)}function fe(pe,he,ye,Fe){var ht=ye.type;return ht===v?Ne(pe,he,ye.props.children,Fe,ye.key):he!==null&&(he.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===k&&$z(ht)===he.type)?(he=R(he,ye.props),p1(he,ye),he.return=pe,he):(he=cS(ye.type,ye.key,ye.props,null,pe.mode,Fe),p1(he,ye),he.return=pe,he)}function we(pe,he,ye,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==ye.containerInfo||he.stateNode.implementation!==ye.implementation?(he=FI(ye,pe.mode,Fe),he.return=pe,he):(he=R(he,ye.children||[]),he.return=pe,he)}function Ne(pe,he,ye,Fe,ht){return he===null||he.tag!==7?(he=Nd(ye,pe.mode,Fe,ht),he.return=pe,he):(he=R(he,ye),he.return=pe,he)}function ze(pe,he,ye){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=NI(""+he,pe.mode,ye),he.return=pe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case h:return ye=cS(he.type,he.key,he.props,null,pe.mode,ye),p1(ye,he),ye.return=pe,ye;case p:return he=FI(he,pe.mode,ye),he.return=pe,he;case k:var Fe=he._init;return he=Fe(he._payload),ze(pe,he,ye)}if(j(he)||O(he))return he=Nd(he,pe.mode,ye,null),he.return=pe,he;if(typeof he.then=="function")return ze(pe,CS(he),ye);if(he.$$typeof===b)return ze(pe,pS(pe,he),ye);DS(pe,he)}return null}function Ee(pe,he,ye,Fe){var ht=he!==null?he.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ht!==null?null:K(pe,he,""+ye,Fe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case h:return ye.key===ht?fe(pe,he,ye,Fe):null;case p:return ye.key===ht?we(pe,he,ye,Fe):null;case k:return ht=ye._init,ye=ht(ye._payload),Ee(pe,he,ye,Fe)}if(j(ye)||O(ye))return ht!==null?null:Ne(pe,he,ye,Fe,null);if(typeof ye.then=="function")return Ee(pe,he,CS(ye),Fe);if(ye.$$typeof===b)return Ee(pe,he,pS(pe,ye),Fe);DS(pe,ye)}return null}function De(pe,he,ye,Fe,ht){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return pe=pe.get(ye)||null,K(he,pe,""+Fe,ht);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case h:return pe=pe.get(Fe.key===null?ye:Fe.key)||null,fe(he,pe,Fe,ht);case p:return pe=pe.get(Fe.key===null?ye:Fe.key)||null,we(he,pe,Fe,ht);case k:var ar=Fe._init;return Fe=ar(Fe._payload),De(pe,he,ye,Fe,ht)}if(j(Fe)||O(Fe))return pe=pe.get(ye)||null,Ne(he,pe,Fe,ht,null);if(typeof Fe.then=="function")return De(pe,he,ye,CS(Fe),ht);if(Fe.$$typeof===b)return De(pe,he,ye,pS(he,Fe),ht);DS(he,Fe)}return null}function Bt(pe,he,ye,Fe){for(var ht=null,ar=null,yt=he,Mt=he=0,Vi=null;yt!==null&&Mt<ye.length;Mt++){yt.index>Mt?(Vi=yt,yt=null):Vi=yt.sibling;var kr=Ee(pe,yt,ye[Mt],Fe);if(kr===null){yt===null&&(yt=Vi);break}d&&yt&&kr.alternate===null&&g(pe,yt),he=L(kr,he,Mt),ar===null?ht=kr:ar.sibling=kr,ar=kr,yt=Vi}if(Mt===ye.length)return _(pe,yt),Nr&&Bd(pe,Mt),ht;if(yt===null){for(;Mt<ye.length;Mt++)yt=ze(pe,ye[Mt],Fe),yt!==null&&(he=L(yt,he,Mt),ar===null?ht=yt:ar.sibling=yt,ar=yt);return Nr&&Bd(pe,Mt),ht}for(yt=S(yt);Mt<ye.length;Mt++)Vi=De(yt,pe,Mt,ye[Mt],Fe),Vi!==null&&(d&&Vi.alternate!==null&&yt.delete(Vi.key===null?Mt:Vi.key),he=L(Vi,he,Mt),ar===null?ht=Vi:ar.sibling=Vi,ar=Vi);return d&&yt.forEach(function(Gf){return g(pe,Gf)}),Nr&&Bd(pe,Mt),ht}function Rt(pe,he,ye,Fe){if(ye==null)throw Error(n(151));for(var ht=null,ar=null,yt=he,Mt=he=0,Vi=null,kr=ye.next();yt!==null&&!kr.done;Mt++,kr=ye.next()){yt.index>Mt?(Vi=yt,yt=null):Vi=yt.sibling;var Gf=Ee(pe,yt,kr.value,Fe);if(Gf===null){yt===null&&(yt=Vi);break}d&&yt&&Gf.alternate===null&&g(pe,yt),he=L(Gf,he,Mt),ar===null?ht=Gf:ar.sibling=Gf,ar=Gf,yt=Vi}if(kr.done)return _(pe,yt),Nr&&Bd(pe,Mt),ht;if(yt===null){for(;!kr.done;Mt++,kr=ye.next())kr=ze(pe,kr.value,Fe),kr!==null&&(he=L(kr,he,Mt),ar===null?ht=kr:ar.sibling=kr,ar=kr);return Nr&&Bd(pe,Mt),ht}for(yt=S(yt);!kr.done;Mt++,kr=ye.next())kr=De(yt,pe,Mt,kr.value,Fe),kr!==null&&(d&&kr.alternate!==null&&yt.delete(kr.key===null?Mt:kr.key),he=L(kr,he,Mt),ar===null?ht=kr:ar.sibling=kr,ar=kr);return d&&yt.forEach(function(_ve){return g(pe,_ve)}),Nr&&Bd(pe,Mt),ht}function Kr(pe,he,ye,Fe){if(typeof ye=="object"&&ye!==null&&ye.type===v&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case h:e:{for(var ht=ye.key;he!==null;){if(he.key===ht){if(ht=ye.type,ht===v){if(he.tag===7){_(pe,he.sibling),Fe=R(he,ye.props.children),Fe.return=pe,pe=Fe;break e}}else if(he.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===k&&$z(ht)===he.type){_(pe,he.sibling),Fe=R(he,ye.props),p1(Fe,ye),Fe.return=pe,pe=Fe;break e}_(pe,he);break}else g(pe,he);he=he.sibling}ye.type===v?(Fe=Nd(ye.props.children,pe.mode,Fe,ye.key),Fe.return=pe,pe=Fe):(Fe=cS(ye.type,ye.key,ye.props,null,pe.mode,Fe),p1(Fe,ye),Fe.return=pe,pe=Fe)}return z(pe);case p:e:{for(ht=ye.key;he!==null;){if(he.key===ht)if(he.tag===4&&he.stateNode.containerInfo===ye.containerInfo&&he.stateNode.implementation===ye.implementation){_(pe,he.sibling),Fe=R(he,ye.children||[]),Fe.return=pe,pe=Fe;break e}else{_(pe,he);break}else g(pe,he);he=he.sibling}Fe=FI(ye,pe.mode,Fe),Fe.return=pe,pe=Fe}return z(pe);case k:return ht=ye._init,ye=ht(ye._payload),Kr(pe,he,ye,Fe)}if(j(ye))return Bt(pe,he,ye,Fe);if(O(ye)){if(ht=O(ye),typeof ht!="function")throw Error(n(150));return ye=ht.call(ye),Rt(pe,he,ye,Fe)}if(typeof ye.then=="function")return Kr(pe,he,CS(ye),Fe);if(ye.$$typeof===b)return Kr(pe,he,pS(pe,ye),Fe);DS(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,he!==null&&he.tag===6?(_(pe,he.sibling),Fe=R(he,ye),Fe.return=pe,pe=Fe):(_(pe,he),Fe=NI(ye,pe.mode,Fe),Fe.return=pe,pe=Fe),z(pe)):_(pe,he)}return function(pe,he,ye,Fe){try{d1=0;var ht=Kr(pe,he,ye,Fe);return Og=null,ht}catch(yt){if(yt===i1||yt===gS)throw yt;var ar=Fs(29,yt,null,pe.mode);return ar.lanes=Fe,ar.return=pe,ar}finally{}}}var Ng=qz(!0),Yz=qz(!1),yo=Q(null),uu=null;function Df(d){var g=d.alternate;ee(bi,bi.current&1),ee(yo,d),uu===null&&(g===null||kg.current!==null||g.memoizedState!==null)&&(uu=d)}function Xz(d){if(d.tag===22){if(ee(bi,bi.current),ee(yo,d),uu===null){var g=d.alternate;g!==null&&g.memoizedState!==null&&(uu=d)}}else If()}function If(){ee(bi,bi.current),ee(yo,yo.current)}function xc(d){H(yo),uu===d&&(uu=null),H(bi)}var bi=Q(0);function IS(d){for(var g=d;g!==null;){if(g.tag===13){var _=g.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||ak(_)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function gR(d,g,_,S){g=d.memoizedState,_=_(S,g),_=_==null?g:c({},g,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var mR={enqueueSetState:function(d,g,_){d=d._reactInternals;var S=Us(),R=Af(S);R.payload=g,_!=null&&(R.callback=_),g=Ef(d,R,S),g!==null&&(Hs(g,d,S),s1(g,d,S))},enqueueReplaceState:function(d,g,_){d=d._reactInternals;var S=Us(),R=Af(S);R.tag=1,R.payload=g,_!=null&&(R.callback=_),g=Ef(d,R,S),g!==null&&(Hs(g,d,S),s1(g,d,S))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var _=Us(),S=Af(_);S.tag=2,g!=null&&(S.callback=g),g=Ef(d,S,_),g!==null&&(Hs(g,d,_),s1(g,d,_))}};function Kz(d,g,_,S,R,L,z){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,L,z):g.prototype&&g.prototype.isPureReactComponent?!Ky(_,S)||!Ky(R,L):!0}function Zz(d,g,_,S){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(_,S),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(_,S),g.state!==d&&mR.enqueueReplaceState(g,g.state,null)}function Wd(d,g){var _=g;if("ref"in g){_={};for(var S in g)S!=="ref"&&(_[S]=g[S])}if(d=d.defaultProps){_===g&&(_=c({},_));for(var R in d)_[R]===void 0&&(_[R]=d[R])}return _}var RS=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function Qz(d){RS(d)}function Jz(d){console.error(d)}function e8(d){RS(d)}function kS(d,g){try{var _=d.onUncaughtError;_(g.value,{componentStack:g.stack})}catch(S){setTimeout(function(){throw S})}}function t8(d,g,_){try{var S=d.onCaughtError;S(_.value,{componentStack:_.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function yR(d,g,_){return _=Af(_),_.tag=3,_.payload={element:null},_.callback=function(){kS(d,g)},_}function r8(d){return d=Af(d),d.tag=3,d}function n8(d,g,_,S){var R=_.type.getDerivedStateFromError;if(typeof R=="function"){var L=S.value;d.payload=function(){return R(L)},d.callback=function(){t8(g,_,S)}}var z=_.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(d.callback=function(){t8(g,_,S),typeof R!="function"&&(Of===null?Of=new Set([this]):Of.add(this));var K=S.stack;this.componentDidCatch(S.value,{componentStack:K!==null?K:""})})}function _pe(d,g,_,S,R){if(_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(g=_.alternate,g!==null&&t1(g,_,R,!0),_=yo.current,_!==null){switch(_.tag){case 13:return uu===null?HR():_.alternate===null&&In===0&&(In=3),_.flags&=-257,_.flags|=65536,_.lanes=R,S===qI?_.flags|=16384:(g=_.updateQueue,g===null?_.updateQueue=new Set([S]):g.add(S),jR(d,S,R)),!1;case 22:return _.flags|=65536,S===qI?_.flags|=16384:(g=_.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([S])},_.updateQueue=g):(_=g.retryQueue,_===null?g.retryQueue=new Set([S]):_.add(S)),jR(d,S,R)),!1}throw Error(n(435,_.tag))}return jR(d,S,R),HR(),!1}if(Nr)return g=yo.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=R,S!==zI&&(d=Error(n(422),{cause:S}),e1(po(d,_)))):(S!==zI&&(g=Error(n(423),{cause:S}),e1(po(g,_))),d=d.current.alternate,d.flags|=65536,R&=-R,d.lanes|=R,S=po(S,_),R=yR(d.stateNode,S,R),KI(d,R),In!==4&&(In=2)),!1;var L=Error(n(520),{cause:S});if(L=po(L,_),w1===null?w1=[L]:w1.push(L),In!==4&&(In=2),g===null)return!0;S=po(S,_),_=g;do{switch(_.tag){case 3:return _.flags|=65536,d=R&-R,_.lanes|=d,d=yR(_.stateNode,S,d),KI(_,d),!1;case 1:if(g=_.type,L=_.stateNode,(_.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Of===null||!Of.has(L))))return _.flags|=65536,R&=-R,_.lanes|=R,R=r8(R),n8(R,d,_,S),KI(_,R),!1}_=_.return}while(_!==null);return!1}var i8=Error(n(461)),Fi=!1;function Xi(d,g,_,S){g.child=d===null?Yz(g,null,_,S):Ng(g,d.child,_,S)}function a8(d,g,_,S,R){_=_.render;var L=g.ref;if("ref"in S){var z={};for(var K in S)K!=="ref"&&(z[K]=S[K])}else z=S;return Hd(g),S=tR(d,g,_,z,L,R),K=rR(),d!==null&&!Fi?(nR(d,g,R),wc(d,g,R)):(Nr&&K&&BI(g),g.flags|=1,Xi(d,g,S,R),g.child)}function s8(d,g,_,S,R){if(d===null){var L=_.type;return typeof L=="function"&&!OI(L)&&L.defaultProps===void 0&&_.compare===null?(g.tag=15,g.type=L,o8(d,g,L,S,R)):(d=cS(_.type,null,S,g,g.mode,R),d.ref=g.ref,d.return=g,g.child=d)}if(L=d.child,!ER(d,R)){var z=L.memoizedProps;if(_=_.compare,_=_!==null?_:Ky,_(z,S)&&d.ref===g.ref)return wc(d,g,R)}return g.flags|=1,d=pc(L,S),d.ref=g.ref,d.return=g,g.child=d}function o8(d,g,_,S,R){if(d!==null){var L=d.memoizedProps;if(Ky(L,S)&&d.ref===g.ref)if(Fi=!1,g.pendingProps=S=L,ER(d,R))(d.flags&131072)!==0&&(Fi=!0);else return g.lanes=d.lanes,wc(d,g,R)}return _R(d,g,_,S,R)}function l8(d,g,_){var S=g.pendingProps,R=S.children,L=d!==null?d.memoizedState:null;if(S.mode==="hidden"){if((g.flags&128)!==0){if(S=L!==null?L.baseLanes|_:_,d!==null){for(R=g.child=d.child,L=0;R!==null;)L=L|R.lanes|R.childLanes,R=R.sibling;g.childLanes=L&~S}else g.childLanes=0,g.child=null;return u8(d,g,S,_)}if((_&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},d!==null&&vS(g,L!==null?L.cachePool:null),L!==null?oz(g,L):QI(),Xz(g);else return g.lanes=g.childLanes=536870912,u8(d,g,L!==null?L.baseLanes|_:_,_)}else L!==null?(vS(g,L.cachePool),oz(g,L),If(),g.memoizedState=null):(d!==null&&vS(g,null),QI(),If());return Xi(d,g,R,_),g.child}function u8(d,g,_,S){var R=$I();return R=R===null?null:{parent:wi._currentValue,pool:R},g.memoizedState={baseLanes:_,cachePool:R},d!==null&&vS(g,null),QI(),Xz(g),d!==null&&t1(d,g,S,!0),null}function MS(d,g){var _=g.ref;if(_===null)d!==null&&d.ref!==null&&(g.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(n(284));(d===null||d.ref!==_)&&(g.flags|=4194816)}}function _R(d,g,_,S,R){return Hd(g),_=tR(d,g,_,S,void 0,R),S=rR(),d!==null&&!Fi?(nR(d,g,R),wc(d,g,R)):(Nr&&S&&BI(g),g.flags|=1,Xi(d,g,_,R),g.child)}function c8(d,g,_,S,R,L){return Hd(g),g.updateQueue=null,_=uz(g,S,_,R),lz(d),S=rR(),d!==null&&!Fi?(nR(d,g,L),wc(d,g,L)):(Nr&&S&&BI(g),g.flags|=1,Xi(d,g,_,L),g.child)}function f8(d,g,_,S,R){if(Hd(g),g.stateNode===null){var L=Eg,z=_.contextType;typeof z=="object"&&z!==null&&(L=va(z)),L=new _(S,L),g.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=mR,g.stateNode=L,L._reactInternals=g,L=g.stateNode,L.props=S,L.state=g.memoizedState,L.refs={},YI(g),z=_.contextType,L.context=typeof z=="object"&&z!==null?va(z):Eg,L.state=g.memoizedState,z=_.getDerivedStateFromProps,typeof z=="function"&&(gR(g,_,z,S),L.state=g.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(z=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),z!==L.state&&mR.enqueueReplaceState(L,L.state,null),l1(g,S,L,R),o1(),L.state=g.memoizedState),typeof L.componentDidMount=="function"&&(g.flags|=4194308),S=!0}else if(d===null){L=g.stateNode;var K=g.memoizedProps,fe=Wd(_,K);L.props=fe;var we=L.context,Ne=_.contextType;z=Eg,typeof Ne=="object"&&Ne!==null&&(z=va(Ne));var ze=_.getDerivedStateFromProps;Ne=typeof ze=="function"||typeof L.getSnapshotBeforeUpdate=="function",K=g.pendingProps!==K,Ne||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K||we!==z)&&Zz(g,L,S,z),Tf=!1;var Ee=g.memoizedState;L.state=Ee,l1(g,S,L,R),o1(),we=g.memoizedState,K||Ee!==we||Tf?(typeof ze=="function"&&(gR(g,_,ze,S),we=g.memoizedState),(fe=Tf||Kz(g,_,fe,S,Ee,we,z))?(Ne||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(g.flags|=4194308)):(typeof L.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=S,g.memoizedState=we),L.props=S,L.state=we,L.context=z,S=fe):(typeof L.componentDidMount=="function"&&(g.flags|=4194308),S=!1)}else{L=g.stateNode,XI(d,g),z=g.memoizedProps,Ne=Wd(_,z),L.props=Ne,ze=g.pendingProps,Ee=L.context,we=_.contextType,fe=Eg,typeof we=="object"&&we!==null&&(fe=va(we)),K=_.getDerivedStateFromProps,(we=typeof K=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(z!==ze||Ee!==fe)&&Zz(g,L,S,fe),Tf=!1,Ee=g.memoizedState,L.state=Ee,l1(g,S,L,R),o1();var De=g.memoizedState;z!==ze||Ee!==De||Tf||d!==null&&d.dependencies!==null&&dS(d.dependencies)?(typeof K=="function"&&(gR(g,_,K,S),De=g.memoizedState),(Ne=Tf||Kz(g,_,Ne,S,Ee,De,fe)||d!==null&&d.dependencies!==null&&dS(d.dependencies))?(we||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,De,fe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,De,fe)),typeof L.componentDidUpdate=="function"&&(g.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof L.componentDidUpdate!="function"||z===d.memoizedProps&&Ee===d.memoizedState||(g.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||z===d.memoizedProps&&Ee===d.memoizedState||(g.flags|=1024),g.memoizedProps=S,g.memoizedState=De),L.props=S,L.state=De,L.context=fe,S=Ne):(typeof L.componentDidUpdate!="function"||z===d.memoizedProps&&Ee===d.memoizedState||(g.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||z===d.memoizedProps&&Ee===d.memoizedState||(g.flags|=1024),S=!1)}return L=S,MS(d,g),S=(g.flags&128)!==0,L||S?(L=g.stateNode,_=S&&typeof _.getDerivedStateFromError!="function"?null:L.render(),g.flags|=1,d!==null&&S?(g.child=Ng(g,d.child,null,R),g.child=Ng(g,null,_,R)):Xi(d,g,_,R),g.memoizedState=L.state,d=g.child):d=wc(d,g,R),d}function h8(d,g,_,S){return Jy(),g.flags|=256,Xi(d,g,_,S),g.child}var xR={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wR(d){return{baseLanes:d,cachePool:J6()}}function bR(d,g,_){return d=d!==null?d.childLanes&~_:0,g&&(d|=_o),d}function d8(d,g,_){var S=g.pendingProps,R=!1,L=(g.flags&128)!==0,z;if((z=L)||(z=d!==null&&d.memoizedState===null?!1:(bi.current&2)!==0),z&&(R=!0,g.flags&=-129),z=(g.flags&32)!==0,g.flags&=-33,d===null){if(Nr){if(R?Df(g):If(),Nr){var K=Dn,fe;if(fe=K){e:{for(fe=K,K=lu;fe.nodeType!==8;){if(!K){K=null;break e}if(fe=fl(fe.nextSibling),fe===null){K=null;break e}}K=fe}K!==null?(g.memoizedState={dehydrated:K,treeContext:Fd!==null?{id:vc,overflow:gc}:null,retryLane:536870912,hydrationErrors:null},fe=Fs(18,null,null,0),fe.stateNode=K,fe.return=g,g.child=fe,Ya=g,Dn=null,fe=!0):fe=!1}fe||zd(g)}if(K=g.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return ak(K)?g.lanes=32:g.lanes=536870912,null;xc(g)}return K=S.children,S=S.fallback,R?(If(),R=g.mode,K=PS({mode:"hidden",children:K},R),S=Nd(S,R,_,null),K.return=g,S.return=g,K.sibling=S,g.child=K,R=g.child,R.memoizedState=wR(_),R.childLanes=bR(d,z,_),g.memoizedState=xR,S):(Df(g),SR(g,K))}if(fe=d.memoizedState,fe!==null&&(K=fe.dehydrated,K!==null)){if(L)g.flags&256?(Df(g),g.flags&=-257,g=TR(d,g,_)):g.memoizedState!==null?(If(),g.child=d.child,g.flags|=128,g=null):(If(),R=S.fallback,K=g.mode,S=PS({mode:"visible",children:S.children},K),R=Nd(R,K,_,null),R.flags|=2,S.return=g,R.return=g,S.sibling=R,g.child=S,Ng(g,d.child,null,_),S=g.child,S.memoizedState=wR(_),S.childLanes=bR(d,z,_),g.memoizedState=xR,g=R);else if(Df(g),ak(K)){if(z=K.nextSibling&&K.nextSibling.dataset,z)var we=z.dgst;z=we,S=Error(n(419)),S.stack="",S.digest=z,e1({value:S,source:null,stack:null}),g=TR(d,g,_)}else if(Fi||t1(d,g,_,!1),z=(_&d.childLanes)!==0,Fi||z){if(z=rn,z!==null&&(S=_&-_,S=(S&42)!==0?1:Zl(S),S=(S&(z.suspendedLanes|_))!==0?0:S,S!==0&&S!==fe.retryLane))throw fe.retryLane=S,Ag(d,S),Hs(z,d,S),i8;K.data==="$?"||HR(),g=TR(d,g,_)}else K.data==="$?"?(g.flags|=192,g.child=d.child,g=null):(d=fe.treeContext,Dn=fl(K.nextSibling),Ya=g,Nr=!0,Vd=null,lu=!1,d!==null&&(go[mo++]=vc,go[mo++]=gc,go[mo++]=Fd,vc=d.id,gc=d.overflow,Fd=g),g=SR(g,S.children),g.flags|=4096);return g}return R?(If(),R=S.fallback,K=g.mode,fe=d.child,we=fe.sibling,S=pc(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,we!==null?R=pc(we,R):(R=Nd(R,K,_,null),R.flags|=2),R.return=g,S.return=g,S.sibling=R,g.child=S,S=R,R=g.child,K=d.child.memoizedState,K===null?K=wR(_):(fe=K.cachePool,fe!==null?(we=wi._currentValue,fe=fe.parent!==we?{parent:we,pool:we}:fe):fe=J6(),K={baseLanes:K.baseLanes|_,cachePool:fe}),R.memoizedState=K,R.childLanes=bR(d,z,_),g.memoizedState=xR,S):(Df(g),_=d.child,d=_.sibling,_=pc(_,{mode:"visible",children:S.children}),_.return=g,_.sibling=null,d!==null&&(z=g.deletions,z===null?(g.deletions=[d],g.flags|=16):z.push(d)),g.child=_,g.memoizedState=null,_)}function SR(d,g){return g=PS({mode:"visible",children:g},d.mode),g.return=d,d.child=g}function PS(d,g){return d=Fs(22,d,null,g),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function TR(d,g,_){return Ng(g,d.child,null,_),d=SR(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function p8(d,g,_){d.lanes|=g;var S=d.alternate;S!==null&&(S.lanes|=g),HI(d.return,g,_)}function AR(d,g,_,S,R){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:S,tail:_,tailMode:R}:(L.isBackwards=g,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=_,L.tailMode=R)}function v8(d,g,_){var S=g.pendingProps,R=S.revealOrder,L=S.tail;if(Xi(d,g,S.children,_),S=bi.current,(S&2)!==0)S=S&1|2,g.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&p8(d,_,g);else if(d.tag===19)p8(d,_,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}switch(ee(bi,S),R){case"forwards":for(_=g.child,R=null;_!==null;)d=_.alternate,d!==null&&IS(d)===null&&(R=_),_=_.sibling;_=R,_===null?(R=g.child,g.child=null):(R=_.sibling,_.sibling=null),AR(g,!1,R,_,L);break;case"backwards":for(_=null,R=g.child,g.child=null;R!==null;){if(d=R.alternate,d!==null&&IS(d)===null){g.child=R;break}d=R.sibling,R.sibling=_,_=R,R=d}AR(g,!0,_,null,L);break;case"together":AR(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function wc(d,g,_){if(d!==null&&(g.dependencies=d.dependencies),Lf|=g.lanes,(_&g.childLanes)===0)if(d!==null){if(t1(d,g,_,!1),(_&g.childLanes)===0)return null}else return null;if(d!==null&&g.child!==d.child)throw Error(n(153));if(g.child!==null){for(d=g.child,_=pc(d,d.pendingProps),g.child=_,_.return=g;d.sibling!==null;)d=d.sibling,_=_.sibling=pc(d,d.pendingProps),_.return=g;_.sibling=null}return g.child}function ER(d,g){return(d.lanes&g)!==0?!0:(d=d.dependencies,!!(d!==null&&dS(d)))}function xpe(d,g,_){switch(g.tag){case 3:Se(g,g.stateNode.containerInfo),Sf(g,wi,d.memoizedState.cache),Jy();break;case 27:case 5:Te(g);break;case 4:Se(g,g.stateNode.containerInfo);break;case 10:Sf(g,g.type,g.memoizedProps.value);break;case 13:var S=g.memoizedState;if(S!==null)return S.dehydrated!==null?(Df(g),g.flags|=128,null):(_&g.child.childLanes)!==0?d8(d,g,_):(Df(g),d=wc(d,g,_),d!==null?d.sibling:null);Df(g);break;case 19:var R=(d.flags&128)!==0;if(S=(_&g.childLanes)!==0,S||(t1(d,g,_,!1),S=(_&g.childLanes)!==0),R){if(S)return v8(d,g,_);g.flags|=128}if(R=g.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),ee(bi,bi.current),S)break;return null;case 22:case 23:return g.lanes=0,l8(d,g,_);case 24:Sf(g,wi,d.memoizedState.cache)}return wc(d,g,_)}function g8(d,g,_){if(d!==null)if(d.memoizedProps!==g.pendingProps)Fi=!0;else{if(!ER(d,_)&&(g.flags&128)===0)return Fi=!1,xpe(d,g,_);Fi=(d.flags&131072)!==0}else Fi=!1,Nr&&(g.flags&1048576)!==0&&$6(g,hS,g.index);switch(g.lanes=0,g.tag){case 16:e:{d=g.pendingProps;var S=g.elementType,R=S._init;if(S=R(S._payload),g.type=S,typeof S=="function")OI(S)?(d=Wd(S,d),g.tag=1,g=f8(null,g,S,d,_)):(g.tag=0,g=_R(null,g,S,d,_));else{if(S!=null){if(R=S.$$typeof,R===T){g.tag=11,g=a8(null,g,S,d,_);break e}else if(R===A){g.tag=14,g=s8(null,g,S,d,_);break e}}throw g=G(S)||S,Error(n(306,g,""))}}return g;case 0:return _R(d,g,g.type,g.pendingProps,_);case 1:return S=g.type,R=Wd(S,g.pendingProps),f8(d,g,S,R,_);case 3:e:{if(Se(g,g.stateNode.containerInfo),d===null)throw Error(n(387));S=g.pendingProps;var L=g.memoizedState;R=L.element,XI(d,g),l1(g,S,null,_);var z=g.memoizedState;if(S=z.cache,Sf(g,wi,S),S!==L.cache&&GI(g,[wi],_,!0),o1(),S=z.element,L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:z.cache},g.updateQueue.baseState=L,g.memoizedState=L,g.flags&256){g=h8(d,g,S,_);break e}else if(S!==R){R=po(Error(n(424)),g),e1(R),g=h8(d,g,S,_);break e}else{switch(d=g.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Dn=fl(d.firstChild),Ya=g,Nr=!0,Vd=null,lu=!0,_=Yz(g,null,S,_),g.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(Jy(),S===R){g=wc(d,g,_);break e}Xi(d,g,S,_)}g=g.child}return g;case 26:return MS(d,g),d===null?(_=xU(g.type,null,g.pendingProps,null))?g.memoizedState=_:Nr||(_=g.type,d=g.pendingProps,S=qS(de.current).createElement(_),S[Un]=g,S[dn]=d,Zi(S,_,d),ve(S),g.stateNode=S):g.memoizedState=xU(g.type,d.memoizedProps,g.pendingProps,d.memoizedState),null;case 27:return Te(g),d===null&&Nr&&(S=g.stateNode=mU(g.type,g.pendingProps,de.current),Ya=g,lu=!0,R=Dn,Bf(g.type)?(sk=R,Dn=fl(S.firstChild)):Dn=R),Xi(d,g,g.pendingProps.children,_),MS(d,g),d===null&&(g.flags|=4194304),g.child;case 5:return d===null&&Nr&&((R=S=Dn)&&(S=Ype(S,g.type,g.pendingProps,lu),S!==null?(g.stateNode=S,Ya=g,Dn=fl(S.firstChild),lu=!1,R=!0):R=!1),R||zd(g)),Te(g),R=g.type,L=g.pendingProps,z=d!==null?d.memoizedProps:null,S=L.children,rk(R,L)?S=null:z!==null&&rk(R,z)&&(g.flags|=32),g.memoizedState!==null&&(R=tR(d,g,hpe,null,null,_),R1._currentValue=R),MS(d,g),Xi(d,g,S,_),g.child;case 6:return d===null&&Nr&&((d=_=Dn)&&(_=Xpe(_,g.pendingProps,lu),_!==null?(g.stateNode=_,Ya=g,Dn=null,d=!0):d=!1),d||zd(g)),null;case 13:return d8(d,g,_);case 4:return Se(g,g.stateNode.containerInfo),S=g.pendingProps,d===null?g.child=Ng(g,null,S,_):Xi(d,g,S,_),g.child;case 11:return a8(d,g,g.type,g.pendingProps,_);case 7:return Xi(d,g,g.pendingProps,_),g.child;case 8:return Xi(d,g,g.pendingProps.children,_),g.child;case 12:return Xi(d,g,g.pendingProps.children,_),g.child;case 10:return S=g.pendingProps,Sf(g,g.type,S.value),Xi(d,g,S.children,_),g.child;case 9:return R=g.type._context,S=g.pendingProps.children,Hd(g),R=va(R),S=S(R),g.flags|=1,Xi(d,g,S,_),g.child;case 14:return s8(d,g,g.type,g.pendingProps,_);case 15:return o8(d,g,g.type,g.pendingProps,_);case 19:return v8(d,g,_);case 31:return S=g.pendingProps,_=g.mode,S={mode:S.mode,children:S.children},d===null?(_=PS(S,_),_.ref=g.ref,g.child=_,_.return=g,g=_):(_=pc(d.child,S),_.ref=g.ref,g.child=_,_.return=g,g=_),g;case 22:return l8(d,g,_);case 24:return Hd(g),S=va(wi),d===null?(R=$I(),R===null&&(R=rn,L=jI(),R.pooledCache=L,L.refCount++,L!==null&&(R.pooledCacheLanes|=_),R=L),g.memoizedState={parent:S,cache:R},YI(g),Sf(g,wi,R)):((d.lanes&_)!==0&&(XI(d,g),l1(g,null,null,_),o1()),R=d.memoizedState,L=g.memoizedState,R.parent!==S?(R={parent:S,cache:S},g.memoizedState=R,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=R),Sf(g,wi,S)):(S=L.cache,Sf(g,wi,S),S!==R.cache&&GI(g,[wi],_,!0))),Xi(d,g,g.pendingProps.children,_),g.child;case 29:throw g.pendingProps}throw Error(n(156,g.tag))}function bc(d){d.flags|=4}function m8(d,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!AU(g)){if(g=yo.current,g!==null&&((Sr&4194048)===Sr?uu!==null:(Sr&62914560)!==Sr&&(Sr&536870912)===0||g!==uu))throw a1=qI,ez;d.flags|=8192}}function LS(d,g){g!==null&&(d.flags|=4),d.flags&16384&&(g=d.tag!==22?_f():536870912,d.lanes|=g,zg|=g)}function v1(d,g){if(!Nr)switch(d.tailMode){case"hidden":g=d.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var S=null;_!==null;)_.alternate!==null&&(S=_),_=_.sibling;S===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function xn(d){var g=d.alternate!==null&&d.alternate.child===d.child,_=0,S=0;if(g)for(var R=d.child;R!==null;)_|=R.lanes|R.childLanes,S|=R.subtreeFlags&65011712,S|=R.flags&65011712,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)_|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=S,d.childLanes=_,g}function wpe(d,g,_){var S=g.pendingProps;switch(VI(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(g),null;case 1:return xn(g),null;case 3:return _=g.stateNode,S=null,d!==null&&(S=d.memoizedState.cache),g.memoizedState.cache!==S&&(g.flags|=2048),yc(wi),xe(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(Qy(g)?bc(g):d===null||d.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,X6())),xn(g),null;case 26:return _=g.memoizedState,d===null?(bc(g),_!==null?(xn(g),m8(g,_)):(xn(g),g.flags&=-16777217)):_?_!==d.memoizedState?(bc(g),xn(g),m8(g,_)):(xn(g),g.flags&=-16777217):(d.memoizedProps!==S&&bc(g),xn(g),g.flags&=-16777217),null;case 27:Oe(g),_=de.current;var R=g.type;if(d!==null&&g.stateNode!=null)d.memoizedProps!==S&&bc(g);else{if(!S){if(g.stateNode===null)throw Error(n(166));return xn(g),null}d=J.current,Qy(g)?q6(g):(d=mU(R,S,_),g.stateNode=d,bc(g))}return xn(g),null;case 5:if(Oe(g),_=g.type,d!==null&&g.stateNode!=null)d.memoizedProps!==S&&bc(g);else{if(!S){if(g.stateNode===null)throw Error(n(166));return xn(g),null}if(d=J.current,Qy(g))q6(g);else{switch(R=qS(de.current),d){case 1:d=R.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:d=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":d=R.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":d=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":d=R.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof S.is=="string"?R.createElement("select",{is:S.is}):R.createElement("select"),S.multiple?d.multiple=!0:S.size&&(d.size=S.size);break;default:d=typeof S.is=="string"?R.createElement(_,{is:S.is}):R.createElement(_)}}d[Un]=g,d[dn]=S;e:for(R=g.child;R!==null;){if(R.tag===5||R.tag===6)d.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===g)break e;for(;R.sibling===null;){if(R.return===null||R.return===g)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}g.stateNode=d;e:switch(Zi(d,_,S),_){case"button":case"input":case"select":case"textarea":d=!!S.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&bc(g)}}return xn(g),g.flags&=-16777217,null;case 6:if(d&&g.stateNode!=null)d.memoizedProps!==S&&bc(g);else{if(typeof S!="string"&&g.stateNode===null)throw Error(n(166));if(d=de.current,Qy(g)){if(d=g.stateNode,_=g.memoizedProps,S=null,R=Ya,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}d[Un]=g,d=!!(d.nodeValue===_||S!==null&&S.suppressHydrationWarning===!0||cU(d.nodeValue,_)),d||zd(g)}else d=qS(d).createTextNode(S),d[Un]=g,g.stateNode=d}return xn(g),null;case 13:if(S=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(R=Qy(g),S!==null&&S.dehydrated!==null){if(d===null){if(!R)throw Error(n(318));if(R=g.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[Un]=g}else Jy(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;xn(g),R=!1}else R=X6(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=R),R=!0;if(!R)return g.flags&256?(xc(g),g):(xc(g),null)}if(xc(g),(g.flags&128)!==0)return g.lanes=_,g;if(_=S!==null,d=d!==null&&d.memoizedState!==null,_){S=g.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var L=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==R&&(S.flags|=2048)}return _!==d&&_&&(g.child.flags|=8192),LS(g,g.updateQueue),xn(g),null;case 4:return xe(),d===null&&ZR(g.stateNode.containerInfo),xn(g),null;case 10:return yc(g.type),xn(g),null;case 19:if(H(bi),R=g.memoizedState,R===null)return xn(g),null;if(S=(g.flags&128)!==0,L=R.rendering,L===null)if(S)v1(R,!1);else{if(In!==0||d!==null&&(d.flags&128)!==0)for(d=g.child;d!==null;){if(L=IS(d),L!==null){for(g.flags|=128,v1(R,!1),d=L.updateQueue,g.updateQueue=d,LS(g,d),g.subtreeFlags=0,d=_,_=g.child;_!==null;)W6(_,d),_=_.sibling;return ee(bi,bi.current&1|2),g.child}d=d.sibling}R.tail!==null&&He()>FS&&(g.flags|=128,S=!0,v1(R,!1),g.lanes=4194304)}else{if(!S)if(d=IS(L),d!==null){if(g.flags|=128,S=!0,d=d.updateQueue,g.updateQueue=d,LS(g,d),v1(R,!0),R.tail===null&&R.tailMode==="hidden"&&!L.alternate&&!Nr)return xn(g),null}else 2*He()-R.renderingStartTime>FS&&_!==536870912&&(g.flags|=128,S=!0,v1(R,!1),g.lanes=4194304);R.isBackwards?(L.sibling=g.child,g.child=L):(d=R.last,d!==null?d.sibling=L:g.child=L,R.last=L)}return R.tail!==null?(g=R.tail,R.rendering=g,R.tail=g.sibling,R.renderingStartTime=He(),g.sibling=null,d=bi.current,ee(bi,S?d&1|2:d&1),g):(xn(g),null);case 22:case 23:return xc(g),JI(),S=g.memoizedState!==null,d!==null?d.memoizedState!==null!==S&&(g.flags|=8192):S&&(g.flags|=8192),S?(_&536870912)!==0&&(g.flags&128)===0&&(xn(g),g.subtreeFlags&6&&(g.flags|=8192)):xn(g),_=g.updateQueue,_!==null&&LS(g,_.retryQueue),_=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==_&&(g.flags|=2048),d!==null&&H(Gd),null;case 24:return _=null,d!==null&&(_=d.memoizedState.cache),g.memoizedState.cache!==_&&(g.flags|=2048),yc(wi),xn(g),null;case 25:return null;case 30:return null}throw Error(n(156,g.tag))}function bpe(d,g){switch(VI(g),g.tag){case 1:return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return yc(wi),xe(),d=g.flags,(d&65536)!==0&&(d&128)===0?(g.flags=d&-65537|128,g):null;case 26:case 27:case 5:return Oe(g),null;case 13:if(xc(g),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(n(340));Jy()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return H(bi),null;case 4:return xe(),null;case 10:return yc(g.type),null;case 22:case 23:return xc(g),JI(),d!==null&&H(Gd),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 24:return yc(wi),null;case 25:return null;default:return null}}function y8(d,g){switch(VI(g),g.tag){case 3:yc(wi),xe();break;case 26:case 27:case 5:Oe(g);break;case 4:xe();break;case 13:xc(g);break;case 19:H(bi);break;case 10:yc(g.type);break;case 22:case 23:xc(g),JI(),d!==null&&H(Gd);break;case 24:yc(wi)}}function g1(d,g){try{var _=g.updateQueue,S=_!==null?_.lastEffect:null;if(S!==null){var R=S.next;_=R;do{if((_.tag&d)===d){S=void 0;var L=_.create,z=_.inst;S=L(),z.destroy=S}_=_.next}while(_!==R)}}catch(K){en(g,g.return,K)}}function Rf(d,g,_){try{var S=g.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var L=R.next;S=L;do{if((S.tag&d)===d){var z=S.inst,K=z.destroy;if(K!==void 0){z.destroy=void 0,R=g;var fe=_,we=K;try{we()}catch(Ne){en(R,fe,Ne)}}}S=S.next}while(S!==L)}}catch(Ne){en(g,g.return,Ne)}}function _8(d){var g=d.updateQueue;if(g!==null){var _=d.stateNode;try{sz(g,_)}catch(S){en(d,d.return,S)}}}function x8(d,g,_){_.props=Wd(d.type,d.memoizedProps),_.state=d.memoizedState;try{_.componentWillUnmount()}catch(S){en(d,g,S)}}function m1(d,g){try{var _=d.ref;if(_!==null){switch(d.tag){case 26:case 27:case 5:var S=d.stateNode;break;case 30:S=d.stateNode;break;default:S=d.stateNode}typeof _=="function"?d.refCleanup=_(S):_.current=S}}catch(R){en(d,g,R)}}function cu(d,g){var _=d.ref,S=d.refCleanup;if(_!==null)if(typeof S=="function")try{S()}catch(R){en(d,g,R)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(R){en(d,g,R)}else _.current=null}function w8(d){var g=d.type,_=d.memoizedProps,S=d.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":_.autoFocus&&S.focus();break e;case"img":_.src?S.src=_.src:_.srcSet&&(S.srcset=_.srcSet)}}catch(R){en(d,d.return,R)}}function CR(d,g,_){try{var S=d.stateNode;Gpe(S,d.type,_,g),S[dn]=g}catch(R){en(d,d.return,R)}}function b8(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Bf(d.type)||d.tag===4}function DR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||b8(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Bf(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function IR(d,g,_){var S=d.tag;if(S===5||S===6)d=d.stateNode,g?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(d,g):(g=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,g.appendChild(d),_=_._reactRootContainer,_!=null||g.onclick!==null||(g.onclick=$S));else if(S!==4&&(S===27&&Bf(d.type)&&(_=d.stateNode,g=null),d=d.child,d!==null))for(IR(d,g,_),d=d.sibling;d!==null;)IR(d,g,_),d=d.sibling}function OS(d,g,_){var S=d.tag;if(S===5||S===6)d=d.stateNode,g?_.insertBefore(d,g):_.appendChild(d);else if(S!==4&&(S===27&&Bf(d.type)&&(_=d.stateNode),d=d.child,d!==null))for(OS(d,g,_),d=d.sibling;d!==null;)OS(d,g,_),d=d.sibling}function S8(d){var g=d.stateNode,_=d.memoizedProps;try{for(var S=d.type,R=g.attributes;R.length;)g.removeAttributeNode(R[0]);Zi(g,S,_),g[Un]=d,g[dn]=_}catch(L){en(d,d.return,L)}}var Sc=!1,Gn=!1,RR=!1,T8=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function Spe(d,g){if(d=d.containerInfo,ek=JS,d=O6(d),DI(d)){if("selectionStart"in d)var _={start:d.selectionStart,end:d.selectionEnd};else e:{_=(_=d.ownerDocument)&&_.defaultView||window;var S=_.getSelection&&_.getSelection();if(S&&S.rangeCount!==0){_=S.anchorNode;var R=S.anchorOffset,L=S.focusNode;S=S.focusOffset;try{_.nodeType,L.nodeType}catch{_=null;break e}var z=0,K=-1,fe=-1,we=0,Ne=0,ze=d,Ee=null;t:for(;;){for(var De;ze!==_||R!==0&&ze.nodeType!==3||(K=z+R),ze!==L||S!==0&&ze.nodeType!==3||(fe=z+S),ze.nodeType===3&&(z+=ze.nodeValue.length),(De=ze.firstChild)!==null;)Ee=ze,ze=De;for(;;){if(ze===d)break t;if(Ee===_&&++we===R&&(K=z),Ee===L&&++Ne===S&&(fe=z),(De=ze.nextSibling)!==null)break;ze=Ee,Ee=ze.parentNode}ze=De}_=K===-1||fe===-1?null:{start:K,end:fe}}else _=null}_=_||{start:0,end:0}}else _=null;for(tk={focusedElem:d,selectionRange:_},JS=!1,Bi=g;Bi!==null;)if(g=Bi,d=g.child,(g.subtreeFlags&1024)!==0&&d!==null)d.return=g,Bi=d;else for(;Bi!==null;){switch(g=Bi,L=g.alternate,d=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&L!==null){d=void 0,_=g,R=L.memoizedProps,L=L.memoizedState,S=_.stateNode;try{var Bt=Wd(_.type,R,_.elementType===_.type);d=S.getSnapshotBeforeUpdate(Bt,L),S.__reactInternalSnapshotBeforeUpdate=d}catch(Rt){en(_,_.return,Rt)}}break;case 3:if((d&1024)!==0){if(d=g.stateNode.containerInfo,_=d.nodeType,_===9)ik(d);else if(_===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":ik(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=g.sibling,d!==null){d.return=g.return,Bi=d;break}Bi=g.return}}function A8(d,g,_){var S=_.flags;switch(_.tag){case 0:case 11:case 15:kf(d,_),S&4&&g1(5,_);break;case 1:if(kf(d,_),S&4)if(d=_.stateNode,g===null)try{d.componentDidMount()}catch(z){en(_,_.return,z)}else{var R=Wd(_.type,g.memoizedProps);g=g.memoizedState;try{d.componentDidUpdate(R,g,d.__reactInternalSnapshotBeforeUpdate)}catch(z){en(_,_.return,z)}}S&64&&_8(_),S&512&&m1(_,_.return);break;case 3:if(kf(d,_),S&64&&(d=_.updateQueue,d!==null)){if(g=null,_.child!==null)switch(_.child.tag){case 27:case 5:g=_.child.stateNode;break;case 1:g=_.child.stateNode}try{sz(d,g)}catch(z){en(_,_.return,z)}}break;case 27:g===null&&S&4&&S8(_);case 26:case 5:kf(d,_),g===null&&S&4&&w8(_),S&512&&m1(_,_.return);break;case 12:kf(d,_);break;case 13:kf(d,_),S&4&&D8(d,_),S&64&&(d=_.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(_=Mpe.bind(null,_),Kpe(d,_))));break;case 22:if(S=_.memoizedState!==null||Sc,!S){g=g!==null&&g.memoizedState!==null||Gn,R=Sc;var L=Gn;Sc=S,(Gn=g)&&!L?Mf(d,_,(_.subtreeFlags&8772)!==0):kf(d,_),Sc=R,Gn=L}break;case 30:break;default:kf(d,_)}}function E8(d){var g=d.alternate;g!==null&&(d.alternate=null,E8(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&ae(g)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var pn=null,ys=!1;function Tc(d,g,_){for(_=_.child;_!==null;)C8(d,g,_),_=_.sibling}function C8(d,g,_){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Et,_)}catch{}switch(_.tag){case 26:Gn||cu(_,g),Tc(d,g,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Gn||cu(_,g);var S=pn,R=ys;Bf(_.type)&&(pn=_.stateNode,ys=!1),Tc(d,g,_),E1(_.stateNode),pn=S,ys=R;break;case 5:Gn||cu(_,g);case 6:if(S=pn,R=ys,pn=null,Tc(d,g,_),pn=S,ys=R,pn!==null)if(ys)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(_.stateNode)}catch(L){en(_,g,L)}else try{pn.removeChild(_.stateNode)}catch(L){en(_,g,L)}break;case 18:pn!==null&&(ys?(d=pn,vU(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,_.stateNode),L1(d)):vU(pn,_.stateNode));break;case 4:S=pn,R=ys,pn=_.stateNode.containerInfo,ys=!0,Tc(d,g,_),pn=S,ys=R;break;case 0:case 11:case 14:case 15:Gn||Rf(2,_,g),Gn||Rf(4,_,g),Tc(d,g,_);break;case 1:Gn||(cu(_,g),S=_.stateNode,typeof S.componentWillUnmount=="function"&&x8(_,g,S)),Tc(d,g,_);break;case 21:Tc(d,g,_);break;case 22:Gn=(S=Gn)||_.memoizedState!==null,Tc(d,g,_),Gn=S;break;default:Tc(d,g,_)}}function D8(d,g){if(g.memoizedState===null&&(d=g.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{L1(d)}catch(_){en(g,g.return,_)}}function Tpe(d){switch(d.tag){case 13:case 19:var g=d.stateNode;return g===null&&(g=d.stateNode=new T8),g;case 22:return d=d.stateNode,g=d._retryCache,g===null&&(g=d._retryCache=new T8),g;default:throw Error(n(435,d.tag))}}function kR(d,g){var _=Tpe(d);g.forEach(function(S){var R=Ppe.bind(null,d,S);_.has(S)||(_.add(S),S.then(R,R))})}function Bs(d,g){var _=g.deletions;if(_!==null)for(var S=0;S<_.length;S++){var R=_[S],L=d,z=g,K=z;e:for(;K!==null;){switch(K.tag){case 27:if(Bf(K.type)){pn=K.stateNode,ys=!1;break e}break;case 5:pn=K.stateNode,ys=!1;break e;case 3:case 4:pn=K.stateNode.containerInfo,ys=!0;break e}K=K.return}if(pn===null)throw Error(n(160));C8(L,z,R),pn=null,ys=!1,L=R.alternate,L!==null&&(L.return=null),R.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)I8(g,d),g=g.sibling}var cl=null;function I8(d,g){var _=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Bs(g,d),Vs(d),S&4&&(Rf(3,d,d.return),g1(3,d),Rf(5,d,d.return));break;case 1:Bs(g,d),Vs(d),S&512&&(Gn||_===null||cu(_,_.return)),S&64&&Sc&&(d=d.updateQueue,d!==null&&(S=d.callbacks,S!==null&&(_=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=_===null?S:_.concat(S))));break;case 26:var R=cl;if(Bs(g,d),Vs(d),S&512&&(Gn||_===null||cu(_,_.return)),S&4){var L=_!==null?_.memoizedState:null;if(S=d.memoizedState,_===null)if(S===null)if(d.stateNode===null){e:{S=d.type,_=d.memoizedProps,R=R.ownerDocument||R;t:switch(S){case"title":L=R.getElementsByTagName("title")[0],(!L||L[re]||L[Un]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=R.createElement(S),R.head.insertBefore(L,R.querySelector("head > title"))),Zi(L,S,_),L[Un]=d,ve(L),S=L;break e;case"link":var z=SU("link","href",R).get(S+(_.href||""));if(z){for(var K=0;K<z.length;K++)if(L=z[K],L.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&L.getAttribute("rel")===(_.rel==null?null:_.rel)&&L.getAttribute("title")===(_.title==null?null:_.title)&&L.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){z.splice(K,1);break t}}L=R.createElement(S),Zi(L,S,_),R.head.appendChild(L);break;case"meta":if(z=SU("meta","content",R).get(S+(_.content||""))){for(K=0;K<z.length;K++)if(L=z[K],L.getAttribute("content")===(_.content==null?null:""+_.content)&&L.getAttribute("name")===(_.name==null?null:_.name)&&L.getAttribute("property")===(_.property==null?null:_.property)&&L.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&L.getAttribute("charset")===(_.charSet==null?null:_.charSet)){z.splice(K,1);break t}}L=R.createElement(S),Zi(L,S,_),R.head.appendChild(L);break;default:throw Error(n(468,S))}L[Un]=d,ve(L),S=L}d.stateNode=S}else TU(R,d.type,d.stateNode);else d.stateNode=bU(R,S,d.memoizedProps);else L!==S?(L===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):L.count--,S===null?TU(R,d.type,d.stateNode):bU(R,S,d.memoizedProps)):S===null&&d.stateNode!==null&&CR(d,d.memoizedProps,_.memoizedProps)}break;case 27:Bs(g,d),Vs(d),S&512&&(Gn||_===null||cu(_,_.return)),_!==null&&S&4&&CR(d,d.memoizedProps,_.memoizedProps);break;case 5:if(Bs(g,d),Vs(d),S&512&&(Gn||_===null||cu(_,_.return)),d.flags&32){R=d.stateNode;try{uo(R,"")}catch(De){en(d,d.return,De)}}S&4&&d.stateNode!=null&&(R=d.memoizedProps,CR(d,R,_!==null?_.memoizedProps:R)),S&1024&&(RR=!0);break;case 6:if(Bs(g,d),Vs(d),S&4){if(d.stateNode===null)throw Error(n(162));S=d.memoizedProps,_=d.stateNode;try{_.nodeValue=S}catch(De){en(d,d.return,De)}}break;case 3:if(KS=null,R=cl,cl=YS(g.containerInfo),Bs(g,d),cl=R,Vs(d),S&4&&_!==null&&_.memoizedState.isDehydrated)try{L1(g.containerInfo)}catch(De){en(d,d.return,De)}RR&&(RR=!1,R8(d));break;case 4:S=cl,cl=YS(d.stateNode.containerInfo),Bs(g,d),Vs(d),cl=S;break;case 12:Bs(g,d),Vs(d);break;case 13:Bs(g,d),Vs(d),d.child.flags&8192&&d.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(FR=He()),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,kR(d,S)));break;case 22:R=d.memoizedState!==null;var fe=_!==null&&_.memoizedState!==null,we=Sc,Ne=Gn;if(Sc=we||R,Gn=Ne||fe,Bs(g,d),Gn=Ne,Sc=we,Vs(d),S&8192)e:for(g=d.stateNode,g._visibility=R?g._visibility&-2:g._visibility|1,R&&(_===null||fe||Sc||Gn||$d(d)),_=null,g=d;;){if(g.tag===5||g.tag===26){if(_===null){fe=_=g;try{if(L=fe.stateNode,R)z=L.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{K=fe.stateNode;var ze=fe.memoizedProps.style,Ee=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;K.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(De){en(fe,fe.return,De)}}}else if(g.tag===6){if(_===null){fe=g;try{fe.stateNode.nodeValue=R?"":fe.memoizedProps}catch(De){en(fe,fe.return,De)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===d)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break e;for(;g.sibling===null;){if(g.return===null||g.return===d)break e;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}S&4&&(S=d.updateQueue,S!==null&&(_=S.retryQueue,_!==null&&(S.retryQueue=null,kR(d,_))));break;case 19:Bs(g,d),Vs(d),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,kR(d,S)));break;case 30:break;case 21:break;default:Bs(g,d),Vs(d)}}function Vs(d){var g=d.flags;if(g&2){try{for(var _,S=d.return;S!==null;){if(b8(S)){_=S;break}S=S.return}if(_==null)throw Error(n(160));switch(_.tag){case 27:var R=_.stateNode,L=DR(d);OS(d,L,R);break;case 5:var z=_.stateNode;_.flags&32&&(uo(z,""),_.flags&=-33);var K=DR(d);OS(d,K,z);break;case 3:case 4:var fe=_.stateNode.containerInfo,we=DR(d);IR(d,we,fe);break;default:throw Error(n(161))}}catch(Ne){en(d,d.return,Ne)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function R8(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var g=d;R8(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),d=d.sibling}}function kf(d,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)A8(d,g.alternate,g),g=g.sibling}function $d(d){for(d=d.child;d!==null;){var g=d;switch(g.tag){case 0:case 11:case 14:case 15:Rf(4,g,g.return),$d(g);break;case 1:cu(g,g.return);var _=g.stateNode;typeof _.componentWillUnmount=="function"&&x8(g,g.return,_),$d(g);break;case 27:E1(g.stateNode);case 26:case 5:cu(g,g.return),$d(g);break;case 22:g.memoizedState===null&&$d(g);break;case 30:$d(g);break;default:$d(g)}d=d.sibling}}function Mf(d,g,_){for(_=_&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var S=g.alternate,R=d,L=g,z=L.flags;switch(L.tag){case 0:case 11:case 15:Mf(R,L,_),g1(4,L);break;case 1:if(Mf(R,L,_),S=L,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(we){en(S,S.return,we)}if(S=L,R=S.updateQueue,R!==null){var K=S.stateNode;try{var fe=R.shared.hiddenCallbacks;if(fe!==null)for(R.shared.hiddenCallbacks=null,R=0;R<fe.length;R++)az(fe[R],K)}catch(we){en(S,S.return,we)}}_&&z&64&&_8(L),m1(L,L.return);break;case 27:S8(L);case 26:case 5:Mf(R,L,_),_&&S===null&&z&4&&w8(L),m1(L,L.return);break;case 12:Mf(R,L,_);break;case 13:Mf(R,L,_),_&&z&4&&D8(R,L);break;case 22:L.memoizedState===null&&Mf(R,L,_),m1(L,L.return);break;case 30:break;default:Mf(R,L,_)}g=g.sibling}}function MR(d,g){var _=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),d=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(d=g.memoizedState.cachePool.pool),d!==_&&(d!=null&&d.refCount++,_!=null&&r1(_))}function PR(d,g){d=null,g.alternate!==null&&(d=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==d&&(g.refCount++,d!=null&&r1(d))}function fu(d,g,_,S){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)k8(d,g,_,S),g=g.sibling}function k8(d,g,_,S){var R=g.flags;switch(g.tag){case 0:case 11:case 15:fu(d,g,_,S),R&2048&&g1(9,g);break;case 1:fu(d,g,_,S);break;case 3:fu(d,g,_,S),R&2048&&(d=null,g.alternate!==null&&(d=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==d&&(g.refCount++,d!=null&&r1(d)));break;case 12:if(R&2048){fu(d,g,_,S),d=g.stateNode;try{var L=g.memoizedProps,z=L.id,K=L.onPostCommit;typeof K=="function"&&K(z,g.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(fe){en(g,g.return,fe)}}else fu(d,g,_,S);break;case 13:fu(d,g,_,S);break;case 23:break;case 22:L=g.stateNode,z=g.alternate,g.memoizedState!==null?L._visibility&2?fu(d,g,_,S):y1(d,g):L._visibility&2?fu(d,g,_,S):(L._visibility|=2,Fg(d,g,_,S,(g.subtreeFlags&10256)!==0)),R&2048&&MR(z,g);break;case 24:fu(d,g,_,S),R&2048&&PR(g.alternate,g);break;default:fu(d,g,_,S)}}function Fg(d,g,_,S,R){for(R=R&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var L=d,z=g,K=_,fe=S,we=z.flags;switch(z.tag){case 0:case 11:case 15:Fg(L,z,K,fe,R),g1(8,z);break;case 23:break;case 22:var Ne=z.stateNode;z.memoizedState!==null?Ne._visibility&2?Fg(L,z,K,fe,R):y1(L,z):(Ne._visibility|=2,Fg(L,z,K,fe,R)),R&&we&2048&&MR(z.alternate,z);break;case 24:Fg(L,z,K,fe,R),R&&we&2048&&PR(z.alternate,z);break;default:Fg(L,z,K,fe,R)}g=g.sibling}}function y1(d,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var _=d,S=g,R=S.flags;switch(S.tag){case 22:y1(_,S),R&2048&&MR(S.alternate,S);break;case 24:y1(_,S),R&2048&&PR(S.alternate,S);break;default:y1(_,S)}g=g.sibling}}var _1=8192;function Bg(d){if(d.subtreeFlags&_1)for(d=d.child;d!==null;)M8(d),d=d.sibling}function M8(d){switch(d.tag){case 26:Bg(d),d.flags&_1&&d.memoizedState!==null&&uve(cl,d.memoizedState,d.memoizedProps);break;case 5:Bg(d);break;case 3:case 4:var g=cl;cl=YS(d.stateNode.containerInfo),Bg(d),cl=g;break;case 22:d.memoizedState===null&&(g=d.alternate,g!==null&&g.memoizedState!==null?(g=_1,_1=16777216,Bg(d),_1=g):Bg(d));break;default:Bg(d)}}function P8(d){var g=d.alternate;if(g!==null&&(d=g.child,d!==null)){g.child=null;do g=d.sibling,d.sibling=null,d=g;while(d!==null)}}function x1(d){var g=d.deletions;if((d.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var S=g[_];Bi=S,O8(S,d)}P8(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)L8(d),d=d.sibling}function L8(d){switch(d.tag){case 0:case 11:case 15:x1(d),d.flags&2048&&Rf(9,d,d.return);break;case 3:x1(d);break;case 12:x1(d);break;case 22:var g=d.stateNode;d.memoizedState!==null&&g._visibility&2&&(d.return===null||d.return.tag!==13)?(g._visibility&=-3,NS(d)):x1(d);break;default:x1(d)}}function NS(d){var g=d.deletions;if((d.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var S=g[_];Bi=S,O8(S,d)}P8(d)}for(d=d.child;d!==null;){switch(g=d,g.tag){case 0:case 11:case 15:Rf(8,g,g.return),NS(g);break;case 22:_=g.stateNode,_._visibility&2&&(_._visibility&=-3,NS(g));break;default:NS(g)}d=d.sibling}}function O8(d,g){for(;Bi!==null;){var _=Bi;switch(_.tag){case 0:case 11:case 15:Rf(8,_,g);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var S=_.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:r1(_.memoizedState.cache)}if(S=_.child,S!==null)S.return=_,Bi=S;else e:for(_=d;Bi!==null;){S=Bi;var R=S.sibling,L=S.return;if(E8(S),S===_){Bi=null;break e}if(R!==null){R.return=L,Bi=R;break e}Bi=L}}}var Ape={getCacheForType:function(d){var g=va(wi),_=g.data.get(d);return _===void 0&&(_=d(),g.data.set(d,_)),_}},Epe=typeof WeakMap=="function"?WeakMap:Map,Gr=0,rn=null,lr=null,Sr=0,jr=0,zs=null,Pf=!1,Vg=!1,LR=!1,Ac=0,In=0,Lf=0,qd=0,OR=0,_o=0,zg=0,w1=null,_s=null,NR=!1,FR=0,FS=1/0,BS=null,Of=null,Ki=0,Nf=null,Ug=null,Hg=0,BR=0,VR=null,N8=null,b1=0,zR=null;function Us(){if((Gr&2)!==0&&Sr!==0)return Sr&-Sr;if(U.T!==null){var d=Ig;return d!==0?d:qR()}return Ql()}function F8(){_o===0&&(_o=(Sr&536870912)===0||Nr?yf():536870912);var d=yo.current;return d!==null&&(d.flags|=32),_o}function Hs(d,g,_){(d===rn&&(jr===2||jr===9)||d.cancelPendingCommit!==null)&&(Gg(d,0),Ff(d,Sr,_o,!1)),ol(d,_),((Gr&2)===0||d!==rn)&&(d===rn&&((Gr&2)===0&&(qd|=_),In===4&&Ff(d,Sr,_o,!1)),hu(d))}function B8(d,g,_){if((Gr&6)!==0)throw Error(n(327));var S=!_&&(g&124)===0&&(g&d.expiredLanes)===0||al(d,g),R=S?Ipe(d,g):GR(d,g,!0),L=S;do{if(R===0){Vg&&!S&&Ff(d,g,0,!1);break}else{if(_=d.current.alternate,L&&!Cpe(_)){R=GR(d,g,!1),L=!1;continue}if(R===2){if(L=g,d.errorRecoveryDisabledLanes&L)var z=0;else z=d.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){g=z;e:{var K=d;R=w1;var fe=K.current.memoizedState.isDehydrated;if(fe&&(Gg(K,z).flags|=256),z=GR(K,z,!1),z!==2){if(LR&&!fe){K.errorRecoveryDisabledLanes|=L,qd|=L,R=4;break e}L=_s,_s=R,L!==null&&(_s===null?_s=L:_s.push.apply(_s,L))}R=z}if(L=!1,R!==2)continue}}if(R===1){Gg(d,0),Ff(d,g,0,!0);break}e:{switch(S=d,L=R,L){case 0:case 1:throw Error(n(345));case 4:if((g&4194048)!==g)break;case 6:Ff(S,g,_o,!Pf);break e;case 2:_s=null;break;case 3:case 5:break;default:throw Error(n(329))}if((g&62914560)===g&&(R=FR+300-He(),10<R)){if(Ff(S,g,_o,!Pf),il(S,0,!0)!==0)break e;S.timeoutHandle=dU(V8.bind(null,S,_,_s,BS,NR,g,_o,qd,zg,Pf,L,2,-0,0),R);break e}V8(S,_,_s,BS,NR,g,_o,qd,zg,Pf,L,0,-0,0)}}break}while(!0);hu(d)}function V8(d,g,_,S,R,L,z,K,fe,we,Ne,ze,Ee,De){if(d.timeoutHandle=-1,ze=g.subtreeFlags,(ze&8192||(ze&16785408)===16785408)&&(I1={stylesheets:null,count:0,unsuspend:lve},M8(g),ze=cve(),ze!==null)){d.cancelPendingCommit=ze($8.bind(null,d,g,L,_,S,R,z,K,fe,Ne,1,Ee,De)),Ff(d,L,z,!we);return}$8(d,g,L,_,S,R,z,K,fe)}function Cpe(d){for(var g=d;;){var _=g.tag;if((_===0||_===11||_===15)&&g.flags&16384&&(_=g.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var S=0;S<_.length;S++){var R=_[S],L=R.getSnapshot;R=R.value;try{if(!Ns(L(),R))return!1}catch{return!1}}if(_=g.child,g.subtreeFlags&16384&&_!==null)_.return=g,g=_;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ff(d,g,_,S){g&=~OR,g&=~qd,d.suspendedLanes|=g,d.pingedLanes&=~g,S&&(d.warmLanes|=g),S=d.expirationTimes;for(var R=g;0<R;){var L=31-yr(R),z=1<<L;S[L]=-1,R&=~z}_!==0&&lo(d,_,g)}function VS(){return(Gr&6)===0?(S1(0),!1):!0}function UR(){if(lr!==null){if(jr===0)var d=lr.return;else d=lr,mc=Ud=null,iR(d),Og=null,d1=0,d=lr;for(;d!==null;)y8(d.alternate,d),d=d.return;lr=null}}function Gg(d,g){var _=d.timeoutHandle;_!==-1&&(d.timeoutHandle=-1,Wpe(_)),_=d.cancelPendingCommit,_!==null&&(d.cancelPendingCommit=null,_()),UR(),rn=d,lr=_=pc(d.current,null),Sr=g,jr=0,zs=null,Pf=!1,Vg=al(d,g),LR=!1,zg=_o=OR=qd=Lf=In=0,_s=w1=null,NR=!1,(g&8)!==0&&(g|=g&32);var S=d.entangledLanes;if(S!==0)for(d=d.entanglements,S&=g;0<S;){var R=31-yr(S),L=1<<R;g|=d[R],S&=~L}return Ac=g,oS(),_}function z8(d,g){nr=null,U.H=ES,g===i1||g===gS?(g=nz(),jr=3):g===ez?(g=nz(),jr=4):jr=g===i8?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,zs=g,lr===null&&(In=1,kS(d,po(g,d.current)))}function U8(){var d=U.H;return U.H=ES,d===null?ES:d}function H8(){var d=U.A;return U.A=Ape,d}function HR(){In=4,Pf||(Sr&4194048)!==Sr&&yo.current!==null||(Vg=!0),(Lf&134217727)===0&&(qd&134217727)===0||rn===null||Ff(rn,Sr,_o,!1)}function GR(d,g,_){var S=Gr;Gr|=2;var R=U8(),L=H8();(rn!==d||Sr!==g)&&(BS=null,Gg(d,g)),g=!1;var z=In;e:do try{if(jr!==0&&lr!==null){var K=lr,fe=zs;switch(jr){case 8:UR(),z=6;break e;case 3:case 2:case 9:case 6:yo.current===null&&(g=!0);var we=jr;if(jr=0,zs=null,jg(d,K,fe,we),_&&Vg){z=0;break e}break;default:we=jr,jr=0,zs=null,jg(d,K,fe,we)}}Dpe(),z=In;break}catch(Ne){z8(d,Ne)}while(!0);return g&&d.shellSuspendCounter++,mc=Ud=null,Gr=S,U.H=R,U.A=L,lr===null&&(rn=null,Sr=0,oS()),z}function Dpe(){for(;lr!==null;)G8(lr)}function Ipe(d,g){var _=Gr;Gr|=2;var S=U8(),R=H8();rn!==d||Sr!==g?(BS=null,FS=He()+500,Gg(d,g)):Vg=al(d,g);e:do try{if(jr!==0&&lr!==null){g=lr;var L=zs;t:switch(jr){case 1:jr=0,zs=null,jg(d,g,L,1);break;case 2:case 9:if(tz(L)){jr=0,zs=null,j8(g);break}g=function(){jr!==2&&jr!==9||rn!==d||(jr=7),hu(d)},L.then(g,g);break e;case 3:jr=7;break e;case 4:jr=5;break e;case 7:tz(L)?(jr=0,zs=null,j8(g)):(jr=0,zs=null,jg(d,g,L,7));break;case 5:var z=null;switch(lr.tag){case 26:z=lr.memoizedState;case 5:case 27:var K=lr;if(!z||AU(z)){jr=0,zs=null;var fe=K.sibling;if(fe!==null)lr=fe;else{var we=K.return;we!==null?(lr=we,zS(we)):lr=null}break t}}jr=0,zs=null,jg(d,g,L,5);break;case 6:jr=0,zs=null,jg(d,g,L,6);break;case 8:UR(),In=6;break e;default:throw Error(n(462))}}Rpe();break}catch(Ne){z8(d,Ne)}while(!0);return mc=Ud=null,U.H=S,U.A=R,Gr=_,lr!==null?0:(rn=null,Sr=0,oS(),In)}function Rpe(){for(;lr!==null&&!ct();)G8(lr)}function G8(d){var g=g8(d.alternate,d,Ac);d.memoizedProps=d.pendingProps,g===null?zS(d):lr=g}function j8(d){var g=d,_=g.alternate;switch(g.tag){case 15:case 0:g=c8(_,g,g.pendingProps,g.type,void 0,Sr);break;case 11:g=c8(_,g,g.pendingProps,g.type.render,g.ref,Sr);break;case 5:iR(g);default:y8(_,g),g=lr=W6(g,Ac),g=g8(_,g,Ac)}d.memoizedProps=d.pendingProps,g===null?zS(d):lr=g}function jg(d,g,_,S){mc=Ud=null,iR(g),Og=null,d1=0;var R=g.return;try{if(_pe(d,R,g,_,Sr)){In=1,kS(d,po(_,d.current)),lr=null;return}}catch(L){if(R!==null)throw lr=R,L;In=1,kS(d,po(_,d.current)),lr=null;return}g.flags&32768?(Nr||S===1?d=!0:Vg||(Sr&536870912)!==0?d=!1:(Pf=d=!0,(S===2||S===9||S===3||S===6)&&(S=yo.current,S!==null&&S.tag===13&&(S.flags|=16384))),W8(g,d)):zS(g)}function zS(d){var g=d;do{if((g.flags&32768)!==0){W8(g,Pf);return}d=g.return;var _=wpe(g.alternate,g,Ac);if(_!==null){lr=_;return}if(g=g.sibling,g!==null){lr=g;return}lr=g=d}while(g!==null);In===0&&(In=5)}function W8(d,g){do{var _=bpe(d.alternate,d);if(_!==null){_.flags&=32767,lr=_;return}if(_=d.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!g&&(d=d.sibling,d!==null)){lr=d;return}lr=d=_}while(d!==null);In=6,lr=null}function $8(d,g,_,S,R,L,z,K,fe){d.cancelPendingCommit=null;do US();while(Ki!==0);if((Gr&6)!==0)throw Error(n(327));if(g!==null){if(g===d.current)throw Error(n(177));if(L=g.lanes|g.childLanes,L|=PI,Kl(d,_,L,z,K,fe),d===rn&&(lr=rn=null,Sr=0),Ug=g,Nf=d,Hg=_,BR=L,VR=R,N8=S,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Lpe(Ve,function(){return Z8(),null})):(d.callbackNode=null,d.callbackPriority=0),S=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||S){S=U.T,U.T=null,R=X.p,X.p=2,z=Gr,Gr|=4;try{Spe(d,g,_)}finally{Gr=z,X.p=R,U.T=S}}Ki=1,q8(),Y8(),X8()}}function q8(){if(Ki===1){Ki=0;var d=Nf,g=Ug,_=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||_){_=U.T,U.T=null;var S=X.p;X.p=2;var R=Gr;Gr|=4;try{I8(g,d);var L=tk,z=O6(d.containerInfo),K=L.focusedElem,fe=L.selectionRange;if(z!==K&&K&&K.ownerDocument&&L6(K.ownerDocument.documentElement,K)){if(fe!==null&&DI(K)){var we=fe.start,Ne=fe.end;if(Ne===void 0&&(Ne=we),"selectionStart"in K)K.selectionStart=we,K.selectionEnd=Math.min(Ne,K.value.length);else{var ze=K.ownerDocument||document,Ee=ze&&ze.defaultView||window;if(Ee.getSelection){var De=Ee.getSelection(),Bt=K.textContent.length,Rt=Math.min(fe.start,Bt),Kr=fe.end===void 0?Rt:Math.min(fe.end,Bt);!De.extend&&Rt>Kr&&(z=Kr,Kr=Rt,Rt=z);var pe=P6(K,Rt),he=P6(K,Kr);if(pe&&he&&(De.rangeCount!==1||De.anchorNode!==pe.node||De.anchorOffset!==pe.offset||De.focusNode!==he.node||De.focusOffset!==he.offset)){var ye=ze.createRange();ye.setStart(pe.node,pe.offset),De.removeAllRanges(),Rt>Kr?(De.addRange(ye),De.extend(he.node,he.offset)):(ye.setEnd(he.node,he.offset),De.addRange(ye))}}}}for(ze=[],De=K;De=De.parentNode;)De.nodeType===1&&ze.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<ze.length;K++){var Fe=ze[K];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}JS=!!ek,tk=ek=null}finally{Gr=R,X.p=S,U.T=_}}d.current=g,Ki=2}}function Y8(){if(Ki===2){Ki=0;var d=Nf,g=Ug,_=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||_){_=U.T,U.T=null;var S=X.p;X.p=2;var R=Gr;Gr|=4;try{A8(d,g.alternate,g)}finally{Gr=R,X.p=S,U.T=_}}Ki=3}}function X8(){if(Ki===4||Ki===3){Ki=0,it();var d=Nf,g=Ug,_=Hg,S=N8;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?Ki=5:(Ki=0,Ug=Nf=null,K8(d,d.pendingLanes));var R=d.pendingLanes;if(R===0&&(Of=null),xf(_),g=g.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Et,g,void 0,(g.current.flags&128)===128)}catch{}if(S!==null){g=U.T,R=X.p,X.p=2,U.T=null;try{for(var L=d.onRecoverableError,z=0;z<S.length;z++){var K=S[z];L(K.value,{componentStack:K.stack})}}finally{U.T=g,X.p=R}}(Hg&3)!==0&&US(),hu(d),R=d.pendingLanes,(_&4194090)!==0&&(R&42)!==0?d===zR?b1++:(b1=0,zR=d):b1=0,S1(0)}}function K8(d,g){(d.pooledCacheLanes&=g)===0&&(g=d.pooledCache,g!=null&&(d.pooledCache=null,r1(g)))}function US(d){return q8(),Y8(),X8(),Z8()}function Z8(){if(Ki!==5)return!1;var d=Nf,g=BR;BR=0;var _=xf(Hg),S=U.T,R=X.p;try{X.p=32>_?32:_,U.T=null,_=VR,VR=null;var L=Nf,z=Hg;if(Ki=0,Ug=Nf=null,Hg=0,(Gr&6)!==0)throw Error(n(331));var K=Gr;if(Gr|=4,L8(L.current),k8(L,L.current,z,_),Gr=K,S1(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Et,L)}catch{}return!0}finally{X.p=R,U.T=S,K8(d,g)}}function Q8(d,g,_){g=po(_,g),g=yR(d.stateNode,g,2),d=Ef(d,g,2),d!==null&&(ol(d,2),hu(d))}function en(d,g,_){if(d.tag===3)Q8(d,d,_);else for(;g!==null;){if(g.tag===3){Q8(g,d,_);break}else if(g.tag===1){var S=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Of===null||!Of.has(S))){d=po(_,d),_=r8(2),S=Ef(g,_,2),S!==null&&(n8(_,S,g,d),ol(S,2),hu(S));break}}g=g.return}}function jR(d,g,_){var S=d.pingCache;if(S===null){S=d.pingCache=new Epe;var R=new Set;S.set(g,R)}else R=S.get(g),R===void 0&&(R=new Set,S.set(g,R));R.has(_)||(LR=!0,R.add(_),d=kpe.bind(null,d,g,_),g.then(d,d))}function kpe(d,g,_){var S=d.pingCache;S!==null&&S.delete(g),d.pingedLanes|=d.suspendedLanes&_,d.warmLanes&=~_,rn===d&&(Sr&_)===_&&(In===4||In===3&&(Sr&62914560)===Sr&&300>He()-FR?(Gr&2)===0&&Gg(d,0):OR|=_,zg===Sr&&(zg=0)),hu(d)}function J8(d,g){g===0&&(g=_f()),d=Ag(d,g),d!==null&&(ol(d,g),hu(d))}function Mpe(d){var g=d.memoizedState,_=0;g!==null&&(_=g.retryLane),J8(d,_)}function Ppe(d,g){var _=0;switch(d.tag){case 13:var S=d.stateNode,R=d.memoizedState;R!==null&&(_=R.retryLane);break;case 19:S=d.stateNode;break;case 22:S=d.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(g),J8(d,_)}function Lpe(d,g){return pt(d,g)}var HS=null,Wg=null,WR=!1,GS=!1,$R=!1,Yd=0;function hu(d){d!==Wg&&d.next===null&&(Wg===null?HS=Wg=d:Wg=Wg.next=d),GS=!0,WR||(WR=!0,Npe())}function S1(d,g){if(!$R&&GS){$R=!0;do for(var _=!1,S=HS;S!==null;){if(d!==0){var R=S.pendingLanes;if(R===0)var L=0;else{var z=S.suspendedLanes,K=S.pingedLanes;L=(1<<31-yr(42|d)+1)-1,L&=R&~(z&~K),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(_=!0,nU(S,L))}else L=Sr,L=il(S,S===rn?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(L&3)===0||al(S,L)||(_=!0,nU(S,L));S=S.next}while(_);$R=!1}}function Ope(){eU()}function eU(){GS=WR=!1;var d=0;Yd!==0&&(jpe()&&(d=Yd),Yd=0);for(var g=He(),_=null,S=HS;S!==null;){var R=S.next,L=tU(S,g);L===0?(S.next=null,_===null?HS=R:_.next=R,R===null&&(Wg=_)):(_=S,(d!==0||(L&3)!==0)&&(GS=!0)),S=R}S1(d)}function tU(d,g){for(var _=d.suspendedLanes,S=d.pingedLanes,R=d.expirationTimes,L=d.pendingLanes&-62914561;0<L;){var z=31-yr(L),K=1<<z,fe=R[z];fe===-1?((K&_)===0||(K&S)!==0)&&(R[z]=mf(K,g)):fe<=g&&(d.expiredLanes|=K),L&=~K}if(g=rn,_=Sr,_=il(d,d===g?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),S=d.callbackNode,_===0||d===g&&(jr===2||jr===9)||d.cancelPendingCommit!==null)return S!==null&&S!==null&&tt(S),d.callbackNode=null,d.callbackPriority=0;if((_&3)===0||al(d,_)){if(g=_&-_,g===d.callbackPriority)return g;switch(S!==null&&tt(S),xf(_)){case 2:case 8:_=Jr;break;case 32:_=Ve;break;case 268435456:_=Nt;break;default:_=Ve}return S=rU.bind(null,d),_=pt(_,S),d.callbackPriority=g,d.callbackNode=_,g}return S!==null&&S!==null&&tt(S),d.callbackPriority=2,d.callbackNode=null,2}function rU(d,g){if(Ki!==0&&Ki!==5)return d.callbackNode=null,d.callbackPriority=0,null;var _=d.callbackNode;if(US()&&d.callbackNode!==_)return null;var S=Sr;return S=il(d,d===rn?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),S===0?null:(B8(d,S,g),tU(d,He()),d.callbackNode!=null&&d.callbackNode===_?rU.bind(null,d):null)}function nU(d,g){if(US())return null;B8(d,g,!0)}function Npe(){$pe(function(){(Gr&6)!==0?pt(gr,Ope):eU()})}function qR(){return Yd===0&&(Yd=yf()),Yd}function iU(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:dg(""+d)}function aU(d,g){var _=g.ownerDocument.createElement("input");return _.name=g.name,_.value=g.value,d.id&&_.setAttribute("form",d.id),g.parentNode.insertBefore(_,g),d=new FormData(d),_.parentNode.removeChild(_),d}function Fpe(d,g,_,S,R){if(g==="submit"&&_&&_.stateNode===R){var L=iU((R[dn]||null).action),z=S.submitter;z&&(g=(g=z[dn]||null)?iU(g.formAction):z.getAttribute("formAction"),g!==null&&(L=g,z=null));var K=new pg("action","action",null,S,R);d.push({event:K,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Yd!==0){var fe=z?aU(R,z):new FormData(R);dR(_,{pending:!0,data:fe,method:R.method,action:L},null,fe)}}else typeof L=="function"&&(K.preventDefault(),fe=z?aU(R,z):new FormData(R),dR(_,{pending:!0,data:fe,method:R.method,action:L},L,fe))},currentTarget:R}]})}}for(var YR=0;YR<MI.length;YR++){var XR=MI[YR],Bpe=XR.toLowerCase(),Vpe=XR[0].toUpperCase()+XR.slice(1);ul(Bpe,"on"+Vpe)}ul(B6,"onAnimationEnd"),ul(V6,"onAnimationIteration"),ul(z6,"onAnimationStart"),ul("dblclick","onDoubleClick"),ul("focusin","onFocus"),ul("focusout","onBlur"),ul(rpe,"onTransitionRun"),ul(npe,"onTransitionStart"),ul(ipe,"onTransitionCancel"),ul(U6,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zpe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(T1));function sU(d,g){g=(g&4)!==0;for(var _=0;_<d.length;_++){var S=d[_],R=S.event;S=S.listeners;e:{var L=void 0;if(g)for(var z=S.length-1;0<=z;z--){var K=S[z],fe=K.instance,we=K.currentTarget;if(K=K.listener,fe!==L&&R.isPropagationStopped())break e;L=K,R.currentTarget=we;try{L(R)}catch(Ne){RS(Ne)}R.currentTarget=null,L=fe}else for(z=0;z<S.length;z++){if(K=S[z],fe=K.instance,we=K.currentTarget,K=K.listener,fe!==L&&R.isPropagationStopped())break e;L=K,R.currentTarget=we;try{L(R)}catch(Ne){RS(Ne)}R.currentTarget=null,L=fe}}}}function ur(d,g){var _=g[bd];_===void 0&&(_=g[bd]=new Set);var S=d+"__bubble";_.has(S)||(oU(g,d,2,!1),_.add(S))}function KR(d,g,_){var S=0;g&&(S|=4),oU(_,d,S,g)}var jS="_reactListening"+Math.random().toString(36).slice(2);function ZR(d){if(!d[jS]){d[jS]=!0,be.forEach(function(_){_!=="selectionchange"&&(zpe.has(_)||KR(_,!1,d),KR(_,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[jS]||(g[jS]=!0,KR("selectionchange",!1,g))}}function oU(d,g,_,S){switch(kU(g)){case 2:var R=dve;break;case 8:R=pve;break;default:R=fk}_=R.bind(null,g,_,d),R=void 0,!fo||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(R=!0),S?R!==void 0?d.addEventListener(g,_,{capture:!0,passive:R}):d.addEventListener(g,_,!0):R!==void 0?d.addEventListener(g,_,{passive:R}):d.addEventListener(g,_,!1)}function QR(d,g,_,S,R){var L=S;if((g&1)===0&&(g&2)===0&&S!==null)e:for(;;){if(S===null)return;var z=S.tag;if(z===3||z===4){var K=S.stateNode.containerInfo;if(K===R)break;if(z===4)for(z=S.return;z!==null;){var fe=z.tag;if((fe===3||fe===4)&&z.stateNode.containerInfo===R)return;z=z.return}for(;K!==null;){if(z=oe(K),z===null)return;if(fe=z.tag,fe===5||fe===6||fe===26||fe===27){S=L=z;continue e}K=K.parentNode}}S=S.return}$b(function(){var we=L,Ne=co(_),ze=[];e:{var Ee=H6.get(d);if(Ee!==void 0){var De=pg,Bt=d;switch(d){case"keypress":if(nu(_)===0)break e;case"keydown":case"keyup":De=xg;break;case"focusin":Bt="focus",De=mg;break;case"focusout":Bt="blur",De=mg;break;case"beforeblur":case"afterblur":De=mg;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=TI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=eS;break;case B6:case V6:case z6:De=yg;break;case U6:De=rS;break;case"scroll":case"scrollend":De=qb;break;case"wheel":De=wg;break;case"copy":case"cut":case"paste":De=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Yy;break;case"toggle":case"beforetoggle":De=iS}var Rt=(g&4)!==0,Kr=!Rt&&(d==="scroll"||d==="scrollend"),pe=Rt?Ee!==null?Ee+"Capture":null:Ee;Rt=[];for(var he=we,ye;he!==null;){var Fe=he;if(ye=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||ye===null||pe===null||(Fe=Cd(he,pe),Fe!=null&&Rt.push(A1(he,Fe,ye))),Kr)break;he=he.return}0<Rt.length&&(Ee=new De(Ee,Bt,null,_,Ne),ze.push({event:Ee,listeners:Rt}))}}if((g&7)===0){e:{if(Ee=d==="mouseover"||d==="pointerover",De=d==="mouseout"||d==="pointerout",Ee&&_!==lc&&(Bt=_.relatedTarget||_.fromElement)&&(oe(Bt)||Bt[vs]))break e;if((De||Ee)&&(Ee=Ne.window===Ne?Ne:(Ee=Ne.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,De?(Bt=_.relatedTarget||_.toElement,De=we,Bt=Bt?oe(Bt):null,Bt!==null&&(Kr=a(Bt),Rt=Bt.tag,Bt!==Kr||Rt!==5&&Rt!==27&&Rt!==6)&&(Bt=null)):(De=null,Bt=we),De!==Bt)){if(Rt=ho,Fe="onMouseLeave",pe="onMouseEnter",he="mouse",(d==="pointerout"||d==="pointerover")&&(Rt=Yy,Fe="onPointerLeave",pe="onPointerEnter",he="pointer"),Kr=De==null?Ee:_e(De),ye=Bt==null?Ee:_e(Bt),Ee=new Rt(Fe,he+"leave",De,_,Ne),Ee.target=Kr,Ee.relatedTarget=ye,Fe=null,oe(Ne)===we&&(Rt=new Rt(pe,he+"enter",Bt,_,Ne),Rt.target=ye,Rt.relatedTarget=Kr,Fe=Rt),Kr=Fe,De&&Bt)t:{for(Rt=De,pe=Bt,he=0,ye=Rt;ye;ye=$g(ye))he++;for(ye=0,Fe=pe;Fe;Fe=$g(Fe))ye++;for(;0<he-ye;)Rt=$g(Rt),he--;for(;0<ye-he;)pe=$g(pe),ye--;for(;he--;){if(Rt===pe||pe!==null&&Rt===pe.alternate)break t;Rt=$g(Rt),pe=$g(pe)}Rt=null}else Rt=null;De!==null&&lU(ze,Ee,De,Rt,!1),Bt!==null&&Kr!==null&&lU(ze,Kr,Bt,Rt,!0)}}e:{if(Ee=we?_e(we):window,De=Ee.nodeName&&Ee.nodeName.toLowerCase(),De==="select"||De==="input"&&Ee.type==="file")var ht=C6;else if(xi(Ee))if(D6)ht=Jde;else{ht=Zde;var ar=Kde}else De=Ee.nodeName,!De||De.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?we&&Uy(we.elementType)&&(ht=C6):ht=Qde;if(ht&&(ht=ht(d,we))){dc(ze,ht,_,Ne);break e}ar&&ar(d,Ee,we),d==="focusout"&&we&&Ee.type==="number"&&we.memoizedProps.value!=null&&wf(Ee,"number",Ee.value)}switch(ar=we?_e(we):window,d){case"focusin":(xi(ar)||ar.contentEditable==="true")&&(bg=ar,II=we,Zy=null);break;case"focusout":Zy=II=bg=null;break;case"mousedown":RI=!0;break;case"contextmenu":case"mouseup":case"dragend":RI=!1,N6(ze,_,Ne);break;case"selectionchange":if(tpe)break;case"keydown":case"keyup":N6(ze,_,Ne)}var yt;if(su)e:{switch(d){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else wr?Re(d,_)&&(Mt="onCompositionEnd"):d==="keydown"&&_.keyCode===229&&(Mt="onCompositionStart");Mt&&(V&&_.locale!=="ko"&&(wr||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&wr&&(yt=Gy()):(ru=Ne,bf="value"in ru?ru.value:ru.textContent,wr=!0)),ar=WS(we,Mt),0<ar.length&&(Mt=new $y(Mt,d,null,_,Ne),ze.push({event:Mt,listeners:ar}),yt?Mt.data=yt:(yt=Qe(_),yt!==null&&(Mt.data=yt)))),(yt=F?_i(d,_):br(d,_))&&(Mt=WS(we,"onBeforeInput"),0<Mt.length&&(ar=new $y("onBeforeInput","beforeinput",null,_,Ne),ze.push({event:ar,listeners:Mt}),ar.data=yt)),Fpe(ze,d,we,_,Ne)}sU(ze,g)})}function A1(d,g,_){return{instance:d,listener:g,currentTarget:_}}function WS(d,g){for(var _=g+"Capture",S=[];d!==null;){var R=d,L=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||L===null||(R=Cd(d,_),R!=null&&S.unshift(A1(d,R,L)),R=Cd(d,g),R!=null&&S.push(A1(d,R,L))),d.tag===3)return S;d=d.return}return[]}function $g(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function lU(d,g,_,S,R){for(var L=g._reactName,z=[];_!==null&&_!==S;){var K=_,fe=K.alternate,we=K.stateNode;if(K=K.tag,fe!==null&&fe===S)break;K!==5&&K!==26&&K!==27||we===null||(fe=we,R?(we=Cd(_,L),we!=null&&z.unshift(A1(_,we,fe))):R||(we=Cd(_,L),we!=null&&z.push(A1(_,we,fe)))),_=_.return}z.length!==0&&d.push({event:g,listeners:z})}var Upe=/\r\n?/g,Hpe=/\u0000|\uFFFD/g;function uU(d){return(typeof d=="string"?d:""+d).replace(Upe,`
`).replace(Hpe,"")}function cU(d,g){return g=uU(g),uU(d)===g}function $S(){}function Xr(d,g,_,S,R,L){switch(_){case"children":typeof S=="string"?g==="body"||g==="textarea"&&S===""||uo(d,S):(typeof S=="number"||typeof S=="bigint")&&g!=="body"&&uo(d,""+S);break;case"className":_r(d,"class",S);break;case"tabIndex":_r(d,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(d,_,S);break;case"style":zy(d,S,L);break;case"data":if(g!=="object"){_r(d,"data",S);break}case"src":case"href":if(S===""&&(g!=="a"||_!=="href")){d.removeAttribute(_);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){d.removeAttribute(_);break}S=dg(""+S),d.setAttribute(_,S);break;case"action":case"formAction":if(typeof S=="function"){d.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(_==="formAction"?(g!=="input"&&Xr(d,g,"name",R.name,R,null),Xr(d,g,"formEncType",R.formEncType,R,null),Xr(d,g,"formMethod",R.formMethod,R,null),Xr(d,g,"formTarget",R.formTarget,R,null)):(Xr(d,g,"encType",R.encType,R,null),Xr(d,g,"method",R.method,R,null),Xr(d,g,"target",R.target,R,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){d.removeAttribute(_);break}S=dg(""+S),d.setAttribute(_,S);break;case"onClick":S!=null&&(d.onclick=$S);break;case"onScroll":S!=null&&ur("scroll",d);break;case"onScrollEnd":S!=null&&ur("scrollend",d);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(_=S.__html,_!=null){if(R.children!=null)throw Error(n(60));d.innerHTML=_}}break;case"multiple":d.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":d.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){d.removeAttribute("xlink:href");break}_=dg(""+S),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(_,""+S):d.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(_,""):d.removeAttribute(_);break;case"capture":case"download":S===!0?d.setAttribute(_,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(_,S):d.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?d.setAttribute(_,S):d.removeAttribute(_);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?d.removeAttribute(_):d.setAttribute(_,S);break;case"popover":ur("beforetoggle",d),ur("toggle",d),Rr(d,"popover",S);break;case"xlinkActuate":xr(d,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":xr(d,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":xr(d,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":xr(d,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":xr(d,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":xr(d,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":xr(d,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":xr(d,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":xr(d,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Rr(d,"is",S);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=bI.get(_)||_,Rr(d,_,S))}}function JR(d,g,_,S,R,L){switch(_){case"style":zy(d,S,L);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(_=S.__html,_!=null){if(R.children!=null)throw Error(n(60));d.innerHTML=_}}break;case"children":typeof S=="string"?uo(d,S):(typeof S=="number"||typeof S=="bigint")&&uo(d,""+S);break;case"onScroll":S!=null&&ur("scroll",d);break;case"onScrollEnd":S!=null&&ur("scrollend",d);break;case"onClick":S!=null&&(d.onclick=$S);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ae.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(R=_.endsWith("Capture"),g=_.slice(2,R?_.length-7:void 0),L=d[dn]||null,L=L!=null?L[_]:null,typeof L=="function"&&d.removeEventListener(g,L,R),typeof S=="function")){typeof L!="function"&&L!==null&&(_ in d?d[_]=null:d.hasAttribute(_)&&d.removeAttribute(_)),d.addEventListener(g,S,R);break e}_ in d?d[_]=S:S===!0?d.setAttribute(_,""):Rr(d,_,S)}}}function Zi(d,g,_){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ur("error",d),ur("load",d);var S=!1,R=!1,L;for(L in _)if(_.hasOwnProperty(L)){var z=_[L];if(z!=null)switch(L){case"src":S=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,g));default:Xr(d,g,L,z,_,null)}}R&&Xr(d,g,"srcSet",_.srcSet,_,null),S&&Xr(d,g,"src",_.src,_,null);return;case"input":ur("invalid",d);var K=L=z=R=null,fe=null,we=null;for(S in _)if(_.hasOwnProperty(S)){var Ne=_[S];if(Ne!=null)switch(S){case"name":R=Ne;break;case"type":z=Ne;break;case"checked":fe=Ne;break;case"defaultChecked":we=Ne;break;case"value":L=Ne;break;case"defaultValue":K=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,g));break;default:Xr(d,g,S,Ne,_,null)}}Td(d,L,K,fe,we,z,R,!1),hg(d);return;case"select":ur("invalid",d),S=z=L=null;for(R in _)if(_.hasOwnProperty(R)&&(K=_[R],K!=null))switch(R){case"value":L=K;break;case"defaultValue":z=K;break;case"multiple":S=K;default:Xr(d,g,R,K,_,null)}g=L,_=z,d.multiple=!!S,g!=null?oc(d,!!S,g,!1):_!=null&&oc(d,!!S,_,!0);return;case"textarea":ur("invalid",d),L=R=S=null;for(z in _)if(_.hasOwnProperty(z)&&(K=_[z],K!=null))switch(z){case"value":S=K;break;case"defaultValue":R=K;break;case"children":L=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:Xr(d,g,z,K,_,null)}Ad(d,S,R,L),hg(d);return;case"option":for(fe in _)if(_.hasOwnProperty(fe)&&(S=_[fe],S!=null))switch(fe){case"selected":d.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Xr(d,g,fe,S,_,null)}return;case"dialog":ur("beforetoggle",d),ur("toggle",d),ur("cancel",d),ur("close",d);break;case"iframe":case"object":ur("load",d);break;case"video":case"audio":for(S=0;S<T1.length;S++)ur(T1[S],d);break;case"image":ur("error",d),ur("load",d);break;case"details":ur("toggle",d);break;case"embed":case"source":case"link":ur("error",d),ur("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in _)if(_.hasOwnProperty(we)&&(S=_[we],S!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,g));default:Xr(d,g,we,S,_,null)}return;default:if(Uy(g)){for(Ne in _)_.hasOwnProperty(Ne)&&(S=_[Ne],S!==void 0&&JR(d,g,Ne,S,_,void 0));return}}for(K in _)_.hasOwnProperty(K)&&(S=_[K],S!=null&&Xr(d,g,K,S,_,null))}function Gpe(d,g,_,S){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,L=null,z=null,K=null,fe=null,we=null,Ne=null;for(De in _){var ze=_[De];if(_.hasOwnProperty(De)&&ze!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":fe=ze;default:S.hasOwnProperty(De)||Xr(d,g,De,null,S,ze)}}for(var Ee in S){var De=S[Ee];if(ze=_[Ee],S.hasOwnProperty(Ee)&&(De!=null||ze!=null))switch(Ee){case"type":L=De;break;case"name":R=De;break;case"checked":we=De;break;case"defaultChecked":Ne=De;break;case"value":z=De;break;case"defaultValue":K=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,g));break;default:De!==ze&&Xr(d,g,Ee,De,S,ze)}}Os(d,z,K,fe,we,Ne,L,R);return;case"select":De=z=K=Ee=null;for(L in _)if(fe=_[L],_.hasOwnProperty(L)&&fe!=null)switch(L){case"value":break;case"multiple":De=fe;default:S.hasOwnProperty(L)||Xr(d,g,L,null,S,fe)}for(R in S)if(L=S[R],fe=_[R],S.hasOwnProperty(R)&&(L!=null||fe!=null))switch(R){case"value":Ee=L;break;case"defaultValue":K=L;break;case"multiple":z=L;default:L!==fe&&Xr(d,g,R,L,S,fe)}g=K,_=z,S=De,Ee!=null?oc(d,!!_,Ee,!1):!!S!=!!_&&(g!=null?oc(d,!!_,g,!0):oc(d,!!_,_?[]:"",!1));return;case"textarea":De=Ee=null;for(K in _)if(R=_[K],_.hasOwnProperty(K)&&R!=null&&!S.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Xr(d,g,K,null,S,R)}for(z in S)if(R=S[z],L=_[z],S.hasOwnProperty(z)&&(R!=null||L!=null))switch(z){case"value":Ee=R;break;case"defaultValue":De=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:R!==L&&Xr(d,g,z,R,S,L)}qr(d,Ee,De);return;case"option":for(var Bt in _)if(Ee=_[Bt],_.hasOwnProperty(Bt)&&Ee!=null&&!S.hasOwnProperty(Bt))switch(Bt){case"selected":d.selected=!1;break;default:Xr(d,g,Bt,null,S,Ee)}for(fe in S)if(Ee=S[fe],De=_[fe],S.hasOwnProperty(fe)&&Ee!==De&&(Ee!=null||De!=null))switch(fe){case"selected":d.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:Xr(d,g,fe,Ee,S,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in _)Ee=_[Rt],_.hasOwnProperty(Rt)&&Ee!=null&&!S.hasOwnProperty(Rt)&&Xr(d,g,Rt,null,S,Ee);for(we in S)if(Ee=S[we],De=_[we],S.hasOwnProperty(we)&&Ee!==De&&(Ee!=null||De!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,g));break;default:Xr(d,g,we,Ee,S,De)}return;default:if(Uy(g)){for(var Kr in _)Ee=_[Kr],_.hasOwnProperty(Kr)&&Ee!==void 0&&!S.hasOwnProperty(Kr)&&JR(d,g,Kr,void 0,S,Ee);for(Ne in S)Ee=S[Ne],De=_[Ne],!S.hasOwnProperty(Ne)||Ee===De||Ee===void 0&&De===void 0||JR(d,g,Ne,Ee,S,De);return}}for(var pe in _)Ee=_[pe],_.hasOwnProperty(pe)&&Ee!=null&&!S.hasOwnProperty(pe)&&Xr(d,g,pe,null,S,Ee);for(ze in S)Ee=S[ze],De=_[ze],!S.hasOwnProperty(ze)||Ee===De||Ee==null&&De==null||Xr(d,g,ze,Ee,S,De)}var ek=null,tk=null;function qS(d){return d.nodeType===9?d:d.ownerDocument}function fU(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hU(d,g){if(d===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&g==="foreignObject"?0:d}function rk(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var nk=null;function jpe(){var d=window.event;return d&&d.type==="popstate"?d===nk?!1:(nk=d,!0):(nk=null,!1)}var dU=typeof setTimeout=="function"?setTimeout:void 0,Wpe=typeof clearTimeout=="function"?clearTimeout:void 0,pU=typeof Promise=="function"?Promise:void 0,$pe=typeof queueMicrotask=="function"?queueMicrotask:typeof pU<"u"?function(d){return pU.resolve(null).then(d).catch(qpe)}:dU;function qpe(d){setTimeout(function(){throw d})}function Bf(d){return d==="head"}function vU(d,g){var _=g,S=0,R=0;do{var L=_.nextSibling;if(d.removeChild(_),L&&L.nodeType===8)if(_=L.data,_==="/$"){if(0<S&&8>S){_=S;var z=d.ownerDocument;if(_&1&&E1(z.documentElement),_&2&&E1(z.body),_&4)for(_=z.head,E1(_),z=_.firstChild;z;){var K=z.nextSibling,fe=z.nodeName;z[re]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&z.rel.toLowerCase()==="stylesheet"||_.removeChild(z),z=K}}if(R===0){d.removeChild(L),L1(g);return}R--}else _==="$"||_==="$?"||_==="$!"?R++:S=_.charCodeAt(0)-48;else S=0;_=L}while(_);L1(g)}function ik(d){var g=d.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var _=g;switch(g=g.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":ik(_),ae(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}d.removeChild(_)}}function Ype(d,g,_,S){for(;d.nodeType===1;){var R=_;if(d.nodeName.toLowerCase()!==g.toLowerCase()){if(!S&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(S){if(!d[re])switch(g){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(L=d.getAttribute("rel"),L==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(L!==R.rel||d.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||d.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||d.getAttribute("title")!==(R.title==null?null:R.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(L=d.getAttribute("src"),(L!==(R.src==null?null:R.src)||d.getAttribute("type")!==(R.type==null?null:R.type)||d.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&L&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(g==="input"&&d.type==="hidden"){var L=R.name==null?null:""+R.name;if(R.type==="hidden"&&d.getAttribute("name")===L)return d}else return d;if(d=fl(d.nextSibling),d===null)break}return null}function Xpe(d,g,_){if(g==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!_||(d=fl(d.nextSibling),d===null))return null;return d}function ak(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function Kpe(d,g){var _=d.ownerDocument;if(d.data!=="$?"||_.readyState==="complete")g();else{var S=function(){g(),_.removeEventListener("DOMContentLoaded",S)};_.addEventListener("DOMContentLoaded",S),d._reactRetry=S}}function fl(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return d}var sk=null;function gU(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var _=d.data;if(_==="$"||_==="$!"||_==="$?"){if(g===0)return d;g--}else _==="/$"&&g++}d=d.previousSibling}return null}function mU(d,g,_){switch(g=qS(_),d){case"html":if(d=g.documentElement,!d)throw Error(n(452));return d;case"head":if(d=g.head,!d)throw Error(n(453));return d;case"body":if(d=g.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function E1(d){for(var g=d.attributes;g.length;)d.removeAttributeNode(g[0]);ae(d)}var xo=new Map,yU=new Set;function YS(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Ec=X.d;X.d={f:Zpe,r:Qpe,D:Jpe,C:eve,L:tve,m:rve,X:ive,S:nve,M:ave};function Zpe(){var d=Ec.f(),g=VS();return d||g}function Qpe(d){var g=ue(d);g!==null&&g.tag===5&&g.type==="form"?Bz(g):Ec.r(d)}var qg=typeof document>"u"?null:document;function _U(d,g,_){var S=qg;if(S&&typeof g=="string"&&g){var R=ii(g);R='link[rel="'+d+'"][href="'+R+'"]',typeof _=="string"&&(R+='[crossorigin="'+_+'"]'),yU.has(R)||(yU.add(R),d={rel:d,crossOrigin:_,href:g},S.querySelector(R)===null&&(g=S.createElement("link"),Zi(g,"link",d),ve(g),S.head.appendChild(g)))}}function Jpe(d){Ec.D(d),_U("dns-prefetch",d,null)}function eve(d,g){Ec.C(d,g),_U("preconnect",d,g)}function tve(d,g,_){Ec.L(d,g,_);var S=qg;if(S&&d&&g){var R='link[rel="preload"][as="'+ii(g)+'"]';g==="image"&&_&&_.imageSrcSet?(R+='[imagesrcset="'+ii(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(R+='[imagesizes="'+ii(_.imageSizes)+'"]')):R+='[href="'+ii(d)+'"]';var L=R;switch(g){case"style":L=Yg(d);break;case"script":L=Xg(d)}xo.has(L)||(d=c({rel:"preload",href:g==="image"&&_&&_.imageSrcSet?void 0:d,as:g},_),xo.set(L,d),S.querySelector(R)!==null||g==="style"&&S.querySelector(C1(L))||g==="script"&&S.querySelector(D1(L))||(g=S.createElement("link"),Zi(g,"link",d),ve(g),S.head.appendChild(g)))}}function rve(d,g){Ec.m(d,g);var _=qg;if(_&&d){var S=g&&typeof g.as=="string"?g.as:"script",R='link[rel="modulepreload"][as="'+ii(S)+'"][href="'+ii(d)+'"]',L=R;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Xg(d)}if(!xo.has(L)&&(d=c({rel:"modulepreload",href:d},g),xo.set(L,d),_.querySelector(R)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(D1(L)))return}S=_.createElement("link"),Zi(S,"link",d),ve(S),_.head.appendChild(S)}}}function nve(d,g,_){Ec.S(d,g,_);var S=qg;if(S&&d){var R=Ie(S).hoistableStyles,L=Yg(d);g=g||"default";var z=R.get(L);if(!z){var K={loading:0,preload:null};if(z=S.querySelector(C1(L)))K.loading=5;else{d=c({rel:"stylesheet",href:d,"data-precedence":g},_),(_=xo.get(L))&&ok(d,_);var fe=z=S.createElement("link");ve(fe),Zi(fe,"link",d),fe._p=new Promise(function(we,Ne){fe.onload=we,fe.onerror=Ne}),fe.addEventListener("load",function(){K.loading|=1}),fe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,XS(z,g,S)}z={type:"stylesheet",instance:z,count:1,state:K},R.set(L,z)}}}function ive(d,g){Ec.X(d,g);var _=qg;if(_&&d){var S=Ie(_).hoistableScripts,R=Xg(d),L=S.get(R);L||(L=_.querySelector(D1(R)),L||(d=c({src:d,async:!0},g),(g=xo.get(R))&&lk(d,g),L=_.createElement("script"),ve(L),Zi(L,"link",d),_.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(R,L))}}function ave(d,g){Ec.M(d,g);var _=qg;if(_&&d){var S=Ie(_).hoistableScripts,R=Xg(d),L=S.get(R);L||(L=_.querySelector(D1(R)),L||(d=c({src:d,async:!0,type:"module"},g),(g=xo.get(R))&&lk(d,g),L=_.createElement("script"),ve(L),Zi(L,"link",d),_.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(R,L))}}function xU(d,g,_,S){var R=(R=de.current)?YS(R):null;if(!R)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(g=Yg(_.href),_=Ie(R).hoistableStyles,S=_.get(g),S||(S={type:"style",instance:null,count:0,state:null},_.set(g,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){d=Yg(_.href);var L=Ie(R).hoistableStyles,z=L.get(d);if(z||(R=R.ownerDocument||R,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(d,z),(L=R.querySelector(C1(d)))&&!L._p&&(z.instance=L,z.state.loading=5),xo.has(d)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},xo.set(d,_),L||sve(R,d,_,z.state))),g&&S===null)throw Error(n(528,""));return z}if(g&&S!==null)throw Error(n(529,""));return null;case"script":return g=_.async,_=_.src,typeof _=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=Xg(_),_=Ie(R).hoistableScripts,S=_.get(g),S||(S={type:"script",instance:null,count:0,state:null},_.set(g,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function Yg(d){return'href="'+ii(d)+'"'}function C1(d){return'link[rel="stylesheet"]['+d+"]"}function wU(d){return c({},d,{"data-precedence":d.precedence,precedence:null})}function sve(d,g,_,S){d.querySelector('link[rel="preload"][as="style"]['+g+"]")?S.loading=1:(g=d.createElement("link"),S.preload=g,g.addEventListener("load",function(){return S.loading|=1}),g.addEventListener("error",function(){return S.loading|=2}),Zi(g,"link",_),ve(g),d.head.appendChild(g))}function Xg(d){return'[src="'+ii(d)+'"]'}function D1(d){return"script[async]"+d}function bU(d,g,_){if(g.count++,g.instance===null)switch(g.type){case"style":var S=d.querySelector('style[data-href~="'+ii(_.href)+'"]');if(S)return g.instance=S,ve(S),S;var R=c({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return S=(d.ownerDocument||d).createElement("style"),ve(S),Zi(S,"style",R),XS(S,_.precedence,d),g.instance=S;case"stylesheet":R=Yg(_.href);var L=d.querySelector(C1(R));if(L)return g.state.loading|=4,g.instance=L,ve(L),L;S=wU(_),(R=xo.get(R))&&ok(S,R),L=(d.ownerDocument||d).createElement("link"),ve(L);var z=L;return z._p=new Promise(function(K,fe){z.onload=K,z.onerror=fe}),Zi(L,"link",S),g.state.loading|=4,XS(L,_.precedence,d),g.instance=L;case"script":return L=Xg(_.src),(R=d.querySelector(D1(L)))?(g.instance=R,ve(R),R):(S=_,(R=xo.get(L))&&(S=c({},_),lk(S,R)),d=d.ownerDocument||d,R=d.createElement("script"),ve(R),Zi(R,"link",S),d.head.appendChild(R),g.instance=R);case"void":return null;default:throw Error(n(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(S=g.instance,g.state.loading|=4,XS(S,_.precedence,d));return g.instance}function XS(d,g,_){for(var S=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=S.length?S[S.length-1]:null,L=R,z=0;z<S.length;z++){var K=S[z];if(K.dataset.precedence===g)L=K;else if(L!==R)break}L?L.parentNode.insertBefore(d,L.nextSibling):(g=_.nodeType===9?_.head:_,g.insertBefore(d,g.firstChild))}function ok(d,g){d.crossOrigin==null&&(d.crossOrigin=g.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=g.referrerPolicy),d.title==null&&(d.title=g.title)}function lk(d,g){d.crossOrigin==null&&(d.crossOrigin=g.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=g.referrerPolicy),d.integrity==null&&(d.integrity=g.integrity)}var KS=null;function SU(d,g,_){if(KS===null){var S=new Map,R=KS=new Map;R.set(_,S)}else R=KS,S=R.get(_),S||(S=new Map,R.set(_,S));if(S.has(d))return S;for(S.set(d,null),_=_.getElementsByTagName(d),R=0;R<_.length;R++){var L=_[R];if(!(L[re]||L[Un]||d==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var z=L.getAttribute(g)||"";z=d+z;var K=S.get(z);K?K.push(L):S.set(z,[L])}}return S}function TU(d,g,_){d=d.ownerDocument||d,d.head.insertBefore(_,g==="title"?d.querySelector("head > title"):null)}function ove(d,g,_){if(_===1||g.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return d=g.disabled,typeof g.precedence=="string"&&d==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function AU(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var I1=null;function lve(){}function uve(d,g,_){if(I1===null)throw Error(n(475));var S=I1;if(g.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=Yg(_.href),L=d.querySelector(C1(R));if(L){d=L._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(S.count++,S=ZS.bind(S),d.then(S,S)),g.state.loading|=4,g.instance=L,ve(L);return}L=d.ownerDocument||d,_=wU(_),(R=xo.get(R))&&ok(_,R),L=L.createElement("link"),ve(L);var z=L;z._p=new Promise(function(K,fe){z.onload=K,z.onerror=fe}),Zi(L,"link",_),g.instance=L}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(g,d),(d=g.state.preload)&&(g.state.loading&3)===0&&(S.count++,g=ZS.bind(S),d.addEventListener("load",g),d.addEventListener("error",g))}}function cve(){if(I1===null)throw Error(n(475));var d=I1;return d.stylesheets&&d.count===0&&uk(d,d.stylesheets),0<d.count?function(g){var _=setTimeout(function(){if(d.stylesheets&&uk(d,d.stylesheets),d.unsuspend){var S=d.unsuspend;d.unsuspend=null,S()}},6e4);return d.unsuspend=g,function(){d.unsuspend=null,clearTimeout(_)}}:null}function ZS(){if(this.count--,this.count===0){if(this.stylesheets)uk(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var QS=null;function uk(d,g){d.stylesheets=null,d.unsuspend!==null&&(d.count++,QS=new Map,g.forEach(fve,d),QS=null,ZS.call(d))}function fve(d,g){if(!(g.state.loading&4)){var _=QS.get(d);if(_)var S=_.get(null);else{_=new Map,QS.set(d,_);for(var R=d.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<R.length;L++){var z=R[L];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(_.set(z.dataset.precedence,z),S=z)}S&&_.set(null,S)}R=g.instance,z=R.getAttribute("data-precedence"),L=_.get(z)||S,L===S&&_.set(null,R),_.set(z,R),this.count++,S=ZS.bind(this),R.addEventListener("load",S),R.addEventListener("error",S),L?L.parentNode.insertBefore(R,L.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(R,d.firstChild)),g.state.loading|=4}}var R1={$$typeof:b,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function hve(d,g,_,S,R,L,z,K){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.hiddenUpdates=sl(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=L,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function EU(d,g,_,S,R,L,z,K,fe,we,Ne,ze){return d=new hve(d,g,_,z,K,fe,we,ze),g=1,L===!0&&(g|=24),L=Fs(3,null,null,g),d.current=L,L.stateNode=d,g=jI(),g.refCount++,d.pooledCache=g,g.refCount++,L.memoizedState={element:S,isDehydrated:_,cache:g},YI(L),d}function CU(d){return d?(d=Eg,d):Eg}function DU(d,g,_,S,R,L){R=CU(R),S.context===null?S.context=R:S.pendingContext=R,S=Af(g),S.payload={element:_},L=L===void 0?null:L,L!==null&&(S.callback=L),_=Ef(d,S,g),_!==null&&(Hs(_,d,g),s1(_,d,g))}function IU(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<g?_:g}}function ck(d,g){IU(d,g),(d=d.alternate)&&IU(d,g)}function RU(d){if(d.tag===13){var g=Ag(d,67108864);g!==null&&Hs(g,d,67108864),ck(d,67108864)}}var JS=!0;function dve(d,g,_,S){var R=U.T;U.T=null;var L=X.p;try{X.p=2,fk(d,g,_,S)}finally{X.p=L,U.T=R}}function pve(d,g,_,S){var R=U.T;U.T=null;var L=X.p;try{X.p=8,fk(d,g,_,S)}finally{X.p=L,U.T=R}}function fk(d,g,_,S){if(JS){var R=hk(S);if(R===null)QR(d,g,S,eT,_),MU(d,S);else if(gve(R,d,g,_,S))S.stopPropagation();else if(MU(d,S),g&4&&-1<vve.indexOf(d)){for(;R!==null;){var L=ue(R);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var z=qi(L.pendingLanes);if(z!==0){var K=L;for(K.pendingLanes|=2,K.entangledLanes|=2;z;){var fe=1<<31-yr(z);K.entanglements[1]|=fe,z&=~fe}hu(L),(Gr&6)===0&&(FS=He()+500,S1(0))}}break;case 13:K=Ag(L,2),K!==null&&Hs(K,L,2),VS(),ck(L,2)}if(L=hk(S),L===null&&QR(d,g,S,eT,_),L===R)break;R=L}R!==null&&S.stopPropagation()}else QR(d,g,S,null,_)}}function hk(d){return d=co(d),dk(d)}var eT=null;function dk(d){if(eT=null,d=oe(d),d!==null){var g=a(d);if(g===null)d=null;else{var _=g.tag;if(_===13){if(d=s(g),d!==null)return d;d=null}else if(_===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null)}}return eT=d,null}function kU(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case gr:return 2;case Jr:return 8;case Ve:case At:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var pk=!1,Vf=null,zf=null,Uf=null,k1=new Map,M1=new Map,Hf=[],vve="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MU(d,g){switch(d){case"focusin":case"focusout":Vf=null;break;case"dragenter":case"dragleave":zf=null;break;case"mouseover":case"mouseout":Uf=null;break;case"pointerover":case"pointerout":k1.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":M1.delete(g.pointerId)}}function P1(d,g,_,S,R,L){return d===null||d.nativeEvent!==L?(d={blockedOn:g,domEventName:_,eventSystemFlags:S,nativeEvent:L,targetContainers:[R]},g!==null&&(g=ue(g),g!==null&&RU(g)),d):(d.eventSystemFlags|=S,g=d.targetContainers,R!==null&&g.indexOf(R)===-1&&g.push(R),d)}function gve(d,g,_,S,R){switch(g){case"focusin":return Vf=P1(Vf,d,g,_,S,R),!0;case"dragenter":return zf=P1(zf,d,g,_,S,R),!0;case"mouseover":return Uf=P1(Uf,d,g,_,S,R),!0;case"pointerover":var L=R.pointerId;return k1.set(L,P1(k1.get(L)||null,d,g,_,S,R)),!0;case"gotpointercapture":return L=R.pointerId,M1.set(L,P1(M1.get(L)||null,d,g,_,S,R)),!0}return!1}function PU(d){var g=oe(d.target);if(g!==null){var _=a(g);if(_!==null){if(g=_.tag,g===13){if(g=s(_),g!==null){d.blockedOn=g,cg(d.priority,function(){if(_.tag===13){var S=Us();S=Zl(S);var R=Ag(_,S);R!==null&&Hs(R,_,S),ck(_,S)}});return}}else if(g===3&&_.stateNode.current.memoizedState.isDehydrated){d.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}d.blockedOn=null}function tT(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var _=hk(d.nativeEvent);if(_===null){_=d.nativeEvent;var S=new _.constructor(_.type,_);lc=S,_.target.dispatchEvent(S),lc=null}else return g=ue(_),g!==null&&RU(g),d.blockedOn=_,!1;g.shift()}return!0}function LU(d,g,_){tT(d)&&_.delete(g)}function mve(){pk=!1,Vf!==null&&tT(Vf)&&(Vf=null),zf!==null&&tT(zf)&&(zf=null),Uf!==null&&tT(Uf)&&(Uf=null),k1.forEach(LU),M1.forEach(LU)}function rT(d,g){d.blockedOn===g&&(d.blockedOn=null,pk||(pk=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mve)))}var nT=null;function OU(d){nT!==d&&(nT=d,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nT===d&&(nT=null);for(var g=0;g<d.length;g+=3){var _=d[g],S=d[g+1],R=d[g+2];if(typeof S!="function"){if(dk(S||_)===null)continue;break}var L=ue(_);L!==null&&(d.splice(g,3),g-=3,dR(L,{pending:!0,data:R,method:_.method,action:S},S,R))}}))}function L1(d){function g(fe){return rT(fe,d)}Vf!==null&&rT(Vf,d),zf!==null&&rT(zf,d),Uf!==null&&rT(Uf,d),k1.forEach(g),M1.forEach(g);for(var _=0;_<Hf.length;_++){var S=Hf[_];S.blockedOn===d&&(S.blockedOn=null)}for(;0<Hf.length&&(_=Hf[0],_.blockedOn===null);)PU(_),_.blockedOn===null&&Hf.shift();if(_=(d.ownerDocument||d).$$reactFormReplay,_!=null)for(S=0;S<_.length;S+=3){var R=_[S],L=_[S+1],z=R[dn]||null;if(typeof L=="function")z||OU(_);else if(z){var K=null;if(L&&L.hasAttribute("formAction")){if(R=L,z=L[dn]||null)K=z.formAction;else if(dk(R)!==null)continue}else K=z.action;typeof K=="function"?_[S+1]=K:(_.splice(S,3),S-=3),OU(_)}}}function vk(d){this._internalRoot=d}iT.prototype.render=vk.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(n(409));var _=g.current,S=Us();DU(_,S,d,g,null,null)},iT.prototype.unmount=vk.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;DU(d.current,2,null,d,null,null),VS(),g[vs]=null}};function iT(d){this._internalRoot=d}iT.prototype.unstable_scheduleHydration=function(d){if(d){var g=Ql();d={blockedOn:null,target:d,priority:g};for(var _=0;_<Hf.length&&g!==0&&g<Hf[_].priority;_++);Hf.splice(_,0,d),_===0&&PU(d)}};var NU=e.version;if(NU!=="19.1.0")throw Error(n(527,NU,"19.1.0"));X.findDOMNode=function(d){var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=l(g),d=d!==null?u(d):null,d=d===null?null:d.stateNode,d};var yve={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aT.isDisabled&&aT.supportsFiber)try{Et=aT.inject(yve),mt=aT}catch{}}return N1.createRoot=function(d,g){if(!i(d))throw Error(n(299));var _=!1,S="",R=Qz,L=Jz,z=e8,K=null;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&(R=g.onUncaughtError),g.onCaughtError!==void 0&&(L=g.onCaughtError),g.onRecoverableError!==void 0&&(z=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(K=g.unstable_transitionCallbacks)),g=EU(d,1,!1,null,null,_,S,R,L,z,K,null),d[vs]=g.current,ZR(d),new vk(g)},N1.hydrateRoot=function(d,g,_){if(!i(d))throw Error(n(299));var S=!1,R="",L=Qz,z=Jz,K=e8,fe=null,we=null;return _!=null&&(_.unstable_strictMode===!0&&(S=!0),_.identifierPrefix!==void 0&&(R=_.identifierPrefix),_.onUncaughtError!==void 0&&(L=_.onUncaughtError),_.onCaughtError!==void 0&&(z=_.onCaughtError),_.onRecoverableError!==void 0&&(K=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(fe=_.unstable_transitionCallbacks),_.formState!==void 0&&(we=_.formState)),g=EU(d,1,!0,g,_??null,S,R,L,z,K,fe,we),g.context=CU(null),_=g.current,S=Us(),S=Zl(S),R=Af(S),R.callback=null,Ef(_,R,S),_=S,g.current.lanes=_,ol(g,_),hu(g),d[vs]=g.current,ZR(d),new iT(g)},N1.version="19.1.0",N1}var $U;function Ive(){if($U)return yk.exports;$U=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),yk.exports=Dve(),yk.exports}var Rve=Ive();KQ();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nx(){return Nx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Nx.apply(this,arguments)}var vh;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(vh||(vh={}));const qU="popstate";function kve(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return uO("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:CA(i)}return Pve(e,t,null,r)}function Nn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ZQ(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mve(){return Math.random().toString(36).substr(2,8)}function YU(r,e){return{usr:r.state,key:r.key,idx:e}}function uO(r,e,t,n){return t===void 0&&(t=null),Nx({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Jm(e):e,{state:t,key:e&&e.key||n||Mve()})}function CA(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jm(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Pve(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=vh.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Nx({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=vh.Pop;let y=c(),x=y==null?null:y-u;u=y,l&&l({action:o,location:m.location,delta:x})}function h(y,x){o=vh.Push;let w=uO(m.location,y,x);u=c()+1;let b=YU(w,u),T=m.createHref(w);try{s.pushState(b,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}a&&l&&l({action:o,location:m.location,delta:1})}function p(y,x){o=vh.Replace;let w=uO(m.location,y,x);u=c();let b=YU(w,u),T=m.createHref(w);s.replaceState(b,"",T),a&&l&&l({action:o,location:m.location,delta:0})}function v(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:CA(y);return w=w.replace(/ $/,"%20"),Nn(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return o},get location(){return r(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qU,f),l=y,()=>{i.removeEventListener(qU,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return s.go(y)}};return m}var XU;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(XU||(XU={}));function Lve(r,e,t){return t===void 0&&(t="/"),Ove(r,e,t)}function Ove(r,e,t,n){let i=typeof e=="string"?Jm(e):e,a=xm(i.pathname||"/",t);if(a==null)return null;let s=QQ(r);Nve(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=qve(a);o=Wve(s[l],u)}return o}function QQ(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Nn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ih([n,l.relativePath]),c=t.concat(l);a.children&&a.children.length>0&&(Nn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QQ(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Gve(u,a.index),routesMeta:c})};return r.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of JQ(a.path))i(a,s,l)}),e}function JQ(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=JQ(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function Nve(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:jve(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Fve=/^:[\w-]+$/,Bve=3,Vve=2,zve=1,Uve=10,Hve=-2,KU=r=>r==="*";function Gve(r,e){let t=r.split("/"),n=t.length;return t.some(KU)&&(n+=Hve),e&&(n+=Vve),t.filter(i=>!KU(i)).reduce((i,a)=>i+(Fve.test(a)?Bve:a===""?zve:Uve),n)}function jve(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Wve(r,e,t){let{routesMeta:n}=r,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=cO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ih([a,f.pathname]),pathnameBase:Zve(Ih([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ih([a,f.pathnameBase]))}return s}function cO(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=$ve(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let m=o[f]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:r}}function $ve(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ZQ(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function qve(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZQ(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function xm(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Yve(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Jm(r):r;return{pathname:t?t.startsWith("/")?t:Xve(t,e):e,search:Qve(n),hash:Jve(i)}}function Xve(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bk(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kve(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eJ(r,e){let t=Kve(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function tJ(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Jm(r):(i=Nx({},r),Nn(!i.pathname||!i.pathname.includes("?"),bk("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),bk("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),bk("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=t;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=Yve(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ih=r=>r.join("/").replace(/\/\/+/g,"/"),Zve=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Qve=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jve=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ege(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const rJ=["post","put","patch","delete"];new Set(rJ);const tge=["get",...rJ];new Set(tge);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fx(){return Fx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fx.apply(this,arguments)}const VC=ce.createContext(null),nJ=ce.createContext(null),ld=ce.createContext(null),zC=ce.createContext(null),Uv=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),iJ=ce.createContext(null);function rge(r,e){let{relative:t}=e===void 0?{}:e;Uw()||Nn(!1);let{basename:n,navigator:i}=ce.useContext(ld),{hash:a,pathname:s,search:o}=UC(r,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Ih([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Uw(){return ce.useContext(zC)!=null}function ey(){return Uw()||Nn(!1),ce.useContext(zC).location}function aJ(r){ce.useContext(ld).static||ce.useLayoutEffect(r)}function Hw(){let{isDataRoute:r}=ce.useContext(Uv);return r?vge():nge()}function nge(){Uw()||Nn(!1);let r=ce.useContext(VC),{basename:e,future:t,navigator:n}=ce.useContext(ld),{matches:i}=ce.useContext(Uv),{pathname:a}=ey(),s=JSON.stringify(eJ(i,t.v7_relativeSplatPath)),o=ce.useRef(!1);return aJ(()=>{o.current=!0}),ce.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=tJ(u,JSON.parse(s),a,c.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ih([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,a,r])}function UC(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=ce.useContext(ld),{matches:i}=ce.useContext(Uv),{pathname:a}=ey(),s=JSON.stringify(eJ(i,n.v7_relativeSplatPath));return ce.useMemo(()=>tJ(r,JSON.parse(s),a,t==="path"),[r,s,a,t])}function ige(r,e){return age(r,e)}function age(r,e,t,n){Uw()||Nn(!1);let{navigator:i}=ce.useContext(ld),{matches:a}=ce.useContext(Uv),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ey(),c;if(e){var f;let y=typeof e=="string"?Jm(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||Nn(!1),c=y}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Lve(r,{pathname:p}),m=cge(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Ih([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ih([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,n);return e&&m?ce.createElement(zC.Provider,{value:{location:Fx({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vh.Pop}},m):m}function sge(){let r=pge(),e=ege(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:i},t):null,null)}const oge=ce.createElement(sge,null);class lge extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ce.createElement(Uv.Provider,{value:this.props.routeContext},ce.createElement(iJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uge(r){let{routeContext:e,match:t,children:n}=r,i=ce.useContext(VC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ce.createElement(Uv.Provider,{value:e},n)}function cge(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=(i=t)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);c>=0||Nn(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=t,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let p,v=!1,m=null,y=null;t&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||oge,l&&(u<0&&h===0?(gge("route-fallback"),v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=m:v?b=y:f.route.Component?b=ce.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,ce.createElement(uge,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ce.createElement(lge,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var sJ=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(sJ||{}),oJ=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(oJ||{});function fge(r){let e=ce.useContext(VC);return e||Nn(!1),e}function hge(r){let e=ce.useContext(nJ);return e||Nn(!1),e}function dge(r){let e=ce.useContext(Uv);return e||Nn(!1),e}function lJ(r){let e=dge(),t=e.matches[e.matches.length-1];return t.route.id||Nn(!1),t.route.id}function pge(){var r;let e=ce.useContext(iJ),t=hge(),n=lJ();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function vge(){let{router:r}=fge(sJ.UseNavigateStable),e=lJ(oJ.UseNavigateStable),t=ce.useRef(!1);return aJ(()=>{t.current=!0}),ce.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Fx({fromRouteId:e},a)))},[r,e])}const ZU={};function gge(r,e,t){ZU[r]||(ZU[r]=!0)}function mge(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Do(r){Nn(!1)}function yge(r){let{basename:e="/",children:t=null,location:n,navigationType:i=vh.Pop,navigator:a,static:s=!1,future:o}=r;Uw()&&Nn(!1);let l=e.replace(/^\/*/,"/"),u=ce.useMemo(()=>({basename:l,navigator:a,static:s,future:Fx({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Jm(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,m=ce.useMemo(()=>{let y=xm(c,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:v},navigationType:i}},[l,c,f,h,p,v,i]);return m==null?null:ce.createElement(ld.Provider,{value:u},ce.createElement(zC.Provider,{children:t,value:m}))}function _ge(r){let{children:e,location:t}=r;return ige(fO(e),t)}new Promise(()=>{});function fO(r,e){e===void 0&&(e=[]);let t=[];return ce.Children.forEach(r,(n,i)=>{if(!ce.isValidElement(n))return;let a=[...e,i];if(n.type===ce.Fragment){t.push.apply(t,fO(n.props.children,a));return}n.type!==Do&&Nn(!1),!n.props.index||!n.props.children||Nn(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=fO(n.props.children,a)),t.push(s)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DA(){return DA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},DA.apply(this,arguments)}function uJ(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function xge(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wge(r,e){return r.button===0&&(!e||e==="_self")&&!xge(r)}const bge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sge=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Tge="6";try{window.__reactRouterVersion=Tge}catch{}const Age=ce.createContext({isTransitioning:!1}),Ege="startTransition",QU=Tve[Ege];function Cge(r){let{basename:e,children:t,future:n,window:i}=r,a=ce.useRef();a.current==null&&(a.current=kve({window:i,v5Compat:!0}));let s=a.current,[o,l]=ce.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=ce.useCallback(f=>{u&&QU?QU(()=>l(f)):l(f)},[l,u]);return ce.useLayoutEffect(()=>s.listen(c),[s,c]),ce.useEffect(()=>mge(n),[n]),ce.createElement(yge,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,future:n})}const Dge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ige=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wl=ce.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=uJ(e,bge),{basename:p}=ce.useContext(ld),v,m=!1;if(typeof u=="string"&&Ige.test(u)&&(v=u,Dge))try{let b=new URL(window.location.href),T=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=xm(T.pathname,p);T.origin===b.origin&&C!=null?u=C+T.search+T.hash:m=!0}catch{}let y=rge(u,{relative:i}),x=kge(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||x(b)}return ce.createElement("a",DA({},h,{href:v||y,onClick:m||a?n:w,ref:t,target:l}))}),cJ=ce.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:u,children:c}=e,f=uJ(e,Sge),h=UC(l,{relative:f.relative}),p=ey(),v=ce.useContext(nJ),{navigator:m,basename:y}=ce.useContext(ld),x=v!=null&&Mge(h)&&u===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(b=b.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&y&&(T=xm(T,y)||T);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=b===w||!s&&b.startsWith(w)&&b.charAt(C)==="/",A=T!=null&&(T===w||!s&&T.startsWith(w)&&T.charAt(w.length)==="/"),k={isActive:D,isPending:A,isTransitioning:x},I=D?n:void 0,M;typeof a=="function"?M=a(k):M=[a,D?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(k):o;return ce.createElement(wl,DA({},f,{"aria-current":I,className:M,ref:t,style:P,to:l,viewTransition:u}),typeof c=="function"?c(k):c)});var hO;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(hO||(hO={}));var JU;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(JU||(JU={}));function Rge(r){let e=ce.useContext(VC);return e||Nn(!1),e}function kge(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Hw(),u=ey(),c=UC(r,{relative:s});return ce.useCallback(f=>{if(wge(f,t)){f.preventDefault();let h=n!==void 0?n:CA(u)===CA(c);l(r,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,t,r,a,s,o])}function Mge(r,e){e===void 0&&(e={});let t=ce.useContext(Age);t==null&&Nn(!1);let{basename:n}=Rge(hO.useViewTransitionState),i=UC(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=xm(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=xm(t.nextLocation.pathname,n)||t.nextLocation.pathname;return cO(i.pathname,s)!=null||cO(i.pathname,a)!=null}const Pge=()=>{};var e9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Lge=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],s=r[t++],o=r[t++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=r[t++],s=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},hJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],s=i+1<r.length,o=s?r[i+1]:0,l=i+2<r.length,u=l?r[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),n.push(t[c],t[f],t[h],t[p])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(fJ(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Lge(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],o=i<r.length?t[r.charAt(i)]:0;++i;const u=i<r.length?t[r.charAt(i)]:64;++i;const f=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new Oge;const h=a<<2|o>>4;if(n.push(h),u!==64){const p=o<<4&240|u>>2;if(n.push(p),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Oge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nge=function(r){const e=fJ(r);return hJ.encodeByteArray(e,!0)},IA=function(r){return Nge(r).replace(/\./g,"")},dJ=function(r){try{return hJ.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bge=()=>Fge().__FIREBASE_DEFAULTS__,Vge=()=>{if(typeof process>"u"||typeof e9>"u")return;const r=e9.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zge=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&dJ(r[1]);return e&&JSON.parse(e)},HC=()=>{try{return Pge()||Bge()||Vge()||zge()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pJ=r=>HC()?.emulatorHosts?.[r],vJ=r=>{const e=pJ(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},gJ=()=>HC()?.config,mJ=r=>HC()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E3(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...r};return[IA(JSON.stringify(t)),IA(JSON.stringify(s)),""].join(".")}const X_={};function Hge(){const r={prod:[],emulator:[]};for(const e of Object.keys(X_))X_[e]?r.emulator.push(e):r.prod.push(e);return r}function Gge(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let t9=!1;function C3(r,e){if(typeof window>"u"||typeof document>"u"||!ud(window.location.host)||X_[r]===e||X_[r]||t9)return;X_[r]=e;function t(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=Hge().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{t9=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Gge(n),p=t("text"),v=document.getElementById(p)||document.createElement("span"),m=t("learnmore"),y=document.getElementById(m)||document.createElement("a"),x=t("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),c(y,m);const T=u();l(w,x),b.append(w,v,y,T),document.body.appendChild(b)}a?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oa())}function Wge(){const r=HC()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $ge(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qge(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yge(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xge(){const r=Oa();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kge(){return!Wge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zge(){try{return typeof indexedDB=="object"}catch{return!1}}function Qge(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jge="FirebaseError";class ec extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Jge,Object.setPrototypeOf(this,ec.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gw.prototype.create)}}class Gw{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?e0e(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ec(i,o,n)}}function e0e(r,e){return r.replace(t0e,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const t0e=/\{\$([^}]+)}/g;function r0e(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function yv(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],s=e[i];if(r9(a)&&r9(s)){if(!yv(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function r9(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function E_(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function C_(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function n0e(r,e){const t=new i0e(r,e);return t.subscribe.bind(t)}class i0e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");a0e(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Sk),i.error===void 0&&(i.error=Sk),i.complete===void 0&&(i.complete=Sk);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a0e(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Sk(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r){return r&&r._delegate?r._delegate:r}class Hh{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Uge;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l0e(e))try{this.getOrInitializeService({instanceIdentifier:Ep})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ep){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ep){return this.instances.has(e)}getOptions(e=Ep){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:o0e(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ep){return this.component?this.component.multipleInstances?e:Ep:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o0e(r){return r===Ep?void 0:r}function l0e(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s0e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(cr||(cr={}));const c0e={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},f0e=cr.INFO,h0e={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},d0e=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=h0e[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D3{constructor(e){this.name=e,this._logLevel=f0e,this._logHandler=d0e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c0e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...e),this._logHandler(this,cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...e),this._logHandler(this,cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,cr.INFO,...e),this._logHandler(this,cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,cr.WARN,...e),this._logHandler(this,cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...e),this._logHandler(this,cr.ERROR,...e)}}const p0e=(r,e)=>e.some(t=>r instanceof t);let n9,i9;function v0e(){return n9||(n9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g0e(){return i9||(i9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _J=new WeakMap,dO=new WeakMap,xJ=new WeakMap,Tk=new WeakMap,I3=new WeakMap;function m0e(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",s)},a=()=>{t(Rh(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&_J.set(t,r)}).catch(()=>{}),I3.set(e,r),e}function y0e(r){if(dO.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",s),r.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",s),r.addEventListener("abort",s)});dO.set(r,e)}let pO={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return dO.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xJ.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rh(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _0e(r){pO=r(pO)}function x0e(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Ak(this),e,...t);return xJ.set(n,e.sort?e.sort():[e]),Rh(n)}:g0e().includes(r)?function(...e){return r.apply(Ak(this),e),Rh(_J.get(this))}:function(...e){return Rh(r.apply(Ak(this),e))}}function w0e(r){return typeof r=="function"?x0e(r):(r instanceof IDBTransaction&&y0e(r),p0e(r,v0e())?new Proxy(r,pO):r)}function Rh(r){if(r instanceof IDBRequest)return m0e(r);if(Tk.has(r))return Tk.get(r);const e=w0e(r);return e!==r&&(Tk.set(r,e),I3.set(e,r)),e}const Ak=r=>I3.get(r);function b0e(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(r,e),o=Rh(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Rh(s.result),l.oldVersion,l.newVersion,Rh(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const S0e=["get","getKey","getAll","getAllKeys","count"],T0e=["put","add","delete","clear"],Ek=new Map;function a9(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ek.get(e))return Ek.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=T0e.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||S0e.includes(t)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),i&&l.done]))[0]};return Ek.set(e,a),a}_0e(r=>({...r,get:(e,t,n)=>a9(e,t)||r.get(e,t,n),has:(e,t)=>!!a9(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(E0e(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function E0e(r){return r.getComponent()?.type==="VERSION"}const vO="@firebase/app",s9="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new D3("@firebase/app"),C0e="@firebase/app-compat",D0e="@firebase/analytics-compat",I0e="@firebase/analytics",R0e="@firebase/app-check-compat",k0e="@firebase/app-check",M0e="@firebase/auth",P0e="@firebase/auth-compat",L0e="@firebase/database",O0e="@firebase/data-connect",N0e="@firebase/database-compat",F0e="@firebase/functions",B0e="@firebase/functions-compat",V0e="@firebase/installations",z0e="@firebase/installations-compat",U0e="@firebase/messaging",H0e="@firebase/messaging-compat",G0e="@firebase/performance",j0e="@firebase/performance-compat",W0e="@firebase/remote-config",$0e="@firebase/remote-config-compat",q0e="@firebase/storage",Y0e="@firebase/storage-compat",X0e="@firebase/firestore",K0e="@firebase/ai",Z0e="@firebase/firestore-compat",Q0e="firebase",J0e="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="[DEFAULT]",eme={[vO]:"fire-core",[C0e]:"fire-core-compat",[I0e]:"fire-analytics",[D0e]:"fire-analytics-compat",[k0e]:"fire-app-check",[R0e]:"fire-app-check-compat",[M0e]:"fire-auth",[P0e]:"fire-auth-compat",[L0e]:"fire-rtdb",[O0e]:"fire-data-connect",[N0e]:"fire-rtdb-compat",[F0e]:"fire-fn",[B0e]:"fire-fn-compat",[V0e]:"fire-iid",[z0e]:"fire-iid-compat",[U0e]:"fire-fcm",[H0e]:"fire-fcm-compat",[G0e]:"fire-perf",[j0e]:"fire-perf-compat",[W0e]:"fire-rc",[$0e]:"fire-rc-compat",[q0e]:"fire-gcs",[Y0e]:"fire-gcs-compat",[X0e]:"fire-fst",[Z0e]:"fire-fst-compat",[K0e]:"fire-vertex","fire-js":"fire-js",[Q0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Map,tme=new Map,mO=new Map;function o9(r,e){try{r.container.addComponent(e)}catch(t){Jc.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _v(r){const e=r.name;if(mO.has(e))return Jc.debug(`There were multiple attempts to register component ${e}.`),!1;mO.set(e,r);for(const t of RA.values())o9(t,r);for(const t of tme.values())o9(t,r);return!0}function GC(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function qs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kh=new Gw("app","Firebase",rme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nme{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=J0e;function wJ(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:gO,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw kh.create("bad-app-name",{appName:String(i)});if(t||(t=gJ()),!t)throw kh.create("no-options");const a=RA.get(i);if(a){if(yv(t,a.options)&&yv(n,a.config))return a;throw kh.create("duplicate-app",{appName:i})}const s=new u0e(i);for(const l of mO.values())s.addComponent(l);const o=new nme(t,n,s);return RA.set(i,o),o}function R3(r=gO){const e=RA.get(r);if(!e&&r===gO&&gJ())return wJ();if(!e)throw kh.create("no-app",{appName:r});return e}function Pu(r,e,t){let n=eme[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jc.warn(s.join(" "));return}_v(new Hh(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ime="firebase-heartbeat-database",ame=1,Bx="firebase-heartbeat-store";let Ck=null;function bJ(){return Ck||(Ck=b0e(ime,ame,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bx)}catch(t){console.warn(t)}}}}).catch(r=>{throw kh.create("idb-open",{originalErrorMessage:r.message})})),Ck}async function sme(r){try{const t=(await bJ()).transaction(Bx),n=await t.objectStore(Bx).get(SJ(r));return await t.done,n}catch(e){if(e instanceof ec)Jc.warn(e.message);else{const t=kh.create("idb-get",{originalErrorMessage:e?.message});Jc.warn(t.message)}}}async function l9(r,e){try{const n=(await bJ()).transaction(Bx,"readwrite");await n.objectStore(Bx).put(e,SJ(r)),await n.done}catch(t){if(t instanceof ec)Jc.warn(t.message);else{const n=kh.create("idb-set",{originalErrorMessage:t?.message});Jc.warn(n.message)}}}function SJ(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ome=1024,lme=30;class ume{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fme(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=u9();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>lme){const i=hme(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Jc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u9(),{heartbeatsToSend:t,unsentEntries:n}=cme(this._heartbeatsCache.heartbeats),i=IA(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Jc.warn(e),""}}}function u9(){return new Date().toISOString().substring(0,10)}function cme(r,e=ome){const t=[];let n=r.slice();for(const i of r){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),c9(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),c9(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class fme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zge()?Qge().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sme(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return l9(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return l9(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function c9(r){return IA(JSON.stringify({version:2,heartbeats:r})).length}function hme(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dme(r){_v(new Hh("platform-logger",e=>new A0e(e),"PRIVATE")),_v(new Hh("heartbeat",e=>new ume(e),"PRIVATE")),Pu(vO,s9,r),Pu(vO,s9,"esm2020"),Pu("fire-js","")}dme("");var pme="firebase",vme="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pu(pme,vme,"app");function TJ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gme=TJ,AJ=new Gw("auth","Firebase",TJ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new D3("@firebase/auth");function mme(r,...e){kA.logLevel<=cr.WARN&&kA.warn(`Auth (${Hv}): ${r}`,...e)}function j2(r,...e){kA.logLevel<=cr.ERROR&&kA.error(`Auth (${Hv}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r,...e){throw k3(r,...e)}function Lu(r,...e){return k3(r,...e)}function EJ(r,e,t){const n={...gme(),[e]:t};return new Gw("auth","Firebase",n).create(e,{appName:r.name})}function Wc(r){return EJ(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k3(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return AJ.create(r,...e)}function Lt(r,e,...t){if(!r)throw k3(e,...t)}function Nc(r){const e="INTERNAL ASSERTION FAILED: "+r;throw j2(e),new Error(e)}function ef(r,e){r||Nc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return typeof self<"u"&&self.location?.href||""}function yme(){return f9()==="http:"||f9()==="https:"}function f9(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _me(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yme()||qge()||"connection"in navigator)?navigator.onLine:!0}function xme(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.shortDelay=e,this.longDelay=t,ef(t>e,"Short delay should be less than long delay!"),this.isMobile=jge()||Yge()}get(){return _me()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(r,e){ef(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sme=new Ww(3e4,6e4);function cd(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fd(r,e,t,n,i={}){return DJ(r,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=jw({key:r.config.apiKey,...s}).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const u={method:e,headers:l,...a};return $ge()||(u.referrerPolicy="no-referrer"),r.emulatorConfig&&ud(r.emulatorConfig.host)&&(u.credentials="include"),CJ.fetch()(await IJ(r,r.config.apiHost,t,o),u)})}async function DJ(r,e,t){r._canInitEmulator=!1;const n={...wme,...e};try{const i=new Ame(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw sT(r,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sT(r,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw sT(r,"email-already-in-use",s);if(l==="USER_DISABLED")throw sT(r,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EJ(r,c,u);Vl(r,c)}}catch(i){if(i instanceof ec)throw i;Vl(r,"network-request-failed",{message:String(i)})}}async function $w(r,e,t,n,i={}){const a=await fd(r,e,t,n,i);return"mfaPendingCredential"in a&&Vl(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function IJ(r,e,t,n){const i=`${e}${t}?${n}`,a=r,s=a.config.emulator?M3(r.config,i):`${r.config.apiScheme}://${i}`;return bme.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Tme(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ame{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Lu(this.auth,"network-request-failed")),Sme.get())})}}function sT(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Lu(r,e,n);return i.customData._tokenResponse=t,i}function h9(r){return r!==void 0&&r.enterprise!==void 0}class Eme{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Tme(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cme(r,e){return fd(r,"GET","/v2/recaptchaConfig",cd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dme(r,e){return fd(r,"POST","/v1/accounts:delete",e)}async function MA(r,e){return fd(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ime(r,e=!1){const t=Jn(r),n=await t.getIdToken(e),i=P3(n);Lt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:K_(Dk(i.auth_time)),issuedAtTime:K_(Dk(i.iat)),expirationTime:K_(Dk(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Dk(r){return Number(r)*1e3}function P3(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return j2("JWT malformed, contained fewer than 3 sections"),null;try{const i=dJ(t);return i?JSON.parse(i):(j2("Failed to decode base64 JWT payload"),null)}catch(i){return j2("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d9(r){const e=P3(r);return Lt(e,"internal-error"),Lt(typeof e.exp<"u","internal-error"),Lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ec&&Rme(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function Rme({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K_(this.lastLoginAt),this.creationTime=K_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(r){const e=r.auth,t=await r.getIdToken(),n=await Vx(r,MA(e,{idToken:t}));Lt(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const a=i.providerUserInfo?.length?RJ(i.providerUserInfo):[],s=Pme(r.providerData,a),o=r.isAnonymous,l=!(r.email&&i.passwordHash)&&!s?.length,u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _O(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(r,c)}async function Mme(r){const e=Jn(r);await PA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pme(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function RJ(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lme(r,e){const t=await DJ(r,{},async()=>{const n=jw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,s=await IJ(r,i,"/v1/token",`key=${a}`),o=await r._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return r.emulatorConfig&&ud(r.emulatorConfig.host)&&(l.credentials="include"),CJ.fetch()(s,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ome(r,e){return fd(r,"POST","/v2/accounts:revokeToken",cd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lt(e.idToken,"internal-error"),Lt(typeof e.idToken<"u","internal-error"),Lt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Lt(e.length!==0,"internal-error");const t=d9(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await Lme(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,s=new X0;return n&&(Lt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Lt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new X0,this.toJSON())}_performRefresh(){return Nc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(r,e){Lt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Al{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new kme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _O(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vx(this,this.stsTokenManager.getToken(this.auth,e));return Lt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ime(this,e)}reload(){return Mme(this)}_assign(e){this!==e&&(Lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Al({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await PA(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(Wc(this.auth));const e=await this.getIdToken();return await Vx(this,Dme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,s=t.photoURL??void 0,o=t.tenantId??void 0,l=t._redirectEventId??void 0,u=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:m}=t;Lt(f&&m,e,"internal-error");const y=X0.fromJSON(this.name,m);Lt(typeof f=="string",e,"internal-error"),jf(n,e.name),jf(i,e.name),Lt(typeof h=="boolean",e,"internal-error"),Lt(typeof p=="boolean",e,"internal-error"),jf(a,e.name),jf(s,e.name),jf(o,e.name),jf(l,e.name),jf(u,e.name),jf(c,e.name);const x=new Al({uid:f,auth:e,email:i,emailVerified:h,displayName:n,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:u,lastLoginAt:c});return v&&Array.isArray(v)&&(x.providerData=v.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,t,n=!1){const i=new X0;i.updateFromServerResponse(t);const a=new Al({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await PA(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Lt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?RJ(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,o=new X0;o.updateFromIdToken(n);const l=new Al({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _O(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new Map;function Fc(r){ef(r instanceof Function,"Expected a class definition");let e=p9.get(r);return e?(ef(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,p9.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kJ.type="NONE";const v9=kJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r,e,t){return`firebase:${r}:${e}:${t}`}class K0{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=W2(this.userKey,i.apiKey,a),this.fullPersistenceKey=W2("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await MA(this.auth,{idToken:e}).catch(()=>{});return t?Al._fromGetAccountInfoResponse(this.auth,t,e):null}return Al._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new K0(Fc(v9),e,n);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Fc(v9);const s=W2(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await MA(e,{idToken:c}).catch(()=>{});if(!h)break;f=await Al._fromGetAccountInfoResponse(e,h,c)}else f=Al._fromJSON(e,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new K0(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new K0(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OJ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MJ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FJ(e))return"Blackberry";if(BJ(e))return"Webos";if(PJ(e))return"Safari";if((e.includes("chrome/")||LJ(e))&&!e.includes("edge/"))return"Chrome";if(NJ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function MJ(r=Oa()){return/firefox\//i.test(r)}function PJ(r=Oa()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LJ(r=Oa()){return/crios\//i.test(r)}function OJ(r=Oa()){return/iemobile/i.test(r)}function NJ(r=Oa()){return/android/i.test(r)}function FJ(r=Oa()){return/blackberry/i.test(r)}function BJ(r=Oa()){return/webos/i.test(r)}function L3(r=Oa()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Nme(r=Oa()){return L3(r)&&!!window.navigator?.standalone}function Fme(){return Xge()&&document.documentMode===10}function VJ(r=Oa()){return L3(r)||NJ(r)||BJ(r)||FJ(r)||/windows phone/i.test(r)||OJ(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(r,e=[]){let t;switch(r){case"Browser":t=g9(Oa());break;case"Worker":t=`${g9(Oa())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bme{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vme(r,e={}){return fd(r,"GET","/v2/passwordPolicy",cd(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=6;class Ume{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??zme,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hme{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m9(this),this.idTokenSubscription=new m9(this),this.beforeStateQueue=new Bme(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AJ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await K0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await MA(this,{idToken:e}),n=await Al._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=n?._redirectEventId,o=await this.tryRedirectSignIn(e);(!a||a===s)&&o?.user&&(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await PA(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xme()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(Wc(this));const t=e?Jn(e):null;return t&&Lt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(Wc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(Wc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vme(this),t=new Ume(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gw("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await Ome(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fc(e)||this._popupRedirectResolver;Lt(t,this,"argument-error"),this.redirectPersistenceManager=await K0.create(this,[Fc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zJ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mme(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gv(r){return Jn(r)}class m9{constructor(e){this.auth=e,this.observer=null,this.addObserver=n0e(t=>this.observer=t)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gme(r){jC=r}function UJ(r){return jC.loadJS(r)}function jme(){return jC.recaptchaEnterpriseScript}function Wme(){return jC.gapiScript}function $me(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class qme{constructor(){this.enterprise=new Yme}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Yme{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Xme="recaptcha-enterprise",HJ="NO_RECAPTCHA";class Kme{constructor(e){this.type=Xme,this.auth=Gv(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Cme(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Eme(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;h9(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(HJ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qme().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!t&&h9(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jme();l.length!==0&&(l+=o),UJ(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function y9(r,e,t,n=!1,i=!1){const a=new Kme(r);let s;if(i)s=HJ;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const o={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xO(r,e,t,n,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await y9(r,e,t,t==="getOobCode");return n(r,a)}else return n(r,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await y9(r,e,t,t==="getOobCode");return n(r,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zme(r,e){const t=GC(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(yv(a,e??{}))return i;Vl(i,"already-initialized")}return t.initialize({options:e})}function Qme(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Fc);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function Jme(r,e,t){const n=Gv(r);Lt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=GJ(e),{host:s,port:o}=eye(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Lt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Lt(yv(u,n.config.emulator)&&yv(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,ud(s)?(E3(`${a}//${s}${l}`),C3("Auth",!0)):tye()}function GJ(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eye(r){const e=GJ(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:_9(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:_9(s)}}}function _9(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tye(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nc("not implemented")}_getIdTokenResponse(e){return Nc("not implemented")}_linkToIdToken(e,t){return Nc("not implemented")}_getReauthenticationResolver(e){return Nc("not implemented")}}async function rye(r,e){return fd(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nye(r,e){return $w(r,"POST","/v1/accounts:signInWithPassword",cd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iye(r,e){return $w(r,"POST","/v1/accounts:signInWithEmailLink",cd(r,e))}async function aye(r,e){return $w(r,"POST","/v1/accounts:signInWithEmailLink",cd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends O3{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zx(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zx(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xO(e,t,"signInWithPassword",nye);case"emailLink":return iye(e,{email:this._email,oobCode:this._password});default:Vl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xO(e,n,"signUpPassword",rye);case"emailLink":return aye(e,{idToken:t,email:this._email,oobCode:this._password});default:Vl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(r,e){return $w(r,"POST","/v1/accounts:signInWithIdp",cd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sye="http://localhost";class xv extends O3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=t;if(!n||!i)return null;const s=new xv(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Z0(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Z0(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Z0(e,t)}buildRequest(){const e={requestUri:sye,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jw(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oye(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lye(r){const e=E_(C_(r)).link,t=e?E_(C_(e)).deep_link_id:null,n=E_(C_(r)).deep_link_id;return(n?E_(C_(n)).link:null)||n||t||e||r}class N3{constructor(e){const t=E_(C_(e)),n=t.apiKey??null,i=t.oobCode??null,a=oye(t.mode??null);Lt(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lye(e);try{return new N3(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.providerId=ty.PROVIDER_ID}static credential(e,t){return zx._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=N3.parseLink(t);return Lt(n,"argument-error"),zx._fromEmailAndCode(e,n.code,n.tenantId)}}ty.PROVIDER_ID="password";ty.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ty.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends jJ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends qw{constructor(){super("facebook.com")}static credential(e){return xv._fromParams({providerId:ah.PROVIDER_ID,signInMethod:ah.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ah.credentialFromTaggedObject(e)}static credentialFromError(e){return ah.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ah.credential(e.oauthAccessToken)}catch{return null}}}ah.FACEBOOK_SIGN_IN_METHOD="facebook.com";ah.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends qw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xv._fromParams({providerId:sh.PROVIDER_ID,signInMethod:sh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sh.credentialFromTaggedObject(e)}static credentialFromError(e){return sh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return sh.credential(t,n)}catch{return null}}}sh.GOOGLE_SIGN_IN_METHOD="google.com";sh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends qw{constructor(){super("github.com")}static credential(e){return xv._fromParams({providerId:oh.PROVIDER_ID,signInMethod:oh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oh.credentialFromTaggedObject(e)}static credentialFromError(e){return oh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oh.credential(e.oauthAccessToken)}catch{return null}}}oh.GITHUB_SIGN_IN_METHOD="github.com";oh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends qw{constructor(){super("twitter.com")}static credential(e,t){return xv._fromParams({providerId:lh.PROVIDER_ID,signInMethod:lh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lh.credentialFromTaggedObject(e)}static credentialFromError(e){return lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return lh.credential(t,n)}catch{return null}}}lh.TWITTER_SIGN_IN_METHOD="twitter.com";lh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uye(r,e){return $w(r,"POST","/v1/accounts:signUp",cd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await Al._fromIdTokenResponse(e,n,i),s=x9(n);return new wv({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=x9(n);return new wv({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function x9(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends ec{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,LA.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new LA(e,t,n,i)}}function WJ(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?LA._fromErrorAndOperation(r,a,e,n):a})}async function cye(r,e,t=!1){const n=await Vx(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wv._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fye(r,e,t=!1){const{auth:n}=r;if(qs(n.app))return Promise.reject(Wc(n));const i="reauthenticate";try{const a=await Vx(r,WJ(n,i,e,r),t);Lt(a.idToken,n,"internal-error");const s=P3(a.idToken);Lt(s,n,"internal-error");const{sub:o}=s;return Lt(r.uid===o,n,"user-mismatch"),wv._forOperation(r,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Vl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $J(r,e,t=!1){if(qs(r.app))return Promise.reject(Wc(r));const n="signIn",i=await WJ(r,n,e),a=await wv._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function hye(r,e){return $J(Gv(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qJ(r){const e=Gv(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dye(r,e,t){if(qs(r.app))return Promise.reject(Wc(r));const n=Gv(r),s=await xO(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uye).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&qJ(r),l}),o=await wv._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function pye(r,e,t){return qs(r.app)?Promise.reject(Wc(r)):hye(Jn(r),ty.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&qJ(r),n})}function vye(r,e,t,n){return Jn(r).onIdTokenChanged(e,t,n)}function gye(r,e,t){return Jn(r).beforeAuthStateChanged(e,t)}function mye(r,e,t,n){return Jn(r).onAuthStateChanged(e,t,n)}const OA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(OA,"1"),this.storage.removeItem(OA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yye=1e3,_ye=10;class XJ extends YJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VJ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Fme()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_ye):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},yye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XJ.type="LOCAL";const xye=XJ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ extends YJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KJ.type="SESSION";const ZJ=KJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wye(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new WC(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(t.origin,a)),l=await wye(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}WC.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=F3("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(){return window}function Sye(r){Ou().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(){return typeof Ou().WorkerGlobalScope<"u"&&typeof Ou().importScripts=="function"}async function Tye(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Aye(){return navigator?.serviceWorker?.controller||null}function Eye(){return QJ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ="firebaseLocalStorageDb",Cye=1,NA="firebaseLocalStorage",eee="fbase_key";class Yw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $C(r,e){return r.transaction([NA],e?"readwrite":"readonly").objectStore(NA)}function Dye(){const r=indexedDB.deleteDatabase(JJ);return new Yw(r).toPromise()}function wO(){const r=indexedDB.open(JJ,Cye);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(NA,{keyPath:eee})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(NA)?e(n):(n.close(),await Dye(),e(await wO()))})})}async function w9(r,e,t){const n=$C(r,!0).put({[eee]:e,value:t});return new Yw(n).toPromise()}async function Iye(r,e){const t=$C(r,!1).get(e),n=await new Yw(t).toPromise();return n===void 0?null:n.value}function b9(r,e){const t=$C(r,!0).delete(e);return new Yw(t).toPromise()}const Rye=800,kye=3;class tee{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wO(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>kye)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QJ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WC._getInstance(Eye()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Tye(),!this.activeServiceWorker)return;this.sender=new bye(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Aye()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wO();return await w9(e,OA,"1"),await b9(e,OA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>w9(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Iye(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>b9(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$C(i,!1).getAll();return new Yw(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tee.type="LOCAL";const Mye=tee;new Ww(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pye(r,e){return e?Fc(e):(Lt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3 extends O3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Z0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Z0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Z0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lye(r){return $J(r.auth,new B3(r),r.bypassAuthState)}function Oye(r){const{auth:e,user:t}=r;return Lt(t,e,"internal-error"),fye(t,new B3(r),r.bypassAuthState)}async function Nye(r){const{auth:e,user:t}=r;return Lt(t,e,"internal-error"),cye(t,new B3(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lye;case"linkViaPopup":case"linkViaRedirect":return Nye;case"reauthViaPopup":case"reauthViaRedirect":return Oye;default:Vl(this.auth,"internal-error")}}resolve(e){ef(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ef(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fye=new Ww(2e3,1e4);class P0 extends ree{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,P0.currentPopupAction&&P0.currentPopupAction.cancel(),P0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Lt(e,this.auth,"internal-error"),e}async onExecution(){ef(this.filter.length===1,"Popup operations only handle one event");const e=F3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,P0.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fye.get())};e()}}P0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bye="pendingRedirect",$2=new Map;class Vye extends ree{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=$2.get(this.auth._key());if(!e){try{const n=await zye(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}$2.set(this.auth._key(),e)}return this.bypassAuthState||$2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zye(r,e){const t=Gye(e),n=Hye(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function Uye(r,e){$2.set(r._key(),e)}function Hye(r){return Fc(r._redirectPersistence)}function Gye(r){return W2(Bye,r.config.apiKey,r.name)}async function jye(r,e,t=!1){if(qs(r.app))return Promise.reject(Wc(r));const n=Gv(r),i=Pye(n,e),s=await new Vye(n,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wye=600*1e3;class $ye{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qye(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nee(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Lu(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wye&&this.cachedEventUids.clear(),this.cachedEventUids.has(S9(e))}saveEventToCache(e){this.cachedEventUids.add(S9(e)),this.lastProcessedEventTime=Date.now()}}function S9(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nee({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function qye(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nee(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yye(r,e={}){return fd(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kye=/^https?/;async function Zye(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Yye(r);for(const t of e)try{if(Qye(t))return}catch{}Vl(r,"unauthorized-domain")}function Qye(r){const e=yO(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!Kye.test(t))return!1;if(Xye.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jye=new Ww(3e4,6e4);function T9(){const r=Ou().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function e1e(r){return new Promise((e,t)=>{function n(){T9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T9(),t(Lu(r,"network-request-failed"))},timeout:Jye.get()})}if(Ou().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ou().gapi?.load)n();else{const i=$me("iframefcb");return Ou()[i]=()=>{gapi.load?n():t(Lu(r,"network-request-failed"))},UJ(`${Wme()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw q2=null,e})}let q2=null;function t1e(r){return q2=q2||e1e(r),q2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1e=new Ww(5e3,15e3),n1e="__/auth/iframe",i1e="emulator/auth/iframe",a1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o1e(r){const e=r.config;Lt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?M3(e,i1e):`https://${r.config.authDomain}/${n1e}`,n={apiKey:e.apiKey,appName:r.name,v:Hv},i=s1e.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${jw(n).slice(1)}`}async function l1e(r){const e=await t1e(r),t=Ou().gapi;return Lt(t,r,"internal-error"),e.open({where:document.body,url:o1e(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a1e,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Lu(r,"network-request-failed"),o=Ou().setTimeout(()=>{a(s)},r1e.get());function l(){Ou().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c1e=500,f1e=600,h1e="_blank",d1e="http://localhost";class A9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p1e(r,e,t,n=c1e,i=f1e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...u1e,width:n.toString(),height:i.toString(),top:a,left:s},u=Oa().toLowerCase();t&&(o=LJ(u)?h1e:t),MJ(u)&&(e=e||d1e,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Nme(u)&&o!=="_self")return v1e(e||"",o),new A9(null);const f=window.open(e||"",o,c);Lt(f,r,"popup-blocked");try{f.focus()}catch{}return new A9(f)}function v1e(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1e="__/auth/handler",m1e="emulator/auth/handler",y1e=encodeURIComponent("fac");async function E9(r,e,t,n,i,a){Lt(r.config.authDomain,r,"auth-domain-config-required"),Lt(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Hv,eventId:i};if(e instanceof jJ){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",r0e(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof qw){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}r.tenantId&&(s.tid=r.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await r._getAppCheckToken(),u=l?`#${y1e}=${encodeURIComponent(l)}`:"";return`${_1e(r)}?${jw(o).slice(1)}${u}`}function _1e({config:r}){return r.emulator?M3(r,m1e):`https://${r.authDomain}/${g1e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="webStorageSupport";class x1e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZJ,this._completeRedirectFn=jye,this._overrideRedirectResult=Uye}async _openPopup(e,t,n,i){ef(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await E9(e,t,n,yO(),i);return p1e(e,a,F3())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await E9(e,t,n,yO(),i);return Sye(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ef(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await l1e(e),n=new $ye(e);return t.register("authEvent",i=>(Lt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ik,{type:Ik},i=>{const a=i?.[0]?.[Ik];a!==void 0&&t(!!a),Vl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zye(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VJ()||PJ()||L3()}}const w1e=x1e;var C9="@firebase/auth",D9="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1e(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T1e(r){_v(new Hh("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Lt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zJ(r)},u=new Hme(n,i,a,l);return Qme(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),_v(new Hh("auth-internal",e=>{const t=Gv(e.getProvider("auth").getImmediate());return(n=>new b1e(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pu(C9,D9,S1e(r)),Pu(C9,D9,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1e=300,E1e=mJ("authIdTokenMaxAge")||A1e;let I9=null;const C1e=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>E1e)return;const i=t?.token;I9!==i&&(I9=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iee(r=R3()){const e=GC(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Zme(r,{popupRedirectResolver:w1e,persistence:[Mye,xye,ZJ]}),n=mJ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=C1e(a.toString());gye(t,s,()=>s(t.currentUser)),vye(t,o=>s(o))}}const i=pJ("auth");return i&&Jme(t,`http://${i}`),t}function D1e(){return document.getElementsByTagName("head")?.[0]??document}Gme({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Lu("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",D1e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T1e("Browser");var R9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mh,aee;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function I(){}I.prototype=k.prototype,A.D=k.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(M,P,O){for(var N=Array(arguments.length-2),G=2;G<arguments.length;G++)N[G-2]=arguments[G];return k.prototype[P].apply(M,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,k,I){I||(I=0);var M=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)M[P]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(P=0;16>P;++P)M[P]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=A.g[0],I=A.g[1],P=A.g[2];var O=A.g[3],N=k+(O^I&(P^O))+M[0]+3614090360&4294967295;k=I+(N<<7&4294967295|N>>>25),N=O+(P^k&(I^P))+M[1]+3905402710&4294967295,O=k+(N<<12&4294967295|N>>>20),N=P+(I^O&(k^I))+M[2]+606105819&4294967295,P=O+(N<<17&4294967295|N>>>15),N=I+(k^P&(O^k))+M[3]+3250441966&4294967295,I=P+(N<<22&4294967295|N>>>10),N=k+(O^I&(P^O))+M[4]+4118548399&4294967295,k=I+(N<<7&4294967295|N>>>25),N=O+(P^k&(I^P))+M[5]+1200080426&4294967295,O=k+(N<<12&4294967295|N>>>20),N=P+(I^O&(k^I))+M[6]+2821735955&4294967295,P=O+(N<<17&4294967295|N>>>15),N=I+(k^P&(O^k))+M[7]+4249261313&4294967295,I=P+(N<<22&4294967295|N>>>10),N=k+(O^I&(P^O))+M[8]+1770035416&4294967295,k=I+(N<<7&4294967295|N>>>25),N=O+(P^k&(I^P))+M[9]+2336552879&4294967295,O=k+(N<<12&4294967295|N>>>20),N=P+(I^O&(k^I))+M[10]+4294925233&4294967295,P=O+(N<<17&4294967295|N>>>15),N=I+(k^P&(O^k))+M[11]+2304563134&4294967295,I=P+(N<<22&4294967295|N>>>10),N=k+(O^I&(P^O))+M[12]+1804603682&4294967295,k=I+(N<<7&4294967295|N>>>25),N=O+(P^k&(I^P))+M[13]+4254626195&4294967295,O=k+(N<<12&4294967295|N>>>20),N=P+(I^O&(k^I))+M[14]+2792965006&4294967295,P=O+(N<<17&4294967295|N>>>15),N=I+(k^P&(O^k))+M[15]+1236535329&4294967295,I=P+(N<<22&4294967295|N>>>10),N=k+(P^O&(I^P))+M[1]+4129170786&4294967295,k=I+(N<<5&4294967295|N>>>27),N=O+(I^P&(k^I))+M[6]+3225465664&4294967295,O=k+(N<<9&4294967295|N>>>23),N=P+(k^I&(O^k))+M[11]+643717713&4294967295,P=O+(N<<14&4294967295|N>>>18),N=I+(O^k&(P^O))+M[0]+3921069994&4294967295,I=P+(N<<20&4294967295|N>>>12),N=k+(P^O&(I^P))+M[5]+3593408605&4294967295,k=I+(N<<5&4294967295|N>>>27),N=O+(I^P&(k^I))+M[10]+38016083&4294967295,O=k+(N<<9&4294967295|N>>>23),N=P+(k^I&(O^k))+M[15]+3634488961&4294967295,P=O+(N<<14&4294967295|N>>>18),N=I+(O^k&(P^O))+M[4]+3889429448&4294967295,I=P+(N<<20&4294967295|N>>>12),N=k+(P^O&(I^P))+M[9]+568446438&4294967295,k=I+(N<<5&4294967295|N>>>27),N=O+(I^P&(k^I))+M[14]+3275163606&4294967295,O=k+(N<<9&4294967295|N>>>23),N=P+(k^I&(O^k))+M[3]+4107603335&4294967295,P=O+(N<<14&4294967295|N>>>18),N=I+(O^k&(P^O))+M[8]+1163531501&4294967295,I=P+(N<<20&4294967295|N>>>12),N=k+(P^O&(I^P))+M[13]+2850285829&4294967295,k=I+(N<<5&4294967295|N>>>27),N=O+(I^P&(k^I))+M[2]+4243563512&4294967295,O=k+(N<<9&4294967295|N>>>23),N=P+(k^I&(O^k))+M[7]+1735328473&4294967295,P=O+(N<<14&4294967295|N>>>18),N=I+(O^k&(P^O))+M[12]+2368359562&4294967295,I=P+(N<<20&4294967295|N>>>12),N=k+(I^P^O)+M[5]+4294588738&4294967295,k=I+(N<<4&4294967295|N>>>28),N=O+(k^I^P)+M[8]+2272392833&4294967295,O=k+(N<<11&4294967295|N>>>21),N=P+(O^k^I)+M[11]+1839030562&4294967295,P=O+(N<<16&4294967295|N>>>16),N=I+(P^O^k)+M[14]+4259657740&4294967295,I=P+(N<<23&4294967295|N>>>9),N=k+(I^P^O)+M[1]+2763975236&4294967295,k=I+(N<<4&4294967295|N>>>28),N=O+(k^I^P)+M[4]+1272893353&4294967295,O=k+(N<<11&4294967295|N>>>21),N=P+(O^k^I)+M[7]+4139469664&4294967295,P=O+(N<<16&4294967295|N>>>16),N=I+(P^O^k)+M[10]+3200236656&4294967295,I=P+(N<<23&4294967295|N>>>9),N=k+(I^P^O)+M[13]+681279174&4294967295,k=I+(N<<4&4294967295|N>>>28),N=O+(k^I^P)+M[0]+3936430074&4294967295,O=k+(N<<11&4294967295|N>>>21),N=P+(O^k^I)+M[3]+3572445317&4294967295,P=O+(N<<16&4294967295|N>>>16),N=I+(P^O^k)+M[6]+76029189&4294967295,I=P+(N<<23&4294967295|N>>>9),N=k+(I^P^O)+M[9]+3654602809&4294967295,k=I+(N<<4&4294967295|N>>>28),N=O+(k^I^P)+M[12]+3873151461&4294967295,O=k+(N<<11&4294967295|N>>>21),N=P+(O^k^I)+M[15]+530742520&4294967295,P=O+(N<<16&4294967295|N>>>16),N=I+(P^O^k)+M[2]+3299628645&4294967295,I=P+(N<<23&4294967295|N>>>9),N=k+(P^(I|~O))+M[0]+4096336452&4294967295,k=I+(N<<6&4294967295|N>>>26),N=O+(I^(k|~P))+M[7]+1126891415&4294967295,O=k+(N<<10&4294967295|N>>>22),N=P+(k^(O|~I))+M[14]+2878612391&4294967295,P=O+(N<<15&4294967295|N>>>17),N=I+(O^(P|~k))+M[5]+4237533241&4294967295,I=P+(N<<21&4294967295|N>>>11),N=k+(P^(I|~O))+M[12]+1700485571&4294967295,k=I+(N<<6&4294967295|N>>>26),N=O+(I^(k|~P))+M[3]+2399980690&4294967295,O=k+(N<<10&4294967295|N>>>22),N=P+(k^(O|~I))+M[10]+4293915773&4294967295,P=O+(N<<15&4294967295|N>>>17),N=I+(O^(P|~k))+M[1]+2240044497&4294967295,I=P+(N<<21&4294967295|N>>>11),N=k+(P^(I|~O))+M[8]+1873313359&4294967295,k=I+(N<<6&4294967295|N>>>26),N=O+(I^(k|~P))+M[15]+4264355552&4294967295,O=k+(N<<10&4294967295|N>>>22),N=P+(k^(O|~I))+M[6]+2734768916&4294967295,P=O+(N<<15&4294967295|N>>>17),N=I+(O^(P|~k))+M[13]+1309151649&4294967295,I=P+(N<<21&4294967295|N>>>11),N=k+(P^(I|~O))+M[4]+4149444226&4294967295,k=I+(N<<6&4294967295|N>>>26),N=O+(I^(k|~P))+M[11]+3174756917&4294967295,O=k+(N<<10&4294967295|N>>>22),N=P+(k^(O|~I))+M[2]+718787259&4294967295,P=O+(N<<15&4294967295|N>>>17),N=I+(O^(P|~k))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+O&4294967295}n.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var I=k-this.blockSize,M=this.B,P=this.h,O=0;O<k;){if(P==0)for(;O<=I;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<k;)if(M[P++]=A.charCodeAt(O++),P==this.blockSize){i(this,M),P=0;break}}else for(;O<k;)if(M[P++]=A[O++],P==this.blockSize){i(this,M),P=0;break}}this.h=P,this.o+=k},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var I=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=I&255,I/=256;for(this.u(A),A=Array(16),k=I=0;4>k;++k)for(var M=0;32>M;M+=8)A[I++]=this.g[k]>>>M&255;return A};function a(A,k){var I=o;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=k(A)}function s(A,k){this.h=k;for(var I=[],M=!0,P=A.length-1;0<=P;P--){var O=A[P]|0;M&&O==k||(I[P]=O,M=!1)}this.g=I}var o={};function l(A){return-128<=A&&128>A?a(A,function(k){return new s([k|0],0>k?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return y(u(-A));for(var k=[],I=1,M=0;A>=I;M++)k[M]=A/I|0,I*=4294967296;return new s(k,0)}function c(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return y(c(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(k,8)),M=f,P=0;P<A.length;P+=8){var O=Math.min(8,A.length-P),N=parseInt(A.substring(P,P+O),k);8>O?(O=u(Math.pow(k,O)),M=M.j(O).add(u(N))):(M=M.j(I),M=M.add(u(N)))}return M}var f=l(0),h=l(1),p=l(16777216);r=s.prototype,r.m=function(){if(m(this))return-y(this).m();for(var A=0,k=1,I=0;I<this.g.length;I++){var M=this.i(I);A+=(0<=M?M:4294967296+M)*k,k*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(m(this))return"-"+y(this).toString(A);for(var k=u(Math.pow(A,6)),I=this,M="";;){var P=T(I,k).g;I=x(I,P.j(k));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=P,v(I))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function m(A){return A.h==-1}r.l=function(A){return A=x(this,A),m(A)?-1:v(A)?0:1};function y(A){for(var k=A.g.length,I=[],M=0;M<k;M++)I[M]=~A.g[M];return new s(I,~A.h).add(h)}r.abs=function(){return m(this)?y(this):this},r.add=function(A){for(var k=Math.max(this.g.length,A.g.length),I=[],M=0,P=0;P<=k;P++){var O=M+(this.i(P)&65535)+(A.i(P)&65535),N=(O>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);M=N>>>16,O&=65535,N&=65535,I[P]=N<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(A,k){return A.add(y(k))}r.j=function(A){if(v(this)||v(A))return f;if(m(this))return m(A)?y(this).j(y(A)):y(y(this).j(A));if(m(A))return y(this.j(y(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var k=this.g.length+A.g.length,I=[],M=0;M<2*k;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<A.g.length;P++){var O=this.i(M)>>>16,N=this.i(M)&65535,G=A.i(P)>>>16,j=A.i(P)&65535;I[2*M+2*P]+=N*j,w(I,2*M+2*P),I[2*M+2*P+1]+=O*j,w(I,2*M+2*P+1),I[2*M+2*P+1]+=N*G,w(I,2*M+2*P+1),I[2*M+2*P+2]+=O*G,w(I,2*M+2*P+2)}for(M=0;M<k;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=k;M<2*k;M++)I[M]=0;return new s(I,0)};function w(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function b(A,k){this.g=A,this.h=k}function T(A,k){if(v(k))throw Error("division by zero");if(v(A))return new b(f,f);if(m(A))return k=T(y(A),k),new b(y(k.g),y(k.h));if(m(k))return k=T(A,y(k)),new b(y(k.g),k.h);if(30<A.g.length){if(m(A)||m(k))throw Error("slowDivide_ only works with positive integers.");for(var I=h,M=k;0>=M.l(A);)I=C(I),M=C(M);var P=D(I,1),O=D(M,1);for(M=D(M,2),I=D(I,2);!v(M);){var N=O.add(M);0>=N.l(A)&&(P=P.add(I),O=N),M=D(M,1),I=D(I,1)}return k=x(A,P.j(k)),new b(P,k)}for(P=f;0<=A.l(k);){for(I=Math.max(1,Math.floor(A.m()/k.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=u(I),N=O.j(k);m(N)||0<N.l(A);)I-=M,O=u(I),N=O.j(k);v(O)&&(O=h),P=P.add(O),A=x(A,N)}return new b(P,A)}r.A=function(A){return T(this,A).h},r.and=function(A){for(var k=Math.max(this.g.length,A.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)&A.i(M);return new s(I,this.h&A.h)},r.or=function(A){for(var k=Math.max(this.g.length,A.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)|A.i(M);return new s(I,this.h|A.h)},r.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)^A.i(M);return new s(I,this.h^A.h)};function C(A){for(var k=A.g.length+1,I=[],M=0;M<k;M++)I[M]=A.i(M)<<1|A.i(M-1)>>>31;return new s(I,A.h)}function D(A,k){var I=k>>5;k%=32;for(var M=A.g.length-I,P=[],O=0;O<M;O++)P[O]=0<k?A.i(O+I)>>>k|A.i(O+I+1)<<32-k:A.i(O+I);return new s(P,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,aee=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Mh=s}).apply(typeof R9<"u"?R9:typeof self<"u"?self:typeof window<"u"?window:{});var oT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var see,D_,oee,Y2,bO,lee,uee,cee;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,F,V){return E==Array.prototype||E==Object.prototype||(E[F]=V.value),E};function t(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof oT=="object"&&oT];for(var F=0;F<E.length;++F){var V=E[F];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=t(this);function i(E,F){if(F)e:{var V=n;E=E.split(".");for(var te=0;te<E.length-1;te++){var me=E[te];if(!(me in V))break e;V=V[me]}E=E[E.length-1],te=V[E],F=F(te),F!=te&&F!=null&&e(V,E,{configurable:!0,writable:!0,value:F})}}function a(E,F){E instanceof String&&(E+="");var V=0,te=!1,me={next:function(){if(!te&&V<E.length){var Re=V++;return{value:F(Re,E[Re]),done:!1}}return te=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(E){return E||function(){return a(this,function(F,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(E){var F=typeof E;return F=F!="object"?F:E?Array.isArray(E)?"array":F:"null",F=="array"||F=="object"&&typeof E.length=="number"}function u(E){var F=typeof E;return F=="object"&&E!=null||F=="function"}function c(E,F,V){return E.call.apply(E.bind,arguments)}function f(E,F,V){if(!E)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,te),E.apply(F,me)}}return function(){return E.apply(F,arguments)}}function h(E,F,V){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(E,F){var V=Array.prototype.slice.call(arguments,1);return function(){var te=V.slice();return te.push.apply(te,arguments),E.apply(this,te)}}function v(E,F){function V(){}V.prototype=F.prototype,E.aa=F.prototype,E.prototype=new V,E.prototype.constructor=E,E.Qb=function(te,me,Re){for(var Qe=Array(arguments.length-2),wr=2;wr<arguments.length;wr++)Qe[wr-2]=arguments[wr];return F.prototype[me].apply(te,Qe)}}function m(E){const F=E.length;if(0<F){const V=Array(F);for(let te=0;te<F;te++)V[te]=E[te];return V}return[]}function y(E,F){for(let V=1;V<arguments.length;V++){const te=arguments[V];if(l(te)){const me=E.length||0,Re=te.length||0;E.length=me+Re;for(let Qe=0;Qe<Re;Qe++)E[me+Qe]=te[Qe]}else E.push(te)}}class x{constructor(F,V){this.i=F,this.j=V,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(E){return/^[\s\xa0]*$/.test(E)}function b(){var E=o.navigator;return E&&(E=E.userAgent)?E:""}function T(E){return T[" "](E),E}T[" "]=function(){};var C=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function D(E,F,V){for(const te in E)F.call(V,E[te],te,E)}function A(E,F){for(const V in E)F.call(void 0,E[V],V,E)}function k(E){const F={};for(const V in E)F[V]=E[V];return F}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(E,F){let V,te;for(let me=1;me<arguments.length;me++){te=arguments[me];for(V in te)E[V]=te[V];for(let Re=0;Re<I.length;Re++)V=I[Re],Object.prototype.hasOwnProperty.call(te,V)&&(E[V]=te[V])}}function P(E){var F=1;E=E.split(":");const V=[];for(;0<F&&E.length;)V.push(E.shift()),F--;return E.length&&V.push(E.join(":")),V}function O(E){o.setTimeout(()=>{throw E},0)}function N(){var E=Z;let F=null;return E.g&&(F=E.g,E.g=E.g.next,E.g||(E.h=null),F.next=null),F}class G{constructor(){this.h=this.g=null}add(F,V){const te=j.get();te.set(F,V),this.h?this.h.next=te:this.g=te,this.h=te}}var j=new x(()=>new U,E=>E.reset());class U{constructor(){this.next=this.g=this.h=null}set(F,V){this.h=F,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ie=!1,Z=new G,W=()=>{const E=o.Promise.resolve(void 0);X=()=>{E.then(Q)}};var Q=()=>{for(var E;E=N();){try{E.h.call(E.g)}catch(V){O(V)}var F=j;F.j(E),100>F.h&&(F.h++,E.next=F.g,F.g=E)}ie=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(E,F){this.type=E,this.g=this.target=F,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var E=!1,F=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const V=()=>{};o.addEventListener("test",V,F),o.removeEventListener("test",V,F)}catch{}return E}();function se(E,F){if(ee.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var V=this.type=E.type,te=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=F,F=E.relatedTarget){if(C){e:{try{T(F.nodeName);var me=!0;break e}catch{}me=!1}me||(F=null)}}else V=="mouseover"?F=E.fromElement:V=="mouseout"&&(F=E.toElement);this.relatedTarget=F,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:de[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&se.aa.h.call(this)}}v(se,ee);var de={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Se=0;function xe(E,F,V,te,me){this.listener=E,this.proxy=null,this.src=F,this.type=V,this.capture=!!te,this.ha=me,this.key=++Se,this.da=this.fa=!1}function Te(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Oe(E){this.src=E,this.g={},this.h=0}Oe.prototype.add=function(E,F,V,te,me){var Re=E.toString();E=this.g[Re],E||(E=this.g[Re]=[],this.h++);var Qe=pt(E,F,te,me);return-1<Qe?(F=E[Qe],V||(F.fa=!1)):(F=new xe(F,this.src,Re,!!te,me),F.fa=V,E.push(F)),F};function ne(E,F){var V=F.type;if(V in E.g){var te=E.g[V],me=Array.prototype.indexOf.call(te,F,void 0),Re;(Re=0<=me)&&Array.prototype.splice.call(te,me,1),Re&&(Te(F),E.g[V].length==0&&(delete E.g[V],E.h--))}}function pt(E,F,V,te){for(var me=0;me<E.length;++me){var Re=E[me];if(!Re.da&&Re.listener==F&&Re.capture==!!V&&Re.ha==te)return me}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),ct={};function it(E,F,V,te,me){if(Array.isArray(F)){for(var Re=0;Re<F.length;Re++)it(E,F[Re],V,te,me);return null}return V=_n(V),E&&E[Me]?E.K(F,V,u(te)?!!te.capture:!1,me):He(E,F,V,!1,te,me)}function He(E,F,V,te,me,Re){if(!F)throw Error("Invalid event type");var Qe=u(me)?!!me.capture:!!me,wr=Nt(E);if(wr||(E[tt]=wr=new Oe(E)),V=wr.add(F,V,te,Qe,Re),V.proxy)return V;if(te=xt(),V.proxy=te,te.src=E,te.listener=V,E.addEventListener)J||(me=Qe),me===void 0&&(me=!1),E.addEventListener(F.toString(),te,me);else if(E.attachEvent)E.attachEvent(Ve(F.toString()),te);else if(E.addListener&&E.removeListener)E.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return V}function xt(){function E(V){return F.call(E.src,E.listener,V)}const F=At;return E}function gr(E,F,V,te,me){if(Array.isArray(F))for(var Re=0;Re<F.length;Re++)gr(E,F[Re],V,te,me);else te=u(te)?!!te.capture:!!te,V=_n(V),E&&E[Me]?(E=E.i,F=String(F).toString(),F in E.g&&(Re=E.g[F],V=pt(Re,V,te,me),-1<V&&(Te(Re[V]),Array.prototype.splice.call(Re,V,1),Re.length==0&&(delete E.g[F],E.h--)))):E&&(E=Nt(E))&&(F=E.g[F.toString()],E=-1,F&&(E=pt(F,V,te,me)),(V=-1<E?F[E]:null)&&Jr(V))}function Jr(E){if(typeof E!="number"&&E&&!E.da){var F=E.src;if(F&&F[Me])ne(F.i,E);else{var V=E.type,te=E.proxy;F.removeEventListener?F.removeEventListener(V,te,E.capture):F.detachEvent?F.detachEvent(Ve(V),te):F.addListener&&F.removeListener&&F.removeListener(te),(V=Nt(F))?(ne(V,E),V.h==0&&(V.src=null,F[tt]=null)):Te(E)}}}function Ve(E){return E in ct?ct[E]:ct[E]="on"+E}function At(E,F){if(E.da)E=!0;else{F=new se(F,this);var V=E.listener,te=E.ha||E.src;E.fa&&Jr(E),E=V.call(te,F)}return E}function Nt(E){return E=E[tt],E instanceof Oe?E:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(E){return typeof E=="function"?E:(E[Dt]||(E[Dt]=function(F){return E.handleEvent(F)}),E[Dt])}function Et(){H.call(this),this.i=new Oe(this),this.M=this,this.F=null}v(Et,H),Et.prototype[Me]=!0,Et.prototype.removeEventListener=function(E,F,V,te){gr(this,E,F,V,te)};function mt(E,F){var V,te=E.F;if(te)for(V=[];te;te=te.F)V.push(te);if(E=E.M,te=F.type||F,typeof F=="string")F=new ee(F,E);else if(F instanceof ee)F.target=F.target||E;else{var me=F;F=new ee(te,E),M(F,me)}if(me=!0,V)for(var Re=V.length-1;0<=Re;Re--){var Qe=F.g=V[Re];me=ir(Qe,te,!0,F)&&me}if(Qe=F.g=E,me=ir(Qe,te,!0,F)&&me,me=ir(Qe,te,!1,F)&&me,V)for(Re=0;Re<V.length;Re++)Qe=F.g=V[Re],me=ir(Qe,te,!1,F)&&me}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var E=this.i,F;for(F in E.g){for(var V=E.g[F],te=0;te<V.length;te++)Te(V[te]);delete E.g[F],E.h--}}this.F=null},Et.prototype.K=function(E,F,V,te){return this.i.add(String(E),F,!1,V,te)},Et.prototype.L=function(E,F,V,te){return this.i.add(String(E),F,!0,V,te)};function ir(E,F,V,te){if(F=E.i.g[String(F)],!F)return!0;F=F.concat();for(var me=!0,Re=0;Re<F.length;++Re){var Qe=F[Re];if(Qe&&!Qe.da&&Qe.capture==V){var wr=Qe.listener,_i=Qe.ha||Qe.src;Qe.fa&&ne(E.i,Qe),me=wr.call(_i,te)!==!1&&me}}return me&&!te.defaultPrevented}function yr(E,F,V){if(typeof E=="function")V&&(E=h(E,V));else if(E&&typeof E.handleEvent=="function")E=h(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(E,F||0)}function kt(E){E.g=yr(()=>{E.g=null,E.i&&(E.i=!1,kt(E))},E.l);const F=E.h;E.h=null,E.m.apply(null,F)}class Dr extends H{constructor(F,V){super(),this.m=F,this.l=V,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(E){H.call(this),this.h=E,this.g={}}v(hn,H);var Or=[];function ni(E){D(E.g,function(F,V){this.g.hasOwnProperty(V)&&Jr(F)},E),E.g={}}hn.prototype.N=function(){hn.aa.N.call(this),ni(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=o.JSON.stringify,il=o.JSON.parse,al=class{stringify(E){return o.JSON.stringify(E,void 0)}parse(E){return o.JSON.parse(E,void 0)}};function mf(){}mf.prototype.h=null;function yf(E){return E.h||(E.h=E.i())}function _f(){}var sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ol(){ee.call(this,"d")}v(ol,ee);function Kl(){ee.call(this,"c")}v(Kl,ee);var lo={},wd=null;function Zl(){return wd=wd||new Et}lo.La="serverreachability";function xf(E){ee.call(this,lo.La,E)}v(xf,ee);function Ql(E){const F=Zl();mt(F,new xf(F))}lo.STAT_EVENT="statevent";function cg(E,F){ee.call(this,lo.STAT_EVENT,E),this.stat=F}v(cg,ee);function tn(E){const F=Zl();mt(F,new cg(F,E))}lo.Ma="timingevent";function Un(E,F){ee.call(this,lo.Ma,E),this.size=F}v(Un,ee);function dn(E,F){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){E()},F)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function bd(E,F,V,te,me,Re){E.info(function(){if(E.g)if(Re)for(var Qe="",wr=Re.split("&"),_i=0;_i<wr.length;_i++){var br=wr[_i].split("=");if(1<br.length){var Ni=br[0];br=br[1];var xi=Ni.split("_");Qe=2<=xi.length&&xi[1]=="type"?Qe+(Ni+"="+br+"&"):Qe+(Ni+"=redacted&")}}else Qe=null;else Qe=Re;return"XMLHTTP REQ ("+te+") [attempt "+me+"]: "+F+`
`+V+`
`+Qe})}function Fy(E,F,V,te,me,Re,Qe){E.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+me+"]: "+F+`
`+V+`
`+Re+" "+Qe})}function Y(E,F,V,te){E.info(function(){return"XMLHTTP TEXT ("+F+"): "+re(E,V)+(te?" "+te:"")})}function le(E,F){E.info(function(){return"TIMEOUT: "+F})}vs.prototype.info=function(){};function re(E,F){if(!E.g)return F;if(!F)return null;try{var V=JSON.parse(F);if(V){for(E=0;E<V.length;E++)if(Array.isArray(V[E])){var te=V[E];if(!(2>te.length)){var me=te[1];if(Array.isArray(me)&&!(1>me.length)){var Re=me[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var Qe=1;Qe<me.length;Qe++)me[Qe]=""}}}}return qi(V)}catch{return F}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function _e(){}v(_e,mf),_e.prototype.g=function(){return new XMLHttpRequest},_e.prototype.i=function(){return{}},ue=new _e;function Ie(E,F,V,te){this.j=E,this.i=F,this.l=V,this.R=te||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var be={},Ae={};function Ge(E,F,V){E.L=1,E.v=Ad(Os(F)),E.m=V,E.P=!0,Xe(E,null)}function Xe(E,F){E.F=Date.now(),et(E),E.A=Os(E.v);var V=E.A,te=E.R;Array.isArray(te)||(te=[String(te)]),Hy(V.i,"t",te),E.C=0,V=E.j.J,E.h=new ve,E.g=rS(E.j,V?F:null,!E.m),0<E.O&&(E.M=new Dr(h(E.Y,E,E.g),E.O)),F=E.U,V=E.g,te=E.ca;var me="readystatechange";Array.isArray(me)||(me&&(Or[0]=me.toString()),me=Or);for(var Re=0;Re<me.length;Re++){var Qe=it(V,me[Re],te||F.handleEvent,!1,F.h||F);if(!Qe)break;F.g[Qe.key]=Qe}F=E.H?k(E.H):{},E.m?(E.u||(E.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,F)):(E.u="GET",E.g.ea(E.A,E.u,null,F)),Ql(),bd(E.i,E.u,E.A,E.l,E.R,E.m)}Ie.prototype.ca=function(E){E=E.target;const F=this.M;F&&ho(E)==3?F.j():this.Y(E)},Ie.prototype.Y=function(E){try{if(E==this.g)e:{const xi=ho(this.g);var F=this.g.Ba();const dc=this.g.Z();if(!(3>xi)&&(xi!=3||this.g&&(this.h.h||this.g.oa()||Yb(this.g)))){this.J||xi!=4||F==7||(F==8||0>=dc?Ql(3):Ql(2)),Rr(this);var V=this.g.Z();this.X=V;t:if(nt(this)){var te=Yb(this.g);E="";var me=te.length,Re=ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),_r(this);var Qe="";break t}this.h.i=new o.TextDecoder}for(F=0;F<me;F++)this.h.h=!0,E+=this.h.i.decode(te[F],{stream:!(Re&&F==me-1)});te.length=0,this.h.g+=E,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=V==200,Fy(this.i,this.u,this.A,this.l,this.R,xi,V),this.o){if(this.T&&!this.K){t:{if(this.g){var wr,_i=this.g;if((wr=_i.g?_i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(wr)){var br=wr;break t}}br=null}if(V=br)Y(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,V);else{this.o=!1,this.s=3,tn(12),xr(this),_r(this);break e}}if(this.P){V=!0;let Yi;for(;!this.J&&this.C<Qe.length;)if(Yi=qe(this,Qe),Yi==Ae){xi==4&&(this.s=4,tn(14),V=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(Yi==be){this.s=4,tn(15),Y(this.i,this.l,Qe,"[Invalid Chunk]"),V=!1;break}else Y(this.i,this.l,Yi,null),Ls(this,Yi);if(nt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xi!=4||Qe.length!=0||this.h.h||(this.s=1,tn(16),V=!1),this.o=this.o&&V,!V)Y(this.i,this.l,Qe,"[Invalid Chunked Response]"),xr(this),_r(this);else if(0<Qe.length&&!this.W){this.W=!0;var Ni=this.j;Ni.g==this&&Ni.ba&&!Ni.M&&(Ni.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),Pd(Ni),Ni.M=!0,tn(11))}}else Y(this.i,this.l,Qe,null),Ls(this,Qe);xi==4&&xr(this),this.o&&!this.J&&(xi==4?Jb(this.j,this):(this.o=!1,et(this)))}else TI(this.g),V==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),xr(this),_r(this)}}}catch{}finally{}};function nt(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function qe(E,F){var V=E.C,te=F.indexOf(`
`,V);return te==-1?Ae:(V=Number(F.substring(V,te)),isNaN(V)?be:(te+=1,te+V>F.length?Ae:(F=F.slice(te,te+V),E.C=te+V,F)))}Ie.prototype.cancel=function(){this.J=!0,xr(this)};function et(E){E.S=Date.now()+E.I,Ft(E,E.I)}function Ft(E,F){if(E.B!=null)throw Error("WatchDog timer not null");E.B=dn(h(E.ba,E),F)}function Rr(E){E.B&&(o.clearTimeout(E.B),E.B=null)}Ie.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(le(this.i,this.A),this.L!=2&&(Ql(),tn(17)),xr(this),this.s=2,_r(this)):Ft(this,this.S-E)};function _r(E){E.j.G==0||E.J||Jb(E.j,E)}function xr(E){Rr(E);var F=E.M;F&&typeof F.ma=="function"&&F.ma(),E.M=null,ni(E.U),E.g&&(F=E.g,E.g=null,F.abort(),F.ma())}function Ls(E,F){try{var V=E.j;if(V.G!=0&&(V.g==E||Wa(V.h,E))){if(!E.K&&Wa(V.h,E)&&V.G==3){try{var te=V.Da.g.parse(F)}catch{te=null}if(Array.isArray(te)&&te.length==3){var me=te;if(me[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<E.F)xg(V),yg(V);else break e;qy(V),tn(18)}}else V.za=me[1],0<V.za-V.T&&37500>me[2]&&V.F&&V.v==0&&!V.C&&(V.C=dn(h(V.Za,V),6e3));if(1>=eu(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else hc(V,11)}else if((E.K||V.g==E)&&xg(V),!w(F))for(me=V.Da.g.parse(F),F=0;F<me.length;F++){let br=me[F];if(V.T=br[0],br=br[1],V.G==2)if(br[0]=="c"){V.K=br[1],V.ia=br[2];const Ni=br[3];Ni!=null&&(V.la=Ni,V.j.info("VER="+V.la));const xi=br[4];xi!=null&&(V.Aa=xi,V.j.info("SVER="+V.Aa));const dc=br[5];dc!=null&&typeof dc=="number"&&0<dc&&(te=1.5*dc,V.L=te,V.j.info("backChannelRequestTimeoutMs_="+te)),te=V;const Yi=E.g;if(Yi){const ou=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ou){var Re=te.h;Re.g||ou.indexOf("spdy")==-1&&ou.indexOf("quic")==-1&&ou.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(fg(Re,Re.h),Re.h=null))}if(te.D){const Xy=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xy&&(te.ya=Xy,qr(te.I,te.D,Xy))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-E.F,V.j.info("Handshake RTT: "+V.R+"ms")),te=V;var Qe=E;if(te.qa=tS(te,te.J?te.ia:null,te.W),Qe.K){$a(te.h,Qe);var wr=Qe,_i=te.L;_i&&(wr.I=_i),wr.B&&(Rr(wr),et(wr)),te.g=Qe}else Zb(te);0<V.i.length&&_g(V)}else br[0]!="stop"&&br[0]!="close"||hc(V,7);else V.G==3&&(br[0]=="stop"||br[0]=="close"?br[0]=="stop"?hc(V,7):Wy(V):br[0]!="noop"&&V.l&&V.l.ta(br),V.v=0)}}Ql(4)}catch{}}var Jl=class{constructor(E,F){this.g=E,this.map=F}};function ja(E){this.l=E||10,o.PerformanceNavigationTiming?(E=o.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gs(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function eu(E){return E.h?1:E.g?E.g.size:0}function Wa(E,F){return E.h?E.h==F:E.g?E.g.has(F):!1}function fg(E,F){E.g?E.g.add(F):E.h=F}function $a(E,F){E.h&&E.h==F?E.h=null:E.g&&E.g.has(F)&&E.g.delete(F)}ja.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function By(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let F=E.i;for(const V of E.g.values())F=F.concat(V.D);return F}return m(E.i)}function xI(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(l(E)){for(var F=[],V=E.length,te=0;te<V;te++)F.push(E[te]);return F}F=[],V=0;for(te in E)F[V++]=E[te];return F}function hg(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(l(E)||typeof E=="string"){var F=[];E=E.length;for(var V=0;V<E;V++)F.push(V);return F}F=[],V=0;for(const te in E)F[V++]=te;return F}}}function Vy(E,F){if(E.forEach&&typeof E.forEach=="function")E.forEach(F,void 0);else if(l(E)||typeof E=="string")Array.prototype.forEach.call(E,F,void 0);else for(var V=hg(E),te=xI(E),me=te.length,Re=0;Re<me;Re++)F.call(void 0,te[Re],V&&V[Re],E)}var Sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wI(E,F){if(E){E=E.split("&");for(var V=0;V<E.length;V++){var te=E[V].indexOf("="),me=null;if(0<=te){var Re=E[V].substring(0,te);me=E[V].substring(te+1)}else Re=E[V];F(Re,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function ii(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof ii){this.h=E.h,Td(this,E.j),this.o=E.o,this.g=E.g,wf(this,E.s),this.l=E.l;var F=E.i,V=new lc;V.i=F.i,F.g&&(V.g=new Map(F.g),V.h=F.h),oc(this,V),this.m=E.m}else E&&(F=String(E).match(Sd))?(this.h=!1,Td(this,F[1]||"",!0),this.o=uo(F[2]||""),this.g=uo(F[3]||"",!0),wf(this,F[4]),this.l=uo(F[5]||"",!0),oc(this,F[6]||"",!0),this.m=uo(F[7]||"")):(this.h=!1,this.i=new lc(null,this.h))}ii.prototype.toString=function(){var E=[],F=this.j;F&&E.push(Ed(F,zy,!0),":");var V=this.g;return(V||F=="file")&&(E.push("//"),(F=this.o)&&E.push(Ed(F,zy,!0),"@"),E.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&E.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&E.push("/"),E.push(Ed(V,V.charAt(0)=="/"?bI:Uy,!0))),(V=this.i.toString())&&E.push("?",V),(V=this.m)&&E.push("#",Ed(V,dg)),E.join("")};function Os(E){return new ii(E)}function Td(E,F,V){E.j=V?uo(F,!0):F,E.j&&(E.j=E.j.replace(/:$/,""))}function wf(E,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);E.s=F}else E.s=null}function oc(E,F,V){F instanceof lc?(E.i=F,$b(E.i,E.h)):(V||(F=Ed(F,SI)),E.i=new lc(F,E.h))}function qr(E,F,V){E.i.set(F,V)}function Ad(E){return qr(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function uo(E,F){return E?F?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Ed(E,F,V){return typeof E=="string"?(E=encodeURI(E).replace(F,Wb),V&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Wb(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var zy=/[#\/\?@]/g,Uy=/[#\?:]/g,bI=/[#\?]/g,SI=/[#\?@]/g,dg=/#/g;function lc(E,F){this.h=this.g=null,this.i=E||null,this.j=!!F}function co(E){E.g||(E.g=new Map,E.h=0,E.i&&wI(E.i,function(F,V){E.add(decodeURIComponent(F.replace(/\+/g," ")),V)}))}r=lc.prototype,r.add=function(E,F){co(this),this.i=null,E=tu(this,E);var V=this.g.get(E);return V||this.g.set(E,V=[]),V.push(F),this.h+=1,this};function uc(E,F){co(E),F=tu(E,F),E.g.has(F)&&(E.i=null,E.h-=E.g.get(F).length,E.g.delete(F))}function cc(E,F){return co(E),F=tu(E,F),E.g.has(F)}r.forEach=function(E,F){co(this),this.g.forEach(function(V,te){V.forEach(function(me){E.call(F,me,te,this)},this)},this)},r.na=function(){co(this);const E=Array.from(this.g.values()),F=Array.from(this.g.keys()),V=[];for(let te=0;te<F.length;te++){const me=E[te];for(let Re=0;Re<me.length;Re++)V.push(F[te])}return V},r.V=function(E){co(this);let F=[];if(typeof E=="string")cc(this,E)&&(F=F.concat(this.g.get(tu(this,E))));else{E=Array.from(this.g.values());for(let V=0;V<E.length;V++)F=F.concat(E[V])}return F},r.set=function(E,F){return co(this),this.i=null,E=tu(this,E),cc(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[F]),this.h+=1,this},r.get=function(E,F){return E?(E=this.V(E),0<E.length?String(E[0]):F):F};function Hy(E,F,V){uc(E,F),0<V.length&&(E.i=null,E.g.set(tu(E,F),m(V)),E.h+=V.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],F=Array.from(this.g.keys());for(var V=0;V<F.length;V++){var te=F[V];const Re=encodeURIComponent(String(te)),Qe=this.V(te);for(te=0;te<Qe.length;te++){var me=Re;Qe[te]!==""&&(me+="="+encodeURIComponent(String(Qe[te]))),E.push(me)}}return this.i=E.join("&")};function tu(E,F){return F=String(F),E.j&&(F=F.toLowerCase()),F}function $b(E,F){F&&!E.j&&(co(E),E.i=null,E.g.forEach(function(V,te){var me=te.toLowerCase();te!=me&&(uc(this,te),Hy(this,me,V))},E)),E.j=F}function Cd(E,F){const V=new vs;if(o.Image){const te=new Image;te.onload=p(fo,V,"TestLoadImage: loaded",!0,F,te),te.onerror=p(fo,V,"TestLoadImage: error",!1,F,te),te.onabort=p(fo,V,"TestLoadImage: abort",!1,F,te),te.ontimeout=p(fo,V,"TestLoadImage: timeout",!1,F,te),o.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=E}else F(!1)}function ll(E,F){const V=new vs,te=new AbortController,me=setTimeout(()=>{te.abort(),fo(V,"TestPingServer: timeout",!1,F)},1e4);fetch(E,{signal:te.signal}).then(Re=>{clearTimeout(me),Re.ok?fo(V,"TestPingServer: ok",!0,F):fo(V,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(me),fo(V,"TestPingServer: error",!1,F)})}function fo(E,F,V,te,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),te(V)}catch{}}function Dd(){this.g=new al}function ru(E,F,V){const te=V||"";try{Vy(E,function(me,Re){let Qe=me;u(me)&&(Qe=qi(me)),F.push(te+Re+"="+encodeURIComponent(Qe))})}catch(me){throw F.push(te+"type="+encodeURIComponent("_badmap")),me}}function bf(E){this.l=E.Ub||null,this.j=E.eb||!1}v(bf,mf),bf.prototype.g=function(){return new fc(this.l,this.j)},bf.prototype.i=function(E){return function(){return E}}({});function fc(E,F){Et.call(this),this.D=E,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(fc,Et),r=fc.prototype,r.open=function(E,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=F,this.readyState=1,iu(this)},r.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(F.body=E),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=0},r.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gy(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gy(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}r.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var F=E.value?E.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!E.done}))&&(this.response=this.responseText+=F)}E.done?nu(this):iu(this),this.readyState==3&&Gy(this)}},r.Ra=function(E){this.g&&(this.response=this.responseText=E,nu(this))},r.Qa=function(E){this.g&&(this.response=E,nu(this))},r.ga=function(){this.g&&nu(this)};function nu(E){E.readyState=4,E.l=null,E.j=null,E.v=null,iu(E)}r.setRequestHeader=function(E,F){this.u.append(E,F)},r.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],F=this.h.entries();for(var V=F.next();!V.done;)V=V.value,E.push(V[0]+": "+V[1]),V=F.next();return E.join(`\r
`)};function iu(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function jy(E){let F="";return D(E,function(V,te){F+=te,F+=":",F+=V,F+=`\r
`}),F}function Oi(E,F,V){e:{for(te in V){var te=!1;break e}te=!0}te||(V=jy(V),typeof E=="string"?V!=null&&encodeURIComponent(String(V)):qr(E,F,V))}function Vr(E){Et.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Vr,Et);var pg=/^https?$/i,Id=["POST","PUT"];r=Vr.prototype,r.Ha=function(E){this.J=E},r.ea=function(E,F,V,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);F=F?F.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?yf(this.o):yf(ue),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(E),!0),this.B=!1}catch(Re){qb(this,Re);return}if(E=V||"",V=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var me in te)V.set(me,te[me]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Re of te.keys())V.set(Re,te.get(Re));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(V.keys()).find(Re=>Re.toLowerCase()=="content-type"),me=o.FormData&&E instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Id,F,void 0))||te||me||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Qe]of V)this.g.setRequestHeader(Re,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rd(this),this.u=!0,this.g.send(E),this.u=!1}catch(Re){qb(this,Re)}};function qb(E,F){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=F,E.m=5,vg(E),au(E)}function vg(E){E.A||(E.A=!0,mt(E,"complete"),mt(E,"error"))}r.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,mt(this,"complete"),mt(this,"abort"),au(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Vr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?gg(this):this.bb())},r.bb=function(){gg(this)};function gg(E){if(E.h&&typeof s<"u"&&(!E.v[1]||ho(E)!=4||E.Z()!=2)){if(E.u&&ho(E)==4)yr(E.Ea,0,E);else if(mt(E,"readystatechange"),ho(E)==4){E.h=!1;try{const Qe=E.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var V;if(!(V=F)){var te;if(te=Qe===0){var me=String(E.D).match(Sd)[1]||null;!me&&o.self&&o.self.location&&(me=o.self.location.protocol.slice(0,-1)),te=!pg.test(me?me.toLowerCase():"")}V=te}if(V)mt(E,"complete"),mt(E,"success");else{E.m=6;try{var Re=2<ho(E)?E.g.statusText:""}catch{Re=""}E.l=Re+" ["+E.Z()+"]",vg(E)}}finally{au(E)}}}}function au(E,F){if(E.g){Rd(E);const V=E.g,te=E.v[0]?()=>{}:null;E.g=null,E.v=null,F||mt(E,"ready");try{V.onreadystatechange=te}catch{}}}function Rd(E){E.I&&(o.clearTimeout(E.I),E.I=null)}r.isActive=function(){return!!this.g};function ho(E){return E.g?E.g.readyState:0}r.Z=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(E){if(this.g){var F=this.g.responseText;return E&&F.indexOf(E)==0&&(F=F.substring(E.length)),il(F)}};function Yb(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function TI(E){const F={};E=(E.g&&2<=ho(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<E.length;te++){if(w(E[te]))continue;var V=P(E[te]);const me=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Re=F[me]||[];F[me]=Re,Re.push(V)}A(F,function(te){return te.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kd(E,F,V){return V&&V.internalChannelParams&&V.internalChannelParams[E]||F}function mg(E){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kd("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kd("baseRetryDelayMs",5e3,E),this.cb=kd("retryDelaySeedMs",1e4,E),this.Wa=kd("forwardChannelMaxRetries",2,E),this.wa=kd("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new ja(E&&E.concurrentRequestLimit),this.Da=new Dd,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=mg.prototype,r.la=8,r.G=1,r.connect=function(E,F,V,te){tn(0),this.W=E,this.H=F||{},V&&te!==void 0&&(this.H.OSID=V,this.H.OAID=te),this.F=this.X,this.I=tS(this,null,this.W),_g(this)};function Wy(E){if(Xb(E),E.G==3){var F=E.U++,V=Os(E.I);if(qr(V,"SID",E.K),qr(V,"RID",F),qr(V,"TYPE","terminate"),Md(E,V),F=new Ie(E,E.j,F),F.L=2,F.v=Ad(Os(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!V&&o.Image&&(new Image().src=F.v,V=!0),V||(F.g=rS(F.j,null),F.g.ea(F.v)),F.F=Date.now(),et(F)}eS(E)}function yg(E){E.g&&(Pd(E),E.g.cancel(),E.g=null)}function Xb(E){yg(E),E.u&&(o.clearTimeout(E.u),E.u=null),xg(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&o.clearTimeout(E.s),E.s=null)}function _g(E){if(!gs(E.h)&&!E.s){E.s=!0;var F=E.Ga;X||W(),ie||(X(),ie=!0),Z.add(F,E),E.B=0}}function AI(E,F){return eu(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=F.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=dn(h(E.Ga,E,F),Yy(E,E.B)),E.B++,!0)}r.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const me=new Ie(this,this.j,E);let Re=this.o;if(this.S&&(Re?(Re=k(Re),M(Re,this.S)):Re=this.S),this.m!==null||this.O||(me.H=Re,Re=null),this.P)e:{for(var F=0,V=0;V<this.i.length;V++){t:{var te=this.i[V];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(F+=te,4096<F){F=V;break e}if(F===4096||V===this.i.length-1){F=V+1;break e}}F=1e3}else F=1e3;F=Kb(this,me,F),V=Os(this.I),qr(V,"RID",E),qr(V,"CVER",22),this.D&&qr(V,"X-HTTP-Session-Id",this.D),Md(this,V),Re&&(this.O?F="headers="+encodeURIComponent(String(jy(Re)))+"&"+F:this.m&&Oi(V,this.m,Re)),fg(this.h,me),this.Ua&&qr(V,"TYPE","init"),this.P?(qr(V,"$req",F),qr(V,"SID","null"),me.T=!0,Ge(me,V,null)):Ge(me,V,F),this.G=2}}else this.G==3&&(E?$y(this,E):this.i.length==0||gs(this.h)||$y(this))};function $y(E,F){var V;F?V=F.l:V=E.U++;const te=Os(E.I);qr(te,"SID",E.K),qr(te,"RID",V),qr(te,"AID",E.T),Md(E,te),E.m&&E.o&&Oi(te,E.m,E.o),V=new Ie(E,E.j,V,E.B+1),E.m===null&&(V.H=E.o),F&&(E.i=F.D.concat(E.i)),F=Kb(E,V,1e3),V.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),fg(E.h,V),Ge(V,te,F)}function Md(E,F){E.H&&D(E.H,function(V,te){qr(F,te,V)}),E.l&&Vy({},function(V,te){qr(F,te,V)})}function Kb(E,F,V){V=Math.min(E.i.length,V);var te=E.l?h(E.l.Na,E.l,E):null;e:{var me=E.i;let Re=-1;for(;;){const Qe=["count="+V];Re==-1?0<V?(Re=me[0].g,Qe.push("ofs="+Re)):Re=0:Qe.push("ofs="+Re);let wr=!0;for(let _i=0;_i<V;_i++){let br=me[_i].g;const Ni=me[_i].map;if(br-=Re,0>br)Re=Math.max(0,me[_i].g-100),wr=!1;else try{ru(Ni,Qe,"req"+br+"_")}catch{te&&te(Ni)}}if(wr){te=Qe.join("&");break e}}}return E=E.i.splice(0,V),F.D=E,te}function Zb(E){if(!E.g&&!E.u){E.Y=1;var F=E.Fa;X||W(),ie||(X(),ie=!0),Z.add(F,E),E.v=0}}function qy(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=dn(h(E.Fa,E),Yy(E,E.v)),E.v++,!0)}r.Fa=function(){if(this.u=null,Qb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=dn(h(this.ab,this),E)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),yg(this),Qb(this))};function Pd(E){E.A!=null&&(o.clearTimeout(E.A),E.A=null)}function Qb(E){E.g=new Ie(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var F=Os(E.qa);qr(F,"RID","rpc"),qr(F,"SID",E.K),qr(F,"AID",E.T),qr(F,"CI",E.F?"0":"1"),!E.F&&E.ja&&qr(F,"TO",E.ja),qr(F,"TYPE","xmlhttp"),Md(E,F),E.m&&E.o&&Oi(F,E.m,E.o),E.L&&(E.g.I=E.L);var V=E.g;E=E.ia,V.L=1,V.v=Ad(Os(F)),V.m=null,V.P=!0,Xe(V,E)}r.Za=function(){this.C!=null&&(this.C=null,yg(this),qy(this),tn(19))};function xg(E){E.C!=null&&(o.clearTimeout(E.C),E.C=null)}function Jb(E,F){var V=null;if(E.g==F){xg(E),Pd(E),E.g=null;var te=2}else if(Wa(E.h,F))V=F.D,$a(E.h,F),te=1;else return;if(E.G!=0){if(F.o)if(te==1){V=F.m?F.m.length:0,F=Date.now()-F.F;var me=E.B;te=Zl(),mt(te,new Un(te,V)),_g(E)}else Zb(E);else if(me=F.s,me==3||me==0&&0<F.X||!(te==1&&AI(E,F)||te==2&&qy(E)))switch(V&&0<V.length&&(F=E.h,F.i=F.i.concat(V)),me){case 1:hc(E,5);break;case 4:hc(E,10);break;case 3:hc(E,6);break;default:hc(E,2)}}}function Yy(E,F){let V=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(V*=2),V*F}function hc(E,F){if(E.j.info("Error code "+F),F==2){var V=h(E.fb,E),te=E.Xa;const me=!te;te=new ii(te||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Td(te,"https"),Ad(te),me?Cd(te.toString(),V):ll(te.toString(),V)}else tn(2);E.G=0,E.l&&E.l.sa(F),eS(E),Xb(E)}r.fb=function(E){E?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function eS(E){if(E.G=0,E.ka=[],E.l){const F=By(E.h);(F.length!=0||E.i.length!=0)&&(y(E.ka,F),y(E.ka,E.i),E.h.i.length=0,m(E.i),E.i.length=0),E.l.ra()}}function tS(E,F,V){var te=V instanceof ii?Os(V):new ii(V);if(te.g!="")F&&(te.g=F+"."+te.g),wf(te,te.s);else{var me=o.location;te=me.protocol,F=F?F+"."+me.hostname:me.hostname,me=+me.port;var Re=new ii(null);te&&Td(Re,te),F&&(Re.g=F),me&&wf(Re,me),V&&(Re.l=V),te=Re}return V=E.D,F=E.ya,V&&F&&qr(te,V,F),qr(te,"VER",E.la),Md(E,te),te}function rS(E,F,V){if(F&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=E.Ca&&!E.pa?new Vr(new bf({eb:V})):new Vr(E.pa),F.Ha(E.J),F}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nS(){}r=nS.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function wg(){}wg.prototype.g=function(E,F){return new qa(E,F)};function qa(E,F){Et.call(this),this.g=new mg(F),this.l=E,this.h=F&&F.messageUrlParams||null,E=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(E?E["X-WebChannel-Content-Type"]=F.messageContentType:E={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(E?E["X-WebChannel-Client-Profile"]=F.va:E={"X-WebChannel-Client-Profile":F.va}),this.g.S=E,(E=F&&F.Sb)&&!w(E)&&(this.g.m=E),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!w(F)&&(this.g.D=F,E=this.h,E!==null&&F in E&&(E=this.h,F in E&&delete E[F])),this.j=new su(this)}v(qa,Et),qa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qa.prototype.close=function(){Wy(this.g)},qa.prototype.o=function(E){var F=this.g;if(typeof E=="string"){var V={};V.__data__=E,E=V}else this.u&&(V={},V.__data__=qi(E),E=V);F.i.push(new Jl(F.Ya++,E)),F.G==3&&_g(F)},qa.prototype.N=function(){this.g.l=null,delete this.j,Wy(this.g),delete this.g,qa.aa.N.call(this)};function iS(E){ol.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var F=E.__sm__;if(F){e:{for(const V in F){E=V;break e}E=void 0}(this.i=E)&&(E=this.i,F=F!==null&&E in F?F[E]:void 0),this.data=F}else this.data=E}v(iS,ol);function aS(){Kl.call(this),this.status=1}v(aS,Kl);function su(E){this.g=E}v(su,nS),su.prototype.ua=function(){mt(this.g,"a")},su.prototype.ta=function(E){mt(this.g,new iS(E))},su.prototype.sa=function(E){mt(this.g,new aS)},su.prototype.ra=function(){mt(this.g,"b")},wg.prototype.createWebChannel=wg.prototype.g,qa.prototype.send=qa.prototype.o,qa.prototype.open=qa.prototype.m,qa.prototype.close=qa.prototype.close,cee=function(){return new wg},uee=function(){return Zl()},lee=lo,bO={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Y2=ae,oe.COMPLETE="complete",oee=oe,_f.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",Et.prototype.listen=Et.prototype.K,D_=_f,Vr.prototype.listenOnce=Vr.prototype.L,Vr.prototype.getLastError=Vr.prototype.Ka,Vr.prototype.getLastErrorCode=Vr.prototype.Ba,Vr.prototype.getStatus=Vr.prototype.Z,Vr.prototype.getResponseJson=Vr.prototype.Oa,Vr.prototype.getResponseText=Vr.prototype.oa,Vr.prototype.send=Vr.prototype.ea,Vr.prototype.setWithCredentials=Vr.prototype.Ha,see=Vr}).apply(typeof oT<"u"?oT:typeof self<"u"?self:typeof window<"u"?window:{});const k9="@firebase/firestore",M9="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sa.UNAUTHENTICATED=new Sa(null),Sa.GOOGLE_CREDENTIALS=new Sa("google-credentials-uid"),Sa.FIRST_PARTY=new Sa("first-party-uid"),Sa.MOCK_USER=new Sa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new D3("@firebase/firestore");function S0(){return bv.logLevel}function lt(r,...e){if(bv.logLevel<=cr.DEBUG){const t=e.map(V3);bv.debug(`Firestore (${ry}): ${r}`,...t)}}function tf(r,...e){if(bv.logLevel<=cr.ERROR){const t=e.map(V3);bv.error(`Firestore (${ry}): ${r}`,...t)}}function wm(r,...e){if(bv.logLevel<=cr.WARN){const t=e.map(V3);bv.warn(`Firestore (${ry}): ${r}`,...t)}}function V3(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,fee(r,n,t)}function fee(r,e,t){let n=`FIRESTORE (${ry}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw tf(n),new Error(n)}function Hr(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||fee(e,i,n)}function Yt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ec{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sa.UNAUTHENTICATED))}shutdown(){}}class R1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k1e{constructor(e){this.t=e,this.currentUser=Sa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let a=new $c;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $c,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $c)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Hr(typeof n.accessToken=="string",31837,{l:n}),new hee(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hr(e===null||typeof e=="string",2055,{h:e}),new Sa(e)}}class M1e{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Sa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P1e{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new M1e(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Sa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1e{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hr(this.o===void 0,3512);const n=a=>{a.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,lt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P9(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Hr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new P9(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1e(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=O1e(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function hr(r,e){return r<e?-1:r>e?1:0}function SO(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),a=e.charAt(n);if(i!==a)return Rk(i)===Rk(a)?hr(i,a):Rk(i)?1:-1}return hr(r.length,e.length)}const N1e=55296,F1e=57343;function Rk(r){const e=r.charCodeAt(0);return e>=N1e&&e<=F1e}function bm(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="__name__";class Su{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ot(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ot(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Su.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Su?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Su.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return hr(e.length,t.length)}static compareSegments(e,t){const n=Su.isNumericId(e),i=Su.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Su.extractNumericId(e).compare(Su.extractNumericId(t)):SO(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mh.fromString(e.substring(4,e.length-2))}}class an extends Su{construct(e,t,n){return new an(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new at(Be.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new an(t)}static emptyPath(){return new an([])}}const B1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ia extends Su{construct(e,t,n){return new ia(e,t,n)}static isValidIdentifier(e){return B1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ia.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L9}static keyField(){return new ia([L9])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new at(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new at(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new at(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new at(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ia(t)}static emptyPath(){return new ia([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(an.fromString(e))}static fromName(e){return new wt(an.fromString(e).popFirst(5))}static empty(){return new wt(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&an.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new an(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(r,e,t){if(!t)throw new at(Be.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function V1e(r,e,t,n){if(e===!0&&n===!0)throw new at(Be.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function O9(r){if(!wt.isDocumentKey(r))throw new at(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N9(r){if(wt.isDocumentKey(r))throw new at(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pee(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qC(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ot(12329,{type:typeof r})}function zl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qC(r);throw new at(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,e){const t={typeString:r};return e&&(t.value=e),t}function Xw(r,e){if(!pee(r))throw new at(Be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const s=r[n];if(i&&typeof s!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new at(Be.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=-62135596800,B9=1e6;class cn{static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*B9);return new cn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<F9)throw new at(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B9}_compareTo(e){return this.seconds===e.seconds?hr(this.nanoseconds,e.nanoseconds):hr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:cn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xw(e,cn._jsonSchema))return new cn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F9;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}cn._jsonSchemaVersion="firestore/timestamp/1.0",cn._jsonSchema={type:di("string",cn._jsonSchemaVersion),seconds:di("number"),nanoseconds:di("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new cn(0,0))}static max(){return new Wt(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=-1;function z1e(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Wt.fromTimestamp(n===1e9?new cn(t+1,0):new cn(t,n));return new Gh(i,wt.empty(),e)}function U1e(r){return new Gh(r.readTime,r.key,Ux)}class Gh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gh(Wt.min(),wt.empty(),Ux)}static max(){return new Gh(Wt.max(),wt.empty(),Ux)}}function H1e(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=wt.comparator(r.documentKey,e.documentKey),t!==0?t:hr(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j1e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ny(r){if(r.code!==Be.FAILED_PRECONDITION||r.message!==G1e)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,n)=>{t(e)})}static reject(e){return new Ue((t,n)=>{n(e)})}static waitFor(e){return new Ue((t,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&t()},l=>n(l))}),s=!0,a===i&&t()})}static or(e){let t=Ue.resolve(!1);for(const n of e)t=t.next(i=>i?Ue.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new Ue((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;t(e[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(e,t){return new Ue((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function W1e(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function iy(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}YC.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=-1;function XC(r){return r==null}function FA(r){return r===0&&1/r==-1/0}function $1e(r){return typeof r=="number"&&Number.isInteger(r)&&!FA(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee="";function q1e(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=V9(e)),e=Y1e(r.get(t),e);return V9(e)}function Y1e(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case vee:t+="";break;default:t+=a}}return t}function V9(r){return r+vee+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function hd(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function gee(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t){this.comparator=e,this.root=t||ra.EMPTY}insert(e,t){return new En(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ra.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ra.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lT(this.root,e,this.comparator,!1)}getReverseIterator(){return new lT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lT(this.root,e,this.comparator,!0)}}class lT{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ra{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??ra.RED,this.left=i??ra.EMPTY,this.right=a??ra.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new ra(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ra.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ra.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ra.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ra.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ot(27949);return e+(this.isRed()?0:1)}}ra.EMPTY=null,ra.RED=!0,ra.BLACK=!1;ra.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new ra(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U9(this.data.getIterator())}getIteratorFrom(e){return new U9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ii(this.comparator);return t.data=e,t}}class U9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.fields=e,e.sort(ia.comparator)}static empty(){return new Zs([])}unionWith(e){let t=new Ii(ia.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bm(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mee("Invalid base64 string: "+a):a}}(e);return new fa(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new fa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fa.EMPTY_BYTE_STRING=new fa("");const X1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jh(r){if(Hr(!!r,39018),typeof r=="string"){let e=0;const t=X1e.exec(r);if(Hr(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Kn(r.seconds),nanos:Kn(r.nanos)}}function Kn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wh(r){return typeof r=="string"?fa.fromBase64String(r):fa.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee="server_timestamp",_ee="__type__",xee="__previous_value__",wee="__local_write_time__";function H3(r){return(r?.mapValue?.fields||{})[_ee]?.stringValue===yee}function KC(r){const e=r.mapValue.fields[xee];return H3(e)?KC(e):e}function Hx(r){const e=jh(r.mapValue.fields[wee].timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1e{constructor(e,t,n,i,a,s,o,l,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const BA="(default)";class Gx{constructor(e,t){this.projectId=e,this.database=t||BA}static empty(){return new Gx("","")}get isDefaultDatabase(){return this.database===BA}isEqual(e){return e instanceof Gx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee="__type__",Z1e="__max__",uT={mapValue:{}},See="__vector__",VA="value";function $h(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?H3(r)?4:J1e(r)?9007199254740991:Q1e(r)?10:11:Ot(28295,{value:r})}function qu(r,e){if(r===e)return!0;const t=$h(r);if(t!==$h(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hx(r).isEqual(Hx(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=jh(i.timestampValue),o=jh(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return Wh(i.bytesValue).isEqual(Wh(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Kn(i.geoPointValue.latitude)===Kn(a.geoPointValue.latitude)&&Kn(i.geoPointValue.longitude)===Kn(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Kn(i.integerValue)===Kn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Kn(i.doubleValue),o=Kn(a.doubleValue);return s===o?FA(s)===FA(o):isNaN(s)&&isNaN(o)}return!1}(r,e);case 9:return bm(r.arrayValue.values||[],e.arrayValue.values||[],qu);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(z9(s)!==z9(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!qu(s[l],o[l])))return!1;return!0}(r,e);default:return Ot(52216,{left:r})}}function jx(r,e){return(r.values||[]).find(t=>qu(t,e))!==void 0}function Sm(r,e){if(r===e)return 0;const t=$h(r),n=$h(e);if(t!==n)return hr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return hr(r.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Kn(a.integerValue||a.doubleValue),l=Kn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(r,e);case 3:return H9(r.timestampValue,e.timestampValue);case 4:return H9(Hx(r),Hx(e));case 5:return SO(r.stringValue,e.stringValue);case 6:return function(a,s){const o=Wh(a),l=Wh(s);return o.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=hr(o[u],l[u]);if(c!==0)return c}return hr(o.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,s){const o=hr(Kn(a.latitude),Kn(s.latitude));return o!==0?o:hr(Kn(a.longitude),Kn(s.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return G9(r.arrayValue,e.arrayValue);case 10:return function(a,s){const o=a.fields||{},l=s.fields||{},u=o[VA]?.arrayValue,c=l[VA]?.arrayValue,f=hr(u?.values?.length||0,c?.values?.length||0);return f!==0?f:G9(u,c)}(r.mapValue,e.mapValue);case 11:return function(a,s){if(a===uT.mapValue&&s===uT.mapValue)return 0;if(a===uT.mapValue)return 1;if(s===uT.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=SO(l[f],c[f]);if(h!==0)return h;const p=Sm(o[l[f]],u[c[f]]);if(p!==0)return p}return hr(l.length,c.length)}(r.mapValue,e.mapValue);default:throw Ot(23264,{he:t})}}function H9(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return hr(r,e);const t=jh(r),n=jh(e),i=hr(t.seconds,n.seconds);return i!==0?i:hr(t.nanos,n.nanos)}function G9(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Sm(t[i],n[i]);if(a)return a}return hr(t.length,n.length)}function Tm(r){return TO(r)}function TO(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=jh(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Wh(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return wt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=TO(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${TO(t.fields[s])}`;return i+"}"}(r.mapValue):Ot(61005,{value:r})}function X2(r){switch($h(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=KC(r);return e?16+X2(e):16;case 5:return 2*r.stringValue.length;case 6:return Wh(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+X2(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return hd(n.fields,(a,s)=>{i+=a.length+X2(s)}),i}(r.mapValue);default:throw Ot(13486,{value:r})}}function j9(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function AO(r){return!!r&&"integerValue"in r}function G3(r){return!!r&&"arrayValue"in r}function W9(r){return!!r&&"nullValue"in r}function $9(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function K2(r){return!!r&&"mapValue"in r}function Q1e(r){return(r?.mapValue?.fields||{})[bee]?.stringValue===See}function Z_(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return hd(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Z_(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Z_(r.arrayValue.values[t]);return e}return{...r}}function J1e(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Z1e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!K2(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Z_(t)}setAll(e){let t=ia.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,n,i),n={},i=[],t=o.popLast()}s?n[o.lastSegment()]=Z_(s):i.push(o.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());K2(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];K2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){hd(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ds(Z_(this.value))}}function Tee(r){const e=[];return hd(r.fields,(t,n)=>{const i=new ia([t]);if(K2(n)){const a=Tee(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Zs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,n,i,a,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ea(e,0,Wt.min(),Wt.min(),Wt.min(),Ds.empty(),0)}static newFoundDocument(e,t,n,i){return new Ea(e,1,t,Wt.min(),n,i,0)}static newNoDocument(e,t){return new Ea(e,2,t,Wt.min(),Wt.min(),Ds.empty(),0)}static newUnknownDocument(e,t){return new Ea(e,3,t,Wt.min(),Wt.min(),Ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ea&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ea(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t){this.position=e,this.inclusive=t}}function q9(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],s=r.position[i];if(a.field.isKeyField()?n=wt.comparator(wt.fromName(s.referenceValue),t.key):n=Sm(s,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Y9(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!qu(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t="asc"){this.field=e,this.dir=t}}function e_e(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{}class hi extends Aee{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new r_e(e,t,n):t==="array-contains"?new a_e(e,n):t==="in"?new s_e(e,n):t==="not-in"?new o_e(e,n):t==="array-contains-any"?new l_e(e,n):new hi(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new n_e(e,n):new i_e(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sm(t,this.value)):t!==null&&$h(this.value)===$h(t)&&this.matchesComparison(Sm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ul extends Aee{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ul(e,t)}matches(e){return Eee(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Eee(r){return r.op==="and"}function Cee(r){return t_e(r)&&Eee(r)}function t_e(r){for(const e of r.filters)if(e instanceof Ul)return!1;return!0}function EO(r){if(r instanceof hi)return r.field.canonicalString()+r.op.toString()+Tm(r.value);if(Cee(r))return r.filters.map(e=>EO(e)).join(",");{const e=r.filters.map(t=>EO(t)).join(",");return`${r.op}(${e})`}}function Dee(r,e){return r instanceof hi?function(n,i){return i instanceof hi&&n.op===i.op&&n.field.isEqual(i.field)&&qu(n.value,i.value)}(r,e):r instanceof Ul?function(n,i){return i instanceof Ul&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&Dee(s,i.filters[o]),!0):!1}(r,e):void Ot(19439)}function Iee(r){return r instanceof hi?function(t){return`${t.field.canonicalString()} ${t.op} ${Tm(t.value)}`}(r):r instanceof Ul?function(t){return t.op.toString()+" {"+t.getFilters().map(Iee).join(" ,")+"}"}(r):"Filter"}class r_e extends hi{constructor(e,t,n){super(e,t,n),this.key=wt.fromName(n.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class n_e extends hi{constructor(e,t){super(e,"in",t),this.keys=Ree("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i_e extends hi{constructor(e,t){super(e,"not-in",t),this.keys=Ree("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ree(r,e){return(e.arrayValue?.values||[]).map(t=>wt.fromName(t.referenceValue))}class a_e extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return G3(t)&&jx(t.arrayValue,this.value)}}class s_e extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jx(this.value.arrayValue,t)}}class o_e extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(jx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jx(this.value.arrayValue,t)}}class l_e extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!G3(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>jx(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_e{constructor(e,t=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function X9(r,e=null,t=[],n=[],i=null,a=null,s=null){return new u_e(r,e,t,n,i,a,s)}function j3(r){const e=Yt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>EO(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),XC(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Tm(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Tm(n)).join(",")),e.Te=t}return e.Te}function W3(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!e_e(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Dee(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Y9(r.startAt,e.startAt)&&Y9(r.endAt,e.endAt)}function CO(r){return wt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c_e(r,e,t,n,i,a,s,o){return new Kw(r,e,t,n,i,a,s,o)}function $3(r){return new Kw(r)}function K9(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kee(r){return r.collectionGroup!==null}function Q_(r){const e=Yt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ii(ia.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new UA(a,n))}),t.has(ia.keyField().canonicalString())||e.Ie.push(new UA(ia.keyField(),n))}return e.Ie}function Nu(r){const e=Yt(r);return e.Ee||(e.Ee=f_e(e,Q_(r))),e.Ee}function f_e(r,e){if(r.limitType==="F")return X9(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new UA(i.field,a)});const t=r.endAt?new zA(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new zA(r.startAt.position,r.startAt.inclusive):null;return X9(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function DO(r,e){const t=r.filters.concat([e]);return new Kw(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function IO(r,e,t){return new Kw(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ZC(r,e){return W3(Nu(r),Nu(e))&&r.limitType===e.limitType}function Mee(r){return`${j3(Nu(r))}|lt:${r.limitType}`}function T0(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>Iee(i)).join(", ")}]`),XC(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Tm(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Tm(i)).join(",")),`Target(${n})`}(Nu(r))}; limitType=${r.limitType})`}function QC(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):wt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of Q_(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=q9(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Q_(n),i)||n.endAt&&!function(s,o,l){const u=q9(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Q_(n),i))}(r,e)}function h_e(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pee(r){return(e,t)=>{let n=!1;for(const i of Q_(r)){const a=d_e(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function d_e(r,e,t){const n=r.field.isKeyField()?wt.comparator(e.key,t.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Sm(l,u):Ot(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ot(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hd(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return gee(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_e=new En(wt.comparator);function rf(){return p_e}const Lee=new En(wt.comparator);function I_(...r){let e=Lee;for(const t of r)e=e.insert(t.key,t);return e}function Oee(r){let e=Lee;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function zp(){return J_()}function Nee(){return J_()}function J_(){return new jv(r=>r.toString(),(r,e)=>r.isEqual(e))}const v_e=new En(wt.comparator),g_e=new Ii(wt.comparator);function vr(...r){let e=g_e;for(const t of r)e=e.add(t);return e}const m_e=new Ii(hr);function y_e(){return m_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:FA(e)?"-0":e}}function Fee(r){return{integerValue:""+r}}function __e(r,e){return $1e(e)?Fee(e):q3(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._=void 0}}function x_e(r,e,t){return r instanceof Wx?function(i,a){const s={fields:{[_ee]:{stringValue:yee},[wee]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&H3(a)&&(a=KC(a)),a&&(s.fields[xee]=a),{mapValue:s}}(t,e):r instanceof $x?Vee(r,e):r instanceof qx?zee(r,e):function(i,a){const s=Bee(i,a),o=Z9(s)+Z9(i.Ae);return AO(s)&&AO(i.Ae)?Fee(o):q3(i.serializer,o)}(r,e)}function w_e(r,e,t){return r instanceof $x?Vee(r,e):r instanceof qx?zee(r,e):t}function Bee(r,e){return r instanceof HA?function(n){return AO(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Wx extends JC{}class $x extends JC{constructor(e){super(),this.elements=e}}function Vee(r,e){const t=Uee(e);for(const n of r.elements)t.some(i=>qu(i,n))||t.push(n);return{arrayValue:{values:t}}}class qx extends JC{constructor(e){super(),this.elements=e}}function zee(r,e){let t=Uee(e);for(const n of r.elements)t=t.filter(i=>!qu(i,n));return{arrayValue:{values:t}}}class HA extends JC{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Z9(r){return Kn(r.integerValue||r.doubleValue)}function Uee(r){return G3(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_e{constructor(e,t){this.field=e,this.transform=t}}function S_e(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof $x&&i instanceof $x||n instanceof qx&&i instanceof qx?bm(n.elements,i.elements,qu):n instanceof HA&&i instanceof HA?qu(n.Ae,i.Ae):n instanceof Wx&&i instanceof Wx}(r.transform,e.transform)}class T_e{constructor(e,t){this.version=e,this.transformResults=t}}class Ho{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z2(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class eD{}function Hee(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Y3(r.key,Ho.none()):new Zw(r.key,r.data,Ho.none());{const t=r.data,n=Ds.empty();let i=new Ii(ia.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new dd(r.key,n,new Zs(i.toArray()),Ho.none())}}function A_e(r,e,t){r instanceof Zw?function(i,a,s){const o=i.value.clone(),l=J9(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(r,e,t):r instanceof dd?function(i,a,s){if(!Z2(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=J9(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(Gee(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(r,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ex(r,e,t,n){return r instanceof Zw?function(a,s,o,l){if(!Z2(a.precondition,s))return o;const u=a.value.clone(),c=e7(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(r,e,t,n):r instanceof dd?function(a,s,o,l){if(!Z2(a.precondition,s))return o;const u=e7(a.fieldTransforms,l,s),c=s.data;return c.setAll(Gee(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(r,e,t,n):function(a,s,o){return Z2(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(r,e,t)}function E_e(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=Bee(n.transform,i||null);a!=null&&(t===null&&(t=Ds.empty()),t.set(n.field,a))}return t||null}function Q9(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bm(n,i,(a,s)=>S_e(a,s))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zw extends eD{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dd extends eD{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Gee(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function J9(r,e,t){const n=new Map;Hr(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const a=r[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,w_e(s,o,t[i]))}return n}function e7(r,e,t){const n=new Map;for(const i of r){const a=i.transform,s=t.data.field(i.field);n.set(i.field,x_e(a,s,e))}return n}class Y3 extends eD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C_e extends eD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_e{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&A_e(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ex(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ex(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Nee();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=t.has(i.key)?null:o;const l=Hee(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Wt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vr())}isEqual(e){return this.batchId===e.batchId&&bm(this.mutations,e.mutations,(t,n)=>Q9(t,n))&&bm(this.baseMutations,e.baseMutations,(t,n)=>Q9(t,n))}}class X3{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Hr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return v_e}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new X3(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_e{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_e{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,Tr;function k_e(r){switch(r){case Be.OK:return Ot(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return Ot(15467,{code:r})}}function jee(r){if(r===void 0)return tf("GRPC error has no .code"),Be.UNKNOWN;switch(r){case li.OK:return Be.OK;case li.CANCELLED:return Be.CANCELLED;case li.UNKNOWN:return Be.UNKNOWN;case li.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case li.INTERNAL:return Be.INTERNAL;case li.UNAVAILABLE:return Be.UNAVAILABLE;case li.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case li.NOT_FOUND:return Be.NOT_FOUND;case li.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case li.ABORTED:return Be.ABORTED;case li.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case li.DATA_LOSS:return Be.DATA_LOSS;default:return Ot(39323,{code:r})}}(Tr=li||(li={}))[Tr.OK=0]="OK",Tr[Tr.CANCELLED=1]="CANCELLED",Tr[Tr.UNKNOWN=2]="UNKNOWN",Tr[Tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tr[Tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tr[Tr.NOT_FOUND=5]="NOT_FOUND",Tr[Tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tr[Tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tr[Tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tr[Tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tr[Tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tr[Tr.ABORTED=10]="ABORTED",Tr[Tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tr[Tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tr[Tr.INTERNAL=13]="INTERNAL",Tr[Tr.UNAVAILABLE=14]="UNAVAILABLE",Tr[Tr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_e=new Mh([4294967295,4294967295],0);function t7(r){const e=M_e().encode(r),t=new aee;return t.update(e),new Uint8Array(t.digest())}function r7(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mh([t,n],0),new Mh([i,a],0)]}class K3{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new R_(`Invalid padding: ${t}`);if(n<0)throw new R_(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new R_(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new R_(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mh.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Mh.fromNumber(n)));return i.compare(P_e)===1&&(i=new Mh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=t7(e),[n,i]=r7(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new K3(a,i,t);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const t=t7(e),[n,i]=r7(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class R_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Qw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tD(Wt.min(),i,new En(hr),rf(),vr())}}class Qw{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qw(n,t,vr(),vr(),vr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class Wee{constructor(e,t){this.targetId=e,this.Ce=t}}class $ee{constructor(e,t,n=fa.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class n7{constructor(){this.ve=0,this.Fe=i7(),this.Me=fa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vr(),t=vr(),n=vr();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ot(38017,{changeType:a})}}),new Qw(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=i7()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L_e{constructor(e){this.Ge=e,this.ze=new Map,this.je=rf(),this.Je=cT(),this.He=cT(),this.Ye=new En(hr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ot(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(CO(a))if(n===0){const s=new wt(a.path);this.et(t,s,Ea.newNoDocument(s,Wt.min()))}else Hr(n===1,20013,{expectedCount:n});else{const s=this._t(t);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,u)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let s,o;try{s=Wh(n).toUint8Array()}catch(l){if(l instanceof mee)return wm("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new K3(s,i,a)}catch(l){return wm(l instanceof R_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&CO(o.target)){const l=new wt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ea.newNoDocument(l,e))}a.Be&&(t.set(s,a.ke()),a.qe())}});let n=vr();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new tD(e,t,this.Ye,this.je,n);return this.je=rf(),this.Je=cT(),this.He=cT(),this.Ye=new En(hr),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new n7,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ii(hr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ii(hr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||lt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n7),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cT(){return new En(wt.comparator)}function i7(){return new En(wt.comparator)}const O_e={asc:"ASCENDING",desc:"DESCENDING"},N_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F_e={and:"AND",or:"OR"};class B_e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function RO(r,e){return r.useProto3Json||XC(e)?e:{value:e}}function GA(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qee(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function V_e(r,e){return GA(r,e.toTimestamp())}function Fu(r){return Hr(!!r,49232),Wt.fromTimestamp(function(t){const n=jh(t);return new cn(n.seconds,n.nanos)}(r))}function Z3(r,e){return kO(r,e).canonicalString()}function kO(r,e){const t=function(i){return new an(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Yee(r){const e=an.fromString(r);return Hr(Jee(e),10190,{key:e.toString()}),e}function MO(r,e){return Z3(r.databaseId,e.path)}function kk(r,e){const t=Yee(e);if(t.get(1)!==r.databaseId.projectId)throw new at(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new at(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new wt(Kee(t))}function Xee(r,e){return Z3(r.databaseId,e)}function z_e(r){const e=Yee(r);return e.length===4?an.emptyPath():Kee(e)}function PO(r){return new an(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Kee(r){return Hr(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function a7(r,e,t){return{name:MO(r,e),fields:t.value.mapValue.fields}}function U_e(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ot(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Hr(c===void 0||typeof c=="string",58123),fa.fromBase64String(c||"")):(Hr(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),fa.fromUint8Array(c||new Uint8Array))}(r,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const c=u.code===void 0?Be.UNKNOWN:jee(u.code);return new at(c,u.message||"")}(s);t=new $ee(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=kk(r,n.document.name),a=Fu(n.document.updateTime),s=n.document.createTime?Fu(n.document.createTime):Wt.min(),o=new Ds({mapValue:{fields:n.document.fields}}),l=Ea.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];t=new Q2(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=kk(r,n.document),a=n.readTime?Fu(n.readTime):Wt.min(),s=Ea.newNoDocument(i,a),o=n.removedTargetIds||[];t=new Q2([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=kk(r,n.document),a=n.removedTargetIds||[];t=new Q2([],a,i,null)}else{if(!("filter"in e))return Ot(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new R_e(i,a),o=n.targetId;t=new Wee(o,s)}}return t}function H_e(r,e){let t;if(e instanceof Zw)t={update:a7(r,e.key,e.value)};else if(e instanceof Y3)t={delete:MO(r,e.key)};else if(e instanceof dd)t={update:a7(r,e.key,e.data),updateMask:Z_e(e.fieldMask)};else{if(!(e instanceof C_e))return Ot(16599,{Vt:e.type});t={verify:MO(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Wx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof $x)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qx)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof HA)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Ot(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:V_e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ot(27497)}(r,e.precondition)),t}function G_e(r,e){return r&&r.length>0?(Hr(e!==void 0,14353),r.map(t=>function(i,a){let s=i.updateTime?Fu(i.updateTime):Fu(a);return s.isEqual(Wt.min())&&(s=Fu(a)),new T_e(s,i.transformResults||[])}(t,e))):[]}function j_e(r,e){return{documents:[Xee(r,e.path)]}}function W_e(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Xee(r,i);const a=function(u){if(u.length!==0)return Qee(Ul.create(u,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:A0(h.field),direction:Y_e(h.dir)}}(c))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=RO(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:t,parent:i}}function $_e(r){let e=z_e(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Hr(n===1,65062);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];t.where&&(a=function(f){const h=Zee(f);return h instanceof Ul&&Cee(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(h=>function(v){return new UA(E0(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(t.orderBy));let o=null;t.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,XC(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new zA(p,h)}(t.startAt));let u=null;return t.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new zA(p,h)}(t.endAt)),c_e(e,i,s,a,o,"F",l,u)}function q_e(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zee(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=E0(t.unaryFilter.field);return hi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=E0(t.unaryFilter.field);return hi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=E0(t.unaryFilter.field);return hi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=E0(t.unaryFilter.field);return hi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(r):r.fieldFilter!==void 0?function(t){return hi.create(E0(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ul.create(t.compositeFilter.filters.map(n=>Zee(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(t.compositeFilter.op))}(r):Ot(30097,{filter:r})}function Y_e(r){return O_e[r]}function X_e(r){return N_e[r]}function K_e(r){return F_e[r]}function A0(r){return{fieldPath:r.canonicalString()}}function E0(r){return ia.fromServerFormat(r.fieldPath)}function Qee(r){return r instanceof hi?function(t){if(t.op==="=="){if($9(t.value))return{unaryFilter:{field:A0(t.field),op:"IS_NAN"}};if(W9(t.value))return{unaryFilter:{field:A0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($9(t.value))return{unaryFilter:{field:A0(t.field),op:"IS_NOT_NAN"}};if(W9(t.value))return{unaryFilter:{field:A0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:A0(t.field),op:X_e(t.op),value:t.value}}}(r):r instanceof Ul?function(t){const n=t.getFilters().map(i=>Qee(i));return n.length===1?n[0]:{compositeFilter:{op:K_e(t.op),filters:n}}}(r):Ot(54877,{filter:r})}function Z_e(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jee(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,n,i,a=Wt.min(),s=Wt.min(),o=fa.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new gh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_e{constructor(e){this.yt=e}}function J_e(r){const e=$_e({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?IO(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class exe{constructor(){this.Cn=new txe}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(Gh.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(Gh.min())}updateCollectionGroup(e,t,n){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class txe{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ii(an.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ii(an.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ete=41943040;class As{static withCacheSize(e){return new As(e,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As.DEFAULT_COLLECTION_PERCENTILE=10,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,As.DEFAULT=new As(ete,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),As.DISABLED=new As(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Am(0)}static cr(){return new Am(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="LruGarbageCollector",rxe=1048576;function l7([r,e],[t,n]){const i=hr(r,t);return i===0?hr(e,n):i}class nxe{constructor(e){this.Ir=e,this.buffer=new Ii(l7),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();l7(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ixe{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(o7,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){iy(t)?lt(o7,"Ignoring IndexedDB error during garbage collection: ",t):await ny(t)}await this.Vr(3e5)})}}class axe{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Ue.resolve(YC.ce);const n=new nxe(t);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(s7)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s7):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,t))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),S0()<=cr.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function sxe(r,e){return new axe(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oxe{constructor(){this.changes=new jv(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ea.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uxe{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&ex(n.mutation,i,Zs.empty(),cn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,vr()).next(()=>n))}getLocalViewOfDocuments(e,t,n=vr()){const i=zp();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let s=I_();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const n=zp();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,vr()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{t.set(s,o)})})}computeViews(e,t,n,i){let a=rf();const s=J_(),o=function(){return J_()}();return t.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof dd)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ex(c.mutation,u,c.mutation.getFieldMask(),cn.now())):s.set(u.key,Zs.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),t.forEach((u,c)=>o.set(u,new lxe(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,t){const n=J_();let i=new En((s,o)=>s-o),a=vr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let c=n.get(l)||Zs.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||vr()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=Nee();c.forEach(h=>{if(!a.has(h)){const p=Hee(t.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Ue.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(s){return wt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kee(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):Ue.resolve(zp());let o=Ux,l=a;return s.next(u=>Ue.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?Ue.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,vr())).next(c=>({batchId:o,changes:Oee(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(n=>{let i=I_();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let s=I_();return this.indexManager.getCollectionParents(e,a).next(o=>Ue.forEach(o,l=>{const u=function(f,h){return new Kw(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ea.newInvalidDocument(c)))});let o=I_();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ex(c.mutation,u,Zs.empty(),cn.now()),QC(t,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Fu(i.createTime)}}(t)),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:J_e(i.bundledQuery),readTime:Fu(i.readTime)}}(t)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fxe{constructor(){this.overlays=new En(wt.comparator),this.qr=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zp();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.St(e,t,a)}),Ue.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Ue.resolve()}getOverlaysForCollection(e,t,n){const i=zp(),a=t.length+1,s=new wt(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new En((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=zp(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=zp(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Ue.resolve(o)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new I_e(t,n));let a=this.qr.get(t);a===void 0&&(a=vr(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hxe{constructor(){this.sessionToken=fa.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.Qr=new Ii(zi.$r),this.Ur=new Ii(zi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new zi(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new zi(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new wt(new an([])),n=new zi(t,e),i=new zi(t,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new wt(new an([])),n=new zi(t,e),i=new zi(t,e+1);let a=vr();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new zi(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class zi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return wt.comparator(e.key,t.key)||hr(e.Yr,t.Yr)}static Kr(e,t){return hr(e.Yr,t.Yr)||wt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dxe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ii(zi.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new D_e(a,t,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new zi(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ue.resolve(s)}lookupMutationBatch(e,t){return Ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),a=i<0?0:i;return Ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?U3:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zi(t,0),i=new zi(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ii(hr);return t.forEach(i=>{const a=new zi(i,0),s=new zi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),Ue.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;wt.isDocumentKey(a)||(a=a.child(""));const s=new zi(new wt(a),0);let o=new Ii(hr);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),Ue.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Hr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ue.forEach(t.mutations,i=>{const a=new zi(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new zi(t,0),i=this.Zr.firstAfterOrEqual(n);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pxe{constructor(e){this.ri=e,this.docs=function(){return new En(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ue.resolve(n?n.document.mutableCopy():Ea.newInvalidDocument(t))}getEntries(e,t){let n=rf();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ea.newInvalidDocument(i))}),Ue.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=rf();const s=t.path,o=new wt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||H1e(U1e(c),n)<=0||(i.has(c.key)||QC(t,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Ue.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Ot(9500)}ii(e,t){return Ue.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new vxe(this)}getSize(e){return Ue.resolve(this.size)}}class vxe extends oxe{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{constructor(e){this.persistence=e,this.si=new jv(t=>j3(t),W3),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Q3,this.targetCount=0,this.ai=Am.ur()}forEachTarget(e,t){return this.si.forEach((n,i)=>t(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Am(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Pr(t),Ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Ue.waitFor(a).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ue.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ue.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ue.resolve(n)}containsKey(e,t){return Ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,t){this.ui={},this.overlays={},this.ci=new YC(0),this.li=!1,this.li=!0,this.hi=new hxe,this.referenceDelegate=e(this),this.Pi=new gxe(this),this.indexManager=new exe,this.remoteDocumentCache=function(i){return new pxe(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Q_e(t),this.Ii=new cxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fxe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new dxe(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){lt("MemoryPersistence","Starting transaction:",e);const i=new mxe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return Ue.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class mxe extends j1e{constructor(e){super(),this.currentSequenceNumber=e}}class J3{constructor(e){this.persistence=e,this.Ri=new Q3,this.Vi=null}static mi(e){return new J3(e)}get fi(){if(this.Vi)return this.Vi;throw Ot(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ue.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,n=>{const i=wt.fromPath(n);return this.gi(e,i).next(a=>{a||t.removeEntry(i,Wt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jA{constructor(e,t){this.persistence=e,this.pi=new jv(n=>q1e(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=sxe(this,t)}static mi(e,t){return new jA(e,t)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return Ue.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?Ue.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(o=>{o||(n++,a.removeEntry(s,Wt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=X2(e.data.value)),t}br(e,t,n){return Ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Ue.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=vr(),i=vr();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new eF(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Kge()?8:W1e(Oa())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ys(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,t,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new yxe;return this.Ss(e,t,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,t,s,o.size)})}).next(()=>a.result)}bs(e,t,n,i){return n.documentReadCount<this.fs?(S0()<=cr.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",T0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(S0()<=cr.DEBUG&&lt("QueryEngine","Query:",T0(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(S0()<=cr.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",T0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nu(t))):Ue.resolve())}ys(e,t){if(K9(t))return Ue.resolve(null);let n=Nu(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=IO(t,null,"F"),n=Nu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=vr(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(t,o);return this.Cs(t,u,s,l.readTime)?this.ys(e,IO(t,null,"F")):this.vs(e,u,t,l)}))})))}ws(e,t,n,i){return K9(t)||i.isEqual(Wt.min())?Ue.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(t,a);return this.Cs(t,s,n,i)?Ue.resolve(null):(S0()<=cr.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),T0(t)),this.vs(e,s,t,z1e(i,Ux)).next(o=>o))})}Ds(e,t){let n=new Ii(Pee(e));return t.forEach((i,a)=>{QC(e,a)&&(n=n.add(a))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return S0()<=cr.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",T0(t)),this.ps.getDocumentsMatchingQuery(e,t,Gh.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="LocalStore",xxe=3e8;class wxe{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new En(hr),this.xs=new jv(a=>j3(a),W3),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uxe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function bxe(r,e,t,n){return new wxe(r,e,t,n)}async function rte(r,e){const t=Yt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=vr();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function Sxe(r,e){const t=Yt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,h=f.keys();let p=Ue.resolve();return h.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(m=>{const y=u.docVersions.get(v);Hr(y!==null,48541),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=vr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function nte(r){const e=Yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Txe(r,e){const t=Yt(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const o=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(t.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(fa.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(f,p),function(m,y,x){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=xxe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,c)&&o.push(t.Pi.updateTargetData(a,p))});let l=rf(),u=vr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(Axe(a,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(Wt.min())){const c=t.Pi.getLastRemoteSnapshotVersion(a).next(f=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return Ue.waitFor(o).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(t.Ms=i,a))}function Axe(r,e,t){let n=vr(),i=vr();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let s=rf();return t.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Wt.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):lt(tF,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Exe(r,e){const t=Yt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=U3),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Cxe(r,e){const t=Yt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Pi.getTargetData(n,e).next(a=>a?(i=a,Ue.resolve(i)):t.Pi.allocateTargetId(n).next(s=>(i=new gh(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function LO(r,e,t){const n=Yt(r),i=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!iy(s))throw s;lt(tF,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function u7(r,e,t){const n=Yt(r);let i=Wt.min(),a=vr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Yt(l),h=f.xs.get(c);return h!==void 0?Ue.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(n,s,Nu(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,t?i:Wt.min(),t?a:vr())).next(o=>(Dxe(n,h_e(e),o),{documents:o,Qs:a})))}function Dxe(r,e,t){let n=r.Os.get(e)||Wt.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Os.set(e,n)}class c7{constructor(){this.activeTargetIds=y_e()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ixe{constructor(){this.Mo=new c7,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c7,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="ConnectivityMonitor";class h7{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(f7,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(f7,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fT=null;function OO(){return fT===null?fT=function(){return 268435456+Math.round(2147483648*Math.random())}():fT++,"0x"+fT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="RestConnection",kxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mxe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===BA?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,a){const s=OO(),o=this.zo(e,t.toUriEncodedString());lt(Mk,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=ud(u);return this.Jo(e,o,l,n,c).then(f=>(lt(Mk,`Received RPC '${e}' ${s}: `,f),f),f=>{throw wm(Mk,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,t,n,i,a,s){return this.Go(e,t,n,i,a)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ry}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const n=kxe[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="WebChannelConnection";class Lxe extends Mxe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const s=OO();return new Promise((o,l)=>{const u=new see;u.setWithCredentials(!0),u.listenOnce(oee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Y2.NO_ERROR:const f=u.getResponseJson();lt(ma,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Y2.TIMEOUT:lt(ma,`RPC '${e}' ${s} timed out`),l(new at(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Y2.HTTP_ERROR:const h=u.getStatus();if(lt(ma,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p?.error;if(v&&v.status&&v.message){const m=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(w)>=0?w:Be.UNKNOWN}(v.status);l(new at(m,v.message))}else l(new at(Be.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new at(Be.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{lt(ma,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);lt(ma,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,n,15)})}T_(e,t,n){const i=OO(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cee(),o=uee(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const c=a.join("");lt(ma,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,p=!1;const v=new Pxe({Yo:y=>{p?lt(ma,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(lt(ma,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),lt(ma,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),m=(y,x,w)=>{y.listen(x,b=>{try{w(b)}catch(T){setTimeout(()=>{throw T},0)}})};return m(f,D_.EventType.OPEN,()=>{p||(lt(ma,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(f,D_.EventType.CLOSE,()=>{p||(p=!0,lt(ma,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),m(f,D_.EventType.ERROR,y=>{p||(p=!0,wm(ma,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new at(Be.UNAVAILABLE,"The operation could not be completed")))}),m(f,D_.EventType.MESSAGE,y=>{if(!p){const x=y.data[0];Hr(!!x,16349);const w=x,b=w?.error||w[0]?.error;if(b){lt(ma,`RPC '${e}' stream ${i} received error:`,b);const T=b.status;let C=function(k){const I=li[k];if(I!==void 0)return jee(I)}(T),D=b.message;C===void 0&&(C=Be.INTERNAL,D="Unknown error status: "+T+" with message "+b.message),p=!0,v.a_(new at(C,D)),f.close()}else lt(ma,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}}),m(o,lee.STAT_EVENT,y=>{y.stat===bO.PROXY?lt(ma,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===bO.NOPROXY&&lt(ma,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Pk(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r){return new B_e(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="PersistentStream";class ate{constructor(e,t,n,i,a,s,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ite(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(tf(t.toString()),tf("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===t&&this.G_(n,i)},n=>{e(()=>{const i=new at(Be.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return lt(d7,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(lt(d7,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oxe extends ate{constructor(e,t,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=U_e(this.serializer,e),n=function(a){if(!("targetChange"in a))return Wt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Wt.min():s.readTime?Fu(s.readTime):Wt.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=PO(this.serializer),t.addTarget=function(a,s){let o;const l=s.target;if(o=CO(l)?{documents:j_e(a,l)}:{query:W_e(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=qee(a,s.resumeToken);const u=RO(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Wt.min())>0){o.readTime=GA(a,s.snapshotVersion.toTimestamp());const u=RO(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=q_e(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=PO(this.serializer),t.removeTarget=e,this.q_(t)}}class Nxe extends ate{constructor(e,t,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=G_e(e.writeResults,e.commitTime),n=Fu(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=PO(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>H_e(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{}class Bxe extends Fxe{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,kO(t,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(Be.UNKNOWN,a.toString())})}Ho(e,t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,kO(t,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(Be.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vxe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tf(t),this.aa=!1):lt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="RemoteStore";class zxe{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Wv(this)&&(lt(Sv,"Restarting streams for network reachability change."),await async function(l){const u=Yt(l);u.Ea.add(4),await Jw(u),u.Ra.set("Unknown"),u.Ea.delete(4),await nD(u)}(this))})}),this.Ra=new Vxe(n,i)}}async function nD(r){if(Wv(r))for(const e of r.da)await e(!0)}async function Jw(r){for(const e of r.da)await e(!1)}function ste(r,e){const t=Yt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),aF(t)?iF(t):ay(t).O_()&&nF(t,e))}function rF(r,e){const t=Yt(r),n=ay(t);t.Ia.delete(e),n.O_()&&ote(t,e),t.Ia.size===0&&(n.O_()?n.L_():Wv(t)&&t.Ra.set("Unknown"))}function nF(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ay(r).Y_(e)}function ote(r,e){r.Va.Ue(e),ay(r).Z_(e)}function iF(r){r.Va=new L_e({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ay(r).start(),r.Ra.ua()}function aF(r){return Wv(r)&&!ay(r).x_()&&r.Ia.size>0}function Wv(r){return Yt(r).Ea.size===0}function lte(r){r.Va=void 0}async function Uxe(r){r.Ra.set("Online")}async function Hxe(r){r.Ia.forEach((e,t)=>{nF(r,e)})}async function Gxe(r,e){lte(r),aF(r)?(r.Ra.ha(e),iF(r)):r.Ra.set("Unknown")}async function jxe(r,e,t){if(r.Ra.set("Online"),e instanceof $ee&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(r,e)}catch(n){lt(Sv,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await WA(r,n)}else if(e instanceof Q2?r.Va.Ze(e):e instanceof Wee?r.Va.st(e):r.Va.tt(e),!t.isEqual(Wt.min()))try{const n=await nte(r.localStore);t.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(fa.EMPTY_BYTE_STRING,c.snapshotVersion)),ote(a,l);const f=new gh(c.target,l,u,c.sequenceNumber);nF(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(r,t)}catch(n){lt(Sv,"Failed to raise snapshot:",n),await WA(r,n)}}async function WA(r,e,t){if(!iy(e))throw e;r.Ea.add(1),await Jw(r),r.Ra.set("Offline"),t||(t=()=>nte(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Sv,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await nD(r)})}function ute(r,e){return e().catch(t=>WA(r,t,e))}async function iD(r){const e=Yt(r),t=qh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:U3;for(;Wxe(e);)try{const i=await Exe(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,$xe(e,i)}catch(i){await WA(e,i)}cte(e)&&fte(e)}function Wxe(r){return Wv(r)&&r.Ta.length<10}function $xe(r,e){r.Ta.push(e);const t=qh(r);t.O_()&&t.X_&&t.ea(e.mutations)}function cte(r){return Wv(r)&&!qh(r).x_()&&r.Ta.length>0}function fte(r){qh(r).start()}async function qxe(r){qh(r).ra()}async function Yxe(r){const e=qh(r);for(const t of r.Ta)e.ea(t.mutations)}async function Xxe(r,e,t){const n=r.Ta.shift(),i=X3.from(n,e,t);await ute(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await iD(r)}async function Kxe(r,e){e&&qh(r).X_&&await async function(n,i){if(function(s){return k_e(s)&&s!==Be.ABORTED}(i.code)){const a=n.Ta.shift();qh(n).B_(),await ute(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await iD(n)}}(r,e),cte(r)&&fte(r)}async function p7(r,e){const t=Yt(r);t.asyncQueue.verifyOperationInProgress(),lt(Sv,"RemoteStore received new credentials");const n=Wv(t);t.Ea.add(3),await Jw(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await nD(t)}async function Zxe(r,e){const t=Yt(r);e?(t.Ea.delete(2),await nD(t)):e||(t.Ea.add(2),await Jw(t),t.Ra.set("Unknown"))}function ay(r){return r.ma||(r.ma=function(t,n,i){const a=Yt(t);return a.sa(),new Oxe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{Xo:Uxe.bind(null,r),t_:Hxe.bind(null,r),r_:Gxe.bind(null,r),H_:jxe.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),aF(r)?iF(r):r.Ra.set("Unknown")):(await r.ma.stop(),lte(r))})),r.ma}function qh(r){return r.fa||(r.fa=function(t,n,i){const a=Yt(t);return a.sa(),new Nxe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qxe.bind(null,r),r_:Kxe.bind(null,r),ta:Yxe.bind(null,r),na:Xxe.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await iD(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Sv,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new $c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const s=Date.now()+n,o=new sF(e,t,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oF(r,e){if(tf("AsyncQueue",`${e}: ${r}`),iy(r))return new at(Be.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static emptySet(e){return new Q0(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||wt.comparator(t.key,n.key):(t,n)=>wt.comparator(t.key,n.key),this.keyedMap=I_(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Q0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Q0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(){this.ga=new En(wt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ot(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Em{constructor(e,t,n,i,a,s,o,l,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,i,a){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Em(e,t,Q0.emptySet(t),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ZC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Jxe{constructor(){this.queries=g7(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=Yt(t),a=i.queries;i.queries=g7(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new at(Be.ABORTED,"Firestore shutting down"))}}function g7(){return new jv(r=>Mee(r),ZC)}async function hte(r,e){const t=Yt(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Qxe,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const o=oF(s,`Initialization of query '${T0(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&lF(t)}async function dte(r,e){const t=Yt(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function ewe(r,e){const t=Yt(r);let n=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&lF(t)}function twe(r,e,t){const n=Yt(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function lF(r){r.Ca.forEach(e=>{e.next()})}var NO,m7;(m7=NO||(NO={})).Ma="default",m7.Cache="cache";class pte{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Em(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==NO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.key=e}}class gte{constructor(e){this.key=e}}class rwe{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vr(),this.mutatedKeys=vr(),this.eu=Pee(e),this.tu=new Q0(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new v7,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=QC(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==m&&(n.track({type:3,doc:p}),y=!0):this.su(h,p)||(n.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),y=!0):h&&!p&&(n.track({type:1,doc:h}),y=!0,(l||u)&&(o=!0)),y&&(p?(s=s.add(p),a=m?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,v){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Rt:y})}};return m(p)-m(v)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const o=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Em(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v7,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new gte(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new vte(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=vr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Em.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uF="SyncEngine";class nwe{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class iwe{constructor(e){this.key=e,this.hu=!1}}class awe{constructor(e,t,n,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new jv(o=>Mee(o),ZC),this.Iu=new Map,this.Eu=new Set,this.du=new En(wt.comparator),this.Au=new Map,this.Ru=new Q3,this.Vu={},this.mu=new Map,this.fu=Am.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function swe(r,e,t=!0){const n=bte(r);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await mte(n,e,t,!0),i}async function owe(r,e){const t=bte(r);await mte(t,e,!0,!1)}async function mte(r,e,t,n){const i=await Cxe(r.localStore,Nu(e)),a=i.targetId,s=r.sharedClientState.addLocalQueryTarget(a,t);let o;return n&&(o=await lwe(r,e,a,s==="current",i.resumeToken)),r.isPrimaryClient&&t&&ste(r.remoteStore,i),o}async function lwe(r,e,t,n,i){r.pu=(f,h,p)=>async function(m,y,x,w){let b=y.view.ru(x);b.Cs&&(b=await u7(m.localStore,y.query,!1).then(({documents:A})=>y.view.ru(A,b)));const T=w&&w.targetChanges.get(y.targetId),C=w&&w.targetMismatches.get(y.targetId)!=null,D=y.view.applyChanges(b,m.isPrimaryClient,T,C);return _7(m,y.targetId,D.au),D.snapshot}(r,f,h,p);const a=await u7(r.localStore,e,!0),s=new rwe(e,a.Qs),o=s.ru(a.documents),l=Qw.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),u=s.applyChanges(o,r.isPrimaryClient,l);_7(r,t,u.au);const c=new nwe(e,t,s);return r.Tu.set(e,c),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),u.snapshot}async function uwe(r,e,t){const n=Yt(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!ZC(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await LO(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&rF(n.remoteStore,i.targetId),FO(n,i.targetId)}).catch(ny)):(FO(n,i.targetId),await LO(n.localStore,i.targetId,!0))}async function cwe(r,e){const t=Yt(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),rF(t.remoteStore,n.targetId))}async function fwe(r,e,t){const n=ywe(r);try{const i=await function(s,o){const l=Yt(s),u=cn.now(),c=o.reduce((p,v)=>p.add(v.key),vr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=rf(),m=vr();return l.Ns.getEntries(p,c).next(y=>{v=y,v.forEach((x,w)=>{w.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(y=>{f=y;const x=[];for(const w of o){const b=E_e(w,f.get(w.key).overlayedDocument);b!=null&&x.push(new dd(w.key,b,Tee(b.value.mapValue),Ho.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,o)}).next(y=>{h=y;const x=y.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,y.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Oee(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new En(hr)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,t),await eb(n,i.changes),await iD(n.remoteStore)}catch(i){const a=oF(i,"Failed to persist write");t.reject(a)}}async function yte(r,e){const t=Yt(r);try{const n=await Txe(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Au.get(a);s&&(Hr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Hr(s.hu,14607):i.removedDocuments.size>0&&(Hr(s.hu,42227),s.hu=!1))}),await eb(t,n,e)}catch(n){await ny(n)}}function y7(r,e,t){const n=Yt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Yt(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(o)&&(u=!0)}),u&&lF(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hwe(r,e,t){const n=Yt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new En(wt.comparator);s=s.insert(a,Ea.newNoDocument(a,Wt.min()));const o=vr().add(a),l=new tD(Wt.min(),new Map,new En(hr),s,o);await yte(n,l),n.du=n.du.remove(a),n.Au.delete(e),cF(n)}else await LO(n.localStore,e,!1).then(()=>FO(n,e,t)).catch(ny)}async function dwe(r,e){const t=Yt(r),n=e.batch.batchId;try{const i=await Sxe(t.localStore,e);xte(t,n,null),_te(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await eb(t,i)}catch(i){await ny(i)}}async function pwe(r,e,t){const n=Yt(r);try{const i=await function(s,o){const l=Yt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Hr(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);xte(n,e,t),_te(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await eb(n,i)}catch(i){await ny(i)}}function _te(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function xte(r,e,t){const n=Yt(r);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function FO(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(n=>{r.Ru.containsKey(n)||wte(r,n)})}function wte(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(rF(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),cF(r))}function _7(r,e,t){for(const n of t)n instanceof vte?(r.Ru.addReference(n.key,e),vwe(r,n)):n instanceof gte?(lt(uF,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||wte(r,n.key)):Ot(19791,{wu:n})}function vwe(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(lt(uF,"New document in limbo: "+t),r.Eu.add(n),cF(r))}function cF(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new wt(an.fromString(e)),n=r.fu.next();r.Au.set(n,new iwe(t)),r.du=r.du.insert(t,n),ste(r.remoteStore,new gh(Nu($3(t.path)),n,"TargetPurposeLimboResolution",YC.ce))}}async function eb(r,e,t){const n=Yt(r),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,t).then(u=>{if((u||t)&&n.isPrimaryClient){const c=u?!u.fromCache:t?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=eF.As(l.targetId,u);a.push(c)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const c=Yt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ue.forEach(u,h=>Ue.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Ue.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!iy(f))throw f;lt(tF,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.Ms.get(h),v=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(v);c.Ms=c.Ms.insert(h,m)}}}(n.localStore,a))}async function gwe(r,e){const t=Yt(r);if(!t.currentUser.isEqual(e)){lt(uF,"User change. New user:",e.toKey());const n=await rte(t.localStore,e);t.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new at(Be.CANCELLED,s))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await eb(t,n.Ls)}}function mwe(r,e){const t=Yt(r),n=t.Au.get(e);if(n&&n.hu)return vr().add(n.key);{let i=vr();const a=t.Iu.get(e);if(!a)return i;for(const s of a){const o=t.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function bte(r){const e=Yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yte.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hwe.bind(null,e),e.Pu.H_=ewe.bind(null,e.eventManager),e.Pu.yu=twe.bind(null,e.eventManager),e}function ywe(r){const e=Yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pwe.bind(null,e),e}class $A{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rD(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bxe(this.persistence,new _xe,e.initialUser,this.serializer)}Cu(e){return new tte(J3.mi,this.serializer)}Du(e){return new Ixe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$A.provider={build:()=>new $A};class _we extends $A{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hr(this.persistence.referenceDelegate instanceof jA,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ixe(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?As.withCacheSize(this.cacheSizeBytes):As.DEFAULT;return new tte(n=>jA.mi(n,t),this.serializer)}}class BO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>y7(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gwe.bind(null,this.syncEngine),await Zxe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jxe}()}createDatastore(e){const t=rD(e.databaseInfo.databaseId),n=function(a){return new Lxe(a)}(e.databaseInfo);return function(a,s,o,l){return new Bxe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,s,o){return new zxe(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,t=>y7(this.syncEngine,t,0),function(){return h7.v()?new h7:new Rxe}())}createSyncEngine(e,t){return function(i,a,s,o,l,u,c){const f=new awe(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const n=Yt(t);lt(Sv,"RemoteStore shutting down."),n.Ea.add(5),await Jw(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}BO.provider={build:()=>new BO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tf("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="FirestoreClient";class xwe{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Sa.UNAUTHENTICATED,this.clientId=z3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{lt(Yh,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(lt(Yh,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=oF(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Lk(r,e){r.asyncQueue.verifyOperationInProgress(),lt(Yh,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await rte(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function x7(r,e){r.asyncQueue.verifyOperationInProgress();const t=await wwe(r);lt(Yh,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>p7(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>p7(e.remoteStore,i)),r._onlineComponents=e}async function wwe(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Yh,"Using user provided OfflineComponentProvider");try{await Lk(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;wm("Error using user provided cache. Falling back to memory cache: "+t),await Lk(r,new $A)}}else lt(Yh,"Using default OfflineComponentProvider"),await Lk(r,new _we(void 0));return r._offlineComponents}async function Tte(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Yh,"Using user provided OnlineComponentProvider"),await x7(r,r._uninitializedComponentsProvider._online)):(lt(Yh,"Using default OnlineComponentProvider"),await x7(r,new BO))),r._onlineComponents}function bwe(r){return Tte(r).then(e=>e.syncEngine)}async function Ate(r){const e=await Tte(r),t=e.eventManager;return t.onListen=swe.bind(null,e.syncEngine),t.onUnlisten=uwe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=owe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cwe.bind(null,e.syncEngine),t}function Swe(r,e,t={}){const n=new $c;return r.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Ste({next:h=>{c.Nu(),s.enqueueAndForget(()=>dte(a,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new at(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new at(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new pte($3(o.path),c,{includeMetadataChanges:!0,qa:!0});return hte(a,f)}(await Ate(r),r.asyncQueue,e,t,n)),n.promise}function Twe(r,e,t={}){const n=new $c;return r.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Ste({next:h=>{c.Nu(),s.enqueueAndForget(()=>dte(a,f)),h.fromCache&&l.source==="server"?u.reject(new at(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new pte(o,c,{includeMetadataChanges:!0,qa:!0});return hte(a,f)}(await Ate(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ete(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte="firestore.googleapis.com",b7=!0;class S7{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cte,this.ssl=b7}else this.host=e.host,this.ssl=e.ssl??b7;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ete;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rxe)throw new at(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ete(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new at(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new at(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new at(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aD{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S7({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S7(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new I1e;switch(n.type){case"firstParty":return new P1e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new at(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=w7.get(t);n&&(lt("ComponentProvider","Removing Datastore"),w7.delete(t),n.terminate())}(this),Promise.resolve()}}function Awe(r,e,t,n={}){r=zl(r,aD);const i=ud(e),a=r._getSettings(),s={...a,emulatorOptions:r._getEmulatorOptions()},o=`${e}:${t}`;i&&(E3(`https://${o}`),C3("Firestore",!0)),a.host!==Cte&&a.host!==o&&wm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!yv(l,s)&&(r._setSettings(l),n.mockUserToken)){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Sa.MOCK_USER;else{u=yJ(n.mockUserToken,r._app?.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new at(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Sa(f)}r._authCredentials=new R1e(new hee(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sy(this.firestore,e,this._query)}}class Zn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ph(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}toJSON(){return{type:Zn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Xw(t,Zn._jsonSchema))return new Zn(e,n||null,new wt(an.fromString(t.referencePath)))}}Zn._jsonSchemaVersion="firestore/documentReference/1.0",Zn._jsonSchema={type:di("string",Zn._jsonSchemaVersion),referencePath:di("string")};class Ph extends sy{constructor(e,t,n){super(e,t,$3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new wt(e))}withConverter(e){return new Ph(this.firestore,e,this._path)}}function Fr(r,e,...t){if(r=Jn(r),dee("collection","path",e),r instanceof aD){const n=an.fromString(e,...t);return N9(n),new Ph(r,null,n)}{if(!(r instanceof Zn||r instanceof Ph))throw new at(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(an.fromString(e,...t));return N9(n),new Ph(r.firestore,null,n)}}function El(r,e,...t){if(r=Jn(r),arguments.length===1&&(e=z3.newId()),dee("doc","path",e),r instanceof aD){const n=an.fromString(e,...t);return O9(n),new Zn(r,null,new wt(n))}{if(!(r instanceof Zn||r instanceof Ph))throw new at(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(an.fromString(e,...t));return O9(n),new Zn(r.firestore,r instanceof Ph?r.converter:null,new wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="AsyncQueue";class A7{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ite(this,"async_queue_retry"),this._c=()=>{const n=Pk();n&&lt(T7,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Pk();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pk();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new $c;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!iy(e))throw e;lt(T7,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,tf("INTERNAL UNHANDLED ERROR: ",E7(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=sF.createAndSchedule(this,e,t,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ot(47125,{Pc:E7(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function E7(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $v extends aD{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new A7,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A7(e),this._firestoreClient=void 0,await e}}}function Ewe(r,e){const t=typeof r=="object"?r:R3(),n=typeof r=="string"?r:BA,i=GC(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=vJ("firestore");a&&Awe(i,...a)}return i}function fF(r){if(r._terminated)throw new at(Be.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Cwe(r),r._firestoreClient}function Cwe(r){const e=r._freezeSettings(),t=function(i,a,s,o){return new K1e(i,a,s,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Ete(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xwe(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(fa.fromBase64String(e))}catch(t){throw new at(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(fa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xw(e,Vo._jsonSchema))return Vo.fromBase64String(e.bytes)}}Vo._jsonSchemaVersion="firestore/bytes/1.0",Vo._jsonSchema={type:di("string",Vo._jsonSchemaVersion),bytes:di("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new at(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ia(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hr(this._lat,e._lat)||hr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bu._jsonSchemaVersion}}static fromJSON(e){if(Xw(e,Bu._jsonSchema))return new Bu(e.latitude,e.longitude)}}Bu._jsonSchemaVersion="firestore/geoPoint/1.0",Bu._jsonSchema={type:di("string",Bu._jsonSchemaVersion),latitude:di("number"),longitude:di("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xw(e,Vu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Vu(e.vectorValues);throw new at(Be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vu._jsonSchemaVersion="firestore/vectorValue/1.0",Vu._jsonSchema={type:di("string",Vu._jsonSchemaVersion),vectorValues:di("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dwe=/^__.*__$/;class Iwe{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zw(e,this.data,t,this.fieldTransforms)}}class Dte{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ite(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ac:r})}}class hF{constructor(e,t,n,i,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hF({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qA(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ite(this.Ac)&&Dwe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Rwe{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rD(e)}Cc(e,t,n,i=!1){return new hF({Ac:e,methodName:t,Dc:n,path:ia.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lD(r){const e=r._freezeSettings(),t=rD(r._databaseId);return new Rwe(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Rte(r,e,t,n,i,a={}){const s=r.Cc(a.merge||a.mergeFields?2:0,e,t,i);pF("Data must be an object, but it was:",s,n);const o=kte(n,s);let l,u;if(a.merge)l=new Zs(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=VO(e,f,t);if(!s.contains(h))throw new at(Be.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Pte(c,h)||c.push(h)}l=new Zs(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Iwe(new Ds(o),l,u)}class uD extends oD{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uD}}class dF extends oD{_toFieldTransform(e){return new b_e(e.path,new Wx)}isEqual(e){return e instanceof dF}}function kwe(r,e,t,n){const i=r.Cc(1,e,t);pF("Data must be an object, but it was:",i,n);const a=[],s=Ds.empty();hd(n,(l,u)=>{const c=vF(e,l,t);u=Jn(u);const f=i.yc(c);if(u instanceof uD)a.push(c);else{const h=tb(u,f);h!=null&&(a.push(c),s.set(c,h))}});const o=new Zs(a);return new Dte(s,o,i.fieldTransforms)}function Mwe(r,e,t,n,i,a){const s=r.Cc(1,e,t),o=[VO(e,n,t)],l=[i];if(a.length%2!=0)throw new at(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(VO(e,a[h])),l.push(a[h+1]);const u=[],c=Ds.empty();for(let h=o.length-1;h>=0;--h)if(!Pte(u,o[h])){const p=o[h];let v=l[h];v=Jn(v);const m=s.yc(p);if(v instanceof uD)u.push(p);else{const y=tb(v,m);y!=null&&(u.push(p),c.set(p,y))}}const f=new Zs(u);return new Dte(c,f,s.fieldTransforms)}function Pwe(r,e,t,n=!1){return tb(t,r.Cc(n?4:3,e))}function tb(r,e){if(Mte(r=Jn(r)))return pF("Unsupported field value:",e,r),kte(r,e);if(r instanceof oD)return function(n,i){if(!Ite(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=tb(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=Jn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return __e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=cn.fromDate(n);return{timestampValue:GA(i.serializer,a)}}if(n instanceof cn){const a=new cn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:GA(i.serializer,a)}}if(n instanceof Bu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vo)return{bytesValue:qee(i.serializer,n._byteString)};if(n instanceof Zn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Z3(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Vu)return function(s,o){return{mapValue:{fields:{[bee]:{stringValue:See},[VA]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return q3(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${qC(n)}`)}(r,e)}function kte(r,e){const t={};return gee(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hd(r,(n,i)=>{const a=tb(i,e.mc(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function Mte(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof cn||r instanceof Bu||r instanceof Vo||r instanceof Zn||r instanceof oD||r instanceof Vu)}function pF(r,e,t){if(!Mte(t)||!pee(t)){const n=qC(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function VO(r,e,t){if((e=Jn(e))instanceof sD)return e._internalPath;if(typeof e=="string")return vF(r,e);throw qA("Field path arguments must be of type string or ",r,!1,void 0,t)}const Lwe=new RegExp("[~\\*/\\[\\]]");function vF(r,e,t){if(e.search(Lwe)>=0)throw qA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sD(...e.split("."))._internalPath}catch{throw qA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qA(r,e,t,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new at(Be.INVALID_ARGUMENT,o+r+l)}function Pte(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Owe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gF("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Owe extends Lte{data(){return super.data()}}function gF(r,e){return typeof e=="string"?vF(r,e):e instanceof sD?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nwe(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mF{}class Fwe extends mF{}function qn(r,e,...t){let n=[];e instanceof mF&&n.push(e),n=n.concat(t),function(a){const s=a.filter(l=>l instanceof yF).length,o=a.filter(l=>l instanceof cD).length;if(s>1||s>0&&o>0)throw new at(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class cD extends Fwe{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new cD(e,t,n)}_apply(e){const t=this._parse(e);return Ote(e._query,t),new sy(e.firestore,e.converter,DO(e._query,t))}_parse(e){const t=lD(e.firestore);return function(a,s,o,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new at(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){D7(f,c);const v=[];for(const m of f)v.push(C7(l,a,m));h={arrayValue:{values:v}}}else h=C7(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||D7(f,c),h=Pwe(o,s,f,c==="in"||c==="not-in");return hi.create(u,c,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wn(r,e,t){const n=e,i=gF("where",r);return cD._create(i,n,t)}class yF extends mF{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yF(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Ul.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)Ote(s,l),s=DO(s,l)}(e._query,t),new sy(e.firestore,e.converter,DO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C7(r,e,t){if(typeof(t=Jn(t))=="string"){if(t==="")throw new at(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kee(e)&&t.indexOf("/")!==-1)throw new at(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(an.fromString(t));if(!wt.isDocumentKey(n))throw new at(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return j9(r,new wt(n))}if(t instanceof Zn)return j9(r,t._key);throw new at(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qC(t)}.`)}function D7(r,e){if(!Array.isArray(r)||r.length===0)throw new at(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ote(r,e){const t=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new at(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Bwe{convertValue(e,t="none"){switch($h(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return hd(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){const t=e.fields?.[VA].arrayValue?.values?.map(n=>Kn(n.doubleValue));return new Vu(t)}convertGeoPoint(e){return new Bu(Kn(e.latitude),Kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=KC(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hx(e));default:return null}}convertTimestamp(e){const t=jh(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=an.fromString(e);Hr(Jee(n),9688,{name:e});const i=new Gx(n.get(1),n.get(3)),a=new wt(n.popFirst(5));return i.isEqual(t)||tf(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class k_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nv extends Lte{constructor(e,t,n,i,a,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new J2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(gF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=nv._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}nv._jsonSchemaVersion="firestore/documentSnapshot/1.0",nv._jsonSchema={type:di("string",nv._jsonSchemaVersion),bundleSource:di("string","DocumentSnapshot"),bundleName:di("string"),bundle:di("string")};class J2 extends nv{data(e={}){return super.data(e)}}class J0{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new k_(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new J2(this._firestore,this._userDataWriter,n.key,n,new k_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new J2(i._firestore,i._userDataWriter,o.doc.key,o.doc,new k_(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new J2(i._firestore,i._userDataWriter,o.doc.key,o.doc,new k_(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Vwe(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=J0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=z3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vwe(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(r){r=zl(r,Zn);const e=zl(r.firestore,$v);return Swe(fF(e),r._key).then(t=>Hwe(e,r,t))}J0._jsonSchemaVersion="firestore/querySnapshot/1.0",J0._jsonSchema={type:di("string",J0._jsonSchemaVersion),bundleSource:di("string","QuerySnapshot"),bundleName:di("string"),bundle:di("string")};class Fte extends Bwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function bn(r){r=zl(r,sy);const e=zl(r.firestore,$v),t=fF(e),n=new Fte(e);return Nwe(r._query),Twe(t,r._query).then(i=>new J0(e,n,r,i))}function zwe(r,e,t){r=zl(r,Zn);const n=zl(r.firestore,$v),i=Nte(r.converter,e);return fD(n,[Rte(lD(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Ho.none())])}function Ok(r,e,t,...n){r=zl(r,Zn);const i=zl(r.firestore,$v),a=lD(i);let s;return s=typeof(e=Jn(e))=="string"||e instanceof sD?Mwe(a,"updateDoc",r._key,e,t,n):kwe(a,"updateDoc",r._key,e),fD(i,[s.toMutation(r._key,Ho.exists(!0))])}function Uwe(r){return fD(zl(r.firestore,$v),[new Y3(r._key,Ho.none())])}function rb(r,e){const t=zl(r.firestore,$v),n=El(r),i=Nte(r.converter,e);return fD(t,[Rte(lD(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Ho.exists(!1))]).then(()=>n)}function fD(r,e){return function(n,i){const a=new $c;return n.asyncQueue.enqueueAndForget(async()=>fwe(await bwe(n),i,a)),a.promise}(fF(r),e)}function Hwe(r,e,t){const n=t.docs.get(e._key),i=new Fte(r);return new nv(r,i,e._key,n,new k_(t.hasPendingWrites,t.fromCache),e.converter)}function _F(){return new dF("serverTimestamp")}(function(e,t=!0){(function(i){ry=i})(Hv),_v(new Hh("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new $v(new k1e(n.getProvider("auth-internal")),new L1e(s,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new at(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gx(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:t,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Pu(k9,M9,e),Pu(k9,M9,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte="firebasestorage.googleapis.com",Vte="storageBucket",Gwe=120*1e3,jwe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends ec{constructor(e,t,n=0){super(Nk(e),`Firebase Storage: ${t} (${Nk(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fn||(Fn={}));function Nk(r){return"storage/"+r}function xF(){const r="An unknown error occurred, please check the error payload for server response.";return new zn(Fn.UNKNOWN,r)}function Wwe(r){return new zn(Fn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function $we(r){return new zn(Fn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qwe(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zn(Fn.UNAUTHENTICATED,r)}function Ywe(){return new zn(Fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xwe(r){return new zn(Fn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Kwe(){return new zn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zwe(){return new zn(Fn.CANCELED,"User canceled the upload/download.")}function Qwe(r){return new zn(Fn.INVALID_URL,"Invalid URL '"+r+"'.")}function Jwe(r){return new zn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function ebe(){return new zn(Fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vte+"' property when initializing the app?")}function tbe(){return new zn(Fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rbe(){return new zn(Fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nbe(r){return new zn(Fn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zO(r){return new zn(Fn.INVALID_ARGUMENT,r)}function zte(){return new zn(Fn.APP_DELETED,"The Firebase app was deleted.")}function ibe(r){return new zn(Fn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tx(r,e){return new zn(Fn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function F1(r){throw new zn(Fn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Qs.makeFromUrl(e,t)}catch{return new Qs(e,"")}if(n.path==="")return n;throw Jwe(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},m=t===Bte?"(?:storage.googleapis.com|storage.cloud.google.com)":t,y="([^?#]*)",x=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:o,indices:l,postModify:a},{regex:p,indices:v,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<b.length;T++){const C=b[T],D=C.regex.exec(e);if(D){const A=D[C.indices.bucket];let k=D[C.indices.path];k||(k=""),n=new Qs(A,k),C.postModify(n);break}}if(n==null)throw Qwe(e);return n}}class abe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sbe(r,e,t){let n=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,r(p,l())},y)}function h(){a&&clearTimeout(a)}function p(y,...x){if(u){h();return}if(y){h(),c.call(null,y,...x);return}if(l()||s){h(),c.call(null,y,...x);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,f(b)}let v=!1;function m(y){v||(v=!0,h(),!u&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,m(!0)},t),m}function obe(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lbe(r){return r!==void 0}function ube(r){return typeof r=="object"&&!Array.isArray(r)}function wF(r){return typeof r=="string"||r instanceof String}function I7(r){return bF()&&r instanceof Blob}function bF(){return typeof Blob<"u"}function R7(r,e,t,n){if(n<e)throw zO(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw zO(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function Ute(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var iv;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(iv||(iv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cbe(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(e,t,n,i,a,s,o,l,u,c,f,h=!0,p=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,m)=>{this.resolve_=v,this.reject_=m,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new hT(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===iv.NO_ERROR,l=a.getStatus();if(!o||cbe(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===iv.ABORT;n(!1,new hT(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new hT(u,a))})},t=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());lbe(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=xF();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?zte():Zwe();s(l)}else{const l=Kwe();s(l)}};this.canceled_?t(!1,new hT(!1,null,!0)):this.backoffId_=sbe(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&obe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hT{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function hbe(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function dbe(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pbe(r,e){e&&(r["X-Firebase-GMPID"]=e)}function vbe(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function gbe(r,e,t,n,i,a,s=!0,o=!1){const l=Ute(r.urlParams),u=r.url+l,c=Object.assign({},r.headers);return pbe(c,e),hbe(c,t),dbe(c,a),vbe(c,n),new fbe(u,r.method,c,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mbe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ybe(...r){const e=mbe();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(bF())return new Blob(r);throw new zn(Fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _be(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xbe(r){if(typeof atob>"u")throw nbe("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fk{constructor(e,t){this.data=e,this.contentType=t||null}}function wbe(r,e){switch(r){case Du.RAW:return new Fk(Hte(e));case Du.BASE64:case Du.BASE64URL:return new Fk(Gte(r,e));case Du.DATA_URL:return new Fk(Sbe(e),Tbe(e))}throw xF()}function Hte(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=r.charCodeAt(++t);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function bbe(r){let e;try{e=decodeURIComponent(r)}catch{throw tx(Du.DATA_URL,"Malformed data URL.")}return Hte(e)}function Gte(r,e){switch(r){case Du.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw tx(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Du.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw tx(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=xbe(e)}catch(i){throw i.message.includes("polyfill")?i:tx(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class jte{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw tx(Du.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=Abe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Sbe(r){const e=new jte(r);return e.base64?Gte(Du.BASE64,e.rest):bbe(e.rest)}function Tbe(r){return new jte(r).contentType}function Abe(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){let n=0,i="";I7(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(I7(this.data_)){const n=this.data_,i=_be(n,e,t);return i===null?null:new uh(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new uh(n,!0)}}static getBlob(...e){if(bF()){const t=e.map(n=>n instanceof uh?n.data_:n);return new uh(ybe.apply(null,t))}else{const t=e.map(s=>wF(s)?wbe(Du.RAW,s).data:s.data_);let n=0;t.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new uh(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(r){let e;try{e=JSON.parse(r)}catch{return null}return ube(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ebe(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Cbe(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function $te(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dbe(r,e){return e}class Xa{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||Dbe}}let dT=null;function Ibe(r){return!wF(r)||r.length<2?r:$te(r)}function qte(){if(dT)return dT;const r=[];r.push(new Xa("bucket")),r.push(new Xa("generation")),r.push(new Xa("metageneration")),r.push(new Xa("name","fullPath",!0));function e(a,s){return Ibe(s)}const t=new Xa("name");t.xform=e,r.push(t);function n(a,s){return s!==void 0?Number(s):s}const i=new Xa("size");return i.xform=n,r.push(i),r.push(new Xa("timeCreated")),r.push(new Xa("updated")),r.push(new Xa("md5Hash",null,!0)),r.push(new Xa("cacheControl",null,!0)),r.push(new Xa("contentDisposition",null,!0)),r.push(new Xa("contentEncoding",null,!0)),r.push(new Xa("contentLanguage",null,!0)),r.push(new Xa("contentType",null,!0)),r.push(new Xa("metadata","customMetadata",!0)),dT=r,dT}function Rbe(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new Qs(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function kbe(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const s=t[a];n[s.local]=s.xform(n,e[s.server])}return Rbe(n,r),n}function Yte(r,e,t){const n=Wte(e);return n===null?null:kbe(r,n,t)}function Mbe(r,e,t,n){const i=Wte(e);if(i===null||!wF(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=r.bucket,f=r.fullPath,h="/b/"+s(c)+"/o/"+s(f),p=SF(h,t,n),v=Ute({alt:"media",token:u});return p+v})[0]}function Pbe(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}class Xte{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(r){if(!r)throw xF()}function Lbe(r,e){function t(n,i){const a=Yte(r,i,e);return Kte(a!==null),a}return t}function Obe(r,e){function t(n,i){const a=Yte(r,i,e);return Kte(a!==null),Mbe(a,i,r.host,r._protocol)}return t}function Zte(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Ywe():i=qwe():t.getStatus()===402?i=$we(r.bucket):t.getStatus()===403?i=Xwe(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Nbe(r){const e=Zte(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Wwe(r.path)),a.serverResponse=i.serverResponse,a}return t}function Fbe(r,e,t){const n=e.fullServerUrl(),i=SF(n,r.host,r._protocol),a="GET",s=r.maxOperationRetryTime,o=new Xte(i,a,Obe(r,t),s);return o.errorHandler=Nbe(e),o}function Bbe(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function Vbe(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=Bbe(null,e)),n}function zbe(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=Vbe(e,n,i),c=Pbe(u,t),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=uh.getBlob(f,n,h);if(p===null)throw tbe();const v={name:u.fullPath},m=SF(a,r.host,r._protocol),y="POST",x=r.maxUploadRetryTime,w=new Xte(m,y,Lbe(r,t),x);return w.urlParams=v,w.headers=s,w.body=p.uploadData(),w.errorHandler=Zte(e),w}class Ube{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=iv.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=iv.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=iv.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,a){if(this.sent_)throw F1("cannot .send() more than once");if(ud(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw F1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw F1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw F1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw F1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Hbe extends Ube{initXhr(){this.xhr_.responseType="text"}}function Qte(){return new Hbe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){this._service=e,t instanceof Qs?this._location=t:this._location=Qs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Tv(e,t)}get root(){const e=new Qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $te(this._location.path)}get storage(){return this._service}get parent(){const e=Ebe(this._location.path);if(e===null)return null;const t=new Qs(this._location.bucket,e);return new Tv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ibe(e)}}function Gbe(r,e,t){r._throwIfRoot("uploadBytes");const n=zbe(r.storage,r._location,qte(),new uh(e,!0),t);return r.storage.makeRequestWithTokens(n,Qte).then(i=>({metadata:i,ref:r}))}function jbe(r){r._throwIfRoot("getDownloadURL");const e=Fbe(r.storage,r._location,qte());return r.storage.makeRequestWithTokens(e,Qte).then(t=>{if(t===null)throw rbe();return t})}function Wbe(r,e){const t=Cbe(r._location.path,e),n=new Qs(r._location.bucket,t);return new Tv(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $be(r){return/^[A-Za-z]+:\/\//.test(r)}function qbe(r,e){return new Tv(r,e)}function Jte(r,e){if(r instanceof TF){const t=r;if(t._bucket==null)throw ebe();const n=new Tv(t,t._bucket);return e!=null?Jte(n,e):n}else return e!==void 0?Wbe(r,e):r}function Ybe(r,e){if(e&&$be(e)){if(r instanceof TF)return qbe(r,e);throw zO("To use ref(service, url), the first argument must be a Storage instance.")}else return Jte(r,e)}function k7(r,e){const t=e?.[Vte];return t==null?null:Qs.makeFromBucketSpec(t,r)}function Xbe(r,e,t,n={}){r.host=`${e}:${t}`;const i=ud(e);i&&(E3(`https://${r.host}/b`),C3("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:yJ(a,r.app.options.projectId))}class TF{constructor(e,t,n,i,a,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Bte,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Gwe,this._maxUploadRetryTime=jwe,this._requests=new Set,i!=null?this._bucket=Qs.makeFromBucketSpec(i,this._host):this._bucket=k7(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qs.makeFromBucketSpec(this._url,e):this._bucket=k7(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R7("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R7("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tv(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new abe(zte());{const s=gbe(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const M7="@firebase/storage",P7="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere="storage";function YA(r,e,t){return r=Jn(r),Gbe(r,e,t)}function XA(r){return r=Jn(r),jbe(r)}function KA(r,e){return r=Jn(r),Ybe(r,e)}function Kbe(r=R3(),e){r=Jn(r);const n=GC(r,ere).getImmediate({identifier:e}),i=vJ("storage");return i&&Zbe(n,...i),n}function Zbe(r,e,t,n={}){Xbe(r,e,t,n)}function Qbe(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new TF(t,n,i,e,Hv)}function Jbe(){_v(new Hh(ere,Qbe,"PUBLIC").setMultipleInstances(!0)),Pu(M7,P7,""),Pu(M7,P7,"esm2020")}Jbe();const eSe={apiKey:"AIzaSyAAN-6JFEEzDv9H_fK9eC4Eh7CJQbZI11Y",authDomain:"control-electoral-libre.firebaseapp.com",projectId:"control-electoral-libre",storageBucket:"control-electoral-libre.firebasestorage.app",messagingSenderId:"593332831012",appId:"1:593332831012:web:f03121ee8be81134b9a9b1",measurementId:"G-E01WW9NVH8"},AF=wJ(eSe),Cm=iee(AF),er=Ewe(AF),ZA=Kbe(AF),tSe="_header_1rwph_19",rSe="_logo_1rwph_77",nSe="_logoImg_1rwph_119",iSe="_hamburguesa_1rwph_131",aSe="_nav_1rwph_169",sSe="_BtnSalir_1rwph_237",oSe="_avatarUsuario_1rwph_285",lSe="_usuarioWrapper_1rwph_329",uSe="_menuUsuario_1rwph_339",cSe="_usuarioInfo_1rwph_411",fSe="_abierto_1rwph_489",hl={header:tSe,logo:rSe,logoImg:nSe,hamburguesa:iSe,nav:aSe,BtnSalir:sSe,avatarUsuario:oSe,usuarioWrapper:lSe,menuUsuario:uSe,usuarioInfo:cSe,abierto:fSe};function hSe(){const[r,e]=ce.useState(!1),[t,n]=ce.useState(null),[i,a]=ce.useState(null),[s,o]=ce.useState(!1),l=Hw(),u=ce.useRef(),c=()=>e(!1);ce.useEffect(()=>{const h=Cm.onAuthStateChanged(async p=>{if(n(p),p){const m=El(er,"usuarios",p.uid),y=await Yx(m);y.exists()&&a(y.data())}const v=window.location.pathname;!p&&!v.startsWith("/login")&&!v.startsWith("/signup")&&l("/login")});return()=>h()},[l]);const f=async()=>{await Cm.signOut(),c(),l("/login")};return ce.useEffect(()=>{const h=p=>{u.current&&!u.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),q.jsxs("header",{className:hl.header,children:[q.jsx("div",{className:hl.logo,children:q.jsxs(wl,{to:"/",onClick:c,children:[q.jsx("img",{src:"/img/logo_libre.png",alt:"Partido LIBRE Logo",className:hl.logoImg}),"LIBRE"]})}),q.jsx("button",{className:hl.hamburguesa,onClick:()=>e(!r),"aria-label":"Men",children:""}),q.jsxs("nav",{className:`${hl.nav} ${r?hl.abierto:""}`,children:[q.jsxs("a",{href:"https://chatgpt.com/g/g-67e3fe14c71c8191844fa99fe1ee3162-libre-al-cambio",target:"_blank",rel:"noopener noreferrer",onClick:c,children:[q.jsx("img",{src:"/img/chat4.png",alt:"Chat personalizado GPT",style:{width:"24px",height:"24px",marginRight:"8px"}}),"IA LIBRE"]}),q.jsx(wl,{to:"/",onClick:c,children:"Inicio"}),q.jsx(wl,{to:"/delegado/registro_electoral",onClick:c,children:"Registro Electoral"}),q.jsx(wl,{to:"/revisor/registros_cargados",onClick:c,children:"Revisor"}),q.jsx(wl,{to:"/jefesR/GestionUsuariosPage",onClick:c,children:"Gestin de cuentas"}),q.jsx(wl,{to:"/resultados/resultados_graficos",onClick:c,children:"Resultados"}),t?q.jsxs("div",{className:hl.usuarioWrapper,ref:u,children:[q.jsx("div",{className:hl.avatarUsuario,onClick:()=>o(!s),title:t.email,children:t.email?.charAt(0).toUpperCase()}),s&&q.jsxs(q.Fragment,{children:[console.log(" Usuario logueado:",t?.uid),console.log(" Email:",t?.email),console.log(" Datos en Firestore:",i),q.jsxs("div",{className:hl.menuUsuario,children:[q.jsxs("div",{className:hl.usuarioInfo,children:[q.jsx("strong",{children:t.email}),i?.rol&&q.jsxs("div",{children:["Rol: ",i.rol]})]}),q.jsx("button",{onClick:f,className:hl.BtnSalir,children:"Salir"})]})]})]}):q.jsxs(q.Fragment,{children:[q.jsx(wl,{to:"/login",onClick:c,children:"Acceder"}),q.jsx(wl,{to:"/signup",onClick:c,children:"Registrarse"})]})]})]})}const dSe="_hero_zqawp_1",pSe="_title_zqawp_39",vSe="_subtitle_zqawp_41",gSe="_button_zqawp_43",pT={hero:dSe,title:pSe,subtitle:vSe,button:gSe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UO=function(){return UO=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},UO.apply(this,arguments)};function mSe(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}var em="",rx=null,eA=null,tre=null;function EF(){em="",rx!==null&&rx.disconnect(),eA!==null&&(window.clearTimeout(eA),eA=null)}function L7(r){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(r.tagName)&&!r.hasAttribute("disabled")||t.includes(r.tagName)&&r.hasAttribute("href")}function O7(){var r=null;if(em==="#")r=document.body;else{var e=em.replace("#","");r=document.getElementById(e),r===null&&em==="#top"&&(r=document.body)}if(r!==null){tre(r);var t=r.getAttribute("tabindex");return t===null&&!L7(r)&&r.setAttribute("tabindex",-1),r.focus({preventScroll:!0}),t===null&&!L7(r)&&(r.blur(),r.removeAttribute("tabindex")),EF(),!0}return!1}function ySe(r){window.setTimeout(function(){O7()===!1&&(rx===null&&(rx=new MutationObserver(O7)),rx.observe(document,{attributes:!0,childList:!0,subtree:!0}),eA=window.setTimeout(function(){EF()},r||1e4))},0)}function rre(r){return Ml.forwardRef(function(e,t){var n="";typeof e.to=="string"&&e.to.includes("#")?n="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(n=e.to.hash);var i={};r===cJ&&(i.isActive=function(o,l){return o&&o.isExact&&l.hash===n});function a(o){EF(),em=e.elementId?"#"+e.elementId:n,e.onClick&&e.onClick(o),em!==""&&!o.defaultPrevented&&o.button===0&&(!e.target||e.target==="_self")&&!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&(tre=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},ySe(e.timeout))}var s=mSe(e,["scroll","smooth","timeout","elementId"]);return Ml.createElement(r,UO({},i,s,{onClick:a,ref:t}),e.children)})}var _Se=rre(wl);rre(cJ);function xSe(){return q.jsxs("section",{className:pT.hero,children:[q.jsx("h2",{className:pT.title,children:"Partido LIBRE - Control Electoral"}),q.jsx("p",{className:pT.subtitle,children:"Fortaleciendo la democracia con transparencia y participacin ciudadana."}),q.jsx(_Se,{smooth:!0,to:"/#resultados",className:pT.button,children:"Comenzar a trabajar"})]})}const wSe="_footer_n7ie8_1",bSe={footer:wSe};function SSe(){return q.jsx("footer",{className:bSe.footer,children:q.jsx("p",{children:" 2025 Kjana Kode. Todos los derechos reservados."})})}var TSe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function nre(r){if(typeof r=="number")return{value:r,unit:"px"};var e,t=(r.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var n=(r.match(/[^0-9]*$/)||"").toString();return TSe[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(r," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function L0(r){var e=nre(r);return"".concat(e.value).concat(e.unit)}var HO=function(r,e,t){var n="react-spinners-".concat(r,"-").concat(t);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,s=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(s,0),n},QA;(function(r){r.maroon="#800000",r.red="#FF0000",r.orange="#FFA500",r.yellow="#FFFF00",r.olive="#808000",r.green="#008000",r.purple="#800080",r.fuchsia="#FF00FF",r.lime="#00FF00",r.teal="#008080",r.aqua="#00FFFF",r.blue="#0000FF",r.navy="#000080",r.black="#000000",r.gray="#808080",r.silver="#C0C0C0",r.white="#FFFFFF"})(QA||(QA={}));var ASe=function(r,e){if(r.includes("/"))return r.replace("rgb(","rgba(");var t=r.substring(r.startsWith("rgba(")?5:4,r.length-1).trim(),n=t.split(",");return n.length===4?r.replace("rgb(","rgba("):n.length===3?"rgba(".concat(t,", ").concat(e,")"):"rgba(".concat(t," / ").concat(e,")")},ESe=function(r,e){if(r.startsWith("rgb"))return ASe(r,e);if(Object.keys(QA).includes(r)&&(r=QA[r]),r[0]==="#"&&(r=r.slice(1)),r.length===3){var t="";r.split("").forEach(function(i){t+=i,t+=i}),r=t}var n=(r.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(n,", ").concat(e,")")},JA=function(){return JA=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},JA.apply(this,arguments)},CSe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},DSe=HO("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function ISe(r){var e=r.loading,t=e===void 0?!0:e,n=r.color,i=n===void 0?"#000000":n,a=r.speedMultiplier,s=a===void 0?1:a,o=r.cssOverride,l=o===void 0?{}:o,u=r.size,c=u===void 0?35:u,f=CSe(r,["loading","color","speedMultiplier","cssOverride","size"]),h=JA({background:"transparent !important",width:L0(c),height:L0(c),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(DSe," ").concat(.75/s,"s 0s infinite linear"),animationFillMode:"both"},l);return t?ce.createElement("span",JA({style:h},f)):null}var eE=function(){return eE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},eE.apply(this,arguments)},RSe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};function kSe(r){var e=r.loading,t=e===void 0?!0:e,n=r.color,i=n===void 0?"#000000":n,a=r.speedMultiplier,s=a===void 0?1:a,o=r.cssOverride,l=o===void 0?{}:o,u=r.size,c=u===void 0?50:u,f=RSe(r,["loading","color","speedMultiplier","cssOverride","size"]),h=nre(c),p=h.value,v=h.unit,m=eE({display:"inherit",position:"relative",width:L0(c),height:L0(c),transform:"rotate(165deg)"},l),y=p/5,x=(p-y)/2,w=x-y,b=ESe(i,.75),T=HO("HashLoader","0% {width: ".concat(y,"px; box-shadow: ").concat(x,"px ").concat(-w,"px ").concat(b,", ").concat(-x,"px ").concat(w,"px ").concat(b,`}
    35% {width: `).concat(L0(c),"; box-shadow: 0 ").concat(-w,"px ").concat(b,", 0 ").concat(w,"px ").concat(b,`}
    70% {width: `).concat(y,"px; box-shadow: ").concat(-x,"px ").concat(-w,"px ").concat(b,", ").concat(x,"px ").concat(w,"px ").concat(b,`}
    100% {box-shadow: `).concat(x,"px ").concat(-w,"px ").concat(b,", ").concat(-x,"px ").concat(w,"px ").concat(b,"}"),"before"),C=HO("HashLoader","0% {height: ".concat(y,"px; box-shadow: ").concat(w,"px ").concat(x,"px ").concat(i,", ").concat(-w,"px ").concat(-x,"px ").concat(i,`}
    35% {height: `).concat(L0(c),"; box-shadow: ").concat(w,"px 0 ").concat(i,", ").concat(-w,"px 0 ").concat(i,`}
    70% {height: `).concat(y,"px; box-shadow: ").concat(w,"px ").concat(-x,"px ").concat(i,", ").concat(-w,"px ").concat(x,"px ").concat(i,`}
    100% {box-shadow: `).concat(w,"px ").concat(x,"px ").concat(i,", ").concat(-w,"px ").concat(-x,"px ").concat(i,"}"),"after"),D=function(A){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(p/5).concat(v),height:"".concat(p/5).concat(v),borderRadius:"".concat(p/10).concat(v),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(A===1?T:C," ").concat(2/s,"s infinite")}};return t?ce.createElement("span",eE({style:m},f),ce.createElement("span",{style:D(1)}),ce.createElement("span",{style:D(2)})):null}function hD(){return q.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:q.jsx(kSe,{color:"#085fa7",size:85})})}const MSe="_mainContainer_pws7a_17",PSe="_leftSection_pws7a_37",LSe="_bgOverlay_pws7a_55",OSe="_bgCarousel_pws7a_75",NSe="_active_pws7a_133",FSe="_carouselText_pws7a_143",BSe="_rightSection_pws7a_215",VSe="_authContainer_pws7a_239",zSe="_logo_pws7a_265",USe="_authTitle_pws7a_279",HSe="_formField_pws7a_297",GSe="_authBtn_pws7a_369",jSe="_authLink_pws7a_415",WSe="_fadeIn_pws7a_571",Rn={mainContainer:MSe,leftSection:PSe,bgOverlay:LSe,bgCarousel:OSe,active:NSe,carouselText:FSe,rightSection:BSe,authContainer:VSe,logo:zSe,authTitle:USe,formField:HSe,authBtn:GSe,authLink:jSe,fadeIn:WSe};function $Se(){const[r,e]=ce.useState(""),[t,n]=ce.useState(""),[i,a]=ce.useState(""),[s,o]=ce.useState(!1),l=Hw();ce.useEffect(()=>{const c=document.querySelectorAll(`.${Rn.bgCarousel} img`),f=[{title:"Transparencia Electoral",desc:"Garantiza procesos electorales limpios y confiables con datos abiertos y accesibles para todos."},{title:"Gestin de Votantes",desc:"Administra el registro y la verificacin de votantes para asegurar la legitimidad del padrn electoral."},{title:"Monitoreo en Tiempo Real",desc:"Supervisa las actas y resultados electorales en tiempo real para una toma de decisiones rpida y precisa."},{title:"Seguridad y Confidencialidad",desc:"Protege la informacin electoral con sistemas seguros y protocolos de confidencialidad rigurosos."},{title:"Anlisis de Resultados",desc:"Visualiza estadsticas y tendencias para evaluar el desempeo electoral y planificar futuras estrategias."}],h=document.querySelector(`.${Rn.carouselText}`);let p=0;const m=setInterval(()=>{if(!c.length||!h)return;c[p].classList.remove(Rn.active),p=(p+1)%c.length,c[p].classList.add(Rn.active);const y=h.querySelector("h2"),x=h.querySelector("p");y.classList.remove(Rn.fadeIn),x.classList.remove(Rn.fadeIn),y.offsetWidth,x.offsetWidth,y.textContent=f[p].title,x.textContent=f[p].desc,y.classList.add(Rn.fadeIn),x.classList.add(Rn.fadeIn)},5e3);return()=>clearInterval(m)},[]);const u=async c=>{c.preventDefault(),a(""),o(!0);try{console.log("Iniciando sesin con:",r,t);const h=(await pye(Cm,r,t)).user;console.log("Login exitoso:",h.email);const p=qn(Fr(er,"usuarios"),wn("email","==",h.email)),v=await bn(p);if(console.log("Documentos obtenidos:",v.size),v.empty)throw new Error("No existe usuario en Firestore");const y=v.docs[0].data();if(console.log("Datos del usuario:",y),!y.habilitado)throw new Error("Usuario no habilitado");const x=y.rol?.toLowerCase();if(!x)throw new Error("Usuario sin rol");switch(console.log("Rol:",x),x){case"delegado":l("/delegado/registro_electoral");break;case"revisor":l("/revisor/registros_cargados");break;case"administrador":l("/admin/panel");break;case"jefe":l("/jefe/panel");break;default:throw new Error("Rol no reconocido")}}catch(f){console.error("Error atrapado:",f),a(f.message||"Error desconocido"),o(!1)}};return q.jsxs("div",{className:Rn.mainContainer,children:[q.jsxs("div",{className:Rn.leftSection,children:[q.jsxs("div",{className:Rn.bgCarousel,children:[q.jsx("img",{src:"/img/intro_1.jpg",alt:"KPI",className:Rn.active}),q.jsx("img",{src:"/img/intro_2.jpg",alt:"Inventario"}),q.jsx("img",{src:"/img/intro_3.jpg",alt:"Flujo de Caja"}),q.jsx("img",{src:"/img/intro_4.jpg",alt:"Clientes"}),q.jsx("img",{src:"/img/intro_5.jpg",alt:"Mercado"})]}),q.jsx("div",{className:Rn.bgOverlay}),q.jsxs("div",{className:Rn.carouselText,children:[q.jsx("h2",{children:"Monitoreo en Tiempo Real"}),q.jsx("p",{children:"Supervisa las actas y resultados electorales en tiempo real para una toma de decisiones rpida y precisa."})]})]}),q.jsx("div",{className:Rn.rightSection,children:q.jsxs("div",{className:Rn.authContainer,children:[q.jsx("div",{className:Rn.logo,children:q.jsx("img",{src:"/img/logo_libre.png",alt:"Logo"})}),q.jsx("h2",{className:Rn.authTitle,children:"Iniciar Sesin"}),q.jsxs("form",{onSubmit:u,children:[q.jsxs("div",{className:Rn.formField,children:[q.jsx("i",{className:"fas fa-envelope"}),q.jsx("input",{type:"email",placeholder:"Correo electrnico",value:r,onChange:c=>e(c.target.value),required:!0})]}),q.jsxs("div",{className:Rn.formField,children:[q.jsx("i",{className:"fas fa-lock"}),q.jsx("input",{type:"password",placeholder:"Contrasea",value:t,onChange:c=>n(c.target.value),required:!0})]}),i&&q.jsx("p",{style:{color:"red",marginBottom:"1rem"},children:i}),q.jsx("button",{type:"submit",disabled:s,className:Rn.authBtn,children:s?"Ingresando...":"Ingresar"})]}),q.jsx(wl,{to:"/signup",className:Rn.authLink,children:"No tienes cuenta? Regstrate"})]})})]})}const qSe="_signupContainer_so4ar_1",YSe="_form_so4ar_33",XSe="_error_so4ar_81",KSe="_button_so4ar_95",B1={signupContainer:qSe,form:YSe,error:XSe,button:KSe};function ZSe(){const[r,e]=ce.useState(""),[t,n]=ce.useState(""),[i,a]=ce.useState(""),[s,o]=ce.useState(""),[l,u]=ce.useState(""),[c,f]=ce.useState(!1);Hw();const[h,p]=ce.useState({departamento:"",circunscripcion:"",provincia:"",municipio:"",recinto:""}),[v,m]=ce.useState([]),[y,x]=ce.useState([]),[w,b]=ce.useState([]),[T,C]=ce.useState([]),[D,A]=ce.useState([]),[k,I]=ce.useState(""),[M,P]=ce.useState(""),[O,N]=ce.useState(""),[G,j]=ce.useState(""),U=y.filter(Q=>Q.nombre.toLowerCase().includes(k.toLowerCase())),X=w.filter(Q=>Q.nombre.toLowerCase().includes(M.toLowerCase())),ie=T.filter(Q=>Q.nombre.toLowerCase().includes(O.toLowerCase())),Z=D.filter(Q=>Q.nombre.toLowerCase().includes(G.toLowerCase()));ce.useEffect(()=>{(async()=>{const H=await bn(Fr(er,"departamentos"));m(H.docs.map(ee=>({id:ee.id,...ee.data()})))})()},[]),ce.useEffect(()=>{if(!h.departamento)return;(async()=>{const H=qn(Fr(er,"circunscripciones"),wn("idDepartamento","==",h.departamento)),ee=await bn(H);x(ee.docs.map(J=>({id:J.id,...J.data()})))})()},[h.departamento]),ce.useEffect(()=>{if(!h.circunscripcion)return;(async()=>{const H=qn(Fr(er,"provincias"),wn("idCircunscripcion","==",h.circunscripcion)),ee=await bn(H);b(ee.docs.map(J=>({id:J.id,...J.data()})))})()},[h.circunscripcion]),ce.useEffect(()=>{if(!h.provincia)return;(async()=>{const H=qn(Fr(er,"municipios"),wn("idProvincia","==",h.provincia)),ee=await bn(H);C(ee.docs.map(J=>({id:J.id,...J.data()})))})()},[h.provincia]),ce.useEffect(()=>{if(!h.municipio)return;(async()=>{const H=qn(Fr(er,"recintos"),wn("idMunicipio","==",h.municipio)),ee=await bn(H);A(ee.docs.map(J=>({id:J.id,...J.data()})))})()},[h.municipio]);const W=async Q=>{Q.preventDefault(),o(""),u(""),f(!0);try{const H=v.find(Me=>Me.id===h.departamento)?.nombre||"",ee=y.find(Me=>Me.id===h.circunscripcion)?.nombre||"",J=w.find(Me=>Me.id===h.provincia)?.nombre||"",se=T.find(Me=>Me.id===h.municipio)?.nombre||"",de=D.find(Me=>Me.id===h.recinto)?.nombre||"";await rb(Fr(er,"solicitudes"),{nombre:r,email:t,celular:i,departamentoId:h.departamento,departamentoNombre:H,circunscripcionId:h.circunscripcion,circunscripcionNombre:ee,provinciaId:h.provincia,provinciaNombre:J,municipioId:h.municipio,municipioNombre:se,recintoId:h.recinto,recintoNombre:de,rol:"pendiente",habilitado:!1,fechaSolicitud:_F()}),u("Solicitud enviada. Espera la aprobacin del administrador."),e(""),n(""),a(""),p({departamento:"",circunscripcion:"",provincia:"",municipio:"",recinto:""})}catch(H){o("Error al enviar la solicitud: "+H.message)}finally{f(!1)}};return q.jsxs("div",{className:B1.signupContainer,children:[q.jsx("h2",{children:"Solicitar Acceso"}),q.jsxs("form",{onSubmit:W,className:B1.form,children:[q.jsx("label",{children:"Nombre completo"}),q.jsx("input",{type:"text",value:r,onChange:Q=>e(Q.target.value),required:!0}),q.jsx("label",{children:"Correo electrnico"}),q.jsx("input",{type:"email",value:t,onChange:Q=>n(Q.target.value),required:!0}),q.jsx("label",{children:"Nmero de celular"}),q.jsx("input",{type:"tel",value:i,onChange:Q=>a(Q.target.value),required:!0}),q.jsx("label",{children:"Departamento"}),q.jsxs("select",{value:h.departamento,onChange:Q=>p({...h,departamento:Q.target.value,circunscripcion:"",provincia:"",municipio:"",recinto:""}),required:!0,children:[q.jsx("option",{value:"",children:"Seleccione un departamento"}),v.map(Q=>q.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),q.jsx("label",{children:"Buscar circunscripcin"}),q.jsx("input",{type:"text",value:k,onChange:Q=>I(Q.target.value)}),q.jsxs("select",{value:h.circunscripcion,onChange:Q=>p({...h,circunscripcion:Q.target.value,provincia:"",municipio:"",recinto:""}),required:!0,children:[q.jsx("option",{value:"",children:"Seleccione una circunscripcin"}),U.map(Q=>q.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),q.jsx("label",{children:"Buscar provincia"}),q.jsx("input",{type:"text",value:M,onChange:Q=>P(Q.target.value)}),q.jsxs("select",{value:h.provincia,onChange:Q=>p({...h,provincia:Q.target.value,municipio:"",recinto:""}),required:!0,children:[q.jsx("option",{value:"",children:"Seleccione una provincia"}),X.map(Q=>q.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),q.jsx("label",{children:"Buscar municipio"}),q.jsx("input",{type:"text",value:O,onChange:Q=>N(Q.target.value)}),q.jsxs("select",{value:h.municipio,onChange:Q=>p({...h,municipio:Q.target.value,recinto:""}),required:!0,children:[q.jsx("option",{value:"",children:"Seleccione un municipio"}),ie.map(Q=>q.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),q.jsx("label",{children:"Buscar recinto"}),q.jsx("input",{type:"text",value:G,onChange:Q=>j(Q.target.value)}),q.jsxs("select",{value:h.recinto,onChange:Q=>p({...h,recinto:Q.target.value}),required:!0,children:[q.jsx("option",{value:"",children:"Seleccione un recinto"}),Z.map(Q=>q.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]}),s&&q.jsx("p",{className:B1.error,children:s}),l&&q.jsx("p",{className:B1.success,children:l}),q.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#555"},children:["Si no conoces alguno de estos datos, puedes consultar en"," ",q.jsx("a",{href:"https://yoparticipo.oep.org.bo/",target:"_blank",rel:"noopener noreferrer",style:{color:"#155FBF",textDecoration:"underline"},children:"Yo Participo"}),"."]}),q.jsx("button",{type:"submit",disabled:c,className:B1.button,children:c?"Enviando...":"Enviar Solicitud"})]})]})}const Up="generated",QSe="pointerdown",JSe="pointerup",GO="pointerleave",eTe="pointerout",Av="pointermove",tTe="touchstart",N7="touchend",rTe="touchmove",nTe="touchcancel",iTe="resize",aTe="visibilitychange",$o="tsParticles - Error",aa=100,sn=.5,Sn=1e3,Gi={x:0,y:0,z:0},vT={a:1,b:0,c:0,d:1},Dm="random",tA="mid",sa=2,sTe=Math.PI*sa,Bk=60,ire="true",F7="false",Vk="canvas",B7=0,Oc=2,V7=4,oTe=1,z7=1,U7=1,lTe=4,are=1,rA=255,Hp=360,jO=100,WO=100,H7=0,$O=0,uTe=60,cTe=0,tE=.25,G7=sn+tE,j7=0,fTe=1,hTe=0,dTe=0,pTe=1,CF=1,vTe=1,W7=1,rE=0,sre=1,gTe=0,mTe=120,yTe=0,_Te=0,xTe=1e4,wTe=0,bTe=1,nE=0,ore=1,STe=1,TTe=0,$7=1,ATe=0,ETe=0,q7=-tE,Y7=1.5,X7=0,CTe=1,DTe=0,qO=0,ITe=0,lre=1,RTe=1,iE=1,kTe=500,K7=50,MTe=0,YO=1,ure=0,Z7=1,PTe=0,Xd=255,zk=3,Uk=6,LTe=1,OTe=1,NTe=0,FTe=0,BTe=0,VTe=0;var ta;(function(r){r.bottom="bottom",r.bottomLeft="bottom-left",r.bottomRight="bottom-right",r.left="left",r.none="none",r.right="right",r.top="top",r.topLeft="top-left",r.topRight="top-right",r.outside="outside",r.inside="inside"})(ta||(ta={}));function cre(r){return typeof r=="boolean"}function Xh(r){return typeof r=="string"}function ro(r){return typeof r=="number"}function O0(r){return typeof r=="object"&&r!==null}function ka(r){return Array.isArray(r)}function je(r){return r==null}class Ws{constructor(e,t,n){if(this._updateFromAngle=(i,a)=>{this.x=Math.cos(i)*a,this.y=Math.sin(i)*a},!ro(e)&&e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:Gi.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=n??Gi.z;else throw new Error(`${$o} Vector3d not initialized correctly`)}static get origin(){return Ws.create(Gi.x,Gi.y,Gi.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Ws.create(e.x,e.y,e.z)}static create(e,t,n){return new Ws(e,t,n)}add(e){return Ws.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Ws.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Ws.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Oc+this.y**Oc}mult(e){return Ws.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=nE&&this.multTo(are/e)}rotate(e){return Ws.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Gi.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:Gi.z}sub(e){return Ws.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class nn extends Ws{constructor(e,t){super(e,t,Gi.z)}static get origin(){return nn.create(Gi.x,Gi.y)}static clone(e){return nn.create(e.x,e.y)}static create(e,t){return new nn(e,t)}}let zTe=Math.random;const fre={nextFrame:r=>requestAnimationFrame(r),cancel:r=>cancelAnimationFrame(r)};function qt(){return qo(zTe(),0,1-Number.EPSILON)}function UTe(r){return fre.nextFrame(r)}function HTe(r){fre.cancel(r)}function qo(r,e,t){return Math.min(Math.max(r,e),t)}function Hk(r,e,t,n){return Math.floor((r*t+e*n)/(t+n))}function oa(r){const e=Iu(r),t=0;let n=dD(r);return e===n&&(n=t),qt()*(e-n)+n}function Ze(r){return ro(r)?r:oa(r)}function dD(r){return ro(r)?r:r.min}function Iu(r){return ro(r)?r:r.max}function St(r,e){if(r===e||e===void 0&&ro(r))return r;const t=dD(r),n=Iu(r);return e!==void 0?{min:Math.min(t,e),max:Math.max(n,e)}:St(t,n)}function Ma(r,e){const t=r.x-e.x,n=r.y-e.y,i=2;return{dx:t,dy:n,distance:Math.sqrt(t**i+n**i)}}function ss(r,e){return Ma(r,e).distance}function qc(r){return r*Math.PI/180}function GTe(r,e,t){if(ro(r))return qc(r);switch(r){case ta.top:return-Math.PI*sn;case ta.topRight:return-Math.PI*tE;case ta.right:return cTe;case ta.bottomRight:return Math.PI*tE;case ta.bottom:return Math.PI*sn;case ta.bottomLeft:return Math.PI*G7;case ta.left:return Math.PI;case ta.topLeft:return-Math.PI*G7;case ta.inside:return Math.atan2(t.y-e.y,t.x-e.x);case ta.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return qt()*sTe}}function jTe(r){const e=nn.origin;return e.length=1,e.angle=r,e}function Q7(r,e,t,n){return nn.create(r.x*(t-n)/(t+n)+e.x*sa*n/(t+n),r.y)}function hre(r){return{x:(r.position?.x??qt()*aa)*r.size.width/aa,y:(r.position?.y??qt()*aa)*r.size.height/aa}}function dre(r){const e={x:r.position?.x!==void 0?Ze(r.position.x):void 0,y:r.position?.y!==void 0?Ze(r.position.y):void 0};return hre({size:r.size,position:e})}function WTe(r){return{x:r.position?.x??qt()*r.size.width,y:r.position?.y??qt()*r.size.height}}function pre(r){return r?r.endsWith("%")?parseFloat(r)/aa:parseFloat(r):1}var Gp;(function(r){r.auto="auto",r.increase="increase",r.decrease="decrease",r.random="random"})(Gp||(Gp={}));var Ln;(function(r){r.increasing="increasing",r.decreasing="decreasing"})(Ln||(Ln={}));var Kh;(function(r){r.none="none",r.max="max",r.min="min"})(Kh||(Kh={}));var dr;(function(r){r.bottom="bottom",r.left="left",r.right="right",r.top="top"})(dr||(dr={}));var Yu;(function(r){r.precise="precise",r.percent="percent"})(Yu||(Yu={}));var tm;(function(r){r.max="max",r.min="min",r.random="random"})(tm||(tm={}));const $Te={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Ev(){return $Te}function qTe(r){const e=new Map;return(...t)=>{const n=JSON.stringify(t);if(e.has(n))return e.get(n);const i=r(...t);return e.set(n,i),i}}function J7(r){const e={bounced:!1},{pSide:t,pOtherSide:n,rectSide:i,rectOtherSide:a,velocity:s,factor:o}=r;return n.min<a.min||n.min>a.max||n.max<a.min||n.max>a.max||(t.max>=i.min&&t.max<=(i.max+i.min)*sn&&s>j7||t.min<=i.max&&t.min>(i.max+i.min)*sn&&s<j7)&&(e.velocity=s*-o,e.bounced=!0),e}function YTe(r,e){const t=yi(e,n=>r.matches(n));return ka(t)?t.some(n=>n):t}function Cv(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function XTe(){return!Cv()&&typeof matchMedia<"u"}function vre(r){if(XTe())return matchMedia(r)}function KTe(r){if(!(Cv()||typeof IntersectionObserver>"u"))return new IntersectionObserver(r)}function ZTe(r){if(!(Cv()||typeof MutationObserver>"u"))return new MutationObserver(r)}function on(r,e){return r===e||ka(e)&&e.indexOf(r)>-1}async function XO(r,e){try{await document.fonts.load(`${e??"400"} 36px '${r??"Verdana"}'`)}catch{}}function gre(r){return Math.floor(qt()*r.length)}function nb(r,e,t=!0){return r[e!==void 0&&t?e%r.length:gre(r)]}function ib(r,e,t,n,i){return QTe(ab(r,n??0),e,t,i)}function QTe(r,e,t,n){let i=!0;return(!n||n===dr.bottom)&&(i=r.top<e.height+t.x),i&&(!n||n===dr.left)&&(i=r.right>t.x),i&&(!n||n===dr.right)&&(i=r.left<e.width+t.y),i&&(!n||n===dr.top)&&(i=r.bottom>t.y),i}function ab(r,e){return{bottom:r.y+e,left:r.x-e,right:r.x+e,top:r.y-e}}function mi(r,...e){for(const t of e){if(t==null)continue;if(!O0(t)){r=t;continue}const n=Array.isArray(t);n&&(O0(r)||!r||!Array.isArray(r))?r=[]:!n&&(O0(r)||!r||Array.isArray(r))&&(r={});for(const i in t){if(i==="__proto__")continue;const a=t,s=a[i],o=r;o[i]=O0(s)&&Array.isArray(s)?s.map(l=>mi(o[i],l)):mi(o[i],s)}}return r}function DF(r,e){return!!_re(e,t=>t.enable&&on(r,t.mode))}function IF(r,e,t){yi(e,n=>{const i=n.mode;n.enable&&on(r,i)&&JTe(n,t)})}function JTe(r,e){const t=r.selectors;yi(t,n=>{e(n,r)})}function mre(r,e){if(!(!e||!r))return _re(r,t=>YTe(e,t.selectors))}function KO(r){return{position:r.getPosition(),radius:r.getRadius(),mass:r.getMass(),velocity:r.velocity,factor:nn.create(Ze(r.options.bounce.horizontal.value),Ze(r.options.bounce.vertical.value))}}function yre(r,e){const{x:t,y:n}=r.velocity.sub(e.velocity),[i,a]=[r.position,e.position],{dx:s,dy:o}=Ma(a,i);if(t*s+n*o<0)return;const u=-Math.atan2(o,s),c=r.mass,f=e.mass,h=r.velocity.rotate(u),p=e.velocity.rotate(u),v=Q7(h,p,c,f),m=Q7(p,h,c,f),y=v.rotate(-u),x=m.rotate(-u);r.velocity.x=y.x*r.factor.x,r.velocity.y=y.y*r.factor.y,e.velocity.x=x.x*e.factor.x,e.velocity.y=x.y*e.factor.y}function e2e(r,e){const t=r.getPosition(),n=r.getRadius(),i=ab(t,n),a=r.options.bounce,s=J7({pSide:{min:i.left,max:i.right},pOtherSide:{min:i.top,max:i.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:r.velocity.x,factor:Ze(a.horizontal.value)});s.bounced&&(s.velocity!==void 0&&(r.velocity.x=s.velocity),s.position!==void 0&&(r.position.x=s.position));const o=J7({pSide:{min:i.top,max:i.bottom},pOtherSide:{min:i.left,max:i.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:r.velocity.y,factor:Ze(a.vertical.value)});o.bounced&&(o.velocity!==void 0&&(r.velocity.y=o.velocity),o.position!==void 0&&(r.position.y=o.position))}function yi(r,e){return ka(r)?r.map((n,i)=>e(n,i)):e(r,0)}function la(r,e,t){return ka(r)?nb(r,e,t):r}function _re(r,e){return ka(r)?r.find((n,i)=>e(n,i)):e(r,0)?r:void 0}function xre(r,e){const t=r.value,n=r.animation,i={delayTime:Ze(n.delay)*Sn,enable:n.enable,value:Ze(r.value)*e,max:Iu(t)*e,min:dD(t)*e,loops:0,maxLoops:Ze(n.count),time:0},a=1;if(n.enable){switch(i.decay=a-Ze(n.decay),n.mode){case Gp.increase:i.status=Ln.increasing;break;case Gp.decrease:i.status=Ln.decreasing;break;case Gp.random:i.status=qt()>=sn?Ln.increasing:Ln.decreasing;break}const s=n.mode===Gp.auto;switch(n.startValue){case tm.min:i.value=i.min,s&&(i.status=Ln.increasing);break;case tm.max:i.value=i.max,s&&(i.status=Ln.decreasing);break;case tm.random:default:i.value=oa(i),s&&(i.status=qt()>=sn?Ln.increasing:Ln.decreasing);break}}return i.initialValue=i.value,i}function wre(r,e){if(!(r.mode===Yu.percent)){const{mode:i,...a}=r;return a}return"x"in r?{x:r.x/aa*e.width,y:r.y/aa*e.height}:{width:r.width/aa*e.width,height:r.height/aa*e.height}}function bre(r,e){return wre(r,e)}function eH(r,e){return wre(r,e)}function t2e(r,e,t,n,i){switch(e){case Kh.max:t>=i&&r.destroy();break;case Kh.min:t<=n&&r.destroy();break}}function pD(r,e,t,n,i){if(r.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const c=(e.velocity??0)*i.factor,f=e.min,h=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=i.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Ln.increasing:e.value>=h?(t?e.status=Ln.decreasing:e.value-=h,e.loops||(e.loops=0),e.loops++):e.value+=c;break;case Ln.decreasing:e.value<=f?(t?e.status=Ln.increasing:e.value+=h,e.loops||(e.loops=0),e.loops++):e.value-=c}e.velocity&&p!==1&&(e.velocity*=p),t2e(r,n,e.value,f,h),r.destroyed||(e.value=qo(e.value,f,h))}}function r2e(r){const e=document.createElement("div").style;if(!r)return e;for(const t in r){const n=r[t];if(!Object.prototype.hasOwnProperty.call(r,t)||je(n))continue;const i=r.getPropertyValue?.(n);if(!i)continue;const a=r.getPropertyPriority?.(n);a?e.setProperty?.(n,i,a):e.setProperty?.(n,i)}return e}function n2e(r){const e=document.createElement("div").style,t=10,n={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:r.toString(t),"z-index":r.toString(t),top:"0",left:"0"};for(const i in n){const a=n[i];e.setProperty(i,a)}return e}const i2e=qTe(n2e);var ch;(function(r){r.darken="darken",r.enlighten="enlighten"})(ch||(ch={}));function a2e(r,e){if(e){for(const t of r.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Go(r,e,t,n=!0){if(!e)return;const i=Xh(e)?{value:e}:e;if(Xh(i.value))return Sre(r,i.value,t,n);if(ka(i.value))return Go(r,{value:nb(i.value,t,n)});for(const a of r.colorManagers.values()){const s=a.handleRangeColor(i);if(s)return s}}function Sre(r,e,t,n=!0){if(!e)return;const i=Xh(e)?{value:e}:e;if(Xh(i.value))return i.value===Dm?Are():s2e(r,i.value);if(ka(i.value))return Sre(r,{value:nb(i.value,t,n)});for(const a of r.colorManagers.values()){const s=a.handleColor(i);if(s)return s}}function Zh(r,e,t,n=!0){const i=Go(r,e,t,n);return i?Tre(i):void 0}function Tre(r){const e=r.r/rA,t=r.g/rA,n=r.b/rA,i=Math.max(e,t,n),a=Math.min(e,t,n),s={h:H7,l:(i+a)*sn,s:$O};return i!==a&&(s.s=s.l<sn?(i-a)/(i+a):(i-a)/(sa-i-a),s.h=e===i?(t-n)/(i-a):s.h=t===i?sa+(n-e)/(i-a):sa*sa+(e-t)/(i-a)),s.l*=WO,s.s*=jO,s.h*=uTe,s.h<H7&&(s.h+=Hp),s.h>=Hp&&(s.h-=Hp),s}function s2e(r,e){return a2e(r,e)}function Im(r){const e=(r.h%Hp+Hp)%Hp,t=Math.max($O,Math.min(jO,r.s)),n=Math.max(PTe,Math.min(WO,r.l)),i=e/Hp,a=t/jO,s=n/WO;if(t===$O){const v=Math.round(s*Xd);return{r:v,g:v,b:v}}const o=(v,m,y)=>{if(y<0&&y++,y>1&&y--,y*Uk<1)return v+(m-v)*Uk*y;if(y*sa<1)return m;if(y*zk<1*sa){const b=sa/zk;return v+(m-v)*(b-y)*Uk}return v},l=s<sn?s*(LTe+a):s+a-s*a,u=sa*s-l,c=OTe/zk,f=Math.min(Xd,Xd*o(u,l,i+c)),h=Math.min(Xd,Xd*o(u,l,i)),p=Math.min(Xd,Xd*o(u,l,i-c));return{r:Math.round(f),g:Math.round(h),b:Math.round(p)}}function o2e(r){const e=Im(r);return{a:r.a,b:e.b,g:e.g,r:e.r}}function Are(r){const e=NTe,t=rA+YO;return{b:Math.floor(oa(St(e,t))),g:Math.floor(oa(St(e,t))),r:Math.floor(oa(St(e,t)))}}function zu(r,e){return`rgba(${r.r}, ${r.g}, ${r.b}, ${e??CF})`}function Rm(r,e){return`hsla(${r.h}, ${r.s}%, ${r.l}%, ${e??CF})`}function RF(r,e,t,n){let i=r,a=e;return i.r===void 0&&(i=Im(r)),a.r===void 0&&(a=Im(e)),{b:Hk(i.b,a.b,t,n),g:Hk(i.g,a.g,t,n),r:Hk(i.r,a.r,t,n)}}function ZO(r,e,t){if(t===Dm)return Are();if(t===tA){const n=r.getFillColor()??r.getStrokeColor(),i=e?.getFillColor()??e?.getStrokeColor();if(n&&i&&e)return RF(n,i,r.getRadius(),e.getRadius());{const a=n??i;if(a)return Im(a)}}else return t}function Ere(r,e,t,n){const i=Xh(e)?e:e.value;return i===Dm?n?Go(r,{value:i}):t?Dm:tA:i===tA?tA:Go(r,{value:i})}function tH(r){return r!==void 0?{h:r.h.value,s:r.s.value,l:r.l.value}:void 0}function Cre(r,e,t){const n={h:{enable:!1,value:r.h},s:{enable:!1,value:r.s},l:{enable:!1,value:r.l}};return e&&(Gk(n.h,e.h,t),Gk(n.s,e.s,t),Gk(n.l,e.l,t)),n}function Gk(r,e,t){r.enable=e.enable,r.enable?(r.velocity=Ze(e.speed)/aa*t,r.decay=ore-Ze(e.decay),r.status=Ln.increasing,r.loops=BTe,r.maxLoops=Ze(e.count),r.time=VTe,r.delayTime=Ze(e.delay)*Sn,e.sync||(r.velocity*=qt(),r.value*=qt()),r.initialValue=r.value,r.offset=St(e.offset)):r.velocity=FTe}function jk(r,e,t,n){if(!r||!r.enable||(r.maxLoops??0)>0&&(r.loops??0)>(r.maxLoops??0)||(r.time||(r.time=0),(r.delayTime??0)>0&&r.time<(r.delayTime??0)&&(r.time+=n.value),(r.delayTime??0)>0&&r.time<(r.delayTime??0)))return;const c=r.offset?oa(r.offset):0,f=(r.velocity??0)*n.factor+c*3.6,h=r.decay??1,p=Iu(e),v=dD(e);!t||r.status===Ln.increasing?(r.value+=f,r.value>p&&(r.loops||(r.loops=0),r.loops++,t?r.status=Ln.decreasing:r.value-=p)):(r.value-=f,r.value<0&&(r.loops||(r.loops=0),r.loops++,r.status=Ln.increasing)),r.velocity&&h!==1&&(r.velocity*=h),r.value=qo(r.value,v,p)}function Dre(r,e){if(!r)return;const{h:t,s:n,l:i}=r,a={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&jk(t,a.h,!1,e),n&&jk(n,a.s,!0,e),i&&jk(i,a.l,!0,e)}function nx(r,e,t){r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.closePath()}function l2e(r,e,t){r.fillStyle=t??"rgba(0,0,0,0)",r.fillRect(Gi.x,Gi.y,e.width,e.height)}function u2e(r,e,t,n){t&&(r.globalAlpha=n,r.drawImage(t,Gi.x,Gi.y,e.width,e.height),r.globalAlpha=1)}function Wk(r,e){r.clearRect(Gi.x,Gi.y,e.width,e.height)}function c2e(r){const{container:e,context:t,particle:n,delta:i,colorStyles:a,backgroundMask:s,composite:o,radius:l,opacity:u,shadow:c,transform:f}=r,h=n.getPosition(),p=n.rotation+(n.pathRotation?n.velocity.angle:MTe),v={sin:Math.sin(p),cos:Math.cos(p)},m=!!p,y={a:v.cos*(f.a??vT.a),b:m?v.sin*(f.b??YO):f.b??vT.b,c:m?-v.sin*(f.c??YO):f.c??vT.c,d:v.cos*(f.d??vT.d)};t.setTransform(y.a,y.b,y.c,y.d,h.x,h.y),s&&(t.globalCompositeOperation=o);const x=n.shadowColor;c.enable&&x&&(t.shadowBlur=c.blur,t.shadowColor=zu(x),t.shadowOffsetX=c.offset.x,t.shadowOffsetY=c.offset.y),a.fill&&(t.fillStyle=a.fill);const w=n.strokeWidth??ure;t.lineWidth=w,a.stroke&&(t.strokeStyle=a.stroke);const b={container:e,context:t,particle:n,radius:l,opacity:u,delta:i,transformData:y,strokeWidth:w};h2e(b),d2e(b),f2e(b),t.globalCompositeOperation="source-over",t.resetTransform()}function f2e(r){const{container:e,context:t,particle:n,radius:i,opacity:a,delta:s,transformData:o}=r;if(!n.effect)return;const l=e.effectDrawers.get(n.effect);l&&l.draw({context:t,particle:n,radius:i,opacity:a,delta:s,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function h2e(r){const{container:e,context:t,particle:n,radius:i,opacity:a,delta:s,strokeWidth:o,transformData:l}=r;if(!n.shape)return;const u=e.shapeDrawers.get(n.shape);u&&(t.beginPath(),u.draw({context:t,particle:n,radius:i,opacity:a,delta:s,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),n.shapeClose&&t.closePath(),o>ure&&t.stroke(),n.shapeFill&&t.fill())}function d2e(r){const{container:e,context:t,particle:n,radius:i,opacity:a,delta:s,transformData:o}=r;if(!n.shape)return;const l=e.shapeDrawers.get(n.shape);l?.afterDraw&&l.afterDraw({context:t,particle:n,radius:i,opacity:a,delta:s,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function p2e(r,e,t){e.draw&&e.draw(r,t)}function v2e(r,e,t,n){e.drawParticle&&e.drawParticle(r,t,n)}function g2e(r,e,t){return{h:r.h,s:r.s,l:r.l+(e===ch.darken?-Z7:Z7)*t}}function m2e(r,e,t){const n=e[t];n!==void 0&&(r[t]=(r[t]??fTe)*n)}function rH(r,e,t=!1){if(!e)return;const n=r;if(!n)return;const i=n.style;if(!i)return;const a=new Set;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.add(i[s]);for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.add(e[s]);for(const s of a){const o=e.getPropertyValue(s);o?i.setProperty(s,o,t?"important":""):i.removeProperty(s)}}class y2e{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=a=>{for(const s of this._postDrawUpdaters)s.afterDraw?.(a)},this._applyPreDrawUpdaters=(a,s,o,l,u,c)=>{for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:h,stroke:p}=f.getColorStyles(s,a,o,l);h&&(u.fill=h),p&&(u.stroke=p)}if(f.getTransformValues){const h=f.getTransformValues(s);for(const p in h)m2e(c,h,p)}f.beforeDraw?.(s)}},this._applyResizePlugins=()=>{for(const a of this._resizePlugins)a.resize?.()},this._getPluginParticleColors=a=>{let s,o;for(const l of this._colorPlugins)if(!s&&l.particleFillColor&&(s=Zh(this._engine,l.particleFillColor(a))),!o&&l.particleStrokeColor&&(o=Zh(this._engine,l.particleStrokeColor(a))),s&&o)break;return[s,o]},this._initCover=async()=>{const a=this.container.actualOptions,s=a.backgroundMask.cover,o=s.color;if(o){const l=Go(this._engine,o);if(l){const u={...l,a:s.opacity};this._coverColorStyle=zu(u,u.a)}}else await new Promise((l,u)=>{if(!s.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._coverImage={image:c,opacity:s.opacity},l()}),c.addEventListener("error",f=>{u(f.error)}),c.src=s.image})},this._initStyle=()=>{const a=this.element,s=this.container.actualOptions;if(a){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const o in s.style){if(!o||!s.style||!Object.prototype.hasOwnProperty.call(s.style,o))continue;const l=s.style[o];l&&a.style.setProperty(o,l,"important")}}},this._initTrail=async()=>{const a=this.container.actualOptions,s=a.particles.move.trail,o=s.fill;if(!s.enable)return;const l=are/s.length;if(o.color){const u=Go(this._engine,o.color);if(!u)return;this._trailFill={color:{...u},opacity:l}}else await new Promise((u,c)=>{if(!o.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._trailFill={image:f,opacity:l},u()}),f.addEventListener("error",h=>{c(h.error)}),f.src=o.image})},this._paintBase=a=>{this.draw(s=>l2e(s,this.size,a))},this._paintImage=(a,s)=>{this.draw(o=>u2e(o,this.size,a,s))},this._repairStyle=()=>{const a=this.element;a&&(this._safeMutationObserver(s=>s.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(s=>{!a||!(a instanceof Node)||s.observe(a,{attributes:!0})}))},this._resetOriginalStyle=()=>{const a=this.element,s=this._originalStyle;!a||!s||rH(a,s,!0)},this._safeMutationObserver=a=>{this._mutationObserver&&a(this._mutationObserver)},this._setFullScreenStyle=()=>{const a=this.element;a&&rH(a,i2e(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const n=e.retina.pixelRatio,i=this._standardSize;this.size={height:i.height*n,width:i.width*n},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,n=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>dTe&&n?n.color?this._paintBase(zu(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):e.clear&&this.draw(i=>{Wk(i,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const n=e.getRadius();if(n<=hTe)return;const i=e.getFillColor(),a=e.getStrokeColor()??i;let[s,o]=this._getPluginParticleColors(e);s||(s=i),o||(o=a),!(!s&&!o)&&this.draw(l=>{const u=this.container,c=u.actualOptions,f=e.options.zIndex,h=pTe-e.zIndexFactor,p=h**f.opacityRate,v=e.bubble.opacity??e.opacity?.value??CF,m=e.strokeOpacity??v,y=v*p,x=m*p,w={},b={fill:s?Rm(s,y):void 0};b.stroke=o?Rm(o,x):b.fill,this._applyPreDrawUpdaters(l,e,n,y,b,w),c2e({container:u,context:l,particle:e,delta:t,colorStyles:b,backgroundMask:c.backgroundMask.enable,composite:c.backgroundMask.composite,radius:n*h**f.sizeRate,opacity:y,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,n){this.draw(i=>v2e(i,e,t,n))}drawPlugin(e,t){this.draw(n=>p2e(n,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=ZTe(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Ev().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,n=this.element;if(!n)return;const i=n.style;if(i){if(t.color){const a=Go(this._engine,t.color);i.backgroundColor=a?zu(a,t.opacity):""}else i.backgroundColor="";i.backgroundImage=t.image||"",i.backgroundPosition=t.position||"",i.backgroundRepeat=t.repeat||"",i.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Up in e.dataset?e.dataset[Up]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=r2e(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const n=this.container.retina.pixelRatio,i=this.size;e.height=i.height=t.height*n,e.width=i.width=t.width*n,this._context=this.element.getContext("2d"),this._safeMutationObserver(a=>a.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(a=>{!this.element||!(this.element instanceof Node)||a.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Wk(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,n={width:this.element.offsetWidth,height:this.element.offsetHeight},i=e.retina.pixelRatio,a={width:n.width*i,height:n.height*i};if(n.height===t.height&&n.width===t.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const s={...t};t.height=n.height,t.width=n.width;const o=this.size;return this.element.width=o.width=a.width,this.element.height=o.height=a.height,this.container.started&&e.particles.setResizeFactor({width:t.width/s.width,height:t.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Wk(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}var rm;(function(r){r.canvas="canvas",r.parent="parent",r.window="window"})(rm||(rm={}));function wo(r,e,t,n,i){if(n){let a={passive:!0};cre(i)?a.capture=i:i!==void 0&&(a=i),r.addEventListener(e,t,a)}else{const a=i;r.removeEventListener(e,t,a)}}class _2e{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const n=this.container,i=n.actualOptions;if(this._canPush){const a=n.interactivity.mouse,s=a.position;if(!s)return;a.clickPosition={...s},a.clickTime=new Date().getTime();const o=i.interactivity.events.onClick;yi(o.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),kTe)},this._handleThemeChange=t=>{const n=t,i=this.container,a=i.options,s=a.defaultThemes,o=n.matches?s.dark:s.light;a.themes.find(u=>u.name===o)?.default.auto&&i.loadTheme(o)},this._handleVisibilityChange=()=>{const t=this.container,n=t.actualOptions;this._mouseTouchFinish(),n.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*Sn)},this._manageInteractivityListeners=(t,n)=>{const i=this._handlers,a=this.container,s=a.actualOptions,o=a.interactivity.element;if(!o)return;const l=o,u=a.canvas.element;u&&(u.style.pointerEvents=l===u?"initial":"none"),(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(wo(o,Av,i.mouseMove,n),wo(o,tTe,i.touchStart,n),wo(o,rTe,i.touchMove,n),s.interactivity.events.onClick.enable?(wo(o,N7,i.touchEndClick,n),wo(o,JSe,i.mouseUp,n),wo(o,QSe,i.mouseDown,n)):wo(o,N7,i.touchEnd,n),wo(o,t,i.mouseLeave,n),wo(o,nTe,i.touchCancel,n))},this._manageListeners=t=>{const n=this._handlers,i=this.container,a=i.actualOptions,s=a.interactivity.detectsOn,o=i.canvas.element;let l=GO;s===rm.window?(i.interactivity.element=window,l=eTe):s===rm.parent&&o?i.interactivity.element=o.parentElement??o.parentNode:i.interactivity.element=o,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&wo(document,aTe,n.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const n=this._handlers,i=vre("(prefers-color-scheme: dark)");if(i){if(i.addEventListener!==void 0){wo(i,"change",n.themeChange,t);return}i.addListener!==void 0&&(t?i.addListener(n.oldThemeChange):i.removeListener(n.oldThemeChange))}},this._manageResize=t=>{const n=this._handlers,i=this.container;if(!i.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){wo(window,iTe,n.resize,t);return}const s=i.canvas.element;this._resizeObserver&&!t?(s&&this._resizeObserver.unobserve(s),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&s&&(this._resizeObserver=new ResizeObserver(o=>{o.find(u=>u.target===s)&&this._handleWindowResize()}),this._resizeObserver.observe(s))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:n}=t;n.clicking=!0,n.downPosition=n.position},this._mouseTouchClick=t=>{const n=this.container,i=n.actualOptions,{mouse:a}=n.interactivity;a.inside=!0;let s=!1;const o=a.position;if(!(!o||!i.interactivity.events.onClick.enable)){for(const l of n.plugins.values())if(l.clickPositionValid&&(s=l.clickPositionValid(o),s))break;s||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const n=t.mouse;delete n.position,delete n.clickPosition,delete n.downPosition,t.status=GO,n.inside=!1,n.clicking=!1},this._mouseTouchMove=t=>{const n=this.container,i=n.actualOptions,a=n.interactivity,s=n.canvas.element;if(!a?.element)return;a.mouse.inside=!0;let o;if(t.type.startsWith("pointer")){this._canPush=!0;const u=t;if(a.element===window){if(s){const c=s.getBoundingClientRect();o={x:u.clientX-c.left,y:u.clientY-c.top}}}else if(i.interactivity.detectsOn===rm.parent){const c=u.target,f=u.currentTarget;if(c&&f&&s){const h=c.getBoundingClientRect(),p=f.getBoundingClientRect(),v=s.getBoundingClientRect();o={x:u.offsetX+sa*h.left-(p.left+v.left),y:u.offsetY+sa*h.top-(p.top+v.top)}}else o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===s&&(o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=t.type!=="touchmove",s){const u=t,c=u.touches[u.touches.length-lre],f=s.getBoundingClientRect();o={x:c.clientX-(f.left??rE),y:c.clientY-(f.top??rE)}}const l=n.retina.pixelRatio;o&&(o.x*=l,o.y*=l),a.mouse.position=o,a.status=Av},this._touchEnd=t=>{const n=t,i=Array.from(n.changedTouches);for(const a of i)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const n=t,i=Array.from(n.changedTouches);for(const a of i)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const n=t,i=Array.from(n.changedTouches);for(const a of i)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Za;(function(r){r.configAdded="configAdded",r.containerInit="containerInit",r.particlesSetup="particlesSetup",r.containerStarted="containerStarted",r.containerStopped="containerStopped",r.containerDestroyed="containerDestroyed",r.containerPaused="containerPaused",r.containerPlay="containerPlay",r.containerBuilt="containerBuilt",r.particleAdded="particleAdded",r.particleDestroyed="particleDestroyed",r.particleRemoved="particleRemoved"})(Za||(Za={}));class ei{constructor(){this.value=""}static create(e,t){const n=new ei;return n.load(e),t!==void 0&&(Xh(t)||ka(t)?n.load({value:t}):n.load(t)),n}load(e){je(e)||je(e.value)||(this.value=e.value)}}class x2e{constructor(){this.color=new ei,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class w2e{constructor(){this.opacity=1}load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class b2e{constructor(){this.composite="destination-out",this.cover=new w2e,this.enable=!1}load(e){if(!je(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,n=Xh(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:n})}e.enable!==void 0&&(this.enable=e.enable)}}}class S2e{constructor(){this.enable=!0,this.zIndex=0}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class T2e{constructor(){this.enable=!1,this.mode=[]}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var km;(function(r){r.circle="circle",r.rectangle="rectangle"})(km||(km={}));class nH{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=km.circle}load(e){je(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class A2e{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class E2e{constructor(){this.enable=!1,this.mode=[],this.parallax=new A2e}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class C2e{constructor(){this.delay=.5,this.enable=!0}load(e){je(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class D2e{constructor(){this.onClick=new T2e,this.onDiv=new nH,this.onHover=new E2e,this.resize=new C2e}load(e){if(je(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=yi(t,n=>{const i=new nH;return i.load(n),i})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class I2e{constructor(e,t){this._engine=e,this._container=t}load(e){if(je(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const n of t)n.loadModeOptions&&n.loadModeOptions(this,e)}}class Ire{constructor(e,t){this.detectsOn=rm.window,this.events=new D2e,this.modes=new I2e(e,t)}load(e){if(je(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class R2e{load(e){je(e)||(e.position&&(this.position={x:e.position.x??K7,y:e.position.y??K7,mode:e.position.mode??Yu.percent}),e.options&&(this.options=mi({},e.options)))}}var jp;(function(r){r.screen="screen",r.canvas="canvas"})(jp||(jp={}));class k2e{constructor(){this.maxWidth=1/0,this.options={},this.mode=jp.canvas}load(e){je(e)||(je(e.maxWidth)||(this.maxWidth=e.maxWidth),je(e.mode)||(e.mode===jp.screen?this.mode=jp.screen:this.mode=jp.canvas),je(e.options)||(this.options=mi({},e.options)))}}var fh;(function(r){r.any="any",r.dark="dark",r.light="light"})(fh||(fh={}));class M2e{constructor(){this.auto=!1,this.mode=fh.any,this.value=!1}load(e){je(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class P2e{constructor(){this.name="",this.default=new M2e}load(e){je(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=mi({},e.options)))}}class kF{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){je(e)||(e.count!==void 0&&(this.count=St(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=St(e.speed)),e.decay!==void 0&&(this.decay=St(e.decay)),e.delay!==void 0&&(this.delay=St(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class MF extends kF{constructor(){super(),this.mode=Gp.auto,this.startValue=tm.random}load(e){super.load(e),!je(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class $k extends kF{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!je(e)&&e.offset!==void 0&&(this.offset=St(e.offset))}}class L2e{constructor(){this.h=new $k,this.s=new $k,this.l=new $k}load(e){je(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Mm extends ei{constructor(){super(),this.animation=new L2e}static create(e,t){const n=new Mm;return n.load(e),t!==void 0&&(Xh(t)||ka(t)?n.load({value:t}):n.load(t)),n}load(e){if(super.load(e),je(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var nm;(function(r){r.absorb="absorb",r.bounce="bounce",r.destroy="destroy"})(nm||(nm={}));class O2e{constructor(){this.speed=2}load(e){je(e)||e.speed!==void 0&&(this.speed=e.speed)}}class N2e{constructor(){this.enable=!0,this.retries=0}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class ql{constructor(){this.value=0}load(e){je(e)||je(e.value)||(this.value=St(e.value))}}class F2e extends ql{constructor(){super(),this.animation=new kF}load(e){if(super.load(e),je(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class Rre extends F2e{constructor(){super(),this.animation=new MF}load(e){super.load(e)}}class iH extends ql{constructor(){super(),this.value=1}}class kre{constructor(){this.horizontal=new iH,this.vertical=new iH}load(e){je(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class B2e{constructor(){this.absorb=new O2e,this.bounce=new kre,this.enable=!1,this.maxSpeed=50,this.mode=nm.bounce,this.overlap=new N2e}load(e){je(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=St(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class V2e{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(je(e))return;const t=e.options;if(t!==void 0)for(const n in t){const i=t[n];i&&(this.options[n]=mi(this.options[n]??{},i))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class z2e{constructor(){this.offset=0,this.value=90}load(e){je(e)||(e.offset!==void 0&&(this.offset=St(e.offset)),e.value!==void 0&&(this.value=St(e.value)))}}class U2e{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!je(e)&&(e.distance!==void 0&&(this.distance=St(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const n=e.rotate.y;n!==void 0&&(this.rotate.y=n)}}}class H2e{constructor(){this.x=50,this.y=50,this.mode=Yu.percent,this.radius=0}load(e){je(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class G2e{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){je(e)||(e.acceleration!==void 0&&(this.acceleration=St(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=St(e.maxSpeed)))}}class j2e{constructor(){this.clamp=!0,this.delay=new ql,this.enable=!1,this.options={}}load(e){je(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=mi(this.options,e.options)))}}class W2e{load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class $2e{constructor(){this.enable=!1,this.length=10,this.fill=new W2e}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var pi;(function(r){r.bounce="bounce",r.none="none",r.out="out",r.destroy="destroy",r.split="split"})(pi||(pi={}));class q2e{constructor(){this.default=pi.out}load(e){je(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Y2e{constructor(){this.acceleration=0,this.enable=!1}load(e){je(e)||(e.acceleration!==void 0&&(this.acceleration=St(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=mi({},e.position)))}}class X2e{constructor(){this.angle=new z2e,this.attract=new U2e,this.center=new H2e,this.decay=0,this.distance={},this.direction=ta.none,this.drift=0,this.enable=!1,this.gravity=new G2e,this.path=new j2e,this.outModes=new q2e,this.random=!1,this.size=!1,this.speed=2,this.spin=new Y2e,this.straight=!1,this.trail=new $2e,this.vibrate=!1,this.warp=!1}load(e){if(je(e))return;this.angle.load(ro(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=St(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=ro(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=St(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(O0(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=St(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class K2e extends MF{constructor(){super(),this.destroy=Kh.none,this.speed=2}load(e){super.load(e),!je(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Z2e extends Rre{constructor(){super(),this.animation=new K2e,this.value=1}load(e){if(je(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class Q2e{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(je(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const n=e.height;n!==void 0&&(this.height=n)}}var Xx;(function(r){r.delete="delete",r.wait="wait"})(Xx||(Xx={}));class J2e{constructor(){this.mode=Xx.delete,this.value=0}load(e){je(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class eAe{constructor(){this.density=new Q2e,this.limit=new J2e,this.value=0}load(e){je(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class tAe{constructor(){this.blur=0,this.color=new ei,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){je(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=ei.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class rAe{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(je(e))return;const t=e.options;if(t!==void 0)for(const n in t){const i=t[n];i&&(this.options[n]=mi(this.options[n]??{},i))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class nAe extends MF{constructor(){super(),this.destroy=Kh.none,this.speed=5}load(e){super.load(e),!je(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class iAe extends Rre{constructor(){super(),this.animation=new nAe,this.value=3}load(e){if(super.load(e),je(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class aH{constructor(){this.width=0}load(e){je(e)||(e.color!==void 0&&(this.color=Mm.create(this.color,e.color)),e.width!==void 0&&(this.width=St(e.width)),e.opacity!==void 0&&(this.opacity=St(e.opacity)))}}class aAe extends ql{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!je(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class sAe{constructor(e,t){this._engine=e,this._container=t,this.bounce=new kre,this.collisions=new B2e,this.color=new Mm,this.color.value="#fff",this.effect=new V2e,this.groups={},this.move=new X2e,this.number=new eAe,this.opacity=new Z2e,this.reduceDuplicates=!1,this.shadow=new tAe,this.shape=new rAe,this.size=new iAe,this.stroke=new aH,this.zIndex=new aAe}load(e){if(je(e))return;if(e.groups!==void 0)for(const n of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,n))continue;const i=e.groups[n];i!==void 0&&(this.groups[n]=mi(this.groups[n]??{},i))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Mm.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=mi({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=yi(t,n=>{const i=new aH;return i.load(n),i})),this._container){const n=this._engine.updaters.get(this._container);if(n)for(const a of n)a.loadOptions&&a.loadOptions(this,e);const i=this._engine.interactors.get(this._container);if(i)for(const a of i)a.loadParticlesOptions&&a.loadParticlesOptions(this,e)}}}function Mre(r,...e){for(const t of e)r.load(t)}function PF(r,e,...t){const n=new sAe(r,e);return Mre(n,...t),n}class oAe{constructor(e,t){this._findDefaultTheme=n=>this.themes.find(i=>i.default.value&&i.default.mode===n)??this.themes.find(i=>i.default.value&&i.default.mode===fh.any),this._importPreset=n=>{this.load(this._engine.getPreset(n))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new x2e,this.backgroundMask=new b2e,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new S2e,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Ire(e,t),this.manualParticles=[],this.particles=PF(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(je(e))return;e.preset!==void 0&&yi(e.preset,s=>this._importPreset(s)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=St(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=St(e.duration));const n=e.fpsLimit;n!==void 0&&(this.fpsLimit=n),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const i=e.fullScreen;cre(i)?this.fullScreen.enable=i:this.fullScreen.load(i),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(s=>{const o=new R2e;return o.load(s),o})),this.particles.load(e.particles),this.style=mi(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.interactors.get(this._container);if(a)for(const s of a)s.loadOptions&&s.loadOptions(this,e);if(e.responsive!==void 0)for(const s of e.responsive){const o=new k2e;o.load(s),this.responsive.push(o)}if(this.responsive.sort((s,o)=>s.maxWidth-o.maxWidth),e.themes!==void 0)for(const s of e.themes){const o=this.themes.find(l=>l.name===s.name);if(o)o.load(s);else{const l=new P2e;l.load(s),this.themes.push(l)}}this.defaultThemes.dark=this._findDefaultTheme(fh.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(fh.light)?.name}setResponsive(e,t,n){this.load(n);const i=this.responsive.find(a=>a.mode===jp.screen&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(i?.options),i?.maxWidth}setTheme(e){if(e){const t=this.themes.find(n=>n.name===e);t&&this.load(t.options)}else{const t=vre("(prefers-color-scheme: dark)"),n=t?.matches,i=this._findDefaultTheme(n?fh.dark:fh.light);i&&this.load(i.options)}}}var Pm;(function(r){r.external="external",r.particles="particles"})(Pm||(Pm={}));class lAe{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Pm.external:this._externalInteractors.push(e);break;case Pm.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const n of this._externalInteractors)n.clear(e,t);for(const n of this._particleInteractors)n.isEnabled(e)&&n.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var Pl;(function(r){r.normal="normal",r.inside="inside",r.outside="outside"})(Pl||(Pl={}));function uAe(r,e,t,n){const i=e.options[r];if(i)return mi({close:e.close,fill:e.fill},la(i,t,n))}function cAe(r,e,t,n){const i=e.options[r];if(i)return mi({close:e.close,fill:e.fill},la(i,t,n))}function sH(r){if(!on(r.outMode,r.checkModes))return;const e=r.radius*sa;r.coord>r.maxCoord-e?r.setCb(-r.radius):r.coord<e&&r.setCb(r.radius)}class fAe{constructor(e,t){this.container=t,this._calcPosition=(n,i,a,s=B7)=>{for(const v of n.plugins.values()){const m=v.particlePosition!==void 0?v.particlePosition(i,this):void 0;if(m)return Ws.create(m.x,m.y,a)}const o=n.canvas.size,l=WTe({size:o,position:i}),u=Ws.create(l.x,l.y,a),c=this.getRadius(),f=this.options.move.outModes,h=v=>{sH({outMode:v,checkModes:[pi.bounce],coord:u.x,maxCoord:n.canvas.size.width,setCb:m=>u.x+=m,radius:c})},p=v=>{sH({outMode:v,checkModes:[pi.bounce],coord:u.y,maxCoord:n.canvas.size.height,setCb:m=>u.y+=m,radius:c})};return h(f.left??f.default),h(f.right??f.default),p(f.top??f.default),p(f.bottom??f.default),this._checkOverlap(u,s)?this._calcPosition(n,void 0,a,s+STe):u},this._calculateVelocity=()=>{const n=jTe(this.direction),i=n.copy(),a=this.options.move;if(a.direction===ta.inside||a.direction===ta.outside)return i;const s=qc(Ze(a.angle.value)),o=qc(Ze(a.angle.offset)),l={left:o-s*sn,right:o+s*sn};return a.straight||(i.angle+=oa(St(l.left,l.right))),a.random&&typeof a.speed=="number"&&(i.length*=qt()),i},this._checkOverlap=(n,i=B7)=>{const a=this.options.collisions,s=this.getRadius();if(!a.enable)return!1;const o=a.overlap;if(o.enable)return!1;const l=o.retries;if(l>=TTe&&i>l)throw new Error(`${$o} particle is overlapping and can't be placed`);return!!this.container.particles.find(u=>ss(n,u.position)<s+u.getRadius())},this._getRollColor=n=>{if(!n||!this.roll||!this.backColor&&!this.roll.alter)return n;const i=this.roll.horizontal&&this.roll.vertical?sa*$7:$7,a=this.roll.horizontal?Math.PI*sn:nE;return Math.floor(((this.roll.angle??nE)+a)/(Math.PI/i))%sa?this.backColor?this.backColor:this.roll.alter?g2e(n,this.roll.alter.type,this.roll.alter.value):n:n},this._initPosition=n=>{const i=this.container,a=Ze(this.options.zIndex.value);this.position=this._calcPosition(i,n,qo(a,ATe,i.zLayers)),this.initialPosition=this.position.copy();const s=i.canvas.size;switch(this.moveCenter={...bre(this.options.move.center,s),radius:this.options.move.center.radius??ETe,mode:this.options.move.center.mode??Yu.percent},this.direction=GTe(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case ta.inside:this.outType=Pl.inside;break;case ta.outside:this.outType=Pl.outside;break}this.offset=nn.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,n=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const a of t.plugins.values())a.particleDestroyed?.(this,e);for(const a of t.particles.updaters)a.particleDestroyed?.(this,e);n?.reset(this),this._engine.dispatchEvent(Za.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,n=t.canvas;for(const i of t.plugins.values())n.drawParticlePlugin(i,this,e);n.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??tH(this.color))}getMass(){return this.getRadius()**Oc*Math.PI*sn}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??tH(this.strokeColor))}init(e,t,n,i){const a=this.container,s=this._engine;this.id=e,this.group=i,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Pl.normal,this.ignoresResizeRatio=!0;const o=a.retina.pixelRatio,l=a.actualOptions,u=PF(this._engine,a,l.particles),{reduceDuplicates:c}=u,f=u.effect.type,h=u.shape.type;this.effect=la(f,this.id,c),this.shape=la(h,this.id,c);const p=u.effect,v=u.shape;if(n){if(n.effect?.type){const A=n.effect.type,k=la(A,this.id,c);k&&(this.effect=k,p.load(n.effect))}if(n.shape?.type){const A=n.shape.type,k=la(A,this.id,c);k&&(this.shape=k,v.load(n.shape))}}if(this.effect===Dm){const A=[...this.container.effectDrawers.keys()];this.effect=A[Math.floor(Math.random()*A.length)]}if(this.shape===Dm){const A=[...this.container.shapeDrawers.keys()];this.shape=A[Math.floor(Math.random()*A.length)]}this.effectData=uAe(this.effect,p,this.id,c),this.shapeData=cAe(this.shape,v,this.id,c),u.load(n);const m=this.effectData;m&&u.load(m.particles);const y=this.shapeData;y&&u.load(y.particles);const x=new Ire(s,a);x.load(a.actualOptions.interactivity),x.load(u.interactivity),this.interactivity=x,this.effectFill=m?.fill??u.effect.fill,this.effectClose=m?.close??u.effect.close,this.shapeFill=y?.fill??u.shape.fill,this.shapeClose=y?.close??u.shape.close,this.options=u;const w=this.options.move.path;this.pathDelay=Ze(w.delay.value)*Sn,w.generator&&(this.pathGenerator=this._engine.getPathGenerator(w.generator),this.pathGenerator&&a.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=xre(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=ore-Ze(this.options.move.decay);const b=a.particles;b.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let T=a.effectDrawers.get(this.effect);T||(T=this._engine.getEffectDrawer(this.effect),T&&a.effectDrawers.set(this.effect,T)),T?.loadEffect&&T.loadEffect(this);let C=a.shapeDrawers.get(this.shape);C||(C=this._engine.getShapeDrawer(this.shape),C&&a.shapeDrawers.set(this.shape,C)),C?.loadShape&&C.loadShape(this);const D=C?.getSidesCount;D&&(this.sides=D(this)),this.spawning=!1,this.shadowColor=Go(this._engine,this.options.shadow.color);for(const A of b.updaters)A.init(this);for(const A of b.movers)A.init?.(this);T?.particleInit?.(a,this),C?.particleInit?.(a,this);for(const A of a.plugins.values())A.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,n=this.position;return n.x>=-e&&n.y>=-e&&n.y<=t.height+e&&n.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}let hAe=class{constructor(e,t){this.position=e,this.particle=t}};var im;(function(r){r.circle="circle",r.rectangle="rectangle"})(im||(im={}));class Pre{constructor(e,t,n){this.position={x:e,y:t},this.type=n}}let ks=class Lre extends Pre{constructor(e,t,n){super(e,t,im.circle),this.radius=n}contains(e){return ss(e,this.position)<=this.radius}intersects(e){const t=this.position,n=e.position,i={x:Math.abs(n.x-t.x),y:Math.abs(n.y-t.y)},a=this.radius;if(e instanceof Lre||e.type===im.circle){const s=e,o=a+s.radius,l=Math.sqrt(i.x**Oc+i.y**Oc);return o>l}else if(e instanceof Hl||e.type===im.rectangle){const s=e,{width:o,height:l}=s.size;return Math.pow(i.x-o,Oc)+Math.pow(i.y-l,Oc)<=a**Oc||i.x<=a+o&&i.y<=a+l||i.x<=o||i.y<=l}return!1}};class Hl extends Pre{constructor(e,t,n,i){super(e,t,im.rectangle),this.size={height:i,width:n}}contains(e){const t=this.size.width,n=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+t&&e.y>=i.y&&e.y<=i.y+n}intersects(e){if(e instanceof ks)return e.intersects(this);const t=this.size.width,n=this.size.height,i=this.position,a=e.position,s=e instanceof Hl?e.size:{width:0,height:0},o=s.width,l=s.height;return a.x<i.x+t&&a.x+o>i.x&&a.y<i.y+n&&a.y+l>i.y}}class aE{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:n,y:i}=this.rectangle.position,{width:a,height:s}=this.rectangle.size,{capacity:o}=this;for(let l=0;l<lTe;l++){const u=l%sa;this._subs.push(new aE(new Hl(n+a*sn*u,i+s*sn*(Math.round(l*sn)-u),a*sn,s*sn),o))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const n=[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&ss(e.position,i.position)>i.particle.getRadius()&&(!t||t(i.particle))||n.push(i.particle);if(this._divided)for(const i of this._subs)n.push(...i.query(e,t));return n}queryCircle(e,t,n){return this.query(new ks(e.x,e.y,t),n)}queryRectangle(e,t,n){return this.query(new Hl(e.x,e.y,t.width,t.height),n)}}const oH=r=>{const{height:e,width:t}=r;return new Hl(q7*t,q7*e,Y7*t,Y7*e)};class dAe{constructor(e,t){this._addToPool=(...i)=>{this._pool.push(...i)},this._applyDensity=(i,a,s)=>{const o=i.number;if(!i.number.density?.enable){s===void 0?this._limit=o.limit.value:o.limit&&this._groupLimits.set(s,o.limit.value);return}const l=this._initDensityFactor(o.density),u=o.value,c=o.limit.value>X7?o.limit.value:u,f=Math.min(u,c)*l+a,h=Math.min(this.count,this.filter(p=>p.group===s).length);s===void 0?this._limit=o.limit.value*l:this._groupLimits.set(s,o.limit.value*l),h<f?this.push(Math.abs(f-h),void 0,i,s):h>f&&this.removeQuantity(h-f,s)},this._initDensityFactor=i=>{const a=this._container;if(!a.canvas.element||!i.enable)return RTe;const s=a.canvas.element,o=a.retina.pixelRatio;return s.width*s.height/(i.height*i.width*o**Oc)},this._pushParticle=(i,a,s,o)=>{try{let l=this._pool.pop();l||(l=new fAe(this._engine,this._container)),l.init(this._nextId,i,a,s);let u=!0;return o&&(u=o(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(Za.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){Ev().warning(`${$o} adding particle: ${l}`)}},this._removeParticle=(i,a,s)=>{const o=this._array[i];if(!o||o.group!==a)return!1;const l=this._zArray.indexOf(o);return this._array.splice(i,iE),this._zArray.splice(l,iE),o.destroy(s),this._engine.dispatchEvent(Za.particleRemoved,{container:this._container,data:{particle:o}}),this._addToPool(o),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new lAe(e,t),this._pluginsInitialized=!1;const n=t.canvas.size;this.quadTree=new aE(oH(n),V7),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(n=>this.addParticle(n.position?bre(n.position,e.canvas.size):void 0,n.options))}addParticle(e,t,n,i){const a=this._container.actualOptions.particles.number.limit.mode,s=n===void 0?this._limit:this._groupLimits.get(n)??this._limit,o=this.count;if(s>X7)switch(a){case Xx.delete:{const l=o+CTe-s;l>DTe&&this.removeQuantity(l);break}case Xx.wait:if(o>=s)return;break}return this._pushParticle(e,t,n,i)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,n=t.canvas;n.clear(),this.update(e);for(const i of t.plugins.values())n.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let n=!1;for(const i of e.plugins.values())if(n=i.particlesInitialization?.()??n,n)break;if(this.addManualParticles(),!n){const i=t.particles,a=i.groups;for(const s in a){const o=a[s];for(let l=this.count,u=0;u<o.number?.value&&l<i.number.value;l++,u++)this.addParticle(void 0,o,s)}for(let s=this.count;s<i.number.value;s++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,n,i){for(let a=0;a<e;a++)this.addParticle(t?.position,n,i)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,n){this.removeAt(this._array.indexOf(e),void 0,t,n)}removeAt(e,t=oTe,n,i){if(e<qO||e>this.count)return;let a=0;for(let s=e;a<t&&s<this.count;s++)this._removeParticle(s,n,i)&&(s--,a++)}removeQuantity(e,t){this.removeAt(qO,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const n in t)this._applyDensity(t[n],ITe,n);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,n=new Set;this.quadTree=new aE(oH(t.canvas.size),V7);for(const a of t.pathGenerators.values())a.update();for(const a of t.plugins.values())a.update?.(e);const i=this._resizeFactor;for(const a of this._array){i&&!a.ignoresResizeRatio&&(a.position.x*=i.width,a.position.y*=i.height,a.initialPosition.x*=i.width,a.initialPosition.y*=i.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const s of this._container.plugins.values()){if(a.destroyed)break;s.particleUpdate?.(a,e)}for(const s of this.movers)s.isEnabled(a)&&s.move(a,e);if(a.destroyed){n.add(a);continue}this.quadTree.insert(new hAe(a.getPosition(),a))}if(n.size){const a=s=>!n.has(s);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const s of n)this._engine.dispatchEvent(Za.particleRemoved,{container:this._container,data:{particle:s}});this._addToPool(...n)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const s of this.updaters)s.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this._lastZIndex=a[a.length-lre].position.z,this._needsSort=!1}}}class pAe{constructor(e){this.container=e,this.pixelRatio=z7,this.reduceFactor=U7}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Cv()?z7:window.devicePixelRatio,this.reduceFactor=U7;const n=this.pixelRatio,i=e.canvas;if(i.element){const o=i.element;i.size.width=o.offsetWidth*n,i.size.height=o.offsetHeight*n}const a=t.particles,s=a.move;this.maxSpeed=Ze(s.gravity.maxSpeed)*n,this.sizeAnimationSpeed=Ze(a.size.animation.speed)*n}initParticle(e){const t=e.options,n=this.pixelRatio,i=t.move,a=i.distance,s=e.retina;s.moveDrift=Ze(i.drift)*n,s.moveSpeed=Ze(i.speed)*n,s.sizeAnimationSpeed=Ze(t.size.animation.speed)*n;const o=s.maxDistance;o.horizontal=a.horizontal!==void 0?a.horizontal*n:void 0,o.vertical=a.vertical!==void 0?a.vertical*n:void 0,s.maxSpeed=Ze(i.gravity.maxSpeed)*n}}function kn(r){return r&&!r.destroyed}function vAe(r,e=Bk,t=!1){return{value:r,factor:t?Bk/e:Bk*r/Sn}}function Kg(r,e,...t){const n=new oAe(r,e);return Mre(n,...t),n}class gAe{constructor(e,t,n){this._intersectionManager=i=>{if(!(!kn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of i)a.target===this.interactivity.element&&(a.isIntersecting?this.play():this.pause())},this._nextFrame=i=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&i<this._lastFrameTime+Sn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=i;const a=vAe(i-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(a.value),this._lastFrameTime=i,a.value>Sn){this.draw(!1);return}if(this.particles.draw(a),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(a){Ev().error(`${$o} in animation loop`,a)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new pAe(this),this.canvas=new y2e(this,this._engine),this.particles=new dAe(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Kg(this._engine,this),this.actualOptions=Kg(this._engine,this),this._eventListeners=new _2e(this),this._intersectionObserver=KTe(i=>this._intersectionManager(i)),this._engine.dispatchEvent(Za.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&kn(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!kn(this))return;const t=this.interactivity.element;if(!t)return;const n=(f,h,p)=>{if(!kn(this))return;const v=this.retina.pixelRatio,m={x:h.x*v,y:h.y*v},y=this.particles.quadTree.queryCircle(m,p*v);e(f,y)},i=f=>{if(!kn(this))return;const h=f,p={x:h.offsetX||h.clientX,y:h.offsetY||h.clientY};n(f,p,vTe)},a=()=>{kn(this)&&(u=!0,c=!1)},s=()=>{kn(this)&&(c=!0)},o=f=>{if(kn(this)){if(u&&!c){const h=f;let p=h.touches[h.touches.length-W7];if(!p&&(p=h.changedTouches[h.changedTouches.length-W7],!p))return;const v=this.canvas.element,m=v?v.getBoundingClientRect():void 0,y={x:p.clientX-(m?m.left:rE),y:p.clientY-(m?m.top:rE)};n(f,y,Math.max(p.radiusX,p.radiusY))}u=!1,c=!1}},l=()=>{kn(this)&&(u=!1,c=!1)};let u=!1,c=!1;this._clickHandlers.set("click",i),this._clickHandlers.set("touchstart",a),this._clickHandlers.set("touchmove",s),this._clickHandlers.set("touchend",o),this._clickHandlers.set("touchcancel",l);for(const[f,h]of this._clickHandlers)t.addEventListener(f,h)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,n=!1){return!kn(this)||!n&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(kn(this)){for(const[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(kn(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const t=this._engine.items,n=t.findIndex(i=>i===this);n>=gTe&&t.splice(n,sre)}this._engine.dispatchEvent(Za.containerDestroyed,{container:this})}}draw(e){if(!kn(this))return;let t=e;const n=i=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(i)};this._drawAnimationFrame=UTe(i=>n(i))}async export(e,t={}){for(const n of this.plugins.values()){if(!n.export)continue;const i=await n.export(e,t);if(i.supported)return i.blob}Ev().error(`${$o} - Export plugin with type ${e} not found`)}handleClickMode(e){if(kn(this)){this.particles.handleClickMode(e);for(const t of this.plugins.values())t.handleClickMode?.(e)}}async init(){if(!kn(this))return;const e=this._engine.getSupportedEffects();for(const u of e){const c=this._engine.getEffectDrawer(u);c&&this.effectDrawers.set(u,c)}const t=this._engine.getSupportedShapes();for(const u of t){const c=this._engine.getShapeDrawer(u);c&&this.shapeDrawers.set(u,c)}await this.particles.initPlugins(),this._options=Kg(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Kg(this._engine,this,this._options);const n=await this._engine.getAvailablePlugins(this);for(const[u,c]of n)this.plugins.set(u,c);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:i,duration:a,delay:s,fpsLimit:o,smooth:l}=this.actualOptions;this.zLayers=i,this._duration=Ze(a)*Sn,this._delay=Ze(s)*Sn,this._lifeTime=0,this.fpsLimit=o>yTe?o:mTe,this._smooth=l;for(const u of this.effectDrawers.values())await u.init?.(this);for(const u of this.shapeDrawers.values())await u.init?.(this);for(const u of this.plugins.values())await u.init?.();this._engine.dispatchEvent(Za.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const u of this.plugins.values())u.particlesSetup?.();this._engine.dispatchEvent(Za.particlesSetup,{container:this})}async loadTheme(e){kn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(kn(this)&&(this._drawAnimationFrame!==void 0&&(HTe(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Za.containerPaused,{container:this})}}play(e){if(!kn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const n of this.plugins.values())n.play&&n.play();this._engine.dispatchEvent(Za.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(kn(this))return this.stop(),this.start()}async reset(e){if(kn(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=Kg(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Kg(this._engine,this,this._options),this.refresh()}async start(){!kn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const n of this.plugins.values())await n.start?.();this._engine.dispatchEvent(Za.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){if(!(!kn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(Za.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class mAe{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(i=>i(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const n=this._listeners.get(e);if(!n)return;const i=n.length,a=n.indexOf(t);a<qO||(i===iE?this._listeners.delete(e):n.splice(a,iE))}}async function qk(r,e,t,n=!1){let i=e.get(r);return(!i||n)&&(i=await Promise.all([...t.values()].map(a=>a(r))),e.set(r,i)),i}async function yAe(r){const e=la(r.url,r.index);if(!e)return r.fallback;const t=await fetch(e);return t.ok?await t.json():(Ev().error(`${$o} ${t.status} while retrieving config file`),r.fallback)}const _Ae=r=>{let e;if(r instanceof HTMLCanvasElement||r.tagName.toLowerCase()===Vk)e=r,e.dataset[Up]||(e.dataset[Up]=F7);else{const n=r.getElementsByTagName(Vk);n.length?(e=n[_Te],e.dataset[Up]=F7):(e=document.createElement(Vk),e.dataset[Up]=ire,r.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},xAe=(r,e)=>{let t=e??document.getElementById(r);return t||(t=document.createElement("div"),t.id=r,t.dataset[Up]=ire,document.body.append(t),t)};class wAe{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new mAe,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,n]of this._configs)e[t]=n;return e}get items(){return this._domArray}get version(){return"3.8.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(Za.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,n=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(n))}async addEffect(e,t,n=!0){yi(e,i=>{this.getEffectDrawer(i)||this.effectDrawers.set(i,t)}),await this.refresh(n)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,n=!0){this._initializers.interactors.set(e,t),await this.refresh(n)}async addMover(e,t,n=!0){this._initializers.movers.set(e,t),await this.refresh(n)}async addParticleUpdater(e,t,n=!0){this._initializers.updaters.set(e,t),await this.refresh(n)}async addPathGenerator(e,t,n=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(n)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,n=!1,i=!0){(n||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(i)}async addShape(e,t=!0){for(const n of e.validTypes)this.getShapeDrawer(n)||this.shapeDrawers.set(n,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&t.set(n.id,await n.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return qk(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return qk(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return qk(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,n=t[e];if(!n||n.destroyed){t.splice(e,sre);return}return n}async load(e){const t=e.id??e.element?.id??`tsparticles${Math.floor(qt()*xTe)}`,{index:n,url:i}=e,a=i?await yAe({fallback:e.options,url:i,index:n}):e.options,s=la(a,n),{items:o}=this,l=o.findIndex(h=>h.id.description===t),u=new gAe(this,t,s);if(l>=wTe){const h=this.item(l),p=h?bTe:nE;h&&!h.destroyed&&h.destroy(!1),o.splice(l,p,u)}else o.push(u);const c=xAe(t,e.element),f=_Ae(c);return u.canvas.loadCanvas(f),await u.start(),u}loadOptions(e,t){this.plugins.forEach(n=>n.loadOptions?.(e,t))}loadParticlesOptions(e,t,...n){const i=this.updaters.get(e);i&&i.forEach(a=>a.loadOptions?.(t,...n))}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${$o} can only set click handlers after calling tsParticles.load()`);t.forEach(n=>n.addClickHandler(e))}}function bAe(){const r=new wAe;return r.init(),r}class Yl{constructor(e){this.type=Pm.external,this.container=e}}class LF{constructor(e){this.type=Pm.particles,this.container=e}}var ns;(function(r){r.clockwise="clockwise",r.counterClockwise="counter-clockwise",r.random="random"})(ns||(ns={}));var lH;(function(r){r.linear="linear",r.radial="radial",r.random="random"})(lH||(lH={}));var av;(function(r){r.easeInBack="ease-in-back",r.easeInCirc="ease-in-circ",r.easeInCubic="ease-in-cubic",r.easeInLinear="ease-in-linear",r.easeInQuad="ease-in-quad",r.easeInQuart="ease-in-quart",r.easeInQuint="ease-in-quint",r.easeInExpo="ease-in-expo",r.easeInSine="ease-in-sine",r.easeOutBack="ease-out-back",r.easeOutCirc="ease-out-circ",r.easeOutCubic="ease-out-cubic",r.easeOutLinear="ease-out-linear",r.easeOutQuad="ease-out-quad",r.easeOutQuart="ease-out-quart",r.easeOutQuint="ease-out-quint",r.easeOutExpo="ease-out-expo",r.easeOutSine="ease-out-sine",r.easeInOutBack="ease-in-out-back",r.easeInOutCirc="ease-in-out-circ",r.easeInOutCubic="ease-in-out-cubic",r.easeInOutLinear="ease-in-out-linear",r.easeInOutQuad="ease-in-out-quad",r.easeInOutQuart="ease-in-out-quart",r.easeInOutQuint="ease-in-out-quint",r.easeInOutExpo="ease-in-out-expo",r.easeInOutSine="ease-in-out-sine"})(av||(av={}));const Ore=bAe();Cv()||(window.tsParticles=Ore);const SAe=r=>{const e=r.id??"tsparticles";return ce.useEffect(()=>{let t;return Ore.load({id:e,url:r.url,options:r.options}).then(n=>{var i;t=n,(i=r.particlesLoaded)==null||i.call(r,n)}),()=>{t?.destroy()}},[e,r,r.url,r.options]),q.jsx("div",{id:e,className:r.className})};class TAe{constructor(){this.radius=0,this.mass=0}load(e){je(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class AAe extends ql{constructor(){super(),this.density=5,this.value=50,this.limit=new TAe}load(e){je(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),ro(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class sE{constructor(){this.color=new ei,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new AAe}load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=St(e.position.x)),e.position.y!==void 0&&(this.position.y=St(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var oE;(function(r){r.absorber="absorber"})(oE||(oE={}));const EAe=2,CAe=.033,DAe=0,IAe=0,RAe=0,kAe=0,MAe=2,uH=Math.PI*MAe,cH=0;class PAe{constructor(e,t,n,i,a){this._calcPosition=()=>{const o=dre({size:this._container.canvas.size,position:this.options.position});return nn.create(o.x,o.y)},this._updateParticlePosition=(o,l)=>{if(o.destroyed)return;const u=this._container,c=u.canvas.size;if(o.needsNewPosition){const f=hre({size:c});o.position.setTo(f),o.velocity.setTo(o.initialVelocity),o.absorberOrbit=void 0,o.needsNewPosition=!1}if(this.options.orbits){if(o.absorberOrbit===void 0&&(o.absorberOrbit=nn.origin,o.absorberOrbit.length=ss(o.getPosition(),this.position),o.absorberOrbit.angle=qt()*uH),o.absorberOrbit.length<=this.size&&!this.options.destroy){const m=Math.min(c.width,c.height),y=1,x=.1,w=.2;o.absorberOrbit.length=m*(y+(qt()*w-x))}o.absorberOrbitDirection===void 0&&(o.absorberOrbitDirection=o.velocity.x>=cH?ns.clockwise:ns.counterClockwise);const f=o.absorberOrbit.length,h=o.absorberOrbit.angle,p=o.absorberOrbitDirection;o.velocity.setTo(nn.origin);const v={x:p===ns.clockwise?Math.cos:Math.sin,y:p===ns.clockwise?Math.sin:Math.cos};o.position.x=this.position.x+f*v.x(h),o.position.y=this.position.y+f*v.y(h),o.absorberOrbit.length-=l.length,o.absorberOrbit.angle+=(o.retina.moveSpeed??cH)*u.retina.pixelRatio/aa*u.retina.reduceFactor}else{const f=nn.origin;f.length=l.length,f.angle=l.angle,o.velocity.addTo(f)}},this._absorbers=e,this._container=t,this._engine=n,this.initialPosition=a?nn.create(a.x,a.y):void 0,i instanceof sE?this.options=i:(this.options=new sE,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=Ze(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const s=this.options.size.limit;this.limit={radius:s.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:s.mass},this.color=Go(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(e){const t=this._container,n=this.options;if(n.draggable){const u=t.interactivity.mouse;u.clicking&&u.downPosition?ss(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const i=e.getPosition(),{dx:a,dy:s,distance:o}=Ma(this.position,i),l=nn.create(a,s);if(l.length=this.mass/Math.pow(o,EAe)*t.retina.reduceFactor,o<this.size+e.getRadius()){const u=e.getRadius()*CAe*t.retina.pixelRatio;this.size>e.getRadius()&&o<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<DAe?n.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(n.destroy&&(e.size.value-=u),this._updateParticlePosition(e,l)),(this.limit.radius<=IAe||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=RAe||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(Gi.x,Gi.y,this.size,kAe,uH,!1),e.closePath(),e.fillStyle=zu(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&ib(e,this._container.canvas.size,nn.origin)?e:this._calcPosition()}}const fH=0;class LAe{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=n=>n===void 0||ro(n)?this.array[n??fH]:this.array.find(i=>i.name===n),e.addAbsorber=async(n,i)=>this.addAbsorber(n,i)}async addAbsorber(e,t){const n=new PAe(this,this._container,this._engine,e,t);return this.array.push(n),Promise.resolve(n)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,n=this.interactivityAbsorbers;if(e===oE.absorber){const i=la(n),a=i??la(t),s=this._container.interactivity.mouse.clickPosition;this.addAbsorber(a,s)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=yi(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=fH&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class OAe{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new LAe(e,this._engine))}loadOptions(e,t){!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=yi(t.absorbers,n=>{const i=new sE;return i.load(n),i})),e.interactivity.modes.absorbers=yi(t?.interactivity?.modes?.absorbers,n=>{const i=new sE;return i.load(n),i}))}needsPlugin(e){if(!e)return!1;const t=e.absorbers;return ka(t)?!!t.length:t?!0:!!(e.interactivity?.events?.onClick?.mode&&on(oE.absorber,e.interactivity.events.onClick.mode))}}async function NAe(r,e=!0){r.checkVersion("3.8.1"),await r.addPlugin(new OAe(r),e)}class FAe{load(e){je(e)||(e.bottom!==void 0&&(this.bottom=St(e.bottom)),e.left!==void 0&&(this.left=St(e.left)),e.right!==void 0&&(this.right=St(e.right)),e.top!==void 0&&(this.top=St(e.top)))}}var lE;(function(r){r.none="none",r.split="split"})(lE||(lE={}));class BAe extends ql{constructor(){super(),this.value=3}}class VAe extends ql{constructor(){super(),this.value={min:4,max:9}}}class zAe{constructor(){this.count=1,this.factor=new BAe,this.rate=new VAe,this.sizeOffset=!0}load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=yi(e.particles,t=>mi({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class UAe{constructor(){this.bounds=new FAe,this.mode=lE.none,this.split=new zAe}load(e){je(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const gT=0,HAe=.5,GAe=0,jAe=1,WAe=500,$Ae=0;function qAe(r,e,t,n){const i=t.options.destroy;if(!i)return;const a=i.split,s=PF(r,e,t.options),o=Ze(a.factor.value),l=t.getFillColor();a.color?s.color.load(a.color):a.colorOffset&&l?s.color.load({value:{hsl:{h:l.h+Ze(a.colorOffset.h??gT),s:l.s+Ze(a.colorOffset.s??gT),l:l.l+Ze(a.colorOffset.l??gT)}}}):s.color.load({value:{hsl:t.getFillColor()}}),s.move.load({center:{x:t.position.x,y:t.position.y,mode:Yu.precise}}),ro(s.size.value)?s.size.value/=o:(s.size.value.min/=o,s.size.value.max/=o),s.load(n);const u=a.sizeOffset?St(-t.size.value,t.size.value):gT,c={x:t.position.x+oa(u),y:t.position.y+oa(u)};return e.particles.addParticle(c,s,t.group,f=>f.size.value<HAe?!1:(f.velocity.length=oa(St(t.velocity.length,f.velocity.length)),f.splitCount=(t.splitCount??GAe)+jAe,f.unbreakable=!0,setTimeout(()=>{f.unbreakable=!1},WAe),!0))}function YAe(r,e,t){const n=t.options.destroy;if(!n)return;const i=n.split;if(i.count>=$Ae&&(t.splitCount===void 0||t.splitCount++>i.count))return;const a=Ze(i.rate.value),s=la(i.particles);for(let o=0;o<a;o++)qAe(r,e,t,s)}class XAe{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,n=e.options,i=n.destroy;if(!i)return;e.splitCount=0;const a=i.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:s,left:o,right:l,top:u}=a,{destroyBounds:c}=e,f=t.canvas.size;s&&(c.bottom=Ze(s)*f.height/aa),o&&(c.left=Ze(o)*f.width/aa),l&&(c.right=Ze(l)*f.width/aa),u&&(c.top=Ze(u)*f.height/aa)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new UAe);for(const n of t)e.destroy.load(n?.destroy)}particleDestroyed(e,t){if(t)return;const n=e.options.destroy;n&&n.mode===lE.split&&YAe(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),n=e.destroyBounds;n&&(n.bottom!==void 0&&t.y>=n.bottom||n.left!==void 0&&t.x<=n.left||n.right!==void 0&&t.x>=n.right||n.top!==void 0&&t.y<=n.top)&&e.destroy()}}async function KAe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("destroy",t=>Promise.resolve(new XAe(r,t)),e)}class ZAe{constructor(){this.wait=!1}load(e){je(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=St(e.delay)),e.duration!==void 0&&(this.duration=St(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class QAe{constructor(){this.quantity=1,this.delay=.1}load(e){je(e)||(e.quantity!==void 0&&(this.quantity=St(e.quantity)),e.delay!==void 0&&(this.delay=St(e.delay)))}}class JAe{constructor(){this.color=!1,this.opacity=!1}load(e){je(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class eEe{constructor(){this.options={},this.replace=new JAe,this.type="square"}load(e){je(e)||(e.options!==void 0&&(this.options=mi({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class Nre{constructor(){this.mode=Yu.percent,this.height=0,this.width=0}load(e){je(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class hh{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new ZAe,this.rate=new QAe,this.shape=new eEe,this.startCount=0}load(e){je(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new Nre),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=yi(e.particles,t=>mi({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=St(e.position.x)),e.position.y!==void 0&&(this.position.y=St(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Mm),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var uE;(function(r){r.emitter="emitter"})(uE||(uE={}));const hH=.5,dH=0,mT=0,pH=0,tEe=0,rEe=-1,nEe=1;function vH(r,e){r.color?r.color.value=e:r.color={value:e}}class iEe{constructor(e,t,n,i,a){this.emitters=t,this.container=n,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const u=this.options.life?.duration!==void 0?Ze(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&u!==void 0&&u>0&&(this._duration=u*Sn)},this._setColorAnimation=(u,c,f,h=nEe)=>{const p=this.container;if(!u.enable)return c;const v=oa(u.offset),m=Ze(this.options.rate.delay),y=m*Sn/p.retina.reduceFactor,x=0,w=Ze(u.speed??x);return(c+w*p.fpsLimit/y+v*h)%f},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=a,i instanceof hh?this.options=i:(this.options=new hh,this.options.load(i)),this._spawnDelay=Ze(this.options.life.delay??dH)*Sn/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let s=mi({},this.options.particles);if(s??={},s.move??={},s.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=Zh(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=s,this._size=this._calcSize(),this.size=eH(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??rEe,this._immortal=this._lifeCount<=mT,this.options.domId){const u=document.getElementById(this.options.domId);u&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(u,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(u))}const o=this.options.shape,l=this._engine.emitterShapeManager?.getShapeGenerator(o.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,o.options)),this._engine.dispatchEvent("emitterCreated",{container:n,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await this._shape?.init()}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>mT||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??pH))){if(this._emitDelay===void 0){const e=Ze(this.options.rate.delay);this._emitDelay=e*Sn/this.container.retina.reduceFactor}(this._lifeCount>mT||this._immortal)&&this._prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&ib(e,this.container.canvas.size,nn.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=eH(this._size,this.container.canvas.size),this._shape?.resize(this.position,this.size)}update(e){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??pH,this._currentEmitDelay=this._emitDelay??tEe),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>mT||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=Ze(this.options.life.delay??dH)*Sn/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const t=e.getBoundingClientRect(),n=this.container.retina.pixelRatio;return{x:(t.x+t.width*hH)*n,y:(t.y+t.height*hH)*n}}}return dre({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const n=t.getBoundingClientRect();return{width:n.width*e.retina.pixelRatio,height:n.height*e.retina.pixelRatio,mode:Yu.precise}}}return this.options.size??(()=>{const t=new Nre;return t.load({height:0,mode:Yu.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=Ze(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){const t=la(this._particlesOptions);for(let n=0;n<e;n++){const i=mi({},t);if(this.spawnColor){const o=this.options.spawnColor?.animation;if(o){const l={h:360,s:100,l:100},u=3.6;this.spawnColor.h=this._setColorAnimation(o.h,this.spawnColor.h,l.h,u),this.spawnColor.s=this._setColorAnimation(o.s,this.spawnColor.s,l.s),this.spawnColor.l=this._setColorAnimation(o.l,this.spawnColor.l,l.l)}vH(i,this.spawnColor)}const a=this.options.shape;let s=this.position;if(this._shape){const o=this._shape.randomPosition();if(o){s=o.position;const l=a.replace;l.color&&o.color&&vH(i,o.color),l.opacity&&(i.opacity?i.opacity.value=o.opacity:i.opacity={value:o.opacity})}else s=null}s&&this.container.particles.addParticle(s,i)}}}class aEe{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const n=0;t.getEmitter=i=>i===void 0||ro(i)?this.array[i??n]:this.array.find(a=>a.name===i),t.addEmitter=async(i,a)=>this.addEmitter(i,a),t.removeEmitter=i=>{const a=t.getEmitter(i);a&&this.removeEmitter(a)},t.playEmitter=i=>{const a=t.getEmitter(i);a&&a.externalPlay()},t.pauseEmitter=i=>{const a=t.getEmitter(i);a&&a.externalPause()}}async addEmitter(e,t){const n=new hh;n.load(e);const i=new iEe(this._engine,this,this.container,n,t);return await i.init(),this.array.push(i),i}handleClickMode(e){const t=this.emitters,n=this.interactivityEmitters;if(e!==uE.emitter)return;let i;if(n&&ka(n.value))if(n.value.length>0&&n.random.enable){i=[];const l=[];for(let u=0;u<n.random.count;u++){const c=gre(n.value);if(l.includes(c)&&l.length<n.value.length){u--;continue}l.push(c),i.push(nb(n.value,c))}}else i=n.value;else i=n?.value;const a=i??t,s=this.container.interactivity.mouse.clickPosition;yi(a,async o=>{await this.addEmitter(o,s)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(ka(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class sEe{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new aEe(this._engine,e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=yi(t.emitters,i=>{const a=new hh;return a.load(i),a}));const n=t?.interactivity?.modes?.emitters;if(n)if(ka(n))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:n.map(i=>{const a=new hh;return a.load(i),a})};else{const i=n;if(i.value!==void 0)if(ka(i.value))e.interactivity.modes.emitters={random:{count:i.random.count??1,enable:i.random.enable??!1},value:i.value.map(s=>{const o=new hh;return o.load(s),o})};else{const s=new hh;s.load(i.value),e.interactivity.modes.emitters={random:{count:i.random.count??1,enable:i.random.enable??!1},value:s}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new hh}).value.load(n)}}needsPlugin(e){if(!e)return!1;const t=e.emitters;return ka(t)&&!!t.length||t!==void 0||!!e.interactivity?.events?.onClick?.mode&&on(uE.emitter,e.interactivity.events.onClick.mode)}}const Yk=new Map;class oEe{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||Yk.set(e,t)}getShapeGenerator(e){return Yk.get(e)}getSupportedShapeGenerators(){return Yk.keys()}}class Fre{constructor(e,t,n,i){this.position=e,this.size=t,this.fill=n,this.options=i}resize(e,t){this.position=e,this.size=t}}async function lEe(r,e=!0){r.checkVersion("3.8.1"),r.emitterShapeManager||(r.emitterShapeManager=new oEe(r)),r.addEmitterShapeGenerator||(r.addEmitterShapeGenerator=(n,i)=>{r.emitterShapeManager?.addShapeGenerator(n,i)});const t=new sEe(r);await r.addPlugin(t,e)}const V1=.25,QO=2,uEe=Math.PI*QO,gH=2,mH=.5;class cEe extends Fre{constructor(e,t,n,i){super(e,t,n,i)}async init(){}randomPosition(){const e=this.size,t=this.fill,n=this.position,i=(f,h)=>{const p=qt()*V1,v=Math.atan(h/f*Math.tan(uEe*p)),m=qt();return m<V1?v:m<QO*V1?Math.PI-v:m<QO*V1+V1?Math.PI+v:-v},a=(f,h,p)=>f*h/Math.sqrt((h*Math.cos(p))**gH+(f*Math.sin(p))**gH),[s,o]=[e.width*mH,e.height*mH],l=i(s,o),u=a(s,o,l),c=t?u*Math.sqrt(qt()):u;return{position:{x:n.x+c*Math.cos(l),y:n.y+c*Math.sin(l)}}}}class fEe{generate(e,t,n,i){return new cEe(e,t,n,i)}}async function hEe(r,e=!0){const t=r;t.checkVersion("3.8.1"),t.addEmitterShapeGenerator?.("circle",new fEe),await t.refresh(e)}const dEe=4;var N0;(function(r){r[r.TopLeft=0]="TopLeft",r[r.TopRight=1]="TopRight",r[r.BottomRight=2]="BottomRight",r[r.BottomLeft=3]="BottomLeft"})(N0||(N0={}));function yH(r,e){return r+e*(qt()-sn)}class pEe extends Fre{constructor(e,t,n,i){super(e,t,n,i)}async init(){}randomPosition(){const e=this.fill,t=this.position,n=this.size;if(e)return{position:{x:yH(t.x,n.width),y:yH(t.y,n.height)}};{const i=n.width*sn,a=n.height*sn,s=Math.floor(qt()*dEe),o=(qt()-sn)*sa;switch(s){case N0.TopLeft:return{position:{x:t.x+o*i,y:t.y-a}};case N0.TopRight:return{position:{x:t.x-i,y:t.y+o*a}};case N0.BottomRight:return{position:{x:t.x+o*i,y:t.y+a}};case N0.BottomLeft:default:return{position:{x:t.x+i,y:t.y+o*a}}}}}}class vEe{generate(e,t,n,i){return new pEe(e,t,n,i)}}async function gEe(r,e=!0){const t=r;t.checkVersion("3.8.1"),t.addEmitterShapeGenerator?.("square",new vEe),await t.refresh(e)}class mEe{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){je(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=mi({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const _H="trail";class yEe extends Yl{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){const t=this.container,{interactivity:n}=t;if(!t.retina.reduceFactor)return;const i=t.actualOptions,a=i.interactivity.modes.trail;if(!a)return;const s=a.delay*Sn/this.container.retina.reduceFactor;if(this._delay<s&&(this._delay+=e.value),this._delay<s)return;const o=!(a.pauseOnStop&&(n.mouse.position===this._lastPosition||n.mouse.position?.x===this._lastPosition?.x&&n.mouse.position?.y===this._lastPosition?.y)),l=t.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,o&&t.particles.push(a.quantity,t.interactivity.mouse,a.particles),this._delay-=s}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events;return i.clicking&&i.inside&&!!i.position&&on(_H,a.onClick.mode)||i.inside&&!!i.position&&on(_H,a.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new mEe);for(const n of t)e.trail.load(n?.trail)}reset(){}}async function _Ee(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalTrail",t=>Promise.resolve(new yEe(t)),e)}var Wp;(function(r){r.both="both",r.horizontal="horizontal",r.vertical="vertical"})(Wp||(Wp={}));const xEe=2,Bre=Math.PI*xEe,wEe=360;function bEe(r,e){const t=e.options.roll;if(!t?.enable){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===Wp.horizontal||t.mode===Wp.both,vertical:t.mode===Wp.vertical||t.mode===Wp.both,angle:qt()*Bre,speed:Ze(t.speed)/wEe},t.backColor)e.backColor=Zh(r,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const n=qt()>=sn?ch.darken:ch.enlighten;e.roll.alter={type:n,value:Ze(n===ch.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:ch.darken,value:Ze(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:ch.enlighten,value:Ze(t.enlighten.value)})}function SEe(r,e){const t=r.options.roll,n=r.roll;if(!n||!t?.enable)return;const i=n.speed*e.factor,a=Bre;n.angle+=i,n.angle>a&&(n.angle-=a)}class xH{constructor(){this.enable=!1,this.value=0}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=St(e.value)))}}class TEe{constructor(){this.darken=new xH,this.enable=!1,this.enlighten=new xH,this.mode=Wp.vertical,this.speed=25}load(e){je(e)||(e.backColor!==void 0&&(this.backColor=ei.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=St(e.speed)))}}class AEe{constructor(e){this._engine=e}getTransformValues(e){const t=e.roll?.enable&&e.roll,n=t&&t.horizontal,i=t&&t.vertical;return{a:n?Math.cos(t.angle):void 0,d:i?Math.sin(t.angle):void 0}}init(e){bEe(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.roll||(e.roll=new TEe);for(const n of t)e.roll.load(n?.roll)}update(e,t){this.isEnabled(e)&&SEe(e,t)}}async function EEe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("roll",()=>Promise.resolve(new AEe(r)),e)}const JO=.5,CEe=2,mh=0,Cl=1,wH=60,bH=0,DEe=.01,IEe=Math.PI*CEe;function REe(r){const e=r.initialPosition,{dx:t,dy:n}=Ma(e,r.position),i=Math.abs(t),a=Math.abs(n),{maxDistance:s}=r.retina,o=s.horizontal,l=s.vertical;if(!o&&!l)return;const u=(o&&i>=o)??!1,c=(l&&a>=l)??!1;if((u||c)&&!r.misplaced)r.misplaced=!!o&&i>o||!!l&&a>l,o&&(r.velocity.x=r.velocity.y*JO-r.velocity.x),l&&(r.velocity.y=r.velocity.x*JO-r.velocity.y);else if((!o||i<o)&&(!l||a<l)&&r.misplaced)r.misplaced=!1;else if(r.misplaced){const f=r.position,h=r.velocity;o&&(f.x<e.x&&h.x<mh||f.x>e.x&&h.x>mh)&&(h.x*=-qt()),l&&(f.y<e.y&&h.y<mh||f.y>e.y&&h.y>mh)&&(h.y*=-qt())}}function kEe(r,e,t,n,i,a){PEe(r,a);const s=r.gravity,o=s?.enable&&s.inverse?-Cl:Cl;i&&t&&(r.velocity.x+=i*a.factor/(wH*t)),s?.enable&&t&&(r.velocity.y+=o*(s.acceleration*a.factor)/(wH*t));const l=r.moveDecay;r.velocity.multTo(l);const u=r.velocity.mult(t);s?.enable&&n>mh&&(!s.inverse&&u.y>=mh&&u.y>=n||s.inverse&&u.y<=mh&&u.y<=-n)&&(u.y=o*n,t&&(r.velocity.y=u.y/t));const c=r.options.zIndex,f=(Cl-r.zIndexFactor)**c.velocityRate;u.multTo(f);const{position:h}=r;h.addTo(u),e.vibrate&&(h.x+=Math.sin(h.x*Math.cos(h.y)),h.y+=Math.cos(h.y*Math.sin(h.x)))}function MEe(r,e){const t=r.container;if(!r.spin)return;const n=r.spin.direction===ns.clockwise,i={x:n?Math.cos:Math.sin,y:n?Math.sin:Math.cos};r.position.x=r.spin.center.x+r.spin.radius*i.x(r.spin.angle),r.position.y=r.spin.center.y+r.spin.radius*i.y(r.spin.angle),r.spin.radius+=r.spin.acceleration;const a=Math.max(t.canvas.size.width,t.canvas.size.height),s=a*JO;r.spin.radius>s?(r.spin.radius=s,r.spin.acceleration*=-Cl):r.spin.radius<bH&&(r.spin.radius=bH,r.spin.acceleration*=-Cl),r.spin.angle+=e*DEe*(Cl-r.spin.radius/a)}function PEe(r,e){const t=r.options,n=t.move.path;if(!n.enable)return;if(r.lastPathTime<=r.pathDelay){r.lastPathTime+=e.value;return}const a=r.pathGenerator?.generate(r,e);a&&r.velocity.addTo(a),n.clamp&&(r.velocity.x=qo(r.velocity.x,-Cl,Cl),r.velocity.y=qo(r.velocity.y,-Cl,Cl)),r.lastPathTime-=r.pathDelay}function LEe(r){return r.slow.inRange?r.slow.factor:Cl}function OEe(r){const e=r.container,t=r.options,n=t.move.spin;if(!n.enable)return;const i=n.position??{x:50,y:50},a=.01,s={x:i.x*a*e.canvas.size.width,y:i.y*a*e.canvas.size.height},o=r.getPosition(),l=ss(o,s),u=Ze(n.acceleration);r.retina.spinAcceleration=u*e.retina.pixelRatio,r.spin={center:s,direction:r.velocity.x>=mh?ns.clockwise:ns.counterClockwise,angle:qt()*IEe,radius:l,acceleration:r.retina.spinAcceleration}}const NEe=2,FEe=1,BEe=1;class VEe{init(e){const t=e.options,n=t.move.gravity;e.gravity={enable:n.enable,acceleration:Ze(n.acceleration),inverse:n.inverse},OEe(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const n=e.options,i=n.move;if(!i.enable)return;const a=e.container,s=a.retina.pixelRatio;e.retina.moveSpeed??=Ze(i.speed)*s,e.retina.moveDrift??=Ze(e.options.move.drift)*s;const o=LEe(e),l=e.retina.moveSpeed*a.retina.reduceFactor,u=e.retina.moveDrift,c=Iu(n.size.value)*s,f=i.size?e.getRadius()/c:FEe,h=t.factor||BEe,p=l*f*o*h/NEe,v=e.retina.maxSpeed??a.retina.maxSpeed;i.spin.enable?MEe(e,p):kEe(e,i,p,v,u,t),REe(e)}}async function zEe(r,e=!0){r.checkVersion("3.8.1"),await r.addMover("base",()=>Promise.resolve(new VEe),e)}const UEe=2,HEe=Math.PI*UEe,GEe=0,SH={x:0,y:0};function jEe(r){const{context:e,particle:t,radius:n}=r;t.circleRange||(t.circleRange={min:GEe,max:HEe});const i=t.circleRange;e.arc(SH.x,SH.y,n,i.min,i.max,!1)}const WEe=12,$Ee=360,TH=0;class qEe{constructor(){this.validTypes=["circle"]}draw(e){jEe(e)}getSidesCount(){return WEe}particleInit(e,t){const n=t.shapeData,i=n?.angle??{max:$Ee,min:TH};t.circleRange=O0(i)?{min:qc(i.min),max:qc(i.max)}:{min:TH,max:qc(i)}}}async function YEe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new qEe,e)}class XEe{constructor(e,t){this._container=e,this._engine=t}init(e){const t=Zh(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Cre(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:n,l:i}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&n.enable||a?.l.value!==void 0&&i.enable)}update(e,t){Dre(e.color,t)}}async function KEe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("color",t=>Promise.resolve(new XEe(t,r)),e)}var Lp;(function(r){r[r.r=1]="r",r[r.g=2]="g",r[r.b=3]="b",r[r.a=4]="a"})(Lp||(Lp={}));const ZEe=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,QEe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,yT=16,JEe=1,eCe=255;class tCe{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const t=e.replace(ZEe,(i,a,s,o,l)=>a+a+s+s+o+o+(l!==void 0?l+l:"")),n=QEe.exec(t);return n?{a:n[Lp.a]!==void 0?parseInt(n[Lp.a],yT)/eCe:JEe,b:parseInt(n[Lp.b],yT),g:parseInt(n[Lp.g],yT),r:parseInt(n[Lp.r],yT)}:void 0}}async function rCe(r,e=!0){r.checkVersion("3.8.1"),await r.addColorManager(new tCe,e)}var F0;(function(r){r[r.h=1]="h",r[r.s=2]="s",r[r.l=3]="l",r[r.a=5]="a"})(F0||(F0={}));class nCe{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,n=t.hsl??e.value;if(n.h!==void 0&&n.s!==void 0&&n.l!==void 0)return Im(n)}handleRangeColor(e){const t=e.value,n=t.hsl??e.value;if(n.h!==void 0&&n.l!==void 0)return Im({h:Ze(n.h),l:Ze(n.l),s:Ze(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,n=t.exec(e),i=4,a=1,s=10;return n?o2e({a:n.length>i?pre(n[F0.a]):a,h:parseInt(n[F0.h],s),l:parseInt(n[F0.l],s),s:parseInt(n[F0.s],s)}):void 0}}async function iCe(r,e=!0){r.checkVersion("3.8.1"),await r.addColorManager(new nCe,e)}class aCe{constructor(e){this.container=e}init(e){const t=e.options.opacity,n=1;e.opacity=xre(t,n);const i=t.animation;i.enable&&(e.opacity.velocity=Ze(i.speed)/aa*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=qt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||pD(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function sCe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("opacity",t=>Promise.resolve(new aCe(t)),e)}const cE=0,am=0;function oCe(r){if(r.outMode!==pi.bounce&&r.outMode!==pi.split||r.direction!==dr.left&&r.direction!==dr.right)return;r.bounds.right<am&&r.direction===dr.left?r.particle.position.x=r.size+r.offset.x:r.bounds.left>r.canvasSize.width&&r.direction===dr.right&&(r.particle.position.x=r.canvasSize.width-r.size-r.offset.x);const e=r.particle.velocity.x;let t=!1;if(r.direction===dr.right&&r.bounds.right>=r.canvasSize.width&&e>cE||r.direction===dr.left&&r.bounds.left<=am&&e<cE){const i=Ze(r.particle.options.bounce.horizontal.value);r.particle.velocity.x*=-i,t=!0}if(!t)return;const n=r.offset.x+r.size;r.bounds.right>=r.canvasSize.width&&r.direction===dr.right?r.particle.position.x=r.canvasSize.width-n:r.bounds.left<=am&&r.direction===dr.left&&(r.particle.position.x=n),r.outMode===pi.split&&r.particle.destroy()}function lCe(r){if(r.outMode!==pi.bounce&&r.outMode!==pi.split||r.direction!==dr.bottom&&r.direction!==dr.top)return;r.bounds.bottom<am&&r.direction===dr.top?r.particle.position.y=r.size+r.offset.y:r.bounds.top>r.canvasSize.height&&r.direction===dr.bottom&&(r.particle.position.y=r.canvasSize.height-r.size-r.offset.y);const e=r.particle.velocity.y;let t=!1;if(r.direction===dr.bottom&&r.bounds.bottom>=r.canvasSize.height&&e>cE||r.direction===dr.top&&r.bounds.top<=am&&e<cE){const i=Ze(r.particle.options.bounce.vertical.value);r.particle.velocity.y*=-i,t=!0}if(!t)return;const n=r.offset.y+r.size;r.bounds.bottom>=r.canvasSize.height&&r.direction===dr.bottom?r.particle.position.y=r.canvasSize.height-n:r.bounds.top<=am&&r.direction===dr.top&&(r.particle.position.y=n),r.outMode===pi.split&&r.particle.destroy()}class uCe{constructor(e){this.container=e,this.modes=[pi.bounce,pi.split]}update(e,t,n,i){if(!this.modes.includes(i))return;const a=this.container;let s=!1;for(const h of a.plugins.values())if(h.particleBounce!==void 0&&(s=h.particleBounce(e,n,t)),s)break;if(s)return;const o=e.getPosition(),l=e.offset,u=e.getRadius(),c=ab(o,u),f=a.canvas.size;oCe({particle:e,outMode:i,direction:t,bounds:c,canvasSize:f,offset:l,size:u}),lCe({particle:e,outMode:i,direction:t,bounds:c,canvasSize:f,offset:l,size:u})}}const _T=0;class cCe{constructor(e){this.container=e,this.modes=[pi.destroy]}update(e,t,n,i){if(!this.modes.includes(i))return;const a=this.container;switch(e.outType){case Pl.normal:case Pl.outside:if(ib(e.position,a.canvas.size,nn.origin,e.getRadius(),t))return;break;case Pl.inside:{const{dx:s,dy:o}=Ma(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<_T&&s>e.moveCenter.radius||u<_T&&o>e.moveCenter.radius||l>=_T&&s<-e.moveCenter.radius||u>=_T&&o<-e.moveCenter.radius)return;break}}a.particles.remove(e,e.group,!0)}}const xT=0;class fCe{constructor(e){this.container=e,this.modes=[pi.none]}update(e,t,n,i){if(!this.modes.includes(i)||((e.options.move.distance.horizontal&&(t===dr.left||t===dr.right))??(e.options.move.distance.vertical&&(t===dr.top||t===dr.bottom))))return;const a=e.options.move.gravity,s=this.container,o=s.canvas.size,l=e.getRadius();if(a.enable){const u=e.position;(!a.inverse&&u.y>o.height+l&&t===dr.bottom||a.inverse&&u.y<-l&&t===dr.top)&&s.particles.remove(e)}else{if(e.velocity.y>xT&&e.position.y<=o.height+l||e.velocity.y<xT&&e.position.y>=-l||e.velocity.x>xT&&e.position.x<=o.width+l||e.velocity.x<xT&&e.position.x>=-l)return;ib(e.position,s.canvas.size,nn.origin,l,t)||s.particles.remove(e)}}}const wT=0,bT=0;class hCe{constructor(e){this.container=e,this.modes=[pi.out]}update(e,t,n,i){if(!this.modes.includes(i))return;const a=this.container;switch(e.outType){case Pl.inside:{const{x:s,y:o}=e.velocity,l=nn.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(nn.create(e.moveCenter));const{dx:u,dy:c}=Ma(e.position,l);if(s<=wT&&u>=bT||o<=wT&&c>=bT||s>=wT&&u<=bT||o>=wT&&c<=bT)return;e.position.x=Math.floor(oa({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(oa({min:0,max:a.canvas.size.height}));const{dx:f,dy:h}=Ma(e.position,e.moveCenter);e.direction=Math.atan2(-h,-f),e.velocity.angle=e.direction;break}default:{if(ib(e.position,a.canvas.size,nn.origin,e.getRadius(),t))return;switch(e.outType){case Pl.outside:{e.position.x=Math.floor(oa({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(oa({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:s,dy:o}=Ma(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(o,s),e.velocity.angle=e.direction);break}case Pl.normal:{const s=e.options.move.warp,o=a.canvas.size,l={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),c=ab(e.position,u);t===dr.right&&c.left>o.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,s||(e.position.y=qt()*o.height,e.initialPosition.y=e.position.y)):t===dr.left&&c.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,s||(e.position.y=qt()*o.height,e.initialPosition.y=e.position.y)),t===dr.bottom&&c.top>o.height+e.offset.y?(s||(e.position.x=qt()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):t===dr.top&&c.bottom<-e.offset.y&&(s||(e.position.x=qt()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const dCe=(r,e)=>r.default===e||r.bottom===e||r.left===e||r.right===e||r.top===e;class pCe{constructor(e){this._addUpdaterIfMissing=(t,n,i)=>{const a=t.options.move.outModes;!this.updaters.has(n)&&dCe(a,n)&&this.updaters.set(n,i(this.container))},this._updateOutMode=(t,n,i,a)=>{for(const s of this.updaters.values())s.update(t,a,n,i)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,pi.bounce,t=>new uCe(t)),this._addUpdaterIfMissing(e,pi.out,t=>new hCe(t)),this._addUpdaterIfMissing(e,pi.destroy,t=>new cCe(t)),this._addUpdaterIfMissing(e,pi.none,t=>new fCe(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const n=e.options.move.outModes;this._updateOutMode(e,t,n.bottom??n.default,dr.bottom),this._updateOutMode(e,t,n.left??n.default,dr.left),this._updateOutMode(e,t,n.right??n.default,dr.right),this._updateOutMode(e,t,n.top??n.default,dr.top)}}async function vCe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("outModes",t=>Promise.resolve(new pCe(t)),e)}var B0;(function(r){r[r.r=1]="r",r[r.g=2]="g",r[r.b=3]="b",r[r.a=5]="a"})(B0||(B0={}));class gCe{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,n=t.rgb??e.value;if(n.r!==void 0)return n}handleRangeColor(e){const t=e.value,n=t.rgb??e.value;if(n.r!==void 0)return{r:Ze(n.r),g:Ze(n.g),b:Ze(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,n=t.exec(e),i=10;return n?{a:n.length>4?pre(n[B0.a]):1,b:parseInt(n[B0.b],i),g:parseInt(n[B0.g],i),r:parseInt(n[B0.r],i)}:void 0}}async function mCe(r,e=!0){r.checkVersion("3.8.1"),await r.addColorManager(new gCe,e)}const Kd=0;class yCe{init(e){const t=e.container,n=e.options.size,i=n.animation;i.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/aa*t.retina.reduceFactor,i.sync||(e.size.velocity*=qt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Kd)<=Kd||(e.size.maxLoops??Kd)>Kd&&(e.size.loops??Kd)<(e.size.maxLoops??Kd))}reset(e){e.size.loops=Kd}update(e,t){this.isEnabled(e)&&pD(e,e.size,!0,e.options.size.animation.destroy,t)}}async function _Ce(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("size",()=>Promise.resolve(new yCe),e)}async function xCe(r,e=!0){r.checkVersion("3.8.1"),await rCe(r,!1),await iCe(r,!1),await mCe(r,!1),await zEe(r,!1),await YEe(r,!1),await KEe(r,!1),await sCe(r,!1),await vCe(r,!1),await _Ce(r,!1),await r.refresh(e)}async function wCe(r,e=!0){r.checkVersion("3.8.1"),await r.addEasing(av.easeInQuad,t=>t**2,!1),await r.addEasing(av.easeOutQuad,t=>1-(1-t)**2,!1),await r.addEasing(av.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await r.refresh(e)}function bCe(r,e){const{context:t,opacity:n}=r,i=.5,a=t.globalAlpha;if(!e)return;const s=e.width,o=s*i;t.globalAlpha=n,t.drawImage(e,-o,-o,s,s),t.globalAlpha=a}const Xk='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',AH=0;class SCe{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const n=this._emojiShapeDict.get(t);n&&bCe(e,n)}async init(e){const t=e.actualOptions,{validTypes:n}=this;if(!n.find(s=>on(s,t.particles.shape.type)))return;const i=[XO(Xk)],a=n.map(s=>t.particles.shape.options[s]).find(s=>!!s);a&&yi(a,s=>{s.font&&i.push(XO(s.font))}),await Promise.all(i)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const i=t.shapeData;if(!i?.value)return;const a=la(i.value,t.randomIndexData);if(!a)return;const s=typeof a=="string"?{font:i.font??Xk,padding:i.padding??AH,value:a}:{font:Xk,padding:AH,...i,...a},o=s.font,l=s.value,u=`${l}_${o}`;if(this._emojiShapeDict.has(u)){t.emojiDataKey=u;return}const c=s.padding*2,f=Iu(t.size.value),h=f+c,p=h*2;let v;if(typeof OffscreenCanvas<"u"){const m=new OffscreenCanvas(p,p),y=m.getContext("2d");if(!y)return;y.font=`400 ${f*2}px ${o}`,y.textBaseline="middle",y.textAlign="center",y.fillText(l,h,h),v=m.transferToImageBitmap()}else{const m=document.createElement("canvas");m.width=p,m.height=p;const y=m.getContext("2d");if(!y)return;y.font=`400 ${f*2}px ${o}`,y.textBaseline="middle",y.textAlign="center",y.fillText(l,h,h),v=m}this._emojiShapeDict.set(u,v),t.emojiDataKey=u}}async function TCe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new SCe,e)}const ACe=1,ECe=1,Vre=0;function zre(r,e,t,n,i,a){const s=e.actualOptions.interactivity.modes.attract;if(!s)return;const o=e.particles.quadTree.query(i,a);for(const l of o){const{dx:u,dy:c,distance:f}=Ma(l.position,t),h=s.speed*s.factor,p=qo(r.getEasing(s.easing)(ECe-f/n)*h,ACe,s.maxSpeed),v=nn.create(f?u/f*p:h,f?c/f*p:h);l.position.subFrom(v)}}function CCe(r,e,t){e.attract||(e.attract={particles:[]});const{attract:n}=e;if(n.finish||(n.count||(n.count=0),n.count++,n.count===e.particles.count&&(n.finish=!0)),n.clicking){const i=e.interactivity.mouse.clickPosition,a=e.retina.attractModeDistance;if(!a||a<Vre||!i)return;zre(r,e,i,a,new ks(i.x,i.y,a),s=>t(s))}else n.clicking===!1&&(n.particles=[])}function DCe(r,e,t){const n=e.interactivity.mouse.position,i=e.retina.attractModeDistance;!i||i<Vre||!n||zre(r,e,n,i,new ks(n.x,n.y,i),a=>t(a))}class ICe{constructor(){this.distance=200,this.duration=.4,this.easing=av.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){je(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const z1="attract";let RCe=class extends Yl{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=n=>{const i=this.container.actualOptions,a=i.interactivity.modes.attract;if(!(!a||n!==z1)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const s of t.attract.particles)this.isEnabled(s)&&s.velocity.setTo(s.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*Sn)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===Av,i=t.interactivity.events,{enable:a,mode:s}=i.onHover,{enable:o,mode:l}=i.onClick;n&&a&&on(z1,s)?DCe(this._engine,this.container,u=>this.isEnabled(u)):o&&on(z1,l)&&CCe(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events;if((!i.position||!a.onHover.enable)&&(!i.clickPosition||!a.onClick.enable))return!1;const s=a.onHover.mode,o=a.onClick.mode;return on(z1,s)||on(z1,o)}loadModeOptions(e,...t){e.attract||(e.attract=new ICe);for(const n of t)e.attract.load(n?.attract)}reset(){}};async function kCe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalAttract",t=>Promise.resolve(new RCe(r,t)),e)}const MCe=2,nA=.5,PCe=Math.PI*nA,EH=2,Ure=10,LCe=0;function Hre(r,e,t,n,i){const a=r.particles.quadTree.query(n,i);for(const s of a)n instanceof ks?yre(KO(s),{position:e,mass:t**MCe*PCe,velocity:nn.origin,factor:nn.origin}):n instanceof Hl&&e2e(s,ab(e,t))}function OCe(r,e,t,n){const i=document.querySelectorAll(e);i.length&&i.forEach(a=>{const s=a,o=r.retina.pixelRatio,l={x:(s.offsetLeft+s.offsetWidth*nA)*o,y:(s.offsetTop+s.offsetHeight*nA)*o},u=s.offsetWidth*nA*o,c=Ure*o,f=t.type===km.circle?new ks(l.x,l.y,u+c):new Hl(s.offsetLeft*o-c,s.offsetTop*o-c,s.offsetWidth*o+c*EH,s.offsetHeight*o+c*EH);n(l,u,f)})}function NCe(r,e,t,n){IF(t,e,(i,a)=>OCe(r,i,a,(s,o,l)=>Hre(r,s,o,l,n)))}function FCe(r,e){const t=r.retina.pixelRatio,n=Ure*t,i=r.interactivity.mouse.position,a=r.retina.bounceModeDistance;!a||a<LCe||!i||Hre(r,i,a,new ks(i.x,i.y,a+n),e)}class BCe{constructor(){this.distance=200}load(e){je(e)||e.distance!==void 0&&(this.distance=e.distance)}}const ST="bounce";class VCe extends Yl{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=t.interactivity.events,i=e.interactivity.status===Av,a=n.onHover.enable,s=n.onHover.mode,o=n.onDiv;i&&a&&on(ST,s)?FCe(this.container,l=>this.isEnabled(l)):NCe(this.container,o,ST,l=>this.isEnabled(l))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events,s=a.onDiv;return!!i.position&&a.onHover.enable&&on(ST,a.onHover.mode)||DF(ST,s)}loadModeOptions(e,...t){e.bounce||(e.bounce=new BCe);for(const n of t)e.bounce.load(n?.bounce)}reset(){}}async function zCe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalBounce",t=>Promise.resolve(new VCe(t)),e)}class Gre{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!je(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=ka(this.color)?void 0:this.color;this.color=yi(e.color,n=>ei.create(t,n))}e.size!==void 0&&(this.size=e.size)}}}class UCe extends Gre{constructor(){super(),this.selectors=[]}load(e){super.load(e),!je(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class HCe extends Gre{load(e){super.load(e),!je(e)&&(this.divs=yi(e.divs,t=>{const n=new UCe;return n.load(t),n}))}}var bu;(function(r){r.color="color",r.opacity="opacity",r.size="size"})(bu||(bu={}));function CH(r,e,t,n){if(e>=t){const i=r+(e-t)*n;return qo(i,r,e)}else if(e<t){const i=r-(t-e)*n;return qo(i,e,r)}}const Zd="bubble",Kk=0,GCe=0,jCe=2,DH=1,IH=1,WCe=0,$Ce=0,Zk=.5,Qk=1;class qCe extends Yl{constructor(e,t){super(e),this._clickBubble=()=>{const n=this.container,i=n.actualOptions,a=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!a)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<Kk)return;const l=n.particles.quadTree.queryCircle(a,o,c=>this.isEnabled(c)),{bubble:u}=n;for(const c of l){if(!u.clicking)continue;c.bubble.inRange=!u.durationEnd;const f=c.getPosition(),h=ss(f,a),p=(new Date().getTime()-(n.interactivity.mouse.clickTime??GCe))/Sn;p>s.duration&&(u.durationEnd=!0),p>s.duration*jCe&&(u.clicking=!1,u.durationEnd=!1);const v={bubbleObj:{optValue:n.retina.bubbleModeSize,value:c.bubble.radius},particlesObj:{optValue:Iu(c.options.size.value)*n.retina.pixelRatio,value:c.size.value},type:bu.size};this._process(c,h,p,v);const m={bubbleObj:{optValue:s.opacity,value:c.bubble.opacity},particlesObj:{optValue:Iu(c.options.opacity.value),value:c.opacity?.value??DH},type:bu.opacity};this._process(c,h,p,m),!u.durationEnd&&h<=o?this._hoverBubbleColor(c,h):delete c.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,a=n.retina.bubbleModeDistance;if(!a||a<Kk||!i)return;const s=n.particles.quadTree.queryCircle(i,a,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const l=o.getPosition(),u=ss(l,i),c=IH-u/a;u<=a?c>=$Ce&&n.interactivity.status===Av&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===GO&&this.reset(o)}},this._hoverBubbleColor=(n,i,a)=>{const s=this.container.actualOptions,o=a??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const l=o.color;if(!l)return;const u=la(l);n.bubble.finalColor=Zh(this._engine,u)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const l=n.getFillColor();n.bubble.color=l?Tre(RF(l,n.bubble.finalColor,IH-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,a)=>{const s=this.container,o=s.actualOptions,l=a?.opacity??o.interactivity.modes.bubble?.opacity;if(!l)return;const u=n.options.opacity.value,c=n.opacity?.value??DH,f=CH(c,l,Iu(u),i);f!==void 0&&(n.bubble.opacity=f)},this._hoverBubbleSize=(n,i,a)=>{const s=this.container,o=a?.size?a.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const l=Iu(n.options.size.value)*s.retina.pixelRatio,u=n.size.value,c=CH(u,o,l,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,a,s)=>{const o=this.container,l=s.bubbleObj.optValue,u=o.actualOptions,c=u.interactivity.modes.bubble;if(!c||l===void 0)return;const f=c.duration,h=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,v=s.bubbleObj.value,m=s.particlesObj.value??WCe,y=s.type;if(!(!h||h<Kk||l===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)v&&(y===bu.size&&delete n.bubble.radius,y===bu.opacity&&delete n.bubble.opacity);else if(i<=h){if((v??m)!==l){const w=m-a*(m-l)/f;y===bu.size&&(n.bubble.radius=w),y===bu.opacity&&(n.bubble.opacity=w)}}else y===bu.size&&delete n.bubble.radius,y===bu.opacity&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,a)=>{const s=this.container,o=document.querySelectorAll(i),l=s.actualOptions.interactivity.modes.bubble;!l||!o.length||o.forEach(u=>{const c=u,f=s.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*Zk)*f,y:(c.offsetTop+c.offsetHeight*Zk)*f},p=c.offsetWidth*Zk*f,v=a.type===km.circle?new ks(h.x,h.y,p):new Hl(c.offsetLeft*f,c.offsetTop*f,c.offsetWidth*f,c.offsetHeight*f),m=s.particles.quadTree.query(v,y=>this.isEnabled(y));for(const y of m){if(!v.contains(y.getPosition()))continue;y.bubble.inRange=!0;const x=l.divs,w=mre(x,c);(!y.bubble.div||y.bubble.div!==c)&&(this.clear(y,n,!0),y.bubble.div=c),this._hoverBubbleSize(y,Qk,w),this._hoverBubbleOpacity(y,Qk,w),this._hoverBubbleColor(y,Qk,w)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=n=>{n===Zd&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,n){e.bubble.inRange&&!n||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,n=t.interactivity.events,i=n.onHover,a=n.onClick,s=i.enable,o=i.mode,l=a.enable,u=a.mode,c=n.onDiv;s&&on(Zd,o)?this._hoverBubble():l&&on(Zd,u)?this._clickBubble():IF(Zd,c,(f,h)=>this._singleSelectorHover(e,f,h))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events,{onClick:s,onDiv:o,onHover:l}=a,u=DF(Zd,o);return u||l.enable&&i.position||s.enable&&i.clickPosition?on(Zd,l.mode)||on(Zd,s.mode)||u:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new HCe);for(const n of t)e.bubble.load(n?.bubble)}reset(e){e.bubble.inRange=!1}}async function YCe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalBubble",t=>Promise.resolve(new qCe(t,r)),e)}class XCe{constructor(){this.opacity=.5}load(e){je(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class KCe{constructor(){this.distance=80,this.links=new XCe,this.radius=60}load(e){je(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const RH=0,kH=1,ZCe=0;function QCe(r,e,t,n){const i=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),s=t.getFillColor();if(!a||!s)return;const o=e.getPosition(),l=t.getPosition(),u=RF(a,s,e.getRadius(),t.getRadius()),c=r.createLinearGradient(o.x,o.y,l.x,l.y);return c.addColorStop(RH,Rm(a,n)),c.addColorStop(qo(i,RH,kH),zu(u,n)),c.addColorStop(kH,Rm(s,n)),c}function JCe(r,e,t,n,i){nx(r,n,i),r.lineWidth=e,r.strokeStyle=t,r.stroke()}function eDe(r,e,t,n){const i=r.actualOptions,a=i.interactivity.modes.connect;if(a)return QCe(e,t,n,a.links.opacity)}function tDe(r,e,t){r.canvas.draw(n=>{const i=eDe(r,n,e,t);if(!i)return;const a=e.getPosition(),s=t.getPosition();JCe(n,e.retina.linksWidth??ZCe,i,a,s)})}const rDe="connect",MH=0;class nDe extends Yl{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const n=e.interactivity.mouse.position,{connectModeDistance:i,connectModeRadius:a}=e.retina;if(!i||i<MH||!a||a<MH||!n)return;const s=Math.abs(a),o=e.particles.quadTree.queryCircle(n,s,l=>this.isEnabled(l));o.forEach((l,u)=>{const c=l.getPosition(),f=1;for(const h of o.slice(u+f)){const p=h.getPosition(),v=Math.abs(i),m=Math.abs(c.x-p.x),y=Math.abs(c.y-p.y);m<v&&y<v&&tDe(e,l,h)}})}}isEnabled(e){const t=this.container,n=t.interactivity.mouse,i=(e?.interactivity??t.actualOptions.interactivity).events;return i.onHover.enable&&n.position?on(rDe,i.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new KCe);for(const n of t)e.connect.load(n?.connect)}reset(){}}async function iDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalConnect",t=>Promise.resolve(new nDe(t)),e)}class aDe{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){je(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class sDe{constructor(){this.distance=100,this.links=new aDe}load(e){je(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const oDe=0;function lDe(r,e,t,n,i,a){nx(r,t,n),r.strokeStyle=zu(i,a),r.lineWidth=e,r.stroke()}function uDe(r,e,t,n,i){r.canvas.draw(a=>{const s=e.getPosition();lDe(a,e.retina.linksWidth??oDe,s,i,t,n)})}const cDe="grab",fDe=0,hDe=0;class dDe extends Yl{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=t.interactivity;if(!n.modes.grab||!n.events.onHover.enable||e.interactivity.status!==Av)return;const i=e.interactivity.mouse.position;if(!i)return;const a=e.retina.grabModeDistance;if(!a||a<fDe)return;const s=e.particles.quadTree.queryCircle(i,a,o=>this.isEnabled(o));for(const o of s){const l=o.getPosition(),u=ss(l,i);if(u>a)continue;const c=n.modes.grab.links,f=c.opacity,h=f-u*f/a;if(h<=hDe)continue;const p=c.color??o.options.links?.color;if(!e.particles.grabLineColor&&p){const m=n.modes.grab.links;e.particles.grabLineColor=Ere(this._engine,p,m.blink,m.consent)}const v=ZO(o,void 0,e.particles.grabLineColor);v&&uDe(e,o,v,h,i)}}isEnabled(e){const t=this.container,n=t.interactivity.mouse,i=(e?.interactivity??t.actualOptions.interactivity).events;return i.onHover.enable&&!!n.position&&on(cDe,i.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new sDe);for(const n of t)e.grab.load(n?.grab)}reset(){}}async function pDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalGrab",t=>Promise.resolve(new dDe(t,r)),e)}const vDe="pause";class gDe extends Yl{constructor(e){super(e),this.handleClickMode=t=>{if(t!==vDe)return;const n=this.container;n.animationStatus?n.pause():n.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function mDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalPause",t=>Promise.resolve(new gDe(t)),e)}class yDe{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(je(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(n=>n)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=St(t))}}const _De="push",xDe=0;class wDe extends Yl{constructor(e){super(e),this.handleClickMode=t=>{if(t!==_De)return;const n=this.container,i=n.actualOptions,a=i.interactivity.modes.push;if(!a)return;const s=Ze(a.quantity);if(s<=xDe)return;const o=nb([void 0,...a.groups]),l=o!==void 0?n.actualOptions.particles.groups[o]:void 0;n.particles.push(s,n.interactivity.mouse,l,o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new yDe);for(const n of t)e.push.load(n?.push)}reset(){}}async function bDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalPush",t=>Promise.resolve(new wDe(t)),e)}class SDe{constructor(){this.quantity=2}load(e){if(je(e))return;const t=e.quantity;t!==void 0&&(this.quantity=St(t))}}const TDe="remove";class ADe extends Yl{constructor(e){super(e),this.handleClickMode=t=>{const n=this.container,i=n.actualOptions;if(!i.interactivity.modes.remove||t!==TDe)return;const a=Ze(i.interactivity.modes.remove.quantity);n.particles.removeQuantity(a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new SDe);for(const n of t)e.remove.load(n?.remove)}reset(){}}async function EDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalRemove",t=>Promise.resolve(new ADe(t)),e)}class jre{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=av.easeOutQuad}load(e){je(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class CDe extends jre{constructor(){super(),this.selectors=[]}load(e){super.load(e),!je(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class DDe extends jre{load(e){super.load(e),!je(e)&&(this.divs=yi(e.divs,t=>{const n=new CDe;return n.load(t),n}))}}const Qd="repulse",IDe=0,RDe=6,kDe=3,MDe=2,PDe=0,LDe=0,ODe=1,Jk=.5;class NDe extends Yl{constructor(e,t){super(t),this._clickRepulse=()=>{const n=this.container,i=n.actualOptions.interactivity.modes.repulse;if(!i)return;const a=n.repulse??{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===n.particles.count&&(a.finish=!0)),a.clicking){const s=n.retina.repulseModeDistance;if(!s||s<IDe)return;const o=Math.pow(s/RDe,kDe),l=n.interactivity.mouse.clickPosition;if(l===void 0)return;const u=new ks(l.x,l.y,o),c=n.particles.quadTree.query(u,f=>this.isEnabled(f));for(const f of c){const{dx:h,dy:p,distance:v}=Ma(l,f.position),m=v**MDe,y=i.speed,x=-o*y/m;if(m<=o){a.particles.push(f);const w=nn.create(h,p);w.length=x,f.velocity.setTo(w)}}}else if(a.clicking===!1){for(const s of a.particles)s.velocity.setTo(s.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const n=this.container,i=n.interactivity.mouse.position,a=n.retina.repulseModeDistance;!a||a<PDe||!i||this._processRepulse(i,a,new ks(i.x,i.y,a))},this._processRepulse=(n,i,a,s)=>{const o=this.container,l=o.particles.quadTree.query(a,y=>this.isEnabled(y)),u=o.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:c,speed:f,factor:h,maxSpeed:p}=u,v=this._engine.getEasing(c),m=(s?.speed??f)*h;for(const y of l){const{dx:x,dy:w,distance:b}=Ma(y.position,n),T=qo(v(ODe-b/i)*m,LDe,p),C=nn.create(b?x/b*T:m,b?w/b*T:m);y.position.addTo(C)}},this._singleSelectorRepulse=(n,i)=>{const a=this.container,s=a.actualOptions.interactivity.modes.repulse;if(!s)return;const o=document.querySelectorAll(n);o.length&&o.forEach(l=>{const u=l,c=a.retina.pixelRatio,f={x:(u.offsetLeft+u.offsetWidth*Jk)*c,y:(u.offsetTop+u.offsetHeight*Jk)*c},h=u.offsetWidth*Jk*c,p=i.type===km.circle?new ks(f.x,f.y,h):new Hl(u.offsetLeft*c,u.offsetTop*c,u.offsetWidth*c,u.offsetHeight*c),v=s.divs,m=mre(v,u);this._processRepulse(f,h,p,m)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=n=>{const i=this.container.actualOptions,a=i.interactivity.modes.repulse;if(!a||n!==Qd)return;t.repulse||(t.repulse={particles:[]});const s=t.repulse;s.clicking=!0,s.count=0;for(const o of t.repulse.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);s.particles=[],s.finish=!1,setTimeout(()=>{t.destroyed||(s.clicking=!1)},a.duration*Sn)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===Av,i=t.interactivity.events,a=i.onHover,s=a.enable,o=a.mode,l=i.onClick,u=l.enable,c=l.mode,f=i.onDiv;n&&s&&on(Qd,o)?this._hoverRepulse():u&&on(Qd,c)?this._clickRepulse():IF(Qd,f,(h,p)=>this._singleSelectorRepulse(h,p))}isEnabled(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse,a=(e?.interactivity??n.interactivity).events,s=a.onDiv,o=a.onHover,l=a.onClick,u=DF(Qd,s);if(!(u||o.enable&&i.position||l.enable&&i.clickPosition))return!1;const c=o.mode,f=l.mode;return on(Qd,c)||on(Qd,f)||u}loadModeOptions(e,...t){e.repulse||(e.repulse=new DDe);for(const n of t)e.repulse.load(n?.repulse)}reset(){}}async function FDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalRepulse",t=>Promise.resolve(new NDe(r,t)),e)}class BDe{constructor(){this.factor=3,this.radius=200}load(e){je(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const VDe="slow",zDe=0;class UDe extends Yl{constructor(e){super(e)}clear(e,t,n){e.slow.inRange&&!n||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,n=t.interactivity.mouse,i=(e?.interactivity??t.actualOptions.interactivity).events;return i.onHover.enable&&!!n.position&&on(VDe,i.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new BDe);for(const n of t)e.slow.load(n?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,n=t.actualOptions,i=t.interactivity.mouse.position,a=t.retina.slowModeRadius,s=n.interactivity.modes.slow;if(!s||!a||a<zDe||!i)return;const o=e.getPosition(),l=ss(i,o),u=l/a,c=s.factor,{slow:f}=e;l>a||(f.inRange=!0,f.factor=u/c)}}async function HDe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("externalSlow",t=>Promise.resolve(new UDe(t)),e)}const GDe=0,jDe=1,WDe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function $De(r,e,t){const{svgData:n}=r;if(!n)return"";const i=Rm(e,t);if(n.includes("fill"))return n.replace(WDe,()=>i);const a=n.indexOf(">");return`${n.substring(GDe,a)} fill="${i}"${n.substring(a)}`}async function vD(r){return new Promise(e=>{r.loading=!0;const t=new Image;r.element=t,t.addEventListener("load",()=>{r.loading=!1,e()}),t.addEventListener("error",()=>{r.element=void 0,r.error=!0,r.loading=!1,Ev().error(`${$o} loading image: ${r.source}`),e()}),t.src=r.source})}async function qDe(r){if(r.type!=="svg"){await vD(r);return}r.loading=!0;const e=await fetch(r.source);e.ok?r.svgData=await e.text():(Ev().error(`${$o} Image not found`),r.error=!0),r.loading=!1}function YDe(r,e,t,n){const i=$De(r,t,n.opacity?.value??jDe),a={color:t,gif:e.gif,data:{...r,svgData:i},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(s=>{const o=new Blob([i],{type:"image/svg+xml"}),l=URL||window.URL||window.webkitURL||window,u=l.createObjectURL(o),c=new Image;c.addEventListener("load",()=>{a.loaded=!0,a.element=c,s(a),l.revokeObjectURL(u)});const f=async()=>{l.revokeObjectURL(u);const h={...r,error:!1,loading:!0};await vD(h),a.loaded=!0,a.element=h.element,s(a)};c.addEventListener("error",()=>void f()),c.src=u})}const eM=[0,4,2,1],PH=[8,8,4,2];class XDe{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((n,i)=>n+String.fromCharCode(i),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const n=0,i=0;do{t=this.data[this.pos++];for(let a=t;--a>=n;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==i);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const n=0,i=1;for(let s=0;e!==n;s+=e+i,e=this.data[this.pos+s])t+=e;const a=new Uint8Array(t);e=this.data[this.pos++];for(let s=0;e!==n;e=this.data[this.pos++])for(let o=e;--o>=n;a[s++]=this.data[this.pos++]);return a}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var bl;(function(r){r[r.Replace=0]="Replace",r[r.Combine=1]="Combine",r[r.RestoreBackground=2]="RestoreBackground",r[r.RestorePrevious=3]="RestorePrevious",r[r.UndefinedA=4]="UndefinedA",r[r.UndefinedB=5]="UndefinedB",r[r.UndefinedC=6]="UndefinedC",r[r.UndefinedD=7]="UndefinedD"})(bl||(bl={}));var Bc;(function(r){r[r.Extension=33]="Extension",r[r.ApplicationExtension=255]="ApplicationExtension",r[r.GraphicsControlExtension=249]="GraphicsControlExtension",r[r.PlainTextExtension=1]="PlainTextExtension",r[r.CommentExtension=254]="CommentExtension",r[r.Image=44]="Image",r[r.EndOfFile=59]="EndOfFile"})(Bc||(Bc={}));const xs={x:0,y:0},KDe=0,LH=.5,ZDe=0,OH=0,eN=0;function Wre(r,e){const t=[];for(let n=0;n<e;n++)t.push({r:r.data[r.pos],g:r.data[r.pos+1],b:r.data[r.pos+2]}),r.pos+=3;return t}function QDe(r,e,t,n){switch(r.nextByte()){case Bc.GraphicsControlExtension:{const i=e.frames[t(!1)];r.pos++;const a=r.nextByte();i.GCreserved=(a&224)>>>5,i.disposalMethod=(a&28)>>>2,i.userInputDelayFlag=(a&2)===2;const s=(a&1)===1;i.delayTime=r.nextTwoBytes()*10;const o=r.nextByte();s&&n(o),r.pos++;break}case Bc.ApplicationExtension:{r.pos++;const i={identifier:r.getString(8),authenticationCode:r.getString(3),data:r.readSubBlocksBin()};e.applicationExtensions.push(i);break}case Bc.CommentExtension:{e.comments.push([t(!1),r.readSubBlocks()]);break}case Bc.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");r.pos++,e.frames[t(!1)].plainTextData={left:r.nextTwoBytes(),top:r.nextTwoBytes(),width:r.nextTwoBytes(),height:r.nextTwoBytes(),charSize:{width:r.nextTwoBytes(),height:r.nextTwoBytes()},foregroundColor:r.nextByte(),backgroundColor:r.nextByte(),text:r.readSubBlocks()};break}default:r.skipSubBlocks();break}}async function JDe(r,e,t,n,i,a){const s=e.frames[n(!0)];s.left=r.nextTwoBytes(),s.top=r.nextTwoBytes(),s.width=r.nextTwoBytes(),s.height=r.nextTwoBytes();const o=r.nextByte(),l=(o&128)===128,u=(o&64)===64;s.sortFlag=(o&32)===32,s.reserved=(o&24)>>>3;const c=1<<(o&7)+1;l&&(s.localColorTable=Wre(r,c));const f=x=>{const{r:w,g:b,b:T}=(l?s.localColorTable:e.globalColorTable)[x];return x!==i(null)?{r:w,g:b,b:T,a:255}:{r:w,g:b,b:T,a:t?~~((w+b+T)/3):0}},h=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(h==null)throw new EvalError("GIF frame size is to large");const p=r.nextByte(),v=r.readSubBlocksBin(),m=1<<p,y=(x,w)=>{const b=x>>>3,T=x&7;return(v[b]+(v[b+1]<<8)+(v[b+2]<<16)&(1<<w)-1<<T)>>>T};if(u){for(let x=0,w=p+1,b=0,T=[[0]],C=0;C<4;C++)if(eM[C]<s.height){let D=0,A=0,k=!1;for(;!k;){const I=x;if(x=y(b,w),b+=w+1,x===m){w=p+1,T.length=m+2;for(let M=0;M<T.length;M++)T[M]=M<m?[M]:[]}else{x>=T.length?T.push(T[I].concat(T[I][0])):I!==m&&T.push(T[I].concat(T[x][0]));for(const M of T[x]){const{r:P,g:O,b:N,a:G}=f(M);h.data.set([P,O,N,G],eM[C]*s.width+PH[C]*A+D%(s.width*4)),D+=4}T.length===1<<w&&w<12&&w++}D===s.width*4*(A+1)&&(A++,eM[C]+PH[C]*A>=s.height&&(k=!0))}}s.image=h,s.bitmap=await createImageBitmap(h)}else{let x=0,w=p+1,b=0,T=-4,C=!1;const D=[[0]];for(;!C;){const A=x;if(x=y(b,w),b+=w,x===m){w=p+1,D.length=m+2;for(let k=0;k<D.length;k++)D[k]=k<m?[k]:[]}else{if(x===m+1){C=!0;break}x>=D.length?D.push(D[A].concat(D[A][0])):A!==m&&D.push(D[A].concat(D[x][0]));for(const k of D[x]){const{r:I,g:M,b:P,a:O}=f(k);h.data.set([I,M,P,O],T+=4)}D.length>=1<<w&&w<12&&w++}}s.image=h,s.bitmap=await createImageBitmap(h)}}async function eIe(r,e,t,n,i,a){switch(r.nextByte()){case Bc.EndOfFile:return!0;case Bc.Image:await JDe(r,e,t,n,i);break;case Bc.Extension:QDe(r,e,n,i);break;default:throw new EvalError("undefined block found")}return!1}function tIe(r){for(const e of r.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function rIe(r,e,t){t||(t=!1);const n=await fetch(r);if(!n.ok&&n.status===404)throw new EvalError("file not found");const i=await n.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},s=new XDe(new Uint8ClampedArray(i));if(s.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=s.nextTwoBytes(),a.height=s.nextTwoBytes();const o=s.nextByte(),l=(o&128)===128;a.colorRes=(o&112)>>>4,a.sortFlag=(o&8)===8;const u=1<<(o&7)+1,c=s.nextByte();a.pixelAspectRatio=s.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),l&&(a.globalColorTable=Wre(s,u));const f=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(T){if(T instanceof DOMException&&T.name==="IndexSizeError")return null;throw T}})();if(f==null)throw new Error("GIF frame size is to large");const{r:h,g:p,b:v}=a.globalColorTable[c];f.data.set(l?[h,p,v,255]:[0,0,0,0]);for(let T=4;T<f.data.length;T*=2)f.data.copyWithin(T,0,T);a.backgroundImage=f;let m=-1,y=!0,x=-1;const w=T=>(T&&(y=!0),m),b=T=>(T!=null&&(x=T),x);try{do y&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:bl.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),m++,x=-1,y=!1);while(!await eIe(s,a,t,w,b,e));a.frames.length--;for(const T of a.frames){if(T.userInputDelayFlag&&T.delayTime===0){a.totalTime=1/0;break}a.totalTime+=T.delayTime}return a}catch(T){throw T instanceof EvalError?new Error(`error while parsing frame ${m} "${T.message}"`):T}}function nIe(r){const{context:e,radius:t,particle:n,delta:i}=r,a=n.image;if(!a?.gifData||!a.gif)return;const s=new OffscreenCanvas(a.gifData.width,a.gifData.height),o=s.getContext("2d");if(!o)throw new Error("could not create offscreen canvas context");o.imageSmoothingQuality="low",o.imageSmoothingEnabled=!1,o.clearRect(xs.x,xs.y,s.width,s.height),n.gifLoopCount===void 0&&(n.gifLoopCount=a.gifLoopCount??eN);let l=n.gifFrame??KDe;const u={x:-a.gifData.width*LH,y:-a.gifData.height*LH},c=a.gifData.frames[l];if(n.gifTime===void 0&&(n.gifTime=ZDe),!!c.bitmap){switch(e.scale(t/a.gifData.width,t/a.gifData.height),c.disposalMethod){case bl.UndefinedA:case bl.UndefinedB:case bl.UndefinedC:case bl.UndefinedD:case bl.Replace:o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y),o.clearRect(xs.x,xs.y,s.width,s.height);break;case bl.Combine:o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y);break;case bl.RestoreBackground:o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y),o.clearRect(xs.x,xs.y,s.width,s.height),a.gifData.globalColorTable.length?o.putImageData(a.gifData.backgroundImage,u.x,u.y):o.putImageData(a.gifData.frames[OH].image,u.x+c.left,u.y+c.top);break;case bl.RestorePrevious:{const f=o.getImageData(xs.x,xs.y,s.width,s.height);o.drawImage(c.bitmap,c.left,c.top),e.drawImage(s,u.x,u.y),o.clearRect(xs.x,xs.y,s.width,s.height),o.putImageData(f,xs.x,xs.y)}break}if(n.gifTime+=i.value,n.gifTime>c.delayTime){if(n.gifTime-=c.delayTime,++l>=a.gifData.frames.length){if(--n.gifLoopCount<=eN)return;l=OH,o.clearRect(xs.x,xs.y,s.width,s.height)}n.gifFrame=l}e.scale(a.gifData.width/t,a.gifData.height/t)}}async function iIe(r){if(r.type!=="gif"){await vD(r);return}r.loading=!0;try{r.gifData=await rIe(r.source),r.gifLoopCount=tIe(r.gifData)??eN,r.gifLoopCount||(r.gifLoopCount=1/0)}catch{r.error=!0}r.loading=!1}const aIe=2,sIe=1,oIe=12,lIe=1;class uIe{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${$o} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:n,particle:i,opacity:a}=e,s=i.image,o=s?.element;if(s){if(t.globalAlpha=a,s.gif&&s.gifData)nIe(e);else if(o){const l=s.ratio,u={x:-n,y:-n},c=n*aIe;t.drawImage(o,u.x,u.y,c,c/l)}t.globalAlpha=sIe}}getSidesCount(){return oIe}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const n of t.preload)await this._engine.loadImage(n)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(i=>i.name===t.name||i.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=this._engine.images,i=t.shapeData;if(!i)return;const a=t.getFillColor(),s=n.find(l=>l.name===i.name||l.source===i.src);if(!s)return;const o=i.replaceColor??s.replaceColor;if(s.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let l;s.svgData&&a?l=await YDe(s,i,a,t):l={color:a,data:s,element:s.element,gif:s.gif,gifData:s.gifData,gifLoopCount:s.gifLoopCount,loaded:!0,ratio:i.width&&i.height?i.width/i.height:s.ratio??lIe,replaceColor:o,source:i.src},l.ratio||(l.ratio=1);const u=i.fill??t.shapeFill,c=i.close??t.shapeClose,f={image:l,fill:u,close:c};t.image=f.image,t.shapeFill=f.fill,t.shapeClose=f.close})()}}class cIe{constructor(){this.src="",this.gif=!1}load(e){je(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class fIe{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);const n=e.preload;for(const i of t.preload){const a=n.find(s=>s.name===i.name||s.src===i.src);if(a)a.load(i);else{const s=new cIe;s.load(i),n.push(s)}}}needsPlugin(){return!0}}const hIe=3;function dIe(r){r.loadImage||(r.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${$o} no image source provided`);if(r.images||(r.images=[]),!r.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-hIe),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};r.images.push(t);let n;e.gif?n=iIe:n=e.replaceColor?qDe:vD,await n(t)}catch{throw new Error(`${$o} ${e.name??e.src} not found`)}})}async function pIe(r,e=!0){r.checkVersion("3.8.1"),dIe(r);const t=new fIe(r);await r.addPlugin(t,e),await r.addShape(new uIe(r),e)}class vIe extends ql{constructor(){super(),this.sync=!1}load(e){je(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class gIe extends ql{constructor(){super(),this.sync=!1}load(e){je(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class mIe{constructor(){this.count=0,this.delay=new vIe,this.duration=new gIe}load(e){je(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Zg=0,yIe=-1,NH=0,FH=0;function _Ie(r,e,t){if(!r.life)return;const n=r.life;let i=!1;if(r.spawning)if(n.delayTime+=e.value,n.delayTime>=r.life.delay)i=!0,r.spawning=!1,n.delayTime=Zg,n.time=Zg;else return;if(n.duration===yIe||r.spawning||(i?n.time=Zg:n.time+=e.value,n.time<n.duration))return;if(n.time=Zg,r.life.count>NH&&r.life.count--,r.life.count===NH){r.destroy();return}const a=St(FH,t.width),s=St(FH,t.width);r.position.x=oa(a),r.position.y=oa(s),r.spawning=!0,n.delayTime=Zg,n.time=Zg,r.reset();const o=r.options.life;o&&(n.delay=Ze(o.delay.value)*Sn,n.duration=Ze(o.duration.value)*Sn)}const Jd=0,BH=1,VH=-1;class xIe{constructor(e){this.container=e}init(e){const t=this.container,n=e.options,i=n.life;i&&(e.life={delay:t.retina.reduceFactor?Ze(i.delay.value)*(i.delay.sync?BH:qt())/t.retina.reduceFactor*Sn:Jd,delayTime:Jd,duration:t.retina.reduceFactor?Ze(i.duration.value)*(i.duration.sync?BH:qt())/t.retina.reduceFactor*Sn:Jd,time:Jd,count:i.count},e.life.duration<=Jd&&(e.life.duration=VH),e.life.count<=Jd&&(e.life.count=VH),e.life&&(e.spawning=e.life.delay>Jd))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new mIe);for(const n of t)e.life.load(n?.life)}update(e,t){!this.isEnabled(e)||!e.life||_Ie(e,t,this.container.canvas.size)}}async function wIe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("life",async t=>Promise.resolve(new xIe(t)),e)}function bIe(r){const{context:e,particle:t,radius:n}=r,i=t.shapeData,a=0;e.moveTo(-n,a),e.lineTo(n,a),e.lineCap=i?.cap??"butt"}const SIe=1;class TIe{constructor(){this.validTypes=["line"]}draw(e){bIe(e)}getSidesCount(){return SIe}}async function AIe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new TIe,e)}const zH=.5;class EIe{init(){}isEnabled(e){return!Cv()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,n=t.actualOptions,i=n.interactivity.events.onHover.parallax;if(Cv()||!i.enable)return;const a=i.force,s=t.interactivity.mouse.position;if(!s)return;const o=t.canvas.size,l={x:o.width*zH,y:o.height*zH},u=i.smooth,c=e.getRadius()/a,f={x:(s.x-l.x)*c,y:(s.y-l.y)*c},{offset:h}=e;h.x+=(f.x-h.x)/u,h.y+=(f.y-h.y)/u}}async function CIe(r,e=!0){r.checkVersion("3.8.1"),await r.addMover("parallax",()=>Promise.resolve(new EIe),e)}const UH=1e3,DIe=1;class IIe extends LF{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=Ze(e.options.move.attract.distance)*t.retina.pixelRatio);const n=e.attractDistance,i=e.getPosition(),a=t.particles.quadTree.queryCircle(i,n);for(const s of a){if(e===s||!s.options.move.attract.enable||s.destroyed||s.spawning)continue;const o=s.getPosition(),{dx:l,dy:u}=Ma(i,o),c=e.options.move.attract.rotate,f=l/(c.x*UH),h=u/(c.y*UH),p=s.size.value/e.size.value,v=DIe/p;e.velocity.x-=f*p,e.velocity.y-=h*p,s.velocity.x+=f*v,s.velocity.y+=h*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function RIe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("particlesAttract",t=>Promise.resolve(new IIe(t)),e)}const kIe=.5,MIe=10,PIe=0;function HH(r,e,t,n,i,a){const s=qo(r.options.collisions.absorb.speed*i.factor/MIe,PIe,n);r.size.value+=s*kIe,t.size.value-=s,n<=a&&(t.size.value=0,t.destroy())}function LIe(r,e,t,n){const i=r.getRadius(),a=e.getRadius();i===void 0&&a!==void 0?r.destroy():i!==void 0&&a===void 0?e.destroy():i!==void 0&&a!==void 0&&(i>=a?HH(r,i,e,a,t,n):HH(e,a,r,i,t,n))}const GH=r=>{r.collisionMaxSpeed===void 0&&(r.collisionMaxSpeed=Ze(r.options.collisions.maxSpeed)),r.velocity.length>r.collisionMaxSpeed&&(r.velocity.length=r.collisionMaxSpeed)};function $re(r,e){yre(KO(r),KO(e)),GH(r),GH(e)}function OIe(r,e){!r.unbreakable&&!e.unbreakable&&$re(r,e),r.getRadius()===void 0&&e.getRadius()!==void 0?r.destroy():r.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():r.getRadius()!==void 0&&e.getRadius()!==void 0&&(r.getRadius()>=e.getRadius()?e:r).destroy()}function NIe(r,e,t,n){switch(r.options.collisions.mode){case nm.absorb:{LIe(r,e,t,n);break}case nm.bounce:{$re(r,e);break}case nm.destroy:{OIe(r,e);break}}}const FIe=2;class BIe extends LF{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const n=this.container,i=e.getPosition(),a=e.getRadius(),s=n.particles.quadTree.queryCircle(i,a*FIe);for(const o of s){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const l=o.getPosition(),u=o.getRadius();if(Math.abs(Math.round(i.z)-Math.round(l.z))>a+u)continue;const c=ss(i,l),f=a+u;c>f||NIe(e,o,t,n.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function VIe(r,e=!0){r.checkVersion("3.8.1"),await r.addInteractor("particlesCollisions",t=>Promise.resolve(new BIe(t)),e)}const tM=2;class zIe extends ks{constructor(e,t,n,i){super(e,t,n),this.canvasSize=i,this.canvasSize={...i}}contains(e){const{width:t,height:n}=this.canvasSize,{x:i,y:a}=e;return super.contains(e)||super.contains({x:i-t,y:a})||super.contains({x:i-t,y:a-n})||super.contains({x:i,y:a-n})}intersects(e){if(super.intersects(e))return!0;const t=e,n=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(n.radius!==void 0){const a=new ks(i.x,i.y,n.radius*tM);return super.intersects(a)}else if(t.size!==void 0){const a=new Hl(i.x,i.y,t.size.width*tM,t.size.height*tM);return super.intersects(a)}return!1}}class UIe{constructor(){this.blur=5,this.color=new ei,this.color.value="#000",this.enable=!1}load(e){je(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=ei.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class HIe{constructor(){this.enable=!1,this.frequency=1}load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class GIe{constructor(){this.blink=!1,this.color=new ei,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new UIe,this.triangles=new HIe,this.width=1,this.warp=!1}load(e){je(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ei.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const jH=2,jIe=1,TT={x:0,y:0},WIe=0;function $Ie(r,e,t,n,i){const{dx:a,dy:s,distance:o}=Ma(r,e);if(!i||o<=t)return o;const l={x:Math.abs(a),y:Math.abs(s)},u={x:Math.min(l.x,n.width-l.x),y:Math.min(l.y,n.height-l.y)};return Math.sqrt(u.x**jH+u.y**jH)}class qIe extends LF{constructor(e,t){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this._linkContainer,a=n.options.links;let s=a.id===void 0?i.particles.linksColor:i.particles.linksColors.get(a.id);if(s)return;const o=a.color;s=Ere(this._engine,o,a.blink,a.consent),a.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(a.id,s)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),n=this.container,i=n.canvas.size;if(t.x<TT.x||t.y<TT.y||t.x>i.width||t.y>i.height)return;const a=e.options.links,s=a.opacity,o=e.retina.linksDistance??WIe,l=a.warp;let u;l?u=new zIe(t.x,t.y,o,i):u=new ks(t.x,t.y,o);const c=n.particles.quadTree.query(u);for(const f of c){const h=f.options.links;if(e===f||!h?.enable||a.id!==h.id||f.spawning||f.destroyed||!f.links||e.links.some(y=>y.destination===f)||f.links.some(y=>y.destination===e))continue;const p=f.getPosition();if(p.x<TT.x||p.y<TT.y||p.x>i.width||p.y>i.height)continue;const v=$Ie(t,p,o,i,l&&h.warp);if(v>o)continue;const m=(jIe-v/o)*s;this._setColor(e),e.links.push({destination:f,opacity:m})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new GIe);for(const n of t)e.links.load(n?.links)}reset(){}}async function YIe(r,e=!0){await r.addInteractor("particlesLinks",async t=>Promise.resolve(new qIe(t,r)),e)}function XIe(r,e,t,n){r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.lineTo(n.x,n.y),r.closePath()}function KIe(r){let e=!1;const{begin:t,end:n,engine:i,maxDistance:a,context:s,canvasSize:o,width:l,backgroundMask:u,colorLine:c,opacity:f,links:h}=r;if(ss(t,n)<=a)nx(s,t,n),e=!0;else if(h.warp){let v,m;const y={x:n.x-o.width,y:n.y},x=Ma(t,y);if(x.distance<=a){const w=t.y-x.dy/x.dx*t.x;v={x:0,y:w},m={x:o.width,y:w}}else{const w={x:n.x,y:n.y-o.height},b=Ma(t,w);if(b.distance<=a){const C=-(t.y-b.dy/b.dx*t.x)/(b.dy/b.dx);v={x:C,y:0},m={x:C,y:o.height}}else{const T={x:n.x-o.width,y:n.y-o.height},C=Ma(t,T);if(C.distance<=a){const D=t.y-C.dy/C.dx*t.x;v={x:-D/(C.dy/C.dx),y:D},m={x:v.x+o.width,y:v.y+o.height}}}}v&&m&&(nx(s,t,v),nx(s,n,m),e=!0)}if(!e)return;s.lineWidth=l,u.enable&&(s.globalCompositeOperation=u.composite),s.strokeStyle=zu(c,f);const{shadow:p}=h;if(p.enable){const v=Go(i,p.color);v&&(s.shadowBlur=p.blur,s.shadowColor=zu(v))}s.stroke()}function ZIe(r){const{context:e,pos1:t,pos2:n,pos3:i,backgroundMask:a,colorTriangle:s,opacityTriangle:o}=r;XIe(e,t,n,i),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=zu(s,o),e.fill()}function QIe(r){return r.sort((e,t)=>e-t),r.join("_")}function WH(r,e){const t=QIe(r.map(i=>i.id));let n=e.get(t);return n===void 0&&(n=qt(),e.set(t,n)),n}const $H=0,rM=0,qH=0,JIe=.5,eRe=1;class tRe{constructor(e,t){this._drawLinkLine=(n,i)=>{const a=n.options.links;if(!a?.enable)return;const s=this._container,o=s.actualOptions,l=i.destination,u=n.getPosition(),c=l.getPosition();let f=i.opacity;s.canvas.draw(h=>{let p;const v=n.options.twinkle?.lines;if(v?.enable){const w=v.frequency,b=Go(this._engine,v.color);qt()<w&&b&&(p=b,f=Ze(v.opacity))}if(!p){const w=a.id!==void 0?s.particles.linksColors.get(a.id):s.particles.linksColor;p=ZO(n,l,w)}if(!p)return;const m=n.retina.linksWidth??rM,y=n.retina.linksDistance??qH,{backgroundMask:x}=o;KIe({context:h,width:m,begin:u,end:c,engine:this._engine,maxDistance:y,canvasSize:s.canvas.size,links:a,backgroundMask:x,colorLine:p,opacity:f})})},this._drawLinkTriangle=(n,i,a)=>{const s=n.options.links;if(!s?.enable)return;const o=s.triangles;if(!o.enable)return;const l=this._container,u=l.actualOptions,c=i.destination,f=a.destination,h=o.opacity??(i.opacity+a.opacity)*JIe;h<=$H||l.canvas.draw(p=>{const v=n.getPosition(),m=c.getPosition(),y=f.getPosition(),x=n.retina.linksDistance??qH;if(ss(v,m)>x||ss(y,m)>x||ss(y,v)>x)return;let w=Go(this._engine,o.color);if(!w){const b=s.id!==void 0?l.particles.linksColors.get(s.id):l.particles.linksColor;w=ZO(n,c,b)}w&&ZIe({context:p,pos1:v,pos2:m,pos3:y,backgroundMask:u.backgroundMask,colorTriangle:w,opacityTriangle:h})})},this._drawTriangles=(n,i,a,s)=>{const o=a.destination;if(!(n.links?.triangles.enable&&o.options.links?.triangles.enable))return;const l=o.links?.filter(u=>{const c=this._getLinkFrequency(o,u.destination);return o.options.links&&c<=o.options.links.frequency&&s.findIndex(h=>h.destination===u.destination)>=0});if(l?.length)for(const u of l){const c=u.destination;this._getTriangleFrequency(i,o,c)>n.links.triangles.frequency||this._drawLinkTriangle(i,a,u)}},this._getLinkFrequency=(n,i)=>WH([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,a)=>WH([n,i,a],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:n,options:i}=t;if(!n?.length)return;const a=n.filter(s=>i.links&&(i.links.frequency>=eRe||this._getLinkFrequency(t,s.destination)<=i.links.frequency));for(const s of a)this._drawTriangles(i,t,s,a),s.opacity>$H&&(t.retina.linksWidth??rM)>rM&&this._drawLinkLine(t,s)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:n}=e,{distance:i,width:a}=e.options.links;n.linksDistance=i*t,n.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class rRe{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new tRe(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function nRe(r,e=!0){const t=new rRe(r);await r.addPlugin(t,e)}async function iRe(r,e=!0){r.checkVersion("3.8.1"),await YIe(r,e),await nRe(r,e)}const aRe=180,AT={x:0,y:0},sRe=2;function oRe(r,e,t){const{context:n}=r,i=t.count.numerator*t.count.denominator,a=t.count.numerator/t.count.denominator,s=aRe*(a-sRe)/a,o=Math.PI-qc(s);if(n){n.beginPath(),n.translate(e.x,e.y),n.moveTo(AT.x,AT.y);for(let l=0;l<i;l++)n.lineTo(t.length,AT.y),n.translate(t.length,AT.y),n.rotate(o)}}const lRe=5;class qre{draw(e){const{particle:t,radius:n}=e,i=this.getCenter(t,n),a=this.getSidesData(t,n);oRe(e,i,a)}getSidesCount(e){const t=e.shapeData;return Math.round(Ze(t?.sides??lRe))}}const YH=3.5,XH=2.66,uRe=3;class cRe extends qre{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/YH),y:-t/(XH/YH)}}getSidesData(e,t){const n=e.sides;return{count:{denominator:1,numerator:n},length:t*XH/(n/uRe)}}}const fRe=1.66,hRe=3,dRe=2;class pRe extends qre{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/fRe}}getSidesCount(){return hRe}getSidesData(e,t){const n=t*dRe;return{count:{denominator:2,numerator:3},length:n}}}async function vRe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new cRe,e)}async function gRe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new pRe,e)}async function mRe(r,e=!0){r.checkVersion("3.8.1"),await vRe(r,e),await gRe(r,e)}class yRe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=St(e.speed)),e.decay!==void 0&&(this.decay=St(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class _Re extends ql{constructor(){super(),this.animation=new yRe,this.direction=ns.clockwise,this.path=!1,this.value=0}load(e){je(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const Yre=2,xRe=Math.PI*Yre,wRe=1,bRe=360;class SRe{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:qc(Ze(t.value)),min:0,max:xRe},e.pathRotation=t.path;let n=t.direction;switch(n===ns.random&&(n=Math.floor(qt()*Yre)>0?ns.counterClockwise:ns.clockwise),n){case ns.counterClockwise:case"counterClockwise":e.rotate.status=Ln.decreasing;break;case ns.clockwise:e.rotate.status=Ln.increasing;break}const i=t.animation;i.enable&&(e.rotate.decay=wRe-Ze(i.decay),e.rotate.velocity=Ze(i.speed)/bRe*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=qt())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new _Re);for(const n of t)e.rotate.load(n?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(pD(e,e.rotate,!1,Kh.none,t),e.rotation=e.rotate.value))}}async function TRe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("rotate",t=>Promise.resolve(new SRe(t)),e)}const ARe=2,ERe=Math.sqrt(ARe),CRe=2;function DRe(r){const{context:e,radius:t}=r,n=t/ERe,i=n*CRe;e.rect(-n,-n,i,i)}const IRe=4;class RRe{constructor(){this.validTypes=["edge","square"]}draw(e){DRe(e)}getSidesCount(){return IRe}}async function kRe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new RRe,e)}const MRe=2,Qg={x:0,y:0};function PRe(r){const{context:e,particle:t,radius:n}=r,i=t.sides,a=t.starInset??MRe;e.moveTo(Qg.x,Qg.y-n);for(let s=0;s<i;s++)e.rotate(Math.PI/i),e.lineTo(Qg.x,Qg.y-n*a),e.rotate(Math.PI/i),e.lineTo(Qg.x,Qg.y-n)}const LRe=2,ORe=5;class NRe{constructor(){this.validTypes=["star"]}draw(e){PRe(e)}getSidesCount(e){const t=e.shapeData;return Math.round(Ze(t?.sides??ORe))}particleInit(e,t){const n=t.shapeData;t.starInset=Ze(n?.inset??LRe)}}async function FRe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new NRe,e)}const BRe=1;class VRe{constructor(e,t){this._container=e,this._engine=t}init(e){const t=this._container,n=e.options,i=la(n.stroke,e.id,n.reduceDuplicates);e.strokeWidth=Ze(i.width)*t.retina.pixelRatio,e.strokeOpacity=Ze(i.opacity??BRe),e.strokeAnimation=i.color?.animation;const a=Zh(this._engine,i.color)??e.getFillColor();a&&(e.strokeColor=Cre(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:n}=e;return!e.destroyed&&!e.spawning&&!!t&&(n?.h.value!==void 0&&n.h.enable||n?.s.value!==void 0&&n.s.enable||n?.l.value!==void 0&&n.l.enable)}update(e,t){this.isEnabled(e)&&Dre(e.strokeColor,t)}}async function zRe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("strokeColor",t=>Promise.resolve(new VRe(t,r)),e)}async function URe(r,e=!0){r.checkVersion("3.8.1"),await CIe(r,!1),await kCe(r,!1),await zCe(r,!1),await YCe(r,!1),await iDe(r,!1),await pDe(r,!1),await mDe(r,!1),await bDe(r,!1),await EDe(r,!1),await FDe(r,!1),await HDe(r,!1),await RIe(r,!1),await VIe(r,!1),await iRe(r,!1),await wCe(r,!1),await TCe(r,!1),await pIe(r,!1),await AIe(r,!1),await mRe(r,!1),await kRe(r,!1),await FRe(r,!1),await wIe(r,!1),await TRe(r,!1),await zRe(r,!1),await xCe(r,e)}const Xre=2,KH=.5;function HRe(r){const{context:e,particle:t,radius:n,opacity:i}=r,a=t.shapeData;if(!a)return;const s=a.value;if(s===void 0)return;t.text===void 0&&(t.text=la(s,t.randomIndexData));const o=t.text,l=a.style??"",u=a.weight??"400",c=Math.round(n)*Xre,f=a.font??"Verdana",h=t.shapeFill,p=o?.split(`
`);if(p){e.font=`${l} ${u} ${c}px "${f}"`,e.globalAlpha=i;for(let v=0;v<p.length;v++)GRe(e,p[v],n,i,v,h);e.globalAlpha=1}}function GRe(r,e,t,n,i,a){const s=e.length*t*KH,o={x:-s,y:t*KH},l=t*Xre;a?r.fillText(e,o.x,o.y+l*i):r.strokeText(e,o.x,o.y+l*i)}class jRe{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){HRe(e)}async init(e){const t=e.actualOptions,{validTypes:n}=this;if(n.find(i=>on(i,t.particles.shape.type))){const i=n.map(s=>t.particles.shape.options[s]).find(s=>!!s),a=[];yi(i,s=>{a.push(XO(s.font,s.weight))}),await Promise.all(a)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const n=t.shapeData;if(n===void 0)return;const i=n.value;i!==void 0&&(t.text=la(i,t.randomIndexData))}}async function WRe(r,e=!0){r.checkVersion("3.8.1"),await r.addShape(new jRe,e)}var dh;(function(r){r.clockwise="clockwise",r.counterClockwise="counter-clockwise",r.random="random"})(dh||(dh={}));class $Re{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){je(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=St(e.speed)),e.decay!==void 0&&(this.decay=St(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class qRe extends ql{constructor(){super(),this.animation=new $Re,this.direction=dh.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!je(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const U1=1,Kre=2,YRe=Math.PI*Kre,XRe=360;class KRe{constructor(e){this.container=e}getTransformValues(e){const t=e.tilt?.enable&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:qc(Ze(t.value)),sinDirection:qt()>=sn?U1:-U1,cosDirection:qt()>=sn?U1:-U1,min:0,max:YRe};let n=t.direction;switch(n===dh.random&&(n=Math.floor(qt()*Kre)>0?dh.counterClockwise:dh.clockwise),n){case dh.counterClockwise:case"counterClockwise":e.tilt.status=Ln.decreasing;break;case dh.clockwise:e.tilt.status=Ln.increasing;break}const i=e.options.tilt?.animation;i?.enable&&(e.tilt.decay=U1-Ze(i.decay),e.tilt.velocity=Ze(i.speed)/XRe*this.container.retina.reduceFactor,i.sync||(e.tilt.velocity*=qt()))}isEnabled(e){const t=e.options.tilt?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new qRe);for(const n of t)e.tilt.load(n?.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(pD(e,e.tilt,!1,Kh.none,t),await Promise.resolve())}}async function ZRe(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("tilt",t=>Promise.resolve(new KRe(t)),e)}class ZH{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){je(e)||(e.color!==void 0&&(this.color=ei.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=St(e.opacity)))}}class QRe{constructor(){this.lines=new ZH,this.particles=new ZH}load(e){je(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class JRe{constructor(e){this._engine=e}getColorStyles(e,t,n,i){const a=e.options,s=a.twinkle;if(!s)return{};const o=s.particles,l=o.enable&&qt()<o.frequency,u=e.options.zIndex,c=1,f=(c-e.zIndexFactor)**u.opacityRate,h=l?Ze(o.opacity)*f:i,p=Zh(this._engine,o.color),v=p?Rm(p,h):void 0,m={},y=l&&v;return m.fill=y?v:void 0,m.stroke=y?v:void 0,m}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,n=t.twinkle;return n?n.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new QRe);for(const n of t)e.twinkle.load(n?.twinkle)}async update(){await Promise.resolve()}}async function eke(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("twinkle",()=>Promise.resolve(new JRe(r)),e)}class tke{constructor(){this.angle=50,this.move=10}load(e){je(e)||(e.angle!==void 0&&(this.angle=St(e.angle)),e.move!==void 0&&(this.move=St(e.move)))}}class rke{constructor(){this.distance=5,this.enable=!1,this.speed=new tke}load(e){if(!je(e)&&(e.distance!==void 0&&(this.distance=St(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(ro(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const nke=0,ike=2,ake=Math.PI*ike,ske=60;function oke(r,e){const{wobble:t}=r.options,{wobble:n}=r;if(!t?.enable||!n)return;const i=n.angleSpeed*e.factor,a=n.moveSpeed*e.factor,s=a*((r.retina.wobbleDistance??nke)*e.factor)/(Sn/ske),o=ake,{position:l}=r;n.angle+=i,n.angle>o&&(n.angle-=o),l.x+=s*Math.cos(n.angle),l.y+=s*Math.abs(Math.sin(n.angle))}const lke=2,uke=Math.PI*lke,cke=360,fke=10,hke=0;class dke{constructor(e){this.container=e}init(e){const t=e.options.wobble;t?.enable?e.wobble={angle:qt()*uke,angleSpeed:Ze(t.speed.angle)/cke,moveSpeed:Ze(t.speed.move)/fke}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=Ze(t?.distance??hke)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.wobble?.enable}loadOptions(e,...t){e.wobble||(e.wobble=new rke);for(const n of t)e.wobble.load(n?.wobble)}update(e,t){this.isEnabled(e)&&oke(e,t)}}async function pke(r,e=!0){r.checkVersion("3.8.1"),await r.addParticleUpdater("wobble",t=>Promise.resolve(new dke(t)),e)}async function vke(r,e=!0){r.checkVersion("3.8.1"),await KAe(r,!1),await EEe(r,!1),await ZRe(r,!1),await eke(r,!1),await pke(r,!1),await WRe(r,!1),await _Ee(r,!1),await NAe(r,!1),await lEe(r,!1),await hEe(r,!1),await gEe(r,!1),await URe(r,e)}const gke=()=>{const r=async e=>{await vke(e)};return q.jsx(SAe,{id:"tsparticles",init:r,options:{background:{color:"#0d47a1"},fullScreen:{enable:!0,zIndex:-1},particles:{number:{value:120,density:{enable:!0,area:1e3}},color:{value:"#740a0aff"},shape:{type:"circle",stroke:{width:0,color:"#000000"}},opacity:{value:.7,random:!0,animation:{enable:!0,speed:1,minimumValue:.1,sync:!1}},size:{value:4,random:!0,animation:{enable:!0,speed:4,minimumValue:.3,sync:!1}},links:{enable:!0,distance:180,color:"#b90d0dff",opacity:.4,width:1.5},move:{enable:!0,speed:3,direction:"none",random:!0,straight:!1,outModes:{default:"out"},attract:{enable:!0,rotate:{x:600,y:1200}}}},interactivity:{detectsOn:"canvas",events:{onHover:{enable:!0,mode:"bubble"},onClick:{enable:!1,mode:"push"},resize:!0},modes:{bubble:{distance:200,size:6,duration:2,opacity:.8,speed:3},push:{quantity:6}}},retina_detect:!0}})},mke="_form_11ogr_45",yke="_columnas_11ogr_81",_ke="_tablaVotos_11ogr_231",xke="_totales_11ogr_283",wke="_btn_11ogr_297",bke="_seccionBoletas_11ogr_497",Ske="_boletasGrid_11ogr_505",Tke="_boletaItem_11ogr_517",Ake="_boletaBarra_11ogr_543",Eke="_nroMesa_11ogr_555",Cke="_checkIcon_11ogr_565",Dke="_botonRecorte_11ogr_575",Ike="_botonAplicar_11ogr_601",Rke="_botonCancelar_11ogr_611",kke="_selectorContainer_11ogr_621",Mke="_iconButton_11ogr_637",Pke="_imagenPreview_11ogr_667",vn={form:mke,columnas:yke,"select-group":"_select-group_11ogr_109",tablaVotos:_ke,totales:xke,btn:wke,seccionBoletas:bke,boletasGrid:Ske,boletaItem:Tke,boletaBarra:Ake,nroMesa:Eke,checkIcon:Cke,botonRecorte:Dke,botonAplicar:Ike,botonCancelar:Rke,selectorContainer:kke,iconButton:Mke,imagenPreview:Pke};/*!
* sweetalert2 v11.22.2
* Released under the MIT License.
*/function Zre(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function Lke(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function QH(r,e){return r.get(Zre(r,e))}function Oke(r,e,t){Lke(r,e),e.set(r,t)}function Nke(r,e,t){return r.set(Zre(r,e),t),t}const Fke=100,It={},Bke=()=>{It.previousActiveElement instanceof HTMLElement?(It.previousActiveElement.focus(),It.previousActiveElement=null):document.body&&document.body.focus()},Vke=r=>new Promise(e=>{if(!r)return e();const t=window.scrollX,n=window.scrollY;It.restoreFocusTimeout=setTimeout(()=>{Bke(),e()},Fke),window.scrollTo(t,n)}),Qre="swal2-",zke=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Le=zke.reduce((r,e)=>(r[e]=Qre+e,r),{}),Uke=["success","warning","info","question","error"],fE=Uke.reduce((r,e)=>(r[e]=Qre+e,r),{}),Jre="SweetAlert2:",OF=r=>r.charAt(0).toUpperCase()+r.slice(1),cs=r=>{console.warn(`${Jre} ${typeof r=="object"?r.join(" "):r}`)},qv=r=>{console.error(`${Jre} ${r}`)},JH=[],Hke=r=>{JH.includes(r)||(JH.push(r),cs(r))},ene=(r,e=null)=>{Hke(`"${r}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},gD=r=>typeof r=="function"?r():r,NF=r=>r&&typeof r.toPromise=="function",sb=r=>NF(r)?r.toPromise():Promise.resolve(r),FF=r=>r&&Promise.resolve(r)===r,ps=()=>document.body.querySelector(`.${Le.container}`),ob=r=>{const e=ps();return e?e.querySelector(r):null},so=r=>ob(`.${r}`),Mr=()=>so(Le.popup),oy=()=>so(Le.icon),Gke=()=>so(Le["icon-content"]),tne=()=>so(Le.title),BF=()=>so(Le["html-container"]),rne=()=>so(Le.image),VF=()=>so(Le["progress-steps"]),mD=()=>so(Le["validation-message"]),Xu=()=>ob(`.${Le.actions} .${Le.confirm}`),ly=()=>ob(`.${Le.actions} .${Le.cancel}`),Yv=()=>ob(`.${Le.actions} .${Le.deny}`),jke=()=>so(Le["input-label"]),uy=()=>ob(`.${Le.loader}`),lb=()=>so(Le.actions),nne=()=>so(Le.footer),yD=()=>so(Le["timer-progress-bar"]),zF=()=>so(Le.close),Wke=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,UF=()=>{const r=Mr();if(!r)return[];const e=r.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((a,s)=>{const o=parseInt(a.getAttribute("tabindex")||"0"),l=parseInt(s.getAttribute("tabindex")||"0");return o>l?1:o<l?-1:0}),n=r.querySelectorAll(Wke),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(i))].filter(a=>Ms(a))},HF=()=>Yc(document.body,Le.shown)&&!Yc(document.body,Le["toast-shown"])&&!Yc(document.body,Le["no-backdrop"]),_D=()=>{const r=Mr();return r?Yc(r,Le.toast):!1},$ke=()=>{const r=Mr();return r?r.hasAttribute("data-loading"):!1},oo=(r,e)=>{if(r.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(s=>{r.appendChild(s)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(s=>{s instanceof HTMLVideoElement||s instanceof HTMLAudioElement?r.appendChild(s.cloneNode(!0)):r.appendChild(s)})}},Yc=(r,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let n=0;n<t.length;n++)if(!r.classList.contains(t[n]))return!1;return!0},qke=(r,e)=>{Array.from(r.classList).forEach(t=>{!Object.values(Le).includes(t)&&!Object.values(fE).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&r.classList.remove(t)})},no=(r,e,t)=>{if(qke(r,e),!e.customClass)return;const n=e.customClass[t];if(n){if(typeof n!="string"&&!n.forEach){cs(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof n}"`);return}Br(r,n)}},xD=(r,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return r.querySelector(`.${Le.popup} > .${Le[e]}`);case"checkbox":return r.querySelector(`.${Le.popup} > .${Le.checkbox} input`);case"radio":return r.querySelector(`.${Le.popup} > .${Le.radio} input:checked`)||r.querySelector(`.${Le.popup} > .${Le.radio} input:first-child`);case"range":return r.querySelector(`.${Le.popup} > .${Le.range} input`);default:return r.querySelector(`.${Le.popup} > .${Le.input}`)}},ine=r=>{if(r.focus(),r.type!=="file"){const e=r.value;r.value="",r.value=e}},ane=(r,e,t)=>{!r||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(r)?r.forEach(i=>{t?i.classList.add(n):i.classList.remove(n)}):t?r.classList.add(n):r.classList.remove(n)}))},Br=(r,e)=>{ane(r,e,!0)},Yo=(r,e)=>{ane(r,e,!1)},yh=(r,e)=>{const t=Array.from(r.children);for(let n=0;n<t.length;n++){const i=t[n];if(i instanceof HTMLElement&&Yc(i,e))return i}},sv=(r,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?r.style.setProperty(e,typeof t=="number"?`${t}px`:t):r.style.removeProperty(e)},$i=(r,e="flex")=>{r&&(r.style.display=e)},Na=r=>{r&&(r.style.display="none")},GF=(r,e="block")=>{r&&new MutationObserver(()=>{ub(r,r.innerHTML,e)}).observe(r,{childList:!0,subtree:!0})},eG=(r,e,t,n)=>{const i=r.querySelector(e);i&&i.style.setProperty(t,n)},ub=(r,e,t="flex")=>{e?$i(r,t):Na(r)},Ms=r=>!!(r&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)),Yke=()=>!Ms(Xu())&&!Ms(Yv())&&!Ms(ly()),tN=r=>r.scrollHeight>r.clientHeight,Xke=(r,e)=>{let t=r;for(;t&&t!==e;){if(tN(t))return!0;t=t.parentElement}return!1},sne=r=>{const e=window.getComputedStyle(r),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||n>0},jF=(r,e=!1)=>{const t=yD();t&&Ms(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${r/1e3}s linear`,t.style.width="0%"},10))},Kke=()=>{const r=yD();if(!r)return;const e=parseInt(window.getComputedStyle(r).width);r.style.removeProperty("transition"),r.style.width="100%";const t=parseInt(window.getComputedStyle(r).width),n=e/t*100;r.style.width=`${n}%`},Zke=()=>typeof window>"u"||typeof document>"u",Qke=`
 <div aria-labelledby="${Le.title}" aria-describedby="${Le["html-container"]}" class="${Le.popup}" tabindex="-1">
   <button type="button" class="${Le.close}"></button>
   <ul class="${Le["progress-steps"]}"></ul>
   <div class="${Le.icon}"></div>
   <img class="${Le.image}" />
   <h2 class="${Le.title}" id="${Le.title}"></h2>
   <div class="${Le["html-container"]}" id="${Le["html-container"]}"></div>
   <input class="${Le.input}" id="${Le.input}" />
   <input type="file" class="${Le.file}" />
   <div class="${Le.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Le.select}" id="${Le.select}"></select>
   <div class="${Le.radio}"></div>
   <label class="${Le.checkbox}">
     <input type="checkbox" id="${Le.checkbox}" />
     <span class="${Le.label}"></span>
   </label>
   <textarea class="${Le.textarea}" id="${Le.textarea}"></textarea>
   <div class="${Le["validation-message"]}" id="${Le["validation-message"]}"></div>
   <div class="${Le.actions}">
     <div class="${Le.loader}"></div>
     <button type="button" class="${Le.confirm}"></button>
     <button type="button" class="${Le.deny}"></button>
     <button type="button" class="${Le.cancel}"></button>
   </div>
   <div class="${Le.footer}"></div>
   <div class="${Le["timer-progress-bar-container"]}">
     <div class="${Le["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Jke=()=>{const r=ps();return r?(r.remove(),Yo([document.documentElement,document.body],[Le["no-backdrop"],Le["toast-shown"],Le["has-column"]]),!0):!1},ep=()=>{It.currentInstance.resetValidationMessage()},eMe=()=>{const r=Mr(),e=yh(r,Le.input),t=yh(r,Le.file),n=r.querySelector(`.${Le.range} input`),i=r.querySelector(`.${Le.range} output`),a=yh(r,Le.select),s=r.querySelector(`.${Le.checkbox} input`),o=yh(r,Le.textarea);e.oninput=ep,t.onchange=ep,a.onchange=ep,s.onchange=ep,o.oninput=ep,n.oninput=()=>{ep(),i.value=n.value},n.onchange=()=>{ep(),i.value=n.value}},tMe=r=>typeof r=="string"?document.querySelector(r):r,rMe=r=>{const e=Mr();e.setAttribute("role",r.toast?"alert":"dialog"),e.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||e.setAttribute("aria-modal","true")},nMe=r=>{window.getComputedStyle(r).direction==="rtl"&&Br(ps(),Le.rtl)},iMe=r=>{const e=Jke();if(Zke()){qv("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Le.container,e&&Br(t,Le["no-transition"]),oo(t,Qke),t.dataset.swal2Theme=r.theme;const n=tMe(r.target);n.appendChild(t),r.topLayer&&(t.setAttribute("popover",""),t.showPopover()),rMe(r),nMe(n),eMe()},WF=(r,e)=>{r instanceof HTMLElement?e.appendChild(r):typeof r=="object"?aMe(r,e):r&&oo(e,r)},aMe=(r,e)=>{r.jquery?sMe(e,r):oo(e,r.toString())},sMe=(r,e)=>{if(r.textContent="",0 in e)for(let t=0;t in e;t++)r.appendChild(e[t].cloneNode(!0));else r.appendChild(e.cloneNode(!0))},oMe=(r,e)=>{const t=lb(),n=uy();!t||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Na(t):$i(t),no(t,e,"actions"),lMe(t,n,e),oo(n,e.loaderHtml||""),no(n,e,"loader"))};function lMe(r,e,t){const n=Xu(),i=Yv(),a=ly();!n||!i||!a||(iM(n,"confirm",t),iM(i,"deny",t),iM(a,"cancel",t),uMe(n,i,a,t),t.reverseButtons&&(t.toast?(r.insertBefore(a,n),r.insertBefore(i,n)):(r.insertBefore(a,e),r.insertBefore(i,e),r.insertBefore(n,e))))}function uMe(r,e,t,n){if(!n.buttonsStyling){Yo([r,e,t],Le.styled);return}Br([r,e,t],Le.styled),n.confirmButtonColor&&r.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),nM(r),nM(e),nM(t)}function nM(r){const e=window.getComputedStyle(r);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");r.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function iM(r,e,t){const n=OF(e);ub(r,t[`show${n}Button`],"inline-block"),oo(r,t[`${e}ButtonText`]||""),r.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),r.className=Le[e],no(r,t,`${e}Button`)}const cMe=(r,e)=>{const t=zF();t&&(oo(t,e.closeButtonHtml||""),no(t,e,"closeButton"),ub(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},fMe=(r,e)=>{const t=ps();t&&(hMe(t,e.backdrop),dMe(t,e.position),pMe(t,e.grow),no(t,e,"container"))};function hMe(r,e){typeof e=="string"?r.style.background=e:e||Br([document.documentElement,document.body],Le["no-backdrop"])}function dMe(r,e){e&&(e in Le?Br(r,Le[e]):(cs('The "position" parameter is not valid, defaulting to "center"'),Br(r,Le.center)))}function pMe(r,e){e&&Br(r,Le[`grow-${e}`])}var un={innerParams:new WeakMap,domCache:new WeakMap};const vMe=["input","file","range","select","radio","checkbox","textarea"],gMe=(r,e)=>{const t=Mr();if(!t)return;const n=un.innerParams.get(r),i=!n||e.input!==n.input;vMe.forEach(a=>{const s=yh(t,Le[a]);s&&(_Me(a,e.inputAttributes),s.className=Le[a],i&&Na(s))}),e.input&&(i&&mMe(e),xMe(e))},mMe=r=>{if(!r.input)return;if(!$n[r.input]){qv(`Unexpected type of input! Expected ${Object.keys($n).join(" | ")}, got "${r.input}"`);return}const e=one(r.input);if(!e)return;const t=$n[r.input](e,r);$i(e),r.inputAutoFocus&&setTimeout(()=>{ine(t)})},yMe=r=>{for(let e=0;e<r.attributes.length;e++){const t=r.attributes[e].name;["id","type","value","style"].includes(t)||r.removeAttribute(t)}},_Me=(r,e)=>{const t=Mr();if(!t)return;const n=xD(t,r);if(n){yMe(n);for(const i in e)n.setAttribute(i,e[i])}},xMe=r=>{if(!r.input)return;const e=one(r.input);e&&no(e,r,"input")},$F=(r,e)=>{!r.placeholder&&e.inputPlaceholder&&(r.placeholder=e.inputPlaceholder)},cb=(r,e,t)=>{if(t.inputLabel){const n=document.createElement("label"),i=Le["input-label"];n.setAttribute("for",r.id),n.className=i,typeof t.customClass=="object"&&Br(n,t.customClass.inputLabel),n.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",n)}},one=r=>{const e=Mr();if(e)return yh(e,Le[r]||Le.input)},hE=(r,e)=>{["string","number"].includes(typeof e)?r.value=`${e}`:FF(e)||cs(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},$n={};$n.text=$n.email=$n.password=$n.number=$n.tel=$n.url=$n.search=$n.date=$n["datetime-local"]=$n.time=$n.week=$n.month=(r,e)=>(hE(r,e.inputValue),cb(r,r,e),$F(r,e),r.type=e.input,r);$n.file=(r,e)=>(cb(r,r,e),$F(r,e),r);$n.range=(r,e)=>{const t=r.querySelector("input"),n=r.querySelector("output");return hE(t,e.inputValue),t.type=e.input,hE(n,e.inputValue),cb(t,r,e),r};$n.select=(r,e)=>{if(r.textContent="",e.inputPlaceholder){const t=document.createElement("option");oo(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,r.appendChild(t)}return cb(r,r,e),r};$n.radio=r=>(r.textContent="",r);$n.checkbox=(r,e)=>{const t=xD(Mr(),"checkbox");t.value="1",t.checked=!!e.inputValue;const n=r.querySelector("span");return oo(n,e.inputPlaceholder||e.inputLabel),t};$n.textarea=(r,e)=>{hE(r,e.inputValue),$F(r,e),cb(r,r,e);const t=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Mr()).width),i=()=>{if(!document.body.contains(r))return;const a=r.offsetWidth+t(r);a>n?Mr().style.width=`${a}px`:sv(Mr(),"width",e.width)};new MutationObserver(i).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};const wMe=(r,e)=>{const t=BF();t&&(GF(t),no(t,e,"htmlContainer"),e.html?(WF(e.html,t),$i(t,"block")):e.text?(t.textContent=e.text,$i(t,"block")):Na(t),gMe(r,e))},bMe=(r,e)=>{const t=nne();t&&(GF(t),ub(t,e.footer,"block"),e.footer&&WF(e.footer,t),no(t,e,"footer"))},SMe=(r,e)=>{const t=un.innerParams.get(r),n=oy();if(!n)return;if(t&&e.icon===t.icon){rG(n,e),tG(n,e);return}if(!e.icon&&!e.iconHtml){Na(n);return}if(e.icon&&Object.keys(fE).indexOf(e.icon)===-1){qv(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Na(n);return}$i(n),rG(n,e),tG(n,e),Br(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",lne)},tG=(r,e)=>{for(const[t,n]of Object.entries(fE))e.icon!==t&&Yo(r,n);Br(r,e.icon&&fE[e.icon]),EMe(r,e),lne(),no(r,e,"icon")},lne=()=>{const r=Mr();if(!r)return;const e=window.getComputedStyle(r).getPropertyValue("background-color"),t=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<t.length;n++)t[n].style.backgroundColor=e},TMe=r=>`
  ${r.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${r.animation?'<div class="swal2-success-fix"></div>':""}
  ${r.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,AMe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,rG=(r,e)=>{if(!e.icon&&!e.iconHtml)return;let t=r.innerHTML,n="";e.iconHtml?n=nG(e.iconHtml):e.icon==="success"?(n=TMe(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?n=AMe:e.icon&&(n=nG({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==n.trim()&&oo(r,n)},EMe=(r,e)=>{if(e.iconColor){r.style.color=e.iconColor,r.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])eG(r,t,"background-color",e.iconColor);eG(r,".swal2-success-ring","border-color",e.iconColor)}},nG=r=>`<div class="${Le["icon-content"]}">${r}</div>`,CMe=(r,e)=>{const t=rne();if(t){if(!e.imageUrl){Na(t);return}$i(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),sv(t,"width",e.imageWidth),sv(t,"height",e.imageHeight),t.className=Le.image,no(t,e,"image")}};let qF=!1,une=0,cne=0,fne=0,hne=0;const DMe=r=>{r.addEventListener("mousedown",dE),document.body.addEventListener("mousemove",pE),r.addEventListener("mouseup",vE),r.addEventListener("touchstart",dE),document.body.addEventListener("touchmove",pE),r.addEventListener("touchend",vE)},IMe=r=>{r.removeEventListener("mousedown",dE),document.body.removeEventListener("mousemove",pE),r.removeEventListener("mouseup",vE),r.removeEventListener("touchstart",dE),document.body.removeEventListener("touchmove",pE),r.removeEventListener("touchend",vE)},dE=r=>{const e=Mr();if(r.target===e||oy().contains(r.target)){qF=!0;const t=dne(r);une=t.clientX,cne=t.clientY,fne=parseInt(e.style.insetInlineStart)||0,hne=parseInt(e.style.insetBlockStart)||0,Br(e,"swal2-dragging")}},pE=r=>{const e=Mr();if(qF){let{clientX:t,clientY:n}=dne(r);e.style.insetInlineStart=`${fne+(t-une)}px`,e.style.insetBlockStart=`${hne+(n-cne)}px`}},vE=()=>{const r=Mr();qF=!1,Yo(r,"swal2-dragging")},dne=r=>{let e=0,t=0;return r.type.startsWith("mouse")?(e=r.clientX,t=r.clientY):r.type.startsWith("touch")&&(e=r.touches[0].clientX,t=r.touches[0].clientY),{clientX:e,clientY:t}},RMe=(r,e)=>{const t=ps(),n=Mr();if(!(!t||!n)){if(e.toast){sv(t,"width",e.width),n.style.width="100%";const i=uy();i&&n.insertBefore(i,oy())}else sv(n,"width",e.width);sv(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Na(mD()),kMe(n,e),e.draggable&&!e.toast?(Br(n,Le.draggable),DMe(n)):(Yo(n,Le.draggable),IMe(n))}},kMe=(r,e)=>{const t=e.showClass||{};r.className=`${Le.popup} ${Ms(r)?t.popup:""}`,e.toast?(Br([document.documentElement,document.body],Le["toast-shown"]),Br(r,Le.toast)):Br(r,Le.modal),no(r,e,"popup"),typeof e.customClass=="string"&&Br(r,e.customClass),e.icon&&Br(r,Le[`icon-${e.icon}`])},MMe=(r,e)=>{const t=VF();if(!t)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){Na(t);return}$i(t),t.textContent="",i>=n.length&&cs("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,s)=>{const o=PMe(a);if(t.appendChild(o),s===i&&Br(o,Le["active-progress-step"]),s!==n.length-1){const l=LMe(e);t.appendChild(l)}})},PMe=r=>{const e=document.createElement("li");return Br(e,Le["progress-step"]),oo(e,r),e},LMe=r=>{const e=document.createElement("li");return Br(e,Le["progress-step-line"]),r.progressStepsDistance&&sv(e,"width",r.progressStepsDistance),e},OMe=(r,e)=>{const t=tne();t&&(GF(t),ub(t,e.title||e.titleText,"block"),e.title&&WF(e.title,t),e.titleText&&(t.innerText=e.titleText),no(t,e,"title"))},pne=(r,e)=>{RMe(r,e),fMe(r,e),MMe(r,e),SMe(r,e),CMe(r,e),OMe(r,e),cMe(r,e),wMe(r,e),oMe(r,e),bMe(r,e);const t=Mr();typeof e.didRender=="function"&&t&&e.didRender(t),It.eventEmitter.emit("didRender",t)},NMe=()=>Ms(Mr()),vne=()=>{var r;return(r=Xu())===null||r===void 0?void 0:r.click()},FMe=()=>{var r;return(r=Yv())===null||r===void 0?void 0:r.click()},BMe=()=>{var r;return(r=ly())===null||r===void 0?void 0:r.click()},cy=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gne=r=>{r.keydownTarget&&r.keydownHandlerAdded&&(r.keydownTarget.removeEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!1)},VMe=(r,e,t)=>{gne(r),e.toast||(r.keydownHandler=n=>UMe(e,n,t),r.keydownTarget=e.keydownListenerCapture?window:Mr(),r.keydownListenerCapture=e.keydownListenerCapture,r.keydownTarget.addEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!0)},rN=(r,e)=>{var t;const n=UF();if(n.length){r=r+e,r===-2&&(r=n.length-1),r===n.length?r=0:r===-1&&(r=n.length-1),n[r].focus();return}(t=Mr())===null||t===void 0||t.focus()},mne=["ArrowRight","ArrowDown"],zMe=["ArrowLeft","ArrowUp"],UMe=(r,e,t)=>{r&&(e.isComposing||e.keyCode===229||(r.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?HMe(e,r):e.key==="Tab"?GMe(e):[...mne,...zMe].includes(e.key)?jMe(e.key):e.key==="Escape"&&WMe(e,r,t)))},HMe=(r,e)=>{if(!gD(e.allowEnterKey))return;const t=xD(Mr(),e.input);if(r.target&&t&&r.target instanceof HTMLElement&&r.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;vne(),r.preventDefault()}},GMe=r=>{const e=r.target,t=UF();let n=-1;for(let i=0;i<t.length;i++)if(e===t[i]){n=i;break}r.shiftKey?rN(n,-1):rN(n,1),r.stopPropagation(),r.preventDefault()},jMe=r=>{const e=lb(),t=Xu(),n=Yv(),i=ly();if(!e||!t||!n||!i)return;const a=[t,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const s=mne.includes(r)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let l=0;l<e.children.length;l++){if(o=o[s],!o)return;if(o instanceof HTMLButtonElement&&Ms(o))break}o instanceof HTMLButtonElement&&o.focus()}},WMe=(r,e,t)=>{r.preventDefault(),gD(e.allowEscapeKey)&&t(cy.esc)};var Lm={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const $Me=()=>{const r=ps();Array.from(document.body.children).forEach(t=>{t.contains(r)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},yne=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},_ne=typeof window<"u"&&!!window.GestureEvent,qMe=()=>{if(_ne&&!Yc(document.body,Le.iosfix)){const r=document.body.scrollTop;document.body.style.top=`${r*-1}px`,Br(document.body,Le.iosfix),YMe()}},YMe=()=>{const r=ps();if(!r)return;let e;r.ontouchstart=t=>{e=XMe(t)},r.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},XMe=r=>{const e=r.target,t=ps(),n=BF();return!t||!n||KMe(r)||ZMe(r)?!1:e===t||!tN(t)&&e instanceof HTMLElement&&!Xke(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(tN(n)&&n.contains(e))},KMe=r=>r.touches&&r.touches.length&&r.touches[0].touchType==="stylus",ZMe=r=>r.touches&&r.touches.length>1,QMe=()=>{if(Yc(document.body,Le.iosfix)){const r=parseInt(document.body.style.top,10);Yo(document.body,Le.iosfix),document.body.style.top="",document.body.scrollTop=r*-1}},JMe=()=>{const r=document.createElement("div");r.className=Le["scrollbar-measure"],document.body.appendChild(r);const e=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),e};let sm=null;const ePe=r=>{sm===null&&(document.body.scrollHeight>window.innerHeight||r==="scroll")&&(sm=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${sm+JMe()}px`)},tPe=()=>{sm!==null&&(document.body.style.paddingRight=`${sm}px`,sm=null)};function xne(r,e,t,n){_D()?iG(r,n):(Vke(t).then(()=>iG(r,n)),gne(It)),_ne?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),HF()&&(tPe(),QMe(),yne()),rPe()}function rPe(){Yo([document.documentElement,document.body],[Le.shown,Le["height-auto"],Le["no-backdrop"],Le["toast-shown"]])}function _h(r){r=iPe(r);const e=Lm.swalPromiseResolve.get(this),t=nPe(this);this.isAwaitingPromise?r.isDismissed||(fb(this),e(r)):t&&e(r)}const nPe=r=>{const e=Mr();if(!e)return!1;const t=un.innerParams.get(r);if(!t||Yc(e,t.hideClass.popup))return!1;Yo(e,t.showClass.popup),Br(e,t.hideClass.popup);const n=ps();return Yo(n,t.showClass.backdrop),Br(n,t.hideClass.backdrop),aPe(r,e,t),!0};function wne(r){const e=Lm.swalPromiseReject.get(this);fb(this),e&&e(r)}const fb=r=>{r.isAwaitingPromise&&(delete r.isAwaitingPromise,un.innerParams.get(r)||r._destroy())},iPe=r=>typeof r>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},r),aPe=(r,e,t)=>{var n;const i=ps(),a=sne(e);typeof t.willClose=="function"&&t.willClose(e),(n=It.eventEmitter)===null||n===void 0||n.emit("willClose",e),a?sPe(r,e,i,t.returnFocus,t.didClose):xne(r,i,t.returnFocus,t.didClose)},sPe=(r,e,t,n,i)=>{It.swalCloseEventFinishedCallback=xne.bind(null,r,t,n,i);const a=function(s){if(s.target===e){var o;(o=It.swalCloseEventFinishedCallback)===null||o===void 0||o.call(It),delete It.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},iG=(r,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(r.params)(),(t=It.eventEmitter)===null||t===void 0||t.emit("didClose"),r._destroy&&r._destroy()})},Om=r=>{let e=Mr();if(e||new Xn,e=Mr(),!e)return;const t=uy();_D()?Na(oy()):oPe(e,r),$i(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},oPe=(r,e)=>{const t=lb(),n=uy();!t||!n||(!e&&Ms(Xu())&&(e=Xu()),$i(t),e&&(Na(e),n.setAttribute("data-button-to-replace",e.className),t.insertBefore(n,e)),Br([r,t],Le.loading))},lPe=(r,e)=>{e.input==="select"||e.input==="radio"?dPe(r,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(NF(e.inputValue)||FF(e.inputValue))&&(Om(Xu()),pPe(r,e))},uPe=(r,e)=>{const t=r.getInput();if(!t)return null;switch(e.input){case"checkbox":return cPe(t);case"radio":return fPe(t);case"file":return hPe(t);default:return e.inputAutoTrim?t.value.trim():t.value}},cPe=r=>r.checked?1:0,fPe=r=>r.checked?r.value:null,hPe=r=>r.files&&r.files.length?r.getAttribute("multiple")!==null?r.files:r.files[0]:null,dPe=(r,e)=>{const t=Mr();if(!t)return;const n=i=>{e.input==="select"?vPe(t,gE(i),e):e.input==="radio"&&gPe(t,gE(i),e)};NF(e.inputOptions)||FF(e.inputOptions)?(Om(Xu()),sb(e.inputOptions).then(i=>{r.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):qv(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},pPe=(r,e)=>{const t=r.getInput();t&&(Na(t),sb(e.inputValue).then(n=>{t.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,$i(t),t.focus(),r.hideLoading()}).catch(n=>{qv(`Error in inputValue promise: ${n}`),t.value="",$i(t),t.focus(),r.hideLoading()}))};function vPe(r,e,t){const n=yh(r,Le.select);if(!n)return;const i=(a,s,o)=>{const l=document.createElement("option");l.value=o,oo(l,s),l.selected=bne(o,t.inputValue),a.appendChild(l)};e.forEach(a=>{const s=a[0],o=a[1];if(Array.isArray(o)){const l=document.createElement("optgroup");l.label=s,l.disabled=!1,n.appendChild(l),o.forEach(u=>i(l,u[1],u[0]))}else i(n,o,s)}),n.focus()}function gPe(r,e,t){const n=yh(r,Le.radio);if(!n)return;e.forEach(a=>{const s=a[0],o=a[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=Le.radio,l.value=s,bne(s,t.inputValue)&&(l.checked=!0);const c=document.createElement("span");oo(c,o),c.className=Le.label,u.appendChild(l),u.appendChild(c),n.appendChild(u)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const gE=r=>{const e=[];return r instanceof Map?r.forEach((t,n)=>{let i=t;typeof i=="object"&&(i=gE(i)),e.push([n,i])}):Object.keys(r).forEach(t=>{let n=r[t];typeof n=="object"&&(n=gE(n)),e.push([t,n])}),e},bne=(r,e)=>!!e&&e.toString()===r.toString(),mPe=r=>{const e=un.innerParams.get(r);r.disableButtons(),e.input?Sne(r,"confirm"):XF(r,!0)},yPe=r=>{const e=un.innerParams.get(r);r.disableButtons(),e.returnInputValueOnDeny?Sne(r,"deny"):YF(r,!1)},_Pe=(r,e)=>{r.disableButtons(),e(cy.cancel)},Sne=(r,e)=>{const t=un.innerParams.get(r);if(!t.input){qv(`The "input" parameter is needed to be set when using returnInputValueOn${OF(e)}`);return}const n=r.getInput(),i=uPe(r,t);t.inputValidator?xPe(r,i,e):n&&!n.checkValidity()?(r.enableButtons(),r.showValidationMessage(t.validationMessage||n.validationMessage)):e==="deny"?YF(r,i):XF(r,i)},xPe=(r,e,t)=>{const n=un.innerParams.get(r);r.disableInput(),Promise.resolve().then(()=>sb(n.inputValidator(e,n.validationMessage))).then(a=>{r.enableButtons(),r.enableInput(),a?r.showValidationMessage(a):t==="deny"?YF(r,e):XF(r,e)})},YF=(r,e)=>{const t=un.innerParams.get(r||void 0);t.showLoaderOnDeny&&Om(Yv()),t.preDeny?(r.isAwaitingPromise=!0,Promise.resolve().then(()=>sb(t.preDeny(e,t.validationMessage))).then(i=>{i===!1?(r.hideLoading(),fb(r)):r.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>Tne(r||void 0,i))):r.close({isDenied:!0,value:e})},aG=(r,e)=>{r.close({isConfirmed:!0,value:e})},Tne=(r,e)=>{r.rejectPromise(e)},XF=(r,e)=>{const t=un.innerParams.get(r||void 0);t.showLoaderOnConfirm&&Om(),t.preConfirm?(r.resetValidationMessage(),r.isAwaitingPromise=!0,Promise.resolve().then(()=>sb(t.preConfirm(e,t.validationMessage))).then(i=>{Ms(mD())||i===!1?(r.hideLoading(),fb(r)):aG(r,typeof i>"u"?e:i)}).catch(i=>Tne(r||void 0,i))):aG(r,e)};function mE(){const r=un.innerParams.get(this);if(!r)return;const e=un.domCache.get(this);Na(e.loader),_D()?r.icon&&$i(oy()):wPe(e),Yo([e.popup,e.actions],Le.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const wPe=r=>{const e=r.popup.getElementsByClassName(r.loader.getAttribute("data-button-to-replace"));e.length?$i(e[0],"inline-block"):Yke()&&Na(r.actions)};function Ane(){const r=un.innerParams.get(this),e=un.domCache.get(this);return e?xD(e.popup,r.input):null}function Ene(r,e,t){const n=un.domCache.get(r);e.forEach(i=>{n[i].disabled=t})}function Cne(r,e){const t=Mr();if(!(!t||!r))if(r.type==="radio"){const n=t.querySelectorAll(`[name="${Le.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else r.disabled=e}function Dne(){Ene(this,["confirmButton","denyButton","cancelButton"],!1)}function Ine(){Ene(this,["confirmButton","denyButton","cancelButton"],!0)}function Rne(){Cne(this.getInput(),!1)}function kne(){Cne(this.getInput(),!0)}function Mne(r){const e=un.domCache.get(this),t=un.innerParams.get(this);oo(e.validationMessage,r),e.validationMessage.className=Le["validation-message"],t.customClass&&t.customClass.validationMessage&&Br(e.validationMessage,t.customClass.validationMessage),$i(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Le["validation-message"]),ine(n),Br(n,Le.inputerror))}function Pne(){const r=un.domCache.get(this);r.validationMessage&&Na(r.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Yo(e,Le.inputerror))}const om={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},bPe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],SPe={allowEnterKey:void 0},TPe=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Lne=r=>Object.prototype.hasOwnProperty.call(om,r),One=r=>bPe.indexOf(r)!==-1,Nne=r=>SPe[r],APe=r=>{Lne(r)||cs(`Unknown parameter "${r}"`)},EPe=r=>{TPe.includes(r)&&cs(`The parameter "${r}" is incompatible with toasts`)},CPe=r=>{const e=Nne(r);e&&ene(r,e)},Fne=r=>{r.backdrop===!1&&r.allowOutsideClick&&cs('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),r.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(r.theme)&&cs(`Invalid theme "${r.theme}"`);for(const e in r)APe(e),r.toast&&EPe(e),CPe(e)};function Bne(r){const e=ps(),t=Mr(),n=un.innerParams.get(this);if(!t||Yc(t,n.hideClass.popup)){cs("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=DPe(r),a=Object.assign({},n,i);Fne(a),e.dataset.swal2Theme=a.theme,pne(this,a),un.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}const DPe=r=>{const e={};return Object.keys(r).forEach(t=>{One(t)?e[t]=r[t]:cs(`Invalid parameter to update: ${t}`)}),e};function Vne(){const r=un.domCache.get(this),e=un.innerParams.get(this);if(!e){zne(this);return}r.popup&&It.swalCloseEventFinishedCallback&&(It.swalCloseEventFinishedCallback(),delete It.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),It.eventEmitter.emit("didDestroy"),IPe(this)}const IPe=r=>{zne(r),delete r.params,delete It.keydownHandler,delete It.keydownTarget,delete It.currentInstance},zne=r=>{r.isAwaitingPromise?(aM(un,r),r.isAwaitingPromise=!0):(aM(Lm,r),aM(un,r),delete r.isAwaitingPromise,delete r.disableButtons,delete r.enableButtons,delete r.getInput,delete r.disableInput,delete r.enableInput,delete r.hideLoading,delete r.disableLoading,delete r.showValidationMessage,delete r.resetValidationMessage,delete r.close,delete r.closePopup,delete r.closeModal,delete r.closeToast,delete r.rejectPromise,delete r.update,delete r._destroy)},aM=(r,e)=>{for(const t in r)r[t].delete(e)};var RPe=Object.freeze({__proto__:null,_destroy:Vne,close:_h,closeModal:_h,closePopup:_h,closeToast:_h,disableButtons:Ine,disableInput:kne,disableLoading:mE,enableButtons:Dne,enableInput:Rne,getInput:Ane,handleAwaitingPromise:fb,hideLoading:mE,rejectPromise:wne,resetValidationMessage:Pne,showValidationMessage:Mne,update:Bne});const kPe=(r,e,t)=>{r.toast?MPe(r,e,t):(LPe(e),OPe(e),NPe(r,e,t))},MPe=(r,e,t)=>{e.popup.onclick=()=>{r&&(PPe(r)||r.timer||r.input)||t(cy.close)}},PPe=r=>!!(r.showConfirmButton||r.showDenyButton||r.showCancelButton||r.showCloseButton);let yE=!1;const LPe=r=>{r.popup.onmousedown=()=>{r.container.onmouseup=function(e){r.container.onmouseup=()=>{},e.target===r.container&&(yE=!0)}}},OPe=r=>{r.container.onmousedown=e=>{e.target===r.container&&e.preventDefault(),r.popup.onmouseup=function(t){r.popup.onmouseup=()=>{},(t.target===r.popup||t.target instanceof HTMLElement&&r.popup.contains(t.target))&&(yE=!0)}}},NPe=(r,e,t)=>{e.container.onclick=n=>{if(yE){yE=!1;return}n.target===e.container&&gD(r.allowOutsideClick)&&t(cy.backdrop)}},FPe=r=>typeof r=="object"&&r.jquery,sG=r=>r instanceof Element||FPe(r),BPe=r=>{const e={};return typeof r[0]=="object"&&!sG(r[0])?Object.assign(e,r[0]):["title","html","icon"].forEach((t,n)=>{const i=r[n];typeof i=="string"||sG(i)?e[t]=i:i!==void 0&&qv(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof i}`)}),e};function VPe(...r){return new this(...r)}function zPe(r){class e extends this{_main(n,i){return super._main(n,Object.assign({},r,i))}}return e}const UPe=()=>It.timeout&&It.timeout.getTimerLeft(),Une=()=>{if(It.timeout)return Kke(),It.timeout.stop()},Hne=()=>{if(It.timeout){const r=It.timeout.start();return jF(r),r}},HPe=()=>{const r=It.timeout;return r&&(r.running?Une():Hne())},GPe=r=>{if(It.timeout){const e=It.timeout.increase(r);return jF(e,!0),e}},jPe=()=>!!(It.timeout&&It.timeout.isRunning());let oG=!1;const nN={};function WPe(r="data-swal-template"){nN[r]=this,oG||(document.body.addEventListener("click",$Pe),oG=!0)}const $Pe=r=>{for(let e=r.target;e&&e!==document;e=e.parentNode)for(const t in nN){const n=e.getAttribute(t);if(n){nN[t].fire({template:n});return}}};class qPe{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){const n=(...i)=>{this.removeListener(e,n),t.apply(this,i)};this.on(e,n)}emit(e,...t){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,t)}catch(i){console.error(i)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}It.eventEmitter=new qPe;const YPe=(r,e)=>{It.eventEmitter.on(r,e)},XPe=(r,e)=>{It.eventEmitter.once(r,e)},KPe=(r,e)=>{if(!r){It.eventEmitter.reset();return}e?It.eventEmitter.removeListener(r,e):It.eventEmitter.removeAllListeners(r)};var ZPe=Object.freeze({__proto__:null,argsToParams:BPe,bindClickHandler:WPe,clickCancel:BMe,clickConfirm:vne,clickDeny:FMe,enableLoading:Om,fire:VPe,getActions:lb,getCancelButton:ly,getCloseButton:zF,getConfirmButton:Xu,getContainer:ps,getDenyButton:Yv,getFocusableElements:UF,getFooter:nne,getHtmlContainer:BF,getIcon:oy,getIconContent:Gke,getImage:rne,getInputLabel:jke,getLoader:uy,getPopup:Mr,getProgressSteps:VF,getTimerLeft:UPe,getTimerProgressBar:yD,getTitle:tne,getValidationMessage:mD,increaseTimer:GPe,isDeprecatedParameter:Nne,isLoading:$ke,isTimerRunning:jPe,isUpdatableParameter:One,isValidParameter:Lne,isVisible:NMe,mixin:zPe,off:KPe,on:YPe,once:XPe,resumeTimer:Hne,showLoading:Om,stopTimer:Une,toggleTimer:HPe});class QPe{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Gne=["swal-title","swal-html","swal-footer"],JPe=r=>{const e=typeof r.template=="string"?document.querySelector(r.template):r.template;if(!e)return{};const t=e.content;return oLe(t),Object.assign(eLe(t),tLe(t),rLe(t),nLe(t),iLe(t),aLe(t),sLe(t,Gne))},eLe=r=>{const e={};return Array.from(r.querySelectorAll("swal-param")).forEach(n=>{Dv(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof om[i]=="boolean"?e[i]=a!=="false":typeof om[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},tLe=r=>{const e={};return Array.from(r.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},rLe=r=>{const e={};return Array.from(r.querySelectorAll("swal-button")).forEach(n=>{Dv(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${OF(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},nLe=r=>{const e={},t=r.querySelector("swal-image");return t&&(Dv(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},iLe=r=>{const e={},t=r.querySelector("swal-icon");return t&&(Dv(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},aLe=r=>{const e={},t=r.querySelector("swal-input");t&&(Dv(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const n=Array.from(r.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{Dv(i,["value"]);const a=i.getAttribute("value");if(!a)return;const s=i.innerHTML;e.inputOptions[a]=s})),e},sLe=(r,e)=>{const t={};for(const n in e){const i=e[n],a=r.querySelector(i);a&&(Dv(a,[]),t[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return t},oLe=r=>{const e=Gne.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(r.children).forEach(t=>{const n=t.tagName.toLowerCase();e.includes(n)||cs(`Unrecognized element <${n}>`)})},Dv=(r,e)=>{Array.from(r.attributes).forEach(t=>{e.indexOf(t.name)===-1&&cs([`Unrecognized attribute "${t.name}" on <${r.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},jne=10,lLe=r=>{const e=ps(),t=Mr();typeof r.willOpen=="function"&&r.willOpen(t),It.eventEmitter.emit("willOpen",t);const i=window.getComputedStyle(document.body).overflowY;fLe(e,t,r),setTimeout(()=>{uLe(e,t)},jne),HF()&&(cLe(e,r.scrollbarPadding,i),$Me()),!_D()&&!It.previousActiveElement&&(It.previousActiveElement=document.activeElement),typeof r.didOpen=="function"&&setTimeout(()=>r.didOpen(t)),It.eventEmitter.emit("didOpen",t),Yo(e,Le["no-transition"])},_E=r=>{const e=Mr();if(r.target!==e)return;const t=ps();e.removeEventListener("animationend",_E),e.removeEventListener("transitionend",_E),t.style.overflowY="auto"},uLe=(r,e)=>{sne(e)?(r.style.overflowY="hidden",e.addEventListener("animationend",_E),e.addEventListener("transitionend",_E)):r.style.overflowY="auto"},cLe=(r,e,t)=>{qMe(),e&&t!=="hidden"&&ePe(t),setTimeout(()=>{r.scrollTop=0})},fLe=(r,e,t)=>{Br(r,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),$i(e,"grid"),setTimeout(()=>{Br(e,t.showClass.popup),e.style.removeProperty("opacity")},jne)):$i(e,"grid"),Br([document.documentElement,document.body],Le.shown),t.heightAuto&&t.backdrop&&!t.toast&&Br([document.documentElement,document.body],Le["height-auto"])};var lG={email:(r,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(r,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function hLe(r){r.inputValidator||(r.input==="email"&&(r.inputValidator=lG.email),r.input==="url"&&(r.inputValidator=lG.url))}function dLe(r){(!r.target||typeof r.target=="string"&&!document.querySelector(r.target)||typeof r.target!="string"&&!r.target.appendChild)&&(cs('Target parameter is not valid, defaulting to "body"'),r.target="body")}function pLe(r){hLe(r),r.showLoaderOnConfirm&&!r.preConfirm&&cs(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),dLe(r),typeof r.title=="string"&&(r.title=r.title.split(`
`).join("<br />")),iMe(r)}let Tu;var ET=new WeakMap;class ri{constructor(...e){if(Oke(this,ET,void 0),typeof window>"u")return;Tu=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,Nke(ET,this,this._main(Tu.params))}_main(e,t={}){if(Fne(Object.assign({},t,e)),It.currentInstance){const a=Lm.swalPromiseResolve.get(It.currentInstance),{isAwaitingPromise:s}=It.currentInstance;It.currentInstance._destroy(),s||a({isDismissed:!0}),HF()&&yne()}It.currentInstance=Tu;const n=gLe(e,t);pLe(n),Object.freeze(n),It.timeout&&(It.timeout.stop(),delete It.timeout),clearTimeout(It.restoreFocusTimeout);const i=mLe(Tu);return pne(Tu,n),un.innerParams.set(Tu,n),vLe(Tu,i,n)}then(e){return QH(ET,this).then(e)}finally(e){return QH(ET,this).finally(e)}}const vLe=(r,e,t)=>new Promise((n,i)=>{const a=s=>{r.close({isDismissed:!0,dismiss:s})};Lm.swalPromiseResolve.set(r,n),Lm.swalPromiseReject.set(r,i),e.confirmButton.onclick=()=>{mPe(r)},e.denyButton.onclick=()=>{yPe(r)},e.cancelButton.onclick=()=>{_Pe(r,a)},e.closeButton.onclick=()=>{a(cy.close)},kPe(t,e,a),VMe(It,t,a),lPe(r,t),lLe(t),yLe(It,t,a),_Le(e,t),setTimeout(()=>{e.container.scrollTop=0})}),gLe=(r,e)=>{const t=JPe(r),n=Object.assign({},om,e,t,r);return n.showClass=Object.assign({},om.showClass,n.showClass),n.hideClass=Object.assign({},om.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},mLe=r=>{const e={popup:Mr(),container:ps(),actions:lb(),confirmButton:Xu(),denyButton:Yv(),cancelButton:ly(),loader:uy(),closeButton:zF(),validationMessage:mD(),progressSteps:VF()};return un.domCache.set(r,e),e},yLe=(r,e,t)=>{const n=yD();Na(n),e.timer&&(r.timeout=new QPe(()=>{t("timer"),delete r.timeout},e.timer),e.timerProgressBar&&($i(n),no(n,e,"timerProgressBar"),setTimeout(()=>{r.timeout&&r.timeout.running&&jF(e.timer)})))},_Le=(r,e)=>{if(!e.toast){if(!gD(e.allowEnterKey)){ene("allowEnterKey"),bLe();return}xLe(r)||wLe(r,e)||rN(-1,1)}},xLe=r=>{const e=Array.from(r.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ms(t))return t.focus(),!0;return!1},wLe=(r,e)=>e.focusDeny&&Ms(r.denyButton)?(r.denyButton.focus(),!0):e.focusCancel&&Ms(r.cancelButton)?(r.cancelButton.focus(),!0):e.focusConfirm&&Ms(r.confirmButton)?(r.confirmButton.focus(),!0):!1,bLe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const r=new Date,e=localStorage.getItem("swal-initiation");e?(r.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${r}`)}ri.prototype.disableButtons=Ine;ri.prototype.enableButtons=Dne;ri.prototype.getInput=Ane;ri.prototype.disableInput=kne;ri.prototype.enableInput=Rne;ri.prototype.hideLoading=mE;ri.prototype.disableLoading=mE;ri.prototype.showValidationMessage=Mne;ri.prototype.resetValidationMessage=Pne;ri.prototype.close=_h;ri.prototype.closePopup=_h;ri.prototype.closeModal=_h;ri.prototype.closeToast=_h;ri.prototype.rejectPromise=wne;ri.prototype.update=Bne;ri.prototype._destroy=Vne;Object.assign(ri,ZPe);Object.keys(RPe).forEach(r=>{ri[r]=function(...e){return Tu&&Tu[r]?Tu[r](...e):null}});ri.DismissReason=cy;ri.version="11.22.2";const Xn=ri;Xn.default=Xn;typeof document<"u"&&function(r,e){var t=r.createElement("style");if(r.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var Wne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uG=Ml.createContext&&Ml.createContext(Wne),SLe=["attr","size","title"];function TLe(r,e){if(r==null)return{};var t=ALe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ALe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function xE(){return xE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},xE.apply(this,arguments)}function cG(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function wE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cG(Object(t),!0).forEach(function(n){ELe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cG(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ELe(r,e,t){return e=CLe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function CLe(r){var e=DLe(r,"string");return typeof e=="symbol"?e:e+""}function DLe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $ne(r){return r&&r.map((e,t)=>Ml.createElement(e.tag,wE({key:t},e.attr),$ne(e.child)))}function ILe(r){return e=>Ml.createElement(RLe,xE({attr:wE({},r.attr)},e),$ne(r.child))}function RLe(r){var e=t=>{var{attr:n,size:i,title:a}=r,s=TLe(r,SLe),o=i||t.size||"1em",l;return t.className&&(l=t.className),r.className&&(l=(l?l+" ":"")+r.className),Ml.createElement("svg",xE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:l,style:wE(wE({color:r.color||t.color},t.style),r.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Ml.createElement("title",null,a),r.children)};return uG!==void 0?Ml.createElement(uG.Consumer,null,t=>e(t)):e(Wne)}function H1(r){return ILe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}var ws={},G1={},fG;function kLe(){if(fG)return G1;fG=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.parseLengthAndUnit=e,G1.cssValue=t;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(n){if(typeof n=="number")return{value:n,unit:"px"};var i,a=(n.match(/^[0-9.]*/)||"").toString();a.includes(".")?i=parseFloat(a):i=parseInt(a,10);var s=(n.match(/[^0-9]*$/)||"").toString();return r[s]?{value:i,unit:s}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(i,"px.")),{value:i,unit:"px"})}function t(n){var i=e(n);return"".concat(i.value).concat(i.unit)}return G1}var j1={},hG;function MLe(){if(hG)return j1;hG=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.createAnimation=void 0;var r=function(e,t,n){var i="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return i;var a=document.createElement("style");document.head.appendChild(a);var s=a.sheet,o=`
    @keyframes `.concat(i,` {
      `).concat(t,`
    }
  `);return s&&s.insertRule(o,0),i};return j1.createAnimation=r,j1}var dG;function PLe(){if(dG)return ws;dG=1;var r=ws&&ws.__assign||function(){return r=Object.assign||function(c){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v])}return c},r.apply(this,arguments)},e=ws&&ws.__createBinding||(Object.create?function(c,f,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(f,h);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,p,v)}:function(c,f,h,p){p===void 0&&(p=h),c[p]=f[h]}),t=ws&&ws.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),n=ws&&ws.__importStar||function(){var c=function(f){return c=Object.getOwnPropertyNames||function(h){var p=[];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(p[p.length]=v);return p},c(f)};return function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p=c(f),v=0;v<p.length;v++)p[v]!=="default"&&e(h,f,p[v]);return t(h,f),h}}(),i=ws&&ws.__rest||function(c,f){var h={};for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&f.indexOf(p)<0&&(h[p]=c[p]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,p=Object.getOwnPropertySymbols(c);v<p.length;v++)f.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(c,p[v])&&(h[p[v]]=c[p[v]]);return h};Object.defineProperty(ws,"__esModule",{value:!0});var a=n(BC()),s=kLe(),o=MLe(),l=(0,o.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function u(c){var f=c.loading,h=f===void 0?!0:f,p=c.color,v=p===void 0?"#000000":p,m=c.speedMultiplier,y=m===void 0?1:m,x=c.cssOverride,w=x===void 0?{}:x,b=c.size,T=b===void 0?35:b,C=i(c,["loading","color","speedMultiplier","cssOverride","size"]),D=r({background:"transparent !important",width:(0,s.cssValue)(T),height:(0,s.cssValue)(T),borderRadius:"100%",border:"2px solid",borderTopColor:v,borderBottomColor:"transparent",borderLeftColor:v,borderRightColor:v,display:"inline-block",animation:"".concat(l," ").concat(.75/y,"s 0s infinite linear"),animationFillMode:"both"},w);return h?a.createElement("span",r({style:D},C)):null}return ws.default=u,ws}var LLe=PLe();const OLe=FC(LLe);var iN=function(r,e){return iN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},iN(r,e)};function KF(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iN(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Si=function(){return Si=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Si.apply(this,arguments)};var sM,pG;function NLe(){if(pG)return sM;pG=1;var r=!1,e,t,n,i,a,s,o,l,u,c,f,h,p,v,m;function y(){if(!r){r=!0;var w=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(w),T=/(Mac OS X)|(Windows)|(Linux)/.exec(w);if(h=/\b(iPhone|iP[ao]d)/.exec(w),p=/\b(iP[ao]d)/.exec(w),c=/Android/i.exec(w),v=/FBAN\/\w+;/i.exec(w),m=/Mobile/i.exec(w),f=!!/Win64/.exec(w),b){e=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var C=/(?:Trident\/(\d+.\d+))/.exec(w);s=C?parseFloat(C[1])+4:e,t=b[2]?parseFloat(b[2]):NaN,n=b[3]?parseFloat(b[3]):NaN,i=b[4]?parseFloat(b[4]):NaN,i?(b=/(?:Chrome\/(\d+\.\d+))/.exec(w),a=b&&b[1]?parseFloat(b[1]):NaN):a=NaN}else e=t=n=a=i=NaN;if(T){if(T[1]){var D=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(w);o=D?parseFloat(D[1].replace("_",".")):!0}else o=!1;l=!!T[2],u=!!T[3]}else o=l=u=!1}}var x={ie:function(){return y()||e},ieCompatibilityMode:function(){return y()||s>e},ie64:function(){return x.ie()&&f},firefox:function(){return y()||t},opera:function(){return y()||n},webkit:function(){return y()||i},safari:function(){return x.webkit()},chrome:function(){return y()||a},windows:function(){return y()||l},osx:function(){return y()||o},linux:function(){return y()||u},iphone:function(){return y()||h},mobile:function(){return y()||h||p||c||m},nativeApp:function(){return y()||v},android:function(){return y()||c},ipad:function(){return y()||p}};return sM=x,sM}var oM,vG;function FLe(){if(vG)return oM;vG=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return oM=e,oM}var lM,gG;function BLe(){if(gG)return lM;gG=1;var r=FLe(),e;r.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(n,i){if(!r.canUseDOM||i&&!("addEventListener"in document))return!1;var a="on"+n,s=a in document;if(!s){var o=document.createElement("div");o.setAttribute(a,"return;"),s=typeof o[a]=="function"}return!s&&e&&n==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}return lM=t,lM}var uM,mG;function VLe(){if(mG)return uM;mG=1;var r=NLe(),e=BLe(),t=10,n=40,i=800;function a(s){var o=0,l=0,u=0,c=0;return"detail"in s&&(l=s.detail),"wheelDelta"in s&&(l=-s.wheelDelta/120),"wheelDeltaY"in s&&(l=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(o=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(o=l,l=0),u=o*t,c=l*t,"deltaY"in s&&(c=s.deltaY),"deltaX"in s&&(u=s.deltaX),(u||c)&&s.deltaMode&&(s.deltaMode==1?(u*=n,c*=n):(u*=i,c*=i)),u&&!o&&(o=u<1?-1:1),c&&!l&&(l=c<1?-1:1),{spinX:o,spinY:l,pixelX:u,pixelY:c}}return a.getEventType=function(){return r.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},uM=a,uM}var cM,yG;function zLe(){return yG||(yG=1,cM=VLe()),cM}var ULe=zLe();const HLe=FC(ULe);function GLe(r,e,t,n,i,a){a===void 0&&(a=0);var s=Nm(r,e,a),o=s.width,l=s.height,u=Math.min(o,t),c=Math.min(l,n);return u>c*i?{width:c*i,height:c}:{width:u,height:u/i}}function jLe(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function W1(r,e,t,n,i){i===void 0&&(i=0);var a=Nm(e.width,e.height,i),s=a.width,o=a.height;return{x:_G(r.x,s,t.width,n),y:_G(r.y,o,t.height,n)}}function _G(r,e,t,n){var i=e*n/2-t/2;return wD(r,-i,i)}function xG(r,e){return Math.sqrt(Math.pow(r.y-e.y,2)+Math.pow(r.x-e.x,2))}function wG(r,e){return Math.atan2(e.y-r.y,e.x-r.x)*180/Math.PI}function WLe(r,e,t,n,i,a,s){a===void 0&&(a=0),s===void 0&&(s=!0);var o=s?$Le:qLe,l=Nm(e.width,e.height,a),u=Nm(e.naturalWidth,e.naturalHeight,a),c={x:o(100,((l.width-t.width/i)/2-r.x/i)/l.width*100),y:o(100,((l.height-t.height/i)/2-r.y/i)/l.height*100),width:o(100,t.width/l.width*100/i),height:o(100,t.height/l.height*100/i)},f=Math.round(o(u.width,c.width*u.width/100)),h=Math.round(o(u.height,c.height*u.height/100)),p=u.width>=u.height*n,v=p?{width:Math.round(h*n),height:h}:{width:f,height:Math.round(f/n)},m=Si(Si({},v),{x:Math.round(o(u.width-v.width,c.x*u.width/100)),y:Math.round(o(u.height-v.height,c.y*u.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:m}}function $Le(r,e){return Math.min(r,Math.max(0,e))}function qLe(r,e){return e}function YLe(r,e,t,n,i,a){var s=Nm(e.width,e.height,t),o=wD(n.width/s.width*(100/r.width),i,a),l={x:o*s.width/2-n.width/2-s.width*o*(r.x/100),y:o*s.height/2-n.height/2-s.height*o*(r.y/100)};return{crop:l,zoom:o}}function XLe(r,e,t){var n=jLe(e);return t.height>t.width?t.height/(r.height*n):t.width/(r.width*n)}function KLe(r,e,t,n,i,a){t===void 0&&(t=0);var s=Nm(e.naturalWidth,e.naturalHeight,t),o=wD(XLe(r,e,n),i,a),l=n.height>n.width?n.height/r.height:n.width/r.width,u={x:((s.width-r.width)/2-r.x)*l,y:((s.height-r.height)/2-r.y)*l};return{crop:u,zoom:o}}function bG(r,e){return{x:(e.x+r.x)/2,y:(e.y+r.y)/2}}function ZLe(r){return r*Math.PI/180}function Nm(r,e,t){var n=ZLe(t);return{width:Math.abs(Math.cos(n)*r)+Math.abs(Math.sin(n)*e),height:Math.abs(Math.sin(n)*r)+Math.abs(Math.cos(n)*e)}}function wD(r,e,t){return Math.min(Math.max(r,e),t)}function CT(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var QLe=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,JLe=1,eOe=3,tOe=1,rOe=function(r){KF(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cropperRef=ce.createRef(),t.imageRef=ce.createRef(),t.videoRef=ce.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var n=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(n){n=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(n){return n.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var n=t.computeSizes();n&&(t.emitCropData(),t.setInitialCrop(n)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(n){if(t.props.initialCroppedAreaPercentages){var i=YLe(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),a=i.crop,s=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(s)}else if(t.props.initialCroppedAreaPixels){var o=KLe(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),a=o.crop,s=o.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(s)}},t.computeSizes=function(){var n,i,a,s,o,l,u=t.imageRef.current||t.videoRef.current;if(u&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var c=t.containerRect.width/t.containerRect.height,f=((n=t.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,h=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((s=t.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,p=u.offsetWidth<f||u.offsetHeight<h,v=f/h,m=void 0;if(p)switch(t.state.mediaObjectFit){default:case"contain":m=c>v?{width:t.containerRect.height*v,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/v};break;case"horizontal-cover":m={width:t.containerRect.width,height:t.containerRect.width/v};break;case"vertical-cover":m={width:t.containerRect.height*v,height:t.containerRect.height};break}else m={width:u.offsetWidth,height:u.offsetHeight};t.mediaSize=Si(Si({},m),{naturalWidth:f,naturalHeight:h}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var y=t.props.cropSize?t.props.cropSize:GLe(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((o=t.state.cropSize)===null||o===void 0?void 0:o.height)!==y.height||((l=t.state.cropSize)===null||l===void 0?void 0:l.width)!==y.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(y),t.setState({cropSize:y},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(y),y}},t.saveContainerPosition=function(){if(t.containerRef){var n=t.containerRef.getBoundingClientRect();t.containerPosition={x:n.left,y:n.top}}},t.onMouseDown=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(n)))},t.onMouseMove=function(n){return t.onDrag(e.getMousePoint(n))},t.onScroll=function(n){t.currentDoc&&(n.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(n){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(n))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),n.touches.length===2?t.onPinchStart(n):n.touches.length===1&&t.onDragStart(e.getTouchPoint(n.touches[0]))))},t.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?t.onPinchMove(n):n.touches.length===1&&t.onDrag(e.getTouchPoint(n.touches[0]))},t.onGestureStart=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(n){if(n.preventDefault(),!t.isTouching){var i=e.getMousePoint(n),a=t.gestureZoomStart-1+n.scale;if(t.setNewZoom(a,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var s=t.gestureRotationStart+n.rotation;t.props.onRotationChange(s)}}},t.onGestureEnd=function(n){t.cleanEvents()},t.onDragStart=function(n){var i,a,s=n.x,o=n.y;t.dragStartPosition={x:s,y:o},t.dragStartCrop=Si({},t.props.crop),(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i)},t.onDrag=function(n){var i=n.x,a=n.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||a===void 0)){var s=i-t.dragStartPosition.x,o=a-t.dragStartPosition.y,l={x:t.dragStartCrop.x+s,y:t.dragStartCrop.y+o},u=t.props.restrictPosition?W1(l,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):l;t.props.onCropChange(u)}}))},t.onDragStopped=function(){var n,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(n=t.props).onInteractionEnd)===null||i===void 0||i.call(n)},t.onWheel=function(n){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(n))){n.preventDefault();var i=e.getMousePoint(n),a=HLe(n).pixelY,s=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(s,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var o,l;return(l=(o=t.props).onInteractionStart)===null||l===void 0?void 0:l.call(o)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var o,l;return(l=(o=t.props).onInteractionEnd)===null||l===void 0?void 0:l.call(o)})},250)}},t.getPointOnContainer=function(n,i){var a=n.x,s=n.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-i.x),y:t.containerRect.height/2-(s-i.y)}},t.getPointOnMedia=function(n){var i=n.x,a=n.y,s=t.props,o=s.crop,l=s.zoom;return{x:(i+o.x)/l,y:(a+o.y)/l}},t.setNewZoom=function(n,i,a){var s=a===void 0?{}:a,o=s.shouldUpdatePosition,l=o===void 0?!0:o;if(!(!t.state.cropSize||!t.props.onZoomChange)){var u=wD(n,t.props.minZoom,t.props.maxZoom);if(l){var c=t.getPointOnContainer(i,t.containerPosition),f=t.getPointOnMedia(c),h={x:f.x*u-c.x,y:f.y*u-c.y},p=t.props.restrictPosition?W1(h,t.mediaSize,t.state.cropSize,u,t.props.rotation):h;t.props.onCropChange(p)}t.props.onZoomChange(u)}},t.getCropData=function(){if(!t.state.cropSize)return null;var n=t.props.restrictPosition?W1(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return WLe(n,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var n=t.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.emitCropAreaChange=function(){var n=t.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var n=t.props.restrictPosition?W1(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(n),t.emitCropData()}},t.onKeyDown=function(n){var i,a,s=t.props,o=s.crop,l=s.onCropChange,u=s.keyboardStep,c=s.zoom,f=s.rotation,h=u;if(t.state.cropSize){n.shiftKey&&(h*=.2);var p=Si({},o);switch(n.key){case"ArrowUp":p.y-=h,n.preventDefault();break;case"ArrowDown":p.y+=h,n.preventDefault();break;case"ArrowLeft":p.x-=h,n.preventDefault();break;case"ArrowRight":p.x+=h,n.preventDefault();break;default:return}t.props.restrictPosition&&(p=W1(p,t.mediaSize,t.state.cropSize,c,f)),n.repeat||(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i),l(p)}},t.onKeyUp=function(n){var i,a;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}t.emitCropData(),(a=(i=t.props).onInteractionEnd)===null||a===void 0||a.call(i)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=QLe,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var n,i,a,s,o,l,u,c,f;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((n=t.cropSize)===null||n===void 0?void 0:n.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((o=t.crop)===null||o===void 0?void 0:o.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=t.crop)===null||u===void 0?void 0:u.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var h=this.getObjectFit();h!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:h},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,n=t.cropSize,i=t.aspect;return n?n.width/n.height:i},e.prototype.getObjectFit=function(){var t,n,i,a;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var o=this.containerRect.width/this.containerRect.height,l=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,c=l/u;return c<o?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var n=e.getTouchPoint(t.touches[0]),i=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=xG(n,i),this.lastPinchRotation=wG(n,i),this.onDragStart(bG(n,i))},e.prototype.onPinchMove=function(t){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(t.touches[0]),a=e.getTouchPoint(t.touches[1]),s=bG(i,a);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var o=xG(i,a),l=n.props.zoom*(o/n.lastPinchDistance);n.setNewZoom(l,s,{shouldUpdatePosition:!1}),n.lastPinchDistance=o;var u=wG(i,a),c=n.props.rotation+(u-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(c),n.lastPinchRotation=u})}},e.prototype.render=function(){var t=this,n,i=this.props,a=i.image,s=i.video,o=i.mediaProps,l=i.cropperProps,u=i.transform,c=i.crop,f=c.x,h=c.y,p=i.rotation,v=i.zoom,m=i.cropShape,y=i.showGrid,x=i.roundCropAreaPixels,w=i.style,b=w.containerStyle,T=w.cropAreaStyle,C=w.mediaStyle,D=i.classes,A=D.containerClassName,k=D.cropAreaClassName,I=D.mediaClassName,M=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return ce.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(O){return t.containerRef=O},"data-testid":"container",style:b,className:CT("reactEasyCrop_Container",A)},a?ce.createElement("img",Si({alt:"",className:CT("reactEasyCrop_Image",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},o,{src:a,ref:this.imageRef,style:Si(Si({},C),{transform:u||"translate(".concat(f,"px, ").concat(h,"px) rotate(").concat(p,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):s&&ce.createElement("video",Si({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:CT("reactEasyCrop_Video",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},o,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Si(Si({},C),{transform:u||"translate(".concat(f,"px, ").concat(h,"px) rotate(").concat(p,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(P){return ce.createElement("source",Si({key:P.src},P))})),this.state.cropSize&&ce.createElement("div",Si({ref:this.cropperRef,style:Si(Si({},T),{width:x?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:x?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:CT("reactEasyCrop_CropArea",m==="round"&&"reactEasyCrop_CropAreaRound",y&&"reactEasyCrop_CropAreaGrid",k)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:eOe,minZoom:JLe,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:tOe},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(ce.Component);function nOe(r,e){const t=document.createElement("canvas"),n=new Image;return n.src=r,new Promise(i=>{n.onload=()=>{t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.toBlob(s=>{const o=URL.createObjectURL(s);i(o)},"image/jpeg")}})}const iOe=async r=>new Promise(e=>{const t=new Image;t.src=r,t.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");n.width=t.width,n.height=t.height,i.drawImage(t,0,0);const a=i.getImageData(0,0,n.width,n.height),s=a.data;for(let l=0;l<s.length;l+=4){const c=(s[l]+s[l+1]+s[l+2])/3>128?255:0;s[l]=c,s[l+1]=c,s[l+2]=c}i.putImageData(a,0,0);const o=n.toDataURL("image/jpeg",1);e(o)}}),ZF=ce.createContext({});function QF(r){const e=ce.useRef(null);return e.current===null&&(e.current=r()),e.current}const JF=typeof window<"u",qne=JF?ce.useLayoutEffect:ce.useEffect,bD=ce.createContext(null);function e5(r,e){r.indexOf(e)===-1&&r.push(e)}function t5(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const nf=(r,e,t)=>t>e?e:t<r?r:t;let r5=()=>{};const af={},Yne=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function Xne(r){return typeof r=="object"&&r!==null}const Kne=r=>/^0[^.\s]+$/u.test(r);function n5(r){let e;return()=>(e===void 0&&(e=r()),e)}const jo=r=>r,aOe=(r,e)=>t=>e(r(t)),hb=(...r)=>r.reduce(aOe),Kx=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};class i5{constructor(){this.subscriptions=[]}add(e){return e5(this.subscriptions,e),()=>t5(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Uu=r=>r*1e3,Hu=r=>r/1e3;function Zne(r,e){return e?r*(1e3/e):0}const Qne=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,sOe=1e-7,oOe=12;function lOe(r,e,t,n,i){let a,s,o=0;do s=e+(t-e)/2,a=Qne(s,n,i)-r,a>0?t=s:e=s;while(Math.abs(a)>sOe&&++o<oOe);return s}function db(r,e,t,n){if(r===e&&t===n)return jo;const i=a=>lOe(a,0,1,r,t);return a=>a===0||a===1?a:Qne(i(a),e,n)}const Jne=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,eie=r=>e=>1-r(1-e),tie=db(.33,1.53,.69,.99),a5=eie(tie),rie=Jne(a5),nie=r=>(r*=2)<1?.5*a5(r):.5*(2-Math.pow(2,-10*(r-1))),s5=r=>1-Math.sin(Math.acos(r)),iie=eie(s5),aie=Jne(s5),uOe=db(.42,0,1,1),cOe=db(0,0,.58,1),sie=db(.42,0,.58,1),fOe=r=>Array.isArray(r)&&typeof r[0]!="number",oie=r=>Array.isArray(r)&&typeof r[0]=="number",hOe={linear:jo,easeIn:uOe,easeInOut:sie,easeOut:cOe,circIn:s5,circInOut:aie,circOut:iie,backIn:a5,backInOut:rie,backOut:tie,anticipate:nie},dOe=r=>typeof r=="string",SG=r=>{if(oie(r)){r5(r.length===4);const[e,t,n,i]=r;return db(e,t,n,i)}else if(dOe(r))return hOe[r];return r},DT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pOe(r,e){let t=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),r()),c(o)}const u={schedule:(c,f=!1,h=!1)=>{const v=h&&i?t:n;return f&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){a=!0;return}i=!0,[t,n]=[n,t],t.forEach(l),t.clear(),i=!1,a&&(a=!1,u.process(c))}};return u}const vOe=40;function lie(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=DT.reduce((b,T)=>(b[T]=pOe(a),b),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:p,postRender:v}=s,m=()=>{const b=af.useManualTiming?i.timestamp:performance.now();t=!1,af.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,vOe),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),v.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(m))},y=()=>{t=!0,n=!0,i.isProcessing||r(m)};return{schedule:DT.reduce((b,T)=>{const C=s[T];return b[T]=(D,A=!1,k=!1)=>(t||y(),C.schedule(D,A,k)),b},{}),cancel:b=>{for(let T=0;T<DT.length;T++)s[DT[T]].cancel(b)},state:i,steps:s}}const{schedule:mn,cancel:Qh,state:Ji,steps:fM}=lie(typeof requestAnimationFrame<"u"?requestAnimationFrame:jo,!0);let iA;function gOe(){iA=void 0}const Rs={now:()=>(iA===void 0&&Rs.set(Ji.isProcessing||af.useManualTiming?Ji.timestamp:performance.now()),iA),set:r=>{iA=r,queueMicrotask(gOe)}},uie=r=>e=>typeof e=="string"&&e.startsWith(r),o5=uie("--"),mOe=uie("var(--"),l5=r=>mOe(r)?yOe.test(r.split("/*")[0].trim()):!1,yOe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fy={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Zx={...fy,transform:r=>nf(0,1,r)},IT={...fy,default:1},ix=r=>Math.round(r*1e5)/1e5,u5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _Oe(r){return r==null}const xOe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,c5=(r,e)=>t=>!!(typeof t=="string"&&xOe.test(t)&&t.startsWith(r)||e&&!_Oe(t)&&Object.prototype.hasOwnProperty.call(t,e)),cie=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(u5);return{[r]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},wOe=r=>nf(0,255,r),hM={...fy,transform:r=>Math.round(wOe(r))},$p={test:c5("rgb","red"),parse:cie("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+hM.transform(r)+", "+hM.transform(e)+", "+hM.transform(t)+", "+ix(Zx.transform(n))+")"};function bOe(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const aN={test:c5("#"),parse:bOe,transform:$p.transform},pb=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),eh=pb("deg"),Gu=pb("%"),Vt=pb("px"),SOe=pb("vh"),TOe=pb("vw"),TG={...Gu,parse:r=>Gu.parse(r)/100,transform:r=>Gu.transform(r*100)},V0={test:c5("hsl","hue"),parse:cie("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Gu.transform(ix(e))+", "+Gu.transform(ix(t))+", "+ix(Zx.transform(n))+")"},fi={test:r=>$p.test(r)||aN.test(r)||V0.test(r),parse:r=>$p.test(r)?$p.parse(r):V0.test(r)?V0.parse(r):aN.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?$p.transform(r):V0.transform(r),getAnimatableNone:r=>{const e=fi.parse(r);return e.alpha=0,fi.transform(e)}},AOe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EOe(r){return isNaN(r)&&typeof r=="string"&&(r.match(u5)?.length||0)+(r.match(AOe)?.length||0)>0}const fie="number",hie="color",COe="var",DOe="var(",AG="${}",IOe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qx(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(IOe,l=>(fi.test(l)?(n.color.push(a),i.push(hie),t.push(fi.parse(l))):l.startsWith(DOe)?(n.var.push(a),i.push(COe),t.push(l)):(n.number.push(a),i.push(fie),t.push(parseFloat(l))),++a,AG)).split(AG);return{values:t,split:o,indexes:n,types:i}}function die(r){return Qx(r).values}function pie(r){const{split:e,types:t}=Qx(r),n=e.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=e[s],i[s]!==void 0){const o=t[s];o===fie?a+=ix(i[s]):o===hie?a+=fi.transform(i[s]):a+=i[s]}return a}}const ROe=r=>typeof r=="number"?0:fi.test(r)?fi.getAnimatableNone(r):r;function kOe(r){const e=die(r);return pie(r)(e.map(ROe))}const Jh={test:EOe,parse:die,createTransformer:pie,getAnimatableNone:kOe};function dM(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function MOe({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,a=0,s=0;if(!e)i=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=dM(l,o,r+1/3),a=dM(l,o,r),s=dM(l,o,r-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function bE(r,e){return t=>t>0?e:r}const Tn=(r,e,t)=>r+(e-r)*t,pM=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},POe=[aN,$p,V0],LOe=r=>POe.find(e=>e.test(r));function EG(r){const e=LOe(r);if(!e)return!1;let t=e.parse(r);return e===V0&&(t=MOe(t)),t}const CG=(r,e)=>{const t=EG(r),n=EG(e);if(!t||!n)return bE(r,e);const i={...t};return a=>(i.red=pM(t.red,n.red,a),i.green=pM(t.green,n.green,a),i.blue=pM(t.blue,n.blue,a),i.alpha=Tn(t.alpha,n.alpha,a),$p.transform(i))},sN=new Set(["none","hidden"]);function OOe(r,e){return sN.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function NOe(r,e){return t=>Tn(r,e,t)}function f5(r){return typeof r=="number"?NOe:typeof r=="string"?l5(r)?bE:fi.test(r)?CG:VOe:Array.isArray(r)?vie:typeof r=="object"?fi.test(r)?CG:FOe:bE}function vie(r,e){const t=[...r],n=t.length,i=r.map((a,s)=>f5(a)(a,e[s]));return a=>{for(let s=0;s<n;s++)t[s]=i[s](a);return t}}function FOe(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=f5(r[i])(r[i],e[i]));return i=>{for(const a in n)t[a]=n[a](i);return t}}function BOe(r,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=r.indexes[a][n[a]],o=r.values[s]??0;t[i]=o,n[a]++}return t}const VOe=(r,e)=>{const t=Jh.createTransformer(e),n=Qx(r),i=Qx(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?sN.has(r)&&!i.values.length||sN.has(e)&&!n.values.length?OOe(r,e):hb(vie(BOe(n,i),i.values),t):bE(r,e)};function gie(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Tn(r,e,t):f5(r)(r,e)}const zOe=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>mn.update(e,t),stop:()=>Qh(e),now:()=>Ji.isProcessing?Ji.timestamp:Rs.now()}},mie=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)n+=Math.round(r(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},SE=2e4;function h5(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<SE;)e+=t,n=r.next(e);return e>=SE?1/0:e}function UOe(r,e=100,t){const n=t({...r,keyframes:[0,e]}),i=Math.min(h5(n),SE);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:Hu(i)}}const HOe=5;function yie(r,e,t){const n=Math.max(e-HOe,0);return Zne(t-r(n),e-n)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vM=.001;function GOe({duration:r=Mn.duration,bounce:e=Mn.bounce,velocity:t=Mn.velocity,mass:n=Mn.mass}){let i,a,s=1-e;s=nf(Mn.minDamping,Mn.maxDamping,s),r=nf(Mn.minDuration,Mn.maxDuration,Hu(r)),s<1?(i=u=>{const c=u*s,f=c*r,h=c-t,p=oN(u,s),v=Math.exp(-f);return vM-h/p*v},a=u=>{const f=u*s*r,h=f*t+t,p=Math.pow(s,2)*Math.pow(u,2)*r,v=Math.exp(-f),m=oN(Math.pow(u,2),s);return(-i(u)+vM>0?-1:1)*((h-p)*v)/m}):(i=u=>{const c=Math.exp(-u*r),f=(u-t)*r+1;return-vM+c*f},a=u=>{const c=Math.exp(-u*r),f=(t-u)*(r*r);return c*f});const o=5/r,l=WOe(i,a,o);if(r=Uu(r),isNaN(l))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:r};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:r}}}const jOe=12;function WOe(r,e,t){let n=t;for(let i=1;i<jOe;i++)n=n-r(n)/e(n);return n}function oN(r,e){return r*Math.sqrt(1-e*e)}const $Oe=["duration","bounce"],qOe=["stiffness","damping","mass"];function DG(r,e){return e.some(t=>r[t]!==void 0)}function YOe(r){let e={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...r};if(!DG(r,qOe)&&DG(r,$Oe))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,a=2*nf(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:Mn.mass,stiffness:i,damping:a}}else{const t=GOe(r);e={...e,...t,mass:Mn.mass},e.isResolvedFromDuration=!0}return e}function TE(r=Mn.visualDuration,e=Mn.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:p}=YOe({...t,velocity:-Hu(t.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(l*c)),y=s-a,x=Hu(Math.sqrt(l/c)),w=Math.abs(y)<5;n||(n=w?Mn.restSpeed.granular:Mn.restSpeed.default),i||(i=w?Mn.restDelta.granular:Mn.restDelta.default);let b;if(m<1){const C=oN(x,m);b=D=>{const A=Math.exp(-m*x*D);return s-A*((v+m*x*y)/C*Math.sin(C*D)+y*Math.cos(C*D))}}else if(m===1)b=C=>s-Math.exp(-x*C)*(y+(v+x*y)*C);else{const C=x*Math.sqrt(m*m-1);b=D=>{const A=Math.exp(-m*x*D),k=Math.min(C*D,300);return s-A*((v+m*x*y)*Math.sinh(k)+C*y*Math.cosh(k))/C}}const T={calculatedDuration:p&&f||null,next:C=>{const D=b(C);if(p)o.done=C>=f;else{let A=C===0?v:0;m<1&&(A=C===0?Uu(v):yie(b,C,D));const k=Math.abs(A)<=n,I=Math.abs(s-D)<=i;o.done=k&&I}return o.value=o.done?s:D,o},toString:()=>{const C=Math.min(h5(T),SE),D=mie(A=>T.next(C*A).value,C,30);return C+"ms "+D},toTransition:()=>{}};return T}TE.applyToOptions=r=>{const e=UOe(r,100,TE);return r.ease=e.ease,r.duration=Uu(e.duration),r.type="keyframes",r};function lN({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=r[0],h={done:!1,value:f},p=k=>o!==void 0&&k<o||l!==void 0&&k>l,v=k=>o===void 0?l:l===void 0||Math.abs(o-k)<Math.abs(l-k)?o:l;let m=t*e;const y=f+m,x=s===void 0?y:s(y);x!==y&&(m=x-f);const w=k=>-m*Math.exp(-k/n),b=k=>x+w(k),T=k=>{const I=w(k),M=b(k);h.done=Math.abs(I)<=u,h.value=h.done?x:M};let C,D;const A=k=>{p(h.value)&&(C=k,D=TE({keyframes:[h.value,v(h.value)],velocity:yie(b,k,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:k=>{let I=!1;return!D&&C===void 0&&(I=!0,T(k),A(k)),C!==void 0&&k>=C?D.next(k-C):(!I&&T(k),h)}}}function XOe(r,e,t){const n=[],i=t||af.mix||gie,a=r.length-1;for(let s=0;s<a;s++){let o=i(r[s],r[s+1]);if(e){const l=Array.isArray(e)?e[s]||jo:e;o=hb(l,o)}n.push(o)}return n}function KOe(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const a=r.length;if(r5(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=r[0]===r[1];r[0]>r[a-1]&&(r=[...r].reverse(),e=[...e].reverse());const o=XOe(e,n,i),l=o.length,u=c=>{if(s&&c<r[0])return e[0];let f=0;if(l>1)for(;f<r.length-2&&!(c<r[f+1]);f++);const h=Kx(r[f],r[f+1],c);return o[f](h)};return t?c=>u(nf(r[0],r[a-1],c)):u}function ZOe(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Kx(0,e,n);r.push(Tn(t,1,i))}}function QOe(r){const e=[0];return ZOe(e,r.length-1),e}function JOe(r,e){return r.map(t=>t*e)}function eNe(r,e){return r.map(()=>e||sie).splice(0,r.length-1)}function ax({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=fOe(n)?n.map(SG):SG(n),a={done:!1,value:e[0]},s=JOe(t&&t.length===e.length?t:QOe(e),r),o=KOe(s,e,{ease:Array.isArray(i)?i:eNe(e,i)});return{calculatedDuration:r,next:l=>(a.value=o(l),a.done=l>=r,a)}}const tNe=r=>r!==null;function d5(r,{repeat:e,repeatType:t="loop"},n,i=1){const a=r.filter(tNe),o=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const rNe={decay:lN,inertia:lN,tween:ax,keyframes:ax,spring:TE};function _ie(r){typeof r.type=="string"&&(r.type=rNe[r.type])}class p5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const nNe=r=>r/100;class v5 extends p5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Rs.now()&&this.tick(Rs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_ie(e);const{type:t=ax,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=t||ax;l!==ax&&typeof o[0]!="number"&&(this.mixKeyframes=hb(nNe,gie(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=h5(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:p,type:v,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,T=n;if(f){const k=Math.min(this.currentTime,i)/o;let I=Math.floor(k),M=k%1;!M&&k>=1&&(M=1),M===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(h==="reverse"?(M=1-M,p&&(M-=p/o)):h==="mirror"&&(T=s)),b=nf(0,1,M)*o}const C=w?{done:!1,value:c[0]}:T.next(b);a&&(C.value=a(C.value));let{done:D}=C;!w&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return A&&v!==lN&&(C.value=d5(c,this.options,y,this.speed)),m&&m(C.value),A&&this.finish(),C}then(e,t){return this.finished.then(e,t)}get duration(){return Hu(this.calculatedDuration)}get time(){return Hu(this.currentTime)}set time(e){e=Uu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Hu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=zOe,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function iNe(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const qp=r=>r*180/Math.PI,uN=r=>{const e=qp(Math.atan2(r[1],r[0]));return cN(e)},aNe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:uN,rotateZ:uN,skewX:r=>qp(Math.atan(r[1])),skewY:r=>qp(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},cN=r=>(r=r%360,r<0&&(r+=360),r),IG=uN,RG=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),kG=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),sNe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RG,scaleY:kG,scale:r=>(RG(r)+kG(r))/2,rotateX:r=>cN(qp(Math.atan2(r[6],r[5]))),rotateY:r=>cN(qp(Math.atan2(-r[2],r[0]))),rotateZ:IG,rotate:IG,skewX:r=>qp(Math.atan(r[4])),skewY:r=>qp(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function fN(r){return r.includes("scale")?1:0}function hN(r,e){if(!r||r==="none")return fN(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=sNe,i=t;else{const o=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=aNe,i=o}if(!i)return fN(e);const a=n[e],s=i[1].split(",").map(lNe);return typeof a=="function"?a(s):s[a]}const oNe=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return hN(t,e)};function lNe(r){return parseFloat(r.trim())}const hy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dy=new Set(hy),MG=r=>r===fy||r===Vt,uNe=new Set(["x","y","z"]),cNe=hy.filter(r=>!uNe.has(r));function fNe(r){const e=[];return cNe.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const ov={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>hN(e,"x"),y:(r,{transform:e})=>hN(e,"y")};ov.translateX=ov.x;ov.translateY=ov.y;const lv=new Set;let dN=!1,pN=!1,vN=!1;function xie(){if(pN){const r=Array.from(lv).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=fNe(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([a,s])=>{n.getValue(a)?.set(s)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}pN=!1,dN=!1,lv.forEach(r=>r.complete(vN)),lv.clear()}function wie(){lv.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(pN=!0)})}function hNe(){vN=!0,wie(),xie(),vN=!1}class g5{constructor(e,t,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(lv.add(this),dN||(dN=!0,mn.read(wie),mn.resolveKeyframes(xie))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const o=n.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}iNe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lv.delete(this)}cancel(){this.state==="scheduled"&&(lv.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dNe=r=>r.startsWith("--");function pNe(r,e,t){dNe(e)?r.style.setProperty(e,t):r.style[e]=t}const vNe=n5(()=>window.ScrollTimeline!==void 0),gNe={};function mNe(r,e){const t=n5(r);return()=>gNe[e]??t()}const bie=mNe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),M_=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,PG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:M_([0,.65,.55,1]),circOut:M_([.55,0,1,.45]),backIn:M_([.31,.01,.66,-.59]),backOut:M_([.33,1.53,.69,.99])};function Sie(r,e){if(r)return typeof r=="function"?bie()?mie(r,e):"ease-out":oie(r)?M_(r):Array.isArray(r)?r.map(t=>Sie(t,e)||PG.easeOut):PG[r]}function yNe(r,e,t,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const f=Sie(o,i);Array.isArray(f)&&(c.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),r.animate(c,h)}function Tie(r){return typeof r=="function"&&"applyToOptions"in r}function _Ne({type:r,...e}){return Tie(r)&&bie()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class xNe extends p5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,r5(typeof e.type!="string");const u=_Ne(e);this.animation=yNe(t,n,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=d5(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):pNe(t,n,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Hu(Number(e))}get time(){return Hu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Uu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&vNe()?(this.animation.timeline=e,jo):t(this)}}const Aie={anticipate:nie,backInOut:rie,circInOut:aie};function wNe(r){return r in Aie}function bNe(r){typeof r.ease=="string"&&wNe(r.ease)&&(r.ease=Aie[r.ease])}const LG=10;class SNe extends xNe{constructor(e){bNe(e),_ie(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new v5({...s,autoplay:!1}),l=Uu(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-LG).value,o.sample(l).value,LG),o.stop()}}const OG=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Jh.test(r)||r==="0")&&!r.startsWith("url("));function TNe(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function ANe(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=r[r.length-1],s=OG(i,e),o=OG(a,e);return!s||!o?!1:TNe(r)||(t==="spring"||Tie(t))&&n}function gN(r){r.duration=0,r.type}const ENe=new Set(["opacity","clipPath","filter","transform"]),CNe=n5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DNe(r){const{motionValue:e,name:t,repeatDelay:n,repeatType:i,damping:a,type:s}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return CNe()&&t&&ENe.has(t)&&(t!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const INe=40;class RNe extends p5{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:c,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rs.now();const h={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:c,...f},p=c?.KeyframeResolver||g5;this.keyframeResolver=new p(o,(v,m,y)=>this.onKeyframesResolved(v,m,h,!y),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=Rs.now(),ANe(e,a,s,o)||((af.instantAnimations||!l)&&c?.(d5(e,n,t)),e[0]=e[e.length-1],gN(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>INe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},p=!u&&DNe(h)?new SNe({...h,element:h.motionValue.owner.current}):new v5(h);p.finished.then(()=>this.notifyFinished()).catch(jo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hNe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const kNe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MNe(r){const e=kNe.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function Eie(r,e,t=1){const[n,i]=MNe(r);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const s=a.trim();return Yne(s)?parseFloat(s):s}return l5(i)?Eie(i,e,t+1):i}function m5(r,e){return r?.[e]??r?.default??r}const Cie=new Set(["width","height","top","left","right","bottom",...hy]),PNe={test:r=>r==="auto",parse:r=>r},Die=r=>e=>e.test(r),Iie=[fy,Vt,Gu,eh,TOe,SOe,PNe],NG=r=>Iie.find(Die(r));function LNe(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Kne(r):!0}const ONe=new Set(["brightness","contrast","saturate","opacity"]);function NNe(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(u5)||[];if(!n)return r;const i=t.replace(n,"");let a=ONe.has(e)?1:0;return n!==t&&(a*=100),e+"("+a+i+")"}const FNe=/\b([a-z-]*)\(.*?\)/gu,mN={...Jh,getAnimatableNone:r=>{const e=r.match(FNe);return e?e.map(NNe).join(" "):r}},FG={...fy,transform:Math.round},BNe={rotate:eh,rotateX:eh,rotateY:eh,rotateZ:eh,scale:IT,scaleX:IT,scaleY:IT,scaleZ:IT,skew:eh,skewX:eh,skewY:eh,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Zx,originX:TG,originY:TG,originZ:Vt},y5={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt,...BNe,zIndex:FG,fillOpacity:Zx,strokeOpacity:Zx,numOctaves:FG},VNe={...y5,color:fi,backgroundColor:fi,outlineColor:fi,fill:fi,stroke:fi,borderColor:fi,borderTopColor:fi,borderRightColor:fi,borderBottomColor:fi,borderLeftColor:fi,filter:mN,WebkitFilter:mN},Rie=r=>VNe[r];function kie(r,e){let t=Rie(r);return t!==mN&&(t=Jh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const zNe=new Set(["auto","none","0"]);function UNe(r,e,t){let n=0,i;for(;n<r.length&&!i;){const a=r[n];typeof a=="string"&&!zNe.has(a)&&Qx(a).values.length&&(i=r[n]),n++}if(i&&t)for(const a of e)r[a]=kie(t,i)}class HNe extends g5{constructor(e,t,n,i,a){super(e,t,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),l5(u))){const c=Eie(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Cie.has(n)||e.length!==2)return;const[i,a]=e,s=NG(i),o=NG(a);if(s!==o)if(MG(s)&&MG(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ov[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||LNe(e[i]))&&n.push(i);n.length&&UNe(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ov[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=ov[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function GNe(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const i=t?.[r]??n.querySelectorAll(r);return i?Array.from(i):[]}return Array.from(r)}const Mie=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function Pie(r){return Xne(r)&&"offsetHeight"in r}const BG=30,jNe=r=>!isNaN(parseFloat(r));class WNe{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Rs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Rs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jNe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new i5);const n=this.events[e].add(t);return e==="change"?()=>{n(),mn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BG)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,BG);return Zne(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fm(r,e){return new WNe(r,e)}const{schedule:_5}=lie(queueMicrotask,!1),yl={x:!1,y:!1};function Lie(){return yl.x||yl.y}function $Ne(r){return r==="x"||r==="y"?yl[r]?null:(yl[r]=!0,()=>{yl[r]=!1}):yl.x||yl.y?null:(yl.x=yl.y=!0,()=>{yl.x=yl.y=!1})}function Oie(r,e){const t=GNe(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function VG(r){return!(r.pointerType==="touch"||Lie())}function qNe(r,e,t={}){const[n,i,a]=Oie(r,t),s=o=>{if(!VG(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=f=>{VG(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const Nie=(r,e)=>e?r===e?!0:Nie(r,e.parentElement):!1,x5=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,YNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XNe(r){return YNe.has(r.tagName)||r.tabIndex!==-1}const aA=new WeakSet;function zG(r){return e=>{e.key==="Enter"&&r(e)}}function gM(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KNe=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=zG(()=>{if(aA.has(t))return;gM(t,"down");const i=zG(()=>{gM(t,"up")}),a=()=>gM(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function UG(r){return x5(r)&&!Lie()}function ZNe(r,e,t={}){const[n,i,a]=Oie(r,t),s=o=>{const l=o.currentTarget;if(!UG(o))return;aA.add(l);const u=e(l,o),c=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),aA.has(l)&&aA.delete(l),UG(p)&&typeof u=="function"&&u(p,{success:v})},f=p=>{c(p,l===window||l===document||t.useGlobalTarget||Nie(l,p.target))},h=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),Pie(o)&&(o.addEventListener("focus",u=>KNe(u,i)),!XNe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Fie(r){return Xne(r)&&"ownerSVGElement"in r}function QNe(r){return Fie(r)&&r.tagName==="svg"}const Ia=r=>!!(r&&r.getVelocity),JNe=[...Iie,fi,Jh],e4e=r=>JNe.find(Die(r)),w5=ce.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class t4e extends ce.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,i=Pie(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function r4e({children:r,isPresent:e,anchorX:t,root:n}){const i=ce.useId(),a=ce.useRef(null),s=ce.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ce.useContext(w5);return ce.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:f,right:h}=s.current;if(e||!a.current||!l||!u)return;const p=t==="left"?`left: ${f}`:`right: ${h}`;a.current.dataset.motionPopId=i;const v=document.createElement("style");o&&(v.nonce=o);const m=n??document.head;return m.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{m.contains(v)&&m.removeChild(v)}},[e]),q.jsx(t4e,{isPresent:e,childRef:a,sizeRef:s,children:ce.cloneElement(r,{ref:a})})}const n4e=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const u=QF(i4e),c=ce.useId();let f=!0,h=ce.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:t,custom:i,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[t,u,n]);return a&&f&&(h={...h}),ce.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[t]),ce.useEffect(()=>{!t&&!u.size&&n&&n()},[t]),s==="popLayout"&&(r=q.jsx(r4e,{isPresent:t,anchorX:o,root:l,children:r})),q.jsx(bD.Provider,{value:h,children:r})};function i4e(){return new Map}function Bie(r=!0){const e=ce.useContext(bD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,a=ce.useId();ce.useEffect(()=>{if(r)return i(a)},[r]);const s=ce.useCallback(()=>r&&n&&n(a),[a,n,r]);return!t&&n?[!1,s]:[!0]}const RT=r=>r.key||"";function HG(r){const e=[];return ce.Children.forEach(r,t=>{ce.isValidElement(t)&&e.push(t)}),e}const GG=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[u,c]=Bie(s),f=ce.useMemo(()=>HG(r),[r]),h=s&&!u?[]:f.map(RT),p=ce.useRef(!0),v=ce.useRef(f),m=QF(()=>new Map),[y,x]=ce.useState(f),[w,b]=ce.useState(f);qne(()=>{p.current=!1,v.current=f;for(let D=0;D<w.length;D++){const A=RT(w[D]);h.includes(A)?m.delete(A):m.get(A)!==!0&&m.set(A,!1)}},[w,h.length,h.join("-")]);const T=[];if(f!==y){let D=[...f];for(let A=0;A<w.length;A++){const k=w[A],I=RT(k);h.includes(I)||(D.splice(A,0,k),T.push(k))}return a==="wait"&&T.length&&(D=T),b(HG(D)),x(f),null}const{forceRender:C}=ce.useContext(ZF);return q.jsx(q.Fragment,{children:w.map(D=>{const A=RT(D),k=s&&!u?!1:f===w||h.includes(A),I=()=>{if(m.has(A))m.set(A,!0);else return;let M=!0;m.forEach(P=>{P||(M=!1)}),M&&(C?.(),b(v.current),s&&c?.(),n&&n())};return q.jsx(n4e,{isPresent:k,initial:!p.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:k?void 0:I,anchorX:o,children:D},A)})})},Vie=ce.createContext({strict:!1}),jG={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bm={};for(const r in jG)Bm[r]={isEnabled:e=>jG[r].some(t=>!!e[t])};function a4e(r){for(const e in r)Bm[e]={...Bm[e],...r[e]}}const s4e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function AE(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||s4e.has(r)}let zie=r=>!AE(r);function o4e(r){typeof r=="function"&&(zie=e=>e.startsWith("on")?!AE(e):r(e))}try{o4e(require("@emotion/is-prop-valid").default)}catch{}function l4e(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(zie(i)||t===!0&&AE(i)||!e&&!AE(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}const SD=ce.createContext({});function TD(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Jx(r){return typeof r=="string"||Array.isArray(r)}const b5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S5=["initial",...b5];function AD(r){return TD(r.animate)||S5.some(e=>Jx(r[e]))}function Uie(r){return!!(AD(r)||r.variants)}function u4e(r,e){if(AD(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Jx(t)?t:void 0,animate:Jx(n)?n:void 0}}return r.inherit!==!1?e:{}}function c4e(r){const{initial:e,animate:t}=u4e(r,ce.useContext(SD));return ce.useMemo(()=>({initial:e,animate:t}),[WG(e),WG(t)])}function WG(r){return Array.isArray(r)?r.join(" "):r}const ew={};function f4e(r){for(const e in r)ew[e]=r[e],o5(e)&&(ew[e].isCSSVariable=!0)}function Hie(r,{layout:e,layoutId:t}){return dy.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!ew[r]||r==="opacity")}const h4e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d4e=hy.length;function p4e(r,e,t){let n="",i=!0;for(let a=0;a<d4e;a++){const s=hy[a],o=r[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=Mie(o,y5[s]);if(!l){i=!1;const c=h4e[s]||s;n+=`${c}(${u}) `}t&&(e[s]=u)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function T5(r,e,t){const{style:n,vars:i,transformOrigin:a}=r;let s=!1,o=!1;for(const l in e){const u=e[l];if(dy.has(l)){s=!0;continue}else if(o5(l)){i[l]=u;continue}else{const c=Mie(u,y5[l]);l.startsWith("origin")?(o=!0,a[l]=c):n[l]=c}}if(e.transform||(s||t?n.transform=p4e(e,r.transform,t):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;n.transformOrigin=`${l} ${u} ${c}`}}const A5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gie(r,e,t){for(const n in e)!Ia(e[n])&&!Hie(n,t)&&(r[n]=e[n])}function v4e({transformTemplate:r},e){return ce.useMemo(()=>{const t=A5();return T5(t,e,r),Object.assign({},t.vars,t.style)},[e])}function g4e(r,e){const t=r.style||{},n={};return Gie(n,t,r),Object.assign(n,v4e(r,e)),n}function m4e(r,e){const t={},n=g4e(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const y4e={offset:"stroke-dashoffset",array:"stroke-dasharray"},_4e={offset:"strokeDashoffset",array:"strokeDasharray"};function x4e(r,e,t=1,n=0,i=!0){r.pathLength=1;const a=i?y4e:_4e;r[a.offset]=Vt.transform(-n);const s=Vt.transform(e),o=Vt.transform(t);r[a.array]=`${s} ${o}`}function jie(r,{attrX:e,attrY:t,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,u,c){if(T5(r,o,u),l){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:h}=r;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),n!==void 0&&(f.scale=n),i!==void 0&&x4e(f,i,a,s,!1)}const Wie=()=>({...A5(),attrs:{}}),$ie=r=>typeof r=="string"&&r.toLowerCase()==="svg";function w4e(r,e,t,n){const i=ce.useMemo(()=>{const a=Wie();return jie(a,e,$ie(n),r.transformTemplate,r.style),{...a.attrs,style:{...a.style}}},[e]);if(r.style){const a={};Gie(a,r.style,r),i.style={...a,...i.style}}return i}const b4e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E5(r){return typeof r!="string"||r.includes("-")?!1:!!(b4e.indexOf(r)>-1||/[A-Z]/u.test(r))}function S4e(r,e,t,{latestValues:n},i,a=!1){const o=(E5(r)?w4e:m4e)(e,n,i,r),l=l4e(e,typeof r=="string",a),u=r!==ce.Fragment?{...l,...o,ref:t}:{},{children:c}=e,f=ce.useMemo(()=>Ia(c)?c.get():c,[c]);return ce.createElement(r,{...u,children:f})}function $G(r){const e=[{},{}];return r?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function C5(r,e,t,n){if(typeof e=="function"){const[i,a]=$G(n);e=e(t!==void 0?t:r.custom,i,a)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,a]=$G(n);e=e(t!==void 0?t:r.custom,i,a)}return e}function sA(r){return Ia(r)?r.get():r}function T4e({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,i){return{latestValues:A4e(t,n,i,r),renderState:e()}}function A4e(r,e,t,n){const i={},a=n(r,{});for(const h in a)i[h]=sA(a[h]);let{initial:s,animate:o}=r;const l=AD(r),u=Uie(r);e&&u&&!l&&r.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const f=c?o:s;if(f&&typeof f!="boolean"&&!TD(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=C5(r,h[p]);if(v){const{transitionEnd:m,transition:y,...x}=v;for(const w in x){let b=x[w];if(Array.isArray(b)){const T=c?b.length-1:0;b=b[T]}b!==null&&(i[w]=b)}for(const w in m)i[w]=m[w]}}}return i}const qie=r=>(e,t)=>{const n=ce.useContext(SD),i=ce.useContext(bD),a=()=>T4e(r,e,n,i);return t?a():QF(a)};function D5(r,e,t){const{style:n}=r,i={};for(const a in n)(Ia(n[a])||e.style&&Ia(e.style[a])||Hie(a,r)||t?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const E4e=qie({scrapeMotionValuesFromProps:D5,createRenderState:A5});function Yie(r,e,t){const n=D5(r,e,t);for(const i in r)if(Ia(r[i])||Ia(e[i])){const a=hy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=r[i]}return n}const C4e=qie({scrapeMotionValuesFromProps:Yie,createRenderState:Wie}),D4e=Symbol.for("motionComponentSymbol");function z0(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function I4e(r,e,t){return ce.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):z0(t)&&(t.current=n))},[e])}const I5=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R4e="framerAppearId",Xie="data-"+I5(R4e),Kie=ce.createContext({});function k4e(r,e,t,n,i){const{visualElement:a}=ce.useContext(SD),s=ce.useContext(Vie),o=ce.useContext(bD),l=ce.useContext(w5).reducedMotion,u=ce.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(r,{visualState:e,parent:a,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=ce.useContext(Kie);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&M4e(u.current,t,i,f);const h=ce.useRef(!1);ce.useInsertionEffect(()=>{c&&h.current&&c.update(t,o)});const p=t[Xie],v=ce.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return qne(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),ce.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),v.current=!1),c.enteringChildren=void 0)}),c}function M4e(r,e,t,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:Zie(r.parent)),r.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&z0(o),visualElement:r,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function Zie(r){if(r)return r.options.allowProjection!==!1?r.projection:Zie(r.parent)}function mM(r,{forwardMotionProps:e=!1}={},t,n){t&&a4e(t);const i=E5(r)?C4e:E4e;function a(o,l){let u;const c={...ce.useContext(w5),...o,layoutId:P4e(o)},{isStatic:f}=c,h=c4e(o),p=i(o,f);if(!f&&JF){L4e();const v=O4e(c);u=v.MeasureLayout,h.visualElement=k4e(r,p,c,n,v.ProjectionNode)}return q.jsxs(SD.Provider,{value:h,children:[u&&h.visualElement?q.jsx(u,{visualElement:h.visualElement,...c}):null,S4e(r,o,I4e(p,h.visualElement,l),p,f,e)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const s=ce.forwardRef(a);return s[D4e]=r,s}function P4e({layoutId:r}){const e=ce.useContext(ZF).id;return e&&r!==void 0?e+"-"+r:r}function L4e(r,e){ce.useContext(Vie).strict}function O4e(r){const{drag:e,layout:t}=Bm;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function N4e(r,e){if(typeof Proxy>"u")return mM;const t=new Map,n=(a,s)=>mM(a,s,r,e),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(t.has(s)||t.set(s,mM(s,void 0,r,e)),t.get(s))})}function Qie({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function F4e({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function B4e(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function yM(r){return r===void 0||r===1}function yN({scale:r,scaleX:e,scaleY:t}){return!yM(r)||!yM(e)||!yM(t)}function Cp(r){return yN(r)||Jie(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Jie(r){return qG(r.x)||qG(r.y)}function qG(r){return r&&r!=="0%"}function EE(r,e,t){const n=r-t,i=e*n;return t+i}function YG(r,e,t,n,i){return i!==void 0&&(r=EE(r,i,n)),EE(r,t,n)+e}function _N(r,e=0,t=1,n,i){r.min=YG(r.min,e,t,n,i),r.max=YG(r.max,e,t,n,i)}function eae(r,{x:e,y:t}){_N(r.x,e.translate,e.scale,e.originPoint),_N(r.y,t.translate,t.scale,t.originPoint)}const XG=.999999999999,KG=1.0000000000001;function V4e(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=t[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&H0(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,eae(r,s)),n&&Cp(a.latestValues)&&H0(r,a.latestValues))}e.x<KG&&e.x>XG&&(e.x=1),e.y<KG&&e.y>XG&&(e.y=1)}function U0(r,e){r.min=r.min+e,r.max=r.max+e}function ZG(r,e,t,n,i=.5){const a=Tn(r.min,r.max,i);_N(r,e,t,a,n)}function H0(r,e){ZG(r.x,e.x,e.scaleX,e.scale,e.originX),ZG(r.y,e.y,e.scaleY,e.scale,e.originY)}function tae(r,e){return Qie(B4e(r.getBoundingClientRect(),e))}function z4e(r,e,t){const n=tae(r,t),{scroll:i}=e;return i&&(U0(n.x,i.offset.x),U0(n.y,i.offset.y)),n}const QG=()=>({translate:0,scale:1,origin:0,originPoint:0}),G0=()=>({x:QG(),y:QG()}),JG=()=>({min:0,max:0}),Wn=()=>({x:JG(),y:JG()}),xN={current:null},rae={current:!1};function U4e(){if(rae.current=!0,!!JF)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>xN.current=r.matches;r.addEventListener("change",e),e()}else xN.current=!1}const H4e=new WeakMap;function G4e(r,e,t){for(const n in e){const i=e[n],a=t[n];if(Ia(i))r.addValue(n,i);else if(Ia(a))r.addValue(n,Fm(i,{owner:r}));else if(a!==i)if(r.hasValue(n)){const s=r.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=r.getStaticValue(n);r.addValue(n,Fm(s!==void 0?s:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const ej=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j4e{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=g5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Rs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,mn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=AD(t),this.isVariantNode=Uie(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Ia(p)&&p.set(l[h])}}mount(e){this.current=e,H4e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),rae.current||U4e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xN.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qh(this.notifyUpdate),Qh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=dy.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&mn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bm){const t=Bm[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ej.length;n++){const i=ej[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=G4e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Fm(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Yne(n)||Kne(n))?n=parseFloat(n):!e4e(n)&&Jh.test(t)&&(n=kie(e,t)),this.setBaseTarget(e,Ia(n)?n.get():n)),Ia(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=C5(this.props,t,this.presenceContext?.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ia(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new i5),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){_5.render(this.render)}}class nae extends j4e{constructor(){super(...arguments),this.KeyframeResolver=HNe}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ia(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function iae(r,{style:e,vars:t},n,i){const a=r.style;let s;for(s in e)a[s]=e[s];i?.applyProjectionStyles(a,n);for(s in t)a.setProperty(s,t[s])}function W4e(r){return window.getComputedStyle(r)}class $4e extends nae{constructor(){super(...arguments),this.type="html",this.renderInstance=iae}readValueFromInstance(e,t){if(dy.has(t))return this.projection?.isProjecting?fN(t):oNe(e,t);{const n=W4e(e),i=(o5(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tae(e,t)}build(e,t,n){T5(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return D5(e,t,n)}}const aae=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q4e(r,e,t,n){iae(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(aae.has(i)?i:I5(i),e.attrs[i])}class Y4e extends nae{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(dy.has(t)){const n=Rie(t);return n&&n.default||0}return t=aae.has(t)?t:I5(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Yie(e,t,n)}build(e,t,n){jie(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){q4e(e,t,n,i)}mount(e){this.isSVGTag=$ie(e.tagName),super.mount(e)}}const X4e=(r,e)=>E5(r)?new Y4e(e):new $4e(e,{allowProjection:r!==ce.Fragment});function lm(r,e,t){const n=r.getProps();return C5(n,e,t!==void 0?t:n.custom,r)}const wN=r=>Array.isArray(r);function K4e(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Fm(t))}function Z4e(r){return wN(r)?r[r.length-1]||0:r}function Q4e(r,e){const t=lm(r,e);let{transitionEnd:n={},transition:i={},...a}=t||{};a={...a,...n};for(const s in a){const o=Z4e(a[s]);K4e(r,s,o)}}function J4e(r){return!!(Ia(r)&&r.add)}function bN(r,e){const t=r.getValue("willChange");if(J4e(t))return t.add(e);if(!t&&af.WillChange){const n=new af.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function sae(r){return r.props[Xie]}const e3e=r=>r!==null;function t3e(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(e3e),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const r3e={type:"spring",stiffness:500,damping:25,restSpeed:10},n3e=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),i3e={type:"keyframes",duration:.8},a3e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s3e=(r,{keyframes:e})=>e.length>2?i3e:dy.has(r)?r.startsWith("scale")?n3e(e[1]):r3e:a3e;function o3e({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const R5=(r,e,t,n={},i,a)=>s=>{const o=m5(n,r)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Uu(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:r,motionValue:e,element:a?void 0:i};o3e(o)||Object.assign(c,s3e(r,c)),c.duration&&(c.duration=Uu(c.duration)),c.repeatDelay&&(c.repeatDelay=Uu(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(gN(c),c.delay===0&&(f=!0)),(af.instantAnimations||af.skipAnimations)&&(f=!0,gN(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const h=t3e(c.keyframes,o);if(h!==void 0){mn.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new v5(c):new RNe(c)};function l3e({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function oae(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:a=r.getDefaultTransition(),transitionEnd:s,...o}=e;n&&(a=n);const l=[],u=i&&r.animationState&&r.animationState.getState()[i];for(const c in o){const f=r.getValue(c,r.latestValues[c]??null),h=o[c];if(h===void 0||u&&l3e(u,c))continue;const p={delay:t,...m5(a||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const x=sae(r);if(x){const w=window.MotionHandoffAnimation(x,c,mn);w!==null&&(p.startTime=w,m=!0)}}bN(r,c),f.start(R5(c,f,h,r.shouldReduceMotion&&Cie.has(c)?{type:!1}:p,r,m));const y=f.animation;y&&l.push(y)}return s&&Promise.all(l).then(()=>{mn.update(()=>{s&&Q4e(r,s)})}),l}function lae(r,e,t,n=0,i=1){const a=Array.from(r).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),s=r.size,o=(s-1)*n;return typeof t=="function"?t(a,s):i===1?a*n:o-a*n}function SN(r,e,t={}){const n=lm(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const a=n?()=>Promise.all(oae(r,n,t)):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return u3e(r,e,l,u,c,f,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(t.delay)])}function u3e(r,e,t=0,n=0,i=0,a=1,s){const o=[];for(const l of r.variantChildren)l.notify("AnimationStart",e),o.push(SN(l,e,{...s,delay:t+(typeof n=="function"?0:n)+lae(r.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function c3e(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>SN(r,a,t));n=Promise.all(i)}else if(typeof e=="string")n=SN(r,e,t);else{const i=typeof e=="function"?lm(r,e,t.custom):e;n=Promise.all(oae(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function uae(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const f3e=S5.length;function cae(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?cae(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<f3e;t++){const n=S5[t],i=r.props[n];(Jx(i)||i===!1)&&(e[n]=i)}return e}const h3e=[...b5].reverse(),d3e=b5.length;function p3e(r){return e=>Promise.all(e.map(({animation:t,options:n})=>c3e(r,t,n)))}function v3e(r){let e=p3e(r),t=tj(),n=!0;const i=l=>(u,c)=>{const f=lm(r,c,l==="exit"?r.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:p,...v}=f;u={...u,...v,...p}}return u};function a(l){e=l(r)}function s(l){const{props:u}=r,c=cae(r.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let y=0;y<d3e;y++){const x=h3e[y],w=t[x],b=u[x]!==void 0?u[x]:c[x],T=Jx(b),C=x===l?w.isActive:null;C===!1&&(v=y);let D=b===c[x]&&b!==u[x]&&T;if(D&&n&&r.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...p},!w.isActive&&C===null||!b&&!w.prevProp||TD(b)||typeof b=="boolean")continue;const A=g3e(w.prevProp,b);let k=A||x===l&&w.isActive&&!D&&T||y>v&&T,I=!1;const M=Array.isArray(b)?b:[b];let P=M.reduce(i(x),{});C===!1&&(P={});const{prevResolvedValues:O={}}=w,N={...O,...P},G=X=>{k=!0,h.has(X)&&(I=!0,h.delete(X)),w.needsAnimating[X]=!0;const ie=r.getValue(X);ie&&(ie.liveStyle=!1)};for(const X in N){const ie=P[X],Z=O[X];if(p.hasOwnProperty(X))continue;let W=!1;wN(ie)&&wN(Z)?W=!uae(ie,Z):W=ie!==Z,W?ie!=null?G(X):h.add(X):ie!==void 0&&h.has(X)?G(X):w.protectedKeys[X]=!0}w.prevProp=b,w.prevResolvedValues=P,w.isActive&&(p={...p,...P}),n&&r.blockInitialAnimation&&(k=!1);const j=D&&A;k&&(!j||I)&&f.push(...M.map(X=>{const ie={type:x};if(typeof X=="string"&&n&&!j&&r.manuallyAnimateOnMount&&r.parent){const{parent:Z}=r,W=lm(Z,X);if(Z.enteringChildren&&W){const{delayChildren:Q}=W.transition||{};ie.delay=lae(Z.enteringChildren,r,Q)}}return{animation:X,options:ie}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=lm(r,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const w=r.getBaseTarget(x),b=r.getValue(x);b&&(b.liveStyle=!0),y[x]=w??null}),f.push({animation:y})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!r.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(f):Promise.resolve()}function o(l,u){if(t[l].isActive===u)return Promise.resolve();r.variantChildren?.forEach(f=>f.animationState?.setActive(l,u)),t[l].isActive=u;const c=s(l);for(const f in t)t[f].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=tj(),n=!0}}}function g3e(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!uae(e,r):!1}function tp(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tj(){return{animate:tp(!0),whileInView:tp(),whileHover:tp(),whileTap:tp(),whileDrag:tp(),whileFocus:tp(),exit:tp()}}class pd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class m3e extends pd{constructor(e){super(e),e.animationState||(e.animationState=v3e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();TD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let y3e=0;class _3e extends pd{constructor(){super(...arguments),this.id=y3e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const x3e={animation:{Feature:m3e},exit:{Feature:_3e}};function tw(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function vb(r){return{point:{x:r.pageX,y:r.pageY}}}const w3e=r=>e=>x5(e)&&r(e,vb(e));function sx(r,e,t,n){return tw(r,e,w3e(t),n)}const fae=1e-4,b3e=1-fae,S3e=1+fae,hae=.01,T3e=0-hae,A3e=0+hae;function is(r){return r.max-r.min}function E3e(r,e,t){return Math.abs(r-e)<=t}function rj(r,e,t,n=.5){r.origin=n,r.originPoint=Tn(e.min,e.max,r.origin),r.scale=is(t)/is(e),r.translate=Tn(t.min,t.max,r.origin)-r.originPoint,(r.scale>=b3e&&r.scale<=S3e||isNaN(r.scale))&&(r.scale=1),(r.translate>=T3e&&r.translate<=A3e||isNaN(r.translate))&&(r.translate=0)}function ox(r,e,t,n){rj(r.x,e.x,t.x,n?n.originX:void 0),rj(r.y,e.y,t.y,n?n.originY:void 0)}function nj(r,e,t){r.min=t.min+e.min,r.max=r.min+is(e)}function C3e(r,e,t){nj(r.x,e.x,t.x),nj(r.y,e.y,t.y)}function ij(r,e,t){r.min=e.min-t.min,r.max=r.min+is(e)}function lx(r,e,t){ij(r.x,e.x,t.x),ij(r.y,e.y,t.y)}function ko(r){return[r("x"),r("y")]}const dae=({current:r})=>r?r.ownerDocument.defaultView:null,aj=(r,e)=>Math.abs(r-e);function D3e(r,e){const t=aj(r.x,e.x),n=aj(r.y,e.y);return Math.sqrt(t**2+n**2)}class pae{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=xM(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=D3e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:m}=h,{timestamp:y}=Ji;this.history.push({...m,timestamp:y});const{onStart:x,onMove:w}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_M(p,this.transformPagePoint),mn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=xM(h.type==="pointercancel"?this.lastMoveEventInfo:_M(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,x),m&&m(h,x)},!x5(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const o=vb(e),l=_M(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ji;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,xM(l,this.history)),this.removeListeners=hb(sx(this.contextWindow,"pointermove",this.handlePointerMove),sx(this.contextWindow,"pointerup",this.handlePointerUp),sx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qh(this.updatePoint)}}function _M(r,e){return e?{point:e(r.point)}:r}function sj(r,e){return{x:r.x-e.x,y:r.y-e.y}}function xM({point:r},e){return{point:r,delta:sj(r,vae(e)),offset:sj(r,I3e(e)),velocity:R3e(e,.1)}}function I3e(r){return r[0]}function vae(r){return r[r.length-1]}function R3e(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=vae(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Uu(e)));)t--;if(!n)return{x:0,y:0};const a=Hu(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function k3e(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?Tn(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?Tn(t,r,n.max):Math.min(r,t)),r}function oj(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function M3e(r,{top:e,left:t,bottom:n,right:i}){return{x:oj(r.x,t,i),y:oj(r.y,e,n)}}function lj(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function P3e(r,e){return{x:lj(r.x,e.x),y:lj(r.y,e.y)}}function L3e(r,e){let t=.5;const n=is(r),i=is(e);return i>n?t=Kx(e.min,e.max-n,r.min):n>i&&(t=Kx(r.min,r.max-i,e.min)),nf(0,1,t)}function O3e(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const TN=.35;function N3e(r=TN){return r===!1?r=0:r===!0&&(r=TN),{x:uj(r,"left","right"),y:uj(r,"top","bottom")}}function uj(r,e,t){return{min:cj(r,e),max:cj(r,t)}}function cj(r,e){return typeof r=="number"?r:r[e]||0}const F3e=new WeakMap;class B3e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vb(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:v,onDragStart:m}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$Ne(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(x=>{let w=this.getAxisMotionValue(x).get()||0;if(Gu.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[x];T&&(w=is(T)*(parseFloat(w)/100))}}this.originPoint[x]=w}),m&&mn.postRender(()=>m(f,h)),bN(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=V3e(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ko(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new pae(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:dae(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&mn.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!kT(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=k3e(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&z0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=M3e(n.layoutBox,e):this.constraints=!1,this.elastic=N3e(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ko(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=O3e(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!z0(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=z4e(n,i.root,this.visualElement.getTransformPagePoint());let s=P3e(i.layout.layoutBox,a);if(t){const o=t(F4e(s));this.hasMutatedConstraints=!!o,o&&(s=Qie(o))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ko(c=>{if(!kT(c,t,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return bN(this.visualElement,e),n.start(R5(e,n,0,t,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ko(t=>{const{drag:n}=this.getProps();if(!kT(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[t];a.set(e[t]-Tn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!z0(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ko(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=L3e({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ko(s=>{if(!kT(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Tn(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;F3e.set(this.visualElement,this);const e=this.visualElement.current,t=sx(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();z0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mn.read(n);const s=tw(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ko(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=TN,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function kT(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function V3e(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class z3e extends pd{constructor(e){super(e),this.removeGroupControls=jo,this.removeListeners=jo,this.controls=new B3e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jo}unmount(){this.removeGroupControls(),this.removeListeners()}}const fj=r=>(e,t)=>{r&&mn.postRender(()=>r(e,t))};class U3e extends pd{constructor(){super(...arguments),this.removePointerDownListener=jo}onPointerDown(e){this.session=new pae(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dae(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:fj(e),onStart:fj(t),onMove:n,onEnd:(a,s)=>{delete this.session,i&&mn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=sx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hj(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const $1={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Vt.test(r))r=parseFloat(r);else return r;const t=hj(r,e.target.x),n=hj(r,e.target.y);return`${t}% ${n}%`}},H3e={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Jh.parse(r);if(i.length>5)return n;const a=Jh.createTransformer(r),s=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=Tn(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};let wM=!1;class G3e extends ce.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;f4e(j3e),a&&(t.group&&t.group.add(a),n&&n.register&&i&&n.register(a),wM&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),oA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,wM=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||mn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;wM=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gae(r){const[e,t]=Bie(),n=ce.useContext(ZF);return q.jsx(G3e,{...r,layoutGroup:n,switchLayoutGroup:ce.useContext(Kie),isPresent:e,safeToRemove:t})}const j3e={borderRadius:{...$1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$1,borderTopRightRadius:$1,borderBottomLeftRadius:$1,borderBottomRightRadius:$1,boxShadow:H3e};function W3e(r,e,t){const n=Ia(r)?r:Fm(r);return n.start(R5("",n,e,t)),n.animation}const $3e=(r,e)=>r.depth-e.depth;class q3e{constructor(){this.children=[],this.isDirty=!1}add(e){e5(this.children,e),this.isDirty=!0}remove(e){t5(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($3e),this.isDirty=!1,this.children.forEach(e)}}function Y3e(r,e){const t=Rs.now(),n=({timestamp:i})=>{const a=i-t;a>=e&&(Qh(n),r(a-e))};return mn.setup(n,!0),()=>Qh(n)}const mae=["TopLeft","TopRight","BottomLeft","BottomRight"],X3e=mae.length,dj=r=>typeof r=="string"?parseFloat(r):r,pj=r=>typeof r=="number"||Vt.test(r);function K3e(r,e,t,n,i,a){i?(r.opacity=Tn(0,t.opacity??1,Z3e(n)),r.opacityExit=Tn(e.opacity??1,0,Q3e(n))):a&&(r.opacity=Tn(e.opacity??1,t.opacity??1,n));for(let s=0;s<X3e;s++){const o=`border${mae[s]}Radius`;let l=vj(e,o),u=vj(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||pj(l)===pj(u)?(r[o]=Math.max(Tn(dj(l),dj(u),n),0),(Gu.test(u)||Gu.test(l))&&(r[o]+="%")):r[o]=u}(e.rotate||t.rotate)&&(r.rotate=Tn(e.rotate||0,t.rotate||0,n))}function vj(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const Z3e=yae(0,.5,iie),Q3e=yae(.5,.95,jo);function yae(r,e,t){return n=>n<r?0:n>e?1:t(Kx(r,e,n))}function gj(r,e){r.min=e.min,r.max=e.max}function bo(r,e){gj(r.x,e.x),gj(r.y,e.y)}function mj(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function yj(r,e,t,n,i){return r-=e,r=EE(r,1/t,n),i!==void 0&&(r=EE(r,1/i,n)),r}function J3e(r,e=0,t=1,n=.5,i,a=r,s=r){if(Gu.test(e)&&(e=parseFloat(e),e=Tn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Tn(a.min,a.max,n);r===a&&(o-=e),r.min=yj(r.min,e,t,o,i),r.max=yj(r.max,e,t,o,i)}function _j(r,e,[t,n,i],a,s){J3e(r,e[t],e[n],e[i],e.scale,a,s)}const eFe=["x","scaleX","originX"],tFe=["y","scaleY","originY"];function xj(r,e,t,n){_j(r.x,e,eFe,t?t.x:void 0,n?n.x:void 0),_j(r.y,e,tFe,t?t.y:void 0,n?n.y:void 0)}function wj(r){return r.translate===0&&r.scale===1}function _ae(r){return wj(r.x)&&wj(r.y)}function bj(r,e){return r.min===e.min&&r.max===e.max}function rFe(r,e){return bj(r.x,e.x)&&bj(r.y,e.y)}function Sj(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function xae(r,e){return Sj(r.x,e.x)&&Sj(r.y,e.y)}function Tj(r){return is(r.x)/is(r.y)}function Aj(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class nFe{constructor(){this.members=[]}add(e){e5(this.members,e),e.scheduleRender()}remove(e){if(t5(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iFe(r,e,t){let n="";const i=r.x.translate/e.x,a=r.y.translate/e.y,s=t?.z||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:p,skewY:v}=t;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=r.x.scale*e.x,l=r.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const bM=["","X","Y","Z"],aFe=1e3;let sFe=0;function SM(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function wae(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=sae(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",mn,!(i||a))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&wae(n)}function bae({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=e?.()){this.id=sFe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uFe),this.nodes.forEach(dFe),this.nodes.forEach(pFe),this.nodes.forEach(cFe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new q3e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new i5),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Fie(s)&&!QNe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),r){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;mn.read(()=>{f=window.innerWidth}),r(s,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,c&&c(),c=Y3e(h,250),oA.hasAnimatedSinceResize&&(oA.hasAnimatedSinceResize=!1,this.nodes.forEach(Dj)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||_Fe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!xae(this.targetLayout,p),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...m5(v,"layout"),onPlay:m,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(c,w)}else f||Dj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vFe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wae(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ej);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hFe),this.nodes.forEach(oFe),this.nodes.forEach(lFe)):this.nodes.forEach(Cj),this.clearAllSnapshots();const o=Rs.now();Ji.delta=nf(0,1e3/60,o-Ji.timestamp),Ji.timestamp=o,Ji.isProcessing=!0,fM.update.process(Ji),fM.preRender.process(Ji),fM.render.process(Ji),Ji.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fFe),this.sharedNodes.forEach(gFe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!is(this.snapshot.measuredBox.x)&&!is(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!_ae(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Cp(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),xFe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Wn();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wFe))){const{scroll:u}=this.root;u&&(U0(o.x,u.offset.x),U0(o.y,u.offset.y))}return o}removeElementScroll(s){const o=Wn();if(bo(o,s),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;u!==this.root&&c&&f.layoutScroll&&(c.wasRoot&&bo(o,s),U0(o.x,c.offset.x),U0(o.y,c.offset.y))}return o}applyTransform(s,o=!1){const l=Wn();bo(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&H0(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Cp(c.latestValues)&&H0(l,c.latestValues)}return Cp(this.latestValues)&&H0(l,this.latestValues),l}removeTransform(s){const o=Wn();bo(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Cp(u.latestValues))continue;yN(u.latestValues)&&u.updateSnapshot();const c=Wn(),f=u.measurePageBox();bo(c,f),xj(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Cp(this.latestValues)&&xj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ji.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Ji.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),lx(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C3e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bo(this.target,this.layout.layoutBox),eae(this.target,this.targetDelta)):bo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),lx(this.relativeTargetOrigin,this.target,h.target),bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yN(this.parent.latestValues)||Jie(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ji.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;bo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;V4e(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Wn());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mj(this.prevProjectionDelta.x,this.projectionDelta.x),mj(this.prevProjectionDelta.y,this.projectionDelta.y)),ox(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Aj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Aj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=G0(),this.projectionDelta=G0(),this.projectionDeltaWithTransform=G0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=G0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Wn(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,y=this.getStack(),x=!y||y.members.length<=1,w=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(yFe));this.animationProgress=0;let b;this.mixTargetDelta=T=>{const C=T/1e3;Ij(f.x,s.x,C),Ij(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mFe(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&rFe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Wn()),bo(b,this.relativeTarget)),m&&(this.animationValues=c,K3e(c,u,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mn.update(()=>{oA.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fm(0)),this.currentAnimation=W3e(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aFe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&Sae(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wn();const f=is(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=is(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}bo(o,l),H0(o,c),ox(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new nFe),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&SM("z",s,u,this.animationValues);for(let c=0;c<bM.length;c++)SM(`rotate${bM[c]}`,s,u,this.animationValues),SM(`skew${bM[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=sA(o?.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=sA(o?.pointerEvents)||""),this.hasProjected&&!Cp(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=iFe(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),s.transform=f;const{x:h,y:p}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in ew){if(c[v]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:x}=ew[v],w=f==="none"?c[v]:m(c[v],u);if(y){const b=y.length;for(let T=0;T<b;T++)s[y[T]]=w}else x?this.options.visualElement.renderState.vars[v]=w:s[v]=w}this.options.layoutId&&(s.pointerEvents=u===this?sA(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(Ej),this.root.sharedNodes.clear()}}}function oFe(r){r.updateLayout()}function lFe(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=r.layout,{animationType:i}=r.options,a=e.source!==r.layout.source;i==="size"?ko(c=>{const f=a?e.measuredBox[c]:e.layoutBox[c],h=is(f);f.min=t[c].min,f.max=f.min+h}):Sae(i,e.layoutBox,t)&&ko(c=>{const f=a?e.measuredBox[c]:e.layoutBox[c],h=is(t[c]);f.max=f.min+h,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[c].max=r.relativeTarget[c].min+h)});const s=G0();ox(s,t,e.layoutBox);const o=G0();a?ox(o,r.applyTransform(n,!0),e.measuredBox):ox(o,t,e.layoutBox);const l=!_ae(s);let u=!1;if(!r.resumeFrom){const c=r.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:f,layout:h}=c;if(f&&h){const p=Wn();lx(p,e.layoutBox,f.layoutBox);const v=Wn();lx(v,t,h.layoutBox),xae(p,v)||(u=!0),c.options.layoutRoot&&(r.relativeTarget=v,r.relativeTargetOrigin=p,r.relativeParent=c)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function uFe(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function cFe(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function fFe(r){r.clearSnapshot()}function Ej(r){r.clearMeasurements()}function Cj(r){r.isLayoutDirty=!1}function hFe(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function Dj(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function dFe(r){r.resolveTargetDelta()}function pFe(r){r.calcProjection()}function vFe(r){r.resetSkewAndRotation()}function gFe(r){r.removeLeadSnapshot()}function Ij(r,e,t){r.translate=Tn(e.translate,0,t),r.scale=Tn(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function Rj(r,e,t,n){r.min=Tn(e.min,t.min,n),r.max=Tn(e.max,t.max,n)}function mFe(r,e,t,n){Rj(r.x,e.x,t.x,n),Rj(r.y,e.y,t.y,n)}function yFe(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const _Fe={duration:.45,ease:[.4,0,.1,1]},kj=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Mj=kj("applewebkit/")&&!kj("chrome/")?Math.round:jo;function Pj(r){r.min=Mj(r.min),r.max=Mj(r.max)}function xFe(r){Pj(r.x),Pj(r.y)}function Sae(r,e,t){return r==="position"||r==="preserve-aspect"&&!E3e(Tj(e),Tj(t),.2)}function wFe(r){return r!==r.root&&r.scroll?.wasRoot}const bFe=bae({attachResizeListener:(r,e)=>tw(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),TM={current:void 0},Tae=bae({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!TM.current){const r=new bFe({});r.mount(window),r.setOptions({layoutScroll:!0}),TM.current=r}return TM.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),SFe={pan:{Feature:U3e},drag:{Feature:z3e,ProjectionNode:Tae,MeasureLayout:gae}};function Lj(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=n[i];a&&mn.postRender(()=>a(e,vb(e)))}class TFe extends pd{mount(){const{current:e}=this.node;e&&(this.unmount=qNe(e,(t,n)=>(Lj(this.node,n,"Start"),i=>Lj(this.node,i,"End"))))}unmount(){}}class AFe extends pd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hb(tw(this.node.current,"focus",()=>this.onFocus()),tw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Oj(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=n[i];a&&mn.postRender(()=>a(e,vb(e)))}class EFe extends pd{mount(){const{current:e}=this.node;e&&(this.unmount=ZNe(e,(t,n)=>(Oj(this.node,n,"Start"),(i,{success:a})=>Oj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AN=new WeakMap,AM=new WeakMap,CFe=r=>{const e=AN.get(r.target);e&&e(r)},DFe=r=>{r.forEach(CFe)};function IFe({root:r,...e}){const t=r||document;AM.has(t)||AM.set(t,{});const n=AM.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(DFe,{root:r,...e})),n[i]}function RFe(r,e,t){const n=IFe(e);return AN.set(r,t),n.observe(r),()=>{AN.delete(r),n.unobserve(r)}}const kFe={some:0,all:1};class MFe extends pd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:kFe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return RFe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(PFe(e,t))&&this.startObserver()}unmount(){}}function PFe({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const LFe={inView:{Feature:MFe},tap:{Feature:EFe},focus:{Feature:AFe},hover:{Feature:TFe}},OFe={layout:{ProjectionNode:Tae,MeasureLayout:gae}},NFe={...x3e,...LFe,...SFe,...OFe},MT=N4e(NFe,X4e),FFe=["ALIANZA POPULAR (AP)","LIBERTAD Y PROGRESO ADN (LYP-ADN)","AUTONOMA PARA BOLIVIA SMATE (APB-SUMATE)","LIBERTAD Y DEMOCRACIA (LIBRE)","LA FUERZA DEL PUEBLO (FP)","MAS-IPSP","MORENA","UNIDAD","PARTIDO DEMOCRATA CRISTIANO (PDC)","BIA-YUQUI","OICH"];function BFe(){const[r,e]=ce.useState({departamento:"",circunscripcion:"",provincia:"",municipio:"",recinto:"",nroMesa:"",votosPresidente:{},votosDiputado:{},validosPresidente:"",validosDiputado:"",blancosPresidente:"",blancosDiputado:"",nulosPresidente:"",nulosDiputado:"",papeletasAnfora:"",papeletasNoUtilizadas:"",imagenActa:null,imagenHojaTrabajo:null}),[t,n]=ce.useState(null),[i,a]=ce.useState(null),[s,o]=ce.useState(!0),[l,u]=ce.useState(!1),[c,f]=ce.useState([]),[h,p]=ce.useState([]),[v,m]=ce.useState([]),[y,x]=ce.useState([]),[w,b]=ce.useState([]),[T,C]=ce.useState(""),[D,A]=ce.useState(""),[k,I]=ce.useState(""),[M,P]=ce.useState(""),[O,N]=ce.useState(""),[G,j]=ce.useState([]),[U,X]=ce.useState(null),[ie,Z]=ce.useState(null),[W,Q]=ce.useState({x:0,y:0}),[H,ee]=ce.useState(1),[J,se]=ce.useState(null),[de,Me]=ce.useState(null),Se=(Ve,At)=>{const Nt=Ve.target.files[0];if(!Nt)return;const Dt=new FileReader;Dt.onload=()=>{At==="acta"?(n(Dt.result),X(Dt.result)):(a(Dt.result),Z(Dt.result))},Dt.readAsDataURL(Nt)},xe=ce.useCallback((Ve,At)=>{se(At)},[]),Te=Ve=>{Me(Ve),ee(1),Q({x:0,y:0})},Oe=async()=>{const At=await nOe(de==="acta"?U:ie,J),Nt=await iOe(At);de==="acta"?n(Nt):a(Nt),Me(null)},ne=c.filter(Ve=>Ve.nombre.toLowerCase().includes(T.toLowerCase())),pt=h.filter(Ve=>Ve.nombre.toLowerCase().includes(D.toLowerCase())),tt=v.filter(Ve=>Ve.nombre.toLowerCase().includes(k.toLowerCase())),ct=y.filter(Ve=>Ve.nombre.toLowerCase().includes(M.toLowerCase())),it=w.filter(Ve=>Ve.nombre.toLowerCase().includes(O.toLowerCase()));ce.useEffect(()=>{(async()=>{const At=await bn(Fr(er,"departamentos"));f(At.docs.map(Nt=>({id:Nt.id,...Nt.data()}))),o(!1)})()},[]),ce.useEffect(()=>{const Ve=mye(Cm,async At=>{At?(console.log("Usuario autenticado:",At.uid),await He(At)):(console.log("Usuario no autenticado"),j([]))});return()=>Ve()},[]);const He=async Ve=>{try{const At=El(er,"usuarios",Ve.uid),Nt=await Yx(At);if(!Nt.exists()){console.log("No existe documento usuario"),j([]);return}const Dt=Nt.data(),_n=Dt.rol==="jefe_recinto",Et=Dt.recinto;let mt;_n&&Et?mt=qn(Fr(er,"recepcion"),wn("recinto","==",Et)):mt=qn(Fr(er,"recepcion"),wn("idUsuarioRecepcion","==",Ve.uid));const yr=(await bn(mt)).docs.map(kt=>({id:kt.id,...kt.data()}));yr.sort((kt,Dr)=>parseInt(kt.nroMesa)-parseInt(Dr.nroMesa)),j(yr)}catch(At){console.error("Error cargando registros del usuario:",At)}};ce.useEffect(()=>{if(!r.departamento)return;(async()=>{o(!0);const At=qn(Fr(er,"circunscripciones"),wn("idDepartamento","==",r.departamento)),Nt=await bn(At);p(Nt.docs.map(Dt=>({id:Dt.id,...Dt.data()}))),o(!1)})()},[r.departamento]),ce.useEffect(()=>{if(!r.circunscripcion)return;(async()=>{o(!0);const At=qn(Fr(er,"provincias"),wn("idCircunscripcion","==",r.circunscripcion)),Nt=await bn(At);m(Nt.docs.map(Dt=>({id:Dt.id,...Dt.data()}))),o(!1)})()},[r.circunscripcion]),ce.useEffect(()=>{if(!r.provincia)return;(async()=>{o(!0);const At=qn(Fr(er,"municipios"),wn("idProvincia","==",r.provincia)),Nt=await bn(At);x(Nt.docs.map(Dt=>({id:Dt.id,...Dt.data()}))),o(!1)})()},[r.provincia]),ce.useEffect(()=>{(async()=>{o(!0);const At=qn(Fr(er,"recintos")),Nt=await bn(At);b(Nt.docs.map(Dt=>({id:Dt.id,...Dt.data()}))),o(!1)})()},[]);const xt=async Ve=>{const{name:At,value:Nt,files:Dt,dataset:_n}=Ve.target;if(_n.tipo==="presidente")e(Et=>({...Et,votosPresidente:{...Et.votosPresidente,[At]:Nt}}));else if(_n.tipo==="diputado")e(Et=>({...Et,votosDiputado:{...Et.votosDiputado,[At]:Nt}}));else if(At==="imagenActa"||At==="imagenHojaTrabajo"){const Et=Dt[0];if(Et){e(ir=>({...ir,[At]:Et}));const mt=new FileReader;mt.onloadend=()=>{At==="imagenActa"?n(mt.result):a(mt.result)},mt.readAsDataURL(Et)}}else if(At==="recinto"){const Et=w.find(mt=>mt.id===Nt);if(Et)try{o(!0);const ir=(await bn(qn(Fr(er,"municipios"),wn("__name__","==",Et.idMunicipio)))).docs[0],yr=ir.data().idProvincia,Dr=(await bn(qn(Fr(er,"provincias"),wn("__name__","==",yr)))).docs[0],hn=Dr.data().idCircunscripcion,ni=(await bn(qn(Fr(er,"circunscripciones"),wn("__name__","==",hn)))).docs[0],qi=ni.data().idDepartamento;e(il=>({...il,recinto:Nt,municipio:ir.id,provincia:Dr.id,circunscripcion:ni.id,departamento:qi}))}catch(mt){console.error("Error al autocompletar desde recinto:",mt)}finally{o(!1)}else e(mt=>({...mt,recinto:Nt}))}else e(Et=>({...Et,[At]:Nt}))},gr=async Ve=>{if(Ve.preventDefault(),!r.imagenActa||!r.imagenHojaTrabajo){await Xn.fire({icon:"warning",title:"Archivos requeridos",text:"Debes subir el acta y la hoja de trabajo.",confirmButtonColor:"#d33"});return}const At=[{archivo:r.imagenActa,nombre:"Acta"},{archivo:r.imagenHojaTrabajo,nombre:"Hoja de Trabajo"}],Nt=3;for(const{archivo:Dt,nombre:_n}of At)if(Dt.size/1048576>Nt){await Xn.fire({icon:"warning",title:"Archivo demasiado grande",text:`El archivo de ${_n} no debe superar los 3 MB.`,confirmButtonColor:"#d33"});return}try{u(!0);const Dt=Cm.currentUser;if(!Dt)throw new Error("Usuario no autenticado");const _n=El(er,"usuarios",Dt.uid),Et=await Yx(_n);if(!Et.exists())throw new Error("Usuario no encontrado");const mt=Et.data();console.log(" Usuario intentando subir registro:",{uid:Dt.uid,nombre:mt.nombre,email:mt.email,recintoId:mt.recintoId,recintoNombre:mt.recintoNombre,rol:mt.rol});const ir=mt.recintoId;if(r.recinto!==ir){await Xn.fire({icon:"warning",title:"Recinto invlido",text:"Solo puedes registrar boletas en tu propio recinto.",confirmButtonColor:"#d33"});return}const yr=qn(Fr(er,"recepcion"),wn("recinto","==",ir),wn("nroMesa","==",r.nroMesa));if(!(await bn(yr)).empty){await Xn.fire({icon:"warning",title:"Nmero de mesa duplicado",text:`Ya se ha registrado una boleta con el nmero de mesa ${r.nroMesa} en tu recinto.`,confirmButtonColor:"#d33"});return}const Dr=KA(ZA,`actas/${r.nroMesa}_${Date.now()}`);await YA(Dr,r.imagenActa);const hn=await XA(Dr),Or=KA(ZA,`hojas_trabajo/${r.nroMesa}_${Date.now()}`);await YA(Or,r.imagenHojaTrabajo);const ni=await XA(Or),{imagenActa:qi,imagenHojaTrabajo:il,...al}=r;await rb(Fr(er,"recepcion"),{...al,imagenActaUrl:hn,imagenHojaTrabajoUrl:ni,creadoEn:_F(),idUsuarioRecepcion:Dt.uid,estado:"pendiente"}),await Xn.fire({icon:"success",title:"Registro exitoso",text:"La boleta fue enviada correctamente.",confirmButtonColor:"#0a58ca"})}catch(Dt){console.error(Dt),await Xn.fire({icon:"error",title:"Error al enviar",text:"Ocurri un problema al registrar la boleta. Intenta nuevamente.",confirmButtonColor:"#d33"})}finally{u(!1)}},Jr=({aplicarRecorte:Ve,cancelarRecorte:At})=>q.jsxs(q.Fragment,{children:[q.jsx(MT.button,{className:`${vn.botonRecorte} ${vn.botonAplicar}`,onClick:Ve,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:30},transition:{duration:.4},type:"button",children:" Aplicar"}),q.jsx(MT.button,{className:`${vn.botonRecorte} ${vn.botonCancelar}`,onClick:At,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:30},transition:{duration:.4},type:"button",children:" Cancelar"})]});return q.jsxs("div",{className:vn["select-group"],children:[q.jsx("h2",{children:"Registro de Boleta Electoral"}),q.jsxs("form",{onSubmit:gr,className:vn.form,children:[q.jsxs("div",{children:[q.jsx("label",{children:"Foto del Acta:"}),q.jsxs("div",{className:vn.selectorContainer,children:[q.jsxs("label",{className:vn.iconButton,children:[" Cmara",q.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Ve=>Se(Ve,"acta"),style:{display:"none"}})]}),q.jsxs("label",{className:vn.iconButton,children:[" Galera",q.jsx("input",{type:"file",accept:"image/*",onChange:Ve=>Se(Ve,"acta"),style:{display:"none"}})]})]}),q.jsx(GG,{children:t&&!de&&q.jsxs(MT.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[q.jsx("img",{src:t,alt:"Vista previa acta",className:vn.imagenPreview}),q.jsx("br",{}),q.jsx("button",{type:"button",onClick:()=>Te("acta"),style:{marginTop:5},children:" Recortar Acta"})]},"previewActa")})]}),q.jsxs("div",{children:[q.jsx("label",{children:"Foto de la Hoja de Trabajo:"}),q.jsxs("div",{className:vn.selectorContainer,children:[q.jsxs("label",{className:vn.iconButton,children:[" Cmara",q.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Ve=>Se(Ve,"hoja"),style:{display:"none"}})]}),q.jsxs("label",{className:vn.iconButton,children:[" Galera",q.jsx("input",{type:"file",accept:"image/*",onChange:Ve=>Se(Ve,"hoja"),style:{display:"none"}})]})]}),q.jsx(GG,{children:i&&!de&&q.jsxs(MT.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[q.jsx("img",{src:i,alt:"Vista previa hoja",className:vn.imagenPreview}),q.jsx("br",{}),q.jsx("button",{type:"button",onClick:()=>Te("hoja"),style:{marginTop:5},children:" Recortar Hoja"})]},"previewHoja")})]}),de&&q.jsxs("div",{style:{position:"relative",width:"100%",height:300,marginBottom:20},children:[q.jsx(rOe,{image:de==="acta"?U:ie,crop:W,zoom:H,aspect:4/3,onCropChange:Q,onZoomChange:ee,onCropComplete:xe}),q.jsx(Jr,{aplicarRecorte:Oe,cancelarRecorte:()=>Me(null)})]}),q.jsxs("div",{className:vn.columnas,children:[q.jsxs("label",{children:["Departamento:",q.jsxs("div",{className:"input-icon-wrapper",children:[q.jsx(H1,{size:16}),q.jsx("input",{type:"text",placeholder:"Buscar departamento...",value:T,onChange:Ve=>C(Ve.target.value)})]}),q.jsxs("select",{name:"departamento",value:r.departamento,onChange:xt,required:!0,disabled:r.recinto,children:[q.jsx("option",{value:"",children:"-- Selecciona --"}),ne.map(Ve=>q.jsx("option",{value:Ve.id,children:Ve.nombre},Ve.id))]})]}),q.jsxs("label",{children:["Circunscripcin:",q.jsxs("div",{className:"input-icon-wrapper",children:[q.jsx(H1,{size:16}),q.jsx("input",{type:"text",placeholder:"Buscar circunscripcin...",value:D,onChange:Ve=>A(Ve.target.value)})]}),q.jsxs("select",{name:"circunscripcion",value:r.circunscripcion,onChange:xt,required:!0,disabled:r.recinto,children:[q.jsx("option",{value:"",children:"-- Selecciona --"}),pt.map(Ve=>q.jsx("option",{value:Ve.id,children:Ve.nombre},Ve.id))]})]}),q.jsxs("label",{children:["Provincia:",q.jsxs("div",{className:"input-icon-wrapper",children:[q.jsx(H1,{size:16}),q.jsx("input",{type:"text",placeholder:"Buscar provincia...",value:k,onChange:Ve=>I(Ve.target.value)})]}),q.jsxs("select",{name:"provincia",value:r.provincia,onChange:xt,required:!0,disabled:r.recinto,children:[q.jsx("option",{value:"",children:"-- Selecciona --"}),tt.map(Ve=>q.jsx("option",{value:Ve.id,children:Ve.nombre},Ve.id))]})]}),q.jsxs("label",{children:["Municipio:",q.jsxs("div",{className:"input-icon-wrapper",children:[q.jsx(H1,{size:16}),q.jsx("input",{type:"text",placeholder:"Buscar municipio...",value:M,onChange:Ve=>P(Ve.target.value)})]}),q.jsxs("select",{name:"municipio",value:r.municipio,onChange:xt,required:!0,disabled:r.recinto,children:[q.jsx("option",{value:"",children:"-- Selecciona --"}),ct.map(Ve=>q.jsx("option",{value:Ve.id,children:Ve.nombre},Ve.id))]})]}),q.jsxs("label",{children:["Recinto:",q.jsxs("div",{className:"input-icon-wrapper",children:[q.jsx(H1,{size:16}),q.jsx("input",{type:"text",placeholder:"Buscar recinto...",value:O,onChange:Ve=>N(Ve.target.value)})]}),q.jsxs("select",{name:"recinto",value:r.recinto,onChange:xt,required:!0,children:[q.jsx("option",{value:"",children:"-- Selecciona --"}),it.map(Ve=>q.jsx("option",{value:Ve.id,children:Ve.nombre},Ve.id))]})]}),q.jsxs("label",{children:["Nmero de Mesa:",q.jsx("input",{type:"text",name:"nroMesa",value:r.nroMesa,onChange:xt,required:!0})]})]}),q.jsx("div",{className:vn.tablaVotos,children:q.jsxs("table",{children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"Partido"}),q.jsx("th",{children:"Presidente"}),q.jsx("th",{children:"Diputado"})]})}),q.jsxs("tbody",{children:[FFe.map(Ve=>q.jsxs("tr",{children:[q.jsx("td",{children:Ve}),q.jsx("td",{children:q.jsx("input",{type:"number",name:Ve,value:r.votosPresidente[Ve]||"",onChange:xt,"data-tipo":"presidente"})}),q.jsx("td",{children:q.jsx("input",{type:"number",name:Ve,value:r.votosDiputado[Ve]||"",onChange:xt,"data-tipo":"diputado"})})]},Ve)),q.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f0f0f0"},children:[q.jsx("td",{children:"Total"}),q.jsx("td",{children:Object.values(r.votosPresidente).reduce((Ve,At)=>Ve+(parseInt(At)||0),0)}),q.jsx("td",{children:Object.values(r.votosDiputado).reduce((Ve,At)=>Ve+(parseInt(At)||0),0)})]})]})]})}),q.jsxs("div",{className:vn.totales,children:[q.jsxs("label",{children:["Vlidos Presidente: ",q.jsx("input",{name:"validosPresidente",type:"number",value:r.validosPresidente,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Vlidos Diputado: ",q.jsx("input",{name:"validosDiputado",type:"number",value:r.validosDiputado,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Blancos Presidente: ",q.jsx("input",{name:"blancosPresidente",type:"number",value:r.blancosPresidente,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Blancos Diputado: ",q.jsx("input",{name:"blancosDiputado",type:"number",value:r.blancosDiputado,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Nulos Presidente: ",q.jsx("input",{name:"nulosPresidente",type:"number",value:r.nulosPresidente,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Nulos Diputado:",q.jsx("input",{name:"nulosDiputado",type:"number",value:r.nulosDiputado,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Papeletas en nfora (utilizadas):",q.jsx("input",{name:"papeletasAnfora",type:"number",value:r.papeletasAnfora,onChange:xt,required:!0})]}),q.jsxs("label",{children:["Papeletas no utilizadas:",q.jsx("input",{name:"papeletasNoUtilizadas",type:"number",value:r.papeletasNoUtilizadas,onChange:xt,required:!0})]})]}),q.jsx("button",{type:"submit",className:vn.btn,disabled:l,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:l?q.jsx(OLe,{size:20,color:"#fff"}):"Registrar Boleta"})]}),console.log(" Datos de boletas:",G),G.length>0&&q.jsxs(q.Fragment,{children:[console.log(" Total de boletas cargadas:",G.length),console.log(" Datos de boletas:",G),q.jsxs("div",{className:vn.seccionBoletas,children:[q.jsx("h3",{style:{marginTop:"2rem"},children:"Registros Enviados"}),q.jsx("div",{className:vn.boletasGrid,children:G.map(Ve=>(console.log(` Mesa ${Ve.nroMesa}:`,Ve),q.jsx("div",{className:vn.boletaItem,children:q.jsxs("div",{className:vn.boletaBarra,children:[q.jsxs("span",{className:vn.nroMesa,children:["Mesa ",Ve.nroMesa]}),Ve.estado==="pendiente"&&q.jsx("span",{className:vn.checkIcon,children:""})]})},Ve.id)))})]})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Aae=1252,VFe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],k5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},M5=function(r){VFe.indexOf(r)!=-1&&(Aae=k5[0]=r)};function zFe(){M5(1252)}var Dl=function(r){M5(r)};function Eae(){Dl(1200),zFe()}function Nj(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function UFe(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function Cae(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var P_=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?UFe(r.slice(2)):e==254&&t==255?Cae(r.slice(2)):e==65279?r.slice(1):r},PT=function(e){return String.fromCharCode(e)},Fj=function(e){return String.fromCharCode(e)},rw,xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bj(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0,u=0;u<r.length;)t=r.charCodeAt(u++),a=t>>2,n=r.charCodeAt(u++),s=(t&3)<<4|n>>4,i=r.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=xh.charAt(a)+xh.charAt(s)+xh.charAt(o)+xh.charAt(l);return e}function io(r){var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)a=xh.indexOf(r.charAt(u++)),s=xh.indexOf(r.charAt(u++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=xh.indexOf(r.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=xh.indexOf(r.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var mr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Xv=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ed(r){return mr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function Vj(r){return mr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Tl=function(e){return mr?Xv(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Kv(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function P5(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return P5(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var ph=mr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Xv(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function HFe(r){for(var e=[],t=0,n=r.length+250,i=ed(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>n&&(e.push(i.slice(0,t)),t=0,i=ed(65535),n=65530)}return e.push(i.slice(0,t)),ph(e)}var os=/\u0000/g,L_=/[\u0001-\u0006]/g;function um(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Il(r,e){var t=""+r;return t.length>=e?t:On("0",e-t.length)+t}function L5(r,e){var t=""+r;return t.length>=e?t:On(" ",e-t.length)+t}function CE(r,e){var t=""+r;return t.length>=e?t:t+On(" ",e-t.length)}function GFe(r,e){var t=""+Math.round(r);return t.length>=e?t:On("0",e-t.length)+t}function jFe(r,e){var t=""+r;return t.length>=e?t:On("0",e-t.length)+t}var zj=Math.pow(2,32);function Jg(r,e){if(r>zj||r<-zj)return GFe(r,e);var t=Math.round(r);return jFe(t,e)}function DE(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var Uj=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],EM=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function WFe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Hj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$Fe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function IE(r,e,t){for(var n=r<0?-1:1,i=r*n,a=0,s=1,o=0,l=1,u=0,c=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*s+a,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=a):(c=u,o=s)),!t)return[0,n*o,c];var h=Math.floor(n*o/c);return[h,n*o-h*c,c]}function Yp(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),t&&(a=QFe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var Dae=new Date(1899,11,31,0,0,0),qFe=Dae.getTime(),YFe=new Date(1900,2,1,0,0,0);function Iae(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=YFe&&(t+=1440*60*1e3),(t-(qFe+(r.getTimezoneOffset()-Dae.getTimezoneOffset())*6e4))/(1440*60*1e3)}function O5(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function XFe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function KFe(r){var e=r<0?12:11,t=O5(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function ZFe(r){var e=O5(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function nw(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=KFe(r):e===10?t=r.toFixed(10).substr(0,12):t=ZFe(r),O5(XFe(t.toUpperCase()))}function Iv(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):nw(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Xo(14,Iae(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function QFe(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function JFe(r,e,t,n){var i="",a=0,s=0,o=t.y,l,u=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return EM[t.m-1][1];case 5:return EM[t.m-1][0];default:return EM[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return Uj[t.q][0];default:return Uj[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Il(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Il(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?Il(l,u):"";return c}function wh(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var Rae=/%/g;function e5e(r,e,t){var n=e.replace(Rae,""),i=e.length-n.length;return Xc(r,n,t*Math.pow(10,2*i))+On("%",i)}function t5e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Xc(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function kae(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+kae(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Mae=/# (\?+)( ?)\/( ?)(\d+)/;function r5e(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return t+(a===0?"":""+a)+" "+(s===0?On(" ",r[1].length+1+r[4].length):L5(s,r[1].length)+r[2]+"/"+r[3]+Il(o,r[4].length))}function n5e(r,e,t){return t+(e===0?"":""+e)+On(" ",r[1].length+2+r[4].length)}var Pae=/^#*0*\.([0#]+)/,Lae=/\).*[0#]/,Oae=/\(###\) ###\\?-####/;function Qa(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function Gj(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function jj(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function i5e(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function a5e(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Io(r,e,t){if(r.charCodeAt(0)===40&&!e.match(Lae)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Io("n",n,t):"("+Io("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return t5e(r,e,t);if(e.indexOf("%")!==-1)return e5e(r,e,t);if(e.indexOf("E")!==-1)return kae(e,t);if(e.charCodeAt(0)===36)return"$"+Io(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Jg(l,e.length);if(e.match(/^[#?]+$/))return i=Jg(t,0),i==="0"&&(i=""),i.length>e.length?i:Qa(e.substr(0,e.length-i.length))+i;if(a=e.match(Mae))return r5e(a,l,u);if(e.match(/^#+0+$/))return u+Jg(l,e.length-e.indexOf("0"));if(a=e.match(Pae))return i=Gj(t,a[1].length).replace(/^([^\.]+)$/,"$1."+Qa(a[1])).replace(/\.$/,"."+Qa(a[1])).replace(/\.(\d*)$/,function(v,m){return"."+m+On("0",Qa(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+Gj(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+wh(Jg(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Io(r,e,-t):wh(""+(Math.floor(t)+i5e(t,a[1].length)))+"."+Il(jj(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Io(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=um(Io(r,e.replace(/[\\-]/g,""),t)),s=0,um(um(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(e.match(Oae))return i=Io(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=IE(l,Math.pow(10,s)-1,!1),i=""+u,c=Xc("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=CE(o[2],s),c.length<a[4].length&&(c=Qa(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=IE(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?L5(o[1],s)+a[2]+"/"+a[3]+CE(o[2],s):On(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Jg(t,0),e.length<=i.length?i:Qa(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,h=e.length-i.length-f;return Qa(e.substr(0,f)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=jj(t,a[1].length),t<0?"-"+Io(r,e,-t):wh(a5e(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Il(0,3-v.length):"")+v})+"."+Il(s,a[1].length);switch(e){case"###,##0.00":return Io(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var p=wh(Jg(l,0));return p!=="0"?u+p:"";case"###,###.00":return Io(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Io(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function s5e(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Xc(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function o5e(r,e,t){var n=e.replace(Rae,""),i=e.length-n.length;return Xc(r,n,t*Math.pow(10,2*i))+On("%",i)}function Nae(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Nae(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function _u(r,e,t){if(r.charCodeAt(0)===40&&!e.match(Lae)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?_u("n",n,t):"("+_u("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return s5e(r,e,t);if(e.indexOf("%")!==-1)return o5e(r,e,t);if(e.indexOf("E")!==-1)return Nae(e,t);if(e.charCodeAt(0)===36)return"$"+_u(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Il(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Qa(e.substr(0,e.length-i.length))+i;if(a=e.match(Mae))return n5e(a,l,u);if(e.match(/^#+0+$/))return u+Il(l,e.length-e.indexOf("0"));if(a=e.match(Pae))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Qa(a[1])).replace(/\.$/,"."+Qa(a[1])),i=i.replace(/\.(\d*)$/,function(v,m){return"."+m+On("0",Qa(a[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+wh(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+_u(r,e,-t):wh(""+t)+"."+On("0",a[1].length);if(a=e.match(/^#,#*,#0/))return _u(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=um(_u(r,e.replace(/[\\-]/g,""),t)),s=0,um(um(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(e.match(Oae))return i=_u(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=IE(l,Math.pow(10,s)-1,!1),i=""+u,c=Xc("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=CE(o[2],s),c.length<a[4].length&&(c=Qa(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=IE(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?L5(o[1],s)+a[2]+"/"+a[3]+CE(o[2],s):On(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Qa(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,h=e.length-i.length-f;return Qa(e.substr(0,f)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+_u(r,e,-t):wh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Il(0,3-v.length):"")+v})+"."+Il(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=wh(""+l);return p!=="0"?u+p:"";default:if(e.match(/\.[0#?]*$/))return _u(r,e.slice(0,e.lastIndexOf(".")),t)+Qa(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Xc(r,e,t){return(t|0)===t?_u(r,e,t):Io(r,e,t)}function l5e(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var Fae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function py(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":DE(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(Fae))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function u5e(r,e,t,n){for(var i=[],a="",s=0,o="",l="t",u,c,f,h="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!DE(r,s))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var p=r.charAt(++s),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=Yp(e,t,r.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Yp(e,t),u==null))return"";for(a=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=Yp(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):r.substr(s,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),u==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(a=o;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Fae)){if(u==null&&(u=Yp(e,t),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",py(r)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<r.length&&(o=r.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;r.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++s;break}var y=0,x=0,w;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=h,l="h",y<1&&(y=1);break;case"s":(w=i[s].v.match(/\.0+$/))&&(x=Math.max(x,w[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",T;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=JFe(i[s].t.charCodeAt(0),i[s].v,u,x),i[s].t="t";break;case"n":case"?":for(T=s+1;i[T]!=null&&((o=i[T].t)==="?"||o==="D"||(o===" "||o==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[T].v==="/"||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?"));)i[s].v+=i[T].v,i[T]={v:"",t:";"},++T;b+=i[s].v,s=T-1;break;case"G":i[s].t="t",i[s].v=Iv(e,t);break}var C="",D,A;if(b.length>0){b.charCodeAt(0)==40?(D=e<0&&b.charCodeAt(0)===45?-e:e,A=Xc("n",b,D)):(D=e<0&&n>1?-e:e,A=Xc("n",b,D),D<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),T=A.length-1;var k=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){k=s;break}var I=i.length;if(k===i.length&&A.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(T>=i[s].v.length-1?(T-=i[s].v.length,i[s].v=A.substr(T+1,i[s].v.length)):T<0?i[s].v="":(i[s].v=A.substr(0,T+1),T=-1),i[s].t="t",I=s);T>=0&&I<i.length&&(i[I].v=A.substr(0,T+1)+i[I].v)}else if(k!==i.length&&A.indexOf("E")===-1){for(T=A.indexOf(".")-1,s=k;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===k?i[s].v.indexOf(".")-1:i[s].v.length-1,C=i[s].v.substr(c+1);c>=0;--c)T>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(C=A.charAt(T--)+C);i[s].v=C,i[s].t="t",I=s}for(T>=0&&I<i.length&&(i[I].v=A.substr(0,T+1)+i[I].v),T=A.indexOf(".")+1,s=k;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==k)){for(c=i[s].v.indexOf(".")>-1&&s===k?i[s].v.indexOf(".")+1:0,C=i[s].v.substr(0,c);c<i[s].v.length;++c)T<A.length&&(C+=A.charAt(T++));i[s].v=C,i[s].t="t",I=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(D=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Xc(i[s].t,i[s].v,D),i[s].t="t");var M="";for(s=0;s!==i.length;++s)i[s]!=null&&(M+=i[s].v);return M}var Wj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $j(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function c5e(r,e){var t=l5e(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(Wj),o=t[1].match(Wj);return $j(e,s)?[n,t[0]]:$j(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,a]}function Xo(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Zt)[r],n==null&&(n=t.table&&t.table[Hj[r]]||Zt[Hj[r]]),n==null&&(n=$Fe[r]||"General");break}if(DE(n,0))return Iv(e,t);e instanceof Date&&(e=Iae(e,t.date1904));var i=c5e(n,e);if(DE(i[1]))return Iv(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return u5e(i[1],e,t,i[0])}function uv(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Zt[t]==null){e<0&&(e=t);continue}if(Zt[t]==r){e=t;break}}e<0&&(e=391)}return Zt[e]=r,e}function Bae(){Zt=WFe()}var f5e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Vae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function h5e(r){var e=typeof r=="number"?Zt[r]:r;return e=e.replace(Vae,"(\\d+)"),new RegExp("^"+e+"$")}function d5e(r,e,t){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(Vae)||[]).forEach(function(f,h){var p=parseInt(t[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&a==-1?c:u+"T"+c}var p5e=function(){var r={};r.version="1.2.0";function e(){for(var A=0,k=new Array(256),I=0;I!=256;++I)A=I,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,k[I]=A;return typeof Int32Array<"u"?new Int32Array(k):k}var t=e();function n(A){var k=0,I=0,M=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)P[M]=A[M];for(M=0;M!=256;++M)for(I=A[M],k=256+M;k<4096;k+=256)I=P[k]=I>>>8^A[I&255];var O=[];for(M=1;M!=16;++M)O[M-1]=typeof Int32Array<"u"?P.subarray(M*256,M*256+256):P.slice(M*256,M*256+256);return O}var i=n(t),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],p=i[8],v=i[9],m=i[10],y=i[11],x=i[12],w=i[13],b=i[14];function T(A,k){for(var I=k^-1,M=0,P=A.length;M<P;)I=I>>>8^t[(I^A.charCodeAt(M++))&255];return~I}function C(A,k){for(var I=k^-1,M=A.length-15,P=0;P<M;)I=b[A[P++]^I&255]^w[A[P++]^I>>8&255]^x[A[P++]^I>>16&255]^y[A[P++]^I>>>24]^m[A[P++]]^v[A[P++]]^p[A[P++]]^h[A[P++]]^f[A[P++]]^c[A[P++]]^u[A[P++]]^l[A[P++]]^o[A[P++]]^s[A[P++]]^a[A[P++]]^t[A[P++]];for(M+=15;P<M;)I=I>>>8^t[(I^A[P++])&255];return~I}function D(A,k){for(var I=k^-1,M=0,P=A.length,O=0,N=0;M<P;)O=A.charCodeAt(M++),O<128?I=I>>>8^t[(I^O)&255]:O<2048?(I=I>>>8^t[(I^(192|O>>6&31))&255],I=I>>>8^t[(I^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,N=A.charCodeAt(M++)&1023,I=I>>>8^t[(I^(240|O>>8&7))&255],I=I>>>8^t[(I^(128|O>>2&63))&255],I=I>>>8^t[(I^(128|N>>6&15|(O&3)<<4))&255],I=I>>>8^t[(I^(128|N&63))&255]):(I=I>>>8^t[(I^(224|O>>12&15))&255],I=I>>>8^t[(I^(128|O>>6&63))&255],I=I>>>8^t[(I^(128|O&63))&255]);return~I}return r.table=t,r.bstr=T,r.buf=C,r.str=D,r}(),Ar=function(){var e={};e.version="1.2.1";function t(Y,le){for(var re=Y.split("/"),ae=le.split("/"),oe=0,ue=0,_e=Math.min(re.length,ae.length);oe<_e;++oe){if(ue=re[oe].length-ae[oe].length)return ue;if(re[oe]!=ae[oe])return re[oe]<ae[oe]?-1:1}return re.length-ae.length}function n(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:n(Y.slice(0,-1));var le=Y.lastIndexOf("/");return le===-1?Y:Y.slice(0,le+1)}function i(Y){if(Y.charAt(Y.length-1)=="/")return i(Y.slice(0,-1));var le=Y.lastIndexOf("/");return le===-1?Y:Y.slice(le+1)}function a(Y,le){typeof le=="string"&&(le=new Date(le));var re=le.getHours();re=re<<6|le.getMinutes(),re=re<<5|le.getSeconds()>>>1,Y.write_shift(2,re);var ae=le.getFullYear()-1980;ae=ae<<4|le.getMonth()+1,ae=ae<<5|le.getDate(),Y.write_shift(2,ae)}function s(Y){var le=Y.read_shift(2)&65535,re=Y.read_shift(2)&65535,ae=new Date,oe=re&31;re>>>=5;var ue=re&15;re>>>=4,ae.setMilliseconds(0),ae.setFullYear(re+1980),ae.setMonth(ue-1),ae.setDate(oe);var _e=le&31;le>>>=5;var Ie=le&63;return le>>>=6,ae.setHours(le),ae.setMinutes(Ie),ae.setSeconds(_e<<1),ae}function o(Y){na(Y,0);for(var le={},re=0;Y.l<=Y.length-4;){var ae=Y.read_shift(2),oe=Y.read_shift(2),ue=Y.l+oe,_e={};switch(ae){case 21589:re=Y.read_shift(1),re&1&&(_e.mtime=Y.read_shift(4)),oe>5&&(re&2&&(_e.atime=Y.read_shift(4)),re&4&&(_e.ctime=Y.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}Y.l=ue,le[ae]=_e}return le}var l;function u(){return l||(l={})}function c(Y,le){if(Y[0]==80&&Y[1]==75)return _f(Y,le);if((Y[0]|32)==109&&(Y[1]|32)==105)return cg(Y,le);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var re=3,ae=512,oe=0,ue=0,_e=0,Ie=0,ve=0,be=[],Ae=Y.slice(0,512);na(Ae,0);var Ge=f(Ae);switch(re=Ge[0],re){case 3:ae=512;break;case 4:ae=4096;break;case 0:if(Ge[1]==0)return _f(Y,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ae!==512&&(Ae=Y.slice(0,ae),na(Ae,28));var Xe=Y.slice(0,ae);h(Ae,re);var nt=Ae.read_shift(4,"i");if(re===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);Ae.l+=4,_e=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),Ie=Ae.read_shift(4,"i"),oe=Ae.read_shift(4,"i"),ve=Ae.read_shift(4,"i"),ue=Ae.read_shift(4,"i");for(var qe=-1,et=0;et<109&&(qe=Ae.read_shift(4,"i"),!(qe<0));++et)be[et]=qe;var Ft=p(Y,ae);y(ve,ue,Ft,ae,be);var Rr=w(Ft,_e,be,ae);Rr[_e].name="!Directory",oe>0&&Ie!==N&&(Rr[Ie].name="!MiniFAT"),Rr[be[0]].name="!FAT",Rr.fat_addrs=be,Rr.ssz=ae;var _r={},xr=[],Ls=[],Jl=[];b(_e,Rr,Ft,xr,oe,_r,Ls,Ie),v(Ls,Jl,xr),xr.shift();var ja={FileIndex:Ls,FullPaths:Jl};return le&&le.raw&&(ja.raw={header:Xe,sectors:Ft}),ja}function f(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(G,"Header Signature: "),Y.l+=16;var le=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),le]}function h(Y,le){var re=9;switch(Y.l+=2,re=Y.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function p(Y,le){for(var re=Math.ceil(Y.length/le)-1,ae=[],oe=1;oe<re;++oe)ae[oe-1]=Y.slice(oe*le,(oe+1)*le);return ae[re-1]=Y.slice(re*le),ae}function v(Y,le,re){for(var ae=0,oe=0,ue=0,_e=0,Ie=0,ve=re.length,be=[],Ae=[];ae<ve;++ae)be[ae]=Ae[ae]=ae,le[ae]=re[ae];for(;Ie<Ae.length;++Ie)ae=Ae[Ie],oe=Y[ae].L,ue=Y[ae].R,_e=Y[ae].C,be[ae]===ae&&(oe!==-1&&be[oe]!==oe&&(be[ae]=be[oe]),ue!==-1&&be[ue]!==ue&&(be[ae]=be[ue])),_e!==-1&&(be[_e]=ae),oe!==-1&&ae!=be[ae]&&(be[oe]=be[ae],Ae.lastIndexOf(oe)<Ie&&Ae.push(oe)),ue!==-1&&ae!=be[ae]&&(be[ue]=be[ae],Ae.lastIndexOf(ue)<Ie&&Ae.push(ue));for(ae=1;ae<ve;++ae)be[ae]===ae&&(ue!==-1&&be[ue]!==ue?be[ae]=be[ue]:oe!==-1&&be[oe]!==oe&&(be[ae]=be[oe]));for(ae=1;ae<ve;++ae)if(Y[ae].type!==0){if(Ie=ae,Ie!=be[Ie])do Ie=be[Ie],le[ae]=le[Ie]+"/"+le[ae];while(Ie!==0&&be[Ie]!==-1&&Ie!=be[Ie]);be[ae]=-1}for(le[0]+="/",ae=1;ae<ve;++ae)Y[ae].type!==2&&(le[ae]+="/")}function m(Y,le,re){for(var ae=Y.start,oe=Y.size,ue=[],_e=ae;re&&oe>0&&_e>=0;)ue.push(le.slice(_e*O,_e*O+O)),oe-=O,_e=Op(re,_e*4);return ue.length===0?Ti(0):ph(ue).slice(0,Y.size)}function y(Y,le,re,ae,oe){var ue=N;if(Y===N){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var _e=re[Y],Ie=(ae>>>2)-1;if(!_e)return;for(var ve=0;ve<Ie&&(ue=Op(_e,ve*4))!==N;++ve)oe.push(ue);y(Op(_e,ae-4),le-1,re,ae,oe)}}function x(Y,le,re,ae,oe){var ue=[],_e=[];oe||(oe=[]);var Ie=ae-1,ve=0,be=0;for(ve=le;ve>=0;){oe[ve]=!0,ue[ue.length]=ve,_e.push(Y[ve]);var Ae=re[Math.floor(ve*4/ae)];if(be=ve*4&Ie,ae<4+be)throw new Error("FAT boundary crossed: "+ve+" 4 "+ae);if(!Y[Ae])break;ve=Op(Y[Ae],be)}return{nodes:ue,data:rW([_e])}}function w(Y,le,re,ae){var oe=Y.length,ue=[],_e=[],Ie=[],ve=[],be=ae-1,Ae=0,Ge=0,Xe=0,nt=0;for(Ae=0;Ae<oe;++Ae)if(Ie=[],Xe=Ae+le,Xe>=oe&&(Xe-=oe),!_e[Xe]){ve=[];var qe=[];for(Ge=Xe;Ge>=0;){qe[Ge]=!0,_e[Ge]=!0,Ie[Ie.length]=Ge,ve.push(Y[Ge]);var et=re[Math.floor(Ge*4/ae)];if(nt=Ge*4&be,ae<4+nt)throw new Error("FAT boundary crossed: "+Ge+" 4 "+ae);if(!Y[et]||(Ge=Op(Y[et],nt),qe[Ge]))break}ue[Xe]={nodes:Ie,data:rW([ve])}}return ue}function b(Y,le,re,ae,oe,ue,_e,Ie){for(var ve=0,be=ae.length?2:0,Ae=le[Y].data,Ge=0,Xe=0,nt;Ge<Ae.length;Ge+=128){var qe=Ae.slice(Ge,Ge+128);na(qe,64),Xe=qe.read_shift(2),nt=z5(qe,0,Xe-be),ae.push(nt);var et={name:nt,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},Ft=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Ft!==0&&(et.ct=T(qe,qe.l-8));var Rr=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Rr!==0&&(et.mt=T(qe,qe.l-8)),et.start=qe.read_shift(4,"i"),et.size=qe.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=N,et.name=""),et.type===5?(ve=et.start,oe>0&&ve!==N&&(le[ve].name="!StreamData")):et.size>=4096?(et.storage="fat",le[et.start]===void 0&&(le[et.start]=x(re,et.start,le.fat_addrs,le.ssz)),le[et.start].name=et.name,et.content=le[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:ve!==N&&et.start!==N&&le[ve]&&(et.content=m(et,le[ve].data,(le[Ie]||{}).data))),et.content&&na(et.content,0),ue[nt]=et,_e.push(et)}}function T(Y,le){return new Date(($s(Y,le+4)/1e7*Math.pow(2,32)+$s(Y,le)/1e7-11644473600)*1e3)}function C(Y,le){return u(),c(l.readFileSync(Y),le)}function D(Y,le){var re=le&&le.type;switch(re||mr&&Buffer.isBuffer(Y)&&(re="buffer"),re||"base64"){case"file":return C(Y,le);case"base64":return c(Tl(io(Y)),le);case"binary":return c(Tl(Y),le)}return c(Y,le)}function A(Y,le){var re=le||{},ae=re.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ae+"/",Y.FileIndex[0]={name:ae,type:5}),re.CLSID&&(Y.FileIndex[0].clsid=re.CLSID),k(Y)}function k(Y){var le="Sh33tJ5";if(!Ar.find(Y,"/"+le)){var re=Ti(4);re[0]=55,re[1]=re[3]=50,re[2]=54,Y.FileIndex.push({name:le,type:2,content:re,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+le),I(Y)}}function I(Y,le){A(Y);for(var re=!1,ae=!1,oe=Y.FullPaths.length-1;oe>=0;--oe){var ue=Y.FileIndex[oe];switch(ue.type){case 0:ae?re=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ae=!0,isNaN(ue.R*ue.L*ue.C)&&(re=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!le)){var _e=new Date(1987,1,19),Ie=0,ve=Object.create?Object.create(null):{},be=[];for(oe=0;oe<Y.FullPaths.length;++oe)ve[Y.FullPaths[oe]]=!0,Y.FileIndex[oe].type!==0&&be.push([Y.FullPaths[oe],Y.FileIndex[oe]]);for(oe=0;oe<be.length;++oe){var Ae=n(be[oe][0]);ae=ve[Ae],ae||(be.push([Ae,{name:i(Ae).replace("/",""),type:1,clsid:U,ct:_e,mt:_e,content:null}]),ve[Ae]=!0)}for(be.sort(function(nt,qe){return t(nt[0],qe[0])}),Y.FullPaths=[],Y.FileIndex=[],oe=0;oe<be.length;++oe)Y.FullPaths[oe]=be[oe][0],Y.FileIndex[oe]=be[oe][1];for(oe=0;oe<be.length;++oe){var Ge=Y.FileIndex[oe],Xe=Y.FullPaths[oe];if(Ge.name=i(Xe).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||U,oe===0)Ge.C=be.length>1?1:-1,Ge.size=0,Ge.type=5;else if(Xe.slice(-1)=="/"){for(Ie=oe+1;Ie<be.length&&n(Y.FullPaths[Ie])!=Xe;++Ie);for(Ge.C=Ie>=be.length?-1:Ie,Ie=oe+1;Ie<be.length&&n(Y.FullPaths[Ie])!=n(Xe);++Ie);Ge.R=Ie>=be.length?-1:Ie,Ge.type=1}else n(Y.FullPaths[oe+1]||"")==n(Xe)&&(Ge.R=oe+1),Ge.type=2}}}function M(Y,le){var re=le||{};if(re.fileType=="mad")return tn(Y,re);switch(I(Y),re.fileType){case"zip":return ol(Y,re)}var ae=function(nt){for(var qe=0,et=0,Ft=0;Ft<nt.FileIndex.length;++Ft){var Rr=nt.FileIndex[Ft];if(Rr.content){var _r=Rr.content.length;_r>0&&(_r<4096?qe+=_r+63>>6:et+=_r+511>>9)}}for(var xr=nt.FullPaths.length+3>>2,Ls=qe+7>>3,Jl=qe+127>>7,ja=Ls+et+xr+Jl,gs=ja+127>>7,eu=gs<=109?0:Math.ceil((gs-109)/127);ja+gs+eu+127>>7>gs;)eu=++gs<=109?0:Math.ceil((gs-109)/127);var Wa=[1,eu,gs,Jl,xr,et,qe,0];return nt.FileIndex[0].size=qe<<6,Wa[7]=(nt.FileIndex[0].start=Wa[0]+Wa[1]+Wa[2]+Wa[3]+Wa[4]+Wa[5])+(Wa[6]+7>>3),Wa}(Y),oe=Ti(ae[7]<<9),ue=0,_e=0;{for(ue=0;ue<8;++ue)oe.write_shift(1,j[ue]);for(ue=0;ue<8;++ue)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ue=0;ue<3;++ue)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,ae[2]),oe.write_shift(4,ae[0]+ae[1]+ae[2]+ae[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,ae[3]?ae[0]+ae[1]+ae[2]-1:N),oe.write_shift(4,ae[3]),oe.write_shift(-4,ae[1]?ae[0]-1:N),oe.write_shift(4,ae[1]),ue=0;ue<109;++ue)oe.write_shift(-4,ue<ae[2]?ae[1]+ue:-1)}if(ae[1])for(_e=0;_e<ae[1];++_e){for(;ue<236+_e*127;++ue)oe.write_shift(-4,ue<ae[2]?ae[1]+ue:-1);oe.write_shift(-4,_e===ae[1]-1?N:_e+1)}var Ie=function(nt){for(_e+=nt;ue<_e-1;++ue)oe.write_shift(-4,ue+1);nt&&(++ue,oe.write_shift(-4,N))};for(_e=ue=0,_e+=ae[1];ue<_e;++ue)oe.write_shift(-4,X.DIFSECT);for(_e+=ae[2];ue<_e;++ue)oe.write_shift(-4,X.FATSECT);Ie(ae[3]),Ie(ae[4]);for(var ve=0,be=0,Ae=Y.FileIndex[0];ve<Y.FileIndex.length;++ve)Ae=Y.FileIndex[ve],Ae.content&&(be=Ae.content.length,!(be<4096)&&(Ae.start=_e,Ie(be+511>>9)));for(Ie(ae[6]+7>>3);oe.l&511;)oe.write_shift(-4,X.ENDOFCHAIN);for(_e=ue=0,ve=0;ve<Y.FileIndex.length;++ve)Ae=Y.FileIndex[ve],Ae.content&&(be=Ae.content.length,!(!be||be>=4096)&&(Ae.start=_e,Ie(be+63>>6)));for(;oe.l&511;)oe.write_shift(-4,X.ENDOFCHAIN);for(ue=0;ue<ae[4]<<2;++ue){var Ge=Y.FullPaths[ue];if(!Ge||Ge.length===0){for(ve=0;ve<17;++ve)oe.write_shift(4,0);for(ve=0;ve<3;++ve)oe.write_shift(4,-1);for(ve=0;ve<12;++ve)oe.write_shift(4,0);continue}Ae=Y.FileIndex[ue],ue===0&&(Ae.start=Ae.size?Ae.start-1:N);var Xe=ue===0&&re.root||Ae.name;if(be=2*(Xe.length+1),oe.write_shift(64,Xe,"utf16le"),oe.write_shift(2,be),oe.write_shift(1,Ae.type),oe.write_shift(1,Ae.color),oe.write_shift(-4,Ae.L),oe.write_shift(-4,Ae.R),oe.write_shift(-4,Ae.C),Ae.clsid)oe.write_shift(16,Ae.clsid,"hex");else for(ve=0;ve<4;++ve)oe.write_shift(4,0);oe.write_shift(4,Ae.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Ae.start),oe.write_shift(4,Ae.size),oe.write_shift(4,0)}for(ue=1;ue<Y.FileIndex.length;++ue)if(Ae=Y.FileIndex[ue],Ae.size>=4096)if(oe.l=Ae.start+1<<9,mr&&Buffer.isBuffer(Ae.content))Ae.content.copy(oe,oe.l,0,Ae.size),oe.l+=Ae.size+511&-512;else{for(ve=0;ve<Ae.size;++ve)oe.write_shift(1,Ae.content[ve]);for(;ve&511;++ve)oe.write_shift(1,0)}for(ue=1;ue<Y.FileIndex.length;++ue)if(Ae=Y.FileIndex[ue],Ae.size>0&&Ae.size<4096)if(mr&&Buffer.isBuffer(Ae.content))Ae.content.copy(oe,oe.l,0,Ae.size),oe.l+=Ae.size+63&-64;else{for(ve=0;ve<Ae.size;++ve)oe.write_shift(1,Ae.content[ve]);for(;ve&63;++ve)oe.write_shift(1,0)}if(mr)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function P(Y,le){var re=Y.FullPaths.map(function(ve){return ve.toUpperCase()}),ae=re.map(function(ve){var be=ve.split("/");return be[be.length-(ve.slice(-1)=="/"?2:1)]}),oe=!1;le.charCodeAt(0)===47?(oe=!0,le=re[0].slice(0,-1)+le):oe=le.indexOf("/")!==-1;var ue=le.toUpperCase(),_e=oe===!0?re.indexOf(ue):ae.indexOf(ue);if(_e!==-1)return Y.FileIndex[_e];var Ie=!ue.match(L_);for(ue=ue.replace(os,""),Ie&&(ue=ue.replace(L_,"!")),_e=0;_e<re.length;++_e)if((Ie?re[_e].replace(L_,"!"):re[_e]).replace(os,"")==ue||(Ie?ae[_e].replace(L_,"!"):ae[_e]).replace(os,"")==ue)return Y.FileIndex[_e];return null}var O=64,N=-2,G="d0cf11e0a1b11ae1",j=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(Y,le,re){u();var ae=M(Y,re);l.writeFileSync(le,ae)}function Z(Y){for(var le=new Array(Y.length),re=0;re<Y.length;++re)le[re]=String.fromCharCode(Y[re]);return le.join("")}function W(Y,le){var re=M(Y,le);switch(le&&le.type||"buffer"){case"file":return u(),l.writeFileSync(le.filename,re),re;case"binary":return typeof re=="string"?re:Z(re);case"base64":return Bj(typeof re=="string"?re:Z(re));case"buffer":if(mr)return Buffer.isBuffer(re)?re:Xv(re);case"array":return typeof re=="string"?Tl(re):re}return re}var Q;function H(Y){try{var le=Y.InflateRaw,re=new le;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)Q=Y;else throw new Error("zlib does not expose bytesRead")}catch(ae){console.error("cannot use native zlib: "+(ae.message||ae))}}function ee(Y,le){if(!Q)return mf(Y,le);var re=Q.InflateRaw,ae=new re,oe=ae._processChunk(Y.slice(Y.l),ae._finishFlushFlag);return Y.l+=ae.bytesRead,oe}function J(Y){return Q?Q.deflateRawSync(Y):kt(Y)}var se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(Y){var le=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(le>>16|le>>8|le)&255}for(var xe=typeof Uint8Array<"u",Te=xe?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)Te[Oe]=Se(Oe);function ne(Y,le){var re=Te[Y&255];return le<=8?re>>>8-le:(re=re<<8|Te[Y>>8&255],le<=16?re>>>16-le:(re=re<<8|Te[Y>>16&255],re>>>24-le))}function pt(Y,le){var re=le&7,ae=le>>>3;return(Y[ae]|(re<=6?0:Y[ae+1]<<8))>>>re&3}function tt(Y,le){var re=le&7,ae=le>>>3;return(Y[ae]|(re<=5?0:Y[ae+1]<<8))>>>re&7}function ct(Y,le){var re=le&7,ae=le>>>3;return(Y[ae]|(re<=4?0:Y[ae+1]<<8))>>>re&15}function it(Y,le){var re=le&7,ae=le>>>3;return(Y[ae]|(re<=3?0:Y[ae+1]<<8))>>>re&31}function He(Y,le){var re=le&7,ae=le>>>3;return(Y[ae]|(re<=1?0:Y[ae+1]<<8))>>>re&127}function xt(Y,le,re){var ae=le&7,oe=le>>>3,ue=(1<<re)-1,_e=Y[oe]>>>ae;return re<8-ae||(_e|=Y[oe+1]<<8-ae,re<16-ae)||(_e|=Y[oe+2]<<16-ae,re<24-ae)||(_e|=Y[oe+3]<<24-ae),_e&ue}function gr(Y,le,re){var ae=le&7,oe=le>>>3;return ae<=5?Y[oe]|=(re&7)<<ae:(Y[oe]|=re<<ae&255,Y[oe+1]=(re&7)>>8-ae),le+3}function Jr(Y,le,re){var ae=le&7,oe=le>>>3;return re=(re&1)<<ae,Y[oe]|=re,le+1}function Ve(Y,le,re){var ae=le&7,oe=le>>>3;return re<<=ae,Y[oe]|=re&255,re>>>=8,Y[oe+1]=re,le+8}function At(Y,le,re){var ae=le&7,oe=le>>>3;return re<<=ae,Y[oe]|=re&255,re>>>=8,Y[oe+1]=re&255,Y[oe+2]=re>>>8,le+16}function Nt(Y,le){var re=Y.length,ae=2*re>le?2*re:le+5,oe=0;if(re>=le)return Y;if(mr){var ue=Vj(ae);if(Y.copy)Y.copy(ue);else for(;oe<Y.length;++oe)ue[oe]=Y[oe];return ue}else if(xe){var _e=new Uint8Array(ae);if(_e.set)_e.set(Y);else for(;oe<re;++oe)_e[oe]=Y[oe];return _e}return Y.length=ae,Y}function Dt(Y){for(var le=new Array(Y),re=0;re<Y;++re)le[re]=0;return le}function _n(Y,le,re){var ae=1,oe=0,ue=0,_e=0,Ie=0,ve=Y.length,be=xe?new Uint16Array(32):Dt(32);for(ue=0;ue<32;++ue)be[ue]=0;for(ue=ve;ue<re;++ue)Y[ue]=0;ve=Y.length;var Ae=xe?new Uint16Array(ve):Dt(ve);for(ue=0;ue<ve;++ue)be[oe=Y[ue]]++,ae<oe&&(ae=oe),Ae[ue]=0;for(be[0]=0,ue=1;ue<=ae;++ue)be[ue+16]=Ie=Ie+be[ue-1]<<1;for(ue=0;ue<ve;++ue)Ie=Y[ue],Ie!=0&&(Ae[ue]=be[Ie+16]++);var Ge=0;for(ue=0;ue<ve;++ue)if(Ge=Y[ue],Ge!=0)for(Ie=ne(Ae[ue],ae)>>ae-Ge,_e=(1<<ae+4-Ge)-1;_e>=0;--_e)le[Ie|_e<<Ge]=Ge&15|ue<<4;return ae}var Et=xe?new Uint16Array(512):Dt(512),mt=xe?new Uint16Array(32):Dt(32);if(!xe){for(var ir=0;ir<512;++ir)Et[ir]=0;for(ir=0;ir<32;++ir)mt[ir]=0}(function(){for(var Y=[],le=0;le<32;le++)Y.push(5);_n(Y,mt,32);var re=[];for(le=0;le<=143;le++)re.push(8);for(;le<=255;le++)re.push(9);for(;le<=279;le++)re.push(7);for(;le<=287;le++)re.push(8);_n(re,Et,288)})();var yr=function(){for(var le=xe?new Uint8Array(32768):[],re=0,ae=0;re<Me.length-1;++re)for(;ae<Me[re+1];++ae)le[ae]=re;for(;ae<32768;++ae)le[ae]=29;var oe=xe?new Uint8Array(259):[];for(re=0,ae=0;re<de.length-1;++re)for(;ae<de[re+1];++ae)oe[ae]=re;function ue(Ie,ve){for(var be=0;be<Ie.length;){var Ae=Math.min(65535,Ie.length-be),Ge=be+Ae==Ie.length;for(ve.write_shift(1,+Ge),ve.write_shift(2,Ae),ve.write_shift(2,~Ae&65535);Ae-- >0;)ve[ve.l++]=Ie[be++]}return ve.l}function _e(Ie,ve){for(var be=0,Ae=0,Ge=xe?new Uint16Array(32768):[];Ae<Ie.length;){var Xe=Math.min(65535,Ie.length-Ae);if(Xe<10){for(be=gr(ve,be,+(Ae+Xe==Ie.length)),be&7&&(be+=8-(be&7)),ve.l=be/8|0,ve.write_shift(2,Xe),ve.write_shift(2,~Xe&65535);Xe-- >0;)ve[ve.l++]=Ie[Ae++];be=ve.l*8;continue}be=gr(ve,be,+(Ae+Xe==Ie.length)+2);for(var nt=0;Xe-- >0;){var qe=Ie[Ae];nt=(nt<<5^qe)&32767;var et=-1,Ft=0;if((et=Ge[nt])&&(et|=Ae&-32768,et>Ae&&(et-=32768),et<Ae))for(;Ie[et+Ft]==Ie[Ae+Ft]&&Ft<250;)++Ft;if(Ft>2){qe=oe[Ft],qe<=22?be=Ve(ve,be,Te[qe+1]>>1)-1:(Ve(ve,be,3),be+=5,Ve(ve,be,Te[qe-23]>>5),be+=3);var Rr=qe<8?0:qe-4>>2;Rr>0&&(At(ve,be,Ft-de[qe]),be+=Rr),qe=le[Ae-et],be=Ve(ve,be,Te[qe]>>3),be-=3;var _r=qe<4?0:qe-2>>1;_r>0&&(At(ve,be,Ae-et-Me[qe]),be+=_r);for(var xr=0;xr<Ft;++xr)Ge[nt]=Ae&32767,nt=(nt<<5^Ie[Ae])&32767,++Ae;Xe-=Ft-1}else qe<=143?qe=qe+48:be=Jr(ve,be,1),be=Ve(ve,be,Te[qe]),Ge[nt]=Ae&32767,++Ae}be=Ve(ve,be,0)-1}return ve.l=(be+7)/8|0,ve.l}return function(ve,be){return ve.length<8?ue(ve,be):_e(ve,be)}}();function kt(Y){var le=Ti(50+Math.floor(Y.length*1.1)),re=yr(Y,le);return le.slice(0,re)}var Dr=xe?new Uint16Array(32768):Dt(32768),hn=xe?new Uint16Array(32768):Dt(32768),Or=xe?new Uint16Array(128):Dt(128),ni=1,qi=1;function il(Y,le){var re=it(Y,le)+257;le+=5;var ae=it(Y,le)+1;le+=5;var oe=ct(Y,le)+4;le+=4;for(var ue=0,_e=xe?new Uint8Array(19):Dt(19),Ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,be=xe?new Uint8Array(8):Dt(8),Ae=xe?new Uint8Array(8):Dt(8),Ge=_e.length,Xe=0;Xe<oe;++Xe)_e[se[Xe]]=ue=tt(Y,le),ve<ue&&(ve=ue),be[ue]++,le+=3;var nt=0;for(be[0]=0,Xe=1;Xe<=ve;++Xe)Ae[Xe]=nt=nt+be[Xe-1]<<1;for(Xe=0;Xe<Ge;++Xe)(nt=_e[Xe])!=0&&(Ie[Xe]=Ae[nt]++);var qe=0;for(Xe=0;Xe<Ge;++Xe)if(qe=_e[Xe],qe!=0){nt=Te[Ie[Xe]]>>8-qe;for(var et=(1<<7-qe)-1;et>=0;--et)Or[nt|et<<qe]=qe&7|Xe<<3}var Ft=[];for(ve=1;Ft.length<re+ae;)switch(nt=Or[He(Y,le)],le+=nt&7,nt>>>=3){case 16:for(ue=3+pt(Y,le),le+=2,nt=Ft[Ft.length-1];ue-- >0;)Ft.push(nt);break;case 17:for(ue=3+tt(Y,le),le+=3;ue-- >0;)Ft.push(0);break;case 18:for(ue=11+He(Y,le),le+=7;ue-- >0;)Ft.push(0);break;default:Ft.push(nt),ve<nt&&(ve=nt);break}var Rr=Ft.slice(0,re),_r=Ft.slice(re);for(Xe=re;Xe<286;++Xe)Rr[Xe]=0;for(Xe=ae;Xe<30;++Xe)_r[Xe]=0;return ni=_n(Rr,Dr,286),qi=_n(_r,hn,30),le}function al(Y,le){if(Y[0]==3&&!(Y[1]&3))return[ed(le),2];for(var re=0,ae=0,oe=Vj(le||1<<18),ue=0,_e=oe.length>>>0,Ie=0,ve=0;(ae&1)==0;){if(ae=tt(Y,re),re+=3,ae>>>1)ae>>1==1?(Ie=9,ve=5):(re=il(Y,re),Ie=ni,ve=qi);else{re&7&&(re+=8-(re&7));var be=Y[re>>>3]|Y[(re>>>3)+1]<<8;if(re+=32,be>0)for(!le&&_e<ue+be&&(oe=Nt(oe,ue+be),_e=oe.length);be-- >0;)oe[ue++]=Y[re>>>3],re+=8;continue}for(;;){!le&&_e<ue+32767&&(oe=Nt(oe,ue+32767),_e=oe.length);var Ae=xt(Y,re,Ie),Ge=ae>>>1==1?Et[Ae]:Dr[Ae];if(re+=Ge&15,Ge>>>=4,(Ge>>>8&255)===0)oe[ue++]=Ge;else{if(Ge==256)break;Ge-=257;var Xe=Ge<8?0:Ge-4>>2;Xe>5&&(Xe=0);var nt=ue+de[Ge];Xe>0&&(nt+=xt(Y,re,Xe),re+=Xe),Ae=xt(Y,re,ve),Ge=ae>>>1==1?mt[Ae]:hn[Ae],re+=Ge&15,Ge>>>=4;var qe=Ge<4?0:Ge-2>>1,et=Me[Ge];for(qe>0&&(et+=xt(Y,re,qe),re+=qe),!le&&_e<nt&&(oe=Nt(oe,nt+100),_e=oe.length);ue<nt;)oe[ue]=oe[ue-et],++ue}}}return le?[oe,re+7>>>3]:[oe.slice(0,ue),re+7>>>3]}function mf(Y,le){var re=Y.slice(Y.l||0),ae=al(re,le);return Y.l+=ae[1],ae[0]}function yf(Y,le){if(Y)typeof console<"u"&&console.error(le);else throw new Error(le)}function _f(Y,le){var re=Y;na(re,0);var ae=[],oe=[],ue={FileIndex:ae,FullPaths:oe};A(ue,{root:le.root});for(var _e=re.length-4;(re[_e]!=80||re[_e+1]!=75||re[_e+2]!=5||re[_e+3]!=6)&&_e>=0;)--_e;re.l=_e+4,re.l+=4;var Ie=re.read_shift(2);re.l+=6;var ve=re.read_shift(4);for(re.l=ve,_e=0;_e<Ie;++_e){re.l+=20;var be=re.read_shift(4),Ae=re.read_shift(4),Ge=re.read_shift(2),Xe=re.read_shift(2),nt=re.read_shift(2);re.l+=8;var qe=re.read_shift(4),et=o(re.slice(re.l+Ge,re.l+Ge+Xe));re.l+=Ge+Xe+nt;var Ft=re.l;re.l=qe+4,sl(re,be,Ae,ue,et),re.l=Ft}return ue}function sl(Y,le,re,ae,oe){Y.l+=2;var ue=Y.read_shift(2),_e=Y.read_shift(2),Ie=s(Y);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var ve=Y.read_shift(4),be=Y.read_shift(4),Ae=Y.read_shift(4),Ge=Y.read_shift(2),Xe=Y.read_shift(2),nt="",qe=0;qe<Ge;++qe)nt+=String.fromCharCode(Y[Y.l++]);if(Xe){var et=o(Y.slice(Y.l,Y.l+Xe));(et[21589]||{}).mt&&(Ie=et[21589].mt),((oe||{})[21589]||{}).mt&&(Ie=oe[21589].mt)}Y.l+=Xe;var Ft=Y.slice(Y.l,Y.l+be);switch(_e){case 8:Ft=ee(Y,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var Rr=!1;ue&8&&(ve=Y.read_shift(4),ve==134695760&&(ve=Y.read_shift(4),Rr=!0),be=Y.read_shift(4),Ae=Y.read_shift(4)),be!=le&&yf(Rr,"Bad compressed size: "+le+" != "+be),Ae!=re&&yf(Rr,"Bad uncompressed size: "+re+" != "+Ae),dn(ae,nt,Ft,{unsafe:!0,mt:Ie})}function ol(Y,le){var re=le||{},ae=[],oe=[],ue=Ti(1),_e=re.compression?8:0,Ie=0,ve=0,be=0,Ae=0,Ge=0,Xe=Y.FullPaths[0],nt=Xe,qe=Y.FileIndex[0],et=[],Ft=0;for(ve=1;ve<Y.FullPaths.length;++ve)if(nt=Y.FullPaths[ve].slice(Xe.length),qe=Y.FileIndex[ve],!(!qe.size||!qe.content||nt=="Sh33tJ5")){var Rr=Ae,_r=Ti(nt.length);for(be=0;be<nt.length;++be)_r.write_shift(1,nt.charCodeAt(be)&127);_r=_r.slice(0,_r.l),et[Ge]=p5e.buf(qe.content,0);var xr=qe.content;_e==8&&(xr=J(xr)),ue=Ti(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Ie),ue.write_shift(2,_e),qe.mt?a(ue,qe.mt):ue.write_shift(4,0),ue.write_shift(-4,et[Ge]),ue.write_shift(4,xr.length),ue.write_shift(4,qe.content.length),ue.write_shift(2,_r.length),ue.write_shift(2,0),Ae+=ue.length,ae.push(ue),Ae+=_r.length,ae.push(_r),Ae+=xr.length,ae.push(xr),ue=Ti(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Ie),ue.write_shift(2,_e),ue.write_shift(4,0),ue.write_shift(-4,et[Ge]),ue.write_shift(4,xr.length),ue.write_shift(4,qe.content.length),ue.write_shift(2,_r.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,Rr),Ft+=ue.l,oe.push(ue),Ft+=_r.length,oe.push(_r),++Ge}return ue=Ti(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,Ge),ue.write_shift(2,Ge),ue.write_shift(4,Ft),ue.write_shift(4,Ae),ue.write_shift(2,0),ph([ph(ae),ph(oe),ue])}var Kl={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function lo(Y,le){if(Y.ctype)return Y.ctype;var re=Y.name||"",ae=re.match(/\.([^\.]+)$/);return ae&&Kl[ae[1]]||le&&(ae=(re=le).match(/[\.\\]([^\.\\])+$/),ae&&Kl[ae[1]])?Kl[ae[1]]:"application/octet-stream"}function wd(Y){for(var le=Bj(Y),re=[],ae=0;ae<le.length;ae+=76)re.push(le.slice(ae,ae+76));return re.join(`\r
`)+`\r
`}function Zl(Y){var le=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var Ae=be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ae=le.split(`\r
`),oe=0;oe<ae.length;++oe){var ue=ae[oe];if(ue.length==0){re.push("");continue}for(var _e=0;_e<ue.length;){var Ie=76,ve=ue.slice(_e,_e+Ie);ve.charAt(Ie-1)=="="?Ie--:ve.charAt(Ie-2)=="="?Ie-=2:ve.charAt(Ie-3)=="="&&(Ie-=3),ve=ue.slice(_e,_e+Ie),_e+=Ie,_e<ue.length&&(ve+="="),re.push(ve)}}return re.join(`\r
`)}function xf(Y){for(var le=[],re=0;re<Y.length;++re){for(var ae=Y[re];re<=Y.length&&ae.charAt(ae.length-1)=="=";)ae=ae.slice(0,ae.length-1)+Y[++re];le.push(ae)}for(var oe=0;oe<le.length;++oe)le[oe]=le[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return Tl(le.join(`\r
`))}function Ql(Y,le,re){for(var ae="",oe="",ue="",_e,Ie=0;Ie<10;++Ie){var ve=le[Ie];if(!ve||ve.match(/^\s*$/))break;var be=ve.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":ae=be[2].trim();break;case"content-type":ue=be[2].trim();break;case"content-transfer-encoding":oe=be[2].trim();break}}switch(++Ie,oe.toLowerCase()){case"base64":_e=Tl(io(le.slice(Ie).join("")));break;case"quoted-printable":_e=xf(le.slice(Ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Ae=dn(Y,ae.slice(re.length),_e,{unsafe:!0});ue&&(Ae.ctype=ue)}function cg(Y,le){if(Z(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=le&&le.root||"",ae=(mr&&Buffer.isBuffer(Y)?Y.toString("binary"):Z(Y)).split(`\r
`),oe=0,ue="";for(oe=0;oe<ae.length;++oe)if(ue=ae[oe],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),re||(re=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ue.slice(0,re.length)!=re););var _e=(ae[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var Ie="--"+(_e[1]||""),ve=[],be=[],Ae={FileIndex:ve,FullPaths:be};A(Ae);var Ge,Xe=0;for(oe=0;oe<ae.length;++oe){var nt=ae[oe];nt!==Ie&&nt!==Ie+"--"||(Xe++&&Ql(Ae,ae.slice(Ge,oe),re),Ge=oe)}return Ae}function tn(Y,le){var re=le||{},ae=re.boundary||"SheetJS";ae="------="+ae;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ae.slice(2)+'"',"","",""],ue=Y.FullPaths[0],_e=ue,Ie=Y.FileIndex[0],ve=1;ve<Y.FullPaths.length;++ve)if(_e=Y.FullPaths[ve].slice(ue.length),Ie=Y.FileIndex[ve],!(!Ie.size||!Ie.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ft){return"_x"+Ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ft){return"_u"+Ft.charCodeAt(0).toString(16)+"_"});for(var be=Ie.content,Ae=mr&&Buffer.isBuffer(be)?be.toString("binary"):Z(be),Ge=0,Xe=Math.min(1024,Ae.length),nt=0,qe=0;qe<=Xe;++qe)(nt=Ae.charCodeAt(qe))>=32&&nt<128&&++Ge;var et=Ge>=Xe*4/5;oe.push(ae),oe.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+_e),oe.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),oe.push("Content-Type: "+lo(Ie,_e)),oe.push(""),oe.push(et?Zl(Ae):wd(Ae))}return oe.push(ae+`--\r
`),oe.join(`\r
`)}function Un(Y){var le={};return A(le,Y),le}function dn(Y,le,re,ae){var oe=ae&&ae.unsafe;oe||A(Y);var ue=!oe&&Ar.find(Y,le);if(!ue){var _e=Y.FullPaths[0];le.slice(0,_e.length)==_e?_e=le:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+le).replace("//","/")),ue={name:i(le),type:2},Y.FileIndex.push(ue),Y.FullPaths.push(_e),oe||Ar.utils.cfb_gc(Y)}return ue.content=re,ue.size=re?re.length:0,ae&&(ae.CLSID&&(ue.clsid=ae.CLSID),ae.mt&&(ue.mt=ae.mt),ae.ct&&(ue.ct=ae.ct)),ue}function vs(Y,le){A(Y);var re=Ar.find(Y,le);if(re){for(var ae=0;ae<Y.FileIndex.length;++ae)if(Y.FileIndex[ae]==re)return Y.FileIndex.splice(ae,1),Y.FullPaths.splice(ae,1),!0}return!1}function bd(Y,le,re){A(Y);var ae=Ar.find(Y,le);if(ae){for(var oe=0;oe<Y.FileIndex.length;++oe)if(Y.FileIndex[oe]==ae)return Y.FileIndex[oe].name=i(re),Y.FullPaths[oe]=re,!0}return!1}function Fy(Y){I(Y,!0)}return e.find=P,e.read=D,e.parse=c,e.write=W,e.writeFile=ie,e.utils={cfb_new:Un,cfb_add:dn,cfb_del:vs,cfb_mov:bd,cfb_gc:Fy,ReadShift:ux,CheckField:ose,prep_blob:na,bconcat:ph,use_zlib:H,_deflateRaw:kt,_inflateRaw:mf,consts:X},e}();function v5e(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function Ku(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function N5(r){for(var e=[],t=Ku(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var RE=new Date(1899,11,30,0,0,0);function fs(r,e){var t=r.getTime(),n=RE.getTime()+(r.getTimezoneOffset()-RE.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var zae=new Date,g5e=RE.getTime()+(zae.getTimezoneOffset()-RE.getTimezoneOffset())*6e4,qj=zae.getTimezoneOffset();function ED(r){var e=new Date;return e.setTime(r*24*60*60*1e3+g5e),e.getTimezoneOffset()!==qj&&e.setTime(e.getTime()+(e.getTimezoneOffset()-qj)*6e4),e}function m5e(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(t=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[a],10)}return e}var Yj=new Date("2017-02-19T19:06:09.000Z"),Uae=isNaN(Yj.getFullYear())?new Date("2/19/17"):Yj,y5e=Uae.getFullYear()==2017;function ji(r,e){var t=new Date(r);if(y5e)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(Uae.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Rv(r,e){if(mr&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return N_(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return N_(Cae(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return N_(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return N_(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function ua(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=ua(r[t]));return e}function On(r,e){for(var t="";t.length<e;)t+=r;return t}function Ll(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(n)))?e/t:e}var _5e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vm(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&_5e.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||a>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var x5e=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var a=t.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function Hae(r){return r?r.content&&r.type?Rv(r.content,!0):r.data?P_(r.data):r.asNodeBuffer&&mr?P_(r.asNodeBuffer().toString("binary")):r.asBinary?P_(r.asBinary()):r._data&&r._data.getContent?P_(Rv(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function Gae(r){if(!r)return null;if(r.data)return Nj(r.data);if(r.asNodeBuffer&&mr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?Nj(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function w5e(r){return r&&r.name.slice(-4)===".bin"?Gae(r):Hae(r)}function Mo(r,e){for(var t=r.FullPaths||Ku(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return r.files?r.files[t[a]]:r.FileIndex[a]}return null}function F5(r,e){var t=Mo(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function ui(r,e,t){if(!t)return w5e(F5(r,e));if(!e)return null;try{return ui(r,e)}catch{return null}}function Ys(r,e,t){if(!t)return Hae(F5(r,e));if(!e)return null;try{return Ys(r,e)}catch{return null}}function b5e(r,e,t){return Gae(F5(r,e))}function Xj(r){for(var e=r.FullPaths||Ku(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function S5e(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return mr?n=Xv(t):n=HFe(t),Ar.utils.cfb_add(r,e,n)}Ar.utils.cfb_add(r,e,t)}else r.file(e,t)}function jae(r,e){switch(e.type){case"base64":return Ar.read(r,{type:"base64"});case"binary":return Ar.read(r,{type:"binary"});case"buffer":case"array":return Ar.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function O_(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var Wae=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,T5e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Kj=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,A5e=/<[^>]*>/g,Ha=Wae.match(Kj)?Kj:A5e,E5e=/<\w*:/,C5e=/<(\/?)\w+:/;function zt(r,e,t){for(var n={},i=0,a=0;i!==r.length&&!((a=r.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var s=r.match(T5e),o=0,l="",u=0,c="",f="",h=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(c=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(h=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+h,f.length-h),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=l,n[c.toLowerCase()]=l;else{var p=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(n[p]&&c.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function tc(r){return r.replace(C5e,"<$1")}var $ae={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},D5e=N5($ae),Ir=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(r,function(o,l){return $ae[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return t(i.slice(0,a))+i.slice(a+9,s)+t(i.slice(s+3))}}(),I5e=/[&<>'"]/g,R5e=/[\u0000-\u001f]/g;function B5(r){var e=r+"";return e.replace(I5e,function(t){return D5e[t]}).replace(/\n/g,"<br/>").replace(R5e,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var Zj=function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}}();function gn(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function CM(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Qj(r){var e=ed(2*r.length),t,n,i=1,a=0,s=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function Jj(r){return Xv(r,"binary").toString("utf8")}var LT="foo bar baz",ln=mr&&(Jj(LT)==CM(LT)&&Jj||Qj(LT)==CM(LT)&&Qj)||CM,N_=mr?function(r){return Xv(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},iw=function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),qae=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),k5e=function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),M5e=/<\/?(?:vt:)?variant>/g,P5e=/<(?:vt:)([^>]*)>([\s\S]*)</;function eW(r,e){var t=zt(r),n=r.match(k5e(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(a){var s=a.replace(M5e,"").match(P5e);s&&i.push({v:ln(s[2]),t:s[1]})}),i}var L5e=/(^\s|\s$|\n)/;function O5e(r){return Ku(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function N5e(r,e,t){return"<"+r+(t!=null?O5e(t):"")+(e!=null?(e.match(L5e)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function V5(r){if(mr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return ln(Kv(P5(r)));throw new Error("Bad input format: expected Buffer or string")}var aw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,F5e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},B5e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function V5e(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,a=5;a>=0;--a)i=i*256+r[e+a];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function z5e(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)r[t+o]=a&255;r[t+6]=(i&15)<<4|a&15,r[t+7]=i>>4|n}var tW=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},rW=mr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Xv(e)})):tW(r)}:tW,nW=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(Vc(r,i)));return n.join("").replace(os,"")},z5=mr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(os,""):nW(r,e,t)}:nW,iW=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},Yae=mr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):iW(r,e,t)}:iW,aW=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(C0(r,i)));return n.join("")},gb=mr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):aW(e,t,n)}:aW,Xae=function(r,e){var t=$s(r,e);return t>0?gb(r,e+4,e+4+t-1):""},Kae=Xae,Zae=function(r,e){var t=$s(r,e);return t>0?gb(r,e+4,e+4+t-1):""},Qae=Zae,Jae=function(r,e){var t=2*$s(r,e);return t>0?gb(r,e+4,e+4+t-1):""},ese=Jae,tse=function(e,t){var n=$s(e,t);return n>0?z5(e,t+4,t+4+n):""},rse=tse,nse=function(r,e){var t=$s(r,e);return t>0?gb(r,e+4,e+4+t):""},ise=nse,ase=function(r,e){return V5e(r,e)},kE=ase,sse=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};mr&&(Kae=function(e,t){if(!Buffer.isBuffer(e))return Xae(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Qae=function(e,t){if(!Buffer.isBuffer(e))return Zae(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},ese=function(e,t){if(!Buffer.isBuffer(e))return Jae(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},rse=function(e,t){if(!Buffer.isBuffer(e))return tse(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},ise=function(e,t){if(!Buffer.isBuffer(e))return nse(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},kE=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):ase(e,t)},sse=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var C0=function(r,e){return r[e]},Vc=function(r,e){return r[e+1]*256+r[e]},U5e=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},$s=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Op=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},H5e=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function ux(r,e){var t="",n,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,mr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(Vc(this,u)),u+=2;r*=2;break;case"utf8":t=gb(this,this.l,this.l+r);break;case"utf16le":r*=2,t=z5(this,this.l,this.l+r);break;case"wstr":return ux.call(this,r,"dbcs");case"lpstr-ansi":t=Kae(this,this.l),r=4+$s(this,this.l);break;case"lpstr-cp":t=Qae(this,this.l),r=4+$s(this,this.l);break;case"lpwstr":t=ese(this,this.l),r=4+2*$s(this,this.l);break;case"lpp4":r=4+$s(this,this.l),t=rse(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+$s(this,this.l),t=ise(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=C0(this,this.l+r++))!==0;)a.push(PT(s));t=a.join("");break;case"_wstr":for(r=0,t="";(s=Vc(this,this.l+r))!==0;)a.push(PT(s)),r+=2;r+=2,t=a.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=C0(this,u),this.l=u+1,o=ux.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(PT(Vc(this,u))),u+=2}t=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=C0(this,u),this.l=u+1,o=ux.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(PT(C0(this,u))),u+=1}t=a.join("");break;default:switch(r){case 1:return n=C0(this,this.l),this.l++,n;case 2:return n=(e==="i"?U5e:Vc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Op:H5e)(this,this.l),this.l+=4,n):(i=$s(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=kE(this,this.l):i=kE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=Yae(this,this.l,r);break}}return this.l+=r,t}var G5e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},j5e=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},W5e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function $5e(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)W5e(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,G5e(this,e,this.l);break;case 8:if(n=8,t==="f"){z5e(this,e,this.l);break}case 16:break;case-4:n=4,j5e(this,e,this.l);break}return this.l+=n,this}function ose(r,e){var t=Yae(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function na(r,e){r.l=e,r.read_shift=ux,r.chk=ose,r.write_shift=$5e}function Fa(r,e){r.l+=e}function Ti(r){var e=ed(r);return na(e,0),e}function vf(r,e,t){if(r){var n,i,a;na(r,r.l||0);for(var s=r.length,o=0,l=0;r.l<s;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var u=FE[o]||FE[65535];for(n=r.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=r.read_shift(1))&127)<<7*i;l=r.l+a;var c=u.f&&u.f(r,a,t);if(r.l=l,e(c,u,o))return}}}function EN(){var r=[],e=mr?256:2048,t=function(u){var c=Ti(u);return na(c,0),c},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=t(Math.max(u+1,e)))},s=function(){return i(),ph(r)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:r}}function cx(r,e,t){var n=ua(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function sW(r,e,t){var n=ua(r);return n.s=cx(n.s,e.s,t),n.e=cx(n.e,e.s,t),n}function fx(r,e){if(r.cRel&&r.c<0)for(r=ua(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=ua(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=$t(r);return!r.cRel&&r.cRel!=null&&(t=X5e(t)),!r.rRel&&r.rRel!=null&&(t=q5e(t)),t}function DM(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Ei(r.s.c)+":"+(r.e.cRel?"":"$")+Ei(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+ca(r.s.r)+":"+(r.e.rRel?"":"$")+ca(r.e.r):fx(r.s,e.biff)+":"+fx(r.e,e.biff)}function U5(r){return parseInt(Y5e(r),10)-1}function ca(r){return""+(r+1)}function q5e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Y5e(r){return r.replace(/\$(\d+)$/,"$1")}function H5(r){for(var e=K5e(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Ei(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function X5e(r){return r.replace(/^([A-Z])/,"$$$1")}function K5e(r){return r.replace(/^\$([A-Z])/,"$1")}function Z5e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function as(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function $t(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function vy(r){var e=r.indexOf(":");return e==-1?{s:as(r),e:as(r)}:{s:as(r.slice(0,e)),e:as(r.slice(e+1))}}function Er(r,e){return typeof e>"u"||typeof e=="number"?Er(r.s,r.e):(typeof r!="string"&&(r=$t(r)),typeof e!="string"&&(e=$t(e)),r==e?r:r+":"+e)}function Bn(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,a=r.length;for(t=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function oW(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Xo(r.z,t?fs(e):e)}catch{}try{return r.w=Xo((r.XF||{}).numFmtId||(t?14:0),t?fs(e):e)}catch{return""+e}}function sf(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Jv[r.v]||r.v:e==null?oW(r,r.v):oW(r,e))}function vd(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function lse(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,a=r||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?as(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Bn(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=s+f,m=o+h;if(u.s.r>v&&(u.s.r=v),u.s.c>m&&(u.s.c=m),u.e.r<v&&(u.e.r=v),u.e.c<m&&(u.e.c=m),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Zt[14],n.cellDates?(p.t="d",p.w=Xo(p.z,fs(p.v))):(p.t="n",p.v=fs(p.v),p.w=Xo(p.z,p.v))):p.t="s";if(i)a[v]||(a[v]=[]),a[v][m]&&a[v][m].z&&(p.z=a[v][m].z),a[v][m]=p;else{var y=$t({c:m,r:v});a[y]&&a[y].z&&(p.z=a[y].z),a[y]=p}}}return u.s.c<1e7&&(a["!ref"]=Er(u)),a}function gy(r,e){return lse(null,r,e)}function Q5e(r){return r.read_shift(4,"i")}function Pa(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function J5e(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function G5(r,e){var t=r.l,n=r.read_shift(1),i=Pa(r),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)a.push(J5e(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}var eBe=G5;function Qo(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Zv(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var tBe=Pa;function j5(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var rBe=Pa,CN=j5;function W5(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?kE([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Op(e,0)>>2;return t?i/100:i}function use(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var Qv=use;function Da(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function nBe(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=cv[i];u&&(e.rgb=ow(u));break;case 2:e.rgb=ow([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function iBe(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function cse(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function aBe(r){return cse(r,1)}function sBe(r){return cse(r,2)}var $5=2,Ts=3,OT=11,lW=12,ME=19,NT=64,oBe=65,lBe=71,uBe=4108,cBe=4126,Ui=80,fse=81,fBe=[Ui,fse],hBe={1:{n:"CodePage",t:$5},2:{n:"Category",t:Ui},3:{n:"PresentationFormat",t:Ui},4:{n:"ByteCount",t:Ts},5:{n:"LineCount",t:Ts},6:{n:"ParagraphCount",t:Ts},7:{n:"SlideCount",t:Ts},8:{n:"NoteCount",t:Ts},9:{n:"HiddenCount",t:Ts},10:{n:"MultimediaClipCount",t:Ts},11:{n:"ScaleCrop",t:OT},12:{n:"HeadingPairs",t:uBe},13:{n:"TitlesOfParts",t:cBe},14:{n:"Manager",t:Ui},15:{n:"Company",t:Ui},16:{n:"LinksUpToDate",t:OT},17:{n:"CharacterCount",t:Ts},19:{n:"SharedDoc",t:OT},22:{n:"HyperlinksChanged",t:OT},23:{n:"AppVersion",t:Ts,p:"version"},24:{n:"DigSig",t:oBe},26:{n:"ContentType",t:Ui},27:{n:"ContentStatus",t:Ui},28:{n:"Language",t:Ui},29:{n:"Version",t:Ui},255:{},2147483648:{n:"Locale",t:ME},2147483651:{n:"Behavior",t:ME},1919054434:{}},dBe={1:{n:"CodePage",t:$5},2:{n:"Title",t:Ui},3:{n:"Subject",t:Ui},4:{n:"Author",t:Ui},5:{n:"Keywords",t:Ui},6:{n:"Comments",t:Ui},7:{n:"Template",t:Ui},8:{n:"LastAuthor",t:Ui},9:{n:"RevNumber",t:Ui},10:{n:"EditTime",t:NT},11:{n:"LastPrinted",t:NT},12:{n:"CreatedDate",t:NT},13:{n:"ModifiedDate",t:NT},14:{n:"PageCount",t:Ts},15:{n:"WordCount",t:Ts},16:{n:"CharCount",t:Ts},17:{n:"Thumbnail",t:lBe},18:{n:"Application",t:Ui},19:{n:"DocSecurity",t:Ts},255:{},2147483648:{n:"Locale",t:ME},2147483651:{n:"Behavior",t:ME},1919054434:{}},uW={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pBe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function vBe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var gBe=vBe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cv=ua(gBe),Jv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},cW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function mBe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yBe(r){var e=mBe();if(!r||!r.match)return e;var t={};if((r.match(Ha)||[]).forEach(function(n){var i=zt(n);switch(i[0].replace(E5e,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[cW[i.ContentType]]!==void 0&&e[cW[i.ContentType]].push(i.PartName);break}}),e.xmlns!==F5e.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var j0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function DN(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function hx(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(Ha)||[]).forEach(function(i){var a=zt(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:O_(a.Target,e);t[o]=s,n[a.Id]=s}}),t["!id"]=n,t}var _Be="application/vnd.oasis.opendocument.spreadsheet";function xBe(r,e){for(var t=V5(r),n,i;n=aw.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=zt(n[0],!1),i.path=="/"&&i.type!==_Be)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var dx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wBe=function(){for(var r=new Array(dx.length),e=0;e<dx.length;++e){var t=dx[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function dse(r){var e={};r=ln(r);for(var t=0;t<dx.length;++t){var n=dx[t],i=r.match(wBe[t]);i!=null&&i.length>0&&(e[n[1]]=Ir(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=ji(e[n[1]]))}return e}var bBe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function pse(r,e,t,n){var i=[];if(typeof r=="string")i=eW(r,n);else for(var a=0;a<r.length;++a)i=i.concat(r[a].map(function(c){return{v:c}}));var s=typeof e=="string"?eW(e,n).map(function(c){return c.v}):e,o=0,l=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=l,t.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=s.slice(o,o+l);break}o+=l}}function SBe(r,e,t){var n={};return e||(e={}),r=ln(r),bBe.forEach(function(i){var a=(r.match(iw(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Ir(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&pse(n.HeadingPairs,n.TitlesOfParts,e,t),e}var TBe=/<[^>]+>[^<]*/g;function ABe(r,e){var t={},n="",i=r.match(TBe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=zt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ir(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[n]=Ir(c);break;case"bool":t[n]=gn(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(c);break;case"filetime":case"date":t[n]=ji(c);break;case"cy":case"error":t[n]=Ir(c);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}var EBe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},IM;function CBe(r,e,t){IM||(IM=N5(EBe)),e=IM[e]||e,r[e]=t}function q5(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function vse(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function gse(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function mse(r,e,t){return e===31?gse(r):vse(r,e,t)}function IN(r,e,t){return mse(r,e,t===!1?0:4)}function DBe(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return mse(r,e,0)}function IBe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(os,""),r.l-i&2&&(r.l+=2)}return t}function RBe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(os,"");return t}function kBe(r){var e=r.l,t=PE(r,fse);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=PE(r,Ts);return[t,n]}function MBe(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(kBe(r));return t}function fW(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var a=r.read_shift(4),s=r.read_shift(4);n[a]=r.read_shift(s,e===1200?"utf16le":"utf8").replace(os,"").replace(L_,"!"),e===1200&&s%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function yse(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function PBe(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function PE(r,e,t){var n=r.read_shift(2),i,a=t||{};if(r.l+=2,e!==lW&&n!==e&&fBe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===lW?n:e){case 2:return i=r.read_shift(2,"i"),a.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return vse(r,n,4).replace(os,"");case 31:return gse(r);case 64:return q5(r);case 65:return yse(r);case 71:return PBe(r);case 80:return IN(r,n,!a.raw).replace(os,"");case 81:return DBe(r,n).replace(os,"");case 4108:return MBe(r);case 4126:case 4127:return n==4127?IBe(r):RBe(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function hW(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0,o=0,l=-1,u={};for(s=0;s!=i;++s){var c=r.read_shift(4),f=r.read_shift(4);a[s]=[c,f+t]}a.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=i;++s){if(r.l!==a[s][1]){var p=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:r.l+2===a[s][1]&&(r.l+=2,p=!1);break;case 80:r.l<=a[s][1]&&(r.l=a[s][1],p=!1);break;case 4108:r.l<=a[s][1]&&(r.l=a[s][1],p=!1);break}if((!e||s==0)&&r.l<=a[s][1]&&(p=!1,r.l=a[s][1]),p)throw new Error("Read Error: Expected address "+a[s][1]+" at "+r.l+" :"+s)}if(e){var v=e[a[s][0]];if(h[v.n]=PE(r,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Dl(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(a[s][0]===1){if(o=h.CodePage=PE(r,$5),Dl(o),l!==-1){var m=r.l;r.l=a[l][1],u=fW(r,o),r.l=m}}else if(a[s][0]===0){if(o===0){l=s,r.l=a[s+1][1];continue}u=fW(r,o)}else{var y=u[a[s][0]],x;switch(r[r.l]){case 65:r.l+=4,x=yse(r);break;case 30:r.l+=4,x=IN(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,x=IN(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,x=r.read_shift(4,"i");break;case 19:r.l+=4,x=r.read_shift(4);break;case 5:r.l+=4,x=r.read_shift(8,"f");break;case 11:r.l+=4,x=jn(r,4);break;case 64:r.l+=4,x=ji(q5(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[y]=x}}return r.l=t+n,h}function dW(r,e,t){var n=r.content;if(!n)return{};na(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),c=n.read_shift(16);if(c!==Ar.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=hW(n,e),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=a,i===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=hW(n,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[a,s],h}function Wf(r,e){return r.read_shift(e),null}function LBe(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function jn(r,e){return r.read_shift(e)===1}function ci(r){return r.read_shift(2,"u")}function _se(r,e){return LBe(r,e,ci)}function OBe(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function mb(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=r.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=n?r.read_shift(n,i):"";return s}function NBe(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,a=1+(t&1),s=0,o,l={};i&&(s=r.read_shift(2)),n&&(o=r.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",c=e===0?"":r.read_shift(e,u);return i&&(r.l+=4*s),n&&(r.l+=o),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function kv(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function yb(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):kv(r,n,t)}function eg(r,e,t){if(t.biff>5)return yb(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function FBe(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function BBe(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(os,"");return n&&(r.l+=24),i}function VBe(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var a=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=r.read_shift(a>>1,"utf16le").replace(os,"");return t+s}function zBe(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return BBe(r);case"0303000000000000c000000000000046":return VBe(r);default:throw new Error("Unsupported Moniker "+t)}}function FT(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(os,""):"";return t}function UBe(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var a,s,o,l,u="",c,f;i&16&&(a=FT(r,t-r.l)),i&128&&(s=FT(r,t-r.l)),(i&257)===257&&(o=FT(r,t-r.l)),(i&257)===1&&(l=zBe(r,t-r.l)),i&8&&(u=FT(r,t-r.l)),i&32&&(c=r.read_shift(16)),i&64&&(f=q5(r)),r.l=t;var h=s||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return c&&(p.guid=c),f&&(p.time=f),a&&(p.Tooltip=a),p}function xse(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function wse(r,e){var t=xse(r);return t[3]=0,t}function rc(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function HBe(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function GBe(r,e,t){return e===0?"":eg(r,e,t)}function jBe(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function bse(r){var e=r.read_shift(2),t=W5(r);return[e,t]}function WBe(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=mb(r,e,t),a=r.read_shift(2);if(n-=r.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return r.l+=a,i}function CD(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function Sse(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var $Be=Sse;function Tse(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function qBe(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function YBe(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function ya(r){r.l+=2,r.l+=r.read_shift(2)}var XBe={0:ya,4:ya,5:ya,6:ya,7:YBe,8:ya,9:ya,10:ya,11:ya,12:ya,13:qBe,14:ya,15:ya,16:ya,17:ya,18:ya,19:ya,20:ya,21:Tse};function KBe(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(XBe[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function BT(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function ZBe(r,e){return e===0||r.read_shift(2),1200}function QBe(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=eg(r,0,t);return r.read_shift(e+n-r.l),i}function JBe(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function eVe(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,a=r.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=mb(r,0,t);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function tVe(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0;s!=i&&r.l<t;++s)a.push(NBe(r));return a.Count=n,a.Unique=i,a}function rVe(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function nVe(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function iVe(r){var e=HBe(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function aVe(r){return r.read_shift(2),r.read_shift(4)}function pW(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function sVe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),u=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:u}}function oVe(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function lVe(){}function uVe(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=mb(r,0,t),n}function cVe(r){var e=rc(r);return e.isst=r.read_shift(4),e}function fVe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=rc(r);t.biff==2&&r.l++;var a=yb(r,n-r.l,t);return i.val=a,i}function hVe(r,e,t){var n=r.read_shift(2),i=eg(r,0,t);return[n,i]}var dVe=eg;function vW(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,a=r.read_shift(i),s=r.read_shift(i),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function pVe(r){var e=r.read_shift(2),t=r.read_shift(2),n=bse(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function vVe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(bse(r));if(r.l!==t)throw new Error("MulRK read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function gVe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function mVe(r,e,t,n){var i={},a=r.read_shift(4),s=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return i.patternType=pBe[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function yVe(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=mVe(r,e,n.fStyle,t),n}function _Ve(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function gW(r,e,t){var n=rc(r);(t.biff==2||e==9)&&++r.l;var i=OBe(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function xVe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=rc(r),i=Da(r);return n.val=i,n}var mW=GBe;function wVe(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=kv(r,a),o=[];n>r.l;)o.push(yb(r));return[a,i,s,o]}function yW(r,e,t){var n=r.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=WBe(r,e-2,t)),a.body=i||r.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var bVe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _W(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(1),s=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var u=kv(r,s,t);i&32&&(u=bVe[u.charCodeAt(0)]);var c=n-r.l;t&&t.biff==2&&--c;var f=n==r.l||o===0||!(c>0)?[]:nUe(r,c,t,o);return{chKey:a,Name:u,itab:l,rgce:f}}function Ase(r,e,t){if(t.biff<8)return SVe(r,e,t);for(var n=[],i=r.l+e,a=r.read_shift(t.biff>8?4:2);a--!==0;)n.push(jBe(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function SVe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=mb(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function TVe(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),a=kv(r,n,t),s=kv(r,i,t);return[a,s]}function AVe(r,e,t){var n=Sse(r);r.l++;var i=r.read_shift(1);return e-=8,[iUe(r,e,t),i,n]}function xW(r,e,t){var n=$Be(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,tUe(r,e,t)]}function EVe(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function CVe(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=eg(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,s,a]}}function DVe(r,e,t){return CVe(r,e,t)}function IVe(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(CD(r));return t}function RVe(r,e,t){if(t&&t.biff<8)return MVe(r,e,t);var n=Tse(r),i=KBe(r,e-22,n[1]);return{cmo:n,ft:i}}var kVe={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function MVe(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var s=[];return s.push((kVe[n]||Fa)(r,e,t)),{cmo:[i,n,a],ft:s}}function PVe(r,e,t){var n=r.l,i="";try{r.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?r.l+=6:s=FBe(r,6,t);var o=r.read_shift(2);r.read_shift(2),ci(r,2);var l=r.read_shift(2);r.l+=l;for(var u=1;u<r.lens.length-1;++u){if(r.l-n!=r.lens[u])throw new Error("TxO: bad continue record");var c=r[r.l],f=kv(r,r.lens[u+1]-r.lens[u]-1);if(i+=f,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function LVe(r,e){var t=CD(r);r.l+=16;var n=UBe(r,e-24);return[t,n]}function OVe(r,e){r.read_shift(2);var t=CD(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(os,""),[t,n]}function NVe(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=uW[t]||t,t=r.read_shift(2),e[1]=uW[t]||t,e}function FVe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(wse(r));return t}function BVe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(wse(r));return t}function VVe(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function Ese(r,e,t){if(!t.cellStyles)return Fa(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function zVe(r,e){var t={};return e<32||(r.l+=16,t.header=Da(r),t.footer=Da(r),r.l+=2),t}function UVe(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var HVe=rc,GVe=_se,jVe=yb;function WVe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function $Ve(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=rc(r);++r.l;var i=eg(r,e-7,t);return n.t="str",n.val=i,n}function qVe(r){var e=rc(r);++r.l;var t=Da(r);return e.t="n",e.val=t,e}function YVe(r){var e=rc(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function XVe(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function KVe(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function ZVe(r,e,t){var n=r.l+e,i=rc(r),a=r.read_shift(2),s=kv(r,a,t);return r.l=n,i.t="str",i.val=s,i}var QVe=[2,3,48,49,131,139,140,245],wW=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=N5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var u=[],c=ed(1);switch(l.type){case"base64":c=Tl(io(o));break;case"binary":c=Tl(o);break;case"buffer":case"array":c=o;break}na(c,0);var f=c.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,y=521;f==2&&(m=c.read_shift(2)),c.l+=3,f!=2&&(m=c.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(y=c.read_shift(2));var x=c.read_shift(2),w=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(w=r[c[c.l]]),c.l+=1,c.l+=2),v&&(c.l+=36);for(var b=[],T={},C=Math.min(c.length,f==2?521:y-10-(p?264:0)),D=v?32:11;c.l<C&&c[c.l]!=13;)switch(T={},T.name=rw.utils.decode(w,c.slice(c.l,c.l+D)).replace(/[\u0000\r\n].*$/g,""),c.l+=D,T.type=String.fromCharCode(c.read_shift(1)),f!=2&&!v&&(T.offset=c.read_shift(4)),T.len=c.read_shift(1),f==2&&(T.offset=c.read_shift(2)),T.dec=c.read_shift(1),T.name.length&&b.push(T),f!=2&&(c.l+=v?13:14),T.type){case"B":(!p||T.len!=8)&&l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(c[c.l]!==13&&(c.l=y-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=y;var A=0,k=0;for(u[0]=[],k=0;k!=b.length;++k)u[0][k]=b[k].name;for(;m-- >0;){if(c[c.l]===42){c.l+=x;continue}for(++c.l,u[++A]=[],k=0,k=0;k!=b.length;++k){var I=c.slice(c.l,c.l+b[k].len);c.l+=b[k].len,na(I,0);var M=rw.utils.decode(w,I);switch(b[k].type){case"C":M.trim().length&&(u[A][k]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[A][k]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[A][k]=M;break;case"F":u[A][k]=parseFloat(M.trim());break;case"+":case"I":u[A][k]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[A][k]=!0;break;case"N":case"F":u[A][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[A][k]="##MEMO##"+(v?parseInt(M.trim(),10):I.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[A][k]=+M||0);break;case"@":u[A][k]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[A][k]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[A][k]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][k]=-I.read_shift(-8,"f");break;case"B":if(p&&b[k].len==8){u[A][k]=I.read_shift(8,"f");break}case"G":case"P":I.l+=b[k].len;break;case"0":if(b[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[k].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=gy(t(o,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(o,l){try{return vd(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&Dl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=EN(),f=ON(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],m=0,y=0,x=0,w=1;for(m=0;m<h.length;++m){if(((v[m]||{}).DBF||{}).name){h[m]=v[m].DBF.name,++x;continue}if(h[m]!=null){if(++x,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(y=0;y<1024;++y)if(h.indexOf(h[m]+"_"+y)==-1){h[m]+="_"+y;break}}}}var b=Bn(o["!ref"]),T=[],C=[],D=[];for(m=0;m<=b.e.c-b.s.c;++m){var A="",k="",I=0,M=[];for(y=0;y<p.length;++y)p[y][m]!=null&&M.push(p[y][m]);if(M.length==0||h[m]==null){T[m]="?";continue}for(y=0;y<M.length;++y){switch(typeof M[y]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=M[y]instanceof Date?"D":"C";break;default:k="C"}I=Math.max(I,String(M[y]).length),A=A&&A!=k?"C":k}I>250&&(I=250),k=((v[m]||{}).DBF||{}).type,k=="C"&&v[m].DBF.len>I&&(I=v[m].DBF.len),A=="B"&&k=="N"&&(A="N",D[m]=v[m].DBF.dec,I=v[m].DBF.len),C[m]=A=="C"||k=="N"?I:a[A]||0,w+=C[m],T[m]=A}var P=c.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*x),P.write_shift(2,w),m=0;m<4;++m)P.write_shift(4,0);for(P.write_shift(4,0|(+e[Aae]||3)<<8),m=0,y=0;m<h.length;++m)if(h[m]!=null){var O=c.next(32),N=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,N,"sbcs"),O.write_shift(1,T[m]=="?"?"C":T[m],"sbcs"),O.write_shift(4,y),O.write_shift(1,C[m]||a[T[m]]||0),O.write_shift(1,D[m]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),y+=C[m]||a[T[m]]||0}var G=c.next(264);for(G.write_shift(4,13),m=0;m<65;++m)G.write_shift(4,0);for(m=0;m<p.length;++m){var j=c.next(w);for(j.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(T[y]){case"L":j.write_shift(1,p[m][y]==null?63:p[m][y]?84:70);break;case"B":j.write_shift(8,p[m][y]||0,"f");break;case"N":var U="0";for(typeof p[m][y]=="number"&&(U=p[m][y].toFixed(D[y]||0)),x=0;x<C[y]-U.length;++x)j.write_shift(1,32);j.write_shift(1,U,"sbcs");break;case"D":p[m][y]?(j.write_shift(4,("0000"+p[m][y].getFullYear()).slice(-4),"sbcs"),j.write_shift(2,("00"+(p[m][y].getMonth()+1)).slice(-2),"sbcs"),j.write_shift(2,("00"+p[m][y].getDate()).slice(-2),"sbcs")):j.write_shift(8,"00000000","sbcs");break;case"C":var X=String(p[m][y]!=null?p[m][y]:"").slice(0,C[y]);for(j.write_shift(1,X,"sbcs"),x=0;x<C[y]-X.length;++x)j.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),JVe=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ku(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,p){var v=r[p];return typeof v=="number"?Fj(v):v},n=function(h,p,v){var m=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return m==59?h:Fj(m)};r["|"]=254;function i(h,p){switch(p.type){case"base64":return a(io(h),p);case"binary":return a(h,p);case"buffer":return a(mr&&Buffer.isBuffer(h)?h.toString("binary"):Kv(h),p);case"array":return a(Rv(h),p)}throw new Error("Unrecognized type "+p.type)}function a(h,p){var v=h.split(/[\n\r]+/),m=-1,y=-1,x=0,w=0,b=[],T=[],C=null,D={},A=[],k=[],I=[],M=0,P;for(+p.codepage>=0&&Dl(+p.codepage);x!==v.length;++x){M=0;var O=v[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),N=O.replace(/;;/g,"\0").split(";").map(function(se){return se.replace(/\u0000/g,";")}),G=N[0],j;if(O.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&T.push(O.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,X=!1,ie=!1,Z=!1,W=-1,Q=-1;for(w=1;w<N.length;++w)switch(N[w].charAt(0)){case"A":break;case"X":y=parseInt(N[w].slice(1))-1,X=!0;break;case"Y":for(m=parseInt(N[w].slice(1))-1,X||(y=0),P=b.length;P<=m;++P)b[P]=[];break;case"K":j=N[w].slice(1),j.charAt(0)==='"'?j=j.slice(1,j.length-1):j==="TRUE"?j=!0:j==="FALSE"?j=!1:isNaN(Ll(j))?isNaN(Vm(j).getDate())||(j=ji(j)):(j=Ll(j),C!==null&&py(C)&&(j=ED(j))),U=!0;break;case"E":Z=!0;var H=cm(N[w].slice(1),{r:m,c:y});b[m][y]=[b[m][y],H];break;case"S":ie=!0,b[m][y]=[b[m][y],"S5S"];break;case"G":break;case"R":W=parseInt(N[w].slice(1))-1;break;case"C":Q=parseInt(N[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}if(U&&(b[m][y]&&b[m][y].length==2?b[m][y][0]=j:b[m][y]=j,C=null),ie){if(Z)throw new Error("SYLK shared formula cannot have own formula");var ee=W>-1&&b[W][Q];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");b[m][y][1]=Nse(ee[1],{r:m-W,c:y-Q})}break;case"F":var J=0;for(w=1;w<N.length;++w)switch(N[w].charAt(0)){case"X":y=parseInt(N[w].slice(1))-1,++J;break;case"Y":for(m=parseInt(N[w].slice(1))-1,P=b.length;P<=m;++P)b[P]=[];break;case"M":M=parseInt(N[w].slice(1))/20;break;case"F":break;case"G":break;case"P":C=T[parseInt(N[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=N[w].slice(1).split(" "),P=parseInt(I[0],10);P<=parseInt(I[1],10);++P)M=parseInt(I[2],10),k[P-1]=M===0?{hidden:!0}:{wch:M},zm(k[P-1]);break;case"C":y=parseInt(N[w].slice(1))-1,k[y]||(k[y]={});break;case"R":m=parseInt(N[w].slice(1))-1,A[m]||(A[m]={}),M>0?(A[m].hpt=M,A[m].hpx=lw(M)):M===0&&(A[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}J<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+O)}}return A.length>0&&(D["!rows"]=A),k.length>0&&(D["!cols"]=k),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,D]}function s(h,p){var v=i(h,p),m=v[0],y=v[1],x=gy(m,p);return Ku(y).forEach(function(w){x[w]=y[w]}),x}function o(h,p){return vd(s(h,p),p)}function l(h,p,v,m){var y="C;Y"+(v+1)+";X"+(m+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Vze(h.f,{r:v,c:m}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,p){p.forEach(function(v,m){var y="F;W"+(m+1)+" "+(m+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=OE(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=NE(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function c(h,p){p.forEach(function(v,m){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*Pse(v.hpx)+";"),y.length>2&&h.push(y+"R"+(m+1))})}function f(h,p){var v=["ID;PWXL;N;E"],m=[],y=Bn(h["!ref"]),x,w=Array.isArray(h),b=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&c(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var T=y.s.r;T<=y.e.r;++T)for(var C=y.s.c;C<=y.e.c;++C){var D=$t({r:T,c:C});x=w?(h[T]||[])[C]:h[D],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,h,T,C))}return v.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),e6e=function(){function r(a,s){switch(s.type){case"base64":return e(io(a),s);case"binary":return e(a,s);case"buffer":return e(mr&&Buffer.isBuffer(a)?a.toString("binary"):Kv(a),s);case"array":return e(Rv(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,f=[];c!==o.length;++c){if(o[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[c].trim().split(","),p=h[0],v=h[1];++c;for(var m=o[c]||"";(m.match(/["]/g)||[]).length&1&&c<o.length-1;)m+=`
`+o[++c];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][u]=!0:m==="FALSE"?f[l][u]=!1:isNaN(Ll(v))?isNaN(Vm(v).getDate())?f[l][u]=v:f[l][u]=ji(v):f[l][u]=Ll(v),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function t(a,s){return gy(r(a,s),s)}function n(a,s){return vd(t(a,s),s)}var i=function(){var a=function(l,u,c,f,h){l.push(u),l.push(c+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=Bn(l["!ref"]),f,h=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var p=c.s.r;p<=c.e.r;++p){s(u,-1,0,"BOT");for(var v=c.s.c;v<=c.e.c;++v){var m=$t({r:p,c:v});if(f=h?(l[p]||[])[v]:l[m],!f){s(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,y,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Xo(f.z||Zt[14],fs(ji(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var x=`\r
`,w=u.join(x);return w}}();return{to_workbook:n,to_sheet:t,from_sheet:i}}(),t6e=function(){function r(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,h){for(var p=f.split(`
`),v=-1,m=-1,y=0,x=[];y!==p.length;++y){var w=p[y].trim().split(":");if(w[0]==="cell"){var b=as(w[1]);if(x.length<=b.r)for(v=x.length;v<=b.r;++v)x[v]||(x[v]=[]);switch(v=b.r,m=b.c,w[2]){case"t":x[v][m]=r(w[3]);break;case"v":x[v][m]=+w[3];break;case"vtf":var T=w[w.length-1];case"vtc":switch(w[3]){case"nl":x[v][m]=!!+w[4];break;default:x[v][m]=+w[4];break}w[2]=="vtf"&&(x[v][m]=[x[v][m],T])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return gy(t(f,h),h)}function i(f,h){return vd(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,m="",y=vy(f["!ref"]),x=Array.isArray(f),w=y.s.r;w<=y.e.r;++w)for(var b=y.s.c;b<=y.e.c;++b)if(m=$t({r:w,c:b}),v=x?(f[w]||[])[b]:f[m],!(!v||v.v==null||v.t==="z")){switch(p=["cell",m,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var T=fs(ji(v.v));p[2]="vtc",p[3]="nd",p[4]=""+T,p[5]=v.w||Xo(v.z||Zt[14],T);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(f){return[a,s,o,s,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),sw=function(){function r(c,f,h,p,v){v.raw?f[h][p]=c:c===""||(c==="TRUE"?f[h][p]=!0:c==="FALSE"?f[h][p]=!1:isNaN(Ll(c))?isNaN(Vm(c).getDate())?f[h][p]=c:f[h][p]=ji(c):f[h][p]=Ll(c))}function e(c,f){var h=f||{},p=[];if(!c||c.length===0)return p;for(var v=c.split(/[\r\n]/),m=v.length-1;m>=0&&v[m].length===0;)--m;for(var y=10,x=0,w=0;w<=m;++w)x=v[w].indexOf(" "),x==-1?x=v[w].length:x++,y=Math.max(y,x);for(w=0;w<=m;++w){p[w]=[];var b=0;for(r(v[w].slice(0,y).trim(),p,w,b,h),b=1;b<=(v[w].length-y)/10+1;++b)r(v[w].slice(y+(b-1)*10,y+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var f={},h=!1,p=0,v=0;p<c.length;++p)(v=c.charCodeAt(p))==34?h=!h:!h&&v in t&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(m,y){return m[0]-y[0]||n[m[1]]-n[y[1]]}),t[v.pop()[1]]||44}function a(c,f){var h=f||{},p="",v=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(p=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(p=c.charAt(4),c=c.slice(6)):p=i(c.slice(0,1024)):h&&h.FS?p=h.FS:p=i(c.slice(0,1024));var y=0,x=0,w=0,b=0,T=0,C=p.charCodeAt(0),D=!1,A=0,k=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?h5e(h.dateNF):null;function M(){var P=c.slice(b,T),O={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)O.t="z";else if(h.raw)O.t="s",O.v=P;else if(P.trim().length===0)O.t="s",O.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(O.t="s",O.v=P.slice(2,-1).replace(/""/g,'"')):Uze(P)?(O.t="n",O.f=P.slice(1)):(O.t="s",O.v=P);else if(P=="TRUE")O.t="b",O.v=!0;else if(P=="FALSE")O.t="b",O.v=!1;else if(!isNaN(w=Ll(P)))O.t="n",h.cellText!==!1&&(O.w=P),O.v=w;else if(!isNaN(Vm(P).getDate())||I&&P.match(I)){O.z=h.dateNF||Zt[14];var N=0;I&&P.match(I)&&(P=d5e(P,h.dateNF,P.match(I)||[]),N=1),h.cellDates?(O.t="d",O.v=ji(P,N)):(O.t="n",O.v=fs(ji(P,N))),h.cellText!==!1&&(O.w=Xo(O.z,O.v instanceof Date?fs(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=P;if(O.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][x]=O):v[$t({c:x,r:y})]=O),b=T+1,k=c.charCodeAt(b),m.e.c<x&&(m.e.c=x),m.e.r<y&&(m.e.r=y),A==C)++x;else if(x=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;T<c.length;++T)switch(A=c.charCodeAt(T)){case 34:k===34&&(D=!D);break;case C:case 10:case 13:if(!D&&M())break e;break}return T-b>0&&M(),v["!ref"]=Er(m),v}function s(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,f):gy(e(c,f),f)}function o(c,f){var h="",p=f.type=="string"?[0,0,0,0]:tB(c,f);switch(f.type){case"base64":h=io(c);break;case"binary":h=c;break;case"buffer":f.codepage==65001?h=c.toString("utf8"):f.codepage&&typeof rw<"u"||(h=mr&&Buffer.isBuffer(c)?c.toString("binary"):Kv(c));break;case"array":h=Rv(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=ln(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=ln(h):f.type=="binary"&&typeof rw<"u",h.slice(0,19)=="socialcalc:version:"?t6e.to_sheet(f.type=="string"?h:ln(h),f):s(h,f)}function l(c,f){return vd(o(c,f),f)}function u(c){for(var f=[],h=Bn(c["!ref"]),p,v=Array.isArray(c),m=h.s.r;m<=h.e.r;++m){for(var y=[],x=h.s.c;x<=h.e.c;++x){var w=$t({r:m,c:x});if(p=v?(c[m]||[])[x]:c[w],!p||p.v==null){y.push("          ");continue}for(var b=(p.w||(sf(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";y.push(b+(x===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function r6e(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=JVe.to_workbook(r,t);return t.WTF=n,i}catch(a){if(t.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return sw.to_workbook(r,e)}}var px=function(){function r(H,ee,J){if(H){na(H,H.l||0);for(var se=J.Enum||W;H.l<H.length;){var de=H.read_shift(2),Me=se[de]||se[65535],Se=H.read_shift(2),xe=H.l+Se,Te=Me.f&&Me.f(H,Se,J);if(H.l=xe,ee(Te,Me,de))return}}}function e(H,ee){switch(ee.type){case"base64":return t(Tl(io(H)),ee);case"binary":return t(Tl(H),ee);case"buffer":case"array":return t(H,ee)}throw"Unsupported type "+ee.type}function t(H,ee){if(!H)return H;var J=ee||{},se=J.dense?[]:{},de="Sheet1",Me="",Se=0,xe={},Te=[],Oe=[],ne={s:{r:0,c:0},e:{r:0,c:0}},pt=J.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)J.Enum=W,r(H,function(He,xt,gr){switch(gr){case 0:J.vers=He,He>=4096&&(J.qpro=!0);break;case 6:ne=He;break;case 204:He&&(Me=He);break;case 222:Me=He;break;case 15:case 51:J.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:gr==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=J.dateNF||Zt[14],J.cellDates&&(He[1].t="d",He[1].v=ED(He[1].v))),J.qpro&&He[3]>Se&&(se["!ref"]=Er(ne),xe[de]=se,Te.push(de),se=J.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Se=He[3],de=Me||"Sheet"+(Se+1),Me="");var Jr=J.dense?(se[He[0].r]||[])[He[0].c]:se[$t(He[0])];if(Jr){Jr.t=He[1].t,Jr.v=He[1].v,He[1].z!=null&&(Jr.z=He[1].z),He[1].f!=null&&(Jr.f=He[1].f);break}J.dense?(se[He[0].r]||(se[He[0].r]=[]),se[He[0].r][He[0].c]=He[1]):se[$t(He[0])]=He[1];break}},J);else if(H[2]==26||H[2]==14)J.Enum=Q,H[2]==14&&(J.qpro=!0,H.l=0),r(H,function(He,xt,gr){switch(gr){case 204:de=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Se&&(se["!ref"]=Er(ne),xe[de]=se,Te.push(de),se=J.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Se=He[3],de="Sheet"+(Se+1)),pt>0&&He[0].r>=pt)break;J.dense?(se[He[0].r]||(se[He[0].r]=[]),se[He[0].r][He[0].c]=He[1]):se[$t(He[0])]=He[1],ne.e.c<He[0].c&&(ne.e.c=He[0].c),ne.e.r<He[0].r&&(ne.e.r=He[0].r);break;case 27:He[14e3]&&(Oe[He[14e3][0]]=He[14e3][1]);break;case 1537:Oe[He[0]]=He[1],He[0]==Se&&(de=He[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(se["!ref"]=Er(ne),xe[Me||de]=se,Te.push(Me||de),!Oe.length)return{SheetNames:Te,Sheets:xe};for(var tt={},ct=[],it=0;it<Oe.length;++it)xe[Te[it]]?(ct.push(Oe[it]||Te[it]),tt[Oe[it]]=xe[Oe[it]]||xe[Te[it]]):(ct.push(Oe[it]),tt[Oe[it]]={"!ref":"A1"});return{SheetNames:ct,Sheets:tt}}function n(H,ee){var J=ee||{};if(+J.codepage>=0&&Dl(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var se=EN(),de=Bn(H["!ref"]),Me=Array.isArray(H),Se=[];pl(se,0,a(1030)),pl(se,6,l(de));for(var xe=Math.min(de.e.r,8191),Te=de.s.r;Te<=xe;++Te)for(var Oe=ca(Te),ne=de.s.c;ne<=de.e.c;++ne){Te===de.s.r&&(Se[ne]=Ei(ne));var pt=Se[ne]+Oe,tt=Me?(H[Te]||[])[ne]:H[pt];if(!(!tt||tt.t=="z"))if(tt.t=="n")(tt.v|0)==tt.v&&tt.v>=-32768&&tt.v<=32767?pl(se,13,p(Te,ne,tt.v)):pl(se,14,m(Te,ne,tt.v));else{var ct=sf(tt);pl(se,15,f(Te,ne,ct.slice(0,239)))}}return pl(se,1),se.end()}function i(H,ee){var J=ee||{};if(+J.codepage>=0&&Dl(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var se=EN();pl(se,0,s(H));for(var de=0,Me=0;de<H.SheetNames.length;++de)(H.Sheets[H.SheetNames[de]]||{})["!ref"]&&pl(se,27,Z(H.SheetNames[de],Me++));var Se=0;for(de=0;de<H.SheetNames.length;++de){var xe=H.Sheets[H.SheetNames[de]];if(!(!xe||!xe["!ref"])){for(var Te=Bn(xe["!ref"]),Oe=Array.isArray(xe),ne=[],pt=Math.min(Te.e.r,8191),tt=Te.s.r;tt<=pt;++tt)for(var ct=ca(tt),it=Te.s.c;it<=Te.e.c;++it){tt===Te.s.r&&(ne[it]=Ei(it));var He=ne[it]+ct,xt=Oe?(xe[tt]||[])[it]:xe[He];if(!(!xt||xt.t=="z"))if(xt.t=="n")pl(se,23,M(tt,it,Se,xt.v));else{var gr=sf(xt);pl(se,22,A(tt,it,Se,gr.slice(0,239)))}}++Se}}return pl(se,1),se.end()}function a(H){var ee=Ti(2);return ee.write_shift(2,H),ee}function s(H){var ee=Ti(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var J=0,se=0,de=0,Me=0;Me<H.SheetNames.length;++Me){var Se=H.SheetNames[Me],xe=H.Sheets[Se];if(!(!xe||!xe["!ref"])){++de;var Te=vy(xe["!ref"]);J<Te.e.r&&(J=Te.e.r),se<Te.e.c&&(se=Te.e.c)}}return J>8191&&(J=8191),ee.write_shift(2,J),ee.write_shift(1,de),ee.write_shift(1,se),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function o(H,ee,J){var se={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&J.qpro?(se.s.c=H.read_shift(1),H.l++,se.s.r=H.read_shift(2),se.e.c=H.read_shift(1),H.l++,se.e.r=H.read_shift(2),se):(se.s.c=H.read_shift(2),se.s.r=H.read_shift(2),ee==12&&J.qpro&&(H.l+=2),se.e.c=H.read_shift(2),se.e.r=H.read_shift(2),ee==12&&J.qpro&&(H.l+=2),se.s.c==65535&&(se.s.c=se.e.c=se.s.r=se.e.r=0),se)}function l(H){var ee=Ti(8);return ee.write_shift(2,H.s.c),ee.write_shift(2,H.s.r),ee.write_shift(2,H.e.c),ee.write_shift(2,H.e.r),ee}function u(H,ee,J){var se=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(se[0].c=H.read_shift(1),se[3]=H.read_shift(1),se[0].r=H.read_shift(2),H.l+=2):(se[2]=H.read_shift(1),se[0].c=H.read_shift(2),se[0].r=H.read_shift(2)),se}function c(H,ee,J){var se=H.l+ee,de=u(H,ee,J);if(de[1].t="s",J.vers==20768){H.l++;var Me=H.read_shift(1);return de[1].v=H.read_shift(Me,"utf8"),de}return J.qpro&&H.l++,de[1].v=H.read_shift(se-H.l,"cstr"),de}function f(H,ee,J){var se=Ti(7+J.length);se.write_shift(1,255),se.write_shift(2,ee),se.write_shift(2,H),se.write_shift(1,39);for(var de=0;de<se.length;++de){var Me=J.charCodeAt(de);se.write_shift(1,Me>=128?95:Me)}return se.write_shift(1,0),se}function h(H,ee,J){var se=u(H,ee,J);return se[1].v=H.read_shift(2,"i"),se}function p(H,ee,J){var se=Ti(7);return se.write_shift(1,255),se.write_shift(2,ee),se.write_shift(2,H),se.write_shift(2,J,"i"),se}function v(H,ee,J){var se=u(H,ee,J);return se[1].v=H.read_shift(8,"f"),se}function m(H,ee,J){var se=Ti(13);return se.write_shift(1,255),se.write_shift(2,ee),se.write_shift(2,H),se.write_shift(8,J,"f"),se}function y(H,ee,J){var se=H.l+ee,de=u(H,ee,J);if(de[1].v=H.read_shift(8,"f"),J.qpro)H.l=se;else{var Me=H.read_shift(2);T(H.slice(H.l,H.l+Me),de),H.l+=Me}return de}function x(H,ee,J){var se=ee&32768;return ee&=-32769,ee=(se?H:0)+(ee>=8192?ee-16384:ee),(se?"":"$")+(J?Ei(ee):ca(ee))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(H,ee){na(H,0);for(var J=[],se=0,de="",Me="",Se="",xe="";H.l<H.length;){var Te=H[H.l++];switch(Te){case 0:J.push(H.read_shift(8,"f"));break;case 1:Me=x(ee[0].c,H.read_shift(2),!0),de=x(ee[0].r,H.read_shift(2),!1),J.push(Me+de);break;case 2:{var Oe=x(ee[0].c,H.read_shift(2),!0),ne=x(ee[0].r,H.read_shift(2),!1);Me=x(ee[0].c,H.read_shift(2),!0),de=x(ee[0].r,H.read_shift(2),!1),J.push(Oe+ne+":"+Me+de)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(H.read_shift(2));break;case 6:{for(var pt="";Te=H[H.l++];)pt+=String.fromCharCode(Te);J.push('"'+pt.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:xe=J.pop(),Se=J.pop(),J.push(["AND","OR"][Te-20]+"("+Se+","+xe+")");break;default:if(Te<32&&b[Te])xe=J.pop(),Se=J.pop(),J.push(Se+b[Te]+xe);else if(w[Te]){if(se=w[Te][1],se==69&&(se=H[H.l++]),se>J.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+J.join("|")+"|");return}var tt=J.slice(-se);J.length-=se,J.push(w[Te][0]+"("+tt.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}J.length==1?ee[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function C(H){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=H.read_shift(2),ee[3]=H[H.l++],ee[0].c=H[H.l++],ee}function D(H,ee){var J=C(H);return J[1].t="s",J[1].v=H.read_shift(ee-4,"cstr"),J}function A(H,ee,J,se){var de=Ti(6+se.length);de.write_shift(2,H),de.write_shift(1,J),de.write_shift(1,ee),de.write_shift(1,39);for(var Me=0;Me<se.length;++Me){var Se=se.charCodeAt(Me);de.write_shift(1,Se>=128?95:Se)}return de.write_shift(1,0),de}function k(H,ee){var J=C(H);J[1].v=H.read_shift(2);var se=J[1].v>>1;if(J[1].v&1)switch(se&7){case 0:se=(se>>3)*5e3;break;case 1:se=(se>>3)*500;break;case 2:se=(se>>3)/20;break;case 3:se=(se>>3)/200;break;case 4:se=(se>>3)/2e3;break;case 5:se=(se>>3)/2e4;break;case 6:se=(se>>3)/16;break;case 7:se=(se>>3)/64;break}return J[1].v=se,J}function I(H,ee){var J=C(H),se=H.read_shift(4),de=H.read_shift(4),Me=H.read_shift(2);if(Me==65535)return se===0&&de===3221225472?(J[1].t="e",J[1].v=15):se===0&&de===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var Se=Me&32768;return Me=(Me&32767)-16446,J[1].v=(1-Se*2)*(de*Math.pow(2,Me+32)+se*Math.pow(2,Me)),J}function M(H,ee,J,se){var de=Ti(14);if(de.write_shift(2,H),de.write_shift(1,J),de.write_shift(1,ee),se==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Me=0,Se=0,xe=0,Te=0;return se<0&&(Me=1,se=-se),Se=Math.log2(se)|0,se/=Math.pow(2,Se-31),Te=se>>>0,(Te&2147483648)==0&&(se/=2,++Se,Te=se>>>0),se-=Te,Te|=2147483648,Te>>>=0,se*=Math.pow(2,32),xe=se>>>0,de.write_shift(4,xe),de.write_shift(4,Te),Se+=16383+(Me?32768:0),de.write_shift(2,Se),de}function P(H,ee){var J=I(H);return H.l+=ee-14,J}function O(H,ee){var J=C(H),se=H.read_shift(4);return J[1].v=se>>6,J}function N(H,ee){var J=C(H),se=H.read_shift(8,"f");return J[1].v=se,J}function G(H,ee){var J=N(H);return H.l+=ee-10,J}function j(H,ee){return H[H.l+ee-1]==0?H.read_shift(ee,"cstr"):""}function U(H,ee){var J=H[H.l++];J>ee-1&&(J=ee-1);for(var se="";se.length<J;)se+=String.fromCharCode(H[H.l++]);return se}function X(H,ee,J){if(!(!J.qpro||ee<21)){var se=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var de=H.read_shift(ee-21,"cstr");return[se,de]}}function ie(H,ee){for(var J={},se=H.l+ee;H.l<se;){var de=H.read_shift(2);if(de==14e3){for(J[de]=[0,""],J[de][0]=H.read_shift(2);H[H.l];)J[de][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return J}function Z(H,ee){var J=Ti(5+H.length);J.write_shift(2,14e3),J.write_shift(2,ee);for(var se=0;se<H.length;++se){var de=H.charCodeAt(se);J[J.l++]=de>127?95:de}return J[J.l++]=0,J}var W={0:{n:"BOF",f:ci},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:j},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:j},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function n6e(r){var e={},t=r.match(Ha),n=0,i=!1;if(t)for(;n!=t.length;++n){var a=zt(t[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=k5[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var i6e=function(){var r=iw("t"),e=iw("rPr");function t(a){var s=a.match(r);if(!s)return{t:"s",v:""};var o={t:"s",v:Ir(s[1])},l=a.match(e);return l&&(o.s=n6e(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(t).filter(function(o){return o.v})}}(),a6e=function(){var e=/(\r\n|\n)/g;function t(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&t(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),s6e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,o6e=/<(?:\w+:)?r>/,l6e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Y5(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ir(ln(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ln(r),t&&(n.h=B5(n.t))):r.match(o6e)&&(n.r=ln(r),n.t=Ir(ln((r.replace(l6e,"").match(s6e)||[]).join("").replace(Ha,""))),t&&(n.h=a6e(i6e(n.r)))),n):{t:""}}var u6e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,c6e=/<(?:\w+:)?(?:si|sstItem)>/g,f6e=/<\/(?:\w+:)?(?:si|sstItem)>/;function h6e(r,e){var t=[],n="";if(!r)return t;var i=r.match(u6e);if(i){n=i[2].replace(c6e,"").split(f6e);for(var a=0;a!=n.length;++a){var s=Y5(n[a].trim(),e);s!=null&&(t[t.length]=s)}i=zt(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function d6e(r){return[r.read_shift(4),r.read_shift(4)]}function p6e(r,e){var t=[],n=!1;return vf(r,function(a,s,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function Cse(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function Kc(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function v6e(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=Kc(r,4),e.U=Kc(r,4),e.W=Kc(r,4),e}function g6e(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),a=[];i-- >0;)a.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=a,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function m6e(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(g6e(r));return e}function y6e(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function _6e(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=Kc(r,4),e.U=Kc(r,4),e.W=Kc(r,4),e}function x6e(r){var e=_6e(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Dse(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function Ise(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function w6e(r){var e=Kc(r);switch(e.Minor){case 2:return[e.Minor,b6e(r)];case 3:return[e.Minor,S6e()];case 4:return[e.Minor,T6e(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function b6e(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=Dse(r,t),i=Ise(r,r.length-r.l);return{t:"Std",h:n,v:i}}function S6e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function T6e(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(Ha,function(a){var s=zt(a);switch(tc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function A6e(r,e){var t={},n=t.EncryptionVersionInfo=Kc(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=Dse(r,i),e-=i,t.EncryptionVerifier=Ise(r,e),t}function E6e(r){var e={},t=e.EncryptionVersionInfo=Kc(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function C6e(r){var e=0,t,n=Cse(r),i=n.length+1,a,s,o,l,u;for(t=ed(i),t[0]=n.length,a=1;a!=i;++a)t[a]=n[a-1];for(a=i-1;a>=0;--a)s=t[a],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var Rse=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var c=s[u],f=0;f!=7;++f)c&64&&(o^=t[l]),c*=2,--l;return o};return function(s){for(var o=Cse(s),l=a(o),u=o.length,c=ed(16),f=0;f!=16;++f)c[f]=0;var h,p,v;for((u&1)===1&&(h=l>>8,c[u]=i(r[0],h),--u,h=l&255,p=o[o.length-1],c[u]=i(p,h));u>0;)--u,h=l>>8,c[u]=i(o[u],h),--u,h=l&255,c[u]=i(o[u],h);for(u=15,v=15-o.length;v>0;)h=l>>8,c[u]=i(r[v],h),--u,--v,h=l&255,c[u]=i(o[u],h),--u,--v;return c}}(),D6e=function(r,e,t,n,i){i||(i=e),n||(n=Rse(r));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[t],s=(s>>5|s<<3)&255,i[a]=s,++t;return[i,t,n]},I6e=function(r){var e=0,t=Rse(r);return function(n){var i=D6e("",n,e,t);return e=i[1],i[0]}};function R6e(r,e,t,n){var i={key:ci(r),verificationBytes:ci(r)};return t.password&&(i.verifier=C6e(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=I6e(t.password)),i}function k6e(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=E6e(r):n.Data=A6e(r,e),n}function M6e(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?k6e(r,e-2,n):R6e(r,t.biff>=8?e:e-2,t,n),n}var P6e=function(){function r(i,a){switch(a.type){case"base64":return e(io(i),a);case"binary":return e(i,a);case"buffer":return e(mr&&Buffer.isBuffer(i)?i.toString("binary"):Kv(i),a);case"array":return e(Rv(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,m=-1;v=h.exec(c);){switch(v[0]){case"\\cell":var y=c.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var x={v:y,t:"s"};Array.isArray(o)?o[f][m]=x:o[$t({r:f,c:m})]=x}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=Er(u),o}function t(i,a){return vd(r(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Bn(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var f=$t({r:u,c});o=l?(i[u]||[])[c]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(sf(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function L6e(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function ow(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function O6e(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,u=i+a;switch(l=s/(u>1?2-u:u),i){case e:o=((t-n)/s+6)%6;break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}return[o/6,l,u/2]}function N6e(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function LE(r,e){if(e===0)return r;var t=O6e(L6e(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),ow(N6e(t))}var kse=6,F6e=15,B6e=1,rs=kse;function OE(r){return Math.floor((r+Math.round(128/rs)/256)*rs)}function NE(r){return Math.floor((r-5)/rs*100+.5)/100}function RN(r){return Math.round((r*rs+5)/rs*256)/256}function RM(r){return RN(NE(OE(r)))}function X5(r){var e=Math.abs(r-RM(r)),t=rs;if(e>.005)for(rs=B6e;rs<F6e;++rs)Math.abs(r-RM(r))<=e&&(e=Math.abs(r-RM(r)),t=rs);rs=t}function zm(r){r.width?(r.wpx=OE(r.width),r.wch=NE(r.wpx),r.MDW=rs):r.wpx?(r.wch=NE(r.wpx),r.width=RN(r.wch),r.MDW=rs):typeof r.wch=="number"&&(r.width=RN(r.wch),r.wpx=OE(r.width),r.MDW=rs),r.customWidth&&delete r.customWidth}var V6e=96,Mse=V6e;function Pse(r){return r*96/Mse}function lw(r){return r*Mse/96}var z6e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function U6e(r,e,t,n){e.Borders=[];var i={},a=!1;(r[0].match(Ha)||[]).forEach(function(s){var o=zt(s);switch(tc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=gn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=gn(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function H6e(r,e,t,n){e.Fills=[];var i={},a=!1;(r[0].match(Ha)||[]).forEach(function(s){var o=zt(s);switch(tc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function G6e(r,e,t,n){e.Fonts=[];var i={},a=!1;(r[0].match(Ha)||[]).forEach(function(s){var o=zt(s);switch(tc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ln(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?gn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?gn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?gn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?gn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?gn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?gn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?gn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=k5[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=gn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=cv[i.color.index];i.color.index==81&&(l=cv[1]),l||(l=cv[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=LE(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function j6e(r,e,t){e.NumberFmt=[];for(var n=Ku(Zt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Zt[n[i]];var a=r[0].match(Ha);if(a)for(i=0;i<a.length;++i){var s=zt(a[i]);switch(tc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ir(ln(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}uv(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var VT=["numFmtId","fillId","fontId","borderId","xfId"],zT=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function W6e(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(Ha)||[]).forEach(function(a){var s=zt(a),o=0;switch(tc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<VT.length;++o)n[VT[o]]&&(n[VT[o]]=parseInt(n[VT[o]],10));for(o=0;o<zT.length;++o)n[zT[o]]&&(n[zT[o]]=gn(n[zT[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=gn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var $6e=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&j6e(f,c,u),(f=o.match(i))&&G6e(f,c,l,u),(f=o.match(n))&&H6e(f,c,l,u),(f=o.match(a))&&U6e(f,c,l,u),(f=o.match(t))&&W6e(f,c,u),c}}();function q6e(r,e){var t=r.read_shift(2),n=Pa(r);return[t,n]}function Y6e(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=iBe(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=nBe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pa(r),n}var X6e=Fa;function K6e(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var Z6e=Fa;function Q6e(r,e,t){var n={};n.NumberFmt=[];for(var i in Zt)n.NumberFmt[i]=Zt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return vf(r,function(l,u,c){switch(c){case 44:n.NumberFmt[l[0]]=l[1],uv(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=LE(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(c),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(c);else if(u.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var J6e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function eze(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(Ha)||[]).forEach(function(i){var a=zt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[J6e.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function tze(){}function rze(){}var nze=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ize=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,aze=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function sze(r,e,t){e.themeElements={};var n;[["clrScheme",nze,eze],["fontScheme",ize,tze],["fmtScheme",aze,rze]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var oze=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Lse(r,e){(!r||r.length===0)&&(r=lze());var t,n={};if(!(t=r.match(oze)))throw new Error("themeElements not found in theme");return sze(t[0],n,e),n.raw=r,n}function lze(r,e){var t=[Wae];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function uze(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var a=r.slice(r.l);r.l=n;var s;try{s=jae(a,{type:"array"})}catch{return}var o=Ys(s,"theme/theme/theme1.xml",!0);if(o)return Lse(o,t)}}function cze(r){return r.read_shift(4)}function fze(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=hze(r,4);break;case 2:e.xclrValue=xse(r);break;case 3:e.xclrValue=cze(r);break;case 4:r.l+=4;break}return r.l+=8,e}function hze(r,e){return Fa(r,e)}function dze(r,e){return Fa(r,e)}function pze(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=fze(r);break;case 6:n[1]=dze(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function vze(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),a=[];i-- >0;)a.push(pze(r,t-r.l));return{ixfe:n,ext:a}}function gze(r,e){e.forEach(function(t){t[0]})}function mze(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Pa(r)}}function yze(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function _ze(r){return r.l+=4,r.read_shift(4)!=0}function xze(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},a=[],s=!1,o=2;return vf(r,function(l,u,c){switch(c){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(c),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function wze(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,a=2,s;return r.replace(Ha,function(o){var l=zt(o);switch(tc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function bze(r){var e=[];if(!r)return e;var t=1;return(r.match(Ha)||[]).forEach(function(n){var i=zt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function Sze(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=$t(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Tze(r,e,t){var n=[];return vf(r,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Aze(r,e,t,n){if(!r)return r;var i=n||{},a=!1;vf(r,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function Eze(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function bW(r,e,t,n){var i=Array.isArray(r),a;e.forEach(function(s){var o=as(s.ref);if(i?(r[o.r]||(r[o.r]=[]),a=r[o.r][o.c]):a=r[s.ref],!a){a={t:"z"},i?r[o.r][o.c]=a:r[s.ref]=a;var l=Bn(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=Er(l);u!==r["!ref"]&&(r["!ref"]=u)}a.c||(a.c=[]);var c={a:s.author,t:s.t,r:s.r,T:t};s.h&&(c.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!t&&a.c[f].T)return;t&&!a.c[f].T&&a.c.splice(f,1)}if(t&&n){for(f=0;f<n.length;++f)if(c.a==n[f].id){c.a=n[f].name||c.a;break}}a.c.push(c)})}function Cze(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=zt(o[0]),u={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=as(l.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&Y5(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function Dze(r,e){var t=[],n=!1,i={},a=0;return r.replace(Ha,function(o,l){var u=zt(o);switch(tc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=r.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function Ize(r,e){var t=[],n=!1;return r.replace(Ha,function(a){var s=zt(a);switch(tc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function Rze(r){var e={};e.iauthor=r.read_shift(4);var t=Qv(r);return e.rfx=t.s,e.ref=$t(t.s),r.l+=16,e}var kze=Pa;function Mze(r,e){var t=[],n=[],i={},a=!1;return vf(r,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}var Pze="application/vnd.ms-office.vbaProject";function Lze(r){var e=Ar.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ar.utils.cfb_add(e,i,r.FileIndex[n].content)}}),Ar.write(e)}function Oze(){return{"!type":"dialog"}}function Nze(){return{"!type":"dialog"}}function Fze(){return{"!type":"macro"}}function Bze(){return{"!type":"macro"}}var cm=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+Ei(c)+(l?"":"$")+ca(u)}return function(i,a){return e=a,i.replace(r,t)}}(),Ose=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Vze=function(){return function(e,t){return e.replace(Ose,function(n,i,a,s,o,l){var u=H5(s)-(a?0:t.c),c=U5(l)-(o?0:t.r),f=c==0?"":o?c+1:"["+c+"]",h=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function Nse(r,e){return r.replace(Ose,function(t,n,i,a,s,o){return n+(i=="$"?i+a:Ei(H5(a)+e.c))+(s=="$"?s+o:ca(U5(o)+e.r))})}function zze(r,e,t){var n=vy(e),i=n.s,a=as(t),s={r:a.r-i.r,c:a.c-i.c};return Nse(r,s)}function Uze(r){return r.length!=1}function SW(r){return r.replace(/_xlfn\./g,"")}function oi(r){r.l+=1}function td(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Fse(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return Bse(r);t.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=td(r),o=td(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Bse(r){var e=td(r),t=td(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Hze(r,e,t){if(t.biff<8)return Bse(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),a=td(r),s=td(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Vse(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return Gze(r);var n=r.read_shift(t&&t.biff==12?4:2),i=td(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Gze(r){var e=td(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function jze(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Wze(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return $ze(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function $ze(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function qze(r,e,t){var n=(r[r.l++]&96)>>5,i=Fse(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function Yze(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=Fse(r,a,t);return[n,i,s]}function Xze(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function Kze(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function Zze(r,e,t){var n=(r[r.l++]&96)>>5,i=Hze(r,e-1,t);return[n,i]}function Qze(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function TW(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function Jze(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function e8e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function t8e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function r8e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function n8e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function zse(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function i8e(r){return r.read_shift(2),zse(r)}function a8e(r){return r.read_shift(2),zse(r)}function s8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=Vse(r,0,t);return[n,i]}function o8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=Wze(r,0,t);return[n,i]}function l8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var a=Vse(r,0,t);return[n,i,a]}function u8e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[cUe[i],Gse[i],n]}function c8e(r,e,t){var n=r[r.l++],i=r.read_shift(1),a=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:f8e(r);return[i,(a[0]===0?Gse:uUe)[a[1]]]}function f8e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function h8e(r,e,t){r.l+=t&&t.biff==2?3:4}function d8e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function p8e(r){return r.l++,Jv[r.read_shift(1)]}function v8e(r){return r.l++,r.read_shift(2)}function g8e(r){return r.l++,r.read_shift(1)!==0}function m8e(r){return r.l++,Da(r)}function y8e(r,e,t){return r.l++,mb(r,e-1,t)}function _8e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=jn(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Jv[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Da(r);break;case 2:t[1]=eg(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function x8e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((t.biff==12?Qv:CD)(r));return i}function w8e(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=_8e(r,t.biff);return s}function b8e(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function S8e(r,e,t){if(t.biff==5)return T8e(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function T8e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function A8e(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function E8e(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function C8e(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function D8e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var I8e=Fa,R8e=Fa,k8e=Fa;function _b(r,e,t){return r.l+=2,[jze(r)]}function K5(r){return r.l+=6,[]}var M8e=_b,P8e=K5,L8e=K5,O8e=_b;function Use(r){return r.l+=2,[ci(r),r.read_shift(2)&1]}var N8e=_b,F8e=Use,B8e=K5,V8e=_b,z8e=_b,U8e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function H8e(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=U8e[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:i,C:a}}function G8e(r){return r.l+=2,[r.read_shift(4)]}function j8e(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function W8e(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function $8e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function q8e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function Y8e(r){return r.l+=4,[0,0]}var AW={1:{n:"PtgExp",f:d8e},2:{n:"PtgTbl",f:k8e},3:{n:"PtgAdd",f:oi},4:{n:"PtgSub",f:oi},5:{n:"PtgMul",f:oi},6:{n:"PtgDiv",f:oi},7:{n:"PtgPower",f:oi},8:{n:"PtgConcat",f:oi},9:{n:"PtgLt",f:oi},10:{n:"PtgLe",f:oi},11:{n:"PtgEq",f:oi},12:{n:"PtgGe",f:oi},13:{n:"PtgGt",f:oi},14:{n:"PtgNe",f:oi},15:{n:"PtgIsect",f:oi},16:{n:"PtgUnion",f:oi},17:{n:"PtgRange",f:oi},18:{n:"PtgUplus",f:oi},19:{n:"PtgUminus",f:oi},20:{n:"PtgPercent",f:oi},21:{n:"PtgParen",f:oi},22:{n:"PtgMissArg",f:oi},23:{n:"PtgStr",f:y8e},26:{n:"PtgSheet",f:j8e},27:{n:"PtgEndSheet",f:W8e},28:{n:"PtgErr",f:p8e},29:{n:"PtgBool",f:g8e},30:{n:"PtgInt",f:v8e},31:{n:"PtgNum",f:m8e},32:{n:"PtgArray",f:Qze},33:{n:"PtgFunc",f:u8e},34:{n:"PtgFuncVar",f:c8e},35:{n:"PtgName",f:b8e},36:{n:"PtgRef",f:s8e},37:{n:"PtgArea",f:qze},38:{n:"PtgMemArea",f:A8e},39:{n:"PtgMemErr",f:I8e},40:{n:"PtgMemNoMem",f:R8e},41:{n:"PtgMemFunc",f:E8e},42:{n:"PtgRefErr",f:C8e},43:{n:"PtgAreaErr",f:Xze},44:{n:"PtgRefN",f:o8e},45:{n:"PtgAreaN",f:Zze},46:{n:"PtgMemAreaN",f:$8e},47:{n:"PtgMemNoMemN",f:q8e},57:{n:"PtgNameX",f:S8e},58:{n:"PtgRef3d",f:l8e},59:{n:"PtgArea3d",f:Yze},60:{n:"PtgRefErr3d",f:D8e},61:{n:"PtgAreaErr3d",f:Kze},255:{}},X8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},K8e={1:{n:"PtgElfLel",f:Use},2:{n:"PtgElfRw",f:V8e},3:{n:"PtgElfCol",f:M8e},6:{n:"PtgElfRwV",f:z8e},7:{n:"PtgElfColV",f:O8e},10:{n:"PtgElfRadical",f:N8e},11:{n:"PtgElfRadicalS",f:B8e},13:{n:"PtgElfColS",f:P8e},15:{n:"PtgElfColSV",f:L8e},16:{n:"PtgElfRadicalLel",f:F8e},25:{n:"PtgList",f:H8e},29:{n:"PtgSxName",f:G8e},255:{}},Z8e={0:{n:"PtgAttrNoop",f:Y8e},1:{n:"PtgAttrSemi",f:n8e},2:{n:"PtgAttrIf",f:t8e},4:{n:"PtgAttrChoose",f:Jze},8:{n:"PtgAttrGoto",f:e8e},16:{n:"PtgAttrSum",f:h8e},32:{n:"PtgAttrBaxcel",f:TW},33:{n:"PtgAttrBaxcel",f:TW},64:{n:"PtgAttrSpace",f:i8e},65:{n:"PtgAttrSpaceSemi",f:a8e},128:{n:"PtgAttrIfError",f:r8e},255:{}};function xb(r,e,t,n){if(n.biff<8)return Fa(r,e);for(var i=r.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=w8e(r,0,n),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=x8e(r,t[s][1],n),a.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-r.l,e!==0&&a.push(Fa(r,e)),a}function wb(r,e,t){for(var n=r.l+e,i,a,s=[];n!=r.l;)e=n-r.l,a=r[r.l],i=AW[a]||AW[X8e[a]],(a===24||a===25)&&(i=(a===24?K8e:Z8e)[r[r.l+1]]),!i||!i.f?Fa(r,e):s.push([i.n,i.f(r,e,t)]);return s}function Q8e(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var J8e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eUe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Hse(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function EW(r,e,t){var n=Hse(r,e,t);return n=="#REF"?n:eUe(n,t)}function Aa(r,e,t,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,f=0,h=0,p,v="";if(!r[0]||!r[0][0])return"";for(var m=-1,y="",x=0,w=r[0].length;x<w;++x){var b=r[0][x];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),m>=0){switch(r[0][m][1][0]){case 0:y=On(" ",r[0][m][1][1]);break;case 1:y=On("\r",r[0][m][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}u=u+y,m=-1}o.push(u+J8e[b[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=cx(b[1][1],s,i),o.push(fx(c,a));break;case"PtgRefN":c=t?cx(b[1][1],t,i):b[1][1],o.push(fx(c,a));break;case"PtgRef3d":f=b[1][1],c=cx(b[1][2],s,i),v=EW(n,f,i),o.push(v+"!"+fx(c,a));break;case"PtgFunc":case"PtgFuncVar":var T=b[1][0],C=b[1][1];T||(T=0),T&=127;var D=T==0?[]:o.slice(-T);o.length-=T,C==="User"&&(C=D.shift()),o.push(C+"("+D.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=sW(b[1][1],t?{s:t}:s,i),o.push(DM(p,i));break;case"PtgArea":p=sW(b[1][1],s,i),o.push(DM(p,i));break;case"PtgArea3d":f=b[1][1],p=b[1][2],v=EW(n,f,i),o.push(v+"!"+DM(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var A=(n.names||[])[h-1]||(n[0]||[])[h],k=A?A.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var I=b[1][1];h=b[1][2];var M;if(i.biff<=5)I<0&&(I=-I),n[I]&&(M=n[I][h]);else{var P="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][h]&&n[I][h].itab>0&&(P=n.SheetNames[n[I][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[I]&&n[I][h])P+=n[I][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var O=(Hse(n,I,i)||"").split(";;");O[h-1]?P=O[h-1]:P+="SH33TJSERRX"}o.push(P);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var N="(",G=")";if(m>=0){switch(y="",r[0][m][1][0]){case 2:N=On(" ",r[0][m][1][1])+N;break;case 3:N=On("\r",r[0][m][1][1])+N;break;case 4:G=On(" ",r[0][m][1][1])+G;break;case 5:G=On("\r",r[0][m][1][1])+G;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}m=-1}o.push(N+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:b[1][1],r:b[1][0]};var j={c:t.c,r:t.r};if(n.sharedf[$t(c)]){var U=n.sharedf[$t(c)];o.push(Aa(U,s,j,n,i))}else{var X=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Aa(u[1],s,j,n,i)),X=!0;break}X||o.push(b[1])}break;case"PtgArray":o.push("{"+Q8e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&ie.indexOf(r[0][x][0])==-1){b=r[0][m];var Z=!0;switch(b[1][0]){case 4:Z=!1;case 0:y=On(" ",b[1][1]);break;case 5:Z=!1;case 1:y=On("\r",b[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((Z?y:"")+o.pop()+(Z?"":y)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function tUe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],Fa(r,e-2)];var o=wb(r,s,t);return e!==s+i&&(a=xb(r,e-s-i,o,t)),r.l=n,[o,a]}function rUe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],Fa(r,e-2)];var o=wb(r,s,t);return e!==s+i&&(a=xb(r,e-s-i,o,t)),r.l=n,[o,a]}function nUe(r,e,t,n){var i=r.l+e,a=wb(r,n,t),s;return i!==r.l&&(s=xb(r,i-r.l,a,t)),[a,s]}function iUe(r,e,t){var n=r.l+e,i,a=r.read_shift(2),s=wb(r,a,t);return a==65535?[[],Fa(r,e-2)]:(e!==a+2&&(i=xb(r,n-a-2,s,t)),[s,i])}function aUe(r){var e;if(Vc(r,r.l+6)!==65535)return[Da(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function kM(r,e,t){var n=r.l+e,i=rc(r);t.biff==2&&++r.l;var a=aUe(r),s=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=rUe(r,n-r.l,t);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function DD(r,e,t){var n=r.read_shift(4),i=wb(r,n,t),a=r.read_shift(4),s=a>0?xb(r,a,i,t):null;return[i,s]}var sUe=DD,ID=DD,oUe=DD,lUe=DD,uUe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Gse={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cUe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function CW(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function MM(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var vx={},fm={};function gx(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function jse(r,e,t,n,i,a){try{n.cellNF&&(r.z=Zt[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=ji(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(Zt[e]==null&&uv(f5e[e]||"General",e),r.t==="e")r.w=r.w||Jv[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=nw(r.v);else if(r.t==="d"){var s=fs(r.v);(s|0)===s?r.w=s.toString(10):r.w=nw(s)}else{if(r.v===void 0)return"";r.w=Iv(r.v,fm)}else r.t==="d"?r.w=Xo(e,fs(r.v),fm):r.w=Xo(e,r.v,fm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=a.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=LE(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=LE(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function fUe(r,e){var t=Bn(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Er(t))}var hUe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,dUe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,pUe=/<(?:\w:)?hyperlink [^>]*>/mg,vUe=/"(\w*:\w*)"/,gUe=/<(?:\w:)?col\b[^>]*[\/]?>/g,mUe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,yUe=/<(?:\w:)?pageMargins[^>]*\/>/g,Wse=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_Ue=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,xUe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function wUe(r,e,t,n,i,a,s){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",f=r.match(dUe);f?(u=r.slice(0,f.index),c=r.slice(f.index+f[0].length)):u=c=r;var h=u.match(Wse);h?Z5(h[0],o,i,t):(h=u.match(_Ue))&&bUe(h[0],h[1]||"",o,i,t);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=u.slice(p,p+50).match(vUe);v&&fUe(o,v[1])}var m=u.match(xUe);m&&m[1]&&DUe(m[1],i);var y=[];if(e.cellStyles){var x=u.match(gUe);x&&AUe(y,x)}f&&IUe(f[1],o,e,l,a,s);var w=c.match(mUe);w&&(o["!autofilter"]=EUe(w[0]));var b=[],T=c.match(hUe);if(T)for(p=0;p!=T.length;++p)b[p]=Bn(T[p].slice(T[p].indexOf('"')+1));var C=c.match(pUe);C&&SUe(o,C,n);var D=c.match(yUe);if(D&&(o["!margins"]=TUe(zt(D[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Er(l)),e.sheetRows>0&&o["!ref"]){var A=Bn(o["!ref"]);e.sheetRows<=+A.e.r&&(A.e.r=e.sheetRows-1,A.e.r>l.e.r&&(A.e.r=l.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>l.e.c&&(A.e.c=l.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Er(A))}return y.length>0&&(o["!cols"]=y),b.length>0&&(o["!merges"]=b),o}function Z5(r,e,t,n){var i=zt(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=Ir(ln(i.codeName)))}function bUe(r,e,t,n,i){Z5(r.slice(0,r.indexOf(">")),t,n,i)}function SUe(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var a=zt(ln(e[i]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Ir(a.location))):(a.Target="#"+Ir(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Bn(a.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var c=$t({c:u,r:l});n?(r[l]||(r[l]=[]),r[l][u]||(r[l][u]={t:"z",v:void 0}),r[l][u].l=a):(r[c]||(r[c]={t:"z",v:void 0}),r[c].l=a)}}}function TUe(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function AUe(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=zt(e[n],!0);i.hidden&&(i.hidden=gn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,X5(i.width)),zm(i);a<=s;)r[a++]=ua(i)}}function EUe(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var CUe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function DUe(r,e){e.Views||(e.Views=[{}]),(r.match(CUe)||[]).forEach(function(t,n){var i=zt(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),gn(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var IUe=function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=iw("v"),s=iw("f");return function(l,u,c,f,h,p){for(var v=0,m="",y=[],x=[],w=0,b=0,T=0,C="",D,A,k=0,I=0,M,P,O=0,N=0,G=Array.isArray(p.CellXf),j,U=[],X=[],ie=Array.isArray(u),Z=[],W={},Q=!1,H=!!c.sheetStubs,ee=l.split(e),J=0,se=ee.length;J!=se;++J){m=ee[J].trim();var de=m.length;if(de!==0){var Me=0;e:for(v=0;v<de;++v)switch(m[v]){case">":if(m[v-1]!="/"){++v;break e}if(c&&c.cellStyles){if(A=zt(m.slice(Me,v),!0),k=A.r!=null?parseInt(A.r,10):k+1,I=-1,c.sheetRows&&c.sheetRows<k)continue;W={},Q=!1,A.ht&&(Q=!0,W.hpt=parseFloat(A.ht),W.hpx=lw(W.hpt)),A.hidden=="1"&&(Q=!0,W.hidden=!0),A.outlineLevel!=null&&(Q=!0,W.level=+A.outlineLevel),Q&&(Z[k-1]=W)}break;case"<":Me=v;break}if(Me>=v)break;if(A=zt(m.slice(Me,v),!0),k=A.r!=null?parseInt(A.r,10):k+1,I=-1,!(c.sheetRows&&c.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),c&&c.cellStyles&&(W={},Q=!1,A.ht&&(Q=!0,W.hpt=parseFloat(A.ht),W.hpx=lw(W.hpt)),A.hidden=="1"&&(Q=!0,W.hidden=!0),A.outlineLevel!=null&&(Q=!0,W.level=+A.outlineLevel),Q&&(Z[k-1]=W)),y=m.slice(v).split(r);for(var Se=0;Se!=y.length&&y[Se].trim().charAt(0)=="<";++Se);for(y=y.slice(Se),v=0;v!=y.length;++v)if(m=y[v].trim(),m.length!==0){if(x=m.match(t),w=v,b=0,T=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(w=0,C=x[1],b=0;b!=C.length&&!((T=C.charCodeAt(b)-64)<1||T>26);++b)w=26*w+T;--w,I=w}else++I;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,A=zt(m.slice(0,b),!0),A.r||(A.r=$t({r:k-1,c:I})),C=m.slice(b),D={t:""},(x=C.match(a))!=null&&x[1]!==""&&(D.v=Ir(x[1])),c.cellFormula){if((x=C.match(s))!=null&&x[1]!==""){if(D.f=Ir(ln(x[1])).replace(/\r\n/g,`
`),c.xlfn||(D.f=SW(D.f)),x[0].indexOf('t="array"')>-1)D.F=(C.match(i)||[])[1],D.F.indexOf(":")>-1&&U.push([Bn(D.F),D.F]);else if(x[0].indexOf('t="shared"')>-1){P=zt(x[0]);var xe=Ir(ln(x[1]));c.xlfn||(xe=SW(xe)),X[parseInt(P.si,10)]=[P,xe,A.r]}}else(x=C.match(/<f[^>]*\/>/))&&(P=zt(x[0]),X[P.si]&&(D.f=zze(X[P.si][1],X[P.si][2],A.r)));var Te=as(A.r);for(b=0;b<U.length;++b)Te.r>=U[b][0].s.r&&Te.r<=U[b][0].e.r&&Te.c>=U[b][0].s.c&&Te.c<=U[b][0].e.c&&(D.F=U[b][1])}if(A.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(H)D.t="z";else continue;else D.t=A.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),D.t){case"n":if(D.v==""||D.v==null){if(!H)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!H)continue;D.t="z"}else M=vx[parseInt(D.v,10)],D.v=M.t,D.r=M.r,c.cellHTML&&(D.h=M.h);break;case"str":D.t="s",D.v=D.v!=null?ln(D.v):"",c.cellHTML&&(D.h=B5(D.v));break;case"inlineStr":x=C.match(n),D.t="s",x!=null&&(M=Y5(x[1]))?(D.v=M.t,c.cellHTML&&(D.h=M.h)):D.v="";break;case"b":D.v=gn(D.v);break;case"d":c.cellDates?D.v=ji(D.v,1):(D.v=fs(ji(D.v,1)),D.t="n");break;case"e":(!c||c.cellText!==!1)&&(D.w=D.v),D.v=hse[D.v];break}if(O=N=0,j=null,G&&A.s!==void 0&&(j=p.CellXf[A.s],j!=null&&(j.numFmtId!=null&&(O=j.numFmtId),c.cellStyles&&j.fillId!=null&&(N=j.fillId))),jse(D,O,N,c,h,p),c.cellDates&&G&&D.t=="n"&&py(Zt[O])&&(D.t="d",D.v=ED(D.v)),A.cm&&c.xlmeta){var Oe=(c.xlmeta.Cell||[])[+A.cm-1];Oe&&Oe.type=="XLDAPR"&&(D.D=!0)}if(ie){var ne=as(A.r);u[ne.r]||(u[ne.r]=[]),u[ne.r][ne.c]=D}else u[A.r]=D}}}}Z.length>0&&(u["!rows"]=Z)}}();function RUe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}var kUe=Qv;function MUe(){}function PUe(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=tBe(r),t}function LUe(r){var e=Qo(r);return[e]}function OUe(r){var e=Zv(r);return[e]}function NUe(r){var e=Qo(r),t=r.read_shift(1);return[e,t,"b"]}function FUe(r){var e=Zv(r),t=r.read_shift(1);return[e,t,"b"]}function BUe(r){var e=Qo(r),t=r.read_shift(1);return[e,t,"e"]}function VUe(r){var e=Zv(r),t=r.read_shift(1);return[e,t,"e"]}function zUe(r){var e=Qo(r),t=r.read_shift(4);return[e,t,"s"]}function UUe(r){var e=Zv(r),t=r.read_shift(4);return[e,t,"s"]}function HUe(r){var e=Qo(r),t=Da(r);return[e,t,"n"]}function $se(r){var e=Zv(r),t=Da(r);return[e,t,"n"]}function GUe(r){var e=Qo(r),t=W5(r);return[e,t,"n"]}function jUe(r){var e=Zv(r),t=W5(r);return[e,t,"n"]}function WUe(r){var e=Qo(r),t=G5(r);return[e,t,"is"]}function $Ue(r){var e=Qo(r),t=Pa(r);return[e,t,"str"]}function qUe(r){var e=Zv(r),t=Pa(r);return[e,t,"str"]}function YUe(r,e,t){var n=r.l+e,i=Qo(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(t.cellFormula){r.l+=2;var o=ID(r,n-r.l,t);s[3]=Aa(o,null,i,t.supbooks,t)}else r.l=n;return s}function XUe(r,e,t){var n=r.l+e,i=Qo(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(t.cellFormula){r.l+=2;var o=ID(r,n-r.l,t);s[3]=Aa(o,null,i,t.supbooks,t)}else r.l=n;return s}function KUe(r,e,t){var n=r.l+e,i=Qo(r);i.r=t["!row"];var a=Da(r),s=[i,a,"n"];if(t.cellFormula){r.l+=2;var o=ID(r,n-r.l,t);s[3]=Aa(o,null,i,t.supbooks,t)}else r.l=n;return s}function ZUe(r,e,t){var n=r.l+e,i=Qo(r);i.r=t["!row"];var a=Pa(r),s=[i,a,"str"];if(t.cellFormula){r.l+=2;var o=ID(r,n-r.l,t);s[3]=Aa(o,null,i,t.supbooks,t)}else r.l=n;return s}var QUe=Qv;function JUe(r,e){var t=r.l+e,n=Qv(r),i=j5(r),a=Pa(r),s=Pa(r),o=Pa(r);r.l=t;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function e9e(){}function t9e(r,e,t){var n=r.l+e,i=use(r),a=r.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=sUe(r,n-r.l,t);s[1]=o}else r.l=n;return s}function r9e(r,e,t){var n=r.l+e,i=Qv(r),a=[i];if(t.cellFormula){var s=lUe(r,n-r.l,t);a[1]=s,r.l=n}else r.l=n;return a}var n9e=["left","right","top","bottom","header","footer"];function i9e(r){var e={};return n9e.forEach(function(t){e[t]=Da(r)}),e}function a9e(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function s9e(){}function o9e(){}function l9e(r,e,t,n,i,a,s){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,m,y,x,w,b,T,C,D=[];o.biff=12,o["!row"]=0;var A=0,k=!1,I=[],M={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=M,P.arrayf=I,P.SheetNames=i.SheetNames||i.Sheets.map(function(ie){return ie.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var O=0;O<i.Names.length;++O)P[0][O+1]=i.Names[O];var N=[],G=[],j=!1;FE[16]={n:"BrtShortReal",f:$se};var U;if(vf(r,function(Z,W,Q){if(!h)switch(Q){case 148:u=Z;break;case 0:p=Z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),T=ca(y=p.r),o["!row"]=p.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=lw(Z.hpt)),G[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:Z[2]},Z[2]){case"n":v.v=Z[1];break;case"s":b=vx[Z[1]],v.v=b.t,v.r=b.r;break;case"b":v.v=!!Z[1];break;case"e":v.v=Z[1],o.cellText!==!1&&(v.w=Jv[v.v]);break;case"str":v.t="s",v.v=Z[1];break;case"is":v.t="s",v.v=Z[1].t;break}if((m=s.CellXf[Z[0].iStyleRef])&&jse(v,m.numFmtId,null,o,a,s),x=Z[0].c==-1?x+1:Z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][x]=v):l[Ei(x)+T]=v,o.cellFormula){for(k=!1,A=0;A<I.length;++A){var H=I[A];p.r>=H[0].s.r&&p.r<=H[0].e.r&&x>=H[0].s.c&&x<=H[0].e.c&&(v.F=Er(H[0]),k=!0)}!k&&Z.length>3&&(v.f=Z[3])}if(c.s.r>p.r&&(c.s.r=p.r),c.s.c>x&&(c.s.c=x),c.e.r<p.r&&(c.e.r=p.r),c.e.c<x&&(c.e.c=x),o.cellDates&&m&&v.t=="n"&&py(Zt[m.numFmtId])){var ee=Yp(v.v);ee&&(v.t="d",v.v=new Date(ee.y,ee.m-1,ee.d,ee.H,ee.M,ee.S,ee.u))}U&&(U.type=="XLDAPR"&&(v.D=!0),U=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},x=Z[0].c==-1?x+1:Z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][x]=v):l[Ei(x)+T]=v,c.s.r>p.r&&(c.s.r=p.r),c.s.c>x&&(c.s.c=x),c.e.r<p.r&&(c.e.r=p.r),c.e.c<x&&(c.e.c=x),U&&(U.type=="XLDAPR"&&(v.D=!0),U=void 0);break;case 176:D.push(Z);break;case 49:U=((o.xlmeta||{}).Cell||[])[Z-1];break;case 494:var J=n["!id"][Z.relId];for(J?(Z.Target=J.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=J):Z.relId==""&&(Z.Target="#"+Z.loc),y=Z.rfx.s.r;y<=Z.rfx.e.r;++y)for(x=Z.rfx.s.c;x<=Z.rfx.e.c;++x)o.dense?(l[y]||(l[y]=[]),l[y][x]||(l[y][x]={t:"z",v:void 0}),l[y][x].l=Z):(w=$t({c:x,r:y}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=Z);break;case 426:if(!o.cellFormula)break;I.push(Z),C=o.dense?l[y][x]:l[Ei(x)+T],C.f=Aa(Z[1],c,{r:p.r,c:x},P,o),C.F=Er(Z[0]);break;case 427:if(!o.cellFormula)break;M[$t(Z[0].s)]=Z[1],C=o.dense?l[y][x]:l[Ei(x)+T],C.f=Aa(Z[1],c,{r:p.r,c:x},P,o);break;case 60:if(!o.cellStyles)break;for(;Z.e>=Z.s;)N[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},j||(j=!0,X5(Z.w/256)),zm(N[Z.e+1]);break;case 161:l["!autofilter"]={ref:Er(Z)};break;case 476:l["!margins"]=Z;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),Z.name&&(i.Sheets[t].CodeName=Z.name),(Z.above||Z.left)&&(l["!outline"]={above:Z.above,left:Z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!W.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Er(u||c)),o.sheetRows&&l["!ref"]){var X=Bn(l["!ref"]);o.sheetRows<=+X.e.r&&(X.e.r=o.sheetRows-1,X.e.r>c.e.r&&(X.e.r=c.e.r),X.e.r<X.s.r&&(X.s.r=X.e.r),X.e.c>c.e.c&&(X.e.c=c.e.c),X.e.c<X.s.c&&(X.s.c=X.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Er(X))}return D.length>0&&(l["!merges"]=D),N.length>0&&(l["!cols"]=N),G.length>0&&(l["!rows"]=G),l}function u9e(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var i=Ir((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function c9e(r,e,t,n,i,a){var s=a||{"!type":"chart"};if(!r)return a;var o=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=u9e(f);c.s.r=c.s.c=0,c.e.c=o,u=Ei(o),h[0].forEach(function(p,v){s[u+ca(v)]={t:"n",v:p,z:h[1]},l=v}),c.e.r<l&&(c.e.r=l),++o}),o>0&&(s["!ref"]=Er(c)),s}function f9e(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=r.match(Wse);return o&&Z5(o[0],a,i,t),(s=r.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function h9e(r,e){r.l+=10;var t=Pa(r);return{name:t}}function d9e(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return vf(r,function(l,u,c){switch(c){case 550:a["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var qse=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],p9e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],v9e=[],g9e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function DW(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=gn(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function IW(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=gn(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function Yse(r){IW(r.WBProps,qse),IW(r.CalcPr,g9e),DW(r.WBView,p9e),DW(r.Sheets,v9e),fm.date1904=gn(r.WBProps.date1904)}var m9e="][*?/\\".split("");function y9e(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return m9e.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var _9e=/<\w+:workbook/;function x9e(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(r.replace(Ha,function(l,u){var c=zt(l);switch(tc(c[0])){case"<?xml":break;case"<workbook":l.match(_9e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":qse.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":t.WBProps[f[0]]=gn(c[f[0]]);break;case"int":t.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:t.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(t.WBProps.CodeName=ln(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Ir(ln(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=ln(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),gn(c.hidden||"0")&&(a.Hidden=!0),s=u+l.length;break;case"</definedName>":a.Ref=Ir(ln(r.slice(s,u))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),B5e.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return Yse(t),t}function w9e(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=CN(r),t.name=Pa(r),t}function b9e(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Pa(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function S9e(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function T9e(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),a=rBe(r),s=oUe(r,0,t),o=j5(r);r.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function A9e(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],FE[16]={n:"BrtFRTArchID$",f:S9e},vf(r,function(l,u,c){switch(c){case 156:s.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Aa(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([c,l]):s[0]=[c,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),Yse(t),t.Names=a,t.supbooks=s,t}function E9e(r,e,t){return e.slice(-4)===".bin"?A9e(r,t):x9e(r,t)}function C9e(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?l9e(r,n,t,i,a,s,o):wUe(r,n,t,i,a,s,o)}function D9e(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?d9e(r,n,t,i,a):f9e(r,n,t,i,a)}function I9e(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?Fze():Bze()}function R9e(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?Oze():Nze()}function k9e(r,e,t,n){return e.slice(-4)===".bin"?Q6e(r,t,n):$6e(r,t,n)}function M9e(r,e,t){return Lse(r,t)}function P9e(r,e,t){return e.slice(-4)===".bin"?p6e(r,t):h6e(r,t)}function L9e(r,e,t){return e.slice(-4)===".bin"?Mze(r,t):Cze(r,t)}function O9e(r,e,t){return e.slice(-4)===".bin"?Tze(r):bze(r)}function N9e(r,e,t,n){return t.slice(-4)===".bin"?Aze(r,e,t,n):void 0}function F9e(r,e,t){return e.slice(-4)===".bin"?xze(r,e,t):wze(r,e,t)}var Xse=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Kse=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function dl(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(Xse),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(Kse),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function B9e(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(Xse),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(Kse),(a=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),t[s]=i[2].slice(1,i[2].length-1));return t}var mx;function V9e(r,e){var t=mx[r]||Ir(r);return t==="General"?Iv(e):Xo(t,e)}function z9e(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=gn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=ji(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Ir(e)]=i}function U9e(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Jv[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=nw(r.v):r.w=Iv(r.v):r.w=V9e(e||"General",r.v)}catch(a){if(t.WTF)throw a}try{var n=mx[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&py(n)){var i=Yp(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(t.WTF)throw a}}}function H9e(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=z6e[n.Pattern]||n.Pattern)}r[e.ID]=e}function G9e(r,e,t,n,i,a,s,o,l,u){var c="General",f=n.StyleID,h={};u=u||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(c=a[f].nf),a[f].Interior&&p.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=gn(r);break;case"String":n.t="s",n.r=Zj(Ir(r)),n.v=r.indexOf("<")>-1?Ir(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(ji(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ir(r):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=hse[r],u.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=Zj(e||r));break}if(U9e(n,c,u),u.cellFormula!==!1)if(n.Formula){var m=Ir(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=cm(m,i),delete n.Formula,n.ArrayRange=="RC"?n.F=cm("RC:RC",i):n.ArrayRange&&(n.F=cm(n.ArrayRange,i),l.push([Bn(n.F),n.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(n.F=l[v][1]);u.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function j9e(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function PM(r,e){var t=e||{};Bae();var n=P_(V5(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=ln(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=ua(t);return s.type="string",sw.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(xt){i.indexOf("<"+xt)>=0&&(a=!0)}),a)return J9e(n,t);mx={"General Number":"General","General Date":Zt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Zt[15],"Short Date":Zt[14],"Long Time":Zt[19],"Medium Time":Zt[18],"Short Time":Zt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Zt[2],Standard:Zt[4],Percent:Zt[10],Scientific:Zt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,c={},f=[],h=t.dense?[]:{},p="",v={},m={},y=dl('<Data ss:Type="String">'),x=0,w=0,b=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},D={},A="",k=0,I=[],M={},P={},O=0,N=[],G=[],j={},U=[],X,ie=!1,Z=[],W=[],Q={},H=0,ee=0,J={Sheets:[],WBProps:{date1904:!1}},se={};aw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";o=aw.exec(n);)switch(o[3]=(de=o[3]).toLowerCase()){case"data":if(de=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?G9e(n.slice(x,o.index),A,y,l[l.length-1][0]=="comment"?j:v,{c:w,r:b},C,U[w],m,Z,t):(A="",y=dl(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(v.c=G),(!t.sheetRows||t.sheetRows>b)&&v.v!==void 0&&(t.dense?(h[b]||(h[b]=[]),h[b][w]=v):h[Ei(w)+ca(b)]=v),v.HRef&&(v.l={Target:Ir(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(H=w+(parseInt(v.MergeAcross,10)|0),ee=b+(parseInt(v.MergeDown,10)|0),I.push({s:{c:w,r:b},e:{c:H,r:ee}})),!t.sheetStubs)v.MergeAcross?w=H+1:++w;else if(v.MergeAcross||v.MergeDown){for(var Me=w;Me<=H;++Me)for(var Se=b;Se<=ee;++Se)(Me>w||Se>b)&&(t.dense?(h[Se]||(h[Se]=[]),h[Se][Me]={t:"z"}):h[Ei(Me)+ca(Se)]={t:"z"});w=H+1}else++w;else v=B9e(o[0]),v.Index&&(w=+v.Index-1),w<T.s.c&&(T.s.c=w),w>T.e.c&&(T.e.c=w),o[0].slice(-2)==="/>"&&++w,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<T.s.r&&(T.s.r=b),b>T.e.r&&(T.e.r=b),o[0].slice(-2)==="/>"&&(m=dl(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=dl(o[0]),m.Index&&(b=+m.Index-1),Q={},(m.AutoFitHeight=="0"||m.Height)&&(Q.hpx=parseInt(m.Height,10),Q.hpt=Pse(Q.hpx),W[b]=Q),m.Hidden=="1"&&(Q.hidden=!0,W[b]=Q));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(h["!ref"]=Er(T),t.sheetRows&&t.sheetRows<=T.e.r&&(h["!fullref"]=h["!ref"],T.e.r=t.sheetRows-1,h["!ref"]=Er(T))),I.length&&(h["!merges"]=I),U.length>0&&(h["!cols"]=U),W.length>0&&(h["!rows"]=W),c[p]=h}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),u=dl(o[0]),p=Ir(u.Name),h=t.dense?[]:{},I=[],Z=[],W=[],se={name:p,Hidden:0},J.Sheets.push(se);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),U=[],ie=!1}break;case"style":o[1]==="/"?H9e(C,D,t):D=dl(o[0]);break;case"numberformat":D.nf=Ir(dl(o[0]).Format||"General"),mx[D.nf]&&(D.nf=mx[D.nf]);for(var xe=0;xe!=392&&Zt[xe]!=D.nf;++xe);if(xe==392){for(xe=57;xe!=392;++xe)if(Zt[xe]==null){uv(D.nf,xe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(X=dl(o[0]),X.Hidden&&(X.hidden=!0,delete X.Hidden),X.Width&&(X.wpx=parseInt(X.Width,10)),!ie&&X.wpx>10){ie=!0,rs=kse;for(var Te=0;Te<U.length;++Te)U[Te]&&zm(U[Te])}ie&&zm(X),U[X.Index-1||U.length]=X;for(var Oe=0;Oe<+X.Span;++Oe)U[U.length]=ua(X);break;case"namedrange":if(o[1]==="/")break;J.Names||(J.Names=[]);var ne=zt(o[0]),pt={Name:ne.Name,Ref:cm(ne.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(pt.Sheet=J.Sheets.length-1),J.Names.push(pt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?A+=n.slice(k,o.index):k=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;D.Interior=dl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?CBe(M,de,n.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));j9e(j),G.push(j)}else l.push([o[3],!1]),u=dl(o[0]),j={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var tt=dl(o[0]);h["!autofilter"]={ref:cm(tt.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return OW(n,t);var ct=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ct=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ct=!1}break;case"excelworkbook":switch(o[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ct=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ct=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(O,o.index)){case"SheetHidden":se.Hidden=1;break;case"SheetVeryHidden":se.Hidden=2;break}else O=o.index+o[0].length;break;case"header":h["!margins"]||gx(h["!margins"]={},"xlml"),isNaN(+zt(o[0]).Margin)||(h["!margins"].header=+zt(o[0]).Margin);break;case"footer":h["!margins"]||gx(h["!margins"]={},"xlml"),isNaN(+zt(o[0]).Margin)||(h["!margins"].footer=+zt(o[0]).Margin);break;case"pagemargins":var it=zt(o[0]);h["!margins"]||gx(h["!margins"]={},"xlml"),isNaN(+it.Top)||(h["!margins"].top=+it.Top),isNaN(+it.Left)||(h["!margins"].left=+it.Left),isNaN(+it.Right)||(h["!margins"].right=+it.Right),isNaN(+it.Bottom)||(h["!margins"].bottom=+it.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ct=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ct=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ct=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ct=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ct=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ct=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ct=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ct=!1}break;case"smarttags":break;default:ct=!1;break}if(ct||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?z9e(P,de,N,n.slice(O,o.index)):(N=o,O=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var He={};return!t.bookSheets&&!t.bookProps&&(He.Sheets=c),He.SheetNames=f,He.Workbook=J,He.SSF=ua(Zt),He.Props=M,He.Custprops=P,He}function kN(r,e){switch(eB(e=e||{}),e.type||"base64"){case"base64":return PM(io(r),e);case"binary":case"buffer":case"file":return PM(r,e);case"array":return PM(Kv(r),e)}}function W9e(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=aBe(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=sBe(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var $9e=[60,1084,2066,2165,2175];function q9e(r,e,t,n,i){var a=n,s=[],o=t.slice(t.l,t.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),t.l+=a;for(var l=Vc(t,t.l),u=MN[l],c=0;u!=null&&$9e.indexOf(l)>-1;)a=Vc(t,t.l+2),c=t.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),o=t.slice(c,t.l+4+a),s.push(o),t.l+=4+a,u=MN[l=Vc(t,t.l)];var f=ph(s);na(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function du(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=Zt[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Jv[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=nw(r.v):r.w=Iv(r.v):r.w=Xo(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&r.t=="n"&&py(Zt[n]||String(n))){var i=Yp(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function UT(r,e,t){return{v:r,ixfe:e,t}}function Y9e(r,e){var t={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],u="",c={},f,h="",p,v,m,y,x={},w=[],b,T,C=[],D=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},I=function(kt){return kt<8?cv[kt]:kt<64&&D[kt-8]||cv[kt]},M=function(kt,Dr,hn){var Or=Dr.XF.data;if(!(!Or||!Or.patternType||!hn||!hn.cellStyles)){Dr.s={},Dr.s.patternType=Or.patternType;var ni;(ni=ow(I(Or.icvFore)))&&(Dr.s.fgColor={rgb:ni}),(ni=ow(I(Or.icvBack)))&&(Dr.s.bgColor={rgb:ni})}},P=function(kt,Dr,hn){if(!(Q>1)&&!(hn.sheetRows&&kt.r>=hn.sheetRows)){if(hn.cellStyles&&Dr.XF&&Dr.XF.data&&M(kt,Dr,hn),delete Dr.ixfe,delete Dr.XF,f=kt,h=$t(kt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),kt.r<s.s.r&&(s.s.r=kt.r),kt.c<s.s.c&&(s.s.c=kt.c),kt.r+1>s.e.r&&(s.e.r=kt.r+1),kt.c+1>s.e.c&&(s.e.c=kt.c+1),hn.cellFormula&&Dr.f){for(var Or=0;Or<w.length;++Or)if(!(w[Or][0].s.c>kt.c||w[Or][0].s.r>kt.r)&&!(w[Or][0].e.c<kt.c||w[Or][0].e.r<kt.r)){Dr.F=Er(w[Or][0]),(w[Or][0].s.c!=kt.c||w[Or][0].s.r!=kt.r)&&delete Dr.f,Dr.f&&(Dr.f=""+Aa(w[Or][1],s,kt,Z,O));break}}hn.dense?(i[kt.r]||(i[kt.r]=[]),i[kt.r][kt.c]=Dr):i[h]=Dr}},O={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(O.password=e.password);var N,G=[],j=[],U=[],X=[],ie=!1,Z=[];Z.SheetNames=O.snames,Z.sharedf=O.sharedf,Z.arrayf=O.arrayf,Z.names=[],Z.XTI=[];var W=0,Q=0,H=0,ee=[],J=[],se;O.codepage=1200,Dl(1200);for(var de=!1;r.l<r.length-1;){var Me=r.l,Se=r.read_shift(2);if(Se===0&&W===10)break;var xe=r.l===r.length?0:r.read_shift(2),Te=MN[Se];if(Te&&Te.f){if(e.bookSheets&&W===133&&Se!==133)break;if(W=Se,Te.r===2||Te.r==12){var Oe=r.read_shift(2);if(xe-=2,!O.enc&&Oe!==Se&&((Oe&255)<<8|Oe>>8)!==Se)throw new Error("rt mismatch: "+Oe+"!="+Se);Te.r==12&&(r.l+=10,xe-=10)}var ne={};if(Se===10?ne=Te.f(r,xe,O):ne=q9e(Se,Te,r,xe,O),Q==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(Se){case 34:t.opts.Date1904=A.WBProps.date1904=ne;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(O.enc||(r.l=0),O.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=ne;break;case 66:var pt=Number(ne);switch(pt){case 21010:pt=1200;break;case 32768:pt=1e4;break;case 32769:pt=1252;break}Dl(O.codepage=pt),de=!0;break;case 317:O.rrtabid=ne;break;case 25:O.winlocked=ne;break;case 439:t.opts.RefreshAll=ne;break;case 12:t.opts.CalcCount=ne;break;case 16:t.opts.CalcDelta=ne;break;case 17:t.opts.CalcIter=ne;break;case 13:t.opts.CalcMode=ne;break;case 14:t.opts.CalcPrecision=ne;break;case 95:t.opts.CalcSaveRecalc=ne;break;case 15:O.CalcRefMode=ne;break;case 2211:t.opts.FullCalc=ne;break;case 129:ne.fDialog&&(i["!type"]="dialog"),ne.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ne.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:C.push(ne);break;case 430:Z.push([ne]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(ne);break;case 24:case 536:se={Name:ne.Name,Ref:Aa(ne.rgce,s,null,Z,O)},ne.itab>0&&(se.Sheet=ne.itab-1),Z.names.push(se),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(J[ne.itab-1]={ref:Er(ne.rgce[0][0][1][2])});break;case 22:O.ExternCount=ne;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(ne),Z.XTI=Z.XTI.concat(ne);break;case 2196:if(O.biff<8)break;se!=null&&(se.Comment=ne[1]);break;case 18:i["!protect"]=ne;break;case 19:ne!==0&&O.WTF&&console.error("Password verifier: "+ne);break;case 133:a[ne.pos]=ne,O.snames.push(ne.name);break;case 10:{if(--Q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Er(s),e.sheetRows&&e.sheetRows<=s.e.r){var tt=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Er(s),s.e.r=tt}s.e.r++,s.e.c++}G.length>0&&(i["!merges"]=G),j.length>0&&(i["!objects"]=j),U.length>0&&(i["!cols"]=U),X.length>0&&(i["!rows"]=X),A.Sheets.push(k)}u===""?c=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),O.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(O.biff=5,de=!0,Dl(O.codepage=28591)),O.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(O.biff=2),Q++)break;if(i=e.dense?[]:{},O.biff<8&&!de&&(de=!0,Dl(O.codepage=e.codepage||1252)),O.biff<5||ne.BIFFVer==0&&ne.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ct={pos:r.l-xe,name:u};a[ct.pos]=ct,O.snames.push(u)}else u=(a[Me]||{name:""}).name;ne.dt==32&&(i["!type"]="chart"),ne.dt==64&&(i["!type"]="macro"),G=[],j=[],O.arrayf=w=[],U=[],X=[],ie=!1,k={Hidden:(a[Me]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ne.r]||[])[ne.c]:i[$t({c:ne.c,r:ne.r})])&&++ne.c,b={ixfe:ne.ixfe,XF:C[ne.ixfe]||{},v:ne.val,t:"n"},H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:ne.c,r:ne.r},b,e);break;case 5:case 517:b={ixfe:ne.ixfe,XF:C[ne.ixfe],v:ne.val,t:ne.t},H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:ne.c,r:ne.r},b,e);break;case 638:b={ixfe:ne.ixfe,XF:C[ne.ixfe],v:ne.rknum,t:"n"},H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:ne.c,r:ne.r},b,e);break;case 189:for(var it=ne.c;it<=ne.C;++it){var He=ne.rkrec[it-ne.c][0];b={ixfe:He,XF:C[He],v:ne.rkrec[it-ne.c][1],t:"n"},H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:it,r:ne.r},b,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){o=ne;break}if(b=UT(ne.val,ne.cell.ixfe,ne.tt),b.XF=C[b.ixfe],e.cellFormula){var xt=ne.formula;if(xt&&xt[0]&&xt[0][0]&&xt[0][0][0]=="PtgExp"){var gr=xt[0][0][1][0],Jr=xt[0][0][1][1],Ve=$t({r:gr,c:Jr});x[Ve]?b.f=""+Aa(ne.formula,s,ne.cell,Z,O):b.F=((e.dense?(i[gr]||[])[Jr]:i[Ve])||{}).F}else b.f=""+Aa(ne.formula,s,ne.cell,Z,O)}H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P(ne.cell,b,e),o=ne}break;case 7:case 519:if(o)o.val=ne,b=UT(ne,o.cell.ixfe,"s"),b.XF=C[b.ixfe],e.cellFormula&&(b.f=""+Aa(o.formula,s,o.cell,Z,O)),H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(ne);var At=$t(ne[0].s);if(p=e.dense?(i[ne[0].s.r]||[])[ne[0].s.c]:i[At],e.cellFormula&&p){if(!o||!At||!p)break;p.f=""+Aa(ne[1],s,ne[0],Z,O),p.F=Er(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;x[$t(o.cell)]=ne[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[$t(o.cell)],(p||{}).f=""+Aa(ne[0],s,f,Z,O)}}break;case 253:b=UT(l[ne.isst].t,ne.ixfe,"s"),l[ne.isst].h&&(b.h=l[ne.isst].h),b.XF=C[b.ixfe],H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:ne.c,r:ne.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:ne.ixfe,XF:C[ne.ixfe],t:"z"},H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:ne.c,r:ne.r},b,e));break;case 190:if(e.sheetStubs)for(var Nt=ne.c;Nt<=ne.C;++Nt){var Dt=ne.ixfe[Nt-ne.c];b={ixfe:Dt,XF:C[Dt],t:"z"},H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:Nt,r:ne.r},b,e)}break;case 214:case 516:case 4:b=UT(ne.val,ne.ixfe,"s"),b.XF=C[b.ixfe],H>0&&(b.z=ee[b.ixfe>>8&63]),du(b,e,t.opts.Date1904),P({c:ne.c,r:ne.r},b,e);break;case 0:case 512:Q===1&&(s=ne);break;case 252:l=ne;break;case 1054:if(O.biff==4){ee[H++]=ne[1];for(var _n=0;_n<H+163&&Zt[_n]!=ne[1];++_n);_n>=163&&uv(ne[1],H+163)}else uv(ne[1],ne[0]);break;case 30:{ee[H++]=ne;for(var Et=0;Et<H+163&&Zt[Et]!=ne;++Et);Et>=163&&uv(ne,H+163)}break;case 229:G=G.concat(ne);break;case 93:j[ne.cmo[0]]=O.lastobj=ne;break;case 438:O.lastobj.TxO=ne;break;case 127:O.lastobj.ImData=ne;break;case 440:for(y=ne[0].s.r;y<=ne[0].e.r;++y)for(m=ne[0].s.c;m<=ne[0].e.c;++m)p=e.dense?(i[y]||[])[m]:i[$t({c:m,r:y})],p&&(p.l=ne[1]);break;case 2048:for(y=ne[0].s.r;y<=ne[0].e.r;++y)for(m=ne[0].s.c;m<=ne[0].e.c;++m)p=e.dense?(i[y]||[])[m]:i[$t({c:m,r:y})],p&&p.l&&(p.l.Tooltip=ne[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;p=e.dense?(i[ne[0].r]||[])[ne[0].c]:i[$t(ne[0])];var mt=j[ne[2]];p||(e.dense?(i[ne[0].r]||(i[ne[0].r]=[]),p=i[ne[0].r][ne[0].c]={t:"z"}):p=i[$t(ne[0])]={t:"z"},s.e.r=Math.max(s.e.r,ne[0].r),s.s.r=Math.min(s.s.r,ne[0].r),s.e.c=Math.max(s.e.c,ne[0].c),s.s.c=Math.min(s.s.c,ne[0].c)),p.c||(p.c=[]),v={a:ne[1],t:mt.TxO.t},p.c.push(v)}break;case 2173:gze(C[ne.ixfe],ne.ext);break;case 125:{if(!O.cellStyles)break;for(;ne.e>=ne.s;)U[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},ie||(ie=!0,X5(ne.w/256)),zm(U[ne.e+1])}break;case 520:{var ir={};ne.level!=null&&(X[ne.r]=ir,ir.level=ne.level),ne.hidden&&(X[ne.r]=ir,ir.hidden=!0),ne.hpt&&(X[ne.r]=ir,ir.hpt=ne.hpt,ir.hpx=lw(ne.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||gx(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=ne;break;case 161:i["!margins"]||gx(i["!margins"]={}),i["!margins"].header=ne.header,i["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(A.Views[0].RTL=!0);break;case 146:D=ne;break;case 2198:N=ne;break;case 140:T=ne;break;case 442:u?k.CodeName=ne||k.name:A.WBProps.CodeName=ne||"ThisWorkbook";break}}else Te||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),r.l+=xe}return t.SheetNames=Ku(a).sort(function(yr,kt){return Number(yr)-Number(kt)}).map(function(yr){return a[yr].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&J.forEach(function(yr,kt){t.Sheets[t.SheetNames[kt]]["!autofilter"]=yr}),t.Strings=l,t.SSF=ua(Zt),O.enc&&(t.Encryption=O.enc),N&&(t.Themes=N),t.Metadata={},T!==void 0&&(t.Metadata.Country=T),Z.names.length>0&&(A.Names=Z.names),t.Workbook=A,t}var RW={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function X9e(r,e,t){var n=Ar.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=dW(n,hBe,RW.DSI);for(var a in i)e[a]=i[a]}catch(u){if(t.WTF)throw u}var s=Ar.find(r,"/!SummaryInformation");if(s&&s.size>0)try{var o=dW(s,dBe,RW.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(t.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(pse(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function Zse(r,e){e||(e={}),eB(e),Eae(),e.codepage&&M5(e.codepage);var t,n;if(r.FullPaths){if(Ar.find(r,"/encryption"))throw new Error("File is password-protected");t=Ar.find(r,"!CompObj"),n=Ar.find(r,"/Workbook")||Ar.find(r,"/Book")}else{switch(e.type){case"base64":r=Tl(io(r));break;case"binary":r=Tl(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}na(r,0),n={content:r}}var i,a;if(t&&W9e(t),e.bookProps&&!e.bookSheets)i={};else{var s=mr?"buffer":"array";if(n&&n.content)i=Y9e(n.content,e);else if((a=Ar.find(r,"PerfectOffice_MAIN"))&&a.content)i=px.to_workbook(a.content,(e.type=s,e));else if((a=Ar.find(r,"NativeContent_MAIN"))&&a.content)i=px.to_workbook(a.content,(e.type=s,e));else throw(a=Ar.find(r,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Ar.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Lze(r))}var o={};return r.FullPaths&&X9e(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var FE={0:{f:RUe},1:{f:LUe},2:{f:GUe},3:{f:BUe},4:{f:NUe},5:{f:HUe},6:{f:$Ue},7:{f:zUe},8:{f:ZUe},9:{f:KUe},10:{f:YUe},11:{f:XUe},12:{f:OUe},13:{f:jUe},14:{f:VUe},15:{f:FUe},16:{f:$se},17:{f:qUe},18:{f:UUe},19:{f:G5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:T9e},40:{},42:{},43:{f:Y6e},44:{f:q6e},45:{f:X6e},46:{f:Z6e},47:{f:K6e},48:{},49:{f:Q5e},50:{},51:{f:yze},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Ese},62:{f:WUe},63:{f:Sze},64:{f:s9e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:a9e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PUe},148:{f:kUe,p:16},151:{f:e9e},152:{},153:{f:b9e},154:{},155:{},156:{f:w9e},157:{},158:{},159:{T:1,f:d6e},160:{T:-1},161:{T:1,f:Qv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:QUe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mze},336:{T:-1},337:{f:_ze,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ase},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:t9e},427:{f:r9e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:i9e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:MUe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:JUe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:kze},633:{T:1},634:{T:-1},635:{T:1,f:Rze},636:{T:-1},637:{f:eBe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:h9e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:o9e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},MN={6:{f:kM},10:{f:Wf},12:{f:ci},13:{f:ci},14:{f:jn},15:{f:jn},16:{f:Da},17:{f:jn},18:{f:jn},19:{f:ci},20:{f:mW},21:{f:mW},23:{f:Ase},24:{f:_W},25:{f:jn},26:{},27:{},28:{f:DVe},29:{},34:{f:jn},35:{f:yW},38:{f:Da},39:{f:Da},40:{f:Da},41:{f:Da},42:{f:jn},43:{f:jn},47:{f:M6e},49:{f:uVe},51:{f:ci},60:{},61:{f:sVe},64:{f:jn},65:{f:lVe},66:{f:ci},77:{},80:{},81:{},82:{},85:{f:ci},89:{},90:{},91:{},92:{f:QBe},93:{f:RVe},94:{},95:{f:jn},96:{},97:{},99:{f:jn},125:{f:Ese},128:{f:_Ve},129:{f:JBe},130:{f:ci},131:{f:jn},132:{f:jn},133:{f:eVe},134:{},140:{f:NVe},141:{f:ci},144:{},146:{f:BVe},151:{},152:{},153:{},154:{},155:{},156:{f:ci},157:{},158:{},160:{f:GVe},161:{f:zVe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:vVe},190:{f:gVe},193:{f:Wf},197:{},198:{},199:{},200:{},201:{},202:{f:jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ci},220:{},221:{f:jn},222:{},224:{f:yVe},225:{f:ZBe},226:{f:Wf},227:{},229:{f:IVe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:tVe},253:{f:cVe},255:{f:rVe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:_se},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:jn},353:{f:Wf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:wVe},431:{f:jn},432:{},433:{},434:{},437:{},438:{f:PVe},439:{f:jn},440:{f:LVe},441:{},442:{f:yb},443:{},444:{f:ci},445:{},446:{},448:{f:Wf},449:{f:aVe,r:2},450:{f:Wf},512:{f:vW},513:{f:HVe},515:{f:xVe},516:{f:fVe},517:{f:gW},519:{f:jVe},520:{f:nVe},523:{},545:{f:xW},549:{f:pW},566:{},574:{f:oVe},638:{f:pVe},659:{},1048:{},1054:{f:hVe},1084:{},1212:{f:AVe},2048:{f:OVe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:BT},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:VVe,r:12},2173:{f:vze,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:TVe,r:12},2197:{},2198:{f:uze,r:12},2199:{},2200:{},2201:{},2202:{f:EVe,r:12},2203:{f:Wf},2204:{},2205:{},2206:{},2207:{},2211:{f:iVe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ci},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:UVe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:FVe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:vW},1:{},2:{f:YVe},3:{f:qVe},4:{f:$Ve},5:{f:gW},7:{f:XVe},8:{},9:{f:BT},11:{},22:{f:ci},30:{f:dVe},31:{},32:{},33:{f:xW},36:{},37:{f:pW},50:{f:KVe},62:{},52:{},67:{},68:{f:ci},69:{},86:{},126:{},127:{f:WVe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ZVe},223:{},234:{},354:{},421:{},518:{f:kM},521:{f:BT},536:{f:_W},547:{f:yW},561:{},579:{},1030:{f:kM},1033:{f:BT},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function pl(r,e,t,n){var i=e;if(!isNaN(i)){var a=(t||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&sse(t)&&r.push(t)}}function kW(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=r.match(/<\/table/i),s=i.index,o=a&&a.index||r.length,l=x5e(r.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(s=0;s<l.length;++s){var m=l[s].trim(),y=m.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}c=0;continue}if(!(y!="<td"&&y!="<th")){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var w=x[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,T=0;b.charAt(0)=="<"&&(T=b.indexOf(">"))>-1;)b=b.slice(T+1);for(var C=0;C<v.length;++C){var D=v[C];D.s.c==c&&D.s.r<u&&u<=D.e.r&&(c=D.e.c+1,C=-1)}var A=zt(w.slice(0,w.indexOf(">")));h=A.colspan?+A.colspan:1,((f=+A.rowspan)>1||h>1)&&v.push({s:{r:u,c},e:{r:u+(f||1)-1,c:c+h-1}});var k=A.t||A["data-t"]||"";if(!b.length){c+=h;continue}if(b=qae(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>c&&(p.s.c=c),p.e.c<c&&(p.e.c=c),!b.length){c+=h;continue}var I={t:"s",v:b};t.raw||!b.trim().length||k=="s"||(b==="TRUE"?I={t:"b",v:!0}:b==="FALSE"?I={t:"b",v:!1}:isNaN(Ll(b))?isNaN(Vm(b).getDate())||(I={t:"d",v:ji(b)},t.cellDates||(I={t:"n",v:fs(I.v)}),I.z=t.dateNF||Zt[14]):I={t:"n",v:Ll(b)}),t.dense?(n[u]||(n[u]=[]),n[u][c]=I):n[$t({r:u,c})]=I,c+=h}}}}return n["!ref"]=Er(p),v.length&&(n["!merges"]=v),n}function K9e(r,e,t,n){for(var i=r["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>s)&&!(i[u].e.r<t||i[u].e.c<s)){if(i[u].s.r<t||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=$t({r:t,c:s}),f=n.dense?(r[t]||[])[s]:r[c],h=f&&f.v!=null&&(f.h||B5(f.w||(sf(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+c,a.push(N5e("td",h,p))}}var v="<tr>";return v+a.join("")+"</tr>"}var Z9e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Q9e="</body></html>";function J9e(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return vd(kW(t[0],e),e);var n=rB();return t.forEach(function(i,a){nB(n,kW(i,e),"Sheet"+(a+1))}),n}function e7e(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function t7e(r,e){var t=e||{},n=t.header!=null?t.header:Z9e,i=t.footer!=null?t.footer:Q9e,a=[n],s=vy(r["!ref"]);t.dense=Array.isArray(r),a.push(e7e(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(K9e(r,s,o,t));return a.push("</table>"+i),a.join("")}function Qse(r,e,t){var n=t||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?as(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(r["!ref"]){var c=vy(r["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],h=0,p=r["!rows"]||(r["!rows"]=[]),v=0,m=0,y=0,x=0,w=0,b=0;for(r["!cols"]||(r["!cols"]=[]);v<o.length&&m<l;++v){var T=o[v];if(MW(T)){if(n.display)continue;p[m]={hidden:!0}}var C=T.children;for(y=x=0;y<C.length;++y){var D=C[y];if(!(n.display&&MW(D))){var A=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):qae(D.innerHTML),k=D.getAttribute("data-z")||D.getAttribute("z");for(h=0;h<f.length;++h){var I=f[h];I.s.c==x+a&&I.s.r<m+i&&m+i<=I.e.r&&(x=I.e.c+1-a,h=-1)}b=+D.getAttribute("colspan")||1,((w=+D.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+i,c:x+a},e:{r:m+i+(w||1)-1,c:x+a+(b||1)-1}});var M={t:"s",v:A},P=D.getAttribute("data-t")||D.getAttribute("t")||"";A!=null&&(A.length==0?M.t=P||"z":n.raw||A.trim().length==0||P=="s"||(A==="TRUE"?M={t:"b",v:!0}:A==="FALSE"?M={t:"b",v:!1}:isNaN(Ll(A))?isNaN(Vm(A).getDate())||(M={t:"d",v:ji(A)},n.cellDates||(M={t:"n",v:fs(M.v)}),M.z=n.dateNF||Zt[14]):M={t:"n",v:Ll(A)})),M.z===void 0&&k!=null&&(M.z=k);var O="",N=D.getElementsByTagName("A");if(N&&N.length)for(var G=0;G<N.length&&!(N[G].hasAttribute("href")&&(O=N[G].getAttribute("href"),O.charAt(0)!="#"));++G);O&&O.charAt(0)!="#"&&(M.l={Target:O}),n.dense?(r[m+i]||(r[m+i]=[]),r[m+i][x+a]=M):r[$t({c:x+a,r:m+i})]=M,u.e.c<x+a&&(u.e.c=x+a),x+=b}}++m}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+i),r["!ref"]=Er(u),m>=l&&(r["!fullref"]=Er((u.e.r=o.length-v+m-1+i,u))),r}function Jse(r,e){var t=e||{},n=t.dense?[]:{};return Qse(n,r,e)}function r7e(r,e){return vd(Jse(r,e),e)}function MW(r){var e="",t=n7e(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function n7e(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function i7e(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Ir(e.replace(/<[^>]*>/g,""));return[t]}var PW={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function eoe(r,e){var t=e||{},n=V5(r),i=[],a,s,o={name:""},l="",u=0,c,f,h={},p=[],v=t.dense?[]:{},m,y,x={value:""},w="",b=0,T=[],C=-1,D=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,I={},M=[],P={},O=0,N=0,G=[],j=1,U=1,X=[],ie={Names:[]},Z={},W=["",""],Q=[],H={},ee="",J=0,se=!1,de=!1,Me=0;for(aw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=aw.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?v["!ref"]=Er(A):v["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=A.e.r&&(v["!fullref"]=v["!ref"],A.e.r=t.sheetRows-1,v["!ref"]=Er(A)),M.length&&(v["!merges"]=M),G.length&&(v["!rows"]=G),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),p.push(c.name),h[c.name]=v,de=!1):m[0].charAt(m[0].length-2)!=="/"&&(c=zt(m[0],!1),C=D=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,v=t.dense?[]:{},M=[],G=[],de=!0);break;case"table-row-group":m[1]==="/"?--k:++k;break;case"table-row":case"":if(m[1]==="/"){C+=j,j=1;break}if(f=zt(m[0],!1),f.?C=f.-1:C==-1&&(C=0),j=+f["number-rows-repeated"]||1,j<10)for(Me=0;Me<j;++Me)k>0&&(G[C+Me]={level:k});D=-1;break;case"covered-table-cell":m[1]!=="/"&&++D,t.sheetStubs&&(t.dense?(v[C]||(v[C]=[]),v[C][D]={t:"z"}):v[$t({r:C,c:D})]={t:"z"}),w="",T=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++D,x=zt(m[0],!1),U=parseInt(x["number-columns-repeated"]||"1",10),y={t:"z",v:null},x.formula&&t.cellFormula!=!1&&(y.f=CW(Ir(x.formula))),(x.||x["value-type"])=="string"&&(y.t="s",y.v=Ir(x["string-value"]||""),t.dense?(v[C]||(v[C]=[]),v[C][D]=y):v[$t({r:C,c:D})]=y),D+=U-1;else if(m[1]!=="/"){++D,w="",b=0,T=[],U=1;var Se=j?C+j-1:C;if(D>A.e.c&&(A.e.c=D),D<A.s.c&&(A.s.c=D),C<A.s.r&&(A.s.r=C),Se>A.e.r&&(A.e.r=Se),x=zt(m[0],!1),Q=[],H={},y={t:x.||x["value-type"],v:null},t.cellFormula)if(x.formula&&(x.formula=Ir(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(O=parseInt(x["number-matrix-rows-spanned"],10)||0,N=parseInt(x["number-matrix-columns-spanned"],10)||0,P={s:{r:C,c:D},e:{r:C+O-1,c:D+N-1}},y.F=Er(P),X.push([P,y.F])),x.formula)y.f=CW(x.formula);else for(Me=0;Me<X.length;++Me)C>=X[Me][0].s.r&&C<=X[Me][0].e.r&&D>=X[Me][0].s.c&&D<=X[Me][0].e.c&&(y.F=X[Me][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(O=parseInt(x["number-rows-spanned"],10)||0,N=parseInt(x["number-columns-spanned"],10)||0,P={s:{r:C,c:D},e:{r:C+O-1,c:D+N-1}},M.push(P)),x["number-columns-repeated"]&&(U=parseInt(x["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=gn(x["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(x.value);break;case"percentage":y.t="n",y.v=parseFloat(x.value);break;case"currency":y.t="n",y.v=parseFloat(x.value);break;case"date":y.t="d",y.v=ji(x["date-value"]),t.cellDates||(y.t="n",y.v=fs(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=m5e(x["time-value"])/86400,t.cellDates&&(y.t="d",y.v=ED(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(x.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",x["string-value"]!=null&&(w=Ir(x["string-value"]),T=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(se=!1,y.t==="s"&&(y.v=w||"",T.length&&(y.R=T),se=b==0),Z.Target&&(y.l=Z),Q.length>0&&(y.c=Q,Q=[]),w&&t.cellText!==!1&&(y.w=w),se&&(y.t="z",delete y.v),(!se||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=C))for(var xe=0;xe<j;++xe){if(U=parseInt(x["number-columns-repeated"]||"1",10),t.dense)for(v[C+xe]||(v[C+xe]=[]),v[C+xe][D]=xe==0?y:ua(y);--U>0;)v[C+xe][D+U]=ua(y);else for(v[$t({r:C+xe,c:D})]=y;--U>0;)v[$t({r:C+xe,c:D+U})]=ua(y);A.e.c<=D&&(A.e.c=D)}U=parseInt(x["number-columns-repeated"]||"1",10),D+=U-1,U=0,y={},w="",T=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a;H.t=w,T.length&&(H.R=T),H.a=ee,Q.push(H)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);ee="",J=0,w="",b=0,T=[];break;case"creator":m[1]==="/"?ee=n.slice(J,m.index):J=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);w="",b=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(I[o.name]=l,(a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=zt(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=zt(m[0],!1),l+=PW[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=zt(m[0],!1),l+=PW[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":s=zt(m[0],!1),W=MM(s["cell-range-address"]);var Te={Name:s.name,Ref:W[0]+"!"+W[1]};de&&(Te.Sheet=p.length),ie.Names.push(Te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!x||!x["string-value"])){var Oe=i7e(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+Oe[0]}else zt(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{W=MM(zt(m[0])["target-range-address"]),h[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(Z=zt(m[0],!1),!Z.href)break;Z.Target=Ir(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(W=MM(Z.Target.slice(1)),Z.Target="#"+W[0]+"!"+W[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(m)}}var ne={Sheets:h,SheetNames:p,Workbook:ie};return t.bookSheets&&delete ne.Sheets,ne}function LW(r,e){e=e||{},Mo(r,"META-INF/manifest.xml")&&xBe(ui(r,"META-INF/manifest.xml"),e);var t=Ys(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=eoe(ln(t),e);return Mo(r,"meta.xml")&&(n.Props=dse(ui(r,"meta.xml"))),n}function OW(r,e){return eoe(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Q5(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function PN(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):ln(Kv(r))}function LN(r){var e=r.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function NW(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function a7e(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function uw(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ri(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ra(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=uw(r,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=uw(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function J5(r,e){return r?.map(function(t){return e(t.data)})||[]}function s7e(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=uw(r,n),a=Ra(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:Ri(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Ra(o.data),u=Ri(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=Ri(a[3][0].data)>>>0>0),t.push(s)}return t}function o7e(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=uw(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,a==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[LN(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=LN(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function l7e(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(o7e(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return LN(e)}function u7e(r,e,t,n){var i=Q5(r),a=i.getUint32(4,!0),s=(n>1?12:8)+NW(a&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,c=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=NW(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(c.setTime(c.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(r[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:t[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return f}function c7e(r,e,t){var n=Q5(r),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=a7e(r,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(r[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return f}function f7e(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return u7e(r,e,t,r[0]);case 5:return c7e(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Lh(r){var e=Ra(r);return uw(e[1][0].data)}function FW(r,e){var t=Ra(e.data),n=Ri(t[1][0].data),i=t[3],a=[];return(i||[]).forEach(function(s){var o=Ra(s.data),l=Ri(o[1][0].data)>>>0;switch(n){case 1:a[l]=PN(o[3][0].data);break;case 8:{var u=r[Lh(o[9][0].data)][0],c=Ra(u.data),f=r[Lh(c[1][0].data)][0],h=Ri(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Ra(f.data);a[l]=p[3].map(function(v){return PN(v.data)}).join("")}break}}),a}function h7e(r,e){var t,n,i,a,s,o,l,u,c,f,h,p,v,m,y=Ra(r),x=Ri(y[1][0].data)>>>0,w=Ri(y[2][0].data)>>>0,b=((n=(t=y[8])==null?void 0:t[0])==null?void 0:n.data)&&Ri(y[8][0].data)>0||!1,T,C;if((a=(i=y[7])==null?void 0:i[0])!=null&&a.data&&e!=0)T=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,C=(u=(l=y[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(c=y[4])==null?void 0:c[0])!=null&&f.data&&e!=1)T=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,C=(m=(v=y[3])==null?void 0:v[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var D=b?4:1,A=Q5(T),k=[],I=0;I<T.length/2;++I){var M=A.getUint16(I*2,!0);M<65535&&k.push([I,M])}if(k.length!=w)throw"Expected ".concat(w," cells, found ").concat(k.length);var P=[];for(I=0;I<k.length-1;++I)P[k[I][0]]=C.subarray(k[I][1]*D,k[I+1][1]*D);return k.length>=1&&(P[k[k.length-1][0]]=C.subarray(k[k.length-1][1]*D)),{R:x,cells:P}}function d7e(r,e){var t,n=Ra(e.data),i=(t=n?.[7])!=null&&t[0]?Ri(n[7][0].data)>>>0>0?1:0:-1,a=J5(n[5],function(s){return h7e(s,i)});return{nrows:Ri(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=l}),s},[])}}function p7e(r,e,t){var n,i=Ra(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Ri(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Ri(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Er(a);var s=Ra(i[4][0].data),o=FW(r,r[Lh(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?FW(r,r[Lh(s[17][0].data)][0]):[],u=Ra(s[3][0].data),c=0;u[1].forEach(function(f){var h=Ra(f.data),p=r[Lh(h[2][0].data)][0],v=Ri(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var m=d7e(r,p);m.data.forEach(function(y,x){y.forEach(function(w,b){var T=$t({r:c+x,c:b}),C=f7e(w,o,l);C&&(t[T]=C)})}),c+=m.nrows})}function v7e(r,e){var t=Ra(e.data),n={"!ref":"A1"},i=r[Lh(t[2][0].data)],a=Ri(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return p7e(r,i[0],n),n}function g7e(r,e){var t,n=Ra(e.data),i={name:(t=n[1])!=null&&t[0]?PN(n[1][0].data):"",sheets:[]},a=J5(n[2],Lh);return a.forEach(function(s){r[s].forEach(function(o){var l=Ri(o.meta[1][0].data);l==6e3&&i.sheets.push(v7e(r,o))})}),i}function m7e(r,e){var t=rB(),n=Ra(e.data),i=J5(n[1],Lh);if(i.forEach(function(a){r[a].forEach(function(s){var o=Ri(s.meta[1][0].data);if(o==2){var l=g7e(r,s);l.sheets.forEach(function(u,c){nB(t,u,c==0?l.name:l.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function LM(r){var e,t,n,i,a={},s=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=l7e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var c;try{c=s7e(u)}catch(f){return console.log("## "+(f.message||f))}c.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=a?.[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ri(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(u){var c=Ri(u.meta[1][0].data)>>>0;if(c==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return m7e(a,o)}function y7e(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function eB(r){y7e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function _7e(r){return j0.WS.indexOf(r)>-1?"sheet":r==j0.CS?"chart":r==j0.DS?"dialog":r==j0.MS?"macro":r&&r.length?r:"sheet"}function x7e(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,_7e(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function w7e(r,e,t,n,i,a,s,o,l,u,c,f){try{a[n]=hx(Ys(r,t,!0),e);var h=ui(r,e),p;switch(o){case"sheet":p=C9e(h,e,i,l,a[n],u,c,f);break;case"chart":if(p=D9e(h,e,i,l,a[n],u,c,f),!p||!p["!drawel"])break;var v=O_(p["!drawel"].Target,e),m=DN(v),y=Eze(Ys(r,v,!0),hx(Ys(r,m,!0),v)),x=O_(y,v),w=DN(x);p=c9e(Ys(r,x,!0),x,l,hx(Ys(r,w,!0),x),u,p);break;case"macro":p=I9e(h,e,i,l,a[n],u,c,f);break;case"dialog":p=R9e(h,e,i,l,a[n],u,c,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];a&&a[n]&&Ku(a[n]).forEach(function(T){var C="";if(a[n][T].Type==j0.CMNT){C=O_(a[n][T].Target,e);var D=L9e(ui(r,C,!0),C,l);if(!D||!D.length)return;bW(p,D,!1)}a[n][T].Type==j0.TCMNT&&(C=O_(a[n][T].Target,e),b=b.concat(Dze(ui(r,C,!0),l)))}),b&&b.length&&bW(p,b,!0,l.people||[])}catch(T){if(l.WTF)throw T}}function So(r){return r.charAt(0)=="/"?r.slice(1):r}function b7e(r,e){if(Bae(),e=e||{},eB(e),Mo(r,"META-INF/manifest.xml")||Mo(r,"objectdata.xml"))return LW(r,e);if(Mo(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof LM<"u"){if(r.FileIndex)return LM(r);var t=Ar.utils.cfb_new();return Xj(r).forEach(function(G){S5e(t,G,b5e(r,G))}),LM(t)}throw new Error("Unsupported NUMBERS file")}if(!Mo(r,"[Content_Types].xml"))throw Mo(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Mo(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Xj(r),i=yBe(Ys(r,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ui(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ui(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(vx=[],i.sst)try{vx=P9e(ui(r,So(i.sst)),i.sst,e)}catch(G){if(e.WTF)throw G}e.cellStyles&&i.themes.length&&(l=M9e(Ys(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=k9e(ui(r,So(i.style)),i.style,l,e))}i.links.map(function(G){try{var j=hx(Ys(r,DN(So(G))),G);return N9e(ui(r,So(G)),j,G,e)}catch{}});var c=E9e(ui(r,So(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=ui(r,So(i.coreprops[0]),!0),h&&(f=dse(h)),i.extprops.length!==0&&(h=ui(r,So(i.extprops[0]),!0),h&&SBe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Ys(r,So(i.custprops[0]),!0),h&&(p=ABe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(c.Sheets?s=c.Sheets.map(function(j){return j.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof s<"u"&&(v.SheetNames=s),e.bookSheets?v.SheetNames:e.bookProps))return v;s={};var m={};e.bookDeps&&i.calcchain&&(m=O9e(ui(r,So(i.calcchain)),i.calcchain));var y=0,x={},w,b;{var T=c.Sheets;f.Worksheets=T.length,f.SheetNames=[];for(var C=0;C!=T.length;++C)f.SheetNames[C]=T[C].name}var D=a?"bin":"xml",A=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,A+1)+"_rels/"+i.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");Mo(r,k)||(k="xl/_rels/workbook."+D+".rels");var I=hx(Ys(r,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=F9e(ui(r,So(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Ize(ui(r,So(i.people[0])),e)),I&&(I=x7e(I,c.Sheets));var M=ui(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(I&&I[y]?(w="xl/"+I[y][1].replace(/[\/]?xl\//,""),Mo(r,w)||(w=I[y][1]),Mo(r,w)||(w=k.replace(/_rels\/.*$/,"")+I[y][1]),P=I[y][2]):(w="xl/worksheets/sheet"+(y+1-M)+"."+D,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var O=!1,N=0;N!=e.sheets.length;++N)typeof e.sheets[N]=="number"&&e.sheets[N]==y&&(O=1),typeof e.sheets[N]=="string"&&e.sheets[N].toLowerCase()==f.SheetNames[y].toLowerCase()&&(O=1);if(!O)continue e}}w7e(r,w,b,f.SheetNames[y],y,x,s,P,e,c,l,u)}return v={Directory:i,Workbook:c,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:vx,Styles:u,Themes:l,SSF:ua(Zt)},e&&e.bookFiles&&(r.files?(v.keys=n,v.files=r.files):(v.keys=[],v.files={},r.FullPaths.forEach(function(G,j){G=G.replace(/^Root Entry[\/]/,""),v.keys.push(G),v.files[G]=r.FileIndex[j]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=ui(r,So(i.vba[0]),!0):i.defaults&&i.defaults.bin===Pze&&(v.vbaraw=ui(r,"xl/vbaProject.bin",!0))),v}function S7e(r,e){var t=e||{},n="Workbook",i=Ar.find(r,n);try{if(n="/!DataSpaces/Version",i=Ar.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(v6e(i.content),n="/!DataSpaces/DataSpaceMap",i=Ar.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=m6e(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ar.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=y6e(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ar.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);x6e(i.content)}catch{}if(n="/EncryptionInfo",i=Ar.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=w6e(i.content);if(n="/EncryptedPackage",i=Ar.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function tB(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=io(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function T7e(r,e){return Ar.find(r,"EncryptedPackage")?S7e(r,e):Zse(r,e)}function A7e(r,e){var t,n=r,i=e||{};return i.type||(i.type=mr&&Buffer.isBuffer(r)?"buffer":"base64"),t=jae(n,i),b7e(t,i)}function toe(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return kN(r.slice(t),e);default:break e}return sw.to_workbook(r,e)}function E7e(r,e){var t="",n=tB(r,e);switch(e.type){case"base64":t=io(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=Rv(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=ln(t)),e.type="binary",toe(t,e)}function C7e(r,e){var t=r;return e.type=="base64"&&(t=io(t)),t=rw.utils.decode(1200,t.slice(2),"str"),e.type="binary",toe(t,e)}function D7e(r){return r.match(/[^\x00-\x7F]/)?N_(r):r}function OM(r,e,t,n){return n?(t.type="string",sw.to_workbook(r,t)):sw.to_workbook(e,t)}function BE(r,e){Eae();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return BE(new Uint8Array(r),(t=ua(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),fm={},t.dateNF&&(fm.dateNF=t.dateNF),t.type||(t.type=mr&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=mr?"buffer":"binary",n=v5e(r),typeof Uint8Array<"u"&&!mr&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,n=D7e(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=ua(t),t.type="array",BE(P5(n),t)}switch((i=tB(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return T7e(Ar.read(n,t),t);break;case 9:if(i[1]<=8)return Zse(n,t);break;case 60:return kN(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return r6e(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return e6e.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?A7e(n,t):OM(r,n,t,a);case 239:return i[3]===60?kN(n,t):OM(r,n,t,a);case 255:if(i[1]===254)return C7e(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return px.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return px.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return wW.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return P6e.to_workbook(n,t);break;case 10:case 13:case 32:return E7e(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return QVe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?wW.to_workbook(n,t):OM(r,n,t,a)}function I7e(r,e,t,n,i,a,s,o){var l=ca(t),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!s||r[t])for(var p=e.s.c;p<=e.e.c;++p){var v=s?r[t][p]:r[n[p]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;a[p]!=null&&(h[a[p]]=u);continue}var m=v.v;switch(v.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[p]!=null){if(m==null)if(v.t=="e"&&m===null)h[a[p]]=null;else if(u!==void 0)h[a[p]]=u;else if(c&&m===null)h[a[p]]=null;else continue;else h[a[p]]=c&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?m:sf(v,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function ON(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Bn(c);break;case"number":l=Bn(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var f=ca(l.s.r),h=[],p=[],v=0,m=0,y=Array.isArray(r),x=l.s.r,w=0,b={};y&&!r[x]&&(r[x]=[]);var T=u.skipHidden&&r["!cols"]||[],C=u.skipHidden&&r["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(T[w]||{}).hidden)switch(h[w]=Ei(w),t=y?r[x][w]:r[h[w]+f],n){case 1:a[w]=w-l.s.c;break;case 2:a[w]=h[w];break;case 3:a[w]=u.header[w-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=sf(t,null,u),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}a[w]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(C[x]||{}).hidden){var D=I7e(r,l,x,h,n,a,y,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[v++]=D.row)}return p.length=v,p}var BW=/"/g;function R7e(r,e,t,n,i,a,s,o){for(var l=!0,u=[],c="",f=ca(t),h=e.s.c;h<=e.e.c;++h)if(n[h]){var p=o.dense?(r[t]||[])[h]:r[n[h]+f];if(p==null)c="";else if(p.v!=null){l=!1,c=""+(o.rawNumbers&&p.t=="n"?p.v:sf(p,null,o));for(var v=0,m=0;v!==c.length;++v)if((m=c.charCodeAt(v))===i||m===a||m===34||o.forceQuotes){c='"'+c.replace(BW,'""')+'"';break}c=="ID"&&(c='"ID"')}else p.f!=null&&!p.F?(l=!1,c="="+p.f,c.indexOf(",")>=0&&(c='"'+c.replace(BW,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function roe(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Bn(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",f=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],p=n.skipHidden&&r["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Ei(v));for(var m=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(c=R7e(r,i,y,f,s,l,a,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&t.push((m++?o:"")+c)));return delete n.dense,t.join("")}function k7e(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=roe(r,e);return t}function M7e(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Bn(r["!ref"]),a="",s=[],o,l=[],u=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)s[o]=Ei(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=ca(c),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=u?(r[c]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function noe(r,e,t){var n=t||{},i=+!n.skipHeader,a=r||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?as(n.origin):n.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=Bn(a["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(s=f.e.r+1,c.e.r=s+e.length-1+i)}else s==-1&&(s=0,c.e.r=e.length-1+i);var h=n.header||[],p=0;e.forEach(function(m,y){Ku(m).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var w=m[x],b="z",T="",C=$t({c:o+p,r:s+y+i});u=cw(a,C),w&&typeof w=="object"&&!(w instanceof Date)?a[C]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=fs(w)),T=n.dateNF||Zt[14]):w===null&&n.nullError&&(b="e",w=0),u?(u.t=b,u.v=w,delete u.w,delete u.R,T&&(u.z=T)):a[C]=u={t:b,v:w},T&&(u.z=T))})}),c.e.c=Math.max(c.e.c,o+h.length-1);var v=ca(s);if(i)for(p=0;p<h.length;++p)a[Ei(p+o)+v]={t:"s",v:h[p]};return a["!ref"]=Er(c),a}function P7e(r,e){return noe(null,r,e)}function cw(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=as(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?cw(r,$t(e)):cw(r,$t({r:e,c:t||0}))}function L7e(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function rB(){return{SheetNames:[],Sheets:{}}}function nB(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=s+i)!=-1;++i);}if(y9e(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function O7e(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=L7e(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function N7e(r,e){return r.z=e,r}function ioe(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function F7e(r,e,t){return ioe(r,"#"+e,t)}function B7e(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function V7e(r,e,t,n){for(var i=typeof e!="string"?e:Bn(e),a=typeof e=="string"?e:Er(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=cw(r,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=t,n&&(l.D=!0))}return r}var aoe={encode_col:Ei,encode_row:ca,encode_cell:$t,encode_range:Er,decode_col:H5,decode_row:U5,split_cell:Z5e,decode_cell:as,decode_range:vy,format_cell:sf,sheet_add_aoa:lse,sheet_add_json:noe,sheet_add_dom:Qse,aoa_to_sheet:gy,json_to_sheet:P7e,table_to_sheet:Jse,table_to_book:r7e,sheet_to_csv:roe,sheet_to_txt:k7e,sheet_to_json:ON,sheet_to_html:t7e,sheet_to_formulae:M7e,sheet_to_row_object_array:ON,sheet_get_cell:cw,book_new:rB,book_append_sheet:nB,book_set_sheet_visibility:O7e,cell_set_number_format:N7e,cell_set_hyperlink:ioe,cell_set_internal_link:F7e,cell_add_comment:B7e,sheet_set_array_formula:V7e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function z7e(){const[r,e]=ce.useState([]),[t,n]=ce.useState(!1),i=l=>{const u=l.target.files[0];if(!u)return;const c=new FileReader;c.onload=f=>{const h=new Uint8Array(f.target.result),p=BE(h,{type:"array"}),v=p.Sheets[p.SheetNames[0]],m=aoe.sheet_to_json(v);e(m)},c.readAsArrayBuffer(u)},a=async()=>{if(r.length===0)return alert("No hay datos cargados");n(!0);try{for(const l of r){const u=l.DEPARTAMENTO?.trim(),c=l.CIRCUNSPCION?.trim(),f=l.PROVINCIA?.trim(),h=l.MUNICIPIO?.trim(),p=l.RECINTO?.trim(),v=l.NumeroMesa?.toString().trim();if(!u||!c||!f||!h||!p||!v)continue;let m=await s("departamentos","nombre",u);m||(m=await o("departamentos",{nombre:u,estado:"ejemplo"}));let y=await s("circunscripciones","nombre",c,"idDepartamento",m);y||(y=await o("circunscripciones",{nombre:c,idDepartamento:m,estado:"ejemplo"}));let x=await s("provincias","nombre",f,"idCircunscripcion",y);x||(x=await o("provincias",{nombre:f,idCircunscripcion:y,estado:"ejemplo"}));let w=await s("municipios","nombre",h,"idProvincia",x);w||(w=await o("municipios",{nombre:h,idProvincia:x,estado:"ejemplo"}));let b=await s("recintos","nombre",p,"idMunicipio",w);b||(b=await o("recintos",{nombre:p,idMunicipio:w,estado:"ejemplo"})),await s("mesas","numeroMesa",v,"idRecinto",b)||await o("mesas",{numeroMesa:v,idRecinto:b,estado:"ejemplo"})}alert("Datos de ejemplo subidos correctamente"),e([])}catch(l){console.error("Error al subir los datos:",l),alert("Ocurri un error al subir los datos")}finally{n(!1)}},s=async(l,u,c,f=null,h=null)=>{if(!c)return null;const p=f?qn(Fr(er,l),wn(u,"==",c),wn(f,"==",h)):qn(Fr(er,l),wn(u,"==",c)),v=await bn(p);return v.empty?null:v.docs[0].id},o=async(l,u)=>(await rb(Fr(er,l),u)).id;return q.jsxs("div",{style:{padding:"2rem"},children:[q.jsx("h2",{children:"Cargar datos jerrquicos desde Excel"}),q.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:i}),q.jsx("br",{}),q.jsx("br",{}),q.jsx("button",{onClick:a,disabled:t||r.length===0,children:"Subir a Firebase"}),t&&q.jsx(hD,{})]})}function U7e(){const[r,e]=ce.useState([]),[t,n]=ce.useState(!1),i=l=>{const u=l.target.files[0];if(!u)return;const c=new FileReader;c.onload=f=>{const h=new Uint8Array(f.target.result),p=BE(h,{type:"array"}),v=p.Sheets[p.SheetNames[0]],m=aoe.sheet_to_json(v);e(m)},c.readAsArrayBuffer(u)},a=async()=>{if(r.length===0)return alert("No hay datos cargados");n(!0);try{for(const l of r){const u=l.dep?.trim(),c=l.Departamento?.trim(),f=l.prov?.trim(),h=l.Provincia?.trim(),p=l.Municipio?.trim(),v=l.dist?.trim(),m=l.zon?.trim(),y=l.Cincun?.trim(),x=l.reci?.trim(),w=l.Recinto?.trim(),b=l["Numero de Mesa"]?.toString().trim(),T=l.mesa?.toString().trim(),C=l.Habilitados||0,D=l.Inhabilitados||0;if(!u||!c||!f||!h||!p||!w||!b)continue;let A=await s("departamentos","codigo",u);A||(A=await o("departamentos",{nombre:c,codigo:u,estado:"activo"}));let k=await s("provincias","codigo",f,"idDepartamento",A);k||(k=await o("provincias",{nombre:h,codigo:f,idDepartamento:A,estado:"activo"}));let I=await s("municipios","nombre",p,"idProvincia",k);I||(I=await o("municipios",{nombre:p,idProvincia:k,estado:"activo"}));let M=null;v&&(M=await s("distritos","codigo",v,"idMunicipio",I),M||(M=await o("distritos",{codigo:v,idMunicipio:I,estado:"activo"})));let P=null;m&&(P=await s("zonas","nombre",m,"idMunicipio",I),P||(P=await o("zonas",{nombre:m,idMunicipio:I,estado:"activo"})));let O=null;y&&(O=await s("circunscripciones","nombre",y,"idDepartamento",A),O||(O=await o("circunscripciones",{nombre:y,idDepartamento:A,estado:"activo"})));let N=await s("recintos","codigo",x,"idMunicipio",I);N||(N=await o("recintos",{nombre:w,codigo:x,idMunicipio:I,estado:"activo"})),await s("mesas","numeroMesa",b,"idRecinto",N)||await o("mesas",{numeroMesa:b,codigo:T||null,habilitados:Number(C),inhabilitados:Number(D),idRecinto:N,estado:"activo"})}alert("Datos cargados correctamente"),e([])}catch(l){console.error("Error al subir los datos:",l),alert("Ocurri un error al subir los datos")}finally{n(!1)}},s=async(l,u,c,f=null,h=null)=>{if(!c)return null;const p=f?qn(Fr(er,l),wn(u,"==",c),wn(f,"==",h)):qn(Fr(er,l),wn(u,"==",c)),v=await bn(p);return v.empty?null:v.docs[0].id},o=async(l,u)=>(await rb(Fr(er,l),u)).id;return q.jsxs("div",{style:{padding:"2rem"},children:[q.jsx("h2",{children:"Cargar datos jerrquicos desde Excel"}),q.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:i}),q.jsx("br",{}),q.jsx("br",{}),q.jsx("button",{onClick:a,disabled:t||r.length===0,children:"Subir a Firebase"}),t&&q.jsx(hD,{})]})}const H7e="_container_mdw6a_1",G7e="_uploads_mdw6a_25",j7e="_uploadBox_mdw6a_41",W7e="_uploadTitle_mdw6a_71",$7e="_uploadInput_mdw6a_91",q7e="_spinnerContainer_mdw6a_183",Y7e="_resultados_mdw6a_191",X7e="_buttons_mdw6a_217",Gs={container:H7e,uploads:G7e,uploadBox:j7e,uploadTitle:W7e,uploadInput:$7e,"btn-stress":"_btn-stress_mdw6a_125",spinnerContainer:q7e,resultados:Y7e,buttons:X7e};function K7e(){const[r,e]=ce.useState([]),[t,n]=ce.useState([]),[i,a]=ce.useState(!1),[s,o]=ce.useState(null),l=p=>{const v=Array.from(p.target.files).slice(0,3);e(v)},u=p=>{const v=Array.from(p.target.files).slice(0,3);n(v)},c=(p,v)=>({nroMesa:`M-${p+1}`,nombreRepresentante:`Persona ${p+1}`,partido:`Partido ${p%10}`,estado:v}),f=async(p,v,m)=>{const y=KA(ZA,`test_actas/${p.nroMesa}_${Date.now()}`);await YA(y,v);const x=await XA(y),w=KA(ZA,`test_hojas/${p.nroMesa}_${Date.now()}`);await YA(w,m);const b=await XA(w);await rb(Fr(er,"recepcion"),{...p,imagenActaUrl:x,imagenHojaTrabajoUrl:b,creadoEn:_F(),idUsuarioRecepcion:Cm.currentUser?.uid??"test-bot"})},h=async p=>{if(r.length<1||t.length<1){alert("Selecciona al menos una imagen para Acta y Hoja de Trabajo.");return}a(!0);const v=1e3,m=Date.now();let y=0,x=0;for(let T=0;T<v;T++){const C=c(T,p),D=r[T%r.length],A=t[T%t.length];try{await f(C,D,A),y++}catch(k){console.error(`Error en registro ${T+1}:`,k),x++}}const b=((Date.now()-m)/1e3).toFixed(2);o({exitosos:y,fallidos:x,duracion:b,estado:p}),a(!1)};return q.jsxs("div",{className:Gs.container,children:[q.jsx("h2",{children:"Prueba de Estrs: Carga Masiva"}),q.jsxs("div",{className:Gs.uploads,children:[q.jsxs("div",{className:Gs.uploadBox,children:[q.jsx("h4",{className:Gs.uploadTitle,children:"Imgenes de Acta"}),q.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:l,className:Gs.uploadInput})]}),q.jsxs("div",{className:Gs.uploadBox,children:[q.jsx("h4",{className:Gs.uploadTitle,children:"Imgenes de Hoja de Trabajo"}),q.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:u,className:Gs.uploadInput})]})]}),q.jsx("p",{children:"Selecciona 1 a 3 imgenes para Acta y Hoja de Trabajo (se reutilizan aleatoriamente)."}),q.jsxs("div",{className:Gs.buttons,children:[q.jsx("button",{className:Gs["btn-stress"],onClick:()=>h("pendiente"),disabled:i,children:'Cargar 1000 con estado "pendiente"'}),q.jsx("button",{className:Gs["btn-stress"],onClick:()=>h("aprobado"),disabled:i,children:'Cargar 1000 con estado "aprobado"'})]}),i&&q.jsxs("div",{className:Gs.spinnerContainer,children:[q.jsx(ISe,{color:"#007bff",size:60}),q.jsx("p",{children:"Cargando registros..."})]}),s&&q.jsxs("div",{className:Gs.resultados,children:[q.jsxs("h3",{children:['Resultados para estado: "',s.estado,'"']}),q.jsxs("p",{children:[" xitos: ",s.exitosos]}),q.jsxs("p",{children:[" Fallidos: ",s.fallidos]}),q.jsxs("p",{children:[" Tiempo total: ",s.duracion," segundos"]})]})]})}const Z7e="_container_1aehq_1",Q7e="_filtros_1aehq_33",J7e="_activeFiltro_1aehq_75",eHe="_boletasList_1aehq_85",tHe="_boletaCard_1aehq_97",rHe="_imagenActa_1aehq_121",nHe="_botones_1aehq_147",iHe="_aprobarBtn_1aehq_159",aHe="_rechazarBtn_1aehq_159",sHe="_votosTable_1aehq_227",oHe="_tituloCard_1aehq_291",lHe="_detalle_1aehq_321",uHe="_imagenesContainer_1aehq_335",cHe="_imagenHoja_1aehq_351",fHe="_zoomOverlay_1aehq_423",hHe="_zoomImagen_1aehq_447",dHe="_editBtn_1aehq_461",Qi={container:Z7e,filtros:Q7e,activeFiltro:J7e,boletasList:eHe,boletaCard:tHe,imagenActa:rHe,botones:nHe,aprobarBtn:iHe,rechazarBtn:aHe,votosTable:sHe,tituloCard:oHe,detalle:lHe,imagenesContainer:uHe,imagenHoja:cHe,zoomOverlay:fHe,zoomImagen:hHe,editBtn:dHe};function pHe(){const[r,e]=ce.useState([]),[t,n]=ce.useState(!0),[i,a]=ce.useState(null),[s,o]=ce.useState("pendiente"),[l,u]=ce.useState(null),[c,f]=ce.useState(null),[h,p]=ce.useState({}),[v,m]=ce.useState({}),[y,x]=ce.useState({}),[w,b]=ce.useState({}),[T,C]=ce.useState({});ce.useEffect(()=>{const I=async(P,O)=>{const N={};for(const G of O){if(!G)continue;const j=El(er,P,G),U=await Yx(j);U.exists()?N[G]=U.data().nombre||"Sin nombre":N[G]="No encontrado"}return N};(async()=>{n(!0);try{const P=qn(Fr(er,"recepcion"),wn("estado","==",s)),N=(await bn(P)).docs.map(J=>({id:J.id,...J.data()})),G=[...new Set(N.map(J=>J.departamento))],j=[...new Set(N.map(J=>J.circunscripcion))],U=[...new Set(N.map(J=>J.provincia))],X=[...new Set(N.map(J=>J.municipio))],ie=[...new Set(N.map(J=>J.recinto))],[Z,W,Q,H,ee]=await Promise.all([I("departamentos",G),I("circunscripciones",j),I("provincias",U),I("municipios",X),I("recintos",ie)]);p(Z),m(W),x(Q),b(H),C(ee),e(N)}catch(P){console.error("Error cargando boletas:",P),Xn.fire("Error","No se pudieron cargar las boletas.","error")}finally{n(!1)}})()},[s]);const D=async(I,M)=>{if((await Xn.fire({title:`Seguro que quieres marcar como ${M}?`,icon:"question",showCancelButton:!0,confirmButtonText:"S",cancelButtonText:"No"})).isConfirmed)try{a(I),await Ok(El(er,"recepcion",I),{estado:M}),e(O=>O.filter(N=>N.id!==I)),Xn.fire("Listo!",`Boleta ${M}`,"success")}catch(O){console.error("Error actualizando estado:",O),Xn.fire("Error","No se pudo actualizar la boleta.","error")}finally{a(null)}},A=async(I,M)=>{const{value:P}=await Xn.fire({title:`Editar ${M}`,input:"number",inputValue:I[M]||0,inputAttributes:{min:0,step:1},showCancelButton:!0,confirmButtonText:"Guardar"});if(P!==void 0)try{await Ok(El(er,"recepcion",I.id),{[M]:parseInt(P)}),e(O=>O.map(N=>N.id===I.id?{...N,[M]:parseInt(P)}:N)),Xn.fire("Actualizado",`${M} editado`,"success")}catch{Xn.fire("Error","No se pudo editar.","error")}},k=async(I,M,P)=>{const O=M==="presidente"?"votosPresidente":"votosDiputado",{value:N}=await Xn.fire({title:`Editar votos ${M} (${P})`,input:"number",inputValue:I[O]?.[P]||0,inputAttributes:{min:0},showCancelButton:!0});if(N!==void 0){const G={...I[O]||{},[P]:parseInt(N)};try{await Ok(El(er,"recepcion",I.id),{[O]:G}),e(j=>j.map(U=>U.id===I.id?{...U,[O]:G}:U))}catch{Xn.fire("Error","No se pudo editar el voto.","error")}}};return t?q.jsx(hD,{}):q.jsxs("div",{className:Qi.container,children:[q.jsxs("h2",{children:["Revisin de Boletas ",s.charAt(0).toUpperCase()+s.slice(1)]}),q.jsx("div",{className:Qi.filtros,children:["pendiente","aprobado","observado"].map(I=>q.jsx("button",{className:s===I?Qi.activeFiltro:"",onClick:()=>o(I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))}),r.length===0?q.jsxs("p",{children:["No hay boletas ",s," para mostrar."]}):q.jsx("div",{className:Qi.boletasList,children:r.map(I=>{const M=l===I.id;return q.jsxs("div",{className:Qi.boletaCard,children:[q.jsxs("div",{className:Qi.tituloCard,onClick:()=>u(M?null:I.id),children:[q.jsxs("strong",{children:["Mesa ",I.nroMesa]}),"  ",T[I.recinto]||"Recinto",q.jsx("span",{style:{float:"right"},children:M?"":""})]}),M&&q.jsxs("div",{className:Qi.detalle,children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Departamento:"})," ",h[I.departamento]]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Circunscripcin:"})," ",v[I.circunscripcion]]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Provincia:"})," ",y[I.provincia]]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Municipio:"})," ",w[I.municipio]]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Recinto:"})," ",T[I.recinto]]}),q.jsxs("table",{className:Qi.votosTable,children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"Partido"}),q.jsx("th",{children:"Presidente"}),q.jsx("th",{children:"Diputado"})]})}),q.jsx("tbody",{children:Array.from(new Set([...Object.keys(I.votosPresidente||{}),...Object.keys(I.votosDiputado||{})])).map(P=>q.jsxs("tr",{children:[q.jsx("td",{children:P}),q.jsxs("td",{onClick:()=>k(I,"presidente",P),children:[I.votosPresidente?.[P]??"0"," "]}),q.jsxs("td",{onClick:()=>k(I,"diputado",P),children:[I.votosDiputado?.[P]??"0"," "]})]},P))})]}),["blancosPresidente","blancosDiputado","nulosPresidente","validosPresidente","validosDiputado"].map(P=>q.jsxs("p",{children:[q.jsxs("strong",{children:[P,":"]})," ",I[P],q.jsx("button",{onClick:()=>A(I,P),className:Qi.editBtn,children:""})]},P)),q.jsxs("div",{className:Qi.imagenesContainer,children:[I.imagenActaUrl&&q.jsxs("div",{children:[q.jsx("p",{children:q.jsx("strong",{children:"Acta Electoral:"})}),q.jsx("img",{src:I.imagenActaUrl,alt:"Acta",className:Qi.imagenActa,onClick:()=>f(I.imagenActaUrl)})]}),I.imagenHojaTrabajoUrl&&q.jsxs("div",{children:[q.jsx("p",{children:q.jsx("strong",{children:"Hoja de Trabajo:"})}),q.jsx("img",{src:I.imagenHojaTrabajoUrl,alt:"Hoja de trabajo",className:Qi.imagenHoja,onClick:()=>f(I.imagenHojaTrabajoUrl)})]})]}),s==="pendiente"&&q.jsxs("div",{className:Qi.botones,children:[q.jsx("button",{onClick:()=>D(I.id,"aprobado"),disabled:i===I.id,className:Qi.aprobarBtn,children:"Aprobar"}),q.jsx("button",{onClick:()=>D(I.id,"observado"),disabled:i===I.id,className:Qi.rechazarBtn,children:"Rechazar"})]})]})]},I.id)})}),c&&q.jsx("div",{className:Qi.zoomOverlay,onClick:()=>f(null),children:q.jsx("img",{src:c,alt:"Zoom",className:Qi.zoomImagen})})]})}const vHe="_card_x2p2i_1",gHe="_button_x2p2i_45",VW={card:vHe,button:gHe};function zW({usuario:r,onHabilitar:e,puedeHabilitar:t=!1}){return q.jsxs("div",{className:VW.card,children:[q.jsxs("div",{children:[q.jsx("strong",{children:r.nombre}),q.jsxs("p",{children:["Email: ",r.email]}),q.jsxs("p",{children:["Celular: ",r.celular]}),q.jsxs("p",{children:["Departamento: ",r.departamentoNombre]}),q.jsxs("p",{children:["Provincia: ",r.provinciaNombre]}),q.jsxs("p",{children:["Municipio: ",r.municipioNombre]}),q.jsxs("p",{children:["Recinto: ",r.recintoNombre]})]}),t&&q.jsx("button",{onClick:()=>e(r),className:VW.button,children:"Habilitar"})]})}function mHe(){const r=iee(),e=Hw(),[t,n]=ce.useState([]),[i,a]=ce.useState([]),[s,o]=ce.useState(!0),[l,u]=ce.useState(null),[c,f]=ce.useState(""),[h,p]=ce.useState("");ce.useEffect(()=>{(async()=>{const w=r.currentUser?.uid;if(!w)return e("/");const b=await Yx(El(er,"usuarios",w));if(b.exists()){const T=b.data();u(T),T.rol!=="administrador"&&T.rol!=="jefe_recinto"&&e("/")}else e("/")})()},[e,r]);const v=async()=>{if(!l)return;o(!0);const x=await bn(Fr(er,"solicitudes")),w=await bn(Fr(er,"usuarios")),b=x.docs.map(C=>({id:C.id,...C.data()})),T=w.docs.map(C=>({id:C.id,...C.data()}));if(l.rol==="administrador")n(b),a(T.filter(C=>C.habilitado));else if(l.rol==="jefe_recinto"){const C=l.recintoId;n(b.filter(D=>D.recintoId===C)),a(T.filter(D=>D.habilitado&&D.recintoId===C))}o(!1)};ce.useEffect(()=>{l&&v()},[l]);const m=async x=>{if((await Xn.fire({title:"Ests seguro?",text:`Vas a habilitar a ${x.nombre} con rol "delegado" y contrasea su nmero celular.`,icon:"question",showCancelButton:!0,confirmButtonText:"S, habilitar",cancelButtonText:"Cancelar"})).isConfirmed)try{const T=(await dye(r,x.email,x.celular)).user.uid,C={...x,rol:"delegado",habilitado:!0};delete C.id,await zwe(El(er,"usuarios",T),C),await Uwe(El(er,"solicitudes",x.id)),Xn.fire("Usuario habilitado!","Se ha creado su cuenta y asignado rol delegado.","success"),v()}catch(b){Xn.fire("Error",b.message,"error")}},y=x=>{const w=c.trim().toLowerCase(),b=h.trim().toLowerCase();return x.filter(T=>{const C=(T.recintoNombre||"").trim().toLowerCase(),D=(T.celular||"").trim().toLowerCase(),A=w===""||C.includes(w),k=b===""||D.includes(b);return A&&k})};return q.jsxs("div",{style:{padding:"2rem"},children:[q.jsx("h2",{children:"Filtro por recinto electoral y celular"}),q.jsxs("div",{style:{marginBottom:"2rem"},children:[q.jsx("input",{type:"text",placeholder:"Filtrar por recinto electoral",value:c,onChange:x=>f(x.target.value),style:{width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"6px",border:"1.5px solid #ccc"}}),q.jsx("input",{type:"text",placeholder:"Filtrar por nmero de celular",value:h,onChange:x=>p(x.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1.5px solid #ccc"}})]}),q.jsx("h2",{children:"Solicitudes Pendientes"}),s?q.jsx("p",{children:"Cargando..."}):y(t).length===0?q.jsx("p",{children:"No hay solicitudes pendientes con ese filtro"}):y(t).map(x=>q.jsx(zW,{usuario:x,puedeHabilitar:!0,onHabilitar:m},x.id)),q.jsx("hr",{style:{margin:"3rem 0"}}),q.jsx("h2",{children:"Usuarios Habilitados"}),s?q.jsx("p",{children:"Cargando..."}):y(i).length===0?q.jsx("p",{children:"No hay usuarios habilitados con ese filtro"}):y(i).map(x=>q.jsx(zW,{usuario:x},x.id))]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NN=function(r,e){return NN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},NN(r,e)};function ge(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NN(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yHe=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),_He=function(){function r(){this.browser=new yHe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),Ht=new _He;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ht.wxa=!0,Ht.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ht.worker=!0:!Ht.hasGlobalWindow||"Deno"in window?(Ht.node=!0,Ht.svgSupported=!0):xHe(navigator.userAgent,Ht);function xHe(r,e){var t=e.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in o||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}var iB=12,soe="sans-serif",rd=iB+"px "+soe,wHe=20,bHe=100,SHe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function THe(r){var e={};if(typeof JSON>"u")return e;for(var t=0;t<r.length;t++){var n=String.fromCharCode(t+32),i=(r.charCodeAt(t)-wHe)/bHe;e[n]=i}return e}var AHe=THe(SHe),Gl={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,e;return function(t,n){if(!r){var i=Gl.createCanvas();r=i&&i.getContext("2d")}if(r)return e!==n&&(e=r.font=n||rd),r.measureText(t);t=t||"",n=n||rd;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||iB,o=0;if(n.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var u=AHe[t[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(r,e,t){var n=new Image;return n.onload=e,n.onerror=t,n.src=r,n}};function ooe(r){for(var e in Gl)r[e]&&(Gl[e]=r[e])}var loe=Ko(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,e){return r["[object "+e+"]"]=!0,r},{}),uoe=Ko(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,e){return r["[object "+e+"Array]"]=!0,r},{}),my=Object.prototype.toString,RD=Array.prototype,EHe=RD.forEach,CHe=RD.filter,aB=RD.slice,DHe=RD.map,UW=(function(){}).constructor,HT=UW?UW.prototype:null,sB="__proto__",IHe=2311;function oB(){return IHe++}function kD(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];typeof console<"u"&&console.error.apply(console,r)}function ut(r){if(r==null||typeof r!="object")return r;var e=r,t=my.call(r);if(t==="[object Array]"){if(!hm(r)){e=[];for(var n=0,i=r.length;n<i;n++)e[n]=ut(r[n])}}else if(uoe[t]){if(!hm(r)){var a=r.constructor;if(a.from)e=a.from(r);else{e=new a(r.length);for(var n=0,i=r.length;n<i;n++)e[n]=r[n]}}}else if(!loe[t]&&!hm(r)&&!Mv(r)){e={};for(var s in r)r.hasOwnProperty(s)&&s!==sB&&(e[s]=ut(r[s]))}return e}function _t(r,e,t){if(!ot(e)||!ot(r))return t?ut(e):r;for(var n in e)if(e.hasOwnProperty(n)&&n!==sB){var i=r[n],a=e[n];ot(a)&&ot(i)&&!ke(a)&&!ke(i)&&!Mv(a)&&!Mv(i)&&!FN(a)&&!FN(i)&&!hm(a)&&!hm(i)?_t(i,a,t):(t||!(n in r))&&(r[n]=ut(e[n]))}return r}function MD(r,e){for(var t=r[0],n=1,i=r.length;n<i;n++)t=_t(t,r[n],e);return t}function Ce(r,e){if(Object.assign)Object.assign(r,e);else for(var t in e)e.hasOwnProperty(t)&&t!==sB&&(r[t]=e[t]);return r}function st(r,e,t){for(var n=jt(e),i=0,a=n.length;i<a;i++){var s=n[i];(t?e[s]!=null:r[s]==null)&&(r[s]=e[s])}return r}var RHe=Gl.createCanvas;function Ct(r,e){if(r){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t}return-1}function lB(r,e){var t=r.prototype;function n(){}n.prototype=e.prototype,r.prototype=new n;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);r.prototype.constructor=r,r.superClass=e}function Cn(r,e,t){if(r="prototype"in r?r.prototype:r,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(t?e[a]!=null:r[a]==null)&&(r[a]=e[a])}else st(r,e,t)}function ha(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function B(r,e,t){if(r&&e)if(r.forEach&&r.forEach===EHe)r.forEach(e,t);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)e.call(t,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&e.call(t,r[a],a,r)}function Pe(r,e,t){if(!r)return[];if(!e)return PD(r);if(r.map&&r.map===DHe)return r.map(e,t);for(var n=[],i=0,a=r.length;i<a;i++)n.push(e.call(t,r[i],i,r));return n}function Ko(r,e,t,n){if(r&&e){for(var i=0,a=r.length;i<a;i++)t=e.call(n,t,r[i],i,r);return t}}function sr(r,e,t){if(!r)return[];if(!e)return PD(r);if(r.filter&&r.filter===CHe)return r.filter(e,t);for(var n=[],i=0,a=r.length;i<a;i++)e.call(t,r[i],i,r)&&n.push(r[i]);return n}function coe(r,e,t){if(r&&e){for(var n=0,i=r.length;n<i;n++)if(e.call(t,r[n],n,r))return r[n]}}function jt(r){if(!r)return[];if(Object.keys)return Object.keys(r);var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}function kHe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return r.apply(e,t.concat(aB.call(arguments)))}}var Ye=HT&&rt(HT.bind)?HT.call.bind(HT.bind):kHe;function gt(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return r.apply(this,e.concat(aB.call(arguments)))}}function ke(r){return Array.isArray?Array.isArray(r):my.call(r)==="[object Array]"}function rt(r){return typeof r=="function"}function $e(r){return typeof r=="string"}function VE(r){return my.call(r)==="[object String]"}function tr(r){return typeof r=="number"}function ot(r){var e=typeof r;return e==="function"||!!r&&e==="object"}function FN(r){return!!loe[my.call(r)]}function hs(r){return!!uoe[my.call(r)]}function Mv(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function bb(r){return r.colorStops!=null}function foe(r){return r.image!=null}function hoe(r){return my.call(r)==="[object RegExp]"}function Um(r){return r!==r}function Ci(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0,n=r.length;t<n;t++)if(r[t]!=null)return r[t]}function vt(r,e){return r??e}function Ol(r,e,t){return r??e??t}function PD(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return aB.apply(r,e)}function LD(r){if(typeof r=="number")return[r,r,r,r];var e=r.length;return e===2?[r[0],r[1],r[0],r[1]]:e===3?[r[0],r[1],r[2],r[1]]:r}function Ba(r,e){if(!r)throw new Error(e)}function Uo(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var doe="__ec_primitive__";function fw(r){r[doe]=!0}function hm(r){return r[doe]}var MHe=function(){function r(){this.data={}}return r.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},r.prototype.has=function(e){return this.data.hasOwnProperty(e)},r.prototype.get=function(e){return this.data[e]},r.prototype.set=function(e,t){return this.data[e]=t,this},r.prototype.keys=function(){return jt(this.data)},r.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},r}(),poe=typeof Map=="function";function PHe(){return poe?new Map:new MHe}var voe=function(){function r(e){var t=ke(e);this.data=PHe();var n=this;e instanceof r?e.each(i):e&&B(e,i);function i(a,s){t?n.set(a,s):n.set(s,a)}}return r.prototype.hasKey=function(e){return this.data.has(e)},r.prototype.get=function(e){return this.data.get(e)},r.prototype.set=function(e,t){return this.data.set(e,t),t},r.prototype.each=function(e,t){this.data.forEach(function(n,i){e.call(t,n,i)})},r.prototype.keys=function(){var e=this.data.keys();return poe?Array.from(e):e},r.prototype.removeKey=function(e){this.data.delete(e)},r}();function Je(r){return new voe(r)}function Hm(r,e){for(var t=new r.constructor(r.length+e.length),n=0;n<r.length;n++)t[n]=r[n];for(var i=r.length,n=0;n<e.length;n++)t[n+i]=e[n];return t}function Sb(r,e){var t;if(Object.create)t=Object.create(r);else{var n=function(){};n.prototype=r,t=new n}return e&&Ce(t,e),t}function uB(r){var e=r.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Ke(r,e){return r.hasOwnProperty(e)}function An(){}var yx=180/Math.PI;const LHe=Object.freeze(Object.defineProperty({__proto__:null,HashMap:voe,RADIAN_TO_DEGREE:yx,assert:Ba,bind:Ye,clone:ut,concatArray:Hm,createCanvas:RHe,createHashMap:Je,createObject:Sb,curry:gt,defaults:st,disableUserSelect:uB,each:B,eqNaN:Um,extend:Ce,filter:sr,find:coe,guid:oB,hasOwn:Ke,indexOf:Ct,inherits:lB,isArray:ke,isArrayLike:ha,isBuiltInObject:FN,isDom:Mv,isFunction:rt,isGradientObject:bb,isImagePatternObject:foe,isNumber:tr,isObject:ot,isPrimitive:hm,isRegExp:hoe,isString:$e,isStringSafe:VE,isTypedArray:hs,keys:jt,logError:kD,map:Pe,merge:_t,mergeAll:MD,mixin:Cn,noop:An,normalizeCssArray:LD,reduce:Ko,retrieve:Ci,retrieve2:vt,retrieve3:Ol,setAsPrimitive:fw,slice:PD,trim:Uo},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BN=function(r,e){return BN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},BN(r,e)};function Qr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BN(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function gd(r,e){return r==null&&(r=0),e==null&&(e=0),[r,e]}function ba(r,e){return r[0]=e[0],r[1]=e[1],r}function ju(r){return[r[0],r[1]]}function goe(r,e,t){return r[0]=e,r[1]=t,r}function VN(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function zE(r,e,t,n){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function bh(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function hw(r){return Math.sqrt(cB(r))}var OHe=hw;function cB(r){return r[0]*r[0]+r[1]*r[1]}var NHe=cB;function FHe(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r}function BHe(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r}function VHe(r,e){return r[0]*e[0]+r[1]*e[1]}function _x(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function tg(r,e){var t=hw(e);return t===0?(r[0]=0,r[1]=0):(r[0]=e[0]/t,r[1]=e[1]/t),r}function UE(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}var zc=UE;function moe(r,e){return(r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])}var Oh=moe;function zHe(r,e){return r[0]=-e[0],r[1]=-e[1],r}function xx(r,e,t,n){return r[0]=e[0]+n*(t[0]-e[0]),r[1]=e[1]+n*(t[1]-e[1]),r}function Wi(r,e,t){var n=e[0],i=e[1];return r[0]=t[0]*n+t[2]*i+t[4],r[1]=t[1]*n+t[3]*i+t[5],r}function Uc(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Hc(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}const UHe=Object.freeze(Object.defineProperty({__proto__:null,add:VN,applyTransform:Wi,clone:ju,copy:ba,create:gd,dist:zc,distSquare:Oh,distance:UE,distanceSquare:moe,div:BHe,dot:VHe,len:hw,lenSquare:cB,length:OHe,lengthSquare:NHe,lerp:xx,max:Hc,min:Uc,mul:FHe,negate:zHe,normalize:tg,scale:_x,scaleAndAdd:zE,set:goe,sub:bh},Symbol.toStringTag,{value:"Module"}));var e0=function(){function r(e,t){this.target=e,this.topTarget=t&&t.topTarget}return r}(),HHe=function(){function r(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new e0(t,e),"dragstart",e.event))},r.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new e0(t,e),"drag",e.event);var o=this.handler.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new e0(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new e0(o,e),"dragenter",e.event))}},r.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new e0(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new e0(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},r}(),Jo=function(){function r(e){e&&(this._$eventProcessor=e)}return r.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=n,n=t,t=null),!n||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===n)return this;var l={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},r.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},r.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],a=0,s=n[e].length;a<s;a++)n[e][a].h!==t&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,t[0]);break;case 2:c.h.call(o,t[0],t[1]);break;default:c.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r}(),GHe=Math.log(2);function zN(r,e,t,n,i,a){var s=n+"-"+i,o=r.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/GHe);return r[t][l]}for(var u=n|1<<t,c=t+1;n&1<<c;)c++;for(var f=0,h=0,p=0;h<o;h++){var v=1<<h;v&i||(f+=(p%2?-1:1)*r[t][h]*zN(r,e-1,c,u,i|v,a),p++)}return a[s]=f,f}function HW(r,e){var t=[[r[0],r[1],1,0,0,0,-e[0]*r[0],-e[0]*r[1]],[0,0,0,r[0],r[1],1,-e[1]*r[0],-e[1]*r[1]],[r[2],r[3],1,0,0,0,-e[2]*r[2],-e[2]*r[3]],[0,0,0,r[2],r[3],1,-e[3]*r[2],-e[3]*r[3]],[r[4],r[5],1,0,0,0,-e[4]*r[4],-e[4]*r[5]],[0,0,0,r[4],r[5],1,-e[5]*r[4],-e[5]*r[5]],[r[6],r[7],1,0,0,0,-e[6]*r[6],-e[6]*r[7]],[0,0,0,r[6],r[7],1,-e[7]*r[6],-e[7]*r[7]]],n={},i=zN(t,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*zN(t,7,s===0?1:0,1<<s,1<<o,n)/i*e[s];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var GW="___zrEVENTSAVED",NM=[];function jHe(r,e,t,n,i){return UN(NM,e,n,i,!0)&&UN(r,t,NM[0],NM[1])}function UN(r,e,t,n,i){if(e.getBoundingClientRect&&Ht.domSupported&&!yoe(e)){var a=e[GW]||(e[GW]={}),s=WHe(e,a),o=$He(s,a,i);if(o)return o(r,t,n),!0}return!1}function WHe(r,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),r.appendChild(s),t.push(s)}return t}function $He(r,e,t){for(var n=t?"invTrans":"trans",i=e[n],a=e.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=r[u].getBoundingClientRect(),f=2*u,h=c.left,p=c.top;s.push(h,p),l=l&&a&&h===a[f]&&p===a[f+1],o.push(r[u].offsetLeft,r[u].offsetTop)}return l&&i?i:(e.srcCoords=s,e[n]=t?HW(o,s):HW(s,o))}function yoe(r){return r.nodeName.toUpperCase()==="CANVAS"}var qHe=/([&<>"'])/g,YHe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ca(r){return r==null?"":(r+"").replace(qHe,function(e,t){return YHe[t]})}var XHe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,FM=[],KHe=Ht.browser.firefox&&+Ht.browser.version.split(".")[0]<39;function HN(r,e,t,n){return t=t||{},n?jW(r,e,t):KHe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):jW(r,e,t),t}function jW(r,e,t){if(Ht.domSupported&&r.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(yoe(r)){var a=r.getBoundingClientRect();t.zrX=n-a.left,t.zrY=i-a.top;return}else if(UN(FM,r,n,i)){t.zrX=FM[0],t.zrY=FM[1];return}}t.zrX=t.zrY=0}function fB(r){return r||window.event}function Po(r,e,t){if(e=fB(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&HN(r,s,e,t)}else{HN(r,e,e,t);var a=ZHe(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&XHe.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function ZHe(r){var e=r.wheelDelta;if(e)return e;var t=r.deltaX,n=r.deltaY;if(t==null||n==null)return e;var i=Math.abs(n!==0?n:t),a=n>0?-1:n<0?1:t>0?-1:1;return 3*i*a}function GN(r,e,t,n){r.addEventListener(e,t,n)}function QHe(r,e,t,n){r.removeEventListener(e,t,n)}var of=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function WW(r){return r.which===2||r.which===3}var JHe=function(){function r(){this._track=[]}return r.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],u=HN(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},r.prototype._recognize=function(e){for(var t in BM)if(BM.hasOwnProperty(t)){var n=BM[t](this._track,e);if(n)return n}},r}();function $W(r){var e=r[1][0]-r[0][0],t=r[1][1]-r[0][1];return Math.sqrt(e*e+t*t)}function eGe(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var BM={pinch:function(r,e){var t=r.length;if(t){var n=(r[t-1]||{}).points,i=(r[t-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=$W(n)/$W(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=eGe(n);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:r[0].target,event:e}}}}};function Ps(){return[1,0,0,1,0,0]}function Tb(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function OD(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Wu(r,e,t){var n=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=s,r[4]=o,r[5]=l,r}function jl(r,e,t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+t[0],r[5]=e[5]+t[1],r}function md(r,e,t,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],s=e[4],o=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return r[0]=i*f+o*c,r[1]=-i*c+o*f,r[2]=a*f+l*c,r[3]=-a*c+f*l,r[4]=f*(s-n[0])+c*(u-n[1])+n[0],r[5]=f*(u-n[1])-c*(s-n[0])+n[1],r}function ND(r,e,t){var n=t[0],i=t[1];return r[0]=e[0]*n,r[1]=e[1]*i,r[2]=e[2]*n,r[3]=e[3]*i,r[4]=e[4]*n,r[5]=e[5]*i,r}function rg(r,e){var t=e[0],n=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*n;return l?(l=1/l,r[0]=s*l,r[1]=-a*l,r[2]=-n*l,r[3]=t*l,r[4]=(n*o-s*i)*l,r[5]=(a*i-t*o)*l,r):null}function _oe(r){var e=Ps();return OD(e,r),e}const tGe=Object.freeze(Object.defineProperty({__proto__:null,clone:_oe,copy:OD,create:Ps,identity:Tb,invert:rg,mul:Wu,rotate:md,scale:ND,translate:jl},Symbol.toStringTag,{value:"Module"}));var bt=function(){function r(e,t){this.x=e||0,this.y=t||0}return r.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(e,t){return this.x=e,this.y=t,this},r.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},r.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},r.prototype.scale=function(e){this.x*=e,this.y*=e},r.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},r.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},r.prototype.dot=function(e){return this.x*e.x+this.y*e.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},r.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},r.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},r.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},r.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},r.set=function(e,t,n){e.x=t,e.y=n},r.copy=function(e,t){e.x=t.x,e.y=t.y},r.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.lenSquare=function(e){return e.x*e.x+e.y*e.y},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},r.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},r.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},r.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},r.lerp=function(e,t,n,i){var a=1-i;e.x=a*t.x+i*n.x,e.y=a*t.y+i*n.y},r}(),GT=Math.min,jT=Math.max,rp=new bt,np=new bt,ip=new bt,ap=new bt,q1=new bt,Y1=new bt,Tt=function(){function r(e,t,n,i){n<0&&(e=e+n,n=-n),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}return r.prototype.union=function(e){var t=GT(e.x,this.x),n=GT(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=jT(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=jT(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},r.prototype.applyTransform=function(e){r.applyTransform(this,this,e)},r.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,a=Ps();return jl(a,a,[-t.x,-t.y]),ND(a,a,[n,i]),jl(a,a,[e.x,e.y]),a},r.prototype.intersect=function(e,t){if(!e)return!1;e instanceof r||(e=r.create(e));var n=this,i=n.x,a=n.x+n.width,s=n.y,o=n.y+n.height,l=e.x,u=e.x+e.width,c=e.y,f=e.y+e.height,h=!(a<l||u<i||o<c||f<s);if(t){var p=1/0,v=0,m=Math.abs(a-l),y=Math.abs(u-i),x=Math.abs(o-c),w=Math.abs(f-s),b=Math.min(m,y),T=Math.min(x,w);a<l||u<i?b>v&&(v=b,m<y?bt.set(Y1,-m,0):bt.set(Y1,y,0)):b<p&&(p=b,m<y?bt.set(q1,m,0):bt.set(q1,-y,0)),o<c||f<s?T>v&&(v=T,x<w?bt.set(Y1,0,-x):bt.set(Y1,0,w)):b<p&&(p=b,x<w?bt.set(q1,0,x):bt.set(q1,0,-w))}return t&&bt.copy(t,h?q1:Y1),h},r.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(e){r.copy(this,e)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},r.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},r.applyTransform=function(e,t,n){if(!n){e!==t&&r.copy(e,t);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}rp.x=ip.x=t.x,rp.y=ap.y=t.y,np.x=ap.x=t.x+t.width,np.y=ip.y=t.y+t.height,rp.transform(n),ap.transform(n),np.transform(n),ip.transform(n),e.x=GT(rp.x,np.x,ip.x,ap.x),e.y=GT(rp.y,np.y,ip.y,ap.y);var l=jT(rp.x,np.x,ip.x,ap.x),u=jT(rp.y,np.y,ip.y,ap.y);e.width=l-e.x,e.height=u-e.y},r}(),xoe="silent";function rGe(r,e,t){return{type:r,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:nGe}}function nGe(){of(this.event)}var iGe=function(r){Qr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Jo),X1=function(){function r(e,t){this.x=e,this.y=t}return r}(),aGe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],VM=new Tt(0,0,0,0),woe=function(r){Qr(e,r);function e(t,n,i,a,s){var o=r.call(this)||this;return o._hovered=new X1(0,0),o.storage=t,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new iGe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new HHe(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(B(aGe,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var n=t.zrX,i=t.zrY,a=boe(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new X1(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var n=t.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new X1(0,0)},e.prototype.dispatch=function(t,n){var i=this[t];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},e.prototype.dispatchToElement=function(t,n,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+n,o=rGe(n,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},e.prototype.findHover=function(t,n,i){var a=this.storage.getDisplayList(),s=new X1(t,n);if(qW(a,s,t,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new Tt(t-u,n-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(VM.copy(h.getBoundingRect()),h.transform&&VM.applyTransform(h.transform),VM.intersect(c)&&o.push(h))}if(o.length)for(var p=4,v=Math.PI/12,m=Math.PI*2,y=0;y<u;y+=p)for(var x=0;x<m;x+=v){var w=t+y*Math.cos(x),b=n+y*Math.sin(x);if(qW(o,s,w,b,i),s.target)return s}}return s},e.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new JHe);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new X1;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(Jo);B(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){woe.prototype[r]=function(e){var t=e.zrX,n=e.zrY,i=boe(this,t,n),a,s;if((r!=="mouseup"||!i)&&(a=this.findHover(t,n),s=a.target),r==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||zc(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,e)}});function sGe(r,e,t){if(r[r.rectHover?"rectContain":"contain"](e,t)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(e,t))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?xoe:!0}return!1}function qW(r,e,t,n,i){for(var a=r.length-1;a>=0;a--){var s=r[a],o=void 0;if(s!==i&&!s.ignore&&(o=sGe(s,t,n))&&(!e.topTarget&&(e.topTarget=s),o!==xoe)){e.target=s;break}}}function boe(r,e,t){var n=r.painter;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var Soe=32,K1=7;function oGe(r){for(var e=0;r>=Soe;)e|=r&1,r>>=1;return r+e}function YW(r,e,t,n){var i=e+1;if(i===t)return 1;if(n(r[i++],r[e])<0){for(;i<t&&n(r[i],r[i-1])<0;)i++;lGe(r,e,i)}else for(;i<t&&n(r[i],r[i-1])>=0;)i++;return i-e}function lGe(r,e,t){for(t--;e<t;){var n=r[e];r[e++]=r[t],r[t--]=n}}function XW(r,e,t,n,i){for(n===e&&n++;n<t;n++){for(var a=r[n],s=e,o=n,l;s<o;)l=s+o>>>1,i(a,r[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;u>0;)r[s+u]=r[s+u-1],u--}r[s]=a}}function zM(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])>0){for(o=n-i;l<o&&a(r,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(r,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var c=s+(l-s>>>1);a(r,e[t+c])>0?s=c+1:l=c}return l}function UM(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])<0){for(o=i+1;l<o&&a(r,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=n-i;l<o&&a(r,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var c=s+(l-s>>>1);a(r,e[t+c])<0?l=c:s=c+1}return l}function uGe(r,e){var t=K1,n,i,a=0,s=[];n=[],i=[];function o(p,v){n[a]=p,i[a]=v,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;c(p)}}function u(){for(;a>1;){var p=a-2;p>0&&i[p-1]<i[p+1]&&p--,c(p)}}function c(p){var v=n[p],m=i[p],y=n[p+1],x=i[p+1];i[p]=m+x,p===a-3&&(n[p+1]=n[p+2],i[p+1]=i[p+2]),a--;var w=UM(r[y],r,v,m,0,e);v+=w,m-=w,m!==0&&(x=zM(r[v+m-1],r,y,x,x-1,e),x!==0&&(m<=x?f(v,m,y,x):h(v,m,y,x)))}function f(p,v,m,y){var x=0;for(x=0;x<v;x++)s[x]=r[p+x];var w=0,b=m,T=p;if(r[T++]=r[b++],--y===0){for(x=0;x<v;x++)r[T+x]=s[w+x];return}if(v===1){for(x=0;x<y;x++)r[T+x]=r[b+x];r[T+y]=s[w];return}for(var C=t,D,A,k;;){D=0,A=0,k=!1;do if(e(r[b],s[w])<0){if(r[T++]=r[b++],A++,D=0,--y===0){k=!0;break}}else if(r[T++]=s[w++],D++,A=0,--v===1){k=!0;break}while((D|A)<C);if(k)break;do{if(D=UM(r[b],s,w,v,0,e),D!==0){for(x=0;x<D;x++)r[T+x]=s[w+x];if(T+=D,w+=D,v-=D,v<=1){k=!0;break}}if(r[T++]=r[b++],--y===0){k=!0;break}if(A=zM(s[w],r,b,y,0,e),A!==0){for(x=0;x<A;x++)r[T+x]=r[b+x];if(T+=A,b+=A,y-=A,y===0){k=!0;break}}if(r[T++]=s[w++],--v===1){k=!0;break}C--}while(D>=K1||A>=K1);if(k)break;C<0&&(C=0),C+=2}if(t=C,t<1&&(t=1),v===1){for(x=0;x<y;x++)r[T+x]=r[b+x];r[T+y]=s[w]}else{if(v===0)throw new Error;for(x=0;x<v;x++)r[T+x]=s[w+x]}}function h(p,v,m,y){var x=0;for(x=0;x<y;x++)s[x]=r[m+x];var w=p+v-1,b=y-1,T=m+y-1,C=0,D=0;if(r[T--]=r[w--],--v===0){for(C=T-(y-1),x=0;x<y;x++)r[C+x]=s[x];return}if(y===1){for(T-=v,w-=v,D=T+1,C=w+1,x=v-1;x>=0;x--)r[D+x]=r[C+x];r[T]=s[b];return}for(var A=t;;){var k=0,I=0,M=!1;do if(e(s[b],r[w])<0){if(r[T--]=r[w--],k++,I=0,--v===0){M=!0;break}}else if(r[T--]=s[b--],I++,k=0,--y===1){M=!0;break}while((k|I)<A);if(M)break;do{if(k=v-UM(s[b],r,p,v,v-1,e),k!==0){for(T-=k,w-=k,v-=k,D=T+1,C=w+1,x=k-1;x>=0;x--)r[D+x]=r[C+x];if(v===0){M=!0;break}}if(r[T--]=s[b--],--y===1){M=!0;break}if(I=y-zM(r[w],s,0,y,y-1,e),I!==0){for(T-=I,b-=I,y-=I,D=T+1,C=b+1,x=0;x<I;x++)r[D+x]=s[C+x];if(y<=1){M=!0;break}}if(r[T--]=r[w--],--v===0){M=!0;break}A--}while(k>=K1||I>=K1);if(M)break;A<0&&(A=0),A+=2}if(t=A,t<1&&(t=1),y===1){for(T-=v,w-=v,D=T+1,C=w+1,x=v-1;x>=0;x--)r[D+x]=r[C+x];r[T]=s[b]}else{if(y===0)throw new Error;for(C=T-(y-1),x=0;x<y;x++)r[C+x]=s[x]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function lA(r,e,t,n){t||(t=0),n||(n=r.length);var i=n-t;if(!(i<2)){var a=0;if(i<Soe){a=YW(r,t,n,e),XW(r,t,n,t+a,e);return}var s=uGe(r,e),o=oGe(i);do{if(a=YW(r,t,n,e),a<o){var l=i;l>o&&(l=o),XW(r,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var Xs=1,F_=2,D0=4,KW=!1;function HM(){KW||(KW=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function ZW(r,e){return r.zlevel===e.zlevel?r.z===e.z?r.z2-e.z2:r.z-e.z:r.zlevel-e.zlevel}var cGe=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ZW}return r.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},r.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},r.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,lA(n,ZW)},r.prototype._updateAndAddDisplayable=function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),t.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var u=o[l];e.__dirty&&(u.__dirty|=Xs),this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var c=e;t&&t.length?c.__clipPaths=t:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(HM(),c.z=0),isNaN(c.z2)&&(HM(),c.z2=0),isNaN(c.zlevel)&&(HM(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,t,n);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,t,n)}},r.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},r.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var i=Ct(this._roots,e);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),HE;HE=Ht.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var bx={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)))},elasticOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*r)*Math.sin((r-e)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var e=1.70158;return r*r*((e+1)*r-e)},backOut:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},backInOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)},bounceIn:function(r){return 1-bx.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?bx.bounceIn(r*2)*.5:bx.bounceOut(r*2-1)*.5+.5}},WT=Math.pow,Nh=Math.sqrt,GE=1e-8,Toe=1e-4,QW=Nh(3),$T=1/3,Eu=gd(),Fo=gd(),dm=gd();function Sh(r){return r>-GE&&r<GE}function Aoe(r){return r>GE||r<-GE}function Ai(r,e,t,n,i){var a=1-i;return a*a*(a*r+3*i*e)+i*i*(i*n+3*a*t)}function JW(r,e,t,n,i){var a=1-i;return 3*(((e-r)*a+2*(t-e)*i)*a+(n-t)*i*i)}function jE(r,e,t,n,i,a){var s=n+3*(e-t)-r,o=3*(t-e*2+r),l=3*(e-r),u=r-i,c=o*o-3*s*l,f=o*l-9*s*u,h=l*l-3*o*u,p=0;if(Sh(c)&&Sh(f))if(Sh(o))a[0]=0;else{var v=-l/o;v>=0&&v<=1&&(a[p++]=v)}else{var m=f*f-4*c*h;if(Sh(m)){var y=f/c,v=-o/s+y,x=-y/2;v>=0&&v<=1&&(a[p++]=v),x>=0&&x<=1&&(a[p++]=x)}else if(m>0){var w=Nh(m),b=c*o+1.5*s*(-f+w),T=c*o+1.5*s*(-f-w);b<0?b=-WT(-b,$T):b=WT(b,$T),T<0?T=-WT(-T,$T):T=WT(T,$T);var v=(-o-(b+T))/(3*s);v>=0&&v<=1&&(a[p++]=v)}else{var C=(2*c*o-3*s*f)/(2*Nh(c*c*c)),D=Math.acos(C)/3,A=Nh(c),k=Math.cos(D),v=(-o-2*A*k)/(3*s),x=(-o+A*(k+QW*Math.sin(D)))/(3*s),I=(-o+A*(k-QW*Math.sin(D)))/(3*s);v>=0&&v<=1&&(a[p++]=v),x>=0&&x<=1&&(a[p++]=x),I>=0&&I<=1&&(a[p++]=I)}}return p}function Eoe(r,e,t,n,i){var a=6*t-12*e+6*r,s=9*e+3*n-3*r-9*t,o=3*e-3*r,l=0;if(Sh(s)){if(Aoe(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*s*o;if(Sh(c))i[0]=-a/(2*s);else if(c>0){var f=Nh(c),u=(-a+f)/(2*s),h=(-a-f)/(2*s);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function nd(r,e,t,n,i,a){var s=(e-r)*i+r,o=(t-e)*i+e,l=(n-t)*i+t,u=(o-s)*i+s,c=(l-o)*i+o,f=(c-u)*i+u;a[0]=r,a[1]=s,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function Coe(r,e,t,n,i,a,s,o,l,u,c){var f,h=.005,p=1/0,v,m,y,x;Eu[0]=l,Eu[1]=u;for(var w=0;w<1;w+=.05)Fo[0]=Ai(r,t,i,s,w),Fo[1]=Ai(e,n,a,o,w),y=Oh(Eu,Fo),y<p&&(f=w,p=y);p=1/0;for(var b=0;b<32&&!(h<Toe);b++)v=f-h,m=f+h,Fo[0]=Ai(r,t,i,s,v),Fo[1]=Ai(e,n,a,o,v),y=Oh(Fo,Eu),v>=0&&y<p?(f=v,p=y):(dm[0]=Ai(r,t,i,s,m),dm[1]=Ai(e,n,a,o,m),x=Oh(dm,Eu),m<=1&&x<p?(f=m,p=x):h*=.5);return c&&(c[0]=Ai(r,t,i,s,f),c[1]=Ai(e,n,a,o,f)),Nh(p)}function fGe(r,e,t,n,i,a,s,o,l){for(var u=r,c=e,f=0,h=1/l,p=1;p<=l;p++){var v=p*h,m=Ai(r,t,i,s,v),y=Ai(e,n,a,o,v),x=m-u,w=y-c;f+=Math.sqrt(x*x+w*w),u=m,c=y}return f}function Hi(r,e,t,n){var i=1-n;return i*(i*r+2*n*e)+n*n*t}function jN(r,e,t,n){return 2*((1-n)*(e-r)+n*(t-e))}function hGe(r,e,t,n,i){var a=r-2*e+t,s=2*(e-r),o=r-n,l=0;if(Sh(a)){if(Aoe(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var c=s*s-4*a*o;if(Sh(c)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=Nh(c),u=(-s+f)/(2*a),h=(-s-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function Doe(r,e,t){var n=r+t-2*e;return n===0?.5:(r-e)/n}function dw(r,e,t,n,i){var a=(e-r)*n+r,s=(t-e)*n+e,o=(s-a)*n+a;i[0]=r,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function Ioe(r,e,t,n,i,a,s,o,l){var u,c=.005,f=1/0;Eu[0]=s,Eu[1]=o;for(var h=0;h<1;h+=.05){Fo[0]=Hi(r,t,i,h),Fo[1]=Hi(e,n,a,h);var p=Oh(Eu,Fo);p<f&&(u=h,f=p)}f=1/0;for(var v=0;v<32&&!(c<Toe);v++){var m=u-c,y=u+c;Fo[0]=Hi(r,t,i,m),Fo[1]=Hi(e,n,a,m);var p=Oh(Fo,Eu);if(m>=0&&p<f)u=m,f=p;else{dm[0]=Hi(r,t,i,y),dm[1]=Hi(e,n,a,y);var x=Oh(dm,Eu);y<=1&&x<f?(u=y,f=x):c*=.5}}return l&&(l[0]=Hi(r,t,i,u),l[1]=Hi(e,n,a,u)),Nh(f)}function dGe(r,e,t,n,i,a,s){for(var o=r,l=e,u=0,c=1/s,f=1;f<=s;f++){var h=f*c,p=Hi(r,t,i,h),v=Hi(e,n,a,h),m=p-o,y=v-l;u+=Math.sqrt(m*m+y*y),o=p,l=v}return u}var pGe=/cubic-bezier\(([0-9,\.e ]+)\)/;function hB(r){var e=r&&pGe.exec(r);if(e){var t=e[1].split(","),n=+Uo(t[0]),i=+Uo(t[1]),a=+Uo(t[2]),s=+Uo(t[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:jE(0,n,a,1,l,o)&&Ai(0,i,s,1,o[0])}}}var vGe=function(){function r(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||An,this.ondestroy=e.ondestroy||An,this.onrestart=e.onrestart||An,e.easing&&this.setEasing(e.easing)}return r.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(e){this.easing=e,this.easingFunc=rt(e)?e:bx[e]||hB(e)},r}(),Roe=function(){function r(e){this.value=e}return r}(),gGe=function(){function r(){this._len=0}return r.prototype.insert=function(e){var t=new Roe(e);return this.insertEntry(t),t},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),Ab=function(){function r(e){this._list=new gGe,this._maxSize=10,this._map={},this._maxSize=e}return r.prototype.put=function(e,t){var n=this._list,i=this._map,a=null;if(i[e]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new Roe(t),o.key=e,n.insertEntry(o),i[e]=o}return a},r.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),e$={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Nl(r){return r=Math.round(r),r<0?0:r>255?255:r}function mGe(r){return r=Math.round(r),r<0?0:r>360?360:r}function pw(r){return r<0?0:r>1?1:r}function GM(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?Nl(parseFloat(e)/100*255):Nl(parseInt(e,10))}function fv(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?pw(parseFloat(e)/100):pw(parseFloat(e))}function jM(r,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?r+(e-r)*t*6:t*2<1?e:t*3<2?r+(e-r)*(2/3-t)*6:r}function Th(r,e,t){return r+(e-r)*t}function Ro(r,e,t,n,i){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function WN(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}var koe=new Ab(20),qT=null;function t0(r,e){qT&&WN(qT,e),qT=koe.put(r,qT||e.slice())}function ls(r,e){if(r){e=e||[];var t=koe.get(r);if(t)return WN(e,t);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in e$)return WN(e,e$[n]),t0(r,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Ro(e,0,0,0,1);return}return Ro(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),t0(r,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Ro(e,0,0,0,1);return}return Ro(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),t0(r,e),e}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Ro(e,+u[0],+u[1],+u[2],1):Ro(e,0,0,0,1);c=fv(u.pop());case"rgb":if(u.length>=3)return Ro(e,GM(u[0]),GM(u[1]),GM(u[2]),u.length===3?c:fv(u[3])),t0(r,e),e;Ro(e,0,0,0,1);return;case"hsla":if(u.length!==4){Ro(e,0,0,0,1);return}return u[3]=fv(u[3]),$N(u,e),t0(r,e),e;case"hsl":if(u.length!==3){Ro(e,0,0,0,1);return}return $N(u,e),t0(r,e),e;default:return}}Ro(e,0,0,0,1)}}function $N(r,e){var t=(parseFloat(r[0])%360+360)%360/360,n=fv(r[1]),i=fv(r[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return e=e||[],Ro(e,Nl(jM(s,a,t+1/3)*255),Nl(jM(s,a,t)*255),Nl(jM(s,a,t-1/3)*255),1),r.length===4&&(e[3]=r[3]),e}function yGe(r){if(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var c=((a-e)/6+s/2)/s,f=((a-t)/6+s/2)/s,h=((a-n)/6+s/2)/s;e===a?l=h-f:t===a?l=1/3+c-h:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,u,o];return r[3]!=null&&p.push(r[3]),p}}function WE(r,e){var t=ls(r);if(t){for(var n=0;n<3;n++)e<0?t[n]=t[n]*(1-e)|0:t[n]=(255-t[n])*e+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return Fl(t,t.length===4?"rgba":"rgb")}}function _Ge(r){var e=ls(r);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Sx(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){t=t||[];var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=e[i],o=e[a],l=n-i;return t[0]=Nl(Th(s[0],o[0],l)),t[1]=Nl(Th(s[1],o[1],l)),t[2]=Nl(Th(s[2],o[2],l)),t[3]=pw(Th(s[3],o[3],l)),t}}var xGe=Sx;function dB(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=ls(e[i]),o=ls(e[a]),l=n-i,u=Fl([Nl(Th(s[0],o[0],l)),Nl(Th(s[1],o[1],l)),Nl(Th(s[2],o[2],l)),pw(Th(s[3],o[3],l))],"rgba");return t?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}var wGe=dB;function pm(r,e,t,n){var i=ls(r);if(r)return i=yGe(i),e!=null&&(i[0]=mGe(e)),t!=null&&(i[1]=fv(t)),n!=null&&(i[2]=fv(n)),Fl($N(i),"rgba")}function vw(r,e){var t=ls(r);if(t&&e!=null)return t[3]=pw(e),Fl(t,"rgba")}function Fl(r,e){if(!(!r||!r.length)){var t=r[0]+","+r[1]+","+r[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+r[3]),e+"("+t+")"}}function gw(r,e){var t=ls(r);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function bGe(){return Fl([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var t$=new Ab(100);function $E(r){if($e(r)){var e=t$.get(r);return e||(e=WE(r,-.1),t$.put(r,e)),e}else if(bb(r)){var t=Ce({},r);return t.colorStops=Pe(r.colorStops,function(n){return{offset:n.offset,color:WE(n.color,-.1)}}),t}return r}const SGe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:Sx,fastMapToColor:xGe,lerp:dB,lift:WE,liftColor:$E,lum:gw,mapToColor:wGe,modifyAlpha:vw,modifyHSL:pm,parse:ls,random:bGe,stringify:Fl,toHex:_Ge},Symbol.toStringTag,{value:"Module"}));var qE=Math.round;function mw(r){var e;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var t=ls(r);t&&(r="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:r,opacity:e??1}}var r$=1e-4;function Ah(r){return r<r$&&r>-r$}function YT(r){return qE(r*1e3)/1e3}function qN(r){return qE(r*1e4)/1e4}function TGe(r){return"matrix("+YT(r[0])+","+YT(r[1])+","+YT(r[2])+","+YT(r[3])+","+qN(r[4])+","+qN(r[5])+")"}var AGe={left:"start",right:"end",center:"middle",middle:"middle"};function EGe(r,e,t){return t==="top"?r+=e/2:t==="bottom"&&(r-=e/2),r}function CGe(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function DGe(r){var e=r.style,t=r.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function Moe(r){return r&&!!r.image}function IGe(r){return r&&!!r.svgElement}function pB(r){return Moe(r)||IGe(r)}function Poe(r){return r.type==="linear"}function Loe(r){return r.type==="radial"}function Ooe(r){return r&&(r.type==="linear"||r.type==="radial")}function FD(r){return"url(#"+r+")"}function Noe(r){var e=r.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function Foe(r){var e=r.x||0,t=r.y||0,n=(r.rotation||0)*yx,i=vt(r.scaleX,1),a=vt(r.scaleY,1),s=r.skewX||0,o=r.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+qE(s*yx)+"deg, "+qE(o*yx)+"deg)"),l.join(" ")}var RGe=function(){return Ht.hasGlobalWindow&&rt(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),YN=Array.prototype.slice;function Pc(r,e,t){return(e-r)*t+r}function WM(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=Pc(e[a],t[a],n);return r}function kGe(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=Pc(e[s][o],t[s][o],n)}return r}function XT(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=e[a]+t[a]*n;return r}function n$(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=e[s][o]+t[s][o]*n}return r}function MGe(r,e){for(var t=r.length,n=e.length,i=t>n?e:r,a=Math.min(t,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function PGe(r,e,t){var n=r,i=e;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(t===1?i[l]:YN.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(t===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function Tx(r){if(ha(r)){var e=r.length;if(ha(r[0])){for(var t=[],n=0;n<e;n++)t.push(YN.call(r[n]));return t}return YN.call(r)}return r}function uA(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function LGe(r){return ha(r&&r[0])?2:1}var KT=0,cA=1,Boe=2,B_=3,XN=4,KN=5,i$=6;function a$(r){return r===XN||r===KN}function ZT(r){return r===cA||r===Boe}var Z1=[0,0,0,0],OGe=function(){function r(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=i$,l=t;if(ha(t)){var u=LGe(t);o=u,(u===1&&!tr(t[0])||u===2&&!tr(t[0][0]))&&(s=!0)}else if(tr(t)&&!Um(t))o=KT;else if($e(t))if(!isNaN(+t))o=KT;else{var c=ls(t);c&&(l=c,o=B_)}else if(bb(t)){var f=Ce({},l);f.colorStops=Pe(t.colorStops,function(p){return{offset:p.offset,color:ls(p.color)}}),Poe(t)?o=XN:Loe(t)&&(o=KN),l=f}a===0?this.valType=o:(o!==this.valType||o===i$)&&(s=!0),this.discrete=this.discrete||s;var h={time:e,value:l,rawValue:t,percent:0};return n&&(h.easing=n,h.easingFunc=rt(n)?n:bx[n]||hB(n)),i.push(h),h},r.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(m,y){return m.time-y.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=ZT(i),u=a$(i),c=0;c<a;c++){var f=n[c],h=f.value,p=s.value;f.percent=f.time/e,o||(l&&c!==a-1?PGe(h,p,i):u&&MGe(h.colorStops,p.colorStops))}if(!o&&i!==KN&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var v=n[0].value,c=0;c<a;c++)i===KT?n[c].additiveValue=n[c].value-v:i===B_?n[c].additiveValue=XT([],n[c].value,v,-1):ZT(i)&&(n[c].additiveValue=i===cA?XT([],n[c].value,v,-1):n$([],n[c].value,v,-1))}},r.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===B_,c,f=this._lastFr,h=Math.min,p,v;if(o===1)p=v=s[0];else{if(t<0)c=0;else if(t<this._lastFrP){var m=h(f+1,o-1);for(c=m;c>=0&&!(s[c].percent<=t);c--);c=h(c,o-2)}else{for(c=f;c<o&&!(s[c].percent>t);c++);c=h(c-1,o-2)}v=s[c+1],p=s[c]}if(p&&v){this._lastFr=c,this._lastFrP=t;var y=v.percent-p.percent,x=y===0?1:h((t-p.percent)/y,1);v.easingFunc&&(x=v.easingFunc(x));var w=n?this._additiveValue:u?Z1:e[l];if((ZT(a)||u)&&!w&&(w=this._additiveValue=[]),this.discrete)e[l]=x<1?p.rawValue:v.rawValue;else if(ZT(a))a===cA?WM(w,p[i],v[i],x):kGe(w,p[i],v[i],x);else if(a$(a)){var b=p[i],T=v[i],C=a===XN;e[l]={type:C?"linear":"radial",x:Pc(b.x,T.x,x),y:Pc(b.y,T.y,x),colorStops:Pe(b.colorStops,function(A,k){var I=T.colorStops[k];return{offset:Pc(A.offset,I.offset,x),color:uA(WM([],A.color,I.color,x))}}),global:T.global},C?(e[l].x2=Pc(b.x2,T.x2,x),e[l].y2=Pc(b.y2,T.y2,x)):e[l].r=Pc(b.r,T.r,x)}else if(u)WM(w,p[i],v[i],x),n||(e[l]=uA(w));else{var D=Pc(p[i],v[i],x);n?this._additiveValue=D:e[l]=D}n&&this._addToTarget(e)}}},r.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;t===KT?e[n]=e[n]+i:t===B_?(ls(e[n],Z1),XT(Z1,Z1,i,1),e[n]=uA(Z1)):t===cA?XT(e[n],e[n],i,1):t===Boe&&n$(e[n],e[n],i,1)},r}(),vB=function(){function r(e,t,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){kD("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(e){this._target=e},r.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,jt(t),n)},r.prototype.whenWithKeys=function(e,t,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new OGe(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===B_&&u&&(u=uA(u))}else u=this._target[o];if(u==null)continue;e>0&&l.addKeyframe(0,Tx(u),i),this._trackKeys.push(o)}l.addKeyframe(e,Tx(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},r.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},r.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(t=a)}return t},r.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=u[c-1];f&&(t._target[o.propName]=f.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var h=new vGe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){t._started=2;var v=t._additiveAnimators;if(v){for(var m=!1,y=0;y<v.length;y++)if(v[y]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var y=0;y<n.length;y++)n[y].step(t._target,p);var x=t._onframeCbs;if(x)for(var y=0;y<x.length;y++)x[y](t._target,p)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},r.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},r.prototype.delay=function(e){return this._delay=e,this},r.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},r.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},r.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(e){return this._tracks[e]},r.prototype.getTracks=function(){var e=this;return Pe(this._trackKeys,function(t){return e._tracks[t]})},r.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=n[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},r.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(e[a]=Tx(l.rawValue))}}}},r.prototype.__changeFinalValue=function(e,t){t=t||jt(e);for(var n=0;n<t.length;n++){var i=t[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r}();function W0(){return new Date().getTime()}var NGe=function(r){Qr(e,r);function e(t){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(t){if(t.animation){var n=t.prev,i=t.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},e.prototype.update=function(t){for(var n=W0()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(HE(n),!t._paused&&t.update())}HE(n)},e.prototype.start=function(){this._running||(this._time=W0(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=W0(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=W0()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,n){n=n||{},this.start();var i=new vB(t,n.loop);return this.addAnimator(i),i},e}(Jo),FGe=300,$M=Ht.domSupported,qM=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Pe(r,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:r,touch:e,pointer:n}}(),s$={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},o$=!1;function ZN(r){var e=r.pointerType;return e==="pen"||e==="touch"}function BGe(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function YM(r){r&&(r.zrByTouch=!0)}function VGe(r,e){return Po(r.dom,new zGe(r,e),!0)}function Voe(r,e){for(var t=e,n=!1;t&&t.nodeType!==9&&!(n=t.domBelongToZr||t!==e&&t===r.painterRoot);)t=t.parentNode;return n}var zGe=function(){function r(e,t){this.stopPropagation=An,this.stopImmediatePropagation=An,this.preventDefault=An,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return r}(),_l={mousedown:function(r){r=Po(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=Po(this.dom,r);var e=this.__mayPointerCapture;e&&(r.zrX!==e[0]||r.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=Po(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=Po(this.dom,r);var e=r.toElement||r.relatedTarget;Voe(this,e)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){o$=!0,r=Po(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){o$||(r=Po(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=Po(this.dom,r),YM(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),_l.mousemove.call(this,r),_l.mousedown.call(this,r)},touchmove:function(r){r=Po(this.dom,r),YM(r),this.handler.processGesture(r,"change"),_l.mousemove.call(this,r)},touchend:function(r){r=Po(this.dom,r),YM(r),this.handler.processGesture(r,"end"),_l.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<FGe&&_l.click.call(this,r)},pointerdown:function(r){_l.mousedown.call(this,r)},pointermove:function(r){ZN(r)||_l.mousemove.call(this,r)},pointerup:function(r){_l.mouseup.call(this,r)},pointerout:function(r){ZN(r)||_l.mouseout.call(this,r)}};B(["click","dblclick","contextmenu"],function(r){_l[r]=function(e){e=Po(this.dom,e),this.trigger(r,e)}});var QN={pointermove:function(r){ZN(r)||QN.mousemove.call(this,r)},pointerup:function(r){QN.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),e&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function UGe(r,e){var t=e.domHandlers;Ht.pointerEventsSupported?B(qM.pointer,function(n){fA(e,n,function(i){t[n].call(r,i)})}):(Ht.touchEventsSupported&&B(qM.touch,function(n){fA(e,n,function(i){t[n].call(r,i),BGe(e)})}),B(qM.mouse,function(n){fA(e,n,function(i){i=fB(i),e.touching||t[n].call(r,i)})}))}function HGe(r,e){Ht.pointerEventsSupported?B(s$.pointer,t):Ht.touchEventsSupported||B(s$.mouse,t);function t(n){function i(a){a=fB(a),Voe(r,a.target)||(a=VGe(r,a),e.domHandlers[n].call(r,a))}fA(e,n,i,{capture:!0})}}function fA(r,e,t,n){r.mounted[e]=t,r.listenerOpts[e]=n,GN(r.domTarget,e,t,n)}function XM(r){var e=r.mounted;for(var t in e)e.hasOwnProperty(t)&&QHe(r.domTarget,t,e[t],r.listenerOpts[t]);r.mounted={}}var l$=function(){function r(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return r}(),GGe=function(r){Qr(e,r);function e(t,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new l$(t,_l),$M&&(i._globalHandlerScope=new l$(document,QN)),UGe(i,i._localHandlerScope),i}return e.prototype.dispose=function(){XM(this._localHandlerScope),$M&&XM(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,$M&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?HGe(this,n):XM(n)}},e}(Jo),zoe=1;Ht.hasGlobalWindow&&(zoe=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var YE=zoe,JN=.4,e4="#333",t4="#ccc",jGe="#eee",u$=Tb,c$=5e-5;function sp(r){return r>c$||r<-c$}var op=[],r0=[],KM=Ps(),ZM=Math.abs,Gc=function(){function r(){}return r.prototype.getLocalTransform=function(e){return r.getLocalTransform(this,e)},r.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},r.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},r.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},r.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},r.prototype.needLocalTransform=function(){return sp(this.rotation)||sp(this.x)||sp(this.y)||sp(this.scaleX-1)||sp(this.scaleY-1)||sp(this.skewX)||sp(this.skewY)},r.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;if(!(t||e)){n&&(u$(n),this.invTransform=null);return}n=n||Ps(),t?this.getLocalTransform(n):u$(n),e&&(t?Wu(n,e,n):OD(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(op);var n=op[0]<0?-1:1,i=op[1]<0?-1:1,a=((op[0]-n)*t+n)/op[0]||0,s=((op[1]-i)*t+i)/op[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||Ps(),rg(this.invTransform,e)},r.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},r.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Ps(),Wu(r0,e.invTransform,t),t=r0);var n=this.originX,i=this.originY;(n||i)&&(KM[4]=n,KM[5]=i,Wu(r0,t,KM),r0[4]-=n,r0[5]-=i,t=r0),this.setLocalTransform(t)}},r.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},r.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Wi(n,n,i),n},r.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Wi(n,n,i),n},r.prototype.getLineScale=function(){var e=this.transform;return e&&ZM(e[0]-1)>1e-10&&ZM(e[3]-1)>1e-10?Math.sqrt(ZM(e[0]*e[3]-e[2]*e[1])):1},r.prototype.copyTransform=function(e){Uoe(this,e)},r.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||i||o||l){var v=n+o,m=i+l;t[4]=-v*a-h*m*s,t[5]=-m*s-p*v*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=p*a,t[2]=h*s,u&&md(t,t,u),t[4]+=n+c,t[5]+=i+f,t},r.initDefaultProps=function(){var e=r.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),r}(),Zu=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Uoe(r,e){for(var t=0;t<Zu.length;t++){var n=Zu[t];r[n]=e[n]}}var f$={};function to(r,e){e=e||rd;var t=f$[e];t||(t=f$[e]=new Ab(500));var n=t.get(r);return n==null&&(n=Gl.measureText(r,e).width,t.put(r,n)),n}function h$(r,e,t,n){var i=to(r,e),a=BD(e),s=V_(0,i,t),o=I0(0,a,n),l=new Tt(s,o,i,a);return l}function Eb(r,e,t,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return h$(i[0],e,t,n);for(var s=new Tt(0,0,0,0),o=0;o<i.length;o++){var l=h$(i[o],e,t,n);o===0?s.copy(l):s.union(l)}return s}function V_(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function I0(r,e,t){return t==="middle"?r-=e/2:t==="bottom"&&(r-=e),r}function BD(r){return to("",r)}function Wl(r,e){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*e:parseFloat(r):r}function XE(r,e,t){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,u=t.y,c="left",f="top";if(n instanceof Array)l+=Wl(n[0],t.width),u+=Wl(n[1],t.height),c=null,f=null;else switch(n){case"left":l-=i,u+=o,c="right",f="middle";break;case"right":l+=i+s,u+=o,f="middle";break;case"top":l+=s/2,u-=i,c="center",f="bottom";break;case"bottom":l+=s/2,u+=a+i,c="center";break;case"inside":l+=s/2,u+=o,c="center",f="middle";break;case"insideLeft":l+=i,u+=o,f="middle";break;case"insideRight":l+=s-i,u+=o,c="right",f="middle";break;case"insideTop":l+=s/2,u+=i,c="center";break;case"insideBottom":l+=s/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,c="right",f="bottom";break}return r=r||{},r.x=l,r.y=u,r.align=c,r.verticalAlign=f,r}var QM="__zr_normal__",JM=Zu.concat(["ignore"]),WGe=Ko(Zu,function(r,e){return r[e]=!0,r},{ignore:!1}),n0={},$Ge=new Tt(0,0,0,0),VD=function(){function r(e){this.id=oB(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return r.prototype._init=function(e){this.attr(e)},r.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(t),n.position!=null){var c=$Ge;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(n0,n,c):XE(n0,n,c),a.x=n0.x,a.y=n0.y,s=n0.align,o=n0.verticalAlign;var f=n.origin;if(f&&n.rotation!=null){var h=void 0,p=void 0;f==="center"?(h=c.width*.5,p=c.height*.5):(h=Wl(f[0],c.width),p=Wl(f[1],c.height)),u=!0,a.originX=-a.x+h+(i?0:c.x),a.originY=-a.y+p+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var v=n.offset;v&&(a.x+=v[0],a.y+=v[1],u||(a.originX=-v[0],a.originY=-v[1]));var m=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,w=void 0,b=void 0;m&&this.canBeInsideText()?(x=n.insideFill,w=n.insideStroke,(x==null||x==="auto")&&(x=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(x),b=!0)):(x=n.outsideFill,w=n.outsideStroke,(x==null||x==="auto")&&(x=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(x),b=!0)),x=x||"#000",(x!==y.fill||w!==y.stroke||b!==y.autoStroke||s!==y.align||o!==y.verticalAlign)&&(l=!0,y.fill=x,y.stroke=w,y.autoStroke=b,y.align=s,y.verticalAlign=o,t.setDefaultTextStyle(y)),t.__dirty|=Xs,l&&t.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(e){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?t4:e4},r.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n=typeof t=="string"&&ls(t);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,Fl(n,"rgba")},r.prototype.traverse=function(e,t){},r.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},Ce(this.extra,t)):this[e]=t},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(ot(e))for(var n=e,i=jt(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==QM)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},r.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,JM)},r.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(e){return this.states[e]},r.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},r.prototype.clearStates=function(e){this.useState(QM,!1,e)},r.prototype.useState=function(e,t,n,i){var a=e===QM,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Ct(o,e)>=0&&(t||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){kD("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,n,c),h&&h.useState(e,t,n,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Xs),u}}},r.prototype.useStates=function(e,t,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var f=i[s-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!t&&!this.__inHover&&v&&v.duration>0,v);var m=this._textContent,y=this._textGuide;m&&m.useStates(e,t,h),y&&y.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Xs)}},r.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},r.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},r.prototype.removeState=function(e){var t=Ct(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},r.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),a=Ct(i,e),s=Ct(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:n&&!s&&i.push(t),this.useStates(i)},r.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},r.prototype._mergeStates=function(e){for(var t={},n,i=0;i<e.length;i++){var a=e[i];Ce(t,a),a.textConfig&&(n=n||{},Ce(n,a.textConfig))}return n&&(t.textConfig=n),t},r.prototype._applyStateObj=function(e,t,n,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=Ce({},i?this.textConfig:n.textConfig),Ce(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<JM.length;c++){var f=JM[c],h=a&&WGe[f];t&&t[f]!=null?h?(u=!0,l[f]=t[f]):this[f]=t[f]:o&&n[f]!=null&&(h?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],v=p.targetName;p.getLoop()||p.__changeFinalValue(v?(t||n)[v]:t||n)}u&&this._transitionState(e,l,s)},r.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},r.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},r.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Gc,this._attachComponent(e),this._textContent=e,this.markRedraw())},r.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ce(this.textConfig,e),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Xs;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},r.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},r.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},r.prototype.animate=function(e,t,n){var i=e?this[e]:this,a=new vB(i,t,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},r.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=Ct(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(e){this.markRedraw()},r.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},r.prototype.animateTo=function(e,t,n){eP(this,e,t,n)},r.prototype.animateFrom=function(e,t,n){eP(this,e,t,n,!0)},r.prototype._transitionState=function(e,t,n,i){for(var a=eP(this,t,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var e=r.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Xs;function t(n,i,a,s){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),r}();Cn(VD,Jo);Cn(VD,Gc);function eP(r,e,t,n,i){t=t||{};var a=[];Hoe(r,"",r,e,t,n,a,i);var s=a.length,o=!1,l=t.done,u=t.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},f=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(v,m){t.during(m)});for(var h=0;h<a.length;h++){var p=a[h];c&&p.done(c),f&&p.aborted(f),t.force&&p.duration(t.duration),p.start(t.easing)}return a}function tP(r,e,t){for(var n=0;n<t;n++)r[n]=e[n]}function qGe(r){return ha(r[0])}function YGe(r,e,t){if(ha(e[t]))if(ha(r[t])||(r[t]=[]),hs(e[t])){var n=e[t].length;r[t].length!==n&&(r[t]=new e[t].constructor(n),tP(r[t],e[t],n))}else{var i=e[t],a=r[t],s=i.length;if(qGe(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?tP(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else tP(a,i,s);a.length=i.length}else r[t]=e[t]}function XGe(r,e){return r===e||ha(r)&&ha(e)&&KGe(r,e)}function KGe(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function Hoe(r,e,t,n,i,a,s,o){for(var l=jt(n),u=i.duration,c=i.delay,f=i.additive,h=i.setToFinal,p=!ot(a),v=r.animators,m=[],y=0;y<l.length;y++){var x=l[y],w=n[x];if(w!=null&&t[x]!=null&&(p||a[x]))if(ot(w)&&!ha(w)&&!bb(w)){if(e){o||(t[x]=w,r.updateDuringAnimation(e));continue}Hoe(r,x,t[x],w,i,a&&a[x],s,o)}else m.push(x);else o||(t[x]=w,r.updateDuringAnimation(e),m.push(x))}var b=m.length;if(!f&&b)for(var T=0;T<v.length;T++){var C=v[T];if(C.targetName===e){var D=C.stopTracks(m);if(D){var A=Ct(v,C);v.splice(A,1)}}}if(i.force||(m=sr(m,function(P){return!XGe(n[P],t[P])}),b=m.length),b>0||i.force&&!s.length){var k=void 0,I=void 0,M=void 0;if(o){I={},h&&(k={});for(var T=0;T<b;T++){var x=m[T];I[x]=t[x],h?k[x]=n[x]:t[x]=n[x]}}else if(h){M={};for(var T=0;T<b;T++){var x=m[T];M[x]=Tx(t[x]),YGe(t,n,x)}}var C=new vB(t,!1,!1,f?sr(v,function(O){return O.targetName===e}):null);C.targetName=e,i.scope&&(C.scope=i.scope),h&&k&&C.whenWithKeys(0,k,m),M&&C.whenWithKeys(0,M,m),C.whenWithKeys(u??500,o?I:n,m).delay(c||0),r.addAnimator(C,e),s.push(C)}}var ft=function(r){Qr(e,r);function e(t){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===t)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,n){var i=Ct(this._children,t);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(t,n){var i=this._children,a=i[n];if(t&&t!==this&&t.parent!==this&&t!==a){i[n]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(t){var n=this.__zr,i=this._children,a=Ct(i,t);return a<0?this:(i.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,i=0;i<t.length;i++){var a=t[i];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(n,s,a)}return this},e.prototype.traverse=function(t,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(n,a);a.isGroup&&!s&&a.traverse(t,n)}return this},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var n=new Tt(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Tt.applyTransform(n,u,c),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},e}(VD);ft.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var hA={},Xp={};function ZGe(r){delete Xp[r]}function QGe(r){if(!r)return!1;if(typeof r=="string")return gw(r,1)<JN;if(r.colorStops){for(var e=r.colorStops,t=0,n=e.length,i=0;i<n;i++)t+=gw(e[i].color,1);return t/=n,t<JN}return!1}var JGe=function(){function r(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var a=new cGe,s=n.renderer||"canvas";hA[s]||(s=jt(hA)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new hA[s](t,a,n,e),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!Ht.node&&!Ht.worker&&!l?new GGe(o.getViewportRoot(),o.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?Ht.touchEventsSupported:!!c,h=44,p;f&&(p=vt(n.pointerSize,h)),this.handler=new woe(a,o,u,o.root,p),this.animation=new NGe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},r.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},r.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=QGe(e))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(e){this._darkMode=e},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(e){var t,n=W0();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=W0();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},r.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},r.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},r.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},r.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},r.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof ft&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,ZGe(this.id))},r}();function r4(r,e){var t=new JGe(oB(),r,e);return Xp[t.id]=t,t}function eje(r){r.dispose()}function tje(){for(var r in Xp)Xp.hasOwnProperty(r)&&Xp[r].dispose();Xp={}}function rje(r){return Xp[r]}function Goe(r,e){hA[r]=e}var n4;function joe(r){if(typeof n4=="function")return n4(r)}function Woe(r){n4=r}var nje="5.6.1";const ije=Object.freeze(Object.defineProperty({__proto__:null,dispose:eje,disposeAll:tje,getElementSSRData:joe,getInstance:rje,init:r4,registerPainter:Goe,registerSSRDataGetter:Woe,version:nje},Symbol.toStringTag,{value:"Module"}));var d$=1e-4,$oe=20;function aje(r){return r.replace(/^\s+|\s+$/g,"")}function fr(r,e,t,n){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(n)if(l>0){if(r<=i)return s;if(r>=a)return o}else{if(r>=i)return s;if(r<=a)return o}else{if(r===i)return s;if(r===a)return o}return(r-i)/l*u+s}function We(r,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return $e(r)?aje(r).match(/%$/)?parseFloat(r)/100*e:parseFloat(r):r==null?NaN:+r}function yn(r,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),$oe),r=(+r).toFixed(e),t?r:+r}function Js(r){return r.sort(function(e,t){return e-t}),r}function Rl(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(r*e)/e===r)return t}return qoe(r)}function qoe(r){var e=r.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function gB(r,e){var t=Math.log,n=Math.LN10,i=Math.floor(t(r[1]-r[0])/n),a=Math.round(t(Math.abs(e[1]-e[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function sje(r,e,t){if(!r[e])return 0;var n=Yoe(r,t);return n[e]||0}function Yoe(r,e){var t=Ko(r,function(p,v){return p+(isNaN(v)?0:v)},0);if(t===0)return[];for(var n=Math.pow(10,e),i=Pe(r,function(p){return(isNaN(p)?0:p)/t*n*100}),a=n*100,s=Pe(i,function(p){return Math.floor(p)}),o=Ko(s,function(p,v){return p+v},0),l=Pe(i,function(p,v){return p-s[v]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++s[c],l[c]=0,++o}return Pe(s,function(p){return p/n})}function oje(r,e){var t=Math.max(Rl(r),Rl(e)),n=r+e;return t>$oe?n:yn(n,t)}var i4=9007199254740991;function mB(r){var e=Math.PI*2;return(r%e+e)%e}function Gm(r){return r>-d$&&r<d$}var lje=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ao(r){if(r instanceof Date)return r;if($e(r)){var e=lje.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function Xoe(r){return Math.pow(10,zD(r))}function zD(r){if(r===0)return 0;var e=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,e)>=10&&e++,e}function yB(r,e){var t=zD(r),n=Math.pow(10,t),i=r/n,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,r=a*n,t>=-20?+r.toFixed(t<0?-t:0):r}function dA(r,e){var t=(r.length-1)*e+1,n=Math.floor(t),i=+r[n-1],a=t-n;return a?i+a*(r[n]-i):i}function a4(r){r.sort(function(l,u){return o(l,u,0)?-1:1});for(var e=-1/0,t=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,s=0;s<2;s++)i[s]<=e&&(i[s]=e,a[s]=s?1:1-t),e=i[s],t=a[s];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function Qu(r){var e=parseFloat(r);return e==r&&(e!==0||!$e(r)||r.indexOf("x")<=0)?e:NaN}function _B(r){return!isNaN(Qu(r))}function Koe(){return Math.round(Math.random()*9)}function Zoe(r,e){return e===0?r:Zoe(e,r%e)}function p$(r,e){return r==null?e:e==null?r:r*e/Zoe(r,e)}function pr(r){throw new Error(r)}function v$(r,e,t){return(e-r)*t+r}var Qoe="series\0",Joe="\0_ec_\0";function Pr(r){return r instanceof Array?r:r==null?[]:[r]}function Pv(r,e,t){if(r){r[e]=r[e]||{},r.emphasis=r.emphasis||{},r.emphasis[e]=r.emphasis[e]||{};for(var n=0,i=t.length;n<i;n++){var a=t[n];!r.emphasis[e].hasOwnProperty(a)&&r[e].hasOwnProperty(a)&&(r.emphasis[e][a]=r[e][a])}}}var g$=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function yy(r){return ot(r)&&!ke(r)&&!(r instanceof Date)?r.value:r}function uje(r){return ot(r)&&!(r instanceof Array)}function ele(r,e,t){var n=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";r=r||[],e=(e||[]).slice();var s=Je();B(e,function(l,u){if(!ot(l)){e[u]=null;return}});var o=cje(r,s,t);return(n||i)&&fje(o,r,s,e),n&&hje(o,e),n||i?dje(o,e,i):a&&pje(o,e),vje(o),o}function cje(r,e,t){var n=[];if(t==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:t==="replaceMerge"||yw(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function fje(r,e,t,n){B(n,function(i,a){if(!(!i||i.id==null)){var s=Ax(i.id),o=t.get(s);if(o!=null){var l=r[o];Ba(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],n[a]=null}}})}function hje(r,e){B(e,function(t,n){if(!(!t||t.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||t.id==null)&&!yw(t)&&!yw(a)&&tle("name",a,t)){r[i].newOption=t,e[n]=null;return}}})}function dje(r,e,t){B(e,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||yw(i.existing)||i.existing&&n.id!=null&&!tle("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=t):r.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),a++}})}function pje(r,e){B(e,function(t){r.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function vje(r){var e=Je();B(r,function(t){var n=t.existing;n&&e.set(n.id,t)}),B(r,function(t){var n=t.newOption;Ba(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),B(r,function(t,n){var i=t.existing,a=t.newOption,s=t.keyInfo;if(ot(a)){if(s.name=a.name!=null?Ax(a.name):i?i.name:Qoe+n,i)s.id=Ax(i.id);else if(a.id!=null)s.id=Ax(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function tle(r,e,t){var n=vi(e[r],null),i=vi(t[r],null);return n!=null&&i!=null&&n===i}function Ax(r){return vi(r,"")}function vi(r,e){return r==null?e:$e(r)?r:tr(r)||VE(r)?r+"":e}function xB(r){var e=r.name;return!!(e&&e.indexOf(Qoe))}function yw(r){return r&&r.id!=null&&Ax(r.id).indexOf(Joe)===0}function gje(r){return Joe+r}function mje(r,e,t){B(r,function(n){var i=n.newOption;ot(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=yje(e,i,n.existing,t))})}function yje(r,e,t,n){var i=e.type?e.type:t?t.subType:n.determineSubType(r,e);return i}function _je(r,e){var t={},n={};return i(r||[],t),i(e||[],n,t),[a(t),a(n)];function i(s,o,l){for(var u=0,c=s.length;u<c;u++){var f=vi(s[u].seriesId,null);if(f==null)return;for(var h=Pr(s[u].dataIndex),p=l&&l[f],v=0,m=h.length;v<m;v++){var y=h[v];p&&p[y]?p[y]=null:(o[f]||(o[f]={}))[y]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Lv(r,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ke(e.dataIndex)?Pe(e.dataIndex,function(t){return r.indexOfRawIndex(t)}):r.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ke(e.name)?Pe(e.name,function(t){return r.indexOfName(t)}):r.indexOfName(e.name)}function Qt(){var r="__ec_inner_"+xje++;return function(e){return e[r]||(e[r]={})}}var xje=Koe();function Ex(r,e,t){var n=wB(e,t),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=Cb(r,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[c+"Models"]=f.models,o[c+"Model"]=f.models[0]}),o}function wB(r,e){var t;if($e(r)){var n={};n[r+"Index"]=0,t=n}else t=r;var i=Je(),a={},s=!1;return B(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&Ct(e.includeMainTypes,c)<0)){s=s||!!c;var h=i.get(c)||i.set(c,{});h[f]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Qn={useDefault:!0,enableAll:!1,enableNone:!1},wje={useDefault:!1,enableAll:!0,enableNone:!0};function Cb(r,e,t,n){n=n||Qn;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=r.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(Ba(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Ba(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=r.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function rle(r,e,t){r.setAttribute?r.setAttribute(e,t):r[e]=t}function bje(r,e){return r.getAttribute?r.getAttribute(e):r[e]}function Sje(r){return r==="auto"?Ht.domSupported?"html":"richText":r||"html"}function s4(r,e){var t=Je(),n=[];return B(r,function(i){var a=e(i);(t.get(a)||(n.push(a),t.set(a,[]))).push(i)}),{keys:n,buckets:t}}function nle(r,e,t,n,i){var a=e==null||e==="auto";if(n==null)return n;if(tr(n)){var s=v$(t||0,n,i);return yn(s,a?Math.max(Rl(t||0),Rl(n)):e)}else{if($e(n))return i<1?t:n;for(var o=[],l=t,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=r.getDimensionInfo(f);if(h&&h.type==="ordinal")o[f]=(i<1&&l?l:u)[f];else{var p=l&&l[f]?l[f]:0,v=u[f],s=v$(p,v,i);o[f]=yn(s,a?Math.max(Rl(p),Rl(v)):e)}}return o}}var Tje=".",lp="___EC__COMPONENT__CONTAINER___",ile="___EC__EXTENDED_CLASS___";function Ru(r){var e={main:"",sub:""};if(r){var t=r.split(Tje);e.main=t[0]||"",e.sub=t[1]||""}return e}function Aje(r){Ba(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function Eje(r){return!!(r&&r[ile])}function bB(r,e){r.$constructor=r,r.extend=function(t){var n=this,i;return Cje(n)?i=function(a){ge(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(i=function(){(t.$constructor||n).apply(this,arguments)},lB(i,this)),Ce(i.prototype,t),i[ile]=!0,i.extend=this.extend,i.superCall=Rje,i.superApply=kje,i.superClass=n,i}}function Cje(r){return rt(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function ale(r,e){r.extend=e.extend}var Dje=Math.round(Math.random()*10);function Ije(r){var e=["__\0is_clz",Dje++].join("_");r.prototype[e]=!0,r.isInstance=function(t){return!!(t&&t[e])}}function Rje(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(r,t)}function kje(r,e,t){return this.superClass.prototype[e].apply(r,t)}function UD(r){var e={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){Aje(i),n.prototype.type=i;var a=Ru(i);if(!a.sub)e[a.main]=n;else if(a.sub!==lp){var s=t(a);s[a.sub]=n}}return n},r.getClass=function(n,i,a){var s=e[n];if(s&&s[lp]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},r.getClassesByMainType=function(n){var i=Ru(n),a=[],s=e[i.main];return s&&s[lp]?B(s,function(o,l){l!==lp&&a.push(o)}):a.push(s),a},r.hasClass=function(n){var i=Ru(n);return!!e[i.main]},r.getAllClassMainTypes=function(){var n=[];return B(e,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=Ru(n),a=e[i.main];return a&&a[lp]};function t(n){var i=e[n.main];return(!i||!i[lp])&&(i=e[n.main]={},i[lp]=!0),i}}function Ov(r,e){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return e=e||!1,function(n,i,a){for(var s={},o=0;o<r.length;o++){var l=r[o][1];if(!(i&&Ct(i,l)>=0||a&&Ct(a,l)<0)){var u=n.getShallow(l,e);u!=null&&(s[r[o][0]]=u)}}return s}}var Mje=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Pje=Ov(Mje),Lje=function(){function r(){}return r.prototype.getAreaStyle=function(e,t){return Pje(this,e,t)},r}(),o4=new Ab(50);function Oje(r){if(typeof r=="string"){var e=o4.get(r);return e&&e.image}else return r}function SB(r,e,t,n,i){if(r)if(typeof r=="string"){if(e&&e.__zrImageSrc===r||!t)return e;var a=o4.get(r),s={hostEl:t,cb:n,cbPayload:i};return a?(e=a.image,!HD(e)&&a.pending.push(s)):(e=Gl.loadImage(r,m$,m$),e.__zrImageSrc=r,o4.put(r,e.__cachedImgObj={image:e,pending:[s]})),e}else return r;else return e}function m$(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<r.pending.length;e++){var t=r.pending[e],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}r.pending.length=0}function HD(r){return r&&r.width&&r.height}var rP=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Nje(r,e,t,n,i){var a={};return sle(a,r,e,t,n,i),a.text}function sle(r,e,t,n,i,a){if(!t){r.text="",r.isTruncated=!1;return}var s=(e+"").split(`
`);a=ole(t,n,i,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)lle(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;r.text=s.join(`
`),r.isTruncated=o}function ole(r,e,t,n){n=n||{};var i=Ce({},n);i.font=e,t=vt(t,"..."),i.maxIterations=vt(n.maxIterations,2);var a=i.minChar=vt(n.minChar,0);i.cnCharWidth=to("",e);var s=i.ascCharWidth=to("a",e);i.placeholder=vt(n.placeholder,"");for(var o=r=Math.max(0,r-1),l=0;l<a&&o>=s;l++)o-=s;var u=to(t,e);return u>o&&(t="",u=0),o=r-u,i.ellipsis=t,i.ellipsisWidth=u,i.contentWidth=o,i.containerWidth=r,i}function lle(r,e,t){var n=t.containerWidth,i=t.font,a=t.contentWidth;if(!n){r.textLine="",r.isTruncated=!1;return}var s=to(e,i);if(s<=n){r.textLine=e,r.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?Fje(e,a,t.ascCharWidth,t.cnCharWidth):s>0?Math.floor(e.length*a/s):0;e=e.substr(0,l),s=to(e,i)}e===""&&(e=t.placeholder),r.textLine=e,r.isTruncated=!0}function Fje(r,e,t,n){for(var i=0,a=0,s=r.length;a<s&&i<e;a++){var o=r.charCodeAt(a);i+=0<=o&&o<=127?t:n}return a}function Bje(r,e){r!=null&&(r+="");var t=e.overflow,n=e.padding,i=e.font,a=t==="truncate",s=BD(i),o=vt(e.lineHeight,s),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=!1,f=e.width,h;f!=null&&(t==="break"||t==="breakAll")?h=r?ule(r,e.font,f,t==="breakAll",0).lines:[]:h=r?r.split(`
`):[];var p=h.length*o,v=vt(e.height,p);if(p>v&&u){var m=Math.floor(v/o);c=c||h.length>m,h=h.slice(0,m)}if(r&&a&&f!=null)for(var y=ole(f,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),x={},w=0;w<h.length;w++)lle(x,h[w],y),h[w]=x.textLine,c=c||x.isTruncated;for(var b=v,T=0,w=0;w<h.length;w++)T=Math.max(to(h[w],i),T);f==null&&(f=T);var C=T;return n&&(b+=n[0]+n[2],C+=n[1]+n[3],f+=n[1]+n[3]),l&&(C=f),{lines:h,height:v,outerWidth:C,outerHeight:b,lineHeight:o,calculatedLineHeight:s,contentWidth:T,contentHeight:p,width:f,isTruncated:c}}var Vje=function(){function r(){}return r}(),y$=function(){function r(e){this.tokens=[],e&&(this.tokens=e)}return r}(),zje=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r}();function Uje(r,e){var t=new zje;if(r!=null&&(r+=""),!r)return t;for(var n=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,o=rP.lastIndex=0,l;(l=rP.exec(r))!=null;){var u=l.index;u>o&&nP(t,r.substring(o,u),e,s),nP(t,l[2],e,s,l[1]),o=rP.lastIndex}o<r.length&&nP(t,r.substring(o,r.length),e,s);var c=[],f=0,h=0,p=e.padding,v=a==="truncate",m=e.lineOverflow==="truncate",y={};function x(W,Q,H){W.width=Q,W.lineHeight=H,f+=H,h=Math.max(h,Q)}e:for(var w=0;w<t.lines.length;w++){for(var b=t.lines[w],T=0,C=0,D=0;D<b.tokens.length;D++){var A=b.tokens[D],k=A.styleName&&e.rich[A.styleName]||{},I=A.textPadding=k.padding,M=I?I[1]+I[3]:0,P=A.font=k.font||e.font;A.contentHeight=BD(P);var O=vt(k.height,A.contentHeight);if(A.innerHeight=O,I&&(O+=I[0]+I[2]),A.height=O,A.lineHeight=Ol(k.lineHeight,e.lineHeight,O),A.align=k&&k.align||e.align,A.verticalAlign=k&&k.verticalAlign||"middle",m&&i!=null&&f+A.lineHeight>i){var N=t.lines.length;D>0?(b.tokens=b.tokens.slice(0,D),x(b,C,T),t.lines=t.lines.slice(0,w+1)):t.lines=t.lines.slice(0,w),t.isTruncated=t.isTruncated||t.lines.length<N;break e}var G=k.width,j=G==null||G==="auto";if(typeof G=="string"&&G.charAt(G.length-1)==="%")A.percentWidth=G,c.push(A),A.contentWidth=to(A.text,P);else{if(j){var U=k.backgroundColor,X=U&&U.image;X&&(X=Oje(X),HD(X)&&(A.width=Math.max(A.width,X.width*O/X.height)))}var ie=v&&n!=null?n-C:null;ie!=null&&ie<A.width?!j||ie<M?(A.text="",A.width=A.contentWidth=0):(sle(y,A.text,ie-M,P,e.ellipsis,{minChar:e.truncateMinChar}),A.text=y.text,t.isTruncated=t.isTruncated||y.isTruncated,A.width=A.contentWidth=to(A.text,P)):A.contentWidth=to(A.text,P)}A.width+=M,C+=A.width,k&&(T=Math.max(T,A.lineHeight))}x(b,C,T)}t.outerWidth=t.width=vt(n,h),t.outerHeight=t.height=vt(i,f),t.contentHeight=f,t.contentWidth=h,p&&(t.outerWidth+=p[1]+p[3],t.outerHeight+=p[0]+p[2]);for(var w=0;w<c.length;w++){var A=c[w],Z=A.percentWidth;A.width=parseInt(Z,10)/100*t.width}return t}function nP(r,e,t,n,i){var a=e==="",s=i&&t.rich[i]||{},o=r.lines,l=s.font||t.font,u=!1,c,f;if(n){var h=s.padding,p=h?h[1]+h[3]:0;if(s.width!=null&&s.width!=="auto"){var v=Wl(s.width,n.width)+p;o.length>0&&v+n.accumWidth>n.width&&(c=e.split(`
`),u=!0),n.accumWidth=v}else{var m=ule(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=m.accumWidth+p,f=m.linesWidths,c=m.lines}}else c=e.split(`
`);for(var y=0;y<c.length;y++){var x=c[y],w=new Vje;if(w.styleName=i,w.text=x,w.isLineHolder=!x&&!a,typeof s.width=="number"?w.width=s.width:w.width=f?f[y]:to(x,l),!y&&!u){var b=(o[o.length-1]||(o[0]=new y$)).tokens,T=b.length;T===1&&b[0].isLineHolder?b[0]=w:(x||!T||a)&&b.push(w)}else o.push(new y$([w]))}}function Hje(r){var e=r.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Gje=Ko(",&?/;] ".split(""),function(r,e){return r[e]=!0,r},{});function jje(r){return Hje(r)?!!Gje[r]:!0}function ule(r,e,t,n,i){for(var a=[],s=[],o="",l="",u=0,c=0,f=0;f<r.length;f++){var h=r.charAt(f);if(h===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var p=to(h,e),v=n?!1:!jje(h);if(a.length?c+p>t:i+c+p>t){c?(o||l)&&(v?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=h,u+=p,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=h,c=p)):v?(a.push(l),s.push(u),l=h,u=p):(a.push(h),s.push(p));continue}c+=p,v?(l+=h,u+=p):(l&&(o+=l,l="",u=0),o+=h)}return!a.length&&!o&&(o=r,l="",u=0),l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:s}}var l4="__zr_style_"+Math.round(Math.random()*10),hv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},GD={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};hv[l4]=!0;var _$=["z","z2","invisible"],Wje=["invisible"],Zo=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype._init=function(t){for(var n=jt(t),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(t[a]):r.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&$je(this,t,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,n){return this.rectContain(t,n)},e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.rectContain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Tt(0,0,0,0)),n?Tt.applyTransform(t,i,n):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Tt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,n){t!=="style"?r.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,n){return typeof t=="string"?this.style[t]=n:Ce(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=F_,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&F_)},e.prototype.styleUpdated=function(){this.__dirty&=~F_},e.prototype.createStyle=function(t){return Sb(hv,t)},e.prototype.useStyle=function(t){t[l4]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[l4]},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,_$)},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.style?s?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=jt(c),h=0;h<f.length;h++){var p=f[h];p in u&&(u[p]=u[p],this.style[p]=c[p])}for(var v=jt(u),h=0;h<v.length;h++){var p=v[h];this.style[p]=this.style[p]}this._transitionState(t,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?Wje:_$,h=0;h<m.length;h++){var p=m[h];n&&n[p]!=null?this[p]=n[p]:l&&i[p]!=null&&(this[p]=i[p])}},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,n){return Ce(t,n),t},e.prototype.getAnimationStyleProps=function(){return GD},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Xs|F_}(),e}(VD),iP=new Tt(0,0,0,0),aP=new Tt(0,0,0,0);function $je(r,e,t){return iP.copy(r.getBoundingRect()),r.transform&&iP.applyTransform(r.transform),aP.width=e,aP.height=t,!iP.intersect(aP)}var Es=Math.min,Cs=Math.max,sP=Math.sin,oP=Math.cos,up=Math.PI*2,QT=gd(),JT=gd(),e2=gd();function jD(r,e,t){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<r.length;l++)n=r[l],i=Es(i,n[0]),a=Cs(a,n[0]),s=Es(s,n[1]),o=Cs(o,n[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function x$(r,e,t,n,i,a){i[0]=Es(r,t),i[1]=Es(e,n),a[0]=Cs(r,t),a[1]=Cs(e,n)}var w$=[],b$=[];function qje(r,e,t,n,i,a,s,o,l,u){var c=Eoe,f=Ai,h=c(r,t,i,s,w$);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<h;p++){var v=f(r,t,i,s,w$[p]);l[0]=Es(v,l[0]),u[0]=Cs(v,u[0])}h=c(e,n,a,o,b$);for(var p=0;p<h;p++){var m=f(e,n,a,o,b$[p]);l[1]=Es(m,l[1]),u[1]=Cs(m,u[1])}l[0]=Es(r,l[0]),u[0]=Cs(r,u[0]),l[0]=Es(s,l[0]),u[0]=Cs(s,u[0]),l[1]=Es(e,l[1]),u[1]=Cs(e,u[1]),l[1]=Es(o,l[1]),u[1]=Cs(o,u[1])}function Yje(r,e,t,n,i,a,s,o){var l=Doe,u=Hi,c=Cs(Es(l(r,t,i),1),0),f=Cs(Es(l(e,n,a),1),0),h=u(r,t,i,c),p=u(e,n,a,f);s[0]=Es(r,i,h),s[1]=Es(e,a,p),o[0]=Cs(r,i,h),o[1]=Cs(e,a,p)}function Xje(r,e,t,n,i,a,s,o,l){var u=Uc,c=Hc,f=Math.abs(i-a);if(f%up<1e-4&&f>1e-4){o[0]=r-t,o[1]=e-n,l[0]=r+t,l[1]=e+n;return}if(QT[0]=oP(i)*t+r,QT[1]=sP(i)*n+e,JT[0]=oP(a)*t+r,JT[1]=sP(a)*n+e,u(o,QT,JT),c(l,QT,JT),i=i%up,i<0&&(i=i+up),a=a%up,a<0&&(a=a+up),i>a&&!s?a+=up:i<a&&s&&(i+=up),s){var h=a;a=i,i=h}for(var p=0;p<a;p+=Math.PI/2)p>i&&(e2[0]=oP(p)*t+r,e2[1]=sP(p)*n+e,u(o,e2,o),c(l,e2,l))}var zr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},cp=[],fp=[],pu=[],$f=[],vu=[],gu=[],lP=Math.min,uP=Math.max,hp=Math.cos,dp=Math.sin,Cc=Math.abs,u4=Math.PI,th=u4*2,cP=typeof Float32Array<"u",Q1=[];function fP(r){var e=Math.round(r/u4*1e8)/1e8;return e%2*u4}function TB(r,e){var t=fP(r[0]);t<0&&(t+=th);var n=t-r[0],i=r[1];i+=n,!e&&i-t>=th?i=t+th:e&&t-i>=th?i=t-th:!e&&t>i?i=t+(th-fP(t-i)):e&&t<i&&(i=t-(th-fP(i-t))),r[0]=t,r[1]=i}var Ju=function(){function r(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=Cc(n/YE/e)||0,this._uy=Cc(n/YE/t)||0)},r.prototype.setDPR=function(e){this.dpr=e},r.prototype.setContext=function(e){this._ctx=e},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(zr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},r.prototype.lineTo=function(e,t){var n=Cc(e-this._xi),i=Cc(t-this._yi),a=n>this._ux||i>this._uy;if(this.addData(zr.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){return this._drawPendingPt(),this.addData(zr.C,e,t,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,a,s),this._xi=a,this._yi=s,this},r.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(zr.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(e,t,n,i,a,s){this._drawPendingPt(),Q1[0]=i,Q1[1]=a,TB(Q1,s),i=Q1[0],a=Q1[1];var o=a-i;return this.addData(zr.A,e,t,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,i,a,s),this._xi=hp(a)*n+e,this._yi=dp(a)*n+t,this},r.prototype.arcTo=function(e,t,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,a),this},r.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(zr.R,e,t,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(zr.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},r.prototype.fill=function(e){e&&e.fill(),this.toStatic()},r.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&cP&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},r.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,a=0;a<t;a++)n+=e[a].len();cP&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<t;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},r.prototype.addData=function(e,t,n,i,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,cP&&this._len>11&&(this.data=new Float32Array(e)))}},r.prototype.getBoundingRect=function(){pu[0]=pu[1]=vu[0]=vu[1]=Number.MAX_VALUE,$f[0]=$f[1]=gu[0]=gu[1]=-Number.MAX_VALUE;var e=this.data,t=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],n=e[s+1],i=t,a=n),o){case zr.M:t=i=e[s++],n=a=e[s++],vu[0]=i,vu[1]=a,gu[0]=i,gu[1]=a;break;case zr.L:x$(t,n,e[s],e[s+1],vu,gu),t=e[s++],n=e[s++];break;case zr.C:qje(t,n,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],vu,gu),t=e[s++],n=e[s++];break;case zr.Q:Yje(t,n,e[s++],e[s++],e[s],e[s+1],vu,gu),t=e[s++],n=e[s++];break;case zr.A:var u=e[s++],c=e[s++],f=e[s++],h=e[s++],p=e[s++],v=e[s++]+p;s+=1;var m=!e[s++];l&&(i=hp(p)*f+u,a=dp(p)*h+c),Xje(u,c,f,h,p,v,m,vu,gu),t=hp(v)*f+u,n=dp(v)*h+c;break;case zr.R:i=t=e[s++],a=n=e[s++];var y=e[s++],x=e[s++];x$(i,a,i+y,a+x,vu,gu);break;case zr.Z:t=i,n=a;break}Uc(pu,pu,vu),Hc($f,$f,gu)}return s===0&&(pu[0]=pu[1]=$f[0]=$f[1]=0),new Tt(pu[0],pu[1],$f[0]-pu[0],$f[1]-pu[1])},r.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<t;){var p=e[h++],v=h===1;v&&(a=e[h],s=e[h+1],o=a,l=s);var m=-1;switch(p){case zr.M:a=o=e[h++],s=l=e[h++];break;case zr.L:{var y=e[h++],x=e[h++],w=y-a,b=x-s;(Cc(w)>n||Cc(b)>i||h===t-1)&&(m=Math.sqrt(w*w+b*b),a=y,s=x);break}case zr.C:{var T=e[h++],C=e[h++],y=e[h++],x=e[h++],D=e[h++],A=e[h++];m=fGe(a,s,T,C,y,x,D,A,10),a=D,s=A;break}case zr.Q:{var T=e[h++],C=e[h++],y=e[h++],x=e[h++];m=dGe(a,s,T,C,y,x,10),a=y,s=x;break}case zr.A:var k=e[h++],I=e[h++],M=e[h++],P=e[h++],O=e[h++],N=e[h++],G=N+O;h+=1,v&&(o=hp(O)*M+k,l=dp(O)*P+I),m=uP(M,P)*lP(th,Math.abs(N)),a=hp(G)*M+k,s=dp(G)*P+I;break;case zr.R:{o=a=e[h++],l=s=e[h++];var j=e[h++],U=e[h++];m=j*2+U*2;break}case zr.Z:{var w=o-a,b=l-s;m=Math.sqrt(w*w+b*b),a=o,s=l;break}}m>=0&&(u[f++]=m,c+=m)}return this._pathLen=c,c},r.prototype.rebuildPath=function(e,t){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,c,f,h,p=t<1,v,m,y=0,x=0,w,b=0,T,C;if(!(p&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,m=this._pathLen,w=t*m,!w)))e:for(var D=0;D<s;){var A=n[D++],k=D===1;switch(k&&(u=n[D],c=n[D+1],o=u,l=c),A!==zr.L&&b>0&&(e.lineTo(T,C),b=0),A){case zr.M:o=u=n[D++],l=c=n[D++],e.moveTo(u,c);break;case zr.L:{f=n[D++],h=n[D++];var I=Cc(f-u),M=Cc(h-c);if(I>i||M>a){if(p){var P=v[x++];if(y+P>w){var O=(w-y)/P;e.lineTo(u*(1-O)+f*O,c*(1-O)+h*O);break e}y+=P}e.lineTo(f,h),u=f,c=h,b=0}else{var N=I*I+M*M;N>b&&(T=f,C=h,b=N)}break}case zr.C:{var G=n[D++],j=n[D++],U=n[D++],X=n[D++],ie=n[D++],Z=n[D++];if(p){var P=v[x++];if(y+P>w){var O=(w-y)/P;nd(u,G,U,ie,O,cp),nd(c,j,X,Z,O,fp),e.bezierCurveTo(cp[1],fp[1],cp[2],fp[2],cp[3],fp[3]);break e}y+=P}e.bezierCurveTo(G,j,U,X,ie,Z),u=ie,c=Z;break}case zr.Q:{var G=n[D++],j=n[D++],U=n[D++],X=n[D++];if(p){var P=v[x++];if(y+P>w){var O=(w-y)/P;dw(u,G,U,O,cp),dw(c,j,X,O,fp),e.quadraticCurveTo(cp[1],fp[1],cp[2],fp[2]);break e}y+=P}e.quadraticCurveTo(G,j,U,X),u=U,c=X;break}case zr.A:var W=n[D++],Q=n[D++],H=n[D++],ee=n[D++],J=n[D++],se=n[D++],de=n[D++],Me=!n[D++],Se=H>ee?H:ee,xe=Cc(H-ee)>.001,Te=J+se,Oe=!1;if(p){var P=v[x++];y+P>w&&(Te=J+se*(w-y)/P,Oe=!0),y+=P}if(xe&&e.ellipse?e.ellipse(W,Q,H,ee,de,J,Te,Me):e.arc(W,Q,Se,J,Te,Me),Oe)break e;k&&(o=hp(J)*H+W,l=dp(J)*ee+Q),u=hp(Te)*H+W,c=dp(Te)*ee+Q;break;case zr.R:o=u=n[D],l=c=n[D+1],f=n[D++],h=n[D++];var ne=n[D++],pt=n[D++];if(p){var P=v[x++];if(y+P>w){var tt=w-y;e.moveTo(f,h),e.lineTo(f+lP(tt,ne),h),tt-=ne,tt>0&&e.lineTo(f+ne,h+lP(tt,pt)),tt-=pt,tt>0&&e.lineTo(f+uP(ne-tt,0),h+pt),tt-=ne,tt>0&&e.lineTo(f,h+uP(pt-tt,0));break e}y+=P}e.rect(f,h,ne,pt);break;case zr.Z:if(p){var P=v[x++];if(y+P>w){var O=(w-y)/P;e.lineTo(u*(1-O)+o*O,c*(1-O)+l*O);break e}y+=P}e.closePath(),u=o,c=l}}},r.prototype.clone=function(){var e=new r,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},r.CMD=zr,r.initDefaultProps=function(){var e=r.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),r}();function nh(r,e,t,n,i,a,s){if(i===0)return!1;var o=i,l=0,u=r;if(s>e+o&&s>n+o||s<e-o&&s<n-o||a>r+o&&a>t+o||a<r-o&&a<t-o)return!1;if(r!==t)l=(e-n)/(r-t),u=(r*n-t*e)/(r-t);else return Math.abs(a-r)<=o/2;var c=l*a-s+u,f=c*c/(l*l+1);return f<=o/2*o/2}function Kje(r,e,t,n,i,a,s,o,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>n+f&&c>a+f&&c>o+f||c<e-f&&c<n-f&&c<a-f&&c<o-f||u>r+f&&u>t+f&&u>i+f&&u>s+f||u<r-f&&u<t-f&&u<i-f&&u<s-f)return!1;var h=Coe(r,e,t,n,i,a,s,o,u,c,null);return h<=f/2}function cle(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>e+u&&l>n+u&&l>a+u||l<e-u&&l<n-u&&l<a-u||o>r+u&&o>t+u&&o>i+u||o<r-u&&o<t-u&&o<i-u)return!1;var c=Ioe(r,e,t,n,i,a,o,l,null);return c<=u/2}var S$=Math.PI*2;function eo(r){return r%=S$,r<0&&(r+=S$),r}var J1=Math.PI*2;function Zje(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var u=s;o-=r,l-=e;var c=Math.sqrt(o*o+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(n-i)%J1<1e-4)return!0;if(a){var f=n;n=eo(i),i=eo(f)}else n=eo(n),i=eo(i);n>i&&(i+=J1);var h=Math.atan2(l,o);return h<0&&(h+=J1),h>=n&&h<=i||h+J1>=n&&h+J1<=i}function Lc(r,e,t,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var s=(a-e)/(n-e),o=n<e?1:-1;(s===1||s===0)&&(o=n<e?.5:-.5);var l=s*(t-r)+r;return l===i?1/0:l>i?o:0}var qf=Ju.CMD,pp=Math.PI*2,Qje=1e-4;function Jje(r,e){return Math.abs(r-e)<Qje}var Ja=[-1,-1,-1],Oo=[-1,-1];function eWe(){var r=Oo[0];Oo[0]=Oo[1],Oo[1]=r}function tWe(r,e,t,n,i,a,s,o,l,u){if(u>e&&u>n&&u>a&&u>o||u<e&&u<n&&u<a&&u<o)return 0;var c=jE(e,n,a,o,u,Ja);if(c===0)return 0;for(var f=0,h=-1,p=void 0,v=void 0,m=0;m<c;m++){var y=Ja[m],x=y===0||y===1?.5:1,w=Ai(r,t,i,s,y);w<l||(h<0&&(h=Eoe(e,n,a,o,Oo),Oo[1]<Oo[0]&&h>1&&eWe(),p=Ai(e,n,a,o,Oo[0]),h>1&&(v=Ai(e,n,a,o,Oo[1]))),h===2?y<Oo[0]?f+=p<e?x:-x:y<Oo[1]?f+=v<p?x:-x:f+=o<v?x:-x:y<Oo[0]?f+=p<e?x:-x:f+=o<p?x:-x)}return f}function rWe(r,e,t,n,i,a,s,o){if(o>e&&o>n&&o>a||o<e&&o<n&&o<a)return 0;var l=hGe(e,n,a,o,Ja);if(l===0)return 0;var u=Doe(e,n,a);if(u>=0&&u<=1){for(var c=0,f=Hi(e,n,a,u),h=0;h<l;h++){var p=Ja[h]===0||Ja[h]===1?.5:1,v=Hi(r,t,i,Ja[h]);v<s||(Ja[h]<u?c+=f<e?p:-p:c+=a<f?p:-p)}return c}else{var p=Ja[0]===0||Ja[0]===1?.5:1,v=Hi(r,t,i,Ja[0]);return v<s?0:a<e?p:-p}}function nWe(r,e,t,n,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Ja[0]=-l,Ja[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=pp-1e-4){n=0,i=pp;var c=a?1:-1;return s>=Ja[0]+r&&s<=Ja[1]+r?c:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=pp,i+=pp);for(var h=0,p=0;p<2;p++){var v=Ja[p];if(v+r>s){var m=Math.atan2(o,v),c=a?1:-1;m<0&&(m=pp+m),(m>=n&&m<=i||m+pp>=n&&m+pp<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),h+=c)}}return h}function fle(r,e,t,n,i){for(var a=r.data,s=r.len(),o=0,l=0,u=0,c=0,f=0,h,p,v=0;v<s;){var m=a[v++],y=v===1;switch(m===qf.M&&v>1&&(t||(o+=Lc(l,u,c,f,n,i))),y&&(l=a[v],u=a[v+1],c=l,f=u),m){case qf.M:c=a[v++],f=a[v++],l=c,u=f;break;case qf.L:if(t){if(nh(l,u,a[v],a[v+1],e,n,i))return!0}else o+=Lc(l,u,a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case qf.C:if(t){if(Kje(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else o+=tWe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case qf.Q:if(t){if(cle(l,u,a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else o+=rWe(l,u,a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case qf.A:var x=a[v++],w=a[v++],b=a[v++],T=a[v++],C=a[v++],D=a[v++];v+=1;var A=!!(1-a[v++]);h=Math.cos(C)*b+x,p=Math.sin(C)*T+w,y?(c=h,f=p):o+=Lc(l,u,h,p,n,i);var k=(n-x)*T/b+x;if(t){if(Zje(x,w,T,C,C+D,A,e,k,i))return!0}else o+=nWe(x,w,T,C,C+D,A,k,i);l=Math.cos(C+D)*b+x,u=Math.sin(C+D)*T+w;break;case qf.R:c=l=a[v++],f=u=a[v++];var I=a[v++],M=a[v++];if(h=c+I,p=f+M,t){if(nh(c,f,h,f,e,n,i)||nh(h,f,h,p,e,n,i)||nh(h,p,c,p,e,n,i)||nh(c,p,c,f,e,n,i))return!0}else o+=Lc(h,f,h,p,n,i),o+=Lc(c,p,c,f,n,i);break;case qf.Z:if(t){if(nh(l,u,c,f,e,n,i))return!0}else o+=Lc(l,u,c,f,n,i);l=c,u=f;break}}return!t&&!Jje(u,f)&&(o+=Lc(l,u,c,f,n,i)||0),o!==0}function iWe(r,e,t){return fle(r,0,!1,e,t)}function aWe(r,e,t,n){return fle(r,e,!0,t,n)}var KE=st({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},hv),sWe={style:st({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},GD.style)},hP=Zu.concat(["invisible","culling","z","z2","zlevel","parent"]),Gt=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.update=function(){var t=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<hP.length;++o)i[hP[o]]=this[hP[o]];i.__dirty|=Xs}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var n=jt(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=t[s];s==="style"?this.style?Ce(this.style,o):this.useStyle(o):s==="shape"?Ce(this.shape,o):r.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if($e(t)){var n=gw(t,0);return n>.5?e4:n>.2?jGe:t4}else if(t)return t4}return e4},e.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if($e(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=gw(t,0)<JN;if(a===s)return n}},e.prototype.buildPath=function(t,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~D0},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Ju(!1)},e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&D0)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return t},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),s=this.style;if(t=i[0],n=i[1],a.contain(t,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),aWe(o,l/u,t,n)))return!0}if(this.hasFill())return iWe(o,t,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=D0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):r.prototype.attrKV.call(this,t,n)},e.prototype.setShape=function(t,n){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=n:Ce(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&D0)},e.prototype.createStyle=function(t){return Sb(KE,t)},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=Ce({},this.shape))},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.shape?s?a?u=n.shape:(u=Ce({},i.shape),Ce(u,n.shape)):(u=Ce({},a?this.shape:i.shape),Ce(u,n.shape)):l&&(u=i.shape),u)if(s){this.shape=Ce({},this.shape);for(var c={},f=jt(u),h=0;h<f.length;h++){var p=f[h];typeof u[p]=="object"?this.shape[p]=u[p]:c[p]=u[p]}this._transitionState(t,{shape:c},o)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return sWe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(a){Qr(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return ut(t.style)},s.prototype.getDefaultShape=function(){return ut(t.shape)},s}(e);for(var i in t)typeof t[i]=="function"&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Xs|F_|D0}(),e}(Zo),oWe=st({strokeFirst:!0,font:rd,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},KE),jm=function(r){Qr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return n!=null&&n!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(t){return Sb(oWe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var n=t.text;n!=null?n+="":n="";var i=Eb(n,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(Zo);jm.prototype.type="tspan";var lWe=st({x:0,y:0},hv),uWe={style:st({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},GD.style)};function cWe(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var Li=function(r){Qr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return Sb(lWe,t)},e.prototype._getSize=function(t){var n=this.style,i=n[t];if(i!=null)return i;var a=cWe(n.image)?n.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=n[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return uWe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Tt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Zo);Li.prototype.type="image";function fWe(r,e){var t=e.x,n=e.y,i=e.width,a=e.height,s=e.r,o,l,u,c;i<0&&(t=t+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var f;o+l>i&&(f=o+l,o*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),o+c>a&&(f=o+c,o*=a/f,c*=a/f),r.moveTo(t+o,n),r.lineTo(t+i-l,n),l!==0&&r.arc(t+i-l,n+l,l,-Math.PI/2,0),r.lineTo(t+i,n+a-u),u!==0&&r.arc(t+i-u,n+a-u,u,0,Math.PI/2),r.lineTo(t+c,n+a),c!==0&&r.arc(t+c,n+a-c,c,Math.PI/2,Math.PI),r.lineTo(t,n+o),o!==0&&r.arc(t+o,n+o,o,Math.PI,Math.PI*1.5)}var $0=Math.round;function hle(r,e,t){if(e){var n=e.x1,i=e.x2,a=e.y1,s=e.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=s;var o=t&&t.lineWidth;return o&&($0(n*2)===$0(i*2)&&(r.x1=r.x2=Kp(n,o,!0)),$0(a*2)===$0(s*2)&&(r.y1=r.y2=Kp(a,o,!0))),r}}function dle(r,e,t){if(e){var n=e.x,i=e.y,a=e.width,s=e.height;r.x=n,r.y=i,r.width=a,r.height=s;var o=t&&t.lineWidth;return o&&(r.x=Kp(n,o,!0),r.y=Kp(i,o,!0),r.width=Math.max(Kp(n+a,o,!1)-r.x,a===0?0:1),r.height=Math.max(Kp(i+s,o,!1)-r.y,s===0?0:1)),r}}function Kp(r,e,t){if(!e)return r;var n=$0(r*2);return(n+$0(e))%2===0?n/2:(n+(t?1:-1))/2}var hWe=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),dWe={},Kt=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new hWe},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=dle(dWe,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?fWe(t,n):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Gt);Kt.prototype.type="rect";var T$={fill:"#000"},A$=2,pWe={style:st({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},GD.style)},Xt=function(r){Qr(e,r);function e(t){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=T$,n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):r.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):r.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,mWe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Tt(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||T$},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,n){if(!n)return t;var i=n.rich,a=t.rich||i&&{};return Ce(t,n),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,n){for(var i=jt(n),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},Ce(t[s],n[s])}},e.prototype.getAnimationStyleProps=function(){return pWe},e.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||rd,i=t.padding,a=M$(t),s=Bje(a,t),o=dP(t),l=!!t.backgroundColor,u=s.outerHeight,c=s.outerWidth,f=s.contentWidth,h=s.lines,p=s.lineHeight,v=this._defaultStyle;this.isTruncated=!!s.isTruncated;var m=t.x||0,y=t.y||0,x=t.align||v.align||"left",w=t.verticalAlign||v.verticalAlign||"top",b=m,T=I0(y,s.contentHeight,w);if(o||i){var C=V_(m,c,x),D=I0(y,u,w);o&&this._renderBackground(t,t,C,D,c,u)}T+=p/2,i&&(b=k$(m,x,i),w==="top"?T+=i[0]:w==="bottom"&&(T-=i[2]));for(var A=0,k=!1,I=R$("fill"in t?t.fill:(k=!0,v.fill)),M=I$("stroke"in t?t.stroke:!l&&(!v.autoStroke||k)?(A=A$,v.stroke):null),P=t.textShadowBlur>0,O=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),N=s.calculatedLineHeight,G=0;G<h.length;G++){var j=this._getOrCreateChild(jm),U=j.createStyle();j.useStyle(U),U.text=h[G],U.x=b,U.y=T,U.textAlign=x,U.textBaseline="middle",U.opacity=t.opacity,U.strokeFirst=!0,P&&(U.shadowBlur=t.textShadowBlur||0,U.shadowColor=t.textShadowColor||"transparent",U.shadowOffsetX=t.textShadowOffsetX||0,U.shadowOffsetY=t.textShadowOffsetY||0),U.stroke=M,U.fill=I,M&&(U.lineWidth=t.lineWidth||A,U.lineDash=t.lineDash,U.lineDashOffset=t.lineDashOffset||0),U.font=n,C$(U,t),T+=p,O&&j.setBoundingRect(new Tt(V_(U.x,f,U.textAlign),I0(U.y,N,U.textBaseline),f,N))}},e.prototype._updateRichTexts=function(){var t=this.style,n=M$(t),i=Uje(n,t),a=i.width,s=i.outerWidth,o=i.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,f=this._defaultStyle,h=t.align||f.align,p=t.verticalAlign||f.verticalAlign;this.isTruncated=!!i.isTruncated;var v=V_(u,s,h),m=I0(c,o,p),y=v,x=m;l&&(y+=l[3],x+=l[0]);var w=y+a;dP(t)&&this._renderBackground(t,t,v,m,s,o);for(var b=!!t.backgroundColor,T=0;T<i.lines.length;T++){for(var C=i.lines[T],D=C.tokens,A=D.length,k=C.lineHeight,I=C.width,M=0,P=y,O=w,N=A-1,G=void 0;M<A&&(G=D[M],!G.align||G.align==="left");)this._placeToken(G,t,k,x,P,"left",b),I-=G.width,P+=G.width,M++;for(;N>=0&&(G=D[N],G.align==="right");)this._placeToken(G,t,k,x,O,"right",b),I-=G.width,O-=G.width,N--;for(P+=(a-(P-y)-(w-O)-I)/2;M<=N;)G=D[M],this._placeToken(G,t,k,x,P+G.width/2,"center",b),P+=G.width,M++;x+=k}},e.prototype._placeToken=function(t,n,i,a,s,o,l){var u=n.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+i/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+i-t.height/2);var h=!t.isLineHolder&&dP(u);h&&this._renderBackground(u,n,o==="right"?s-t.width:o==="center"?s-t.width/2:s,f-t.height/2,t.width,t.height);var p=!!u.backgroundColor,v=t.textPadding;v&&(s=k$(s,o,v),f-=t.height/2-v[0]-t.innerHeight/2);var m=this._getOrCreateChild(jm),y=m.createStyle();m.useStyle(y);var x=this._defaultStyle,w=!1,b=0,T=R$("fill"in u?u.fill:"fill"in n?n.fill:(w=!0,x.fill)),C=I$("stroke"in u?u.stroke:"stroke"in n?n.stroke:!p&&!l&&(!x.autoStroke||w)?(b=A$,x.stroke):null),D=u.textShadowBlur>0||n.textShadowBlur>0;y.text=t.text,y.x=s,y.y=f,D&&(y.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,y.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=o,y.textBaseline="middle",y.font=t.font||rd,y.opacity=Ol(u.opacity,n.opacity,1),C$(y,u),C&&(y.lineWidth=Ol(u.lineWidth,n.lineWidth,b),y.lineDash=vt(u.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=C),T&&(y.fill=T);var A=t.contentWidth,k=t.contentHeight;m.setBoundingRect(new Tt(V_(y.x,A,y.textAlign),I0(y.y,k,y.textBaseline),A,k))},e.prototype._renderBackground=function(t,n,i,a,s,o){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,h=l&&!f,p=t.borderRadius,v=this,m,y;if(h||t.lineHeight||u&&c){m=this._getOrCreateChild(Kt),m.useStyle(m.createStyle()),m.style.fill=null;var x=m.shape;x.x=i,x.y=a,x.width=s,x.height=o,x.r=p,m.dirtyShape()}if(h){var w=m.style;w.fill=l||null,w.fillOpacity=vt(t.fillOpacity,1)}else if(f){y=this._getOrCreateChild(Li),y.onload=function(){v.dirtyStyle()};var b=y.style;b.image=l.image,b.x=i,b.y=a,b.width=s,b.height=o}if(u&&c){var w=m.style;w.lineWidth=u,w.stroke=c,w.strokeOpacity=vt(t.strokeOpacity,1),w.lineDash=t.borderDash,w.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var T=(m||y).style;T.shadowBlur=t.shadowBlur||0,T.shadowColor=t.shadowColor||"transparent",T.shadowOffsetX=t.shadowOffsetX||0,T.shadowOffsetY=t.shadowOffsetY||0,T.opacity=Ol(t.opacity,n.opacity,1)},e.makeFont=function(t){var n="";return vle(t)&&(n=[t.fontStyle,t.fontWeight,ple(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&Uo(n)||t.textFont||t.font},e}(Zo),vWe={left:!0,right:1,center:1},gWe={top:1,bottom:1,middle:1},E$=["fontStyle","fontWeight","fontSize","fontFamily"];function ple(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?iB+"px":r+"px"}function C$(r,e){for(var t=0;t<E$.length;t++){var n=E$[t],i=e[n];i!=null&&(r[n]=i)}}function vle(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function mWe(r){return D$(r),B(r.rich,D$),r}function D$(r){if(r){r.font=Xt.makeFont(r);var e=r.align;e==="middle"&&(e="center"),r.align=e==null||vWe[e]?e:"left";var t=r.verticalAlign;t==="center"&&(t="middle"),r.verticalAlign=t==null||gWe[t]?t:"top";var n=r.padding;n&&(r.padding=LD(r.padding))}}function I$(r,e){return r==null||e<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function R$(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function k$(r,e,t){return e==="right"?r-t[1]:e==="center"?r+t[3]/2-t[1]/2:r+t[3]}function M$(r){var e=r.text;return e!=null&&(e+=""),e}function dP(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var dt=Qt(),c4=function(r,e,t,n){if(n){var i=dt(n);i.dataIndex=t,i.dataType=e,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=dt(a);s.seriesIndex=r,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},P$=1,L$={},gle=Qt(),AB=Qt(),EB=0,Db=1,WD=2,ds=["emphasis","blur","select"],_w=["normal","emphasis","blur","select"],_y=10,yWe=9,dv="highlight",pA="downplay",Cx="select",vA="unselect",Dx="toggleSelect";function i0(r){return r!=null&&r!=="none"}function $D(r,e,t){r.onHoverStateChange&&(r.hoverState||0)!==t&&r.onHoverStateChange(e),r.hoverState=t}function mle(r){$D(r,"emphasis",WD)}function yle(r){r.hoverState===WD&&$D(r,"normal",EB)}function CB(r){$D(r,"blur",Db)}function _le(r){r.hoverState===Db&&$D(r,"normal",EB)}function _We(r){r.selected=!0}function xWe(r){r.selected=!1}function O$(r,e,t){e(r,t)}function gf(r,e,t){O$(r,e,t),r.isGroup&&r.traverse(function(n){O$(n,e,t)})}function ZE(r,e){switch(e){case"emphasis":r.hoverState=WD;break;case"normal":r.hoverState=EB;break;case"blur":r.hoverState=Db;break;case"select":r.selected=!0}}function wWe(r,e,t,n){for(var i=r.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<r.animators.length;s++){var u=r.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function bWe(r,e,t,n){var i=t&&Ct(t,"select")>=0,a=!1;if(r instanceof Gt){var s=gle(r),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(i0(o)||i0(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=Ce({},n),u=Ce({},u),u.fill=o):!i0(u.fill)&&i0(o)?(a=!0,n=Ce({},n),u=Ce({},u),u.fill=$E(o)):!i0(u.stroke)&&i0(l)&&(a||(n=Ce({},n),u=Ce({},u)),u.stroke=$E(l)),n.style=u}}if(n&&n.z2==null){a||(n=Ce({},n));var c=r.z2EmphasisLift;n.z2=r.z2+(c??_y)}return n}function SWe(r,e,t){if(t&&t.z2==null){t=Ce({},t);var n=r.z2SelectLift;t.z2=r.z2+(n??yWe)}return t}function TWe(r,e,t){var n=Ct(r.currentStates,e)>=0,i=r.style.opacity,a=n?null:wWe(r,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=Ce({},t),s=Ce({opacity:n?i:a.opacity*.1},s),t.style=s),t}function pP(r,e){var t=this.states[r];if(this.style){if(r==="emphasis")return bWe(this,r,e,t);if(r==="blur")return TWe(this,r,t);if(r==="select")return SWe(this,r,t)}return t}function Nv(r){r.stateProxy=pP;var e=r.getTextContent(),t=r.getTextGuideLine();e&&(e.stateProxy=pP),t&&(t.stateProxy=pP)}function N$(r,e){!Sle(r,e)&&!r.__highByOuter&&gf(r,mle)}function F$(r,e){!Sle(r,e)&&!r.__highByOuter&&gf(r,yle)}function lf(r,e){r.__highByOuter|=1<<(e||0),gf(r,mle)}function uf(r,e){!(r.__highByOuter&=~(1<<(e||0)))&&gf(r,yle)}function xle(r){gf(r,CB)}function DB(r){gf(r,_le)}function wle(r){gf(r,_We)}function ble(r){gf(r,xWe)}function Sle(r,e){return r.__highDownSilentOnTouch&&e.zrByTouch}function Tle(r){var e=r.getModel(),t=[],n=[];e.eachComponent(function(i,a){var s=AB(a),o=i==="series",l=o?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){_le(u)}),o&&t.push(a)),s.isBlured=!1}),B(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function f4(r,e,t,n){var i=n.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&DB(h)}}if(r!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(r),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var c=s===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&o?f===o:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var p=n.getViewOfSeriesModel(u);if(p.group.traverse(function(y){y.__highByOuter&&c&&e==="self"||CB(y)}),ha(e))a(u.getData(),e);else if(ot(e))for(var v=jt(e),m=0;m<v.length;m++)a(u.getData(v[m]),e[v[m]]);l.push(u),AB(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function h4(r,e,t){if(!(r==null||e==null)){var n=t.getModel().getComponent(r,e);if(n){AB(n).isBlured=!0;var i=t.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){CB(a)})}}}function AWe(r,e,t){var n=r.seriesIndex,i=r.getData(e.dataType);if(i){var a=Lv(i,e);a=(ke(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=dt(s);f4(n,u.focus,u.blurScope,t)}else{var c=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);c!=null&&f4(n,c,f,t)}}}function IB(r,e,t,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||e==null||t==null)return i;var a=n.getModel().getComponent(r,e);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,u=0;u<o.length;u++)if(dt(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function EWe(r,e,t){var n=dt(r),i=IB(n.componentMainType,n.componentIndex,n.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&h4(n.componentMainType,n.componentIndex,t),B(a,function(o){return N$(o,e)})):(f4(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&h4(n.componentMainType,n.componentIndex,t),N$(r,e))}function CWe(r,e,t){Tle(t);var n=dt(r),i=IB(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;i?B(i,function(a){return F$(a,e)}):F$(r,e)}function DWe(r,e,t){if(p4(e)){var n=e.dataType,i=r.getData(n),a=Lv(i,e);ke(a)||(a=[a]),r[e.type===Dx?"toggleSelect":e.type===Cx?"select":"unselect"](a,n)}}function B$(r){var e=r.getAllData();B(e,function(t){var n=t.data,i=t.type;n.eachItemGraphicEl(function(a,s){r.isSelected(s,i)?wle(a):ble(a)})})}function IWe(r){var e=[];return r.eachSeries(function(t){var n=t.getAllData();B(n,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function Fh(r,e,t){Zp(r,!0),gf(r,Nv),d4(r,e,t)}function RWe(r){Zp(r,!1)}function fn(r,e,t,n){n?RWe(r):Fh(r,e,t)}function d4(r,e,t){var n=dt(r);e!=null?(n.focus=e,n.blurScope=t):n.focus&&(n.focus=null)}var V$=["emphasis","blur","select"],kWe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function da(r,e,t,n){t=t||"itemStyle";for(var i=0;i<V$.length;i++){var a=V$[i],s=e.getModel([a,t]),o=r.ensureState(a);o.style=n?n(s):s[kWe[t]]()}}function Zp(r,e){var t=e===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function xw(r){return!!(r&&r.__highDownDispatcher)}function MWe(r,e,t){var n=dt(r);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=t}function PWe(r){var e=L$[r];return e==null&&P$<=32&&(e=L$[r]=P$++),e}function p4(r){var e=r.type;return e===Cx||e===vA||e===Dx}function z$(r){var e=r.type;return e===dv||e===pA}function LWe(r){var e=gle(r);e.normalFill=r.style.fill,e.normalStroke=r.style.stroke;var t=r.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var a0=Ju.CMD,OWe=[[],[],[]],U$=Math.sqrt,NWe=Math.atan2;function Ale(r,e){if(e){var t=r.data,n=r.len(),i,a,s,o,l,u,c=a0.M,f=a0.C,h=a0.L,p=a0.R,v=a0.A,m=a0.Q;for(s=0,o=0;s<n;){switch(i=t[s++],o=s,a=0,i){case c:a=1;break;case h:a=1;break;case f:a=3;break;case m:a=2;break;case v:var y=e[4],x=e[5],w=U$(e[0]*e[0]+e[1]*e[1]),b=U$(e[2]*e[2]+e[3]*e[3]),T=NWe(-e[1]/b,e[0]/w);t[s]*=w,t[s++]+=y,t[s]*=b,t[s++]+=x,t[s++]*=w,t[s++]*=b,t[s++]+=T,t[s++]+=T,s+=2,o=s;break;case p:u[0]=t[s++],u[1]=t[s++],Wi(u,u,e),t[o++]=u[0],t[o++]=u[1],u[0]+=t[s++],u[1]+=t[s++],Wi(u,u,e),t[o++]=u[0],t[o++]=u[1]}for(l=0;l<a;l++){var C=OWe[l];C[0]=t[s++],C[1]=t[s++],Wi(C,C,e),t[o++]=C[0],t[o++]=C[1]}}r.increaseVersion()}}var vP=Math.sqrt,t2=Math.sin,r2=Math.cos,e_=Math.PI;function H$(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function v4(r,e){return(r[0]*e[0]+r[1]*e[1])/(H$(r)*H$(e))}function G$(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(v4(r,e))}function j$(r,e,t,n,i,a,s,o,l,u,c){var f=l*(e_/180),h=r2(f)*(r-t)/2+t2(f)*(e-n)/2,p=-1*t2(f)*(r-t)/2+r2(f)*(e-n)/2,v=h*h/(s*s)+p*p/(o*o);v>1&&(s*=vP(v),o*=vP(v));var m=(i===a?-1:1)*vP((s*s*(o*o)-s*s*(p*p)-o*o*(h*h))/(s*s*(p*p)+o*o*(h*h)))||0,y=m*s*p/o,x=m*-o*h/s,w=(r+t)/2+r2(f)*y-t2(f)*x,b=(e+n)/2+t2(f)*y+r2(f)*x,T=G$([1,0],[(h-y)/s,(p-x)/o]),C=[(h-y)/s,(p-x)/o],D=[(-1*h-y)/s,(-1*p-x)/o],A=G$(C,D);if(v4(C,D)<=-1&&(A=e_),v4(C,D)>=1&&(A=0),A<0){var k=Math.round(A/e_*1e6)/1e6;A=e_*2+k%2*e_}c.addData(u,w,b,s,o,T,A,f,a)}var FWe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,BWe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function VWe(r){var e=new Ju;if(!r)return e;var t=0,n=0,i=t,a=n,s,o=Ju.CMD,l=r.match(FWe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,p=c.match(BWe)||[],v=p.length,m=0;m<v;m++)p[m]=parseFloat(p[m]);for(var y=0;y<v;){var x=void 0,w=void 0,b=void 0,T=void 0,C=void 0,D=void 0,A=void 0,k=t,I=n,M=void 0,P=void 0;switch(f){case"l":t+=p[y++],n+=p[y++],h=o.L,e.addData(h,t,n);break;case"L":t=p[y++],n=p[y++],h=o.L,e.addData(h,t,n);break;case"m":t+=p[y++],n+=p[y++],h=o.M,e.addData(h,t,n),i=t,a=n,f="l";break;case"M":t=p[y++],n=p[y++],h=o.M,e.addData(h,t,n),i=t,a=n,f="L";break;case"h":t+=p[y++],h=o.L,e.addData(h,t,n);break;case"H":t=p[y++],h=o.L,e.addData(h,t,n);break;case"v":n+=p[y++],h=o.L,e.addData(h,t,n);break;case"V":n=p[y++],h=o.L,e.addData(h,t,n);break;case"C":h=o.C,e.addData(h,p[y++],p[y++],p[y++],p[y++],p[y++],p[y++]),t=p[y-2],n=p[y-1];break;case"c":h=o.C,e.addData(h,p[y++]+t,p[y++]+n,p[y++]+t,p[y++]+n,p[y++]+t,p[y++]+n),t+=p[y-2],n+=p[y-1];break;case"S":x=t,w=n,M=e.len(),P=e.data,s===o.C&&(x+=t-P[M-4],w+=n-P[M-3]),h=o.C,k=p[y++],I=p[y++],t=p[y++],n=p[y++],e.addData(h,x,w,k,I,t,n);break;case"s":x=t,w=n,M=e.len(),P=e.data,s===o.C&&(x+=t-P[M-4],w+=n-P[M-3]),h=o.C,k=t+p[y++],I=n+p[y++],t+=p[y++],n+=p[y++],e.addData(h,x,w,k,I,t,n);break;case"Q":k=p[y++],I=p[y++],t=p[y++],n=p[y++],h=o.Q,e.addData(h,k,I,t,n);break;case"q":k=p[y++]+t,I=p[y++]+n,t+=p[y++],n+=p[y++],h=o.Q,e.addData(h,k,I,t,n);break;case"T":x=t,w=n,M=e.len(),P=e.data,s===o.Q&&(x+=t-P[M-4],w+=n-P[M-3]),t=p[y++],n=p[y++],h=o.Q,e.addData(h,x,w,t,n);break;case"t":x=t,w=n,M=e.len(),P=e.data,s===o.Q&&(x+=t-P[M-4],w+=n-P[M-3]),t+=p[y++],n+=p[y++],h=o.Q,e.addData(h,x,w,t,n);break;case"A":b=p[y++],T=p[y++],C=p[y++],D=p[y++],A=p[y++],k=t,I=n,t=p[y++],n=p[y++],h=o.A,j$(k,I,t,n,D,A,b,T,C,h,e);break;case"a":b=p[y++],T=p[y++],C=p[y++],D=p[y++],A=p[y++],k=t,I=n,t+=p[y++],n+=p[y++],h=o.A,j$(k,I,t,n,D,A,b,T,C,h,e);break}}(f==="z"||f==="Z")&&(h=o.Z,e.addData(h),t=i,n=a),s=h}return e.toStatic(),e}var Ele=function(r){Qr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(Gt);function Cle(r){return r.setData!=null}function Dle(r,e){var t=VWe(r),n=Ce({},e);return n.buildPath=function(i){if(Cle(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},n.applyTransform=function(i){Ale(t,i),this.dirtyShape()},n}function Ile(r,e){return new Ele(Dle(r,e))}function zWe(r,e){var t=Dle(r,e),n=function(i){Qr(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a}(Ele);return n}function UWe(r,e){for(var t=[],n=r.length,i=0;i<n;i++){var a=r[i];t.push(a.getUpdatedPathProxy(!0))}var s=new Gt(e);return s.createPathProxy(),s.buildPath=function(o){if(Cle(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function RB(r,e){e=e||{};var t=new Gt;return r.shape&&t.setShape(r.shape),t.setStyle(r.style),e.bakeTransform?Ale(t.path,r.getComputedTransform()):e.toLocal?t.setLocalTransform(r.getComputedTransform()):t.copyTransform(r),t.buildPath=r.buildPath,t.applyTransform=t.applyTransform,t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t}var HWe=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),nc=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new HWe},e.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Gt);nc.prototype.type="circle";var GWe=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ib=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new GWe},e.prototype.buildPath=function(t,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*i,c=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),t.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),t.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),t.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),t.closePath()},e}(Gt);Ib.prototype.type="ellipse";var Rle=Math.PI,gP=Rle*2,vp=Math.sin,s0=Math.cos,jWe=Math.acos,_a=Math.atan2,W$=Math.abs,Ix=Math.sqrt,z_=Math.max,mu=Math.min,ml=1e-4;function WWe(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,f=o-a,h=f*l-c*u;if(!(h*h<ml))return h=(c*(e-a)-f*(r-i))/h,[r+h*l,e+h*u]}function n2(r,e,t,n,i,a,s){var o=r-t,l=e-n,u=(s?a:-a)/Ix(o*o+l*l),c=u*l,f=-u*o,h=r+c,p=e+f,v=t+c,m=n+f,y=(h+v)/2,x=(p+m)/2,w=v-h,b=m-p,T=w*w+b*b,C=i-a,D=h*m-v*p,A=(b<0?-1:1)*Ix(z_(0,C*C*T-D*D)),k=(D*b-w*A)/T,I=(-D*w-b*A)/T,M=(D*b+w*A)/T,P=(-D*w+b*A)/T,O=k-y,N=I-x,G=M-y,j=P-x;return O*O+N*N>G*G+j*j&&(k=M,I=P),{cx:k,cy:I,x0:-c,y0:-f,x1:k*(i/C-1),y1:I*(i/C-1)}}function $We(r){var e;if(ke(r)){var t=r.length;if(!t)return r;t===1?e=[r[0],r[0],0,0]:t===2?e=[r[0],r[0],r[1],r[1]]:t===3?e=r.concat(r[2]):e=r}else e=[r,r,r,r];return e}function qWe(r,e){var t,n=z_(e.r,0),i=z_(e.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,h=!!e.clockwise,p=W$(u-l),v=p>gP&&p%gP;if(v>ml&&(p=v),!(n>ml))r.moveTo(c,f);else if(p>gP-ml)r.moveTo(c+n*s0(l),f+n*vp(l)),r.arc(c,f,n,l,u,!h),i>ml&&(r.moveTo(c+i*s0(u),f+i*vp(u)),r.arc(c,f,i,u,l,h));else{var m=void 0,y=void 0,x=void 0,w=void 0,b=void 0,T=void 0,C=void 0,D=void 0,A=void 0,k=void 0,I=void 0,M=void 0,P=void 0,O=void 0,N=void 0,G=void 0,j=n*s0(l),U=n*vp(l),X=i*s0(u),ie=i*vp(u),Z=p>ml;if(Z){var W=e.cornerRadius;W&&(t=$We(W),m=t[0],y=t[1],x=t[2],w=t[3]);var Q=W$(n-i)/2;if(b=mu(Q,x),T=mu(Q,w),C=mu(Q,m),D=mu(Q,y),I=A=z_(b,T),M=k=z_(C,D),(A>ml||k>ml)&&(P=n*s0(u),O=n*vp(u),N=i*s0(l),G=i*vp(l),p<Rle)){var H=WWe(j,U,N,G,P,O,X,ie);if(H){var ee=j-H[0],J=U-H[1],se=P-H[0],de=O-H[1],Me=1/vp(jWe((ee*se+J*de)/(Ix(ee*ee+J*J)*Ix(se*se+de*de)))/2),Se=Ix(H[0]*H[0]+H[1]*H[1]);I=mu(A,(n-Se)/(Me+1)),M=mu(k,(i-Se)/(Me-1))}}}if(!Z)r.moveTo(c+j,f+U);else if(I>ml){var xe=mu(x,I),Te=mu(w,I),Oe=n2(N,G,j,U,n,xe,h),ne=n2(P,O,X,ie,n,Te,h);r.moveTo(c+Oe.cx+Oe.x0,f+Oe.cy+Oe.y0),I<A&&xe===Te?r.arc(c+Oe.cx,f+Oe.cy,I,_a(Oe.y0,Oe.x0),_a(ne.y0,ne.x0),!h):(xe>0&&r.arc(c+Oe.cx,f+Oe.cy,xe,_a(Oe.y0,Oe.x0),_a(Oe.y1,Oe.x1),!h),r.arc(c,f,n,_a(Oe.cy+Oe.y1,Oe.cx+Oe.x1),_a(ne.cy+ne.y1,ne.cx+ne.x1),!h),Te>0&&r.arc(c+ne.cx,f+ne.cy,Te,_a(ne.y1,ne.x1),_a(ne.y0,ne.x0),!h))}else r.moveTo(c+j,f+U),r.arc(c,f,n,l,u,!h);if(!(i>ml)||!Z)r.lineTo(c+X,f+ie);else if(M>ml){var xe=mu(m,M),Te=mu(y,M),Oe=n2(X,ie,P,O,i,-Te,h),ne=n2(j,U,N,G,i,-xe,h);r.lineTo(c+Oe.cx+Oe.x0,f+Oe.cy+Oe.y0),M<k&&xe===Te?r.arc(c+Oe.cx,f+Oe.cy,M,_a(Oe.y0,Oe.x0),_a(ne.y0,ne.x0),!h):(Te>0&&r.arc(c+Oe.cx,f+Oe.cy,Te,_a(Oe.y0,Oe.x0),_a(Oe.y1,Oe.x1),!h),r.arc(c,f,i,_a(Oe.cy+Oe.y1,Oe.cx+Oe.x1),_a(ne.cy+ne.y1,ne.cx+ne.x1),h),xe>0&&r.arc(c+ne.cx,f+ne.cy,xe,_a(ne.y1,ne.x1),_a(ne.y0,ne.x0),!h))}else r.lineTo(c+X,f+ie),r.arc(c,f,i,u,l,h)}r.closePath()}}}var YWe=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Va=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new YWe},e.prototype.buildPath=function(t,n){qWe(t,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Gt);Va.prototype.type="sector";var XWe=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),xy=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new XWe},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.PI*2;t.moveTo(i+n.r,a),t.arc(i,a,n.r,0,s,!1),t.moveTo(i+n.r0,a),t.arc(i,a,n.r0,0,s,!0)},e}(Gt);xy.prototype.type="ring";function KWe(r,e,t,n){var i=[],a=[],s=[],o=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,p=r.length;h<p;h++)Uc(c,c,r[h]),Hc(f,f,r[h]);Uc(c,c,n[0]),Hc(f,f,n[1])}for(var h=0,p=r.length;h<p;h++){var v=r[h];if(t)l=r[h?h-1:p-1],u=r[(h+1)%p];else if(h===0||h===p-1){i.push(ju(r[h]));continue}else l=r[h-1],u=r[h+1];bh(a,u,l),_x(a,a,e);var m=UE(v,l),y=UE(v,u),x=m+y;x!==0&&(m/=x,y/=x),_x(s,a,-m),_x(o,a,y);var w=VN([],v,s),b=VN([],v,o);n&&(Hc(w,w,c),Uc(w,w,f),Hc(b,b,c),Uc(b,b,f)),i.push(w),i.push(b)}return t&&i.push(i.shift()),i}function kle(r,e,t){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=KWe(i,n,t,e.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=i[(o+1)%s];r.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var o=1,f=i.length;o<f;o++)r.lineTo(i[o][0],i[o][1])}t&&r.closePath()}}var ZWe=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),za=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ZWe},e.prototype.buildPath=function(t,n){kle(t,n,!0)},e}(Gt);za.prototype.type="polygon";var QWe=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Ga=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new QWe},e.prototype.buildPath=function(t,n){kle(t,n,!1)},e}(Gt);Ga.prototype.type="polyline";var JWe={},e$e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),gi=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new e$e},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=hle(JWe,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(t.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),t.lineTo(s,o))},e.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},e}(Gt);gi.prototype.type="line";var bs=[],t$e=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function $$(r,e,t){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(t?JW:Ai)(r.x1,r.cpx1,r.cpx2,r.x2,e),(t?JW:Ai)(r.y1,r.cpy1,r.cpy2,r.y2,e)]:[(t?jN:Hi)(r.x1,r.cpx1,r.x2,e),(t?jN:Hi)(r.y1,r.cpy1,r.y2,e)]}var wy=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new t$e},e.prototype.buildPath=function(t,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(t.moveTo(i,a),c==null||f==null?(h<1&&(dw(i,l,s,h,bs),l=bs[1],s=bs[2],dw(a,u,o,h,bs),u=bs[1],o=bs[2]),t.quadraticCurveTo(l,u,s,o)):(h<1&&(nd(i,l,c,s,h,bs),l=bs[1],c=bs[2],s=bs[3],nd(a,u,f,o,h,bs),u=bs[1],f=bs[2],o=bs[3]),t.bezierCurveTo(l,u,c,f,s,o)))},e.prototype.pointAt=function(t){return $$(this.shape,t,!1)},e.prototype.tangentAt=function(t){var n=$$(this.shape,t,!0);return tg(n,n)},e}(Gt);wy.prototype.type="bezier-curve";var r$e=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Rb=function(r){Qr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new r$e},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(o),f=Math.sin(o);t.moveTo(c*s+i,f*s+a),t.arc(i,a,s,o,l,!u)},e}(Gt);Rb.prototype.type="arc";var qD=function(r){Qr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),i=0;i<t.length;i++)n=n||t[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(n[0],n[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Gt.prototype.getBoundingRect.call(this)},e}(Gt),Mle=function(){function r(e){this.colorStops=e||[]}return r.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},r}(),by=function(r){Qr(e,r);function e(t,n,i,a,s,o){var l=r.call(this,s)||this;return l.x=t??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(Mle),kB=function(r){Qr(e,r);function e(t,n,i,a,s){var o=r.call(this,a)||this;return o.x=t??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(Mle),gp=[0,0],mp=[0,0],i2=new bt,a2=new bt,QE=function(){function r(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new bt;for(var n=0;n<2;n++)this._axes[n]=new bt;e&&this.fromBoundingRect(e,t)}return r.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),t)for(var u=0;u<4;u++)n[u].transform(t);bt.sub(i[0],n[1],n[0]),bt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},r.prototype.intersect=function(e,t){var n=!0,i=!t;return i2.set(1/0,1/0),a2.set(0,0),!this._intersectCheckOneSide(this,e,i2,a2,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,i2,a2,i,-1)&&(n=!1,i)||i||bt.copy(t,n?i2:a2),n},r.prototype._intersectCheckOneSide=function(e,t,n,i,a,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,gp),this._getProjMinMaxOnAxis(l,t._corners,mp),gp[1]<mp[0]||gp[0]>mp[1]){if(o=!1,a)return o;var c=Math.abs(mp[0]-gp[1]),f=Math.abs(gp[0]-mp[1]);Math.min(c,f)>i.len()&&(c<f?bt.scale(i,u,-c*s):bt.scale(i,u,f*s))}else if(n){var c=Math.abs(mp[0]-gp[1]),f=Math.abs(gp[0]-mp[1]);Math.min(c,f)<n.len()&&(c<f?bt.scale(n,u,c*s):bt.scale(n,u,-f*s))}}return o},r.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,u=1;u<t.length;u++){var c=t[u].dot(i)+a[e];o=Math.min(c,o),l=Math.max(c,l)}n[0]=o,n[1]=l},r}(),n$e=[],Ple=function(r){Qr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,n){n=n||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Tt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(n$e)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,n))return!0}return!1},e}(Zo),Lle=Qt();function Sy(r,e,t,n,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=r==="update";if(o){var u=void 0,c=void 0,f=void 0;n?(u=vt(n.duration,200),c=vt(n.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),rt(f)&&(f=f(t,i)),rt(u)&&(u=u(t));var h={duration:u||0,delay:f,easing:c};return h}else return null}function MB(r,e,t,n,i,a,s){var o=!1,l;rt(i)?(s=a,a=i,i=null):ot(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=r==="leave";u||e.stopAnimation("leave");var c=Sy(r,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,p=c.easing,v={duration:f,delay:h||0,easing:p,done:a,force:!!a||!!s,setToFinal:!u,scope:r,during:s};o?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function rr(r,e,t,n,i,a){MB("update",r,e,t,n,i,a)}function Zr(r,e,t,n,i,a){MB("enter",r,e,t,n,i,a)}function vm(r){if(!r.__zr)return!0;for(var e=0;e<r.animators.length;e++){var t=r.animators[e];if(t.scope==="leave")return!0}return!1}function id(r,e,t,n,i,a){vm(r)||MB("leave",r,e,t,n,i,a)}function q$(r,e,t,n){r.removeTextContent(),r.removeTextGuideLine(),id(r,{style:{opacity:0}},e,t,n)}function ww(r,e,t){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||q$(i,e,t,n)}):q$(r,e,t,n)}function $l(r){Lle(r).oldStyle=r.style}function i$e(r){return Lle(r).oldStyle}var JE=Math.max,eC=Math.min,g4={};function Ole(r){return Gt.extend(r)}var a$e=zWe;function Nle(r,e){return a$e(r,e)}function el(r,e){g4[r]=e}function YD(r){if(g4.hasOwnProperty(r))return g4[r]}function kb(r,e,t,n){var i=Ile(r,e);return t&&(n==="center"&&(t=Fle(t,i.getBoundingRect())),LB(i,t)),i}function PB(r,e,t){var n=new Li({style:{image:r,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};n.setStyle(Fle(e,a))}}});return n}function Fle(r,e){var t=e.width/e.height,n=r.height*t,i;n<=r.width?i=r.height:(n=r.width,i=n/t);var a=r.x+r.width/2,s=r.y+r.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var Ks=UWe;function LB(r,e){if(r.applyTransform){var t=r.getBoundingRect(),n=t.calculateTransform(e);r.applyTransform(n)}}function Wm(r,e){return hle(r,r,{lineWidth:e}),r}function s$e(r){return dle(r.shape,r.shape,r.style),r}var gA=Kp;function Bh(r,e){for(var t=Tb([]);r&&r!==e;)Wu(t,r.getLocalTransform(),t),r=r.parent;return t}function Bl(r,e,t){return e&&!ha(e)&&(e=Gc.getLocalTransform(e)),t&&(e=rg([],e)),Wi([],r,e)}function XD(r,e,t){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=Bl(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Y$(r){return!r.isGroup}function o$e(r){return r.shape!=null}function Mb(r,e,t){if(!r||!e)return;function n(s){var o={};return s.traverse(function(l){Y$(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return o$e(s)&&(o.shape=Ce({},s.shape)),o}var a=n(r);e.traverse(function(s){if(Y$(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),rr(s,l,t,dt(s).dataIndex)}}})}function OB(r,e){return Pe(r,function(t){var n=t[0];n=JE(n,e.x),n=eC(n,e.x+e.width);var i=t[1];return i=JE(i,e.y),i=eC(i,e.y+e.height),[n,i]})}function Ble(r,e){var t=JE(r.x,e.x),n=eC(r.x+r.width,e.x+e.width),i=JE(r.y,e.y),a=eC(r.y+r.height,e.y+e.height);if(n>=t&&a>=i)return{x:t,y:i,width:n-t,height:a-i}}function Ty(r,e,t){var n=Ce({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),st(i,t),new Li(n)):kb(r.replace("path://",""),n,t,"center")}function U_(r,e,t,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(Vle(r,e,t,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function Vle(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,f=o-a,h=mP(c,f,l,u);if(l$e(h))return!1;var p=r-i,v=e-a,m=mP(p,v,l,u)/h;if(m<0||m>1)return!1;var y=mP(p,v,c,f)/h;return!(y<0||y>1)}function mP(r,e,t,n){return r*n-t*e}function l$e(r){return r<=1e-6&&r>=-1e-6}function ng(r){var e=r.itemTooltipOption,t=r.componentModel,n=r.itemName,i=$e(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=r.formatterParamsExtra;l&&B(jt(l),function(c){Ke(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=dt(r.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:n,option:st({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function X$(r,e){var t;r.isGroup&&(t=e(r)),t||r.traverse(e)}function yd(r,e){if(r)if(ke(r))for(var t=0;t<r.length;t++)X$(r[t],e);else X$(r,e)}el("circle",nc);el("ellipse",Ib);el("sector",Va);el("ring",xy);el("polygon",za);el("polyline",Ga);el("rect",Kt);el("line",gi);el("bezierCurve",wy);el("arc",Rb);const ig=Object.freeze(Object.defineProperty({__proto__:null,Arc:Rb,BezierCurve:wy,BoundingRect:Tt,Circle:nc,CompoundPath:qD,Ellipse:Ib,Group:ft,Image:Li,IncrementalDisplayable:Ple,Line:gi,LinearGradient:by,OrientedBoundingRect:QE,Path:Gt,Point:bt,Polygon:za,Polyline:Ga,RadialGradient:kB,Rect:Kt,Ring:xy,Sector:Va,Text:Xt,applyTransform:Bl,clipPointsByRect:OB,clipRectByRect:Ble,createIcon:Ty,extendPath:Nle,extendShape:Ole,getShapeClass:YD,getTransform:Bh,groupTransition:Mb,initProps:Zr,isElementRemoved:vm,lineLineIntersect:Vle,linePolygonIntersect:U_,makeImage:PB,makePath:kb,mergePath:Ks,registerShape:el,removeElement:id,removeElementWithFadeOut:ww,resizePath:LB,setTooltipConfig:ng,subPixelOptimize:gA,subPixelOptimizeLine:Wm,subPixelOptimizeRect:s$e,transformDirection:XD,traverseElements:yd,updateProps:rr},Symbol.toStringTag,{value:"Module"}));var KD={};function zle(r,e){for(var t=0;t<ds.length;t++){var n=ds[t],i=e[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:e.normal}),r.useStates(s,!0)}function m4(r,e,t){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,s=e.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=rt(r.defaultText)?r.defaultText(i,r,t):r.defaultText);for(var l={normal:o},u=0;u<ds.length;u++){var c=ds[u],f=e[c];l[c]=vt(n?n.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,o)}return l}function pa(r,e,t,n){t=t||KD;for(var i=r instanceof Xt,a=!1,s=0;s<_w.length;s++){var o=e[_w[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?r:r.getTextContent();if(a){i||(l||(l=new Xt,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var u=m4(t,e),c=e.normal,f=!!c.getShallow("show"),h=Ur(c,n&&n.normal,t,!1,!i);h.text=u.normal,i||r.setTextConfig(tC(c,t,!1));for(var s=0;s<ds.length;s++){var p=ds[s],o=e[p];if(o){var v=l.ensureState(p),m=!!vt(o.getShallow("show"),f);if(m!==f&&(v.ignore=!m),v.style=Ur(o,n&&n[p],t,!0,!i),v.style.text=u[p],!i){var y=r.ensureState(p);y.textConfig=tC(o,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(Ay(l).setLabelText=function(x){var w=m4(t,e,x);zle(l,w)})}else l&&(l.ignore=!0);r.dirty()}function Mi(r,e){e=e||"label";for(var t={normal:r.getModel(e)},n=0;n<ds.length;n++){var i=ds[n];t[i]=r.getModel([i,e])}return t}function Ur(r,e,t,n,i){var a={};return u$e(a,r,t,n,i),e&&Ce(a,e),a}function tC(r,e,t){e=e||{};var n={},i,a=r.getShallow("rotate"),s=vt(r.getShallow("distance"),t?null:5),o=r.getShallow("offset");return i=r.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=r.get("color")==="inherit"?e.inheritColor||null:"auto",n}function u$e(r,e,t,n,i){t=t||KD;var a=e.ecModel,s=a&&a.option.textStyle,o=c$e(e),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var c=e.getModel(["rich",u]);J$(l[u]={},c,s,t,n,i,!1,!0)}}l&&(r.rich=l);var f=e.get("overflow");f&&(r.overflow=f);var h=e.get("minMargin");h!=null&&(r.margin=h),J$(r,e,s,t,n,i,!0,!1)}function c$e(r){for(var e;r&&r!==r.ecModel;){var t=(r.option||KD).rich;if(t){e=e||{};for(var n=jt(t),i=0;i<n.length;i++){var a=n[i];e[a]=1}}r=r.parentModel}return e}var K$=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Z$=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Q$=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function J$(r,e,t,n,i,a,s,o){t=!i&&t||KD;var l=n&&n.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),f=vt(e.getShallow("opacity"),t.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),a||(u=u||t.color,c=c||t.textBorderColor),u!=null&&(r.fill=u),c!=null&&(r.stroke=c);var h=vt(e.getShallow("textBorderWidth"),t.textBorderWidth);h!=null&&(r.lineWidth=h);var p=vt(e.getShallow("textBorderType"),t.textBorderType);p!=null&&(r.lineDash=p);var v=vt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);v!=null&&(r.lineDashOffset=v),!i&&f==null&&!o&&(f=n&&n.defaultOpacity),f!=null&&(r.opacity=f),!i&&!a&&r.fill==null&&n.inheritColor&&(r.fill=n.inheritColor);for(var m=0;m<K$.length;m++){var y=K$[m],x=vt(e.getShallow(y),t[y]);x!=null&&(r[y]=x)}for(var m=0;m<Z$.length;m++){var y=Z$[m],x=e.getShallow(y);x!=null&&(r[y]=x)}if(r.verticalAlign==null){var w=e.getShallow("baseline");w!=null&&(r.verticalAlign=w)}if(!s||!n.disableBox){for(var m=0;m<Q$.length;m++){var y=Q$[m],x=e.getShallow(y);x!=null&&(r[y]=x)}var b=e.getShallow("borderType");b!=null&&(r.borderDash=b),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&l&&(r.backgroundColor=l),(r.borderColor==="auto"||r.borderColor==="inherit")&&l&&(r.borderColor=l)}}function NB(r,e){var t=e&&e.getModel("textStyle");return Uo([r.fontStyle||t&&t.getShallow("fontStyle")||"",r.fontWeight||t&&t.getShallow("fontWeight")||"",(r.fontSize||t&&t.getShallow("fontSize")||12)+"px",r.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ay=Qt();function Ule(r,e,t,n){if(r){var i=Ay(r);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function Hle(r,e,t,n,i){var a=Ay(r);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=vt(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=nle(t,a.precision,o,l,c);a.interpolatedValue=c===1?null:f;var h=m4({labelDataIndex:e,labelFetcher:i,defaultText:s?s(f):f+""},a.statesModels,f);zle(r,h)}r.percent=0,(a.prevValue==null?Zr:rr)(r,{percent:1},n,e,null,u)}var f$e=["textStyle","color"],yP=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],_P=new Xt,h$e=function(){function r(){}return r.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(f$e):null)},r.prototype.getFont=function(){return NB({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<yP.length;n++)t[yP[n]]=this.getShallow(yP[n]);return _P.useStyle(t),_P.update(),_P.getBoundingRect()},r}(),Gle=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],d$e=Ov(Gle),p$e=function(){function r(){}return r.prototype.getLineStyle=function(e){return d$e(this,e)},r}(),jle=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],v$e=Ov(jle),g$e=function(){function r(){}return r.prototype.getItemStyle=function(e,t){return v$e(this,e,t)},r}(),or=function(){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return r.prototype.init=function(e,t,n){},r.prototype.mergeOption=function(e,t){_t(this.option,e,!0)},r.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},r.prototype.getShallow=function(e,t){var n=this.option,i=n==null?n:n[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},r.prototype.getModel=function(e,t){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,t,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var e=this.constructor;return new e(ut(this.option))},r.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},r.prototype.resolveParentPath=function(e){return e},r.prototype.isAnimationEnabled=function(){if(!Ht.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},r}();bB(or);Ije(or);Cn(or,p$e);Cn(or,g$e);Cn(or,Lje);Cn(or,h$e);var m$e=Math.round(Math.random()*10);function Ey(r){return[r||"",m$e++].join("_")}function y$e(r){var e={};r.registerSubTypeDefaulter=function(t,n){var i=Ru(t);e[i.main]=n},r.determineSubType=function(t,n){var i=n.type;if(!i){var a=Ru(t).main;r.hasSubTypes(t)&&e[a]&&(i=e[a](n))}return i}}function _$e(r,e){r.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=t(s),c=u.graph,f=u.noEntryList,h={};for(B(a,function(w){h[w]=!0});f.length;){var p=f.pop(),v=c[p],m=!!h[p];m&&(o.call(l,p,v.originalDeps.slice()),delete h[p]),B(v.successor,m?x:y)}B(h,function(){var w="";throw new Error(w)});function y(w){c[w].entryCount--,c[w].entryCount===0&&f.push(w)}function x(w){h[w]=!0,y(w)}};function t(a){var s={},o=[];return B(a,function(l){var u=n(s,l),c=u.originalDeps=e(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&o.push(l),B(f,function(h){Ct(u.predecessor,h)<0&&u.predecessor.push(h);var p=n(s,h);Ct(p.successor,h)<0&&p.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return B(a,function(l){Ct(s,l)>=0&&o.push(l)}),o}}function _d(r,e){return _t(_t({},r,!0),e,!0)}const x$e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},w$e={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var rC="ZH",FB="EN",gm=FB,mA={},BB={},Wle=Ht.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||gm).toUpperCase();return r.indexOf(rC)>-1?rC:gm}():gm;function VB(r,e){r=r.toUpperCase(),BB[r]=new or(e),mA[r]=e}function b$e(r){if($e(r)){var e=mA[r.toUpperCase()]||{};return r===rC||r===FB?ut(e):_t(ut(e),ut(mA[gm]),!1)}else return _t(ut(r),ut(mA[gm]),!1)}function y4(r){return BB[r]}function S$e(){return BB[gm]}VB(FB,x$e);VB(rC,w$e);var zB=1e3,UB=zB*60,Rx=UB*60,zo=Rx*24,eq=zo*365,H_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},s2="{yyyy}-{MM}-{dd}",tq={year:"{yyyy}",month:"{yyyy}-{MM}",day:s2,hour:s2+" "+H_.hour,minute:s2+" "+H_.minute,second:s2+" "+H_.second,millisecond:H_.none},xP=["year","month","day","hour","minute","second","millisecond"],$le=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function es(r,e){return r+="","0000".substr(0,e-r.length)+r}function mm(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function T$e(r){return r===mm(r)}function A$e(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Pb(r,e,t,n){var i=ao(r),a=i[HB(t)](),s=i[ym(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[ZD(t)](),u=i["get"+(t?"UTC":"")+"Day"](),c=i[bw(t)](),f=(c-1)%12+1,h=i[QD(t)](),p=i[JD(t)](),v=i[eI(t)](),m=c>=12?"pm":"am",y=m.toUpperCase(),x=n instanceof or?n:y4(n||Wle)||S$e(),w=x.getModel("time"),b=w.get("month"),T=w.get("monthAbbr"),C=w.get("dayOfWeek"),D=w.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,m+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,es(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,b[s-1]).replace(/{MMM}/g,T[s-1]).replace(/{MM}/g,es(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,es(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,C[u]).replace(/{ee}/g,D[u]).replace(/{e}/g,u+"").replace(/{HH}/g,es(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,es(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,es(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,es(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,es(v,3)).replace(/{S}/g,v+"")}function E$e(r,e,t,n,i){var a=null;if($e(t))a=t;else if(rt(t))a=t(r.value,e,{level:r.level});else{var s=Ce({},H_);if(r.level>0)for(var o=0;o<xP.length;++o)s[xP[o]]="{primary|"+s[xP[o]]+"}";var l=t?t.inherit===!1?t:st(t,s):s,u=qle(r.value,i);if(l[u])a=l[u];else if(l.inherit){for(var c=$le.indexOf(u),o=c-1;o>=0;--o)if(l[u]){a=l[u];break}a=a||s.none}if(ke(a)){var f=r.level==null?0:r.level>=0?r.level:a.length+r.level;f=Math.min(f,a.length-1),a=a[f]}}return Pb(new Date(r.value),a,i,n)}function qle(r,e){var t=ao(r),n=t[ym(e)]()+1,i=t[ZD(e)](),a=t[bw(e)](),s=t[QD(e)](),o=t[JD(e)](),l=t[eI(e)](),u=l===0,c=u&&o===0,f=c&&s===0,h=f&&a===0,p=h&&i===1,v=p&&n===1;return v?"year":p?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function rq(r,e,t){var n=tr(r)?ao(r):r;switch(e=e||qle(r,t),e){case"year":return n[HB(t)]();case"half-year":return n[ym(t)]()>=6?1:0;case"quarter":return Math.floor((n[ym(t)]()+1)/4);case"month":return n[ym(t)]();case"day":return n[ZD(t)]();case"half-day":return n[bw(t)]()/24;case"hour":return n[bw(t)]();case"minute":return n[QD(t)]();case"second":return n[JD(t)]();case"millisecond":return n[eI(t)]()}}function HB(r){return r?"getUTCFullYear":"getFullYear"}function ym(r){return r?"getUTCMonth":"getMonth"}function ZD(r){return r?"getUTCDate":"getDate"}function bw(r){return r?"getUTCHours":"getHours"}function QD(r){return r?"getUTCMinutes":"getMinutes"}function JD(r){return r?"getUTCSeconds":"getSeconds"}function eI(r){return r?"getUTCMilliseconds":"getMilliseconds"}function C$e(r){return r?"setUTCFullYear":"setFullYear"}function Yle(r){return r?"setUTCMonth":"setMonth"}function Xle(r){return r?"setUTCDate":"setDate"}function Kle(r){return r?"setUTCHours":"setHours"}function Zle(r){return r?"setUTCMinutes":"setMinutes"}function Qle(r){return r?"setUTCSeconds":"setSeconds"}function Jle(r){return r?"setUTCMilliseconds":"setMilliseconds"}function D$e(r,e,t,n,i,a,s,o){var l=new Xt({style:{text:r,font:e,align:t,verticalAlign:n,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function GB(r){if(!_B(r))return $e(r)?r:"-";var e=(r+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function jB(r,e){return r=(r||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),e&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var ag=LD;function _4(r,e,t){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Uo(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",o=r instanceof Date;if(s||o){var l=s?ao(r):r;if(isNaN(+l)){if(o)return"-"}else return Pb(l,n,t)}if(e==="ordinal")return VE(r)?i(r):tr(r)&&a(r)?r+"":"-";var u=Qu(r);return a(u)?GB(u):VE(r)?i(r):typeof r=="boolean"?r+"":"-"}var nq=["a","b","c","d","e","f","g"],wP=function(r,e){return"{"+r+(e??"")+"}"};function WB(r,e,t){ke(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=nq[a];r=r.replace(wP(s),wP(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var u=e[o][i[l]];r=r.replace(wP(nq[l],o),t?Ca(u):u)}return r}function I$e(r,e,t){return B(e,function(n,i){r=r.replace("{"+i+"}",n)}),r}function eue(r,e){var t=$e(r)?{color:r,extraCssText:e}:r||{},n=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ca(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ca(n)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function R$e(r,e,t){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var n=ao(e),i=t?"getUTC":"get",a=n[i+"FullYear"](),s=n[i+"Month"]()+1,o=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),f=n[i+"Milliseconds"]();return r=r.replace("MM",es(s,2)).replace("M",s).replace("yyyy",a).replace("yy",es(a%100+"",2)).replace("dd",es(o,2)).replace("d",o).replace("hh",es(l,2)).replace("h",l).replace("mm",es(u,2)).replace("m",u).replace("ss",es(c,2)).replace("s",c).replace("SSS",es(f,3)),r}function k$e(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function Fv(r,e){return e=e||"transparent",$e(r)?r:ot(r)&&r.colorStops&&(r.colorStops[0]||{}).color||e}function nC(r,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=r}else window.open(r,e)}var yA=B,tue=["left","right","top","bottom","width","height"],Qp=[["width","left","right"],["height","top","bottom"]];function $B(r,e,t,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),h=f&&f.getBoundingRect(),p,v;if(r==="horizontal"){var m=c.width+(h?-h.x+c.x:0);p=a+m,p>n||l.newline?(a=0,p=m,s+=o+t,o=c.height):o=Math.max(o,c.height)}else{var y=c.height+(h?-h.y+c.y:0);v=s+y,v>i||l.newline?(a+=o+t,s=0,v=y,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),r==="horizontal"?a=p+t:s=v+t)})}var pv=$B;gt($B,"vertical");gt($B,"horizontal");function M$e(r,e,t){var n=e.width,i=e.height,a=We(r.left,n),s=We(r.top,i),o=We(r.right,n),l=We(r.bottom,i);return(isNaN(a)||isNaN(parseFloat(r.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(r.right)))&&(o=n),(isNaN(s)||isNaN(parseFloat(r.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(r.bottom)))&&(l=i),t=ag(t||0),{width:Math.max(o-a-t[1]-t[3],0),height:Math.max(l-s-t[0]-t[2],0)}}function ti(r,e,t){t=ag(t||0);var n=e.width,i=e.height,a=We(r.left,n),s=We(r.top,i),o=We(r.right,n),l=We(r.bottom,i),u=We(r.width,n),c=We(r.height,i),f=t[2]+t[0],h=t[1]+t[3],p=r.aspect;switch(isNaN(u)&&(u=n-o-h-a),isNaN(c)&&(c=i-l-f-s),p!=null&&(isNaN(u)&&isNaN(c)&&(p>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(a)&&(a=n-o-u-h),isNaN(s)&&(s=i-l-c-f),r.left||r.right){case"center":a=n/2-u/2-t[3];break;case"right":a=n-u-h;break}switch(r.top||r.bottom){case"middle":case"center":s=i/2-c/2-t[0];break;case"bottom":s=i-c-f;break}a=a||0,s=s||0,isNaN(u)&&(u=n-h-a-(o||0)),isNaN(c)&&(c=i-f-s-(l||0));var v=new Tt(a+t[3],s+t[0],u,c);return v.margin=t,v}function tI(r,e,t,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!s&&!o)return!1;var u;if(l==="raw")u=r.type==="group"?new Tt(0,0,+e.width||0,+e.height||0):r.getBoundingRect();else if(u=r.getBoundingRect(),r.needLocalTransform()){var c=r.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=ti(st({width:u.width,height:u.height},e),t,n),h=s?f.x-u.x:0,p=o?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=p):(a.x+=h,a.y+=p),a===r&&r.markRedraw(),!0}function P$e(r,e){return r[Qp[e][0]]!=null||r[Qp[e][1]]!=null&&r[Qp[e][2]]!=null}function Sw(r){var e=r.layoutMode||r.constructor.layoutMode;return ot(e)?e:e?{type:e}:null}function ad(r,e,t){var n=t&&t.ignoreSize;!ke(n)&&(n=[n,n]);var i=s(Qp[0],0),a=s(Qp[1],1);u(Qp[0],r,i),u(Qp[1],r,a);function s(c,f){var h={},p=0,v={},m=0,y=2;if(yA(c,function(b){v[b]=r[b]}),yA(c,function(b){o(e,b)&&(h[b]=v[b]=e[b]),l(h,b)&&p++,l(v,b)&&m++}),n[f])return l(e,c[1])?v[c[2]]=null:l(e,c[2])&&(v[c[1]]=null),v;if(m===y||!p)return v;if(p>=y)return h;for(var x=0;x<c.length;x++){var w=c[x];if(!o(h,w)&&o(r,w)){h[w]=r[w];break}}return h}function o(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,h){yA(c,function(p){f[p]=h[p]})}}function Cy(r){return rue({},r)}function rue(r,e){return e&&r&&yA(tue,function(t){e.hasOwnProperty(t)&&(r[t]=e[t])}),r}var L$e=Qt(),Ut=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.uid=Ey("ec_cpt_model"),a}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=Sw(this),a=i?Cy(t):{},s=n.getTheme();_t(t,s.get(this.mainType)),_t(t,this.getDefaultOption()),i&&ad(t,a,i)},e.prototype.mergeOption=function(t,n){_t(this.option,t,!0);var i=Sw(this);i&&ad(this.option,t,i)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Eje(t))return t.defaultOption;var n=L$e(this);if(!n.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=_t(o,i[l],!0);n.defaultOption=o}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var i=t+"Index",a=t+"Id";return Cb(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(or);ale(Ut,or);UD(Ut);y$e(Ut);_$e(Ut,O$e);function O$e(r){var e=[];return B(Ut.getClassesByMainType(r),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Pe(e,function(t){return Ru(t).main}),r!=="dataset"&&Ct(e,"dataset")<=0&&e.unshift("dataset"),e}var nue="";typeof navigator<"u"&&(nue=navigator.platform||"");var o0="rgba(0, 0, 0, 0.2)";const N$e={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:o0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:o0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:o0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:o0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:o0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:o0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:nue.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var iue=Je(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),tl="original",Ua="arrayRows",rl="objectRows",ic="keyedColumns",Vh="typedArray",aue="unknown",$u="column",Dy="row",ea={Must:1,Might:2,Not:3},sue=Qt();function F$e(r){sue(r).datasetMap=Je()}function oue(r,e,t){var n={},i=YB(e);if(!i||!r)return n;var a=[],s=[],o=e.ecModel,l=sue(o).datasetMap,u=i.uid+"_"+t.seriesLayoutBy,c,f;r=r.slice(),B(r,function(m,y){var x=ot(m)?m:r[y]={name:m};x.type==="ordinal"&&c==null&&(c=y,f=v(x)),n[x.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});B(r,function(m,y){var x=m.name,w=v(m);if(c==null){var b=h.valueWayDim;p(n[x],b,w),p(s,b,w),h.valueWayDim+=w}else if(c===y)p(n[x],0,w),p(a,0,w);else{var b=h.categoryWayDim;p(n[x],b,w),p(s,b,w),h.categoryWayDim+=w}});function p(m,y,x){for(var w=0;w<x;w++)m.push(y+w)}function v(m){var y=m.dimsDef;return y?y.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function qB(r,e,t){var n={},i=YB(r);if(!i)return n;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===rl||a===ic)&&B(s,function(c,f){(ot(c)?c.name:c)==="name"&&(o=f)});var l=function(){for(var c={},f={},h=[],p=0,v=Math.min(5,t);p<v;p++){var m=uue(e.data,a,e.seriesLayoutBy,s,e.startIndex,p);h.push(m);var y=m===ea.Not;if(y&&c.v==null&&p!==o&&(c.v=p),(c.n==null||c.n===c.v||!y&&h[c.n]===ea.Not)&&(c.n=p),x(c)&&h[c.n]!==ea.Not)return c;y||(m===ea.Might&&f.v==null&&p!==o&&(f.v=p),(f.n==null||f.n===f.v)&&(f.n=p))}function x(w){return w.v!=null&&w.n!=null}return x(c)?c:x(f)?f:null}();if(l){n.value=[l.v];var u=o??l.n;n.itemName=[u],n.seriesName=[u]}return n}function YB(r){var e=r.get("data",!0);if(!e)return Cb(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Qn).models[0]}function B$e(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Cb(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Qn).models}function lue(r,e){return uue(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,e)}function uue(r,e,t,n,i,a){var s,o=5;if(hs(r))return ea.Not;var l,u;if(n){var c=n[a];ot(c)?(l=c.name,u=c.type):$e(c)&&(l=c)}if(u!=null)return u==="ordinal"?ea.Must:ea.Not;if(e===Ua){var f=r;if(t===Dy){for(var h=f[a],p=0;p<(h||[]).length&&p<o;p++)if((s=T(h[i+p]))!=null)return s}else for(var p=0;p<f.length&&p<o;p++){var v=f[i+p];if(v&&(s=T(v[a]))!=null)return s}}else if(e===rl){var m=r;if(!l)return ea.Not;for(var p=0;p<m.length&&p<o;p++){var y=m[p];if(y&&(s=T(y[l]))!=null)return s}}else if(e===ic){var x=r;if(!l)return ea.Not;var h=x[l];if(!h||hs(h))return ea.Not;for(var p=0;p<h.length&&p<o;p++)if((s=T(h[p]))!=null)return s}else if(e===tl)for(var w=r,p=0;p<w.length&&p<o;p++){var y=w[p],b=yy(y);if(!ke(b))return ea.Not;if((s=T(b[a]))!=null)return s}function T(C){var D=$e(C);if(C!=null&&Number.isFinite(Number(C))&&C!=="")return D?ea.Might:ea.Not;if(D&&C!=="-")return ea.Must}return ea.Not}var x4=Je();function V$e(r,e){Ba(x4.get(r)==null&&e),x4.set(r,e)}function z$e(r,e,t){var n=x4.get(e);if(!n)return t;var i=n(r);return i?t.concat(i):t}var iq=Qt(),U$e=Qt(),XB=function(){function r(){}return r.prototype.getColorFromPalette=function(e,t,n){var i=Pr(this.get("color",!0)),a=this.get("colorLayer",!0);return cue(this,iq,i,a,e,t,n)},r.prototype.clearColorPalette=function(){G$e(this,iq)},r}();function w4(r,e,t,n){var i=Pr(r.get(["aria","decal","decals"]));return cue(r,U$e,i,null,e,t,n)}function H$e(r,e){for(var t=r.length,n=0;n<t;n++)if(r[n].length>e)return r[n];return r[t-1]}function cue(r,e,t,n,i,a,s){a=a||r;var o=e(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=s==null||!n?t:H$e(n,s);if(c=c||t,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),o.paletteIdx=(l+1)%c.length,f}}function G$e(r,e){e(r).paletteIdx=0,e(r).paletteNameMap={}}var o2,t_,aq,sq="\0_ec_inner",j$e=1,KB=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,a,s,o){a=a||{},this.option=null,this._theme=new or(a),this._locale=new or(s),this._optionManager=o},e.prototype.setOption=function(t,n,i){var a=uq(n);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,n){return this._resetOption(t,uq(n))},e.prototype._resetOption=function(t,n){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?aq(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&B(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=Je(),u=n&&n.replaceMergeMainTypeMap;F$e(this),B(t,function(f,h){f!=null&&(Ut.hasClass(h)?h&&(o.push(h),l.set(h,!0)):i[h]=i[h]==null?ut(f):_t(i[h],f,!0))}),u&&u.each(function(f,h){Ut.hasClass(h)&&!l.get(h)&&(o.push(h),l.set(h,!0))}),Ut.topologicalTravel(o,Ut.getAllClassMainTypes(),c,this);function c(f){var h=z$e(this,f,Pr(t[f])),p=a.get(f),v=p?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",m=ele(p,h,v);mje(m,f,Ut),i[f]=null,a.set(f,null),s.set(f,0);var y=[],x=[],w=0,b;B(m,function(T,C){var D=T.existing,A=T.newOption;if(!A)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var k=f==="series",I=Ut.getClass(f,T.keyInfo.subType,!k);if(!I)return;if(f==="tooltip"){if(b)return;b=!0}if(D&&D.constructor===I)D.name=T.keyInfo.name,D.mergeOption(A,this),D.optionUpdated(A,!1);else{var M=Ce({componentIndex:C},T.keyInfo);D=new I(A,this,this,M),Ce(D,M),T.brandNew&&(D.__requireNewView=!0),D.init(A,this,this),D.optionUpdated(null,!0)}}D?(y.push(D.option),x.push(D),w++):(y.push(void 0),x.push(void 0))},this),i[f]=y,a.set(f,x),s.set(f,w),f==="series"&&o2(this)}this._seriesIndices||o2(this)},e.prototype.getOption=function(){var t=ut(this.option);return B(t,function(n,i){if(Ut.hasClass(i)){for(var a=Pr(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!yw(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[sq],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var i=this._componentsMap.get(t);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],B(Pr(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=oq("id",a,o):s!=null?l=oq("name",s,o):l=sr(o,function(u){return!!u}),lq(l,t)},e.prototype.findComponents=function(t){var n=t.query,i=t.mainType,a=o(n),s=a?this.queryComponents(a):sr(this._componentsMap.get(i),function(u){return!!u});return l(lq(s,t));function o(u){var c=i+"Index",f=i+"Id",h=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:i,index:u[c],id:u[f],name:u[h]}:null}function l(u){return t.filter?sr(u,t.filter):u}},e.prototype.eachComponent=function(t,n,i){var a=this._componentsMap;if(rt(t)){var s=n,o=t;a.each(function(f,h){for(var p=0;f&&p<f.length;p++){var v=f[p];v&&o.call(s,h,v,v.componentIndex)}})}else for(var l=$e(t)?a.get(t):ot(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=vi(t,null);return sr(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return sr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return sr(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){t_(this),B(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(n,a,i)},this)},e.prototype.eachRawSeries=function(t,n){B(this._componentsMap.get("series"),function(i){i&&t.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,i){t_(this),B(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&n.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,n,i){return B(this.getSeriesByType(t),n,i)},e.prototype.isSeriesFiltered=function(t){return t_(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){t_(this);var i=[];B(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Je(i)},e.prototype.restoreData=function(t){o2(this);var n=this._componentsMap,i=[];n.each(function(a,s){Ut.hasClass(s)&&i.push(s)}),Ut.topologicalTravel(i,Ut.getAllClassMainTypes(),function(a){B(n.get(a),function(s){s&&(a!=="series"||!W$e(s,t))&&s.restoreData()})})},e.internalField=function(){o2=function(t){var n=t._seriesIndices=[];B(t._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),t._seriesIndicesMap=Je(n)},t_=function(t){},aq=function(t,n){t.option={},t.option[sq]=j$e,t._componentsMap=Je({series:[]}),t._componentsCount=Je();var i=n.aria;ot(i)&&i.enabled==null&&(i.enabled=!0),$$e(n,t._theme.option),_t(n,N$e,!1),t._mergeOption(n,null)}}(),e}(or);function W$e(r,e){if(e){var t=e.seriesIndex,n=e.seriesId,i=e.seriesName;return t!=null&&r.componentIndex!==t||n!=null&&r.id!==n||i!=null&&r.name!==i}}function $$e(r,e){var t=r.color&&!r.colorLayer;B(e,function(n,i){i==="colorLayer"&&t||Ut.hasClass(i)||(typeof n=="object"?r[i]=r[i]?_t(r[i],n,!1):ut(n):r[i]==null&&(r[i]=n))})}function oq(r,e,t){if(ke(e)){var n=Je();return B(e,function(a){if(a!=null){var s=vi(a,null);s!=null&&n.set(a,!0)}}),sr(t,function(a){return a&&n.get(a[r])})}else{var i=vi(e,null);return sr(t,function(a){return a&&i!=null&&a[r]===i})}}function lq(r,e){return e.hasOwnProperty("subType")?sr(r,function(t){return t&&t.subType===e.subType}):r}function uq(r){var e=Je();return r&&B(Pr(r.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Cn(KB,XB);var q$e=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],fue=function(){function r(e){B(q$e,function(t){this[t]=Ye(e[t],e)},this)}return r}(),bP={},Iy=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(e,t){var n=[];B(bP,function(i,a){var s=i.create(e,t);n=n.concat(s||[])}),this._coordinateSystems=n},r.prototype.update=function(e,t){B(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(e,t){bP[e]=t},r.get=function(e){return bP[e]},r}(),Y$e=/^(min|max)?(.+)$/,X$e=function(){function r(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return r.prototype.setOption=function(e,t,n){e&&(B(Pr(e.series),function(s){s&&s.data&&hs(s.data)&&fw(s.data)}),B(Pr(e.dataset),function(s){s&&s.source&&hs(s.source)&&fw(s.source)})),e=ut(e);var i=this._optionBackup,a=K$e(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ut(e?t.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=ut(n[i.getCurrentIndex()]))}return t},r.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)Z$e(i[l].query,t,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!J$e(s,this._currentMediaIndices)&&(o=Pe(s,function(c){return ut(c===-1?a.option:i[c].option)})),this._currentMediaIndices=s,o},r}();function K$e(r,e,t){var n=[],i,a,s=r.baseOption,o=r.timeline,l=r.options,u=r.media,c=!!r.media,f=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((f||c)&&(r.options=r.media=null),a=r),c&&ke(u)&&B(u,function(p){p&&p.option&&(p.query?n.push(p):i||(i=p))}),h(a),B(l,function(p){return h(p)}),B(n,function(p){return h(p.option)});function h(p){B(e,function(v){v(p,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function Z$e(r,e,t){var n={width:e,height:t,aspectratio:e/t},i=!0;return B(r,function(a,s){var o=s.match(Y$e);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();Q$e(n[u],a,l)||(i=!1)}}),i}function Q$e(r,e,t){return t==="min"?r>=e:t==="max"?r<=e:r===e}function J$e(r,e){return r.join(",")===e.join(",")}var vl=B,Tw=ot,cq=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function SP(r){var e=r&&r.itemStyle;if(e)for(var t=0,n=cq.length;t<n;t++){var i=cq[t],a=e.normal,s=e.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?_t(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),s&&s[i]&&(r[i]=r[i]||{},r[i].emphasis?_t(r[i].emphasis,s[i]):r[i].emphasis=s[i],s[i]=null)}}function Ta(r,e,t){if(r&&r[e]&&(r[e].normal||r[e].emphasis)){var n=r[e].normal,i=r[e].emphasis;n&&(t?(r[e].normal=r[e].emphasis=null,st(r[e],n)):r[e]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[e]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function G_(r){Ta(r,"itemStyle"),Ta(r,"lineStyle"),Ta(r,"areaStyle"),Ta(r,"label"),Ta(r,"labelLine"),Ta(r,"upperLabel"),Ta(r,"edgeLabel")}function Yn(r,e){var t=Tw(r)&&r[e],n=Tw(t)&&t.textStyle;if(n)for(var i=0,a=g$.length;i<a;i++){var s=g$[i];n.hasOwnProperty(s)&&(t[s]=n[s])}}function Lo(r){r&&(G_(r),Yn(r,"label"),r.emphasis&&Yn(r.emphasis,"label"))}function eqe(r){if(Tw(r)){SP(r),G_(r),Yn(r,"label"),Yn(r,"upperLabel"),Yn(r,"edgeLabel"),r.emphasis&&(Yn(r.emphasis,"label"),Yn(r.emphasis,"upperLabel"),Yn(r.emphasis,"edgeLabel"));var e=r.markPoint;e&&(SP(e),Lo(e));var t=r.markLine;t&&(SP(t),Lo(t));var n=r.markArea;n&&Lo(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!hs(a))for(var s=0;s<a.length;s++)Lo(a[s]);B(r.categories,function(u){G_(u)})}if(i&&!hs(i))for(var s=0;s<i.length;s++)Lo(i[s]);if(e=r.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)Lo(o[s]);if(t=r.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)ke(l[s])?(Lo(l[s][0]),Lo(l[s][1])):Lo(l[s]);r.type==="gauge"?(Yn(r,"axisLabel"),Yn(r,"title"),Yn(r,"detail")):r.type==="treemap"?(Ta(r.breadcrumb,"itemStyle"),B(r.levels,function(u){G_(u)})):r.type==="tree"&&G_(r.leaves)}}function Dc(r){return ke(r)?r:r?[r]:[]}function fq(r){return(ke(r)?r[0]:r)||{}}function tqe(r,e){vl(Dc(r.series),function(n){Tw(n)&&eqe(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),vl(t,function(n){vl(Dc(r[n]),function(i){i&&(Yn(i,"axisLabel"),Yn(i.axisPointer,"label"))})}),vl(Dc(r.parallel),function(n){var i=n&&n.parallelAxisDefault;Yn(i,"axisLabel"),Yn(i&&i.axisPointer,"label")}),vl(Dc(r.calendar),function(n){Ta(n,"itemStyle"),Yn(n,"dayLabel"),Yn(n,"monthLabel"),Yn(n,"yearLabel")}),vl(Dc(r.radar),function(n){Yn(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),vl(Dc(r.geo),function(n){Tw(n)&&(Lo(n),vl(Dc(n.regions),function(i){Lo(i)}))}),vl(Dc(r.timeline),function(n){Lo(n),Ta(n,"label"),Ta(n,"itemStyle"),Ta(n,"controlStyle",!0);var i=n.data;ke(i)&&B(i,function(a){ot(a)&&(Ta(a,"label"),Ta(a,"itemStyle"))})}),vl(Dc(r.toolbox),function(n){Ta(n,"iconStyle"),vl(n.feature,function(i){Ta(i,"iconStyle")})}),Yn(fq(r.axisPointer),"label"),Yn(fq(r.tooltip).axisPointer,"label")}function rqe(r,e){for(var t=e.split(","),n=r,i=0;i<t.length&&(n=n&&n[t[i]],n!=null);i++);return n}function nqe(r,e,t,n){for(var i=e.split(","),a=r,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=t)}function hq(r){r&&B(iqe,function(e){e[0]in r&&!(e[1]in r)&&(r[e[1]]=r[e[0]])})}var iqe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],aqe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],TP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function r_(r){var e=r&&r.itemStyle;if(e)for(var t=0;t<TP.length;t++){var n=TP[t][1],i=TP[t][0];e[n]!=null&&(e[i]=e[n])}}function dq(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function pq(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function sqe(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function hue(r,e){if(r)for(var t=0;t<r.length;t++)e(r[t]),r[t]&&hue(r[t].children,e)}function due(r,e){tqe(r,e),r.series=Pr(r.series),B(r.series,function(t){if(ot(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),dq(t.label);var i=t.data;if(i&&!hs(i))for(var a=0;a<i.length;a++)dq(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var s=rqe(t,"pointer.color");s!=null&&nqe(t,"itemStyle.color",s)}else if(n==="bar"){r_(t),r_(t.backgroundStyle),r_(t.emphasis);var i=t.data;if(i&&!hs(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(r_(i[a]),r_(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),pq(t),hue(t.data,pq)}else n==="graph"||n==="sankey"?sqe(t):n==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&st(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),hq(t)}}),r.dataRange&&(r.visualMap=r.dataRange),B(aqe,function(t){var n=r[t];n&&(ke(n)||(n=[n]),B(n,function(i){hq(i)}))})}function oqe(r){var e=Je();r.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(lqe)}function lqe(r){B(r,function(e,t){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,f){var h=s.get(e.stackedDimension,f);if(isNaN(h))return i;var p,v;o?v=s.getRawIndex(f):p=s.get(e.stackedByDimension,f);for(var m=NaN,y=t-1;y>=0;y--){var x=r[y];if(o||(v=x.data.rawIndexOf(x.stackedByDimension,p)),v>=0){var w=x.data.getByRawIndex(x.stackResultDimension,v);if(l==="all"||l==="positive"&&w>0||l==="negative"&&w<0||l==="samesign"&&h>=0&&w>0||l==="samesign"&&h<=0&&w<0){h=oje(h,w),m=w;break}}}return n[0]=h,n[1]=m,n})})}var rI=function(){function r(e){this.data=e.data||(e.sourceFormat===ic?{}:[]),this.sourceFormat=e.sourceFormat||aue,this.seriesLayoutBy=e.seriesLayoutBy||$u,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];i.type==null&&lue(this,n)===ea.Must&&(i.type="ordinal")}}return r}();function ZB(r){return r instanceof rI}function b4(r,e,t){t=t||pue(r);var n=e.seriesLayoutBy,i=cqe(r,t,n,e.sourceHeader,e.dimensions),a=new rI({data:r,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:ut(e)});return a}function QB(r){return new rI({data:r,sourceFormat:hs(r)?Vh:tl})}function uqe(r){return new rI({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:ut(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function pue(r){var e=aue;if(hs(r))e=Vh;else if(ke(r)){r.length===0&&(e=Ua);for(var t=0,n=r.length;t<n;t++){var i=r[t];if(i!=null){if(ke(i)||hs(i)){e=Ua;break}else if(ot(i)){e=rl;break}}}}else if(ot(r)){for(var a in r)if(Ke(r,a)&&ha(r[a])){e=ic;break}}return e}function cqe(r,e,t,n,i){var a,s;if(!r)return{dimensionsDefine:vq(i),startIndex:s,dimensionsDetectedCount:a};if(e===Ua){var o=r;n==="auto"||n==null?gq(function(u){u!=null&&u!=="-"&&($e(u)?s==null&&(s=1):s=0)},t,o,10):s=tr(n)?n:n?1:0,!i&&s===1&&(i=[],gq(function(u,c){i[c]=u!=null?u+"":""},t,o,1/0)),a=i?i.length:t===Dy?o.length:o[0]?o[0].length:null}else if(e===rl)i||(i=fqe(r));else if(e===ic)i||(i=[],B(r,function(u,c){i.push(c)}));else if(e===tl){var l=yy(r[0]);a=ke(l)&&l.length||1}return{startIndex:s,dimensionsDefine:vq(i),dimensionsDetectedCount:a}}function fqe(r){for(var e=0,t;e<r.length&&!(t=r[e++]););if(t)return jt(t)}function vq(r){if(r){var e=Je();return Pe(r,function(t,n){t=ot(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function gq(r,e,t,n){if(e===Dy)for(var i=0;i<t.length&&i<n;i++)r(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function vue(r){var e=r.sourceFormat;return e===rl||e===ic}var yp,_p,xp,mq,yq,gue=function(){function r(e,t){var n=ZB(e)?e:QB(e);this._source=n;var i=this._data=n.data;n.sourceFormat===Vh&&(this._offset=0,this._dimSize=t,this._data=i),yq(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(e,t){},r.prototype.appendData=function(e){},r.prototype.clean=function(){},r.protoInitialize=function(){var e=r.prototype;e.pure=!1,e.persistent=!0}(),r.internalField=function(){var e;yq=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,p=mq[JB(u,c)];if(Ce(s,p),u===Vh)s.getItem=t,s.count=i,s.fillStorage=n;else{var v=mue(u,c);s.getItem=Ye(v,null,o,f,h);var m=yue(u,c);s.count=Ye(m,null,o,f,h)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,f=0;f<u;f++)o[f]=l[c+f];return o},n=function(s,o,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var p=u[h],v=p[0]==null?1/0:p[0],m=p[1]==null?-1/0:p[1],y=o-s,x=l[h],w=0;w<y;w++){var b=c[w*f+h];x[s+w]=b,b<v&&(v=b),b>m&&(m=b)}p[0]=v,p[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};mq=(e={},e[Ua+"_"+$u]={pure:!0,appendData:a},e[Ua+"_"+Dy]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[rl]={pure:!0,appendData:a},e[ic]={pure:!0,appendData:function(s){var o=this._data;B(s,function(l,u){for(var c=o[u]||(o[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[tl]={appendData:a},e[Vh]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),r}(),_q=function(r,e,t,n){return r[n]},hqe=(yp={},yp[Ua+"_"+$u]=function(r,e,t,n){return r[n+e]},yp[Ua+"_"+Dy]=function(r,e,t,n,i){n+=e;for(var a=i||[],s=r,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},yp[rl]=_q,yp[ic]=function(r,e,t,n,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=r[o];a[s]=l?l[n]:null}return a},yp[tl]=_q,yp);function mue(r,e){var t=hqe[JB(r,e)];return t}var xq=function(r,e,t){return r.length},dqe=(_p={},_p[Ua+"_"+$u]=function(r,e,t){return Math.max(0,r.length-e)},_p[Ua+"_"+Dy]=function(r,e,t){var n=r[0];return n?Math.max(0,n.length-e):0},_p[rl]=xq,_p[ic]=function(r,e,t){var n=t[0].name,i=r[n];return i?i.length:0},_p[tl]=xq,_p);function yue(r,e){var t=dqe[JB(r,e)];return t}var AP=function(r,e,t){return r[e]},pqe=(xp={},xp[Ua]=AP,xp[rl]=function(r,e,t){return r[t]},xp[ic]=AP,xp[tl]=function(r,e,t){var n=yy(r);return n instanceof Array?n[e]:n},xp[Vh]=AP,xp);function _ue(r){var e=pqe[r];return e}function JB(r,e){return r===Ua?r+"_"+e:r}function $m(r,e,t){if(r){var n=r.getRawDataItem(e);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=r.getDimensionIndex(t),o=i.getDimensionProperty(s);return _ue(a)(n,s,o)}else{var l=n;return a===tl&&(l=yy(n)),l}}}}var vqe=/\{@(.+?)\}/g,nI=function(){function r(){}return r.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),a=n.getRawIndex(e),s=n.getName(e),o=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",p=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:u,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(e,t,n,i,a,s){t=t||"normal";var o=this.getData(n),l=this.getDataParams(e,n);if(s&&(l.value=s.interpolatedValue),i!=null&&ke(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(rt(a))return l.status=t,l.dimensionIndex=i,a(l);if($e(a)){var c=WB(a,l);return c.replace(vqe,function(f,h){var p=h.length,v=h;v.charAt(0)==="["&&v.charAt(p-1)==="]"&&(v=+v.slice(1,p-1));var m=$m(o,e,v);if(s&&ke(s.interpolatedValue)){var y=o.getDimensionIndex(v);y>=0&&(m=s.interpolatedValue[y])}return m!=null?m+"":""})}},r.prototype.getRawValue=function(e,t){return $m(this.getData(t),e)},r.prototype.formatTooltip=function(e,t,n){},r}();function wq(r){var e,t;return ot(r)?r.type&&(t=r):e=r,{text:e,frag:t}}function kx(r){return new gqe(r)}var gqe=function(){function r(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return r.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(w){return!(w>=1)&&(w=1),w}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||p<v)){var m=this._progress;if(ke(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],p,v,l,u);else this._doProgress(m,p,v,l,u)}this._dueIndex=v;var x=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(e,t,n,i,a){bq.reset(t,n,i,a),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:bq.next},this.context)},r.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),ke(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},r}(),bq=function(){var r,e,t,n,i,a={reset:function(l,u,c,f){e=l,r=u,t=c,n=f,i=Math.ceil(n/t),a.next=t>1&&n>0?o:s}};return a;function s(){return e<r?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),u=e>=r?null:l<n?l:e;return e++,u}}();function zh(r,e){var t=e&&e.type;return t==="ordinal"?r:(t==="time"&&!tr(r)&&r!=null&&r!=="-"&&(r=+ao(r)),r==null||r===""?NaN:Number(r))}var mqe=Je({number:function(r){return parseFloat(r)},time:function(r){return+ao(r)},trim:function(r){return $e(r)?Uo(r):r}});function xue(r){return mqe.get(r)}var wue={lt:function(r,e){return r<e},lte:function(r,e){return r<=e},gt:function(r,e){return r>e},gte:function(r,e){return r>=e}},yqe=function(){function r(e,t){if(!tr(t)){var n="";pr(n)}this._opFn=wue[e],this._rvalFloat=Qu(t)}return r.prototype.evaluate=function(e){return tr(e)?this._opFn(e,this._rvalFloat):this._opFn(Qu(e),this._rvalFloat)},r}(),bue=function(){function r(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return r.prototype.evaluate=function(e,t){var n=tr(e)?e:Qu(e),i=tr(t)?t:Qu(t),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=$e(e),l=$e(t);o&&(n=l?e:0),l&&(i=o?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r}(),_qe=function(){function r(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Qu(t)}return r.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=Qu(e)===this._rvalFloat)}return this._isEQ?t:!t},r}();function xqe(r,e){return r==="eq"||r==="ne"?new _qe(r==="eq",e):Ke(wue,r)?new yqe(r,e):null}var wqe=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(e){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(e){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(e,t){},r.prototype.retrieveValueFromItem=function(e,t){},r.prototype.convertValue=function(e,t){return zh(e,t)},r}();function bqe(r,e){var t=new wqe,n=r.data,i=t.sourceFormat=r.sourceFormat,a=r.startIndex,s="";r.seriesLayoutBy!==$u&&pr(s);var o=[],l={},u=r.dimensionsDefine;if(u)B(u,function(m,y){var x=m.name,w={index:y,name:x,displayName:m.displayName};if(o.push(w),x!=null){var b="";Ke(l,x)&&pr(b),l[x]=w}});else for(var c=0;c<r.dimensionsDetectedCount;c++)o.push({index:c});var f=mue(i,$u);e.__isBuiltIn&&(t.getRawDataItem=function(m){return f(n,a,o,m)},t.getRawData=Ye(Sqe,null,r)),t.cloneRawData=Ye(Tqe,null,r);var h=yue(i,$u);t.count=Ye(h,null,n,a,o);var p=_ue(i);t.retrieveValue=function(m,y){var x=f(n,a,o,m);return v(x,y)};var v=t.retrieveValueFromItem=function(m,y){if(m!=null){var x=o[y];if(x)return p(m,y,x.name)}};return t.getDimensionInfo=Ye(Aqe,null,o,l),t.cloneAllDimensionInfo=Ye(Eqe,null,o),t}function Sqe(r){var e=r.sourceFormat;if(!eV(e)){var t="";pr(t)}return r.data}function Tqe(r){var e=r.sourceFormat,t=r.data;if(!eV(e)){var n="";pr(n)}if(e===Ua){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===rl){for(var i=[],a=0,s=t.length;a<s;a++)i.push(Ce({},t[a]));return i}}function Aqe(r,e,t){if(t!=null){if(tr(t)||!isNaN(t)&&!Ke(e,t))return r[t];if(Ke(e,t))return e[t]}}function Eqe(r){return ut(r)}var Sue=Je();function Cqe(r){r=ut(r);var e=r.type,t="";e||pr(t);var n=e.split(":");n.length!==2&&pr(t);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),r.__isBuiltIn=i,Sue.set(e,r)}function Dqe(r,e,t){var n=Pr(r),i=n.length,a="";i||pr(a);for(var s=0,o=i;s<o;s++){var l=n[s];e=Iqe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function Iqe(r,e,t,n){var i="";e.length||pr(i),ot(r)||pr(i);var a=r.type,s=Sue.get(a);s||pr(i);var o=Pe(e,function(u){return bqe(u,s)}),l=Pr(s.transform({upstream:o[0],upstreamList:o,config:ut(r.config)}));return Pe(l,function(u,c){var f="";ot(u)||pr(f),u.data||pr(f);var h=pue(u.data);eV(h)||pr(f);var p,v=e[0];if(v&&c===0&&!u.dimensions){var m=v.startIndex;m&&(u.data=v.data.slice(0,m).concat(u.data)),p={seriesLayoutBy:$u,sourceHeader:m,dimensions:v.metaRawOption.dimensions}}else p={seriesLayoutBy:$u,sourceHeader:0,dimensions:u.dimensions};return b4(u.data,p,null)})}function eV(r){return r===Ua||r===rl}var iI="undefined",Rqe=typeof Uint32Array===iI?Array:Uint32Array,kqe=typeof Uint16Array===iI?Array:Uint16Array,Tue=typeof Int32Array===iI?Array:Int32Array,Sq=typeof Float64Array===iI?Array:Float64Array,Aue={float:Sq,int:Tue,ordinal:Array,number:Array,time:Sq},EP;function l0(r){return r>65535?Rqe:kqe}function u0(){return[1/0,-1/0]}function Mqe(r){var e=r.constructor;return e===Array?r.slice():new e(r)}function Tq(r,e,t,n,i){var a=Aue[t||"float"];if(i){var s=r[e],o=s&&s.length;if(o!==n){for(var l=new a(n),u=0;u<o;u++)l[u]=s[u];r[e]=l}}else r[e]=new a(n)}var S4=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Je()}return r.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=EP[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],vue(i),this._dimensions=Pe(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},n.set(e,a),this._chunks[a]=new Aue[t||"float"](this._rawCount),this._rawExtent[a]=u0(),a},r.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[e]=u0());for(var l=a[e],u=s;u<o;u++){var c=n[u]=t.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},r.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},r.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},r.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),u=0;u<a;u++){var c=i[u];Tq(n,u,c.type,l,!0)}for(var f=[],h=o;h<l;h++)for(var p=h-o,v=0;v<a;v++){var c=i[v],m=EP.arrayRows.call(this,e[p]||f,c.property,p,v);n[v][h]=m;var y=s[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},r.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=Pe(s,function(w){return w.property}),c=0;c<o;c++){var f=s[c];l[c]||(l[c]=u0()),Tq(a,c,f.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var h=[],p=e;p<t;p++){h=i.getItem(p,h);for(var v=0;v<o;v++){var m=a[v],y=this._dimValueGetter(h,u[v],p,v);m[p]=y;var x=l[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},r.prototype.getValues=function(e,t){var n=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],t));return n},r.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},r.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(n+=s)}return n},r.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var n=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},r.prototype.indicesOfNearest=function(e,t,n){var i=this._chunks,a=i[e],s=[];if(!a)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var h=this.getRawIndex(c),p=t-a[h],v=Math.abs(p);v<=n&&((v<o||v===o&&p>=0&&l<0)&&(o=v,l=p,u=0),p===l&&(s[u++]=c))}return s.length=u,s},r.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new n(t.buffer,0,i)}else{var n=l0(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},r.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=l0(n._rawCount),s=new a(i),o=[],l=e.length,u=0,c=e[0],f=n._chunks,h=0;h<i;h++){var p=void 0,v=n.getRawIndex(h);if(l===0)p=t(h);else if(l===1){var m=f[c][v];p=t(m,h)}else{for(var y=0;y<l;y++)o[y]=f[e[y]][v];o[y]=h,p=t.apply(null,o)}p&&(s[u++]=v)}return u<i&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=jt(e),a=i.length;if(!a)return this;var s=t.count(),o=l0(t._rawCount),l=new o(s),u=0,c=i[0],f=e[c][0],h=e[c][1],p=t._chunks,v=!1;if(!t._indices){var m=0;if(a===1){for(var y=p[i[0]],x=0;x<n;x++){var w=y[x];(w>=f&&w<=h||isNaN(w))&&(l[u++]=m),m++}v=!0}else if(a===2){for(var y=p[i[0]],b=p[i[1]],T=e[i[1]][0],C=e[i[1]][1],x=0;x<n;x++){var w=y[x],D=b[x];(w>=f&&w<=h||isNaN(w))&&(D>=T&&D<=C||isNaN(D))&&(l[u++]=m),m++}v=!0}}if(!v)if(a===1)for(var x=0;x<s;x++){var A=t.getRawIndex(x),w=p[i[0]][A];(w>=f&&w<=h||isNaN(w))&&(l[u++]=A)}else for(var x=0;x<s;x++){for(var k=!0,A=t.getRawIndex(x),I=0;I<a;I++){var M=i[I],w=p[M][A];(w<e[M][0]||w>e[M][1])&&(k=!1)}k&&(l[u++]=t.getRawIndex(x))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},r.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},r.prototype.modify=function(e,t){this._updateDims(this,e,t)},r.prototype._updateDims=function(e,t,n){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=u0();for(var f=0;f<o;f++){for(var h=e.getRawIndex(f),p=0;p<s;p++)l[p]=i[t[p]][h];l[s]=f;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var m=t[c],y=v[c],x=u[m],w=i[m];w&&(w[h]=y),y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}}},r.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),i=n._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,h,p=new(l0(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));p[o++]=u;for(var v=1;v<s-1;v+=l){for(var m=Math.min(v+l,s-1),y=Math.min(v+l*2,s),x=(y+m)/2,w=0,b=m;b<y;b++){var T=this.getRawIndex(b),C=a[T];isNaN(C)||(w+=C)}w/=y-m;var D=v,A=Math.min(v+l,s),k=v-1,I=a[u];c=-1,h=D;for(var M=-1,P=0,b=D;b<A;b++){var T=this.getRawIndex(b),C=a[T];if(isNaN(C)){P++,M<0&&(M=T);continue}f=Math.abs((k-x)*(C-I)-(k-b)*(w-I)),f>c&&(c=f,h=T)}P>0&&P<A-D&&(p[o++]=Math.min(M,h),h=Math.max(M,h)),p[o++]=h,u=h}return p[o++]=this.getRawIndex(s-1),n._count=o,n._indices=p,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/t),s=i[e],o=this.count(),l=new(l0(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var f=c,h=s[this.getRawIndex(f)],p=c,v=s[this.getRawIndex(p)],m=a;c+a>o&&(m=o-c);for(var y=0;y<m;y++){var x=this.getRawIndex(c+y),w=s[x];w<h&&(h=w,f=c+y),w>v&&(v=w,p=c+y)}var b=this.getRawIndex(f),T=this.getRawIndex(p);f<p?(l[u++]=b,l[u++]=T):(l[u++]=T,l[u++]=b)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(e,t,n,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),u=s[e],c=this.count(),f=a._rawExtent[e]=u0(),h=new(l0(this._rawCount))(Math.ceil(c/l)),p=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,o.length=l);for(var m=0;m<l;m++){var y=this.getRawIndex(v+m);o[m]=u[y]}var x=n(o),w=this.getRawIndex(Math.min(v+i(o,x)||0,c-1));u[w]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),h[p++]=w}return a._count=p,a._indices=h,a._updateGetRawIdx(),a},r.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[e[l]][o];u[l]=a,t.apply(null,u)}}},r.prototype.getDataExtent=function(e){var t=this._chunks[e],n=u0();if(!t)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=t[c];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[e]=s,s},r.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][t]);return n},r.prototype.clone=function(e,t){var n=new r,i=this._chunks,a=e&&Ko(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?Mqe(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ut(this._extent),e._rawExtent=ut(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},r.prototype._getRawIdxIdentity=function(e){return e},r.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function e(t,n,i,a){return zh(t[a],this._dimensions[a])}EP={arrayRows:e,objectRows:function(t,n,i,a){return zh(t[n],this._dimensions[a])},keyedColumns:e,original:function(t,n,i,a){var s=t&&(t.value==null?t:t.value);return zh(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,n,i,a){return t[a]}}}(),r}(),Eue=function(){function r(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,i,a;if(l2(e)){var s=e,o=void 0,l=void 0,u=void 0;if(n){var c=t[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=hs(o)?Vh:tl,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},p=vt(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=vt(f.sourceHeader,h.sourceHeader),m=vt(f.dimensions,h.dimensions),y=p!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||m;i=y?[b4(o,{seriesLayoutBy:p,sourceHeader:v,dimensions:m},l)]:[]}else{var x=e;if(n){var w=this._applyTransform(t);i=w.sourceList,a=w.upstreamSignList}else{var b=x.get("source",!0);i=[b4(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&Eq(a)}var s,o=[],l=[];return B(e,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&Eq(f),o.push(c),l.push(u._getVersionSign())}),n?s=Dqe(n,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[uqe(o[0])]),{sourceList:s,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},r.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},r.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},r.prototype._innerGetDataStore=function(e,t,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];l2(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,n):(o=new S4,o.initData(new gue(t,e.length),e)),s[n]=o}return o},r.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(l2(e)){var t=YB(e);return t?[t.getSourceManager()]:[]}else return Pe(B$e(e),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,i;if(l2(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:i}},r}();function Aq(r){var e=r.option.transform;e&&fw(r.option.transform)}function l2(r){return r.mainType==="series"}function Eq(r){throw new Error(r)}var Pqe="line-height:1";function Cue(r){var e=r.lineHeight;return e==null?Pqe:"line-height:"+Ca(e+"")+"px"}function Due(r,e){var t=r.color||"#6e7079",n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||"#464646",s=r.fontSize||14,o=r.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Ca(n+"")+"px;color:"+Ca(t)+";font-weight:"+Ca(i+""),valueStyle:"font-size:"+Ca(s+"")+"px;color:"+Ca(a)+";font-weight:"+Ca(o+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var Lqe=[0,10,20,30],Oqe=["",`
`,`

`,`


`];function Pi(r,e){return e.type=r,e}function T4(r){return r.type==="section"}function Iue(r){return T4(r)?Nqe:Fqe}function Rue(r){if(T4(r)){var e=0,t=r.blocks.length,n=t>1||t>0&&!r.noHeader;return B(r.blocks,function(i){var a=Rue(i);a>=e&&(e=a+ +(n&&(!a||T4(i)&&!i.noHeader)))}),e}return 0}function Nqe(r,e,t,n){var i=e.noHeader,a=Bqe(Rue(e)),s=[],o=e.blocks||[];Ba(!o||ke(o)),o=o||[];var l=r.orderMode;if(e.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Ke(u,l)){var c=new bue(u[l],null);o.sort(function(m,y){return c.evaluate(m.sortParam,y.sortParam)})}else l==="seriesDesc"&&o.reverse()}B(o,function(m,y){var x=e.valueFormatter,w=Iue(m)(x?Ce(Ce({},r),{valueFormatter:x}):r,m,y>0?a.html:0,n);w!=null&&s.push(w)});var f=r.renderMode==="richText"?s.join(a.richText):A4(n,s.join(""),i?t:a.html);if(i)return f;var h=_4(e.header,"ordinal",r.useUTC),p=Due(n,r.renderMode).nameStyle,v=Cue(n);return r.renderMode==="richText"?kue(r,h,p)+a.richText+f:A4(n,'<div style="'+p+";"+v+';">'+Ca(h)+"</div>"+f,t)}function Fqe(r,e,t,n){var i=r.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,u=r.useUTC,c=e.valueFormatter||r.valueFormatter||function(T){return T=ke(T)?T:[T],Pe(T,function(C,D){return _4(C,ke(p)?p[D]:p,u)})};if(!(a&&s)){var f=o?"":r.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=a?"":_4(l,"ordinal",u),p=e.valueType,v=s?[]:c(e.value,e.dataIndex),m=!o||!a,y=!o&&a,x=Due(n,i),w=x.nameStyle,b=x.valueStyle;return i==="richText"?(o?"":f)+(a?"":kue(r,h,w))+(s?"":Uqe(r,v,m,y,b)):A4(n,(o?"":f)+(a?"":Vqe(h,!o,w))+(s?"":zqe(v,m,y,b)),t)}}function Cq(r,e,t,n,i,a){if(r){var s=Iue(r),o={useUTC:i,renderMode:t,orderMode:n,markupStyleCreator:e,valueFormatter:r.valueFormatter};return s(o,r,0,a)}}function Bqe(r){return{html:Lqe[r],richText:Oqe[r]}}function A4(r,e,t){var n='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=Cue(r);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function Vqe(r,e,t){var n=e?"margin-left:2px":"";return'<span style="'+t+";"+n+'">'+Ca(r)+"</span>"}function zqe(r,e,t,n){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return r=ke(r)?r:[r],'<span style="'+a+";"+n+'">'+Pe(r,function(s){return Ca(s)}).join("&nbsp;&nbsp;")+"</span>"}function kue(r,e,t){return r.markupStyleCreator.wrapRichTextStyle(e,t)}function Uqe(r,e,t,n,i){var a=[i],s=n?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(ke(e)?e.join("  "):e,a)}function Mue(r,e){var t=r.getData().getItemVisual(e,"style"),n=t[r.visualDrawType];return Fv(n)}function Pue(r,e){var t=r.get("padding");return t??(e==="richText"?[8,10]:10)}var CP=function(){function r(){this.richTextStyles={},this._nextStyleNameId=Koe()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(e,t,n){var i=n==="richText"?this._generateStyleName():null,a=eue({color:t,type:e,renderMode:n,markerId:i});return $e(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(e,t){var n={};ke(t)?B(t,function(a){return Ce(n,a)}):Ce(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},r}();function Lue(r){var e=r.series,t=r.dataIndex,n=r.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=ke(o),u=Mue(e,t),c,f,h,p;if(s>1||l&&!s){var v=Hqe(o,e,t,a,u);c=v.inlineValues,f=v.inlineValueTypes,h=v.blocks,p=v.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);p=c=$m(i,t,a[0]),f=m.type}else p=c=l?o[0]:o;var y=xB(e),x=y&&e.name||"",w=i.getName(t),b=n?x:w;return Pi("section",{header:x,noHeader:n||!y,sortParam:p,blocks:[Pi("nameValue",{markerType:"item",markerColor:u,name:b,noName:!Uo(b),value:c,valueType:f,dataIndex:t})].concat(h||[])})}function Hqe(r,e,t,n,i){var a=e.getData(),s=Ko(r,function(f,h,p){var v=a.getDimensionInfo(p);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),o=[],l=[],u=[];n.length?B(n,function(f){c($m(a,t,f),f)}):B(r,c);function c(f,h){var p=a.getDimensionInfo(h);!p||p.otherDims.tooltip===!1||(s?u.push(Pi("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:f,valueType:p.type})):(o.push(f),l.push(p.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var Yf=Qt();function u2(r,e){return r.getName(e)||r.getId(e)}var _A="__universalTransitionEnabled",Lr=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=kx({count:jqe,reset:Wqe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=Yf(this).sourceManager=new Eue(this);a.prepareSource();var s=this.getInitialData(t,i);Iq(s,this),this.dataTask.context.data=s,Yf(this).dataBeforeProcessed=s,Dq(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=Sw(this),a=i?Cy(t):{},s=this.subType;Ut.hasClass(s)&&(s+="Series"),_t(t,n.getTheme().get(this.subType)),_t(t,this.getDefaultOption()),Pv(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&ad(t,a,i)},e.prototype.mergeOption=function(t,n){t=_t(this.option,t,!0),this.fillDataTextStyle(t.data);var i=Sw(this);i&&ad(this.option,t,i);var a=Yf(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,n);Iq(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Yf(this).dataBeforeProcessed=s,Dq(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!hs(t))for(var n=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Pv(t[i],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=E4(this);if(n){var i=n.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return Yf(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=E4(this);if(n){var i=n.context;i.outputData=t,n!==this.dataTask&&(i.data=t)}Yf(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Je(t)},e.prototype.getSourceManager=function(){return Yf(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Yf(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,n,i){return Lue({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Ht.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,i){var a=this.ecModel,s=XB.prototype.getColorFromPalette.call(this,t,n,i);return s||(s=a.getColorFromPalette(t,n,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],u=u2(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,n){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=jt(t),i=[],a=0;a<n.length;a++){var s=t[n[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[u2(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[_A])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){ot(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var f=n[c],h=u2(t,f);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(o==="single"||o===!0){var p=n[l-1],h=u2(t,p);s.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=t.getRawIndex(p),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return Ut.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Ut);Cn(Lr,nI);Cn(Lr,XB);ale(Lr,Ut);function Dq(r){var e=r.name;xB(r)||(r.name=Gqe(r)||e)}function Gqe(r){var e=r.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return B(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function jqe(r){return r.model.getRawData().count()}function Wqe(r){var e=r.model;return e.setData(e.getRawData().cloneShallow()),$qe}function $qe(r,e){e.outputData&&r.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Iq(r,e){B(Hm(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(t){r.wrapMethod(t,gt(qqe,e))})}function qqe(r,e){var t=E4(r);return t&&t.setOutputEnd((e||this).count()),e}function E4(r){var e=(r.ecModel||{}).scheduler,t=e&&e.getPipeline(r.uid);if(t){var n=t.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var $r=function(){function r(){this.group=new ft,this.uid=Ey("viewComponent")}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){},r.prototype.updateLayout=function(e,t,n,i){},r.prototype.updateVisual=function(e,t,n,i){},r.prototype.toggleBlurSeries=function(e,t,n){},r.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},r}();bB($r);UD($r);function Ry(){var r=Qt();return function(e){var t=r(e),n=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(n&&n.large),o=t.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var Oue=Qt(),Yqe=Ry(),Cr=function(){function r(){this.group=new ft,this.uid=Ey("viewChart"),this.renderTask=kx({plan:Xqe,reset:Kqe}),this.renderTask.context={view:this}}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.highlight=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&kq(a,i,"emphasis")},r.prototype.downplay=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&kq(a,i,"normal")},r.prototype.remove=function(e,t){this.group.removeAll()},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.eachRendered=function(e){yd(this.group,e)},r.markUpdateMethod=function(e,t){Oue(e).updateMethod=t},r.protoInitialize=function(){var e=r.prototype;e.type="chart"}(),r}();function Rq(r,e,t){r&&xw(r)&&(e==="emphasis"?lf:uf)(r,t)}function kq(r,e,t){var n=Lv(r,e),i=e&&e.highlightKey!=null?PWe(e.highlightKey):null;n!=null?B(Pr(n),function(a){Rq(r.getItemGraphicEl(a),t,i)}):r.eachItemGraphicEl(function(a){Rq(a,t,i)})}bB(Cr);UD(Cr);function Xqe(r){return Yqe(r.model)}function Kqe(r){var e=r.model,t=r.ecModel,n=r.api,i=r.payload,a=e.pipelineContext.progressiveRender,s=r.view,o=i&&Oue(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,n,i),Zqe[l]}var Zqe={incrementalPrepareRender:{progress:function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},iC="\0__throttleOriginMethod",Mq="\0__throttleRate",Pq="\0__throttleType";function aI(r,e,t){var n,i=0,a=0,s=null,o,l,u,c;e=e||0;function f(){a=new Date().getTime(),s=null,r.apply(l,u||[])}var h=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];n=new Date().getTime(),l=this,u=p;var m=c||e,y=c||t;c=null,o=n-(y?i:a)-m,clearTimeout(s),y?s=setTimeout(f,m):o>=0?f():s=setTimeout(f,-o),i=n};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.debounceNextCall=function(p){c=p},h}function ky(r,e,t,n){var i=r[e];if(i){var a=i[iC]||i,s=i[Pq],o=i[Mq];if(o!==t||s!==n){if(t==null||!n)return r[e]=a;i=r[e]=aI(a,t,n==="debounce"),i[iC]=a,i[Pq]=n,i[Mq]=t}return i}}function Aw(r,e){var t=r[e];t&&t[iC]&&(t.clear&&t.clear(),r[e]=t[iC])}var Lq=Qt(),Oq={itemStyle:Ov(jle,!0),lineStyle:Ov(Gle,!0)},Qqe={lineStyle:"stroke",itemStyle:"fill"};function Nue(r,e){var t=r.visualStyleMapper||Oq[e];return t||(console.warn("Unknown style type '"+e+"'."),Oq.itemStyle)}function Fue(r,e){var t=r.visualDrawType||Qqe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var Jqe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=Nue(r,n),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=Fue(r,n),u=s[l],c=rt(u)?u:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||f){var h=r.getColorFromPalette(r.name,null,e.getSeriesCount());s[l]||(s[l]=h,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||rt(s.fill)?h:s.fill,s.stroke=s.stroke==="auto"||rt(s.stroke)?h:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(r)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(p,v){var m=r.getDataParams(v),y=Ce({},s);y[l]=c(m),p.setItemVisual(v,"style",y)}}}},n_=new or,eYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!(r.ignoreStyleOnData||e.isSeriesFiltered(r))){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=Nue(r,n),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){n_.option=l[n];var u=i(n_),c=s.ensureUniqueItemVisual(o,"style");Ce(c,u),n_.option.decal&&(s.setItemVisual(o,"decal",n_.option.decal),n_.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},tYe={performRawSeries:!0,overallReset:function(r){var e=Je();r.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),Lq(t).scope=a}}),r.eachSeries(function(t){if(!(t.isColorBySeries()||r.isSeriesFiltered(t))){var n=t.getRawData(),i={},a=t.getData(),s=Lq(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=Fue(t,o);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),p=n.getName(u)||u+"",v=n.count();h[l]=t.getColorFromPalette(p,s,v)}})}})}},c2=Math.PI;function rYe(r,e){e=e||{},st(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new ft,n=new Kt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var i=new Xt({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Kt({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new Rb({shape:{startAngle:-c2/2,endAngle:-c2/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:c2*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:c2*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(r.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),c=r.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}var Bue=function(){function r(e,t,n,i){this._stageTaskMap=Je(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},r.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},r.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},r.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=Je();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;B(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";Ba(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,n),i.overallReset&&this._createOverallStageTask(i,a,t,n)},this)},r.prototype.prepareView=function(e,t,n,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=n,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},r.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},r.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},r.prototype._performStageTasks=function(e,t,n,i){i=i||{};var a=!1,s=this;B(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var p,v=h.agentStubMap;v.each(function(y){o(i,y)&&(y.dirty(),p=!0)}),p&&h.dirty(),s.updatePayload(h,n);var m=s.getPerformArgs(h,i.block);v.each(function(y){y.perform(m)}),h.perform(m)&&(a=!0)}else f&&f.each(function(y,x){o(i,y)&&y.dirty();var w=s.getPerformArgs(y,i.block);w.skip=!l.performRawSeries&&t.isSeriesFiltered(y.context.model),s.updatePayload(y,n),y.perform(w)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},r.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},r.prototype._createSeriesStageTask=function(e,t,n,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=Je(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(f){var h=f.uid,p=o.set(h,s&&s.get(h)||kx({plan:oYe,reset:lYe,count:cYe}));p.context={model:f,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,p)}},r.prototype._createOverallStageTask=function(e,t,n,i){var a=this,s=t.overallTask=t.overallTask||kx({reset:nYe});s.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=Je(),u=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,p="";Ba(!e.createOnAllSeries,p),u?n.eachRawSeriesByType(u,v):c?c(n,i).each(v):(f=!1,B(n.getSeries(),v));function v(m){var y=m.uid,x=l.set(y,o&&o.get(y)||(h=!0,kx({reset:iYe,onDirty:sYe})));x.context={model:m,overallProgress:f},x.agent=s,x.__block=f,a._pipe(m,x)}h&&s.dirty()},r.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},r.wrapStageHandler=function(e,t){return rt(e)&&(e={overallReset:e,seriesType:fYe(e)}),e.uid=Ey("stageHandler"),t&&(e.visualType=t),e},r}();function nYe(r){r.overallReset(r.ecModel,r.api,r.payload)}function iYe(r){return r.overallProgress&&aYe}function aYe(){this.agent.dirty(),this.getDownstream().dirty()}function sYe(){this.agent&&this.agent.dirty()}function oYe(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function lYe(r){r.useClearVisual&&r.data.clearAllVisual();var e=r.resetDefines=Pr(r.reset(r.model,r.ecModel,r.api,r.payload));return e.length>1?Pe(e,function(t,n){return Vue(n)}):uYe}var uYe=Vue(0);function Vue(r){return function(e,t){var n=t.data,i=t.resetDefines[r];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function cYe(r){return r.data.count()}function fYe(r){aC=null;try{r(Ew,zue)}catch{}return aC}var Ew={},zue={},aC;Uue(Ew,KB);Uue(zue,fue);Ew.eachSeriesByType=Ew.eachRawSeriesByType=function(r){aC=r};Ew.eachComponent=function(r){r.mainType==="series"&&r.subType&&(aC=r.subType)};function Uue(r,e){for(var t in e.prototype)r[t]=An}var Nq=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const hYe={color:Nq,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Nq]};var wa="#B9B8CE",Fq="#100C2A",f2=function(){return{axisLine:{lineStyle:{color:wa}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Bq=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Hue={darkMode:!0,color:Bq,backgroundColor:Fq,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:wa},pageTextStyle:{color:wa}},textStyle:{color:wa},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:wa}},dataZoom:{borderColor:"#71708A",textStyle:{color:wa},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:wa}},timeline:{lineStyle:{color:wa},label:{color:wa},controlStyle:{color:wa,borderColor:wa}},calendar:{itemStyle:{color:Fq},dayLabel:{color:wa},monthLabel:{color:wa},yearLabel:{color:wa}},timeAxis:f2(),logAxis:f2(),valueAxis:f2(),categoryAxis:f2(),line:{symbol:"circle"},graph:{color:Bq},gauge:{title:{color:wa},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:wa},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Hue.categoryAxis.splitLine.show=!1;var dYe=function(){function r(){}return r.prototype.normalizeQuery=function(e){var t={},n={},i={};if($e(e)){var a=Ru(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};B(e,function(l,u){for(var c=!1,f=0;f<s.length;f++){var h=s[f],p=u.lastIndexOf(h);if(p>0&&p===u.length-h.length){var v=u.slice(0,p);v!=="data"&&(t.mainType=v,t[h.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},r.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function c(f,h,p,v){return f[p]==null||h[v||p]===f[p]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),C4=["symbol","symbolSize","symbolRotate","symbolOffset"],Vq=C4.concat(["symbolKeepAspect"]),pYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData();if(r.legendIcon&&t.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<C4.length;s++){var o=C4[s],l=r.get(o);rt(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||r.defaultSymbol,t.setVisual(Ce({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),e.isSeriesFiltered(r))return;var u=jt(i);function c(f,h){for(var p=r.getRawValue(h),v=r.getDataParams(h),m=0;m<u.length;m++){var y=u[m];f.setItemVisual(h,y,i[y](p,v))}}return{dataEach:a?c:null}}},vYe={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!r.hasSymbolVisual||e.isSeriesFiltered(r))return;var t=r.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<Vq.length;o++){var l=Vq[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?n:null}}};function tV(r,e,t){switch(t){case"color":var n=r.getItemVisual(e,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(e,t)}}function Lb(r,e){switch(e){case"color":var t=r.getVisual("style");return t[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(e)}}function Gue(r,e,t,n){switch(t){case"color":var i=r.ensureUniqueItemVisual(e,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(e,t,n);break}}function jue(r,e){function t(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(s){a.push(s.seriesIndex)}),a}B([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,s){i=Ce({},i),s.dispatchAction(Ce(i,{type:n[1],seriesIndex:t(a,i)}))})})}function c0(r,e,t,n,i){var a=r+e;t.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var f=s.getData(),h=Lv(f,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:ke(h)?f.getName(h[0]):f.getName(h),selected:$e(l)?l:Ce({},l)})}})}function gYe(r,e,t){r.on("selectchanged",function(n){var i=t.getModel();n.isFromClick?(c0("map","selectchanged",e,i,n),c0("pie","selectchanged",e,i,n)):n.fromAction==="select"?(c0("map","selected",e,i,n),c0("pie","selected",e,i,n)):n.fromAction==="unselect"&&(c0("map","unselected",e,i,n),c0("pie","unselected",e,i,n))})}function Jp(r,e,t){for(var n;r&&!(e(r)&&(n=r,t));)r=r.__hostTarget||r.parent;return n}var mYe=Math.round(Math.random()*9),yYe=typeof Object.defineProperty=="function",_Ye=function(){function r(){this._id="__ec_inner_"+mYe++}return r.prototype.get=function(e){return this._guard(e)[this._id]},r.prototype.set=function(e,t){var n=this._guard(e);return yYe?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},r.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},r.prototype.has=function(e){return!!this._guard(e)[this._id]},r.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},r}(),xYe=Gt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n+a),r.lineTo(t-i,n+a),r.closePath()}}),wYe=Gt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n),r.lineTo(t,n+a),r.lineTo(t-i,n),r.closePath()}}),bYe=Gt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,f=Math.sin(u),h=Math.cos(u),p=s*.6,v=s*.7;r.moveTo(t-c,l+o),r.arc(t,l,s,Math.PI-u,Math.PI*2+u),r.bezierCurveTo(t+c-f*p,l+o+h*p,t,n-v,t,n),r.bezierCurveTo(t,n-v,t-c+f*p,l+o+h*p,t-c,l+o),r.closePath()}}),SYe=Gt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.height,n=e.width,i=e.x,a=e.y,s=n/3*2;r.moveTo(i,a),r.lineTo(i+s,a+t),r.lineTo(i,a+t/4*3),r.lineTo(i-s,a+t),r.lineTo(i,a),r.closePath()}}),TYe={line:gi,rect:Kt,roundRect:Kt,square:Kt,circle:nc,diamond:wYe,pin:bYe,arrow:SYe,triangle:xYe},AYe={line:function(r,e,t,n,i){i.x1=r,i.y1=e+n/2,i.x2=r+t,i.y2=e+n/2},rect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n},roundRect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n,i.r=Math.min(t,n)/4},square:function(r,e,t,n,i){var a=Math.min(t,n);i.x=r,i.y=e,i.width=a,i.height=a},circle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.r=Math.min(t,n)/2},diamond:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n},pin:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},arrow:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},triangle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n}},sC={};B(TYe,function(r,e){sC[e]=new r});var EYe=Gt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,e,t){var n=XE(r,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(r,e,t){var n=e.symbolType;if(n!=="none"){var i=sC[n];i||(n="rect",i=sC[n]),AYe[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(r,i.shape,t)}}});function CYe(r,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=r,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=r:t.fill=r,this.markRedraw()}}function Vn(r,e,t,n,i,a,s){var o=r.indexOf("empty")===0;o&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=PB(r.slice(8),new Tt(e,t,n,i),s?"center":"cover"):r.indexOf("path://")===0?l=kb(r.slice(7),{},new Tt(e,t,n,i),s?"center":"cover"):l=new EYe({shape:{symbolType:r,x:e,y:t,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=CYe,a&&l.setColor(a),l}function My(r){return ke(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function sg(r,e){if(r!=null)return ke(r)||(r=[r,r]),[We(r[0],e[0])||0,We(vt(r[1],r[0]),e[1])||0]}function ev(r){return isFinite(r)}function DYe(r,e,t){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(n=n*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),n=ev(n)?n:0,i=ev(i)?i:1,a=ev(a)?a:0,s=ev(s)?s:0;var o=r.createLinearGradient(n,a,i,s);return o}function IYe(r,e,t){var n=t.width,i=t.height,a=Math.min(n,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*n+t.x,o=o*i+t.y,l=l*a),s=ev(s)?s:.5,o=ev(o)?o:.5,l=l>=0&&ev(l)?l:.5;var u=r.createRadialGradient(s,o,0,s,o,l);return u}function D4(r,e,t){for(var n=e.type==="radial"?IYe(r,e,t):DYe(r,e,t),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function RYe(r,e){if(r===e||!r&&!e)return!1;if(!r||!e||r.length!==e.length)return!0;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!0;return!1}function h2(r){return parseInt(r,10)}function q0(r,e,t){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var o=document.defaultView.getComputedStyle(r);return(r[i]||h2(o[n])||h2(r.style[n]))-(h2(o[a])||0)-(h2(o[s])||0)|0}function kYe(r,e){return!r||r==="solid"||!(e>0)?null:r==="dashed"?[4*e,2*e]:r==="dotted"?[e]:tr(r)?[r]:ke(r)?r:null}function rV(r){var e=r.style,t=e.lineDash&&e.lineWidth>0&&kYe(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(t){var i=e.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(t=Pe(t,function(a){return a/i}),n/=i)}return[t,n]}var MYe=new Ju(!0);function oC(r){var e=r.stroke;return!(e==null||e==="none"||!(r.lineWidth>0))}function zq(r){return typeof r=="string"&&r!=="none"}function lC(r){var e=r.fill;return e!=null&&e!=="none"}function Uq(r,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.fillOpacity*e.opacity,r.fill(),r.globalAlpha=t}else r.fill()}function Hq(r,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.strokeOpacity*e.opacity,r.stroke(),r.globalAlpha=t}else r.stroke()}function I4(r,e,t){var n=SB(e.image,e.__image,t);if(HD(n)){var i=r.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*yx),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function PYe(r,e,t,n){var i,a=oC(t),s=lC(t),o=t.strokePercent,l=o<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||MYe,f=e.__dirty;if(!n){var h=t.fill,p=t.stroke,v=s&&!!h.colorStops,m=a&&!!p.colorStops,y=s&&!!h.image,x=a&&!!p.image,w=void 0,b=void 0,T=void 0,C=void 0,D=void 0;(v||m)&&(D=e.getBoundingRect()),v&&(w=f?D4(r,h,D):e.__canvasFillGradient,e.__canvasFillGradient=w),m&&(b=f?D4(r,p,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),y&&(T=f||!e.__canvasFillPattern?I4(r,h,e):e.__canvasFillPattern,e.__canvasFillPattern=T),x&&(C=f||!e.__canvasStrokePattern?I4(r,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=T),v?r.fillStyle=w:y&&(T?r.fillStyle=T:s=!1),m?r.strokeStyle=b:x&&(C?r.strokeStyle=C:a=!1)}var A=e.getGlobalScale();c.setScale(A[0],A[1],e.segmentIgnoreThreshold);var k,I;r.setLineDash&&t.lineDash&&(i=rV(e),k=i[0],I=i[1]);var M=!0;(u||f&D0)&&(c.setDPR(r.dpr),l?c.setContext(null):(c.setContext(r),M=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),M&&c.rebuildPath(r,l?o:1),k&&(r.setLineDash(k),r.lineDashOffset=I),n||(t.strokeFirst?(a&&Hq(r,t),s&&Uq(r,t)):(s&&Uq(r,t),a&&Hq(r,t))),k&&r.setLineDash([])}function LYe(r,e,t){var n=e.__image=SB(t.image,e.__image,e,e.onload);if(!(!n||!HD(n))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;r.drawImage(n,u,c,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=s-u,h=o-c;r.drawImage(n,u,c,f,h,i,a,s,o)}else r.drawImage(n,i,a,s,o)}}function OYe(r,e,t){var n,i=t.text;if(i!=null&&(i+=""),i){r.font=t.font||rd,r.textAlign=t.textAlign,r.textBaseline=t.textBaseline;var a=void 0,s=void 0;r.setLineDash&&t.lineDash&&(n=rV(e),a=n[0],s=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=s),t.strokeFirst?(oC(t)&&r.strokeText(i,t.x,t.y),lC(t)&&r.fillText(i,t.x,t.y)):(lC(t)&&r.fillText(i,t.x,t.y),oC(t)&&r.strokeText(i,t.x,t.y)),a&&r.setLineDash([])}}var Gq=["shadowBlur","shadowOffsetX","shadowOffsetY"],jq=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Wue(r,e,t,n,i){var a=!1;if(!n&&(t=t||{},e===t))return!1;if(n||e.opacity!==t.opacity){Is(r,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);r.globalAlpha=isNaN(s)?hv.opacity:s}(n||e.blend!==t.blend)&&(a||(Is(r,i),a=!0),r.globalCompositeOperation=e.blend||hv.blend);for(var o=0;o<Gq.length;o++){var l=Gq[o];(n||e[l]!==t[l])&&(a||(Is(r,i),a=!0),r[l]=r.dpr*(e[l]||0))}return(n||e.shadowColor!==t.shadowColor)&&(a||(Is(r,i),a=!0),r.shadowColor=e.shadowColor||hv.shadowColor),a}function Wq(r,e,t,n,i){var a=Cw(e,i.inHover),s=n?null:t&&Cw(t,i.inHover)||{};if(a===s)return!1;var o=Wue(r,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(Is(r,i),o=!0),zq(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(Is(r,i),o=!0),zq(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(Is(r,i),o=!0),r.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);r.lineWidth!==u&&(o||(Is(r,i),o=!0),r.lineWidth=u)}for(var c=0;c<jq.length;c++){var f=jq[c],h=f[0];(n||a[h]!==s[h])&&(o||(Is(r,i),o=!0),r[h]=a[h]||f[1])}return o}function NYe(r,e,t,n,i){return Wue(r,Cw(e,i.inHover),t&&Cw(t,i.inHover),n,i)}function $ue(r,e){var t=e.transform,n=r.dpr||1;t?r.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):r.setTransform(n,0,0,n,0,0)}function FYe(r,e,t){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),$ue(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=n}function BYe(r,e){return r&&e?r[0]!==e[0]||r[1]!==e[1]||r[2]!==e[2]||r[3]!==e[3]||r[4]!==e[4]||r[5]!==e[5]:!(!r&&!e)}var $q=1,qq=2,Yq=3,Xq=4;function VYe(r){var e=lC(r),t=oC(r);return!(r.lineDash||!(+e^+t)||e&&typeof r.fill!="string"||t&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function Is(r,e){e.batchFill&&r.fill(),e.batchStroke&&r.stroke(),e.batchFill="",e.batchStroke=""}function Cw(r,e){return e&&r.__hoverStyle||r.style}function nV(r,e){tv(r,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function tv(r,e,t,n){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Xs,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||RYe(a,s))&&(s&&s.length&&(Is(r,t),r.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Is(r,t),r.save(),FYe(a,r,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=o=!0);var c=e instanceof Gt&&e.autoBatch&&VYe(e.style);o||BYe(i,u.transform)?(Is(r,t),$ue(r,e)):c||Is(r,t);var f=Cw(e,t.inHover);e instanceof Gt?(t.lastDrawType!==$q&&(l=!0,t.lastDrawType=$q),Wq(r,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&r.beginPath(),PYe(r,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof jm?(t.lastDrawType!==Yq&&(l=!0,t.lastDrawType=Yq),Wq(r,e,u,l,t),OYe(r,e,f)):e instanceof Li?(t.lastDrawType!==qq&&(l=!0,t.lastDrawType=qq),NYe(r,e,u,l,t),LYe(r,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==Xq&&(l=!0,t.lastDrawType=Xq),zYe(r,e,t)),c&&n&&Is(r,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function zYe(r,e,t){var n=e.getDisplayables(),i=e.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),tv(r,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),tv(r,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,r.restore()}var DP=new _Ye,Kq=new Ab(100),Zq=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function qm(r,e){if(r==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";r.dirty&&DP.delete(r);var a=DP.get(r);if(a)return a;var s=st(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,DP.set(r,o),r.dirty=!1,o;function l(u){for(var c=[t],f=!0,h=0;h<Zq.length;++h){var p=s[Zq[h]];if(p!=null&&!ke(p)&&!$e(p)&&!tr(p)&&typeof p!="boolean"){f=!1;break}c.push(p)}var v;if(f){v=c.join(",")+(i?"-svg":"");var m=Kq.get(v);m&&(i?u.svgElement=m:u.image=m)}var y=Yue(s.dashArrayX),x=UYe(s.dashArrayY),w=que(s.symbol),b=HYe(y),T=Xue(x),C=!i&&Gl.createCanvas(),D=i&&{tag:"g",attrs:{},key:"dcl",children:[]},A=I(),k;C&&(C.width=A.width*t,C.height=A.height*t,k=C.getContext("2d")),M(),f&&Kq.put(v,C||D),u.image=C,u.svgElement=D,u.svgWidth=A.width,u.svgHeight=A.height;function I(){for(var P=1,O=0,N=b.length;O<N;++O)P=p$(P,b[O]);for(var G=1,O=0,N=w.length;O<N;++O)G=p$(G,w[O].length);P*=G;var j=T*b.length*w.length;return{width:Math.max(1,Math.min(P,s.maxTileWidth)),height:Math.max(1,Math.min(j,s.maxTileHeight))}}function M(){k&&(k.clearRect(0,0,C.width,C.height),s.backgroundColor&&(k.fillStyle=s.backgroundColor,k.fillRect(0,0,C.width,C.height)));for(var P=0,O=0;O<x.length;++O)P+=x[O];if(P<=0)return;for(var N=-T,G=0,j=0,U=0;N<A.height;){if(G%2===0){for(var X=j/2%w.length,ie=0,Z=0,W=0;ie<A.width*2;){for(var Q=0,O=0;O<y[U].length;++O)Q+=y[U][O];if(Q<=0)break;if(Z%2===0){var H=(1-s.symbolSize)*.5,ee=ie+y[U][Z]*H,J=N+x[G]*H,se=y[U][Z]*s.symbolSize,de=x[G]*s.symbolSize,Me=W/2%w[X].length;Se(ee,J,se,de,w[X][Me])}ie+=y[U][Z],++W,++Z,Z===y[U].length&&(Z=0)}++U,U===y.length&&(U=0)}N+=x[G],++j,++G,G===x.length&&(G=0)}function Se(xe,Te,Oe,ne,pt){var tt=i?1:t,ct=Vn(pt,xe*tt,Te*tt,Oe*tt,ne*tt,s.color,s.symbolKeepAspect);if(i){var it=n.painter.renderOneToVNode(ct);it&&D.children.push(it)}else nV(k,ct)}}}}function que(r){if(!r||r.length===0)return[["rect"]];if($e(r))return[[r]];for(var e=!0,t=0;t<r.length;++t)if(!$e(r[t])){e=!1;break}if(e)return que([r]);for(var n=[],t=0;t<r.length;++t)$e(r[t])?n.push([r[t]]):n.push(r[t]);return n}function Yue(r){if(!r||r.length===0)return[[0,0]];if(tr(r)){var e=Math.ceil(r);return[[e,e]]}for(var t=!0,n=0;n<r.length;++n)if(!tr(r[n])){t=!1;break}if(t)return Yue([r]);for(var i=[],n=0;n<r.length;++n)if(tr(r[n])){var e=Math.ceil(r[n]);i.push([e,e])}else{var e=Pe(r[n],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function UYe(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(tr(r)){var e=Math.ceil(r);return[e,e]}var t=Pe(r,function(n){return Math.ceil(n)});return r.length%2?t.concat(t):t}function HYe(r){return Pe(r,function(e){return Xue(e)})}function Xue(r){for(var e=0,t=0;t<r.length;++t)e+=r[t];return r.length%2===1?e*2:e}function GYe(r,e){r.eachRawSeries(function(t){if(!r.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=qm(o,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=qm(i,e)}}})}var xl=new Jo,Kue={};function jYe(r,e){Kue[r]=e}function Zue(r){return Kue[r]}var WYe="5.6.0",$Ye={zrender:"5.6.1"},qYe=1,YYe=800,XYe=900,KYe=1e3,ZYe=2e3,QYe=5e3,Que=1e3,JYe=1100,iV=2e3,Jue=3e3,eXe=4e3,sI=4500,tXe=4600,rXe=5e3,nXe=6e3,ece=7e3,tce={PROCESSOR:{FILTER:KYe,SERIES_FILTER:YYe,STATISTIC:QYe},VISUAL:{LAYOUT:Que,PROGRESSIVE_LAYOUT:JYe,GLOBAL:iV,CHART:Jue,POST_CHART_LAYOUT:tXe,COMPONENT:eXe,BRUSH:rXe,CHART_ITEM:sI,ARIA:nXe,DECAL:ece}},xa="__flagInMainProcess",Ss="__pendingUpdate",IP="__needsUpdateStatus",Qq=/^[a-zA-Z0-9_]+$/,RP="__connectUpdateStatus",Jq=0,iXe=1,aXe=2;function rce(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return ice(this,r,e)}}function nce(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ice(this,r,e)}}function ice(r,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Jo.prototype[e].apply(r,t)}var ace=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Jo),sce=ace.prototype;sce.on=nce("on");sce.off=nce("off");var f0,kP,d2,Xf,MP,PP,LP,i_,a_,eY,tY,OP,rY,p2,nY,oce,To,iY,uC=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,new dYe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},$e(n)&&(n=lce[n]),a._dom=t;var s="canvas",o="auto",l=!1;i.ssr&&Woe(function(h){var p=dt(h),v=p.dataIndex;if(v!=null){var m=Je();return m.set("series_index",p.seriesIndex),m.set("data_index",v),p.ssrType&&m.set("ssr_type",p.ssrType),m}});var u=a._zr=r4(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:vt(i.useDirtyRect,l),useCoarsePointer:vt(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=aI(Ye(u.flush,u),17),n=ut(n),n&&due(n,!0),a._theme=n,a._locale=b$e(i.locale||Wle),a._coordSysMgr=new Iy;var c=a._api=nY(a);function f(h,p){return h.__prio-p.__prio}return lA(fC,f),lA(R4,f),a._scheduler=new Bue(a,c,R4,fC),a._messageCenter=new ace,a._initEvents(),a.resize=Ye(a.resize,a),u.animation.on("frame",a._onframe,a),eY(u,a),tY(u,a),fw(a),a}return e.prototype._onframe=function(){if(!this._disposed){iY(this);var t=this._scheduler;if(this[Ss]){var n=this[Ss].silent;this[xa]=!0;try{f0(this),Xf.update.call(this,null,this[Ss].updateParams)}catch(l){throw this[xa]=!1,this[Ss]=null,l}this._zr.flush(),this[xa]=!1,this[Ss]=null,i_.call(this,n),a_.call(this,n)}else if(t.unfinished){var i=qYe,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),PP(this,a),t.performVisualTasks(a),p2(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,i){if(!this[xa]){if(this._disposed){this.id;return}var a,s,o;if(ot(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[xa]=!0,!this._model||n){var l=new X$e(this._api),u=this._theme,c=this._model=new KB;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:s},k4);var f={seriesTransition:o,optionChanged:!0};if(i)this[Ss]={silent:a,updateParams:f},this[xa]=!1,this.getZr().wakeUp();else{try{f0(this),Xf.update.call(this,null,f)}catch(h){throw this[Ss]=null,this[xa]=!1,h}this._ssr||this._zr.flush(),this[Ss]=null,this[xa]=!1,i_.call(this,a),a_.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ht.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Ht.svgSupported){var t=this._zr,n=t.storage.getDisplayList();return B(n,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var n=t.excludeComponents,i=this._model,a=[],s=this;B(n,function(l){i.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return B(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(hC[i]){var l=o,u=o,c=-o,f=-o,h=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();B(vv,function(b,T){if(b.group===i){var C=n?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(ut(t)),D=b.getDom().getBoundingClientRect();l=a(D.left,l),u=a(D.top,u),c=s(D.right,c),f=s(D.bottom,f),h.push({dom:C,left:D.left,top:D.top})}}),l*=p,u*=p,c*=p,f*=p;var v=c-l,m=f-u,y=Gl.createCanvas(),x=r4(y,{renderer:n?"svg":"canvas"});if(x.resize({width:v,height:m}),n){var w="";return B(h,function(b){var T=b.left-l,C=b.top-u;w+='<g transform="translate('+T+","+C+')">'+b.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=w,t.connectedBackgroundColor&&x.painter.setBackgroundColor(t.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return t.connectedBackgroundColor&&x.add(new Kt({shape:{x:0,y:0,width:v,height:m},style:{fill:t.connectedBackgroundColor}})),B(h,function(b){var T=new Li({style:{x:b.left*p-l,y:b.top*p-u,image:b.dom}});x.add(T)}),x.refreshImmediately(),y.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n){return MP(this,"convertToPixel",t,n)},e.prototype.convertFromPixel=function(t,n){return MP(this,"convertFromPixel",t,n)},e.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var i=this._model,a,s=Ex(i,t);return B(s,function(o,l){l.indexOf("Models")>=0&&B(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},e.prototype.getVisual=function(t,n){var i=this._model,a=Ex(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?tV(o,l,n):Lb(o,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;B(sXe,function(n){var i=function(a){var s=t.getModel(),o=a.target,l,u=n==="globalout";if(u?l={}:o&&Jp(o,function(v){var m=dt(v);if(m&&m.dataIndex!=null){var y=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=y&&y.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=Ce({},m.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var h=c&&f!=null&&s.getComponent(c,f),p=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=a,l.type=n,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:h,view:p},t.trigger(n,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(n,i,t)}),B(Mx,function(n,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),B(["selectchanged"],function(n){t._messageCenter.on(n,function(i){this.trigger(n,i)},t)}),gYe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&rle(this.getDom(),sV,"");var n=this,i=n._api,a=n._model;B(n._componentsViews,function(s){s.dispose(a,i)}),B(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete vv[n.id]},e.prototype.resize=function(t){if(!this[xa]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=t&&t.silent;this[Ss]&&(a==null&&(a=this[Ss].silent),i=!0,this[Ss]=null),this[xa]=!0;try{i&&f0(this),Xf.update.call(this,{type:"resize",animation:Ce({duration:0},t&&t.animation)})}catch(s){throw this[xa]=!1,s}this[xa]=!1,i_.call(this,a),a_.call(this,a)}}},e.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(ot(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!!M4[t]){var i=M4[t](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=Ce({},t);return n.type=Mx[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(ot(n)||(n={silent:!!n}),!!cC[t.type]&&this._model){if(this[xa]){this._pendingActions.push(t);return}var i=n.silent;LP.call(this,t,i);var a=n.flush;a?this._zr.flush():a!==!1&&Ht.browser.weChat&&this._throttledZrFlush(),i_.call(this,i),a_.call(this,i)}},e.prototype.updateLabelLayout=function(){xl.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){f0=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),kP(f,!0),kP(f,!1),h.plan()},kP=function(f,h){for(var p=f._model,v=f._scheduler,m=h?f._componentsViews:f._chartsViews,y=h?f._componentsMap:f._chartsMap,x=f._zr,w=f._api,b=0;b<m.length;b++)m[b].__alive=!1;h?p.eachComponent(function(D,A){D!=="series"&&T(A)}):p.eachSeries(T);function T(D){var A=D.__requireNewView;D.__requireNewView=!1;var k="_ec_"+D.id+"_"+D.type,I=!A&&y[k];if(!I){var M=Ru(D.type),P=h?$r.getClass(M.main,M.sub):Cr.getClass(M.sub);I=new P,I.init(p,w),y[k]=I,m.push(I),x.add(I.group)}D.__viewId=I.__id=k,I.__alive=!0,I.__model=D,I.group.__ecComponentInfo={mainType:D.mainType,index:D.componentIndex},!h&&v.prepareView(I,D,p,w)}for(var b=0;b<m.length;){var C=m[b];C.__alive?b++:(!h&&C.renderTask.dispose(),x.remove(C.group),C.dispose(p,w),m.splice(b,1),y[C.__id]===C&&delete y[C.__id],C.__id=C.group.__ecComponentInfo=null)}},d2=function(f,h,p,v,m){var y=f._model;if(y.setUpdatePayload(p),!v){B([].concat(f._componentsViews).concat(f._chartsViews),C);return}var x={};x[v+"Id"]=p[v+"Id"],x[v+"Index"]=p[v+"Index"],x[v+"Name"]=p[v+"Name"];var w={mainType:v,query:x};m&&(w.subType=m);var b=p.excludeSeriesId,T;b!=null&&(T=Je(),B(Pr(b),function(D){var A=vi(D,null);A!=null&&T.set(A,!0)})),y&&y.eachComponent(w,function(D){var A=T&&T.get(D.id)!=null;if(!A)if(z$(p))if(D instanceof Lr)p.type===dv&&!p.notBlur&&!D.get(["emphasis","disabled"])&&AWe(D,p,f._api);else{var k=IB(D.mainType,D.componentIndex,p.name,f._api),I=k.focusSelf,M=k.dispatchers;p.type===dv&&I&&!p.notBlur&&h4(D.mainType,D.componentIndex,f._api),M&&B(M,function(P){p.type===dv?lf(P):uf(P)})}else p4(p)&&D instanceof Lr&&(DWe(D,p,f._api),B$(D),To(f))},f),y&&y.eachComponent(w,function(D){var A=T&&T.get(D.id)!=null;A||C(f[v==="series"?"_chartsMap":"_componentsMap"][D.__viewId])},f);function C(D){D&&D.__alive&&D[h]&&D[h](D.__model,y,f._api,p)}},Xf={prepareAndUpdate:function(f){f0(this),Xf.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,h){var p=this._model,v=this._api,m=this._zr,y=this._coordSysMgr,x=this._scheduler;if(p){p.setUpdatePayload(f),x.restoreData(p,f),x.performSeriesTasks(p),y.create(p,v),x.performDataProcessorTasks(p,f),PP(this,p),y.update(p,v),t(p),x.performVisualTasks(p,f),OP(this,p,v,f,h);var w=p.get("backgroundColor")||"transparent",b=p.get("darkMode");m.setBackgroundColor(w),b!=null&&b!=="auto"&&m.setDarkMode(b),xl.trigger("afterupdate",p,v)}},updateTransform:function(f){var h=this,p=this._model,v=this._api;if(p){p.setUpdatePayload(f);var m=[];p.eachComponent(function(x,w){if(x!=="series"){var b=h.getViewOfComponentModel(w);if(b&&b.__alive)if(b.updateTransform){var T=b.updateTransform(w,p,v,f);T&&T.update&&m.push(b)}else m.push(b)}});var y=Je();p.eachSeries(function(x){var w=h._chartsMap[x.__viewId];if(w.updateTransform){var b=w.updateTransform(x,p,v,f);b&&b.update&&y.set(x.uid,1)}else y.set(x.uid,1)}),t(p),this._scheduler.performVisualTasks(p,f,{setDirty:!0,dirtyMap:y}),p2(this,p,v,f,{},y),xl.trigger("afterupdate",p,v)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),Cr.markUpdateMethod(f,"updateView"),t(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),OP(this,h,this._api,f,{}),xl.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,p=this._model;p&&(p.setUpdatePayload(f),p.eachSeries(function(v){v.getData().clearAllVisual()}),Cr.markUpdateMethod(f,"updateVisual"),t(p),this._scheduler.performVisualTasks(p,f,{visualType:"visual",setDirty:!0}),p.eachComponent(function(v,m){if(v!=="series"){var y=h.getViewOfComponentModel(m);y&&y.__alive&&y.updateVisual(m,p,h._api,f)}}),p.eachSeries(function(v){var m=h._chartsMap[v.__viewId];m.updateVisual(v,p,h._api,f)}),xl.trigger("afterupdate",p,this._api))},updateLayout:function(f){Xf.update.call(this,f)}},MP=function(f,h,p,v){if(f._disposed){f.id;return}for(var m=f._model,y=f._coordSysMgr.getCoordinateSystems(),x,w=Ex(m,p),b=0;b<y.length;b++){var T=y[b];if(T[h]&&(x=T[h](m,w,v))!=null)return x}},PP=function(f,h){var p=f._chartsMap,v=f._scheduler;h.eachSeries(function(m){v.updateStreamModes(m,p[m.__viewId])})},LP=function(f,h){var p=this,v=this.getModel(),m=f.type,y=f.escapeConnect,x=cC[m],w=x.actionInfo,b=(w.update||"update").split(":"),T=b.pop(),C=b[0]!=null&&Ru(b[0]);this[xa]=!0;var D=[f],A=!1;f.batch&&(A=!0,D=Pe(f.batch,function(G){return G=st(Ce({},G),f),G.batch=null,G}));var k=[],I,M=p4(f),P=z$(f);if(P&&Tle(this._api),B(D,function(G){if(I=x.action(G,p._model,p._api),I=I||Ce({},G),I.type=w.event||I.type,k.push(I),P){var j=wB(f),U=j.queryOptionMap,X=j.mainTypeSpecified,ie=X?U.keys()[0]:"series";d2(p,T,G,ie),To(p)}else M?(d2(p,T,G,"series"),To(p)):C&&d2(p,T,G,C.main,C.sub)}),T!=="none"&&!P&&!M&&!C)try{this[Ss]?(f0(this),Xf.update.call(this,f),this[Ss]=null):Xf[T].call(this,f)}catch(G){throw this[xa]=!1,G}if(A?I={type:w.event||m,escapeConnect:y,batch:k}:I=k[0],this[xa]=!1,!h){var O=this._messageCenter;if(O.trigger(I.type,I),M){var N={type:"selectchanged",escapeConnect:y,selected:IWe(v),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};O.trigger(N.type,N)}}},i_=function(f){for(var h=this._pendingActions;h.length;){var p=h.shift();LP.call(this,p,f)}},a_=function(f){!f&&this.trigger("updated")},eY=function(f,h){f.on("rendered",function(p){h.trigger("rendered",p),f.animation.isFinished()&&!h[Ss]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},tY=function(f,h){f.on("mouseover",function(p){var v=p.target,m=Jp(v,xw);m&&(EWe(m,p,h._api),To(h))}).on("mouseout",function(p){var v=p.target,m=Jp(v,xw);m&&(CWe(m,p,h._api),To(h))}).on("click",function(p){var v=p.target,m=Jp(v,function(w){return dt(w).dataIndex!=null},!0);if(m){var y=m.selected?"unselect":"select",x=dt(m);h._api.dispatchAction({type:y,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function t(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function n(f){var h=[],p=[],v=!1;if(f.eachComponent(function(w,b){var T=b.get("zlevel")||0,C=b.get("z")||0,D=b.getZLevelKey();v=v||!!D,(w==="series"?p:h).push({zlevel:T,z:C,idx:b.componentIndex,type:w,key:D})}),v){var m=h.concat(p),y,x;lA(m,function(w,b){return w.zlevel===b.zlevel?w.z-b.z:w.zlevel-b.zlevel}),B(m,function(w){var b=f.getComponent(w.type,w.idx),T=w.zlevel,C=w.key;y!=null&&(T=Math.max(y,T)),C?(T===y&&C!==x&&T++,x=C):x&&(T===y&&T++,x=""),y=T,b.setZLevel(T)})}}OP=function(f,h,p,v,m){n(h),rY(f,h,p,v,m),B(f._chartsViews,function(y){y.__alive=!1}),p2(f,h,p,v,m),B(f._chartsViews,function(y){y.__alive||y.remove(h,p)})},rY=function(f,h,p,v,m,y){B(y||f._componentsViews,function(x){var w=x.__model;u(w,x),x.render(w,h,p,v),o(w,x),c(w,x)})},p2=function(f,h,p,v,m,y){var x=f._scheduler;m=Ce(m||{},{updatedSeries:h.getSeries()}),xl.trigger("series:beforeupdate",h,p,m);var w=!1;h.eachSeries(function(b){var T=f._chartsMap[b.__viewId];T.__alive=!0;var C=T.renderTask;x.updatePayload(C,v),u(b,T),y&&y.get(b.uid)&&C.dirty(),C.perform(x.getPerformArgs(C))&&(w=!0),T.group.silent=!!b.get("silent"),s(b,T),B$(b)}),x.unfinished=w||x.unfinished,xl.trigger("series:layoutlabels",h,p,m),xl.trigger("series:transition",h,p,m),h.eachSeries(function(b){var T=f._chartsMap[b.__viewId];o(b,T),c(b,T)}),a(f,h),xl.trigger("series:afterupdate",h,p,m)},To=function(f){f[IP]=!0,f.getZr().wakeUp()},iY=function(f){f[IP]&&(f.getZr().storage.traverse(function(h){vm(h)||i(h)}),f[IP]=!1)};function i(f){for(var h=[],p=f.currentStates,v=0;v<p.length;v++){var m=p[v];m==="emphasis"||m==="blur"||m==="select"||h.push(m)}f.selected&&f.states.select&&h.push("select"),f.hoverState===WD&&f.states.emphasis?h.push("emphasis"):f.hoverState===Db&&f.states.blur&&h.push("blur"),f.useStates(h)}function a(f,h){var p=f._zr,v=p.storage,m=0;v.traverse(function(y){y.isGroup||m++}),m>h.get("hoverLayerThreshold")&&!Ht.node&&!Ht.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var x=f._chartsMap[y.__viewId];x.__alive&&x.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function s(f,h){var p=f.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=p)})}function o(f,h){if(!f.preventAutoZ){var p=f.get("z")||0,v=f.get("zlevel")||0;h.eachRendered(function(m){return l(m,p,v,-1/0),!0})}}function l(f,h,p,v){var m=f.getTextContent(),y=f.getTextGuideLine(),x=f.isGroup;if(x)for(var w=f.childrenRef(),b=0;b<w.length;b++)v=Math.max(l(w[b],h,p,v),v);else f.z=h,f.zlevel=p,v=Math.max(f.z2,v);if(m&&(m.z=h,m.zlevel=p,isFinite(v)&&(m.z2=v+2)),y){var T=f.textGuideLineConfig;y.z=h,y.zlevel=p,isFinite(v)&&(y.z2=v+(T&&T.showAbove?1:-1))}return v}function u(f,h){h.eachRendered(function(p){if(!vm(p)){var v=p.getTextContent(),m=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(f,h){var p=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),m=p.get("duration"),y=m>0?{duration:m,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(x){if(x.states&&x.states.emphasis){if(vm(x))return;if(x instanceof Gt&&LWe(x),x.__dirty){var w=x.prevStates;w&&x.useStates(w)}if(v){x.stateTransition=y;var b=x.getTextContent(),T=x.getTextGuideLine();b&&(b.stateTransition=y),T&&(T.stateTransition=y)}x.__dirty&&i(x)}})}nY=function(f){return new(function(h){ge(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(v){for(;v;){var m=v.__ecComponentInfo;if(m!=null)return f._model.getComponent(m.mainType,m.index);v=v.parent}},p.prototype.enterEmphasis=function(v,m){lf(v,m),To(f)},p.prototype.leaveEmphasis=function(v,m){uf(v,m),To(f)},p.prototype.enterBlur=function(v){xle(v),To(f)},p.prototype.leaveBlur=function(v){DB(v),To(f)},p.prototype.enterSelect=function(v){wle(v),To(f)},p.prototype.leaveSelect=function(v){ble(v),To(f)},p.prototype.getModel=function(){return f.getModel()},p.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},p.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},p}(fue))(f)},oce=function(f){function h(p,v){for(var m=0;m<p.length;m++){var y=p[m];y[RP]=v}}B(Mx,function(p,v){f._messageCenter.on(v,function(m){if(hC[f.group]&&f[RP]!==Jq){if(m&&m.escapeConnect)return;var y=f.makeActionFromEvent(m),x=[];B(vv,function(w){w!==f&&w.group===f.group&&x.push(w)}),h(x,Jq),B(x,function(w){w[RP]!==iXe&&w.dispatchAction(y)}),h(x,aXe)}})})}}(),e}(Jo),aV=uC.prototype;aV.on=rce("on");aV.off=rce("off");aV.one=function(r,e,t){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),n.off(r,i)}this.on.call(this,r,i,t)};var sXe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var cC={},Mx={},R4=[],k4=[],fC=[],lce={},M4={},vv={},hC={},oXe=+new Date-0,lXe=+new Date-0,sV="_echarts_instance_";function uXe(r,e,t){var n=!(t&&t.ssr);if(n){var i=oV(r);if(i)return i}var a=new uC(r,e,t);return a.id="ec_"+oXe++,vv[a.id]=a,n&&rle(r,sV,a.id),oce(a),xl.trigger("afterinit",a),a}function cXe(r){if(ke(r)){var e=r;r=null,B(e,function(t){t.group!=null&&(r=t.group)}),r=r||"g_"+lXe++,B(e,function(t){t.group=r})}return hC[r]=!0,r}function uce(r){hC[r]=!1}var fXe=uce;function hXe(r){$e(r)?r=vv[r]:r instanceof uC||(r=oV(r)),r instanceof uC&&!r.isDisposed()&&r.dispose()}function oV(r){return vv[bje(r,sV)]}function dXe(r){return vv[r]}function lV(r,e){lce[r]=e}function uV(r){Ct(k4,r)<0&&k4.push(r)}function cV(r,e){fV(R4,r,e,ZYe)}function cce(r){oI("afterinit",r)}function fce(r){oI("afterupdate",r)}function oI(r,e){xl.on(r,e)}function Xl(r,e,t){rt(e)&&(t=e,e="");var n=ot(r)?r.type:[r,r={event:e}][0];r.event=(r.event||n).toLowerCase(),e=r.event,!Mx[e]&&(Ba(Qq.test(n)&&Qq.test(e)),cC[n]||(cC[n]={action:t,actionInfo:r}),Mx[e]=n)}function hce(r,e){Iy.register(r,e)}function pXe(r){var e=Iy.get(r);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function dce(r,e){fV(fC,r,e,Que,"layout")}function xd(r,e){fV(fC,r,e,Jue,"visual")}var aY=[];function fV(r,e,t,n,i){if((rt(e)||ot(e))&&(t=e,e=n),!(Ct(aY,t)>=0)){aY.push(t);var a=Bue.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,r.push(a)}}function hV(r,e){M4[r]=e}function vXe(r){ooe({createCanvas:r})}function pce(r,e,t){var n=Zue("registerMap");n&&n(r,e,t)}function gXe(r){var e=Zue("getMap");return e&&e(r)}var vce=Cqe;xd(iV,Jqe);xd(sI,eYe);xd(sI,tYe);xd(iV,pYe);xd(sI,vYe);xd(ece,GYe);uV(due);cV(XYe,oqe);hV("default",rYe);Xl({type:dv,event:dv,update:dv},An);Xl({type:pA,event:pA,update:pA},An);Xl({type:Cx,event:Cx,update:Cx},An);Xl({type:vA,event:vA,update:vA},An);Xl({type:Dx,event:Dx,update:Dx},An);lV("light",hYe);lV("dark",Hue);var mXe={},sY=[],yXe={registerPreprocessor:uV,registerProcessor:cV,registerPostInit:cce,registerPostUpdate:fce,registerUpdateLifecycle:oI,registerAction:Xl,registerCoordinateSystem:hce,registerLayout:dce,registerVisual:xd,registerTransform:vce,registerLoading:hV,registerMap:pce,registerImpl:jYe,PRIORITY:tce,ComponentModel:Ut,ComponentView:$r,SeriesModel:Lr,ChartView:Cr,registerComponentModel:function(r){Ut.registerClass(r)},registerComponentView:function(r){$r.registerClass(r)},registerSeriesModel:function(r){Lr.registerClass(r)},registerChartView:function(r){Cr.registerClass(r)},registerSubTypeDefaulter:function(r,e){Ut.registerSubTypeDefaulter(r,e)},registerPainter:function(r,e){Goe(r,e)}};function Pt(r){if(ke(r)){B(r,function(e){Pt(e)});return}Ct(sY,r)>=0||(sY.push(r),rt(r)&&(r={install:r}),r.install(yXe))}function s_(r){return r==null?0:r.length||1}function oY(r){return r}var cf=function(){function r(e,t,n,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=n||oY,this._newKeyGetter=i||oY,this.context=a,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=n[o],u=s_(l);if(u>1){var c=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(c,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},a=[],s=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=n[l],c=i[l],f=s_(u),h=s_(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var p=0;p<f;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},r.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=t[i],s=s_(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},r.prototype._initIndexMap=function(e,t,n,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(n[s]=o),!!t){var l=t[o],u=s_(l);u===0?(t[o]=s,a&&n.push(o)):u===1?t[o]=[l,s]:l.push(s)}}},r}(),_Xe=function(){function r(e,t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function xXe(r,e){var t={},n=t.encode={},i=Je(),a=[],s=[],o={};B(r.dimensions,function(h){var p=r.getDimensionInfo(h),v=p.coordDim;if(v){var m=p.coordDimIndex;NP(n,v)[m]=h,p.isExtraCoord||(i.set(v,1),wXe(p.type)&&(a[0]=h),NP(o,v)[m]=r.getDimensionIndex(p.name)),p.defaultTooltip&&s.push(h)}iue.each(function(y,x){var w=NP(n,x),b=p.otherDims[x];b!=null&&b!==!1&&(w[b]=p.name)})});var l=[],u={};i.each(function(h,p){var v=n[p];u[p]=v[0],l=l.concat(v)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Pe(l,function(h){return r.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?s=f.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,t.userOutput=new _Xe(o,e),t}function NP(r,e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function dC(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function wXe(r){return!(r==="ordinal"||r==="time")}var xA=function(){function r(e){this.otherDims={},e!=null&&Ce(this,e)}return r}(),bXe=Qt(),SXe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},gce=function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=_ce(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return vt(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=vue(this.source),n=!xce(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=t?f.name:null,u=f.type,c=f.ordinalMeta,o++;else{var h=this.getSourceDimension(s);h&&(l=t?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=SXe[u]||"f",c&&(i+=c.uid),i+="$"}var p=this.source,v=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:a,hash:v}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function mce(r){return r instanceof gce}function yce(r){for(var e=Je(),t=0;t<(r||[]).length;t++){var n=r[t],i=ot(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function _ce(r){var e=bXe(r);return e.dimNameMap||(e.dimNameMap=yce(r.dimensionsDefine))}function xce(r){return r>30}var o_=ot,Kf=Pe,TXe=typeof Int32Array>"u"?Array:Int32Array,AXe="e\0\0",lY=-1,EXe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CXe=["_approximateExtent"],uY,v2,l_,u_,FP,c_,BP,La=function(){function r(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;mce(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],h=$e(f)?new xA({name:f}):f instanceof xA?f:new xA(f),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};s.push(p),a[p]=h,u[p]!=null&&(l=!0),h.createInvertedIndices&&(o[p]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),i&&(h.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=Je();B(s,function(y){m.set(a[y].storeDimIndex,y)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var i=this._schema.getSourceDimension(t);if(i)return i.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if(tr(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e,t,n){var i=this,a;if(e instanceof S4&&(a=e),!a){var s=this.dimensions,o=ZB(e)||ha(e)?new gue(e,s.length):e;a=new S4;var l=Kf(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,n)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=xXe(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&BP(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Vh&&!e.fillStorage},r.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===tl;if(l&&!i.pure)for(var u=[],c=e;c<t;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&uje(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=vi(h,null));var p=f.id;s[c]==null&&p!=null&&(s[c]=vi(p,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)BP(this,c);uY(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e,t){o_(e)?Ce(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=l_(this,this._nameDimIdx,t)),n==null&&(n=""),n},r.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},r.prototype.getId=function(e){return v2(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},r.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e,t){var n=this,i=this._store;return ke(e)?i.getValues(Kf(e,function(a){return n._getStoreDimIndex(a)}),t):i.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],i=n&&n[t];return i==null||isNaN(i)?lY:i},r.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},r.prototype.each=function(e,t,n){rt(e)&&(n=t,t=e,e=[]);var i=n||this,a=Kf(u_(e),this._getStoreDimIndex,this);this._store.each(a,i?Ye(t,i):t)},r.prototype.filterSelf=function(e,t,n){rt(e)&&(n=t,t=e,e=[]);var i=n||this,a=Kf(u_(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ye(t,i):t),this},r.prototype.selectRange=function(e){var t=this,n={},i=jt(e);return B(i,function(a){var s=t._getStoreDimIndex(a);n[s]=e[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(e,t,n){rt(e)&&(n=t,t=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n),i},r.prototype.map=function(e,t,n,i){var a=n||i||this,s=Kf(u_(e),this._getStoreDimIndex,this),o=c_(this);return o._store=this._store.map(s,a?Ye(t,a):t),o},r.prototype.modify=function(e,t,n,i){var a=n||i||this,s=Kf(u_(e),this._getStoreDimIndex,this);this._store.modify(s,a?Ye(t,a):t)},r.prototype.downSample=function(e,t,n,i){var a=c_(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),a},r.prototype.minmaxDownSample=function(e,t){var n=c_(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},r.prototype.lttbDownSample=function(e,t){var n=c_(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new or(n,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new cf(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return v2(e,n)},function(n){return v2(t,n)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e,t){this._visual=this._visual||{},o_(e)?Ce(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return i??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),ke(a)?a=a.slice():o_(a)&&(a=Ce({},a)),i[t]=a),a},r.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,o_(t)?Ce(i,t):i[t]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e,t){o_(e)?Ce(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?Ce(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;c4(n,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e,t){B(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:Kf(this.dimensions,this._getDimInfo,this),this.hostModel)),FP(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e,t){var n=this[e];rt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(PD(arguments)))})},r.internalField=function(){uY=function(e){var t=e._invertedIndicesMap;B(t,function(n,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){n=t[i]=new TXe(s.categories.length);for(var l=0;l<n.length;l++)n[l]=lY;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},l_=function(e,t,n){return vi(e._getCategory(t,n),null)},v2=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=l_(e,e._idDimIdx,t)),n==null&&(n=AXe+t),n},u_=function(e){return ke(e)||(e=e!=null?[e]:[]),e},c_=function(e){var t=new r(e._schema?e._schema:Kf(e.dimensions,e._getDimInfo,e),e.hostModel);return FP(t,e),t},FP=function(e,t){B(EXe.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,B(CXe,function(n){e[n]=ut(t[n])}),e._calculationInfo=Ce({},t._calculationInfo)},BP=function(e,t){var n=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=n[t],l=i[t];if(o==null&&a!=null&&(n[t]=o=l_(e,a,t)),l==null&&s!=null&&(i[t]=l=l_(e,s,t)),l==null&&o!=null){var u=e._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),i[t]=l}}}(),r}();function DXe(r,e){return Py(r,e).dimensions}function Py(r,e){ZB(r)||(r=QB(r)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||r.dimensionsDefine||[],i=Je(),a=[],s=RXe(r,t,n,e.dimensionsCount),o=e.canOmitUnusedDimensions&&xce(s),l=n===r.dimensionsDefine,u=l?_ce(r):yce(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(r,s));for(var f=Je(c),h=new Tue(s),p=0;p<h.length;p++)h[p]=-1;function v(I){var M=h[I];if(M<0){var P=n[I],O=ot(P)?P:{name:P},N=new xA,G=O.name;G!=null&&u.get(G)!=null&&(N.name=N.displayName=G),O.type!=null&&(N.type=O.type),O.displayName!=null&&(N.displayName=O.displayName);var j=a.length;return h[I]=j,N.storeDimIndex=I,a.push(N),N}return a[M]}if(!o)for(var p=0;p<s;p++)v(p);f.each(function(I,M){var P=Pr(I).slice();if(P.length===1&&!$e(P[0])&&P[0]<0){f.set(M,!1);return}var O=f.set(M,[]);B(P,function(N,G){var j=$e(N)?u.get(N):N;j!=null&&j<s&&(O[G]=j,y(v(j),M,G))})});var m=0;B(t,function(I){var M,P,O,N;if($e(I))M=I,N={};else{N=I,M=N.name;var G=N.ordinalMeta;N.ordinalMeta=null,N=Ce({},N),N.ordinalMeta=G,P=N.dimsDef,O=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var j=f.get(M);if(j!==!1){if(j=Pr(j),!j.length)for(var U=0;U<(P&&P.length||1);U++){for(;m<s&&v(m).coordDim!=null;)m++;m<s&&j.push(m++)}B(j,function(X,ie){var Z=v(X);if(l&&N.type!=null&&(Z.type=N.type),y(st(Z,N),M,ie),Z.name==null&&P){var W=P[ie];!ot(W)&&(W={name:W}),Z.name=Z.displayName=W.name,Z.defaultTooltip=W.defaultTooltip}O&&st(Z.otherDims,O)})}});function y(I,M,P){iue.get(M)!=null?I.otherDims[M]=P:(I.coordDim=M,I.coordDimIndex=P,i.set(M,!0))}var x=e.generateCoord,w=e.generateCoordCount,b=w!=null;w=x?w||1:0;var T=x||"value";function C(I){I.name==null&&(I.name=I.coordDim)}if(o)B(a,function(I){C(I)}),a.sort(function(I,M){return I.storeDimIndex-M.storeDimIndex});else for(var D=0;D<s;D++){var A=v(D),k=A.coordDim;k==null&&(A.coordDim=kXe(T,i,b),A.coordDimIndex=0,(!x||w<=0)&&(A.isExtraCoord=!0),w--),C(A),A.type==null&&(lue(r,D)===ea.Must||A.isExtraCoord&&(A.otherDims.itemName!=null||A.otherDims.seriesName!=null))&&(A.type="ordinal")}return IXe(a),new gce({source:r,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function IXe(r){for(var e=Je(),t=0;t<r.length;t++){var n=r[t],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function RXe(r,e,t,n){var i=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,n||0);return B(e,function(a){var s;ot(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function kXe(r,e,t){if(t||e.hasKey(r)){for(var n=0;e.hasKey(r+n);)n++;r+=n}return e.set(r,!0),r}var MXe=function(){function r(e){this.coordSysDims=[],this.axisMap=Je(),this.categoryAxisMap=Je(),this.coordSysName=e}return r}();function PXe(r){var e=r.get("coordinateSystem"),t=new MXe(e),n=LXe[e];if(n)return n(r,t,t.axisMap,t.categoryAxisMap),t}var LXe={cartesian2d:function(r,e,t,n){var i=r.getReferringComponents("xAxis",Qn).models[0],a=r.getReferringComponents("yAxis",Qn).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),h0(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),h0(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,n){var i=r.getReferringComponents("singleAxis",Qn).models[0];e.coordSysDims=["single"],t.set("single",i),h0(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(r,e,t,n){var i=r.getReferringComponents("polar",Qn).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),h0(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),h0(s)&&(n.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();B(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),c=s[l];t.set(c,u),h0(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function h0(r){return r.get("type")==="category"}function wce(r,e,t){t=t||{};var n=t.byIndex,i=t.stackedCoordDimension,a,s,o;OXe(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(r&&r.get("stack")),u,c,f,h;if(B(a,function(w,b){$e(w)&&(a[b]=w={name:w}),l&&!w.isExtraCoord&&(!n&&!u&&w.ordinalMeta&&(u=w),!c&&w.type!=="ordinal"&&w.type!=="time"&&(!i||i===w.coordDim)&&(c=w))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+r.id,h="__\0ecstackedover_"+r.id,u&&(u.createInvertedIndices=!0);var p=c.coordDim,v=c.type,m=0;B(a,function(w){w.coordDim===p&&m++});var y={name:f,coordDim:p,coordDimIndex:m,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:h,coordDim:h,coordDimIndex:m+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(y.storeDimIndex=o.ensureCalculationDimension(h,v),x.storeDimIndex=o.ensureCalculationDimension(f,v)),s.appendCalculationDimension(y),s.appendCalculationDimension(x)):(a.push(y),a.push(x))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function OXe(r){return!mce(r.schema)}function ff(r,e){return!!e&&e===r.getCalculationInfo("stackedDimension")}function dV(r,e){return ff(r,e)?r.getCalculationInfo("stackResultDimension"):e}function NXe(r,e){var t=r.get("coordinateSystem"),n=Iy.get(t),i;return e&&e.coordSysDims&&(i=Pe(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=dC(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function FXe(r,e,t){var n,i;return t&&B(r,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function ac(r,e,t){t=t||{};var n=e.getSourceManager(),i,a=!1;r?(a=!0,i=QB(r)):(i=n.getSource(),a=i.sourceFormat===tl);var s=PXe(e),o=NXe(e,s),l=t.useEncodeDefaulter,u=rt(l)?l:l?gt(oue,o,e):null,c={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=Py(i,c),h=FXe(f.dimensions,t.createInvertedIndices,s),p=a?null:n.getSharedDataStore(f),v=wce(e,{schema:f,store:p}),m=new La(f,e);m.setCalculationInfo(v);var y=h!=null&&BXe(i)?function(x,w,b,T){return T===h?b:this.defaultDimValueGetter(x,w,b,T)}:null;return m.hasItemOption=!1,m.initData(a?i:p,null,y),m}function BXe(r){if(r.sourceFormat===tl){var e=VXe(r.data||[]);return!ke(yy(e))}}function VXe(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var sc=function(){function r(e){this._setting=e||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},r.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r}();UD(sc);var zXe=0,P4=function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++zXe}return r.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Pe(n,UXe);return new r({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!$e(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Je(this.categories))},r}();function UXe(r){return ot(r)&&r.value!=null?r.value:r+""}function L4(r){return r.type==="interval"||r.type==="log"}function HXe(r,e,t,n){var i={},a=r[1]-r[0],s=i.interval=yB(a/e,!0);t!=null&&s<t&&(s=i.interval=t),n!=null&&s>n&&(s=i.interval=n);var o=i.intervalPrecision=bce(s),l=i.niceTickExtent=[yn(Math.ceil(r[0]/s)*s,o),yn(Math.floor(r[1]/s)*s,o)];return GXe(l,r),i}function VP(r){var e=Math.pow(10,zD(r)),t=r/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,yn(t*e)}function bce(r){return Rl(r)+2}function cY(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function GXe(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),cY(r,0,e),cY(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function lI(r,e){return r>=e[0]&&r<=e[1]}function uI(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function cI(r,e){return r*(e[1]-e[0])+e[0]}var fI=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new P4({})),ke(i)&&(i=new P4({categories:Pe(i,function(a){return ot(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:$e(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),lI(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),uI(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(cI(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,i=n[0];i<=n[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];i[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;i.push(c),a[c]=s}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(sc);sc.registerClass(fI);var wp=yn,hf=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return lI(t,this._extent)},e.prototype.normalize=function(t){return uI(t,this._extent)},e.prototype.scale=function(t){return cI(t,this._extent)},e.prototype.setExtent=function(t,n){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=bce(t)},e.prototype.getTicks=function(t){var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;i[0]<a[0]&&(t?o.push({value:wp(a[0]-n,s)}):o.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(o.push({value:u}),u=wp(u+n,s),u!==o[o.length-1].value);)if(o.length>l)return[];var c=o.length?o[o.length-1].value:a[1];return i[1]>c&&(t?o.push({value:wp(c+n,s)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<n.length;s++){for(var o=n[s],l=n[s-1],u=0,c=[],f=o.value-l.value,h=f/t;u<t-1;){var p=wp(l.value+(u+1)*h);p>a[0]&&p<a[1]&&c.push(p),u++}i.push(c)}return i},e.prototype.getLabel=function(t,n){if(t==null)return"";var i=n&&n.precision;i==null?i=Rl(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=wp(t.value,i,!0);return GB(a)},e.prototype.calcNiceTicks=function(t,n,i){t=t||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=HXe(a,t,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);t.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(n[0]=wp(Math.floor(n[0]/s)*s)),t.fixMax||(n[1]=wp(Math.ceil(n[1]/s)*s))},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e}(sc);sc.registerClass(hf);var Sce=typeof Float32Array<"u",jXe=Sce?Float32Array:Array;function ku(r){return ke(r)?Sce?new Float32Array(r):r:new jXe(r)}var O4="__ec_stack_";function Tce(r){return r.get("stack")||O4+r.seriesIndex}function pV(r){return r.dim+r.index}function WXe(r){var e=[],t=r.axis,n="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<r.count;a++)e.push(st({bandWidth:i,axisKey:n,stackId:O4+a},r));for(var s=Cce(e),o=[],a=0;a<r.count;a++){var l=s[n][O4+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function Ace(r,e){var t=[];return e.eachSeriesByType(r,function(n){Rce(n)&&t.push(n)}),t}function $Xe(r){var e={};B(r,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,p=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),m=0,y=v.count();m<y;++m){var x=v.get(p,m);e[h]?e[h].push(x):e[h]=[x]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[n]=a}}return t}function Ece(r){var e=$Xe(r),t=[];return B(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(s[1]-s[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);o=u?c/h*u:c}else{var p=n.getData();o=Math.abs(s[1]-s[0])/p.count()}var v=We(n.get("barWidth"),o),m=We(n.get("barMaxWidth"),o),y=We(n.get("barMinWidth")||(kce(n)?.5:1),o),x=n.get("barGap"),w=n.get("barCategoryGap");t.push({bandWidth:o,barWidth:v,barMaxWidth:m,barMinWidth:y,barGap:x,barCategoryGap:w,axisKey:pV(a),stackId:Tce(n)})}),Cce(t)}function Cce(r){var e={};B(r,function(n,i){var a=n.axisKey,s=n.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;e[a]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var h=n.barMinWidth;h&&(l[u].minWidth=h);var p=n.barGap;p!=null&&(o.gap=p);var v=n.barCategoryGap;v!=null&&(o.categoryGap=v)});var t={};return B(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=jt(a).length;o=Math.max(35-l*4,15)+"%"}var u=We(o,s),c=We(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,p=(f-u)/(h+(h-1)*c);p=Math.max(p,0),B(a,function(x){var w=x.maxWidth,b=x.minWidth;if(x.width){var T=x.width;w&&(T=Math.min(T,w)),b&&(T=Math.max(T,b)),x.width=T,f-=T+c*T,h--}else{var T=p;w&&w<T&&(T=Math.min(w,f)),b&&b>T&&(T=b),T!==p&&(x.width=T,f-=T+c*T,h--)}}),p=(f-u)/(h+(h-1)*c),p=Math.max(p,0);var v=0,m;B(a,function(x,w){x.width||(x.width=p),m=x,v+=x.width*(1+c)}),m&&(v-=m.width*c);var y=-v/2;B(a,function(x,w){t[i][w]=t[i][w]||{bandWidth:s,offset:y,width:x.width},y+=x.width*(1+c)})}),t}function qXe(r,e,t){if(r&&e){var n=r[pV(e)];return n}}function Dce(r,e){var t=Ace(r,e),n=Ece(t);B(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=Tce(i),u=n[pV(o)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function Ice(r){return{seriesType:r,plan:Ry(),reset:function(e){if(Rce(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=ff(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),p=YXe(i,a),v=kce(e),m=e.get("barMinHeight")||0,y=c&&t.getDimensionIndex(c),x=t.getLayout("size"),w=t.getLayout("offset");return{progress:function(b,T){for(var C=b.count,D=v&&ku(C*3),A=v&&l&&ku(C*3),k=v&&ku(C),I=n.master.getRect(),M=h?I.width:I.height,P,O=T.getStore(),N=0;(P=b.next())!=null;){var G=O.get(f?y:s,P),j=O.get(o,P),U=p,X=void 0;f&&(X=+G-O.get(s,P));var ie=void 0,Z=void 0,W=void 0,Q=void 0;if(h){var H=n.dataToPoint([G,j]);if(f){var ee=n.dataToPoint([X,j]);U=ee[0]}ie=U,Z=H[1]+w,W=H[0]-U,Q=x,Math.abs(W)<m&&(W=(W<0?-1:1)*m)}else{var H=n.dataToPoint([j,G]);if(f){var ee=n.dataToPoint([j,X]);U=ee[1]}ie=H[0]+w,Z=U,W=x,Q=H[1]-U,Math.abs(Q)<m&&(Q=(Q<=0?-1:1)*m)}v?(D[N]=ie,D[N+1]=Z,D[N+2]=h?W:Q,A&&(A[N]=h?I.x:ie,A[N+1]=h?Z:I.y,A[N+2]=M),k[P]=P):T.setItemLayout(P,{x:ie,y:Z,width:W,height:Q}),N+=3}v&&T.setLayout({largePoints:D,largeDataIndices:k,largeBackgroundPoints:A,valueAxisHorizontal:h})}}}}}}function Rce(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function kce(r){return r.pipelineContext&&r.pipelineContext.large}function YXe(r,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var XXe=function(r,e,t,n){for(;t<n;){var i=t+n>>>1;r[i][1]<e?t=i+1:n=i}return t},vV=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return Pb(t.value,tq[A$e(mm(this._minLevelUnit))]||tq.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return E$e(t,n,i,s,a)},e.prototype.getTicks=function(){var t=this._interval,n=this._extent,i=[];if(!t)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),s=rKe(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1]&&(n[0]-=zo,n[1]+=zo),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-zo}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,i){t=t||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=g2.length,l=Math.min(XXe(g2,this._approxInterval,0,o),o-1);this._interval=g2[l][1],this._minLevelUnit=g2[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return tr(t)?t:+ao(t)},e.prototype.contain=function(t){return lI(this.parse(t),this._extent)},e.prototype.normalize=function(t){return uI(this.parse(t),this._extent)},e.prototype.scale=function(t){return cI(t,this._extent)},e.type="time",e}(hf),g2=[["second",zB],["minute",UB],["hour",Rx],["quarter-day",Rx*6],["half-day",Rx*12],["day",zo*1.2],["half-week",zo*3.5],["week",zo*7],["month",zo*31],["quarter",zo*95],["half-year",eq/2],["year",eq]];function KXe(r,e,t,n){var i=ao(e),a=ao(t),s=function(v){return rq(i,v,n)===rq(a,v,n)},o=function(){return s("year")},l=function(){return o()&&s("month")},u=function(){return l()&&s("day")},c=function(){return u()&&s("hour")},f=function(){return c()&&s("minute")},h=function(){return f()&&s("second")},p=function(){return h()&&s("millisecond")};switch(r){case"year":return o();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return h();case"millisecond":return p()}}function ZXe(r,e){return r/=zo,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function QXe(r){var e=30*zo;return r/=e,r>6?6:r>3?3:r>2?2:1}function JXe(r){return r/=Rx,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function fY(r,e){return r/=e?UB:zB,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function eKe(r){return yB(r,!0)}function tKe(r,e,t){var n=new Date(r);switch(mm(e)){case"year":case"month":n[Yle(t)](0);case"day":n[Xle(t)](1);case"hour":n[Kle(t)](0);case"minute":n[Zle(t)](0);case"second":n[Qle(t)](0),n[Jle(t)](0)}return n.getTime()}function rKe(r,e,t,n){var i=1e4,a=$le,s=0;function o(M,P,O,N,G,j,U){for(var X=new Date(P),ie=P,Z=X[N]();ie<O&&ie<=n[1];)U.push({value:ie}),Z+=M,X[G](Z),ie=X.getTime();U.push({value:ie,notAdd:!0})}function l(M,P,O){var N=[],G=!P.length;if(!KXe(mm(M),n[0],n[1],t)){G&&(P=[{value:tKe(new Date(n[0]),M,t)},{value:n[1]}]);for(var j=0;j<P.length-1;j++){var U=P[j].value,X=P[j+1].value;if(U!==X){var ie=void 0,Z=void 0,W=void 0,Q=!1;switch(M){case"year":ie=Math.max(1,Math.round(e/zo/365)),Z=HB(t),W=C$e(t);break;case"half-year":case"quarter":case"month":ie=QXe(e),Z=ym(t),W=Yle(t);break;case"week":case"half-week":case"day":ie=ZXe(e),Z=ZD(t),W=Xle(t),Q=!0;break;case"half-day":case"quarter-day":case"hour":ie=JXe(e),Z=bw(t),W=Kle(t);break;case"minute":ie=fY(e,!0),Z=QD(t),W=Zle(t);break;case"second":ie=fY(e,!1),Z=JD(t),W=Qle(t);break;case"millisecond":ie=eKe(e),Z=eI(t),W=Jle(t);break}o(ie,U,X,Z,W,Q,N),M==="year"&&O.length>1&&j===0&&O.unshift({value:O[0].value-ie})}}for(var j=0;j<N.length;j++)O.push(N[j]);return N}}for(var u=[],c=[],f=0,h=0,p=0;p<a.length&&s++<i;++p){var v=mm(a[p]);if(T$e(a[p])){l(a[p],u[u.length-1]||[],c);var m=a[p+1]?mm(a[p+1]):null;if(v!==m){if(c.length){h=f,c.sort(function(M,P){return M.value-P.value});for(var y=[],x=0;x<c.length;++x){var w=c[x].value;(x===0||c[x-1].value!==w)&&(y.push(c[x]),w>=n[0]&&w<=n[1]&&f++)}var b=(n[1]-n[0])/e;if(f>b*1.5&&h>b/1.5||(u.push(y),f>b||r===a[p]))break}c=[]}}}for(var T=sr(Pe(u,function(M){return sr(M,function(P){return P.value>=n[0]&&P.value<=n[1]&&!P.notAdd})}),function(M){return M.length>0}),C=[],D=T.length-1,p=0;p<T.length;++p)for(var A=T[p],k=0;k<A.length;++k)C.push({value:A[k].value,level:D-p});C.sort(function(M,P){return M.value-P.value});for(var I=[],p=0;p<C.length;++p)(p===0||C[p].value!==C[p-1].value)&&I.push(C[p]);return I}sc.registerClass(vV);var hY=sc.prototype,Px=hf.prototype,nKe=yn,iKe=Math.floor,aKe=Math.ceil,m2=Math.pow,gl=Math.log,gV=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new hf,t._interval=0,t}return e.prototype.getTicks=function(t){var n=this._originalScale,i=this._extent,a=n.getExtent(),s=Px.getTicks.call(this,t);return Pe(s,function(o){var l=o.value,u=yn(m2(this.base,l));return u=l===i[0]&&this._fixMin?y2(u,a[0]):u,u=l===i[1]&&this._fixMax?y2(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,n){var i=gl(this.base);t=gl(Math.max(0,t))/i,n=gl(Math.max(0,n))/i,Px.setExtent.call(this,t,n)},e.prototype.getExtent=function(){var t=this.base,n=hY.getExtent.call(this);n[0]=m2(t,n[0]),n[1]=m2(t,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=y2(n[0],a[0])),this._fixMax&&(n[1]=y2(n[1],a[1])),n},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var n=this.base;t[0]=gl(t[0])/gl(n),t[1]=gl(t[1])/gl(n),hY.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=Xoe(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[yn(aKe(n[0]/a)*a),yn(iKe(n[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){Px.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=gl(t)/gl(this.base),lI(t,this._extent)},e.prototype.normalize=function(t){return t=gl(t)/gl(this.base),uI(t,this._extent)},e.prototype.scale=function(t){return t=cI(t,this._extent),m2(this.base,t)},e.type="log",e}(sc),Mce=gV.prototype;Mce.getMinorTicks=Px.getMinorTicks;Mce.getLabel=Px.getLabel;function y2(r,e){return nKe(r,Rl(e))}sc.registerClass(gV);var sKe=function(){function r(e,t,n){this._prepareParams(e,t,n)}return r.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var s=this._modelMinRaw=a;rt(s)?this._modelMinNum=_2(e,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=_2(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(rt(o)?this._modelMaxNum=_2(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=_2(e,o)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ke(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Wl(u[0],1),Wl(u[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:n-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Um(o)||Um(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var h=this._determinedMin,p=this._determinedMax;return h!=null&&(o=h,u=!0),p!=null&&(l=p,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:f}},r.prototype.modifyDataMinMax=function(e,t){this[lKe[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var n=oKe[e];this[n]=t},r.prototype.freeze=function(){this.frozen=!0},r}(),oKe={min:"_determinedMin",max:"_determinedMax"},lKe={min:"_dataMin",max:"_dataMax"};function Pce(r,e,t){var n=r.rawExtentInfo;return n||(n=new sKe(r,e,t),r.rawExtentInfo=n,n)}function _2(r,e){return e==null?null:Um(e)?NaN:r.parse(e)}function Lce(r,e){var t=r.type,n=Pce(r,e,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,s=e.ecModel;if(s&&t==="time"){var o=Ace("bar",s),l=!1;if(B(o,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=Ece(o),c=uKe(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function uKe(r,e,t,n){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=qXe(n,t.axis);if(s===void 0)return{min:r,max:e};var o=1/0;B(s,function(p){o=Math.min(p.offset,o)});var l=-1/0;B(s,function(p){l=Math.max(p.offset+p.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=e-r,f=1-(o+l)/a,h=c/f-c;return e+=h*(l/u),r-=h*(o/u),{min:r,max:e}}function Bv(r,e){var t=e,n=Lce(r,t),i=n.extent,a=t.get("splitNumber");r instanceof gV&&(r.base=t.get("logBase"));var s=r.type,o=t.get("interval"),l=s==="interval"||s==="time";r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function Ob(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new fI({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new vV({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(sc.getClass(e)||hf)}}function cKe(r){var e=r.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function Ly(r){var e=r.getLabelModel().get("formatter"),t=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(n){return function(i,a){return r.scale.getFormattedLabel(i,a,n)}}(e):$e(e)?function(n){return function(i){var a=r.scale.getLabel(i),s=n.replace("{value}",a??"");return s}}(e):rt(e)?function(n){return function(i,a){return t!=null&&(a=i.value-t),n(mV(r,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return r.scale.getLabel(n)}}function mV(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function fKe(r){var e=r.model,t=r.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var n,i,a=t.getExtent();t instanceof fI?i=t.count():(n=t.getTicks(),i=n.length);var s=r.getLabelModel(),o=Ly(r),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=n?n[c]:{value:a[0]+c},h=o(f,c),p=s.getTextRect(h),v=hKe(p,s.get("rotate")||0);l?l.union(v):l=v}return l}}function hKe(r,e){var t=e*Math.PI/180,n=r.width,i=r.height,a=n*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),s=n*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),o=new Tt(r.x,r.y,a,s);return o}function yV(r){var e=r.get("interval");return e??"auto"}function Oce(r){return r.type==="category"&&yV(r.getLabelModel())===0}function pC(r,e){var t={};return B(r.mapDimensionsAll(e),function(n){t[dV(r,n)]=!0}),jt(t)}function dKe(r,e,t){e&&B(pC(e,t),function(n){var i=e.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}var Oy=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}();function pKe(r){return ac(null,r)}var vKe={isDimensionStacked:ff,enableDataStack:wce,getStackedDimension:dV};function gKe(r,e){var t=e;e instanceof or||(t=new or(e));var n=Ob(t);return n.setExtent(r[0],r[1]),Bv(n,t),n}function mKe(r){Cn(r,Oy)}function yKe(r,e){return e=e||{},Ur(r,null,null,e.state!=="normal")}const _Ke=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:DXe,createList:pKe,createScale:gKe,createSymbol:Vn,createTextStyle:yKe,dataStack:vKe,enableHoverEmphasis:Fh,getECData:dt,getLayoutRect:ti,mixinAxisModelCommonMethods:mKe},Symbol.toStringTag,{value:"Module"}));var xKe=1e-8;function dY(r,e){return Math.abs(r-e)<xKe}function Np(r,e,t){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var s=r[a];n+=Lc(i[0],i[1],s[0],s[1],e,t),i=s}var o=r[0];return(!dY(i[0],o[0])||!dY(i[1],o[1]))&&(n+=Lc(i[0],i[1],o[0],o[1],e,t)),n!==0}var wKe=[];function zP(r,e){for(var t=0;t<r.length;t++)Wi(r[t],r[t],e)}function pY(r,e,t,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Uc(e,e,a),Hc(t,t,a))}}function bKe(r){for(var e=0,t=0,n=0,i=r.length,a=r[i-1][0],s=r[i-1][1],o=0;o<i;o++){var l=r[o][0],u=r[o][1],c=a*u-l*s;e+=c,t+=(a+l)*c,n+=(s+u)*c,a=l,s=u}return e?[t/e/3,n/e/3,e]:[r[0][0]||0,r[0][1]||0]}var Nce=function(){function r(e){this.name=e}return r.prototype.setCenter=function(e){this._center=e},r.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},r}(),vY=function(){function r(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return r}(),gY=function(){function r(e){this.type="linestring",this.points=e}return r}(),Fce=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,n,i=0,a=0;a<t.length;a++){var s=t[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return bKe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return B(s,function(o){o.type==="polygon"?pY(o.exterior,i,a,t):B(o.points,function(l){pY(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new Tt(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=n),n},e.prototype.contain=function(t){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(t[0],t[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(Np(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Np(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new Tt(t,n,i,a),u=s.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(zP(h.exterior,u),B(h.interiors,function(p){zP(p,u)})):B(h.points,function(p){zP(p,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(Nce),SKe=function(r){ge(e,r);function e(t,n){var i=r.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=Tb(wKe),s=t;s&&!s.isGeoSVGGraphicRoot;)Wu(a,s.getLocalTransform(),a),s=s.parent;return rg(a,a),Wi(i,i,a),i},e}(Nce);function TKe(r){if(!r.UTF8Encoding)return r;var e=r,t=e.UTF8Scale;t==null&&(t=1024);var n=e.features;return B(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=Bce(o,s,t);break;case"Polygon":UP(o,s,t);break;case"MultiLineString":UP(o,s,t);break;case"MultiPolygon":B(o,function(l,u){return UP(l,s[u],t)})}}),e.UTF8Encoding=!1,e}function UP(r,e,t){for(var n=0;n<r.length;n++)r[n]=Bce(r[n],e[n],t)}function Bce(r,e,t){for(var n=[],i=e[0],a=e[1],s=0;s<r.length;s+=2){var o=r.charCodeAt(s)-64,l=r.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/t,l/t])}return n}function N4(r,e){return r=TKe(r),Pe(sr(r.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new vY(s[0],s.slice(1)));break;case"MultiPolygon":B(i.coordinates,function(l){l[0]&&a.push(new vY(l[0],l.slice(1)))});break;case"LineString":a.push(new gY([i.coordinates]));break;case"MultiLineString":a.push(new gY(i.coordinates))}var o=new Fce(n[e||"name"],a,n.cp);return o.properties=n,o})}const AKe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:i4,asc:Js,getPercentWithPrecision:sje,getPixelPrecision:gB,getPrecision:Rl,getPrecisionSafe:qoe,isNumeric:_B,isRadianAroundZero:Gm,linearMap:fr,nice:yB,numericToNumber:Qu,parseDate:ao,quantile:dA,quantity:Xoe,quantityExponent:zD,reformIntervals:a4,remRadian:mB,round:yn},Symbol.toStringTag,{value:"Module"})),EKe=Object.freeze(Object.defineProperty({__proto__:null,format:Pb,parse:ao},Symbol.toStringTag,{value:"Module"})),CKe=Object.freeze(Object.defineProperty({__proto__:null,Arc:Rb,BezierCurve:wy,BoundingRect:Tt,Circle:nc,CompoundPath:qD,Ellipse:Ib,Group:ft,Image:Li,IncrementalDisplayable:Ple,Line:gi,LinearGradient:by,Polygon:za,Polyline:Ga,RadialGradient:kB,Rect:Kt,Ring:xy,Sector:Va,Text:Xt,clipPointsByRect:OB,clipRectByRect:Ble,createIcon:Ty,extendPath:Nle,extendShape:Ole,getShapeClass:YD,getTransform:Bh,initProps:Zr,makeImage:PB,makePath:kb,mergePath:Ks,registerShape:el,resizePath:LB,updateProps:rr},Symbol.toStringTag,{value:"Module"})),DKe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:GB,capitalFirst:k$e,encodeHTML:Ca,formatTime:R$e,formatTpl:WB,getTextRect:D$e,getTooltipMarker:eue,normalizeCssArray:ag,toCamelCase:jB,truncateText:Nje},Symbol.toStringTag,{value:"Module"})),IKe=Object.freeze(Object.defineProperty({__proto__:null,bind:Ye,clone:ut,curry:gt,defaults:st,each:B,extend:Ce,filter:sr,indexOf:Ct,inherits:lB,isArray:ke,isFunction:rt,isObject:ot,isString:$e,map:Pe,merge:_t,reduce:Ko},Symbol.toStringTag,{value:"Module"}));var Dw=Qt();function Vce(r,e){var t=Pe(e,function(n){return r.scale.parse(n)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function RKe(r){var e=r.getLabelModel().get("customValues");if(e){var t=Ly(r),n=r.scale.getExtent(),i=Vce(r,e),a=sr(i,function(s){return s>=n[0]&&s<=n[1]});return{labels:Pe(a,function(s){var o={value:s};return{formattedLabel:t(o),rawLabel:r.scale.getLabel(o),tickValue:s}})}}return r.type==="category"?MKe(r):LKe(r)}function kKe(r,e){var t=r.getTickModel().get("customValues");if(t){var n=r.scale.getExtent(),i=Vce(r,t);return{ticks:sr(i,function(a){return a>=n[0]&&a<=n[1]})}}return r.type==="category"?PKe(r,e):{ticks:Pe(r.scale.getTicks(),function(a){return a.value})}}function MKe(r){var e=r.getLabelModel(),t=zce(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function zce(r,e){var t=Uce(r,"labels"),n=yV(e),i=Hce(t,n);if(i)return i;var a,s;return rt(n)?a=Wce(r,n):(s=n==="auto"?OKe(r):n,a=jce(r,s)),Gce(t,n,{labels:a,labelCategoryInterval:s})}function PKe(r,e){var t=Uce(r,"ticks"),n=yV(e),i=Hce(t,n);if(i)return i;var a,s;if((!e.get("show")||r.scale.isBlank())&&(a=[]),rt(n))a=Wce(r,n,!0);else if(n==="auto"){var o=zce(r,r.getLabelModel());s=o.labelCategoryInterval,a=Pe(o.labels,function(l){return l.tickValue})}else s=n,a=jce(r,s,!0);return Gce(t,n,{ticks:a,tickCategoryInterval:s})}function LKe(r){var e=r.scale.getTicks(),t=Ly(r);return{labels:Pe(e,function(n,i){return{level:n.level,formattedLabel:t(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value}})}}function Uce(r,e){return Dw(r)[e]||(Dw(r)[e]=[])}function Hce(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function Gce(r,e,t){return r.push({key:e,value:t}),t}function OKe(r){var e=Dw(r).autoInterval;return e??(Dw(r).autoInterval=r.calculateCategoryInterval())}function NKe(r){var e=FKe(r),t=Ly(r),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=r.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],u=r.dataToCoord(l+1)-r.dataToCoord(l),c=Math.abs(u*Math.cos(n)),f=Math.abs(u*Math.sin(n)),h=0,p=0;l<=a[1];l+=o){var v=0,m=0,y=Eb(t({value:l}),e.font,"center","top");v=y.width*1.3,m=y.height*1.3,h=Math.max(h,v,7),p=Math.max(p,m,7)}var x=h/c,w=p/f;isNaN(x)&&(x=1/0),isNaN(w)&&(w=1/0);var b=Math.max(0,Math.floor(Math.min(x,w))),T=Dw(r.model),C=r.getExtent(),D=T.lastAutoInterval,A=T.lastTickCount;return D!=null&&A!=null&&Math.abs(D-b)<=1&&Math.abs(A-s)<=1&&D>b&&T.axisExtent0===C[0]&&T.axisExtent1===C[1]?b=D:(T.lastTickCount=s,T.lastAutoInterval=b,T.axisExtent0=C[0],T.axisExtent1=C[1]),b}function FKe(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function jce(r,e,t){var n=Ly(r),i=r.scale,a=i.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=Oce(r),h=s.get("showMinLabel")||f,p=s.get("showMaxLabel")||f;h&&u!==a[0]&&m(a[0]);for(var v=u;v<=a[1];v+=l)m(v);p&&v-l!==a[1]&&m(a[1]);function m(y){var x={value:y};o.push(t?y:{formattedLabel:n(x),rawLabel:i.getLabel(x),tickValue:y})}return o}function Wce(r,e,t){var n=r.scale,i=Ly(r),a=[];return B(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var mY=[0,1],nl=function(){function r(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return r.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return gB(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},r.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),yY(n,i.count())),fr(e,mY,n,t)},r.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),yY(n,i.count()));var a=fr(e,n,mY,t);return this.scale.scale(a)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=kKe(this,t),i=n.ticks,a=Pe(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return BKe(this,a,s,e.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),i=Pe(n,function(a){return Pe(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},r.prototype.getViewLabels=function(){return RKe(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(){return NKe(this)},r}();function yY(r,e){var t=r[1]-r[0],n=e,i=t/n/2;r[0]+=i,r[1]-=i}function BKe(r,e,t,n){var i=e.length;if(!r.onBand||t||!i)return;var a=r.getExtent(),s,o;if(i===1)e[0].coord=a[0],s=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;B(e,function(p){p.coord-=u/2});var c=r.scale.getExtent();o=1+c[1]-e[i-1].tickValue,s={coord:e[i-1].coord+u*o,tickValue:c[1]+1},e.push(s)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&h(a[0],e[0].coord)&&e.unshift({coord:a[0]}),h(a[1],s.coord)&&(n?s.coord=a[1]:e.pop()),n&&h(s.coord,a[1])&&e.push({coord:a[1]});function h(p,v){return p=yn(p),v=yn(v),f?p>v:p<v}}function VKe(r){var e=Ut.extend(r);return Ut.registerClass(e),e}function zKe(r){var e=$r.extend(r);return $r.registerClass(e),e}function UKe(r){var e=Lr.extend(r);return Lr.registerClass(e),e}function HKe(r){var e=Cr.extend(r);return Cr.registerClass(e),e}var f_=Math.PI*2,bp=Ju.CMD,GKe=["top","right","bottom","left"];function jKe(r,e,t,n,i){var a=t.width,s=t.height;switch(r){case"top":n.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":n.set(t.x+a/2,t.y+s+e),i.set(0,1);break;case"left":n.set(t.x-e,t.y+s/2),i.set(-1,0);break;case"right":n.set(t.x+a+e,t.y+s/2),i.set(1,0);break}}function WKe(r,e,t,n,i,a,s,o,l){s-=r,o-=e;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*t+r,f=o*t+e;if(Math.abs(n-i)%f_<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var h=n;n=eo(i),i=eo(h)}else n=eo(n),i=eo(i);n>i&&(i+=f_);var p=Math.atan2(o,s);if(p<0&&(p+=f_),p>=n&&p<=i||p+f_>=n&&p+f_<=i)return l[0]=c,l[1]=f,u-t;var v=t*Math.cos(n)+r,m=t*Math.sin(n)+e,y=t*Math.cos(i)+r,x=t*Math.sin(i)+e,w=(v-s)*(v-s)+(m-o)*(m-o),b=(y-s)*(y-s)+(x-o)*(x-o);return w<b?(l[0]=v,l[1]=m,Math.sqrt(w)):(l[0]=y,l[1]=x,Math.sqrt(b))}function vC(r,e,t,n,i,a,s,o){var l=i-r,u=a-e,c=t-r,f=n-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var p=l*c+u*f,v=p/h;o&&(v=Math.min(Math.max(v,0),1)),v*=h;var m=s[0]=r+v*c,y=s[1]=e+v*f;return Math.sqrt((m-i)*(m-i)+(y-a)*(y-a))}function $ce(r,e,t,n,i,a,s){t<0&&(r=r+t,t=-t),n<0&&(e=e+n,n=-n);var o=r+t,l=e+n,u=s[0]=Math.min(Math.max(i,r),o),c=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Sl=[];function $Ke(r,e,t){var n=$ce(e.x,e.y,e.width,e.height,r.x,r.y,Sl);return t.set(Sl[0],Sl[1]),n}function qKe(r,e,t){for(var n=0,i=0,a=0,s=0,o,l,u=1/0,c=e.data,f=r.x,h=r.y,p=0;p<c.length;){var v=c[p++];p===1&&(n=c[p],i=c[p+1],a=n,s=i);var m=u;switch(v){case bp.M:a=c[p++],s=c[p++],n=a,i=s;break;case bp.L:m=vC(n,i,c[p],c[p+1],f,h,Sl,!0),n=c[p++],i=c[p++];break;case bp.C:m=Coe(n,i,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],f,h,Sl),n=c[p++],i=c[p++];break;case bp.Q:m=Ioe(n,i,c[p++],c[p++],c[p],c[p+1],f,h,Sl),n=c[p++],i=c[p++];break;case bp.A:var y=c[p++],x=c[p++],w=c[p++],b=c[p++],T=c[p++],C=c[p++];p+=1;var D=!!(1-c[p++]);o=Math.cos(T)*w+y,l=Math.sin(T)*b+x,p<=1&&(a=o,s=l);var A=(f-y)*b/w+y;m=WKe(y,x,b,T,T+C,D,A,h,Sl),n=Math.cos(T+C)*w+y,i=Math.sin(T+C)*b+x;break;case bp.R:a=n=c[p++],s=i=c[p++];var k=c[p++],I=c[p++];m=$ce(a,s,k,I,f,h,Sl);break;case bp.Z:m=vC(n,i,a,s,f,h,Sl,!0),n=a,i=s;break}m<u&&(u=m,t.set(Sl[0],Sl[1]))}return u}var kl=new bt,Wr=new bt,Pn=new bt,Mu=new bt,Cu=new bt;function _Y(r,e){if(r){var t=r.getTextGuideLine(),n=r.getTextContent();if(n&&t){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||GKe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=r.getComputedTransform(),f=c&&rg([],c),h=e.get("length2")||0;u&&Pn.copy(u);for(var p=0;p<s.length;p++){var v=s[p];jKe(v,0,o,kl,Mu),bt.scaleAndAdd(Wr,kl,Mu,h),Wr.transform(f);var m=r.getBoundingRect(),y=u?u.distance(Wr):r instanceof Gt?qKe(Wr,r.path,Pn):$Ke(Wr,m,Pn);y<l&&(l=y,Wr.transform(c),Pn.transform(c),Pn.toArray(a[0]),Wr.toArray(a[1]),kl.toArray(a[2]))}qce(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var gC=[],ts=new bt;function qce(r,e){if(e<=180&&e>0){e=e/180*Math.PI,kl.fromArray(r[0]),Wr.fromArray(r[1]),Pn.fromArray(r[2]),bt.sub(Mu,kl,Wr),bt.sub(Cu,Pn,Wr);var t=Mu.len(),n=Cu.len();if(!(t<.001||n<.001)){Mu.scale(1/t),Cu.scale(1/n);var i=Mu.dot(Cu),a=Math.cos(e);if(a<i){var s=vC(Wr.x,Wr.y,Pn.x,Pn.y,kl.x,kl.y,gC,!1);ts.fromArray(gC),ts.scaleAndAdd(Cu,s/Math.tan(Math.PI-e));var o=Pn.x!==Wr.x?(ts.x-Wr.x)/(Pn.x-Wr.x):(ts.y-Wr.y)/(Pn.y-Wr.y);if(isNaN(o))return;o<0?bt.copy(ts,Wr):o>1&&bt.copy(ts,Pn),ts.toArray(r[1])}}}}function YKe(r,e,t){if(t<=180&&t>0){t=t/180*Math.PI,kl.fromArray(r[0]),Wr.fromArray(r[1]),Pn.fromArray(r[2]),bt.sub(Mu,Wr,kl),bt.sub(Cu,Pn,Wr);var n=Mu.len(),i=Cu.len();if(!(n<.001||i<.001)){Mu.scale(1/n),Cu.scale(1/i);var a=Mu.dot(e),s=Math.cos(t);if(a<s){var o=vC(Wr.x,Wr.y,Pn.x,Pn.y,kl.x,kl.y,gC,!1);ts.fromArray(gC);var l=Math.PI/2,u=Math.acos(Cu.dot(e)),c=l+u-t;if(c>=l)bt.copy(ts,Pn);else{ts.scaleAndAdd(Cu,o/Math.tan(Math.PI/2-c));var f=Pn.x!==Wr.x?(ts.x-Wr.x)/(Pn.x-Wr.x):(ts.y-Wr.y)/(Pn.y-Wr.y);if(isNaN(f))return;f<0?bt.copy(ts,Wr):f>1&&bt.copy(ts,Pn)}ts.toArray(r[1])}}}}function HP(r,e,t,n){var i=t==="normal",a=i?r:r.ensureState(t);a.ignore=e;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?r.useStyle(o):a.style=o}function XKe(r,e){var t=e.smooth,n=e.points;if(n)if(r.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var i=zc(n[0],n[1]),a=zc(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*t,o=xx([],n[1],n[0],s/i),l=xx([],n[1],n[2],s/a),u=xx([],o,l,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)r.lineTo(n[c][0],n[c][1])}function _V(r,e,t){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<_w.length;l++){var u=_w[l],c=e[u],f=u==="normal";if(c){var h=c.get("show"),p=f?o:vt(i.states[u]&&i.states[u].ignore,o);if(p||!vt(h,s)){var v=f?n:n&&n.states[u];v&&(v.ignore=!0),n&&HP(n,!0,u,c);continue}n||(n=new Ga,r.setTextGuideLine(n),!f&&(o||!s)&&HP(n,!0,"normal",e.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),HP(n,!1,u,c)}}if(n){st(n.style,t),n.style.fill=null;var m=a.get("showAbove"),y=r.textGuideLineConfig=r.textGuideLineConfig||{};y.showAbove=m||!1,n.buildPath=XKe}}function xV(r,e){e=e||"labelLine";for(var t={normal:r.getModel(e)},n=0;n<ds.length;n++){var i=ds[n];t[i]=r.getModel([i,e])}return t}function Yce(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=o?new QE(s,a):null;e.push({label:i,labelLine:n.labelLine,rect:u,localRect:s,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:a})}}return e}function Xce(r,e,t,n,i,a){var s=r.length;if(s<2)return;r.sort(function(D,A){return D.rect[e]-A.rect[e]});for(var o=0,l,u=!1,c=0;c<s;c++){var f=r[c],h=f.rect;l=h[e]-o,l<0&&(h[e]-=l,f.label[e]-=l,u=!0),o=h[e]+h[t]}var p=r[0],v=r[s-1],m,y;x(),m<0&&T(-m,.8),y<0&&T(y,.8),x(),w(m,y,1),w(y,m,-1),x(),m<0&&C(-m),y<0&&C(y);function x(){m=p.rect[e]-n,y=i-v.rect[e]-v.rect[t]}function w(D,A,k){if(D<0){var I=Math.min(A,-D);if(I>0){b(I*k,0,s);var M=I+D;M<0&&T(-M*k,1)}else T(-D*k,1)}}function b(D,A,k){D!==0&&(u=!0);for(var I=A;I<k;I++){var M=r[I],P=M.rect;P[e]+=D,M.label[e]+=D}}function T(D,A){for(var k=[],I=0,M=1;M<s;M++){var P=r[M-1].rect,O=Math.max(r[M].rect[e]-P[e]-P[t],0);k.push(O),I+=O}if(I){var N=Math.min(Math.abs(D)/I,A);if(D>0)for(var M=0;M<s-1;M++){var G=k[M]*N;b(G,0,M+1)}else for(var M=s-1;M>0;M--){var G=k[M-1]*N;b(-G,M,s)}}}function C(D){var A=D<0?-1:1;D=Math.abs(D);for(var k=Math.ceil(D/(s-1)),I=0;I<s-1;I++)if(A>0?b(k,0,I+1):b(-k,s-I-1,s),D-=k,D<=0)return}return u}function KKe(r,e,t,n){return Xce(r,"x","width",e,t)}function Kce(r,e,t,n){return Xce(r,"y","height",e,t)}function Zce(r){var e=[];r.sort(function(m,y){return y.priority-m.priority});var t=new Tt(0,0,0,0);function n(m){if(!m.ignore){var y=m.ensureState("emphasis");y.ignore==null&&(y.ignore=!1)}m.ignore=!0}for(var i=0;i<r.length;i++){var a=r[i],s=a.axisAligned,o=a.localRect,l=a.transform,u=a.label,c=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var f=a.obb,h=!1,p=0;p<e.length;p++){var v=e[p];if(t.intersect(v.rect)){if(s&&v.axisAligned){h=!0;break}if(v.obb||(v.obb=new QE(v.localRect,v.transform)),f||(f=new QE(o,l)),f.intersect(v.obb)){h=!0;break}}}h?(n(u),c&&n(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function ZKe(r){if(r){for(var e=[],t=0;t<r.length;t++)e.push(r[t].slice());return e}}function QKe(r,e){var t=r.label,n=e&&e.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:ZKe(n&&n.shape.points)}}var xY=["align","verticalAlign","width","height","fontSize"],Ka=new Gc,GP=Qt(),JKe=Qt();function x2(r,e,t){for(var n=0;n<t.length;n++){var i=t[n];e[i]!=null&&(r[i]=e[i])}}var w2=["x","y","rotation"],eZe=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(e,t,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();Tt.applyTransform(c,c,u),u?Ka.setLocalTransform(u):(Ka.x=Ka.y=Ka.rotation=Ka.originX=Ka.originY=0,Ka.scaleX=Ka.scaleY=1),Ka.rotation=eo(Ka.rotation);var f=i.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var p=f.getComputedTransform();Tt.applyTransform(h,h,p)}var v=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:Ka.x,y:Ka.y,scaleX:Ka.scaleX,scaleY:Ka.scaleY,rotation:Ka.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(rt(i)||jt(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=dt(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,s,i)})},r.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(b,T){return function(){_Y(b,T)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;rt(s.layoutOption)?c=s.layoutOption(QKe(s,l)):c=s.layoutOption,c=c||{},s.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(o.x=We(c.x,t),o.setStyle("x",0),h=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=We(c.y,n),o.setStyle("y",0),h=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:c.labelLinePoints}),h=!1)}var v=GP(o);v.needsUpdateLabelLine=h,o.rotation=c.rotate!=null?c.rotate*f:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var m=0;m<xY.length;m++){var y=xY[m];o.setStyle(y,c[y]!=null?c[y]:u.style[y])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var x=s.seriesModel;if(s.dataIndex!=null){var w=s.seriesModel.getData(s.dataType);x=w.getItemModel(s.dataIndex)}o.on("drag",i(l,x.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},r.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),i=Yce(this._labelList),a=sr(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=sr(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});KKe(a,0,t),Kce(s,0,n);var o=sr(i,function(l){return l.layoutOption.hideOverlap});Zce(o)},r.prototype.processLabelsOverall=function(){var e=this;B(this._chartViewList,function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,a=n.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=GP(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,n),a&&e._animateLabels(s,n)})})},r.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=dt(e),a=i.dataIndex;if(n&&a!=null){var s=t.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var f=o.getModel("labelLine");_V(e,xV(o),l),_Y(e,f)}},r.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!vm(e))){var a=GP(n),s=a.oldLayout,o=dt(e),l=o.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=t.getData(o.dataType);if(s){n.attr(s);var h=e.prevStates;h&&(Ct(h,"select")>=0&&n.attr(a.oldLayoutSelect),Ct(h,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),rr(n,u,t,l)}else if(n.attr(u),!Ay(n).valueAnimation){var f=vt(n.style.opacity,1);n.style.opacity=0,Zr(n,{style:{opacity:f}},t,l)}if(a.oldLayout=u,n.states.select){var p=a.oldLayoutSelect={};x2(p,u,w2),x2(p,n.states.select,w2)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};x2(v,u,w2),x2(v,n.states.emphasis,w2)}Hle(n,l,c,t,t)}if(i&&!i.ignore&&!i.invisible){var a=JKe(i),s=a.oldLayout,m={points:i.shape.points};s?(i.attr({shape:s}),rr(i,{shape:m},t)):(i.setShape(m),i.style.strokePercent=0,Zr(i,{style:{strokePercent:1}},t)),a.oldLayout=m}},r}(),jP=Qt();function tZe(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var i=jP(t).labelManager;i||(i=jP(t).labelManager=new eZe),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var i=jP(t).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var WP=Math.sin,$P=Math.cos,Qce=Math.PI,Sp=Math.PI*2,rZe=180/Qce,Jce=function(){function r(){}return r.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},r.prototype.moveTo=function(e,t){this._add("M",e,t)},r.prototype.lineTo=function(e,t){this._add("L",e,t)},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){this._add("C",e,t,n,i,a,s)},r.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},r.prototype.arc=function(e,t,n,i,a,s){this.ellipse(e,t,n,n,0,i,a,s)},r.prototype.ellipse=function(e,t,n,i,a,s,o,l){var u=o-s,c=!l,f=Math.abs(u),h=Ah(f-Sp)||(c?u>=Sp:-u>=Sp),p=u>0?u%Sp:u%Sp+Sp,v=!1;h?v=!0:Ah(f)?v=!1:v=p>=Qce==!!c;var m=e+n*$P(s),y=t+i*WP(s);this._start&&this._add("M",m,y);var x=Math.round(a*rZe);if(h){var w=1/this._p,b=(c?1:-1)*(Sp-w);this._add("A",n,i,x,1,+c,e+n*$P(s+b),t+i*WP(s+b)),w>.01&&this._add("A",n,i,x,0,+c,m,y)}else{var T=e+n*$P(o),C=t+i*WP(o);this._add("A",n,i,x,+v,+c,T,C)}},r.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(e,t,n,i,a,s,o,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var p=arguments[h];if(isNaN(p)){this._invalid=!0;return}c.push(Math.round(p*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),wV="none",nZe=Math.round;function iZe(r){var e=r.fill;return e!=null&&e!==wV}function aZe(r){var e=r.stroke;return e!=null&&e!==wV}var F4=["lineCap","miterLimit","lineJoin"],sZe=Pe(F4,function(r){return"stroke-"+r.toLowerCase()});function oZe(r,e,t,n){var i=e.opacity==null?1:e.opacity;if(t instanceof Li){r("opacity",i);return}if(iZe(e)){var a=mw(e.fill);r("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;s<1&&r("fill-opacity",s)}else r("fill",wV);if(aZe(e)){var o=mw(e.stroke);r("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,f=e.strokeFirst;if(u!==1&&r("stroke-width",u),f&&r("paint-order",f?"stroke":"fill"),c<1&&r("stroke-opacity",c),e.lineDash){var h=rV(t),p=h[0],v=h[1];p&&(v=nZe(v||0),r("stroke-dasharray",p.join(",")),(v||n)&&r("stroke-dashoffset",v))}for(var m=0;m<F4.length;m++){var y=F4[m];if(e[y]!==KE[y]){var x=e[y]||KE[y];x&&r(sZe[m],x)}}}}var efe="http://www.w3.org/2000/svg",tfe="http://www.w3.org/1999/xlink",lZe="http://www.w3.org/2000/xmlns/",uZe="http://www.w3.org/XML/1998/namespace",wY="ecmeta_";function rfe(r){return document.createElementNS(efe,r)}function Di(r,e,t,n,i){return{tag:r,attrs:t||{},children:n,text:i,key:e}}function cZe(r,e){var t=[];if(e)for(var n in e){var i=e[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+r+" "+t.join(" ")+">"}function fZe(r){return"</"+r+">"}function bV(r,e){e=e||{};var t=e.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return cZe(s,o)+(s!=="style"?Ca(l):l||"")+(a?""+t+Pe(a,function(u){return n(u)}).join(t)+t:"")+fZe(s)}return n(r)}function hZe(r,e,t){t=t||{};var n=t.newline?`
`:"",i=" {"+n,a=n+"}",s=Pe(jt(r),function(l){return l+i+Pe(jt(r[l]),function(u){return u+":"+r[l][u]+";"}).join(n)+a}).join(n),o=Pe(jt(e),function(l){return"@keyframes "+l+i+Pe(jt(e[l]),function(u){return u+i+Pe(jt(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function B4(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function bY(r,e,t,n){return Di("svg","root",{width:r,height:e,xmlns:efe,"xmlns:xlink":tfe,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+e:!1},t)}var dZe=0;function nfe(){return dZe++}var SY={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Dp="transform-origin";function pZe(r,e,t){var n=Ce({},r.shape);Ce(n,e),r.buildPath(t,n);var i=new Jce;return i.reset(Noe(r)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function vZe(r,e){var t=e.originX,n=e.originY;(t||n)&&(r[Dp]=t+"px "+n+"px")}var gZe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function ife(r,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=r,t}function mZe(r,e,t){var n=r.shape.paths,i={},a,s;if(B(n,function(l){var u=B4(t.zrId);u.animation=!0,hI(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=jt(c),p=h.length;if(p){s=h[p-1];var v=c[s];for(var m in v){var y=v[m];i[m]=i[m]||{d:""},i[m].d+=y.d||""}for(var x in f){var w=f[x].animation;w.indexOf(s)>=0&&(a=w)}}}),!!a){e.d=!1;var o=ife(i,t);return a.replace(s,o)}}function TY(r){return $e(r)?SY[r]?"cubic-bezier("+SY[r]+")":hB(r)?r:"":""}function hI(r,e,t,n){var i=r.animators,a=i.length,s=[];if(r instanceof qD){var o=mZe(r,e,t);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],h=TY(c.getClip().easing),p=c.getDelay();h?f.push(h):f.push("linear"),p&&f.push(p/1e3+"s"),c.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function m(w){var b=w[1],T=b.length,C={},D={},A={},k="animation-timing-function";function I(Se,xe,Te){for(var Oe=Se.getTracks(),ne=Se.getMaxTime(),pt=0;pt<Oe.length;pt++){var tt=Oe[pt];if(tt.needsAnimate()){var ct=tt.keyframes,it=tt.propName;if(Te&&(it=Te(it)),it)for(var He=0;He<ct.length;He++){var xt=ct[He],gr=Math.round(xt.time/ne*100)+"%",Jr=TY(xt.easing),Ve=xt.rawValue;($e(Ve)||tr(Ve))&&(xe[gr]=xe[gr]||{},xe[gr][it]=xt.rawValue,Jr&&(xe[gr][k]=Jr))}}}}for(var M=0;M<T;M++){var P=b[M],O=P.targetName;O?O==="shape"&&I(P,D):!n&&I(P,C)}for(var N in C){var G={};Uoe(G,r),Ce(G,C[N]);var j=Foe(G),U=C[N][k];A[N]=j?{transform:j}:{},vZe(A[N],G),U&&(A[N][k]=U)}var X,ie=!0;for(var N in D){A[N]=A[N]||{};var Z=!X,U=D[N][k];Z&&(X=new Ju);var W=X.len();X.reset(),A[N].d=pZe(r,D[N],X);var Q=X.len();if(!Z&&W!==Q){ie=!1;break}U&&(A[N][k]=U)}if(!ie)for(var N in A)delete A[N].d;if(!n)for(var M=0;M<T;M++){var P=b[M],O=P.targetName;O==="style"&&I(P,A,function(Oe){return gZe[Oe]})}for(var H=jt(A),ee=!0,J,M=1;M<H.length;M++){var se=H[M-1],de=H[M];if(A[se][Dp]!==A[de][Dp]){ee=!1;break}J=A[se][Dp]}if(ee&&J){for(var N in A)A[N][Dp]&&delete A[N][Dp];e[Dp]=J}if(sr(H,function(Se){return jt(A[Se]).length>0}).length){var Me=ife(A,t);return Me+" "+w[0]+" both"}}for(var y in l){var o=m(l[y]);o&&s.push(o)}if(s.length){var x=t.zrId+"-cls-"+nfe();t.cssNodes["."+x]={animation:s.join(",")},e.class=x}}function yZe(r,e,t){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};AY(n,e,t)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var s=r.style&&r.style.fill,o=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&o||s;l&&(a=$E(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&r.transform?r.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),AY(n,e,t)}}function AY(r,e,t,n){var i=JSON.stringify(r),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+nfe(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=r),e.class=e.class?e.class+" "+a:a}var Iw=Math.round;function afe(r){return r&&$e(r.src)}function sfe(r){return r&&rt(r.toDataURL)}function SV(r,e,t,n){oZe(function(i,a){var s=i==="fill"||i==="stroke";s&&Ooe(a)?lfe(e,r,i,n):s&&pB(a)?ufe(t,r,i,n):r[i]=a,s&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},e,t,!1),AZe(t,r,n)}function TV(r,e){var t=joe(e);t&&(t.each(function(n,i){n!=null&&(r[(wY+i).toLowerCase()]=n+"")}),e.isSilent()&&(r[wY+"silent"]="true"))}function EY(r){return Ah(r[0]-1)&&Ah(r[1])&&Ah(r[2])&&Ah(r[3]-1)}function _Ze(r){return Ah(r[4])&&Ah(r[5])}function AV(r,e,t){if(e&&!(_Ze(e)&&EY(e))){var n=1e4;r.transform=EY(e)?"translate("+Iw(e[4]*n)/n+" "+Iw(e[5]*n)/n+")":TGe(e)}}function CY(r,e,t){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(Iw(n[a][0]*t)/t),i.push(Iw(n[a][1]*t)/t);e.points=i.join(" ")}function DY(r){return!r.smooth}function xZe(r){var e=Pe(r,function(t){return typeof t=="string"?[t,t]:t});return function(t,n,i){for(var a=0;a<e.length;a++){var s=e[a],o=t[s[0]];o!=null&&(n[s[1]]=Iw(o*i)/i)}}}var wZe={circle:[xZe(["cx","cy","r"])],polyline:[CY,DY],polygon:[CY,DY]};function bZe(r){for(var e=r.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function ofe(r,e){var t=r.style,n=r.shape,i=wZe[r.type],a={},s=e.animation,o="path",l=r.style.strokePercent,u=e.compress&&Noe(r)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&bZe(r))&&!(l<1)){o=r.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var f=!r.path||r.shapeChanged();r.path||r.createPathProxy();var h=r.path;f&&(h.beginPath(),r.buildPath(h,r.shape),r.pathUpdated());var p=h.getVersion(),v=r,m=v.__svgPathBuilder;(v.__svgPathVersion!==p||!m||l!==v.__svgPathStrokePercent)&&(m||(m=v.__svgPathBuilder=new Jce),m.reset(u),h.rebuildPath(m,l),m.generateStr(),v.__svgPathVersion=p,v.__svgPathStrokePercent=l),a.d=m.getStr()}return AV(a,r.transform),SV(a,t,r,e),TV(a,r),e.animation&&hI(r,a,e),e.emphasis&&yZe(r,a,e),Di(o,r.id+"",a)}function SZe(r,e){var t=r.style,n=t.image;if(n&&!$e(n)&&(afe(n)?n=n.src:sfe(n)&&(n=n.toDataURL())),!!n){var i=t.x||0,a=t.y||0,s=t.width,o=t.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),AV(l,r.transform),SV(l,t,r,e),TV(l,r),e.animation&&hI(r,l,e),Di("image",r.id+"",l)}}function TZe(r,e){var t=r.style,n=t.text;if(n!=null&&(n+=""),!(!n||isNaN(t.x)||isNaN(t.y))){var i=t.font||rd,a=t.x||0,s=EGe(t.y||0,BD(i),t.textBaseline),o=AGe[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(vle(t)){var u="",c=t.fontStyle,f=ple(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||soe,p=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),p&&p!=="normal"&&(u+="font-weight:"+p+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),AV(l,r.transform),SV(l,t,r,e),TV(l,r),e.animation&&hI(r,l,e),Di("text",r.id+"",l,void 0,n)}}function IY(r,e){if(r instanceof Gt)return ofe(r,e);if(r instanceof Li)return SZe(r,e);if(r instanceof jm)return TZe(r,e)}function AZe(r,e,t){var n=r.style;if(CGe(n)){var i=DGe(r),a=t.shadowCache,s=a[i];if(!s){var o=r.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,h=n.shadowBlur,p=mw(n.shadowColor),v=p.opacity,m=p.color,y=h/2/l,x=h/2/u,w=y+" "+x;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=Di("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Di("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:w,"flood-color":m,"flood-opacity":v})]),a[i]=s}e.filter=FD(s)}}function lfe(r,e,t,n){var i=r[t],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Poe(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(Loe(i))a="radialGradient",s.cx=vt(i.x,.5),s.cy=vt(i.y,.5),s.r=vt(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,c=o.length;u<c;++u){var f=qN(o[u].offset)*100+"%",h=o[u].color,p=mw(h),v=p.color,m=p.opacity,y={offset:f};y["stop-color"]=v,m<1&&(y["stop-opacity"]=m),l.push(Di("stop",u+"",y))}var x=Di(a,"",s,l),w=bV(x),b=n.gradientCache,T=b[w];T||(T=n.zrId+"-g"+n.gradientIdx++,b[w]=T,s.id=T,n.defs[T]=Di(a,T,s,l)),e[t]=FD(T)}function ufe(r,e,t,n){var i=r.style[t],a=r.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",f;if(Moe(i)){var h=i.imageWidth,p=i.imageHeight,v=void 0,m=i.image;if($e(m)?v=m:afe(m)?v=m.src:sfe(m)&&(v=m.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";Ba(h,y),Ba(p,y)}else if(h==null||p==null){var x=function(M,P){if(M){var O=M.elm,N=h||P.width,G=p||P.height;M.tag==="pattern"&&(u?(G=1,N/=a.width):c&&(N=1,G/=a.height)),M.attrs.width=N,M.attrs.height=G,O&&(O.setAttribute("width",N),O.setAttribute("height",G))}},w=SB(v,null,r,function(M){l||x(D,M),x(f,M)});w&&w.width&&w.height&&(h=h||w.width,p=p||w.height)}f=Di("image","img",{href:v,width:h,height:p}),s.width=h,s.height=p}else i.svgElement&&(f=ut(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(f){var b,T;l?b=T=1:u?(T=1,b=s.width/a.width):c?(b=1,T=s.height/a.height):s.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(s.width=b),T!=null&&!isNaN(T)&&(s.height=T);var C=Foe(i);C&&(s.patternTransform=C);var D=Di("pattern","",s,[f]),A=bV(D),k=n.patternCache,I=k[A];I||(I=n.zrId+"-p"+n.patternIdx++,k[A]=I,s.id=I,D=n.defs[I]=Di("pattern",I,s,[f])),e[t]=FD(I)}}function EZe(r,e,t){var n=t.clipPathCache,i=t.defs,a=n[r.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var s={id:a};n[r.id]=a,i[a]=Di("clipPath",a,s,[ofe(r,t)])}e["clip-path"]=FD(a)}function RY(r){return document.createTextNode(r)}function Fp(r,e,t){r.insertBefore(e,t)}function kY(r,e){r.removeChild(e)}function MY(r,e){r.appendChild(e)}function cfe(r){return r.parentNode}function ffe(r){return r.nextSibling}function qP(r,e){r.textContent=e}var PY=58,CZe=120,DZe=Di("","");function V4(r){return r===void 0}function Au(r){return r!==void 0}function IZe(r,e,t){for(var n={},i=e;i<=t;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function j_(r,e){var t=r.key===e.key,n=r.tag===e.tag;return n&&t}function Rw(r){var e,t=r.children,n=r.tag;if(Au(n)){var i=r.elm=rfe(n);if(EV(DZe,r),ke(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&MY(i,Rw(a))}else Au(r.text)&&!ot(r.text)&&MY(i,RY(r.text))}else r.elm=RY(r.text);return r.elm}function hfe(r,e,t,n,i){for(;n<=i;++n){var a=t[n];a!=null&&Fp(r,Rw(a),e)}}function mC(r,e,t,n){for(;t<=n;++t){var i=e[t];if(i!=null)if(Au(i.tag)){var a=cfe(i.elm);kY(a,i.elm)}else kY(r,i.elm)}}function EV(r,e){var t,n=e.elm,i=r&&r.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var s=a[t],o=i[t];o!==s&&(s===!0?n.setAttribute(t,""):s===!1?n.removeAttribute(t):t==="style"?n.style.cssText=s:t.charCodeAt(0)!==CZe?n.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?n.setAttributeNS(lZe,t,s):t.charCodeAt(3)===PY?n.setAttributeNS(uZe,t,s):t.charCodeAt(5)===PY?n.setAttributeNS(tfe,t,s):n.setAttribute(t,s))}for(t in i)t in a||n.removeAttribute(t)}}function RZe(r,e,t){for(var n=0,i=0,a=e.length-1,s=e[0],o=e[a],l=t.length-1,u=t[0],c=t[l],f,h,p,v;n<=a&&i<=l;)s==null?s=e[++n]:o==null?o=e[--a]:u==null?u=t[++i]:c==null?c=t[--l]:j_(s,u)?(R0(s,u),s=e[++n],u=t[++i]):j_(o,c)?(R0(o,c),o=e[--a],c=t[--l]):j_(s,c)?(R0(s,c),Fp(r,s.elm,ffe(o.elm)),s=e[++n],c=t[--l]):j_(o,u)?(R0(o,u),Fp(r,o.elm,s.elm),o=e[--a],u=t[++i]):(V4(f)&&(f=IZe(e,n,a)),h=f[u.key],V4(h)?Fp(r,Rw(u),s.elm):(p=e[h],p.tag!==u.tag?Fp(r,Rw(u),s.elm):(R0(p,u),e[h]=void 0,Fp(r,p.elm,s.elm))),u=t[++i]);(n<=a||i<=l)&&(n>a?(v=t[l+1]==null?null:t[l+1].elm,hfe(r,v,t,i,l)):mC(r,e,n,a))}function R0(r,e){var t=e.elm=r.elm,n=r.children,i=e.children;r!==e&&(EV(r,e),V4(e.text)?Au(n)&&Au(i)?n!==i&&RZe(t,n,i):Au(i)?(Au(r.text)&&qP(t,""),hfe(t,null,i,0,i.length-1)):Au(n)?mC(t,n,0,n.length-1):Au(r.text)&&qP(t,""):r.text!==e.text&&(Au(n)&&mC(t,n,0,n.length-1),qP(t,e.text)))}function kZe(r,e){if(j_(r,e))R0(r,e);else{var t=r.elm,n=cfe(t);Rw(e),n!==null&&(Fp(n,e.elm,ffe(t)),mC(n,[r],0,0))}return e}var MZe=0,PZe=function(){function r(e,t,n){if(this.type="svg",this.refreshHover=LY(),this.configLayer=LY(),this.storage=t,this._opts=n=Ce({},n),this.root=e,this._id="zr"+MZe++,this._oldVNode=bY(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=rfe("svg");EV(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",kZe(this._oldVNode,e),this._oldVNode=e}},r.prototype.renderOneToVNode=function(e){return IY(e,B4(this._id))},r.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=B4(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=LZe(n,i,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=Di("g","main",{},[]);this._paintList(t,a,l?l.children:s),l&&s.push(l);var u=Pe(jt(a.defs),function(h){return a.defs[h]});if(u.length&&s.push(Di("defs","defs",{},u)),e.animation){var c=hZe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Di("style","stl",{},[],c);s.push(f)}}return bY(n,i,s,e.useViewBox)},r.prototype.renderToString=function(e){return e=e||{},bV(this.renderToVNode({animation:vt(e.cssAnimation,!0),emphasis:vt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:vt(e.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(e,t,n){for(var i=e.length,a=[],s=0,o,l,u=0,c=0;c<i;c++){var f=e[c];if(!f.invisible){var h=f.__clipPaths,p=h&&h.length||0,v=l&&l.length||0,m=void 0;for(m=Math.max(p-1,v-1);m>=0&&!(h&&l&&h[m]===l[m]);m--);for(var y=v-1;y>m;y--)s--,o=a[s-1];for(var x=m+1;x<p;x++){var w={};EZe(h[x],w,t);var b=Di("g","clip-g-"+u++,w,[]);(o?o.children:n).push(b),a[s++]=b,o=b}l=h;var T=IY(f,t);T&&(o?o.children:n).push(T)}}},r.prototype.resize=function(e,t){var n=this._opts,i=this.root,a=this._viewport;if(e!=null&&(n.width=e),t!=null&&(n.height=t),i&&a&&(a.style.display="none",e=q0(i,0,n),t=q0(i,1,n),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var s=a.style;s.width=e+"px",s.height=t+"px"}if(pB(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=RGe(t),t&&n+"base64,"+t):n+"charset=UTF-8,"+encodeURIComponent(t)},r}();function LY(r){return function(){}}function LZe(r,e,t,n){var i;if(t&&t!=="none")if(i=Di("rect","bg",{width:r,height:e,x:"0",y:"0"}),Ooe(t))lfe({fill:t},i.attrs,"fill",n);else if(pB(t))ufe({style:{fill:t},dirty:An,getBoundingRect:function(){return{width:r,height:e}}},i.attrs,"fill",n);else{var a=mw(t),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function OZe(r){r.registerPainter("svg",PZe)}function OY(r,e,t){var n=Gl.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*t,n.height=a*t,n}var YP=function(r){Qr(e,r);function e(t,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||YE,typeof t=="string"?s=OY(t,n,i):ot(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(uB(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=OY("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new Tt(0,0,0,0);function c(w){if(!(!w.isFinite()||w.isZero()))if(s.length===0){var b=new Tt(0,0,0,0);b.copy(w),s.push(b)}else{for(var T=!1,C=1/0,D=0,A=0;A<s.length;++A){var k=s[A];if(k.intersect(w)){var I=new Tt(0,0,0,0);I.copy(k),I.union(w),s[A]=I,T=!0;break}else if(l){u.copy(w),u.union(k);var M=w.width*w.height,P=k.width*k.height,O=u.width*u.height,N=O-M-P;N<C&&(C=N,D=A)}}if(l&&(s[D].union(w),T=!0),!T){var b=new Tt(0,0,0,0);b.copy(w),s.push(b)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var p=h.shouldBePainted(i,a,!0,!0),v=h.__isRendered&&(h.__dirty&Xs||!p)?h.getPrevPaintRect():null;v&&c(v);var m=p&&(h.__dirty&Xs||!h.__isRendered)?h.getPaintRect():null;m&&c(m)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],p=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&c(v)}}var y;do{y=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var x=f+1;x<s.length;)s[f].intersect(s[x])?(y=!0,s[f].union(s[x]),s.splice(x,1)):x++;f++}}while(y);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=n+"px"),a.width=t*i,a.height=n*i,o&&(o.width=t*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/f,l/f));var p=this.domBack;function v(m,y,x,w){if(s.clearRect(m,y,x,w),n&&n!=="transparent"){var b=void 0;if(bb(n)){var T=n.global||n.__width===x&&n.__height===w;b=T&&n.__canvasGradient||D4(s,n,{x:0,y:0,width:x,height:w}),n.__canvasGradient=b,n.__width=x,n.__height=w}else foe(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,b=I4(s,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));s.save(),s.fillStyle=b||n,s.fillRect(m,y,x,w),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(p,m,y,x,w),s.restore())}!i||u?v(0,0,o,l):i.length&&B(i,function(m){v(m.x*f,m.y*f,m.width*f,m.height*f)})},e}(Jo),NY=1e5,Tp=314159,b2=.01,NZe=.001;function FZe(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function BZe(r,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var VZe=function(){function r(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Ce({},n||{}),this.dpr=n.devicePixelRatio||YE,this._singleCanvas=a,this.root=e;var s=e.style;s&&(uB(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,h=c.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var p=new YP(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[Tp]=p,p.zlevel=Tp,o.push(Tp),this._domRoot=e}else{this._width=q0(e,0,n),this._height=q0(e,1,n);var u=this._domRoot=BZe(this._width,this._height);e.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(NY)),a||(a=n.ctx,a.save()),tv(a,o,i,s===t-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(NY)},r.prototype.paintOne=function(e,t){nV(e,t)},r.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;HE(function(){l._paintList(e,t,n,i)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(Tp).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},r.prototype._doPaintList=function(e,t,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,h=function(m){var y=a[m],x=y.ctx,w=s&&y.createRepaintRects(e,t,p._width,p._height),b=n?y.__startIndex:y.__drawIndex,T=!n&&y.incremental&&Date.now,C=T&&Date.now(),D=y.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,D,w);else if(b===y.__startIndex){var A=e[b];(!A.incremental||!A.notClear||n)&&y.clear(!1,D,w)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=y.__startIndex);var k,I=function(N){var G={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(k=b;k<y.__endIndex;k++){var j=e[k];if(j.__inHover&&(f=!0),i._doPaintEl(j,y,s,N,G,k===y.__endIndex-1),T){var U=Date.now()-C;if(U>15)break}}G.prevElClipPaths&&x.restore()};if(w)if(w.length===0)k=y.__endIndex;else for(var M=p.dpr,P=0;P<w.length;++P){var O=w[P];x.save(),x.beginPath(),x.rect(O.x*M,O.y*M,O.width*M,O.height*M),x.clip(),I(O),x.restore()}else x.save(),I(),x.restore();y.__drawIndex=k,y.__drawIndex<y.__endIndex&&(c=!1)},p=this,v=0;v<a.length;v++)h(v);return Ht.wxa&&B(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:f}},r.prototype._doPaintEl=function(e,t,n,i,a,s){var o=t.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(tv(o,e,a,s),e.setPrevPaintRect(l))}else tv(o,e,a,s)},r.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Tp);var n=this._layers[e];return n||(n=new YP("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?_t(n,this._layerConfig[e],!0):this._layerConfig[e-b2]&&_t(n,this._layerConfig[e-b2],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},r.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[e]&&FZe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=n[i[l]]}if(i.splice(l+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(t,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},r.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;o!==u&&(o=u,s=0),i.incremental?(c=this.getLayer(u+NZe,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?b2:0),this._needsManuallyCompositing),c.__builtin__||kD("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),i.__dirty&Xs&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,B(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?_t(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+b2){var s=this._layers[a];_t(s,n[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(Ct(n,e),1))},r.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=q0(a,0,i),t=q0(a,1,i),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Tp).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Tp].dom;var t=new YP("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];tv(n,c,s,l===u-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function zZe(r){r.registerPainter("canvas",VZe)}var UZe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return ac(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new ft,i=Vn("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=t.itemHeight*.8,u=Vn(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Lr);function Ym(r,e){var t=r.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var i=$m(r,e,t[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<t.length;s++)a.push($m(r,e,t[s]));return a.join(" ")}}function dfe(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!ke(e))return e+"";for(var n=[],i=0;i<t.length;i++){var a=r.getDimensionIndex(t[i]);a>=0&&n.push(e[a])}return n.join(" ")}var Nb=function(r){ge(e,r);function e(t,n,i,a){var s=r.call(this)||this;return s.updateData(t,n,i,a),s}return e.prototype._createSymbol=function(t,n,i,a,s){this.removeAll();var o=Vn(t,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=HZe,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){lf(this.childAt(0))},e.prototype.downplay=function(){uf(this.childAt(0))},e.prototype.setZ=function(t,n){var i=this.childAt(0);i.zlevel=t,i.z=n},e.prototype.setDraggable=function(t,n){var i=this.childAt(0);i.draggable=t,i.cursor=!n&&t?"move":i.cursor},e.prototype.updateData=function(t,n,i,a){this.silent=!1;var s=t.getItemVisual(n,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,n),u=s!==this._symbolType,c=a&&a.disableAnimation;if(u){var f=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,t,n,l,f)}else{var h=this.childAt(0);h.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(p):rr(h,p,o,n),$l(h)}if(this._updateCommon(t,n,l,i,a),u){var h=this.childAt(0);if(!c){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Zr(h,p,o,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,i,a,s){var o=this.childAt(0),l=t.hostModel,u,c,f,h,p,v,m,y,x;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,p=a.blurScope,m=a.labelStatesModels,y=a.hoverScale,x=a.cursorStyle,v=a.emphasisDisabled),!a||t.hasItemOption){var w=a&&a.itemModel?a.itemModel:t.getItemModel(n),b=w.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),f=w.getModel(["select","itemStyle"]).getItemStyle(),c=w.getModel(["blur","itemStyle"]).getItemStyle(),h=b.get("focus"),p=b.get("blurScope"),v=b.get("disabled"),m=Mi(w),y=b.getShallow("scale"),x=w.getShallow("cursor")}var T=t.getItemVisual(n,"symbolRotate");o.attr("rotation",(T||0)*Math.PI/180||0);var C=sg(t.getItemVisual(n,"symbolOffset"),i);C&&(o.x=C[0],o.y=C[1]),x&&o.attr("cursor",x);var D=t.getItemVisual(n,"style"),A=D.fill;if(o instanceof Li){var k=o.style;o.useStyle(Ce({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},D))}else o.__isEmptyBrush?o.useStyle(Ce({},D)):o.useStyle(D),o.style.decal=null,o.setColor(A,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var I=t.getItemVisual(n,"liftZ"),M=this._z2;I!=null?M==null&&(this._z2=o.z2,o.z2+=I):M!=null&&(o.z2=M,this._z2=null);var P=s&&s.useNameLabel;pa(o,m,{labelFetcher:l,labelDataIndex:n,defaultText:O,inheritColor:A,defaultOpacity:D.opacity});function O(j){return P?t.getName(j):Ym(t,j)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var N=o.ensureState("emphasis");N.style=u,o.ensureState("select").style=f,o.ensureState("blur").style=c;var G=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;N.scaleX=this._sizeX*G,N.scaleY=this._sizeY*G,this.setSymbolScale(1),fn(this,h,p,v)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,i){var a=this.childAt(0),s=dt(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&id(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();id(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,n){return My(t.getItemVisual(n,"symbolSize"))},e}(ft);function HZe(r,e){this.parent.drift(r,e)}function XP(r,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function FY(r){return r!=null&&!ot(r)&&(r={isIgnore:r}),r||{}}function BY(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Mi(e),cursorStyle:e.get("cursor")}}var Fb=function(){function r(e){this.group=new ft,this._SymbolCtor=e||Nb}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=FY(t);var n=this.group,i=e.hostModel,a=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=BY(e),u={disableAnimation:o},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||n.removeAll(),e.diff(a).add(function(f){var h=c(f);if(XP(e,h,f,t)){var p=new s(e,f,l,u);p.setPosition(h),e.setItemGraphicEl(f,p),n.add(p)}}).update(function(f,h){var p=a.getItemGraphicEl(h),v=c(f);if(!XP(e,v,f,t)){n.remove(p);return}var m=e.getItemVisual(f,"symbol")||"circle",y=p&&p.getSymbolType&&p.getSymbolType();if(!p||y&&y!==m)n.remove(p),p=new s(e,f,l,u),p.setPosition(v);else{p.updateData(e,f,l,u);var x={x:v[0],y:v[1]};o?p.attr(x):rr(p,x,i)}n.add(p),e.setItemGraphicEl(f,p)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){n.remove(h)},i)}).execute(),this._getSymbolPoint=c,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=BY(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=FY(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=t.getItemLayout(a);if(XP(t,s,a,n)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(e){yd(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},n.hostModel)}):t.removeAll()},r}();function pfe(r,e,t){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=GZe(i,t),s=n.dim,o=i.dim,l=e.mapDimension(o),u=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,f=Pe(r.dimensions,function(v){return e.mapDimension(v)}),h=!1,p=e.getCalculationInfo("stackResultDimension");return ff(e,f[0])&&(h=!0,f[0]=p),ff(e,f[1])&&(h=!0,f[1]=p),{dataDimsForPoint:f,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function GZe(r,e){var t=0,n=r.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:tr(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function vfe(r,e,t,n){var i=NaN;r.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,s=[];return s[a]=t.get(r.baseDim,n),s[1-a]=i,e.dataToPoint(s)}function jZe(r,e){var t=[];return e.diff(r).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,i){t.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function WZe(r,e,t,n,i,a,s,o){for(var l=jZe(r,e),u=[],c=[],f=[],h=[],p=[],v=[],m=[],y=pfe(i,e,s),x=r.getLayout("points")||[],w=e.getLayout("points")||[],b=0;b<l.length;b++){var T=l[b],C=!0,D=void 0,A=void 0;switch(T.cmd){case"=":D=T.idx*2,A=T.idx1*2;var k=x[D],I=x[D+1],M=w[A],P=w[A+1];(isNaN(k)||isNaN(I))&&(k=M,I=P),u.push(k,I),c.push(M,P),f.push(t[D],t[D+1]),h.push(n[A],n[A+1]),m.push(e.getRawIndex(T.idx1));break;case"+":var O=T.idx,N=y.dataDimsForPoint,G=i.dataToPoint([e.get(N[0],O),e.get(N[1],O)]);A=O*2,u.push(G[0],G[1]),c.push(w[A],w[A+1]);var j=vfe(y,i,e,O);f.push(j[0],j[1]),h.push(n[A],n[A+1]),m.push(e.getRawIndex(O));break;case"-":C=!1}C&&(p.push(T),v.push(v.length))}v.sort(function(se,de){return m[se]-m[de]});for(var U=u.length,X=ku(U),ie=ku(U),Z=ku(U),W=ku(U),Q=[],b=0;b<v.length;b++){var H=v[b],ee=b*2,J=H*2;X[ee]=u[J],X[ee+1]=u[J+1],ie[ee]=c[J],ie[ee+1]=c[J+1],Z[ee]=f[J],Z[ee+1]=f[J+1],W[ee]=h[J],W[ee+1]=h[J+1],Q[b]=p[H]}return{current:X,next:ie,stackedOnCurrent:Z,stackedOnNext:W,status:Q}}var Zf=Math.min,Qf=Math.max;function gv(r,e){return isNaN(r)||isNaN(e)}function z4(r,e,t,n,i,a,s,o,l){for(var u,c,f,h,p,v,m=t,y=0;y<n;y++){var x=e[m*2],w=e[m*2+1];if(m>=i||m<0)break;if(gv(x,w)){if(l){m+=a;continue}break}if(m===t)r[a>0?"moveTo":"lineTo"](x,w),f=x,h=w;else{var b=x-u,T=w-c;if(b*b+T*T<.5){m+=a;continue}if(s>0){for(var C=m+a,D=e[C*2],A=e[C*2+1];D===x&&A===w&&y<n;)y++,C+=a,m+=a,D=e[C*2],A=e[C*2+1],x=e[m*2],w=e[m*2+1],b=x-u,T=w-c;var k=y+1;if(l)for(;gv(D,A)&&k<n;)k++,C+=a,D=e[C*2],A=e[C*2+1];var I=.5,M=0,P=0,O=void 0,N=void 0;if(k>=n||gv(D,A))p=x,v=w;else{M=D-u,P=A-c;var G=x-u,j=D-x,U=w-c,X=A-w,ie=void 0,Z=void 0;if(o==="x"){ie=Math.abs(G),Z=Math.abs(j);var W=M>0?1:-1;p=x-W*ie*s,v=w,O=x+W*Z*s,N=w}else if(o==="y"){ie=Math.abs(U),Z=Math.abs(X);var Q=P>0?1:-1;p=x,v=w-Q*ie*s,O=x,N=w+Q*Z*s}else ie=Math.sqrt(G*G+U*U),Z=Math.sqrt(j*j+X*X),I=Z/(Z+ie),p=x-M*s*(1-I),v=w-P*s*(1-I),O=x+M*s*I,N=w+P*s*I,O=Zf(O,Qf(D,x)),N=Zf(N,Qf(A,w)),O=Qf(O,Zf(D,x)),N=Qf(N,Zf(A,w)),M=O-x,P=N-w,p=x-M*ie/Z,v=w-P*ie/Z,p=Zf(p,Qf(u,x)),v=Zf(v,Qf(c,w)),p=Qf(p,Zf(u,x)),v=Qf(v,Zf(c,w)),M=x-p,P=w-v,O=x+M*Z/ie,N=w+P*Z/ie}r.bezierCurveTo(f,h,p,v,x,w),f=O,h=N}else r.lineTo(x,w)}u=x,c=w,m+=a}return y}var gfe=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),$Ze=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gfe},e.prototype.buildPath=function(t,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&gv(i[s*2-2],i[s*2-1]);s--);for(;a<s&&gv(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=z4(t,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Ju.CMD,o,l,u=n==="x",c=[],f=0;f<a.length;){var h=a[f++],p=void 0,v=void 0,m=void 0,y=void 0,x=void 0,w=void 0,b=void 0;switch(h){case s.M:o=a[f++],l=a[f++];break;case s.L:if(p=a[f++],v=a[f++],b=u?(t-o)/(p-o):(t-l)/(v-l),b<=1&&b>=0){var T=u?(v-l)*b+l:(p-o)*b+o;return u?[t,T]:[T,t]}o=p,l=v;break;case s.C:p=a[f++],v=a[f++],m=a[f++],y=a[f++],x=a[f++],w=a[f++];var C=u?jE(o,p,m,x,t,c):jE(l,v,y,w,t,c);if(C>0)for(var D=0;D<C;D++){var A=c[D];if(A<=1&&A>=0){var T=u?Ai(l,v,y,w,A):Ai(o,p,m,x,A);return u?[t,T]:[T,t]}}o=x,l=w;break}}},e}(Gt),qZe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gfe),mfe=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new qZe},e.prototype.buildPath=function(t,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&gv(i[o*2-2],i[o*2-1]);o--);for(;s<o&&gv(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=z4(t,i,s,o,o,1,n.smooth,l,n.connectNulls);z4(t,a,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,t.closePath()}},e}(Gt);function yfe(r,e,t,n,i){var a=r.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new Kt({shape:{x:s,y:o,width:l,height:u}});if(e){var h=r.getBaseAxis(),p=h.isHorizontal(),v=h.inverse;p?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var m=rt(i)?function(y){i(y,f)}:null;Zr(f,{shape:{width:l,height:u,x:s,y:o}},t,null,n,m)}return f}function _fe(r,e,t){var n=r.getArea(),i=yn(n.r0,1),a=yn(n.r,1),s=new Va({shape:{cx:yn(r.cx,1),cy:yn(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,Zr(s,{shape:{endAngle:n.endAngle,r:a}},t)}return s}function Bb(r,e,t,n,i){if(r){if(r.type==="polar")return _fe(r,e,t);if(r.type==="cartesian2d")return yfe(r,e,t,n,i)}else return null;return null}function og(r,e){return r.type===e}function VY(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function zY(r){for(var e=1/0,t=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var s=r[a++],o=r[a++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(o)||(t=Math.min(o,t),i=Math.max(o,i))}return[[e,t],[n,i]]}function UY(r,e){var t=zY(r),n=t[0],i=t[1],a=zY(e),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function HY(r){return tr(r)?r:r?.5:0}function YZe(r,e,t){if(!t.valueDim)return[];for(var n=e.count(),i=ku(n*2),a=0;a<n;a++){var s=vfe(t,r,e,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function Jf(r,e,t,n,i){var a=t.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],f=[],h=[];if(i){for(l=0;l<r.length;l+=2){var p=e||r;!isNaN(p[l])&&!isNaN(p[l+1])&&h.push(r[l],r[l+1])}r=h}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],o.push(c[0],c[1]),n){case"end":u[s]=f[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var v=(c[s]+f[s])/2,m=[];u[s]=m[s]=v,u[1-s]=c[1-s],m[1-s]=f[1-s],o.push(u[0],u[1]),o.push(m[0],m[1]);break;default:u[s]=c[s],u[1-s]=f[1-s],o.push(u[0],u[1])}return o.push(r[l++],r[l++]),o}function XZe(r,e){var t=[],n=r.length,i,a;function s(c,f,h){var p=c.coord,v=(h-p)/(f.coord-p),m=dB(v,[c.color,f.color]);return{coord:h,color:m}}for(var o=0;o<n;o++){var l=r[o],u=l.coord;if(u<0)i=l;else if(u>e){a?t.push(s(a,l,e)):i&&t.push(s(i,l,0),s(i,l,e));break}else i&&(t.push(s(i,l,0)),i=null),t.push(l),a=l}return t}function KZe(r,e,t){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&e.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=e.getAxis(i),u=Pe(a.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=XZe(u,i==="x"?t.getWidth():t.getHeight()),p=h.length;if(!p&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,m=h[0].coord-v,y=h[p-1].coord+v,x=y-m;if(x<.001)return"transparent";B(h,function(b){b.offset=(b.coord-m)/x}),h.push({offset:p?h[p-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:f[0]||"transparent"});var w=new by(0,0,0,0,h,!0);return w[i]=m,w[i+"2"]=y,w}}}function ZZe(r,e,t){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&QZe(a,e))){var s=e.mapDimension(a.dim),o={};return B(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function QZe(r,e){var t=r.getExtent(),n=Math.abs(t[1]-t[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(Nb.getSymbolSize(e,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function JZe(r,e){return isNaN(r)||isNaN(e)}function eQe(r){for(var e=r.length/2;e>0&&JZe(r[e*2-2],r[e*2-1]);e--);return e-1}function GY(r,e){return[r[e*2],r[e*2+1]]}function tQe(r,e,t){for(var n=r.length/2,i=t==="x"?0:1,a,s,o=0,l=-1,u=0;u<n;u++)if(s=r[u*2+i],!(isNaN(s)||isNaN(r[u*2+1-i]))){if(u===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=u;break}o=u,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function xfe(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<ds.length;e++)if(r.get([ds[e],"endLabel","show"]))return!0;return!1}function KP(r,e,t,n){if(og(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=xfe(n)?function(p,v){r._endLabelOnDuring(p,v,s,o,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=yfe(e,t,n,function(){var p=r._endLabel;p&&t&&o.originalX!=null&&p.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return _fe(e,t,n)}function rQe(r,e){var t=e.getBaseAxis(),n=t.isHorizontal(),i=t.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||s}}}var nQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new ft,n=new Fb;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=Ye(this._changePolyState,this)},e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=o.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,p=this._symbolDraw,v=this._polyline,m=this._polygon,y=this._lineGroup,x=!n.ssr&&t.get("animation"),w=!u.isEmpty(),b=u.get("origin"),T=pfe(a,o,b),C=w&&YZe(a,o,T),D=t.get("showSymbol"),A=t.get("connectNulls"),k=D&&!f&&ZZe(t,o,a),I=this._data;I&&I.eachItemGraphicEl(function(se,de){se.__temp&&(s.remove(se),I.setItemGraphicEl(de,null))}),D||p.remove(),s.add(y);var M=f?!1:t.get("step"),P;a&&a.getArea&&t.get("clip",!0)&&(P=a.getArea(),P.width!=null?(P.x-=.1,P.y-=.1,P.width+=.2,P.height+=.2):P.r0&&(P.r0-=.5,P.r+=.5)),this._clipShapeForSymbol=P;var O=KZe(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(v&&h.type===a.type&&M===this._step))D&&p.updateData(o,{isIgnore:k,clipShape:P,disableAnimation:!0,getSymbolPoint:function(se){return[c[se*2],c[se*2+1]]}}),x&&this._initSymbolLabelAnimation(o,a,P),M&&(C&&(C=Jf(C,c,a,M,A)),c=Jf(c,null,a,M,A)),v=this._newPolyline(c),w?m=this._newPolygon(c,C):m&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Fv(O)),y.setClipPath(KP(this,a,!0,t));else{w&&!m?m=this._newPolygon(c,C):m&&!w&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,Fv(O));var N=y.getClipPath();if(N){var G=KP(this,a,!1,t);Zr(N,{shape:G.shape},t)}else y.setClipPath(KP(this,a,!0,t));D&&p.updateData(o,{isIgnore:k,clipShape:P,disableAnimation:!0,getSymbolPoint:function(se){return[c[se*2],c[se*2+1]]}}),(!VY(this._stackedOnPoints,C)||!VY(this._points,c))&&(x?this._doUpdateAnimation(o,C,a,i,M,b,A):(M&&(C&&(C=Jf(C,c,a,M,A)),c=Jf(c,null,a,M,A)),v.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:C})))}var j=t.getModel("emphasis"),U=j.get("focus"),X=j.get("blurScope"),ie=j.get("disabled");if(v.useStyle(st(l.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"})),da(v,t,"lineStyle"),v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var Z=v.getState("emphasis").style;Z.lineWidth=+v.style.lineWidth+1}dt(v).seriesIndex=t.seriesIndex,fn(v,U,X,ie);var W=HY(t.get("smooth")),Q=t.get("smoothMonotone");if(v.setShape({smooth:W,smoothMonotone:Q,connectNulls:A}),m){var H=o.getCalculationInfo("stackedOnSeries"),ee=0;m.useStyle(st(u.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),H&&(ee=HY(H.get("smooth"))),m.setShape({smooth:W,stackedOnSmooth:ee,smoothMonotone:Q,connectNulls:A}),da(m,t,"areaStyle"),dt(m).seriesIndex=t.seriesIndex,fn(m,U,X,ie)}var J=this._changePolyState;o.eachItemGraphicEl(function(se){se&&(se.onHoverStateChange=J)}),this._polyline.onHoverStateChange=J,this._data=o,this._coordSys=a,this._stackedOnPoints=C,this._points=c,this._step=M,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,v),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,n){dt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,i,a){var s=t.getData(),o=Lv(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],f=l[o*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=t.get("zlevel")||0,p=t.get("z")||0;u=new Nb(s,o),u.x=c,u.y=f,u.setZ(h,p);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=p,v.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Cr.prototype.highlight.call(this,t,n,i,a)},e.prototype.downplay=function(t,n,i,a){var s=t.getData(),o=Lv(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Cr.prototype.downplay.call(this,t,n,i,a)},e.prototype._changePolyState=function(t){var n=this._polygon;ZE(this._polyline,t),n&&ZE(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new $Ze({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new mfe({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");rt(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=rt(f)?f(null):f;t.eachItemGraphicEl(function(p,v){var m=p;if(m){var y=[p.x,p.y],x=void 0,w=void 0,b=void 0;if(i)if(s){var T=i,C=n.pointToCoord(y);a?(x=T.startAngle,w=T.endAngle,b=-C[1]/180*Math.PI):(x=T.r0,w=T.r,b=C[0])}else{var D=i;a?(x=D.x,w=D.x+D.width,b=p.x):(x=D.y+D.height,w=D.y,b=p.y)}var A=w===x?0:(b-x)/(w-x);l&&(A=1-A);var k=rt(f)?f(v):c*A+h,I=m.getSymbolPath(),M=I.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:k}),I.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,i){var a=t.getModel("endLabel");if(xfe(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Xt({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=eQe(l);c>=0&&(pa(o,Mi(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(f,h,p){return p!=null?dfe(s,p):Ym(s,f)},enableTextSetter:!0},rQe(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,i,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),h=i.hostModel,p=h.get("connectNulls"),v=o.get("precision"),m=o.get("distance")||0,y=l.getBaseAxis(),x=y.isHorizontal(),w=y.inverse,b=n.shape,T=w?x?b.x:b.y+b.height:x?b.x+b.width:b.y,C=(x?m:0)*(w?-1:1),D=(x?0:-m)*(w?-1:1),A=x?"x":"y",k=tQe(f,T,A),I=k.range,M=I[1]-I[0],P=void 0;if(M>=1){if(M>1&&!p){var O=GY(f,I[0]);u.attr({x:O[0]+C,y:O[1]+D}),s&&(P=h.getRawValue(I[0]))}else{var O=c.getPointOn(T,A);O&&u.attr({x:O[0]+C,y:O[1]+D});var N=h.getRawValue(I[0]),G=h.getRawValue(I[1]);s&&(P=nle(i,v,N,G,k.t))}a.lastFrameIndex=I[0]}else{var j=t===1||a.lastFrameIndex>0?I[0]:0,O=GY(f,j);s&&(P=h.getRawValue(j)),u.attr({x:O[0]+C,y:O[1]+D})}if(s){var U=Ay(u);typeof U.setLabelText=="function"&&U.setLabelText(P)}}},e.prototype._doUpdateAnimation=function(t,n,i,a,s,o,l){var u=this._polyline,c=this._polygon,f=t.hostModel,h=WZe(this._data,t,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),p=h.current,v=h.stackedOnCurrent,m=h.next,y=h.stackedOnNext;if(s&&(v=Jf(h.stackedOnCurrent,h.current,i,s,l),p=Jf(h.current,null,i,s,l),y=Jf(h.stackedOnNext,h.next,i,s,l),m=Jf(h.next,null,i,s,l)),UY(p,m)>3e3||c&&UY(v,y)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:y}));return}u.shape.__points=h.current,u.shape.points=p;var x={shape:{points:m}};h.current!==p&&(x.shape.__points=h.next),u.stopAnimation(),rr(u,x,f),c&&(c.setShape({points:p,stackedOnPoints:v}),c.stopAnimation(),rr(c,{shape:{stackedOnPoints:y}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var w=[],b=h.status,T=0;T<b.length;T++){var C=b[T].cmd;if(C==="="){var D=t.getItemGraphicEl(b[T].idx1);D&&w.push({el:D,ptIdx:T})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var A=u.shape.__points,k=0;k<w.length;k++){var I=w[k].el,M=w[k].ptIdx*2;I.x=A[M],I.y=A[M+1],I.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Cr);function Vb(r,e){return{seriesType:r,plan:Ry(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,s=e||a.large;if(i){var o=Pe(i.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=o.length,u=n.getCalculationInfo("stackResultDimension");ff(n,o[0])&&(o[0]=u),ff(n,o[1])&&(o[1]=u);var c=n.getStore(),f=n.getDimensionIndex(o[0]),h=n.getDimensionIndex(o[1]);return l&&{progress:function(p,v){for(var m=p.end-p.start,y=s&&ku(m*l),x=[],w=[],b=p.start,T=0;b<p.end;b++){var C=void 0;if(l===1){var D=c.get(f,b);C=i.dataToPoint(D,null,w)}else x[0]=c.get(f,b),x[1]=c.get(h,b),C=i.dataToPoint(x,null,w);s?(y[T++]=C[0],y[T++]=C[1]):v.setItemLayout(b,C.slice())}s&&v.setLayout("points",y)}}}}}}var iQe={average:function(r){for(var e=0,t=0,n=0;n<r.length;n++)isNaN(r[n])||(e+=r[n],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},aQe=function(r){return Math.round(r.length/2)};function wfe(r){return{seriesType:r,reset:function(e,t,n){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),p=Math.round(o/h);if(isFinite(p)&&p>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/p)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/p));var v=void 0;$e(a)?v=iQe[a]:rt(a)&&(v=a),v&&e.setData(i.downSample(i.mapDimension(u.dim),1/p,v,aQe))}}}}}function sQe(r){r.registerChartView(nQe),r.registerSeriesModel(UZe),r.registerLayout(Vb("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,wfe("line"))}var kw=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return ac(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)B(a.getAxes(),function(h,p){if(h.type==="category"&&n!=null){var v=h.getTicksCoords(),m=h.getTickModel().get("alignWithLabel"),y=s[p],x=n[p]==="x1"||n[p]==="y1";if(x&&!m&&(y+=1),v.length<2)return;if(v.length===2){o[p]=h.toGlobalCoord(h.getExtent()[x?1:0]);return}for(var w=void 0,b=void 0,T=1,C=0;C<v.length;C++){var D=v[C].coord,A=C===v.length-1?v[C-1].tickValue+T:v[C].tickValue;if(A===y){b=D;break}else if(A<y)w=D;else if(w!=null&&A>y){b=(D+w)/2;break}C===1&&(T=A-v[0].tickValue)}b==null&&(w?w&&(b=v[v.length-1].coord):b=v[0].coord),o[p]=h.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;o[f]+=u+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Lr);Lr.registerClass(kw);var oQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return ac(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,i){return i.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=_d(kw.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(kw),lQe=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),yC=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new lQe},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,c=n.startAngle,f=n.endAngle,h=n.clockwise,p=Math.PI*2,v=h?f-c<p:c-f<p;v||(c=f-(h?p:-p));var m=Math.cos(c),y=Math.sin(c),x=Math.cos(f),w=Math.sin(f);v?(t.moveTo(m*s+i,y*s+a),t.arc(m*u+i,y*u+a,l,-Math.PI+c,c,!h)):t.moveTo(m*o+i,y*o+a),t.arc(i,a,o,c,f,!h),t.arc(x*u+i,w*u+a,l,f-Math.PI*2,f-Math.PI,!h),s!==0&&t.arc(i,a,s,f,c,h)},e}(Gt);function uQe(r,e){e=e||{};var t=e.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return XE(n,i,a);var o=r(s),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,p=u.r0,v=(h+p)/2,m=u.startAngle,y=u.endAngle,x=(m+y)/2,w=t?Math.abs(h-p)/2:0,b=Math.cos,T=Math.sin,C=c+h*b(m),D=f+h*T(m),A="left",k="top";switch(o){case"startArc":C=c+(p-l)*b(x),D=f+(p-l)*T(x),A="center",k="top";break;case"insideStartArc":C=c+(p+l)*b(x),D=f+(p+l)*T(x),A="center",k="bottom";break;case"startAngle":C=c+v*b(m)+S2(m,l+w,!1),D=f+v*T(m)+T2(m,l+w,!1),A="right",k="middle";break;case"insideStartAngle":C=c+v*b(m)+S2(m,-l+w,!1),D=f+v*T(m)+T2(m,-l+w,!1),A="left",k="middle";break;case"middle":C=c+v*b(x),D=f+v*T(x),A="center",k="middle";break;case"endArc":C=c+(h+l)*b(x),D=f+(h+l)*T(x),A="center",k="bottom";break;case"insideEndArc":C=c+(h-l)*b(x),D=f+(h-l)*T(x),A="center",k="top";break;case"endAngle":C=c+v*b(y)+S2(y,l+w,!0),D=f+v*T(y)+T2(y,l+w,!0),A="left",k="middle";break;case"insideEndAngle":C=c+v*b(y)+S2(y,-l+w,!0),D=f+v*T(y)+T2(y,-l+w,!0),A="right",k="middle";break;default:return XE(n,i,a)}return n=n||{},n.x=C,n.y=D,n.align=A,n.verticalAlign=k,n}}function cQe(r,e,t,n){if(tr(n)){r.setTextConfig({rotation:n});return}else if(ke(e)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function S2(r,e,t){return e*Math.sin(r)*(t?-1:1)}function T2(r,e,t){return e*Math.cos(r)*(t?1:-1)}function rv(r,e,t){var n=r.get("borderRadius");if(n==null)return t?{cornerRadius:0}:null;ke(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Pe(n,function(a){return Wl(a,i)})}}var ZP=Math.max,QP=Math.min;function fQe(r,e){var t=r.getArea&&r.getArea();if(og(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var hQe=function(r){ge(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,i):this._renderNormal(t,n,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){yd(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,i,a){var s=this.group,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,p=dQe(t,u);p&&this._enableRealtimeSort(p,o,i);var v=t.get("clip",!0)||p,m=fQe(u,o);s.removeClipPath();var y=t.get("roundCap",!0),x=t.get("showBackground",!0),w=t.getModel("backgroundStyle"),b=w.get("borderRadius")||0,T=[],C=this._backgroundEls,D=a&&a.isInitSort,A=a&&a.type==="changeAxisOrder";function k(P){var O=A2[u.type](o,P),N=xQe(u,f,O);return N.useStyle(w.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",b):N.setShape("cornerRadius",b),T[P]=N,N}o.diff(l).add(function(P){var O=o.getItemModel(P),N=A2[u.type](o,P,O);if(x&&k(P),!(!o.hasValue(P)||!YY[u.type](N))){var G=!1;v&&(G=jY[u.type](m,N));var j=WY[u.type](t,o,P,N,f,h,c.model,!1,y);p&&(j.forceLabelAnimation=!0),XY(j,o,P,O,N,t,f,u.type==="polar"),D?j.attr({shape:N}):p?$Y(p,h,j,N,P,f,!1,!1):Zr(j,{shape:N},t,P),o.setItemGraphicEl(P,j),s.add(j),j.ignore=G}}).update(function(P,O){var N=o.getItemModel(P),G=A2[u.type](o,P,N);if(x){var j=void 0;C.length===0?j=k(O):(j=C[O],j.useStyle(w.getItemStyle()),u.type==="cartesian2d"?j.setShape("r",b):j.setShape("cornerRadius",b),T[P]=j);var U=A2[u.type](o,P),X=Sfe(f,U,u);rr(j,{shape:X},h,P)}var ie=l.getItemGraphicEl(O);if(!o.hasValue(P)||!YY[u.type](G)){s.remove(ie);return}var Z=!1;if(v&&(Z=jY[u.type](m,G),Z&&s.remove(ie)),ie?$l(ie):ie=WY[u.type](t,o,P,G,f,h,c.model,!!ie,y),p&&(ie.forceLabelAnimation=!0),A){var W=ie.getTextContent();if(W){var Q=Ay(W);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else XY(ie,o,P,N,G,t,f,u.type==="polar");D?ie.attr({shape:G}):p?$Y(p,h,ie,G,P,f,!0,A):rr(ie,{shape:G},t,P,null),o.setItemGraphicEl(P,ie),ie.ignore=Z,s.add(ie)}).remove(function(P){var O=l.getItemGraphicEl(P);O&&ww(O,t,P)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new ft);I.removeAll();for(var M=0;M<T.length;++M)I.add(T[M]);s.add(I),this._backgroundEls=T,this._data=o},e.prototype._renderLarge=function(t,n,i){this._clear(),ZY(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),ZY(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&Bb(t.coordinateSystem,!1,t),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,i){var a=this;if(n.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,i),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,i){var a=[];return t.each(t.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Pe(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(t.indexOfRawIndex(c));if(f>o)return!0;o=f}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,n,i,a){if(this._isOrderChangedWithinSameData(t,n,i)){var s=this._dataSort(t,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,n,i){var a=n.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){ww(a,t,dt(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Cr),jY={cartesian2d:function(r,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=r.x+r.width,a=r.y+r.height,s=ZP(e.x,r.x),o=QP(e.x+e.width,i),l=ZP(e.y,r.y),u=QP(e.y+e.height,a),c=o<s,f=u<l;return e.x=c&&s>i?o:s,e.y=f&&l>a?u:l,e.width=c?0:o-s,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var i=QP(e.r,r.r),a=ZP(e.r0,r.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return s}},WY={cartesian2d:function(r,e,t,n,i,a,s,o,l){var u=new Kt({shape:Ce({},n),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(r,e,t,n,i,a,s,o,l){var u=!i&&l?yC:Va,c=new u({shape:n,z2:1});c.name="item";var f=bfe(i);if(c.calculateTextPosition=uQe(f,{isRoundCap:u===yC}),a){var h=c.shape,p=i?"r":"endAngle",v={};h[p]=i?n.r0:n.startAngle,v[p]=n[p],(o?rr:Zr)(c,{shape:v},a)}return c}};function dQe(r,e){var t=r.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function $Y(r,e,t,n,i,a,s,o){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?rr:Zr)(t,{shape:l},e,i,null);var c=e?r.baseAxis.model:null;(s?rr:Zr)(t,{shape:u},c,i)}function qY(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var pQe=["x","y","width","height"],vQe=["cx","cy","r","startAngle","endAngle"],YY={cartesian2d:function(r){return!qY(r,pQe)},polar:function(r){return!qY(r,vQe)}},A2={cartesian2d:function(r,e,t){var n=r.getItemLayout(e),i=t?mQe(t,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(r,e,t){var n=r.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function gQe(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function bfe(r){return function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}}(r)}function XY(r,e,t,n,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var c=r.shape,f=rv(n.getModel("itemStyle"),c,!0);Ce(c,f),r.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var h=n.getShallow("cursor");h&&r.attr("cursor",h);var p=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=Mi(n);pa(r,v,{labelFetcher:a,labelDataIndex:t,defaultText:Ym(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var m=r.getTextContent();if(o&&m){var y=n.get(["label","position"]);r.textConfig.inside=y==="middle"?!0:null,cQe(r,y==="outside"?p:y,bfe(s),n.get(["label","rotate"]))}Ule(m,v,a.getRawValue(t),function(w){return dfe(e,w)});var x=n.getModel(["emphasis"]);fn(r,x.get("focus"),x.get("blurScope"),x.get("disabled")),da(r,n),gQe(i)&&(r.style.fill="none",r.style.stroke="none",B(r.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function mQe(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var yQe=function(){function r(){}return r}(),KY=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new yQe},e.prototype.buildPath=function(t,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[s]=i[c+2],o[a]=i[c+a],o[s]=i[c+s],t.rect(o[0],o[1],l[0],l[1])},e}(Gt);function ZY(r,e,t,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new KY({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new KY({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=s,f.barWidth=o,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,dt(f).seriesIndex=r.seriesIndex,r.get("silent")||(f.on("mousedown",QY),f.on("mousemove",QY)),t&&t.push(f)}var QY=aI(function(r){var e=this,t=_Qe(e,r.offsetX,r.offsetY);dt(e).dataIndex=t>=0?t:null},30,!1);function _Qe(r,e,t){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,s=r.largeDataIndices,o=[],l=[],u=r.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[n]=u,l[i]=a[h+2],o[n]=a[h+n],o[i]=a[h+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[c]}return-1}function Sfe(r,e,t){if(og(t,"cartesian2d")){var n=e,i=t.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function xQe(r,e,t){var n=r.type==="polar"?Va:Kt;return new n({shape:Sfe(e,t,r),silent:!0,z2:0})}function wQe(r){r.registerChartView(hQe),r.registerSeriesModel(oQe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,gt(Dce,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ice("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,wfe("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var JY=Math.PI*2,E2=Math.PI/180;function Tfe(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Afe(r,e){var t=Tfe(r,e),n=r.get("center"),i=r.get("radius");ke(i)||(i=[0,i]);var a=We(t.width,e.getWidth()),s=We(t.height,e.getHeight()),o=Math.min(a,s),l=We(i[0],o/2),u=We(i[1],o/2),c,f,h=r.coordinateSystem;if(h){var p=h.dataToPoint(n);c=p[0]||0,f=p[1]||0}else ke(n)||(n=[n,n]),c=We(n[0],a)+t.x,f=We(n[1],s)+t.y;return{cx:c,cy:f,r0:l,r:u}}function bQe(r,e,t){e.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),s=Tfe(n,t),o=Afe(n,t),l=o.cx,u=o.cy,c=o.r,f=o.r0,h=-n.get("startAngle")*E2,p=n.get("endAngle"),v=n.get("padAngle")*E2;p=p==="auto"?h-JY:-p*E2;var m=n.get("minAngle")*E2,y=m+v,x=0;i.each(a,function(X){!isNaN(X)&&x++});var w=i.getSum(a),b=Math.PI/(w||x)*2,T=n.get("clockwise"),C=n.get("roseType"),D=n.get("stillShowZeroSum"),A=i.getDataExtent(a);A[0]=0;var k=T?1:-1,I=[h,p],M=k*v/2;TB(I,!T),h=I[0],p=I[1];var P=Efe(n);P.startAngle=h,P.endAngle=p,P.clockwise=T;var O=Math.abs(p-h),N=O,G=0,j=h;if(i.setLayout({viewRect:s,r:c}),i.each(a,function(X,ie){var Z;if(isNaN(X)){i.setItemLayout(ie,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:T,cx:l,cy:u,r0:f,r:C?NaN:c});return}C!=="area"?Z=w===0&&D?b:X*b:Z=O/x,Z<y?(Z=y,N-=y):G+=X;var W=j+k*Z,Q=0,H=0;v>Z?(Q=j+k*Z/2,H=Q):(Q=j+M,H=W-M),i.setItemLayout(ie,{angle:Z,startAngle:Q,endAngle:H,clockwise:T,cx:l,cy:u,r0:f,r:C?fr(X,A,[f,c]):c}),j=W}),N<JY&&x)if(N<=.001){var U=O/x;i.each(a,function(X,ie){if(!isNaN(X)){var Z=i.getItemLayout(ie);Z.angle=U;var W=0,Q=0;U<v?(W=h+k*(ie+1/2)*U,Q=W):(W=h+k*ie*U+M,Q=h+k*(ie+1)*U-M),Z.startAngle=W,Z.endAngle=Q}})}else b=N/G,j=h,i.each(a,function(X,ie){if(!isNaN(X)){var Z=i.getItemLayout(ie),W=Z.angle===y?y:X*b,Q=0,H=0;W<v?(Q=j+k*W/2,H=Q):(Q=j+M,H=j+k*W-M),Z.startAngle=Q,Z.endAngle=H,j+=k*W}})})}var Efe=Qt();function zb(r){return{seriesType:r,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var SQe=Math.PI/180;function eX(r,e,t,n,i,a,s,o,l,u){if(r.length<2)return;function c(m){for(var y=m.rB,x=y*y,w=0;w<m.list.length;w++){var b=m.list[w],T=Math.abs(b.label.y-t),C=n+b.len,D=C*C,A=Math.sqrt(Math.abs((1-T*T/x)*D)),k=e+(A+b.len2)*i,I=k-b.label.x,M=b.targetTextWidth-I*i;Cfe(b,M,!0),b.label.x=k}}function f(m){for(var y={list:[],maxY:0},x={list:[],maxY:0},w=0;w<m.length;w++)if(m[w].labelAlignTo==="none"){var b=m[w],T=b.label.y>t?x:y,C=Math.abs(b.label.y-t);if(C>=T.maxY){var D=b.label.x-e-b.len2*i,A=n+b.len,k=Math.abs(D)<A?Math.sqrt(C*C/(1-D*D/A/A)):A;T.rB=k,T.maxY=C}T.list.push(b)}c(y),c(x)}for(var h=r.length,p=0;p<h;p++)if(r[p].position==="outer"&&r[p].labelAlignTo==="labelLine"){var v=r[p].label.x-u;r[p].linePoints[1][0]+=v,r[p].label.x=u}Kce(r,l,l+s)&&f(r)}function TQe(r,e,t,n,i,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<r.length;h++){var p=r[h].label;JP(r[h])||(p.x<e?(c=Math.min(c,p.x),l.push(r[h])):(f=Math.max(f,p.x),u.push(r[h])))}for(var h=0;h<r.length;h++){var v=r[h];if(!JP(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var p=v.label,m=v.linePoints,y=void 0;v.labelAlignTo==="edge"?p.x<e?y=m[2][0]-v.labelDistance-s-v.edgeDistance:y=s+i-v.edgeDistance-m[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?p.x<e?y=c-s-v.bleedMargin:y=s+i-f-v.bleedMargin:p.x<e?y=p.x-s-v.bleedMargin:y=s+i-p.x-v.bleedMargin,v.targetTextWidth=y,Cfe(v,y)}}eX(u,e,t,n,1,i,a,s,o,f),eX(l,e,t,n,-1,i,a,s,o,c);for(var h=0;h<r.length;h++){var v=r[h];if(!JP(v)&&v.linePoints){var p=v.label,m=v.linePoints,x=v.labelAlignTo==="edge",w=p.style.padding,b=w?w[1]+w[3]:0,T=p.style.backgroundColor?0:b,C=v.rect.width+T,D=m[1][0]-m[2][0];x?p.x<e?m[2][0]=s+v.edgeDistance+C+v.labelDistance:m[2][0]=s+i-v.edgeDistance-C-v.labelDistance:(p.x<e?m[2][0]=p.x+v.labelDistance:m[2][0]=p.x-v.labelDistance,m[1][0]=m[2][0]+D),m[1][1]=m[2][1]=p.y}}}function Cfe(r,e,t){if(t===void 0&&(t=!1),r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,c=a.width+(s?0:l);if(e<c||t){var f=a.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",s)}else{var p=e-l,v=e<c?p:t?p>r.unconstrainedWidth?null:p:null;n.setStyle("width",v)}var m=n.getBoundingRect();a.width=m.width;var y=(n.style.margin||0)+2.1;a.height=m.height+y,a.y-=(a.height-f)/2}}}function JP(r){return r.position==="center"}function AQe(r){var e=r.getData(),t=[],n,i,a=!1,s=(r.get("minShowLabelAngle")||0)*SQe,o=e.getLayout("viewRect"),l=e.getLayout("r"),u=o.width,c=o.x,f=o.y,h=o.height;function p(D){D.ignore=!0}function v(D){if(!D.ignore)return!0;for(var A in D.states)if(D.states[A].ignore===!1)return!0;return!1}e.each(function(D){var A=e.getItemGraphicEl(D),k=A.shape,I=A.getTextContent(),M=A.getTextGuideLine(),P=e.getItemModel(D),O=P.getModel("label"),N=O.get("position")||P.get(["emphasis","label","position"]),G=O.get("distanceToLabelLine"),j=O.get("alignTo"),U=We(O.get("edgeDistance"),u),X=O.get("bleedMargin"),ie=P.getModel("labelLine"),Z=ie.get("length");Z=We(Z,u);var W=ie.get("length2");if(W=We(W,u),Math.abs(k.endAngle-k.startAngle)<s){B(I.states,p),I.ignore=!0,M&&(B(M.states,p),M.ignore=!0);return}if(v(I)){var Q=(k.startAngle+k.endAngle)/2,H=Math.cos(Q),ee=Math.sin(Q),J,se,de,Me;n=k.cx,i=k.cy;var Se=N==="inside"||N==="inner";if(N==="center")J=k.cx,se=k.cy,Me="center";else{var xe=(Se?(k.r+k.r0)/2*H:k.r*H)+n,Te=(Se?(k.r+k.r0)/2*ee:k.r*ee)+i;if(J=xe+H*3,se=Te+ee*3,!Se){var Oe=xe+H*(Z+l-k.r),ne=Te+ee*(Z+l-k.r),pt=Oe+(H<0?-1:1)*W,tt=ne;j==="edge"?J=H<0?c+U:c+u-U:J=pt+(H<0?-G:G),se=tt,de=[[xe,Te],[Oe,ne],[pt,tt]]}Me=Se?"center":j==="edge"?H>0?"right":"left":H>0?"left":"right"}var ct=Math.PI,it=0,He=O.get("rotate");if(tr(He))it=He*(ct/180);else if(N==="center")it=0;else if(He==="radial"||He===!0){var xt=H<0?-Q+ct:-Q;it=xt}else if(He==="tangential"&&N!=="outside"&&N!=="outer"){var gr=Math.atan2(H,ee);gr<0&&(gr=ct*2+gr);var Jr=ee>0;Jr&&(gr=ct+gr),it=gr-ct}if(a=!!it,I.x=J,I.y=se,I.rotation=it,I.setStyle({verticalAlign:"middle"}),Se){I.setStyle({align:Me});var Nt=I.states.select;Nt&&(Nt.x+=I.x,Nt.y+=I.y)}else{var Ve=I.getBoundingRect().clone();Ve.applyTransform(I.getComputedTransform());var At=(I.style.margin||0)+2.1;Ve.y-=At/2,Ve.height+=At,t.push({label:I,labelLine:M,position:N,len:Z,len2:W,minTurnAngle:ie.get("minTurnAngle"),maxSurfaceAngle:ie.get("maxSurfaceAngle"),surfaceNormal:new bt(H,ee),linePoints:de,textAlign:Me,labelDistance:G,labelAlignTo:j,edgeDistance:U,bleedMargin:X,rect:Ve,unconstrainedWidth:Ve.width,labelStyleWidth:I.style.width})}A.setTextConfig({inside:Se})}}),!a&&r.get("avoidLabelOverlap")&&TQe(t,n,i,l,u,h,c,f);for(var m=0;m<t.length;m++){var y=t[m],x=y.label,w=y.labelLine,b=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:y.textAlign}),b&&(B(x.states,p),x.ignore=!0);var T=x.states.select;T&&(T.x+=x.x,T.y+=x.y)}if(w){var C=y.linePoints;b||!C?(B(w.states,p),w.ignore=!0):(qce(C,y.minTurnAngle),YKe(C,y.surfaceNormal,y.maxSurfaceAngle),w.setShape({points:C}),x.__hostTarget.textGuideLineConfig={anchor:new bt(C[0][0],C[0][1])})}}}var EQe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;a.z2=2;var s=new Xt;return a.setTextContent(s),a.updateData(t,n,i,!0),a}return e.prototype.updateData=function(t,n,i,a){var s=this,o=t.hostModel,l=t.getItemModel(n),u=l.getModel("emphasis"),c=t.getItemLayout(n),f=Ce(rv(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){s.setShape(f);return}if(a){s.setShape(f);var h=o.getShallow("animationType");o.ecModel.ssr?(Zr(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):h==="scale"?(s.shape.r=c.r0,Zr(s,{shape:{r:c.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Zr(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,n)):(s.shape.endAngle=c.startAngle,rr(s,{shape:{endAngle:c.endAngle}},o,n))}else $l(s),rr(s,{shape:f},o,n);s.useStyle(t.getItemVisual(n,"style")),da(s,l);var p=(c.startAngle+c.endAngle)/2,v=o.get("selectedOffset"),m=Math.cos(p)*v,y=Math.sin(p)*v,x=l.getShallow("cursor");x&&s.attr("cursor",x),this._updateLabel(o,t,n),s.ensureState("emphasis").shape=Ce({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},rv(u.getModel("itemStyle"),c)),Ce(s.ensureState("select"),{x:m,y,shape:rv(l.getModel(["select","itemStyle"]),c)}),Ce(s.ensureState("blur"),{shape:rv(l.getModel(["blur","itemStyle"]),c)});var w=s.getTextGuideLine(),b=s.getTextContent();w&&Ce(w.ensureState("select"),{x:m,y}),Ce(b.ensureState("select"),{x:m,y}),fn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;pa(a,Mi(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=t.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ga,this.setTextGuideLine(p)),_V(this,xV(s),{stroke:u,opacity:Ol(o.get(["lineStyle","opacity"]),c,1)})}},e}(Va),CQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i,a){var s=t.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<s.count();++f)c=s.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var h=Efe(t),p=new Va({shape:Ce(Afe(t,i),h)});p.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}s.diff(o).add(function(v){var m=new EQe(s,v,u);s.setItemGraphicEl(v,m),l.add(m)}).update(function(v,m){var y=o.getItemGraphicEl(m);y.updateData(s,v,u),y.off("click"),l.add(y),s.setItemGraphicEl(v,y)}).remove(function(v){var m=o.getItemGraphicEl(v);ww(m,t,v)}).execute(),AQe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(Cr);function Ny(r,e,t){e=ke(e)&&{coordDimensions:e}||Ce({encodeDefine:r.getEncode()},e);var n=r.getSource(),i=Py(n,e).dimensions,a=new La(i,r);return a.initData(n,t),a}var Ub=function(){function r(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return r.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},r.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},r.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},r.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},r}(),DQe=Qt(),IQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ub(Ye(this.getData,this),Ye(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Ny(this,{coordDimensions:["value"],encodeDefaulter:gt(qB,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),i=DQe(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=Yoe(s,n.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){Pv(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Lr);function RQe(r){return{seriesType:r,reset:function(e,t){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(tr(s)&&!isNaN(s)&&s<0)})}}}function kQe(r){r.registerChartView(CQe),r.registerSeriesModel(IQe),jue("pie",r.registerAction),r.registerLayout(gt(bQe,"pie")),r.registerProcessor(zb("pie")),r.registerProcessor(RQe("pie"))}var MQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return ac(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Lr),Dfe=4,PQe=function(){function r(){}return r}(),LQe=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new PQe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<Dfe,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var h=i[f++],p=i[f++];isNaN(h)||isNaN(p)||c&&!c.contain(h,p)||(o.x=h-a[0]/2,o.y=p-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,i=t.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],u=n[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-o/2,h=a[c+1]-l/2;if(t>=f&&n>=h&&t<=f+o&&n<=h+l)return u}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<i.length;){var p=i[h++],v=i[h++];l=Math.min(p,l),c=Math.max(p,c),u=Math.min(v,u),f=Math.max(v,f)}t=this._rect=new Tt(l-s/2,u-o/2,c-l+s,f-u+o)}return t},e}(Gt),OQe=function(){function r(){this.group=new ft}return r.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},r.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}n.setShape("points",t),n.reset()})},r.prototype.incrementalPrepareUpdate=function(e){this._clear()},r.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],a=t.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,n)}},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new LQe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=n.clipShape||null,e.symbolProxy=Vn(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<Dfe;e.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=dt(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),NQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=Vb("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new OQe:new Fb,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Cr),FQe=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Ut),U4=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Qn).models[0]},e.type="cartesian2dAxis",e}(Ut);Cn(U4,Oy);var Ife={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},BQe=_t({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ife),CV=_t({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ife),VQe=_t({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},CV),zQe=st({logBase:10},CV);const Rfe={category:BQe,value:CV,time:VQe,log:zQe};var UQe={value:1,category:1,time:1,log:1};function Xm(r,e,t,n){B(UQe,function(i,a){var s=_t(_t({},Rfe[a],!0),n,!0),o=function(l){ge(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=Sw(this),p=h?Cy(c):{},v=f.getTheme();_t(c,v.get(a+"Axis")),_t(c,this.getDefaultOption()),c.type=tX(c),h&&ad(c,p,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=P4.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=s,u}(t);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(e+"Axis",tX)}function tX(r){return r.type||(r.data?"category":"value")}var HQe=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return Pe(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),sr(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}(),H4=["x","y"];function rX(r){return r.type==="interval"||r.type==="time"}var GQe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=H4,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!rX(t)||!rX(n))){var i=t.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,f=(o[1]-s[1])/u,h=s[0]-i[0]*c,p=s[1]-a[0]*f,v=this._transform=[c,0,0,f,h,p];this._invTransform=rg([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var i=this.dataToPoint(t),a=this.dataToPoint(n),s=this.getArea(),o=new Tt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,n,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return Wi(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},e.prototype.clampData=function(t,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},e.prototype.pointToData=function(t,n){var i=[];if(this._invTransform)return Wi(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),n),i[1]=s.coordToData(s.toLocalCoord(t[1]),n),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-t,s=Math.min(i[0],i[1])-t,o=Math.max(n[0],n[1])-a+t,l=Math.max(i[0],i[1])-s+t;return new Tt(a,s,o,l)},e}(HQe),jQe=function(r){ge(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(nl);function G4(r,e,t){t=t||{};var n=r.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,u=i.dim,c=n.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,v=u==="x"?[f[2]-p,f[3]+p]:[f[0]-p,f[1]+p];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));v[h.onZero]=Math.max(Math.min(m,v[1]),v[0])}a.position=[u==="y"?v[h[l]]:f[0],u==="x"?v[h[l]]:f[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=y[o],a.labelOffset=s?v[h[o]]-v[h.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Ci(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var x=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-x:x,a.z2=1,a}function nX(r){return r.get("coordinateSystem")==="cartesian2d"}function iX(r){var e={xAxisModel:null,yAxisModel:null};return B(e,function(t,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Qn).models[0];e[n]=a}),e}var eL=Math.log;function kfe(r,e,t){var n=hf.prototype,i=n.getTicks.call(t),a=n.getTicks.call(t,!0),s=i.length-1,o=n.getInterval.call(t),l=Lce(r,e),u=l.extent,c=l.fixMin,f=l.fixMax;if(r.type==="log"){var h=eL(r.base);u=[eL(u[0])/h,eL(u[1])/h]}r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:f});var p=n.getExtent.call(r);c&&(u[0]=p[0]),f&&(u[1]=p[1]);var v=n.getInterval.call(r),m=u[0],y=u[1];if(c&&f)v=(y-m)/s;else if(c)for(y=u[0]+v*s;y<u[1]&&isFinite(y)&&isFinite(u[1]);)v=VP(v),y=u[0]+v*s;else if(f)for(m=u[1]-v*s;m>u[0]&&isFinite(m)&&isFinite(u[0]);)v=VP(v),m=u[1]-v*s;else{var x=r.getTicks().length-1;x>s&&(v=VP(v));var w=v*s;y=Math.ceil(u[1]/v)*v,m=yn(y-w),m<0&&u[0]>=0?(m=0,y=yn(w)):y>0&&u[1]<=0&&(y=0,m=-yn(w))}var b=(i[0].value-a[0].value)/o,T=(i[s].value-a[s].value)/o;n.setExtent.call(r,m+v*b,y+v*T),n.setInterval.call(r,v),(b||T)&&n.setNiceExtent.call(r,m+v,y-v)}var WQe=function(){function r(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=H4,this._initCartesian(e,t,n),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=jt(s),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],p=s[h],v=p.model,m=p.scale;L4(m)&&v.get("alignTicks")&&v.get("interval")==null?c.push(p):(Bv(m,v),L4(m)&&(o=p))}c.length&&(o||(o=c.pop(),Bv(o.scale,o.model)),B(c,function(y){kfe(y.scale,y.model,o.scale)}))}}i(n.x),i(n.y);var a={};B(n.x,function(s){aX(n,"y",s,a)}),B(n.y,function(s){aX(n,"x",s,a)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),s=ti(i,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(B(o,function(u){if(!u.model.get(["axisLabel","inside"])){var c=fKe(u);if(c){var f=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);s[f]-=c[f]+h,u.position==="top"?s.y+=c.height+h:u.position==="left"&&(s.x+=c.width+h)}}}),l()),B(this._coordsList,function(u){u.calcAffineTransform()});function l(){B(o,function(u){var c=u.isHorizontal(),f=c?[0,s.width]:[0,s.height],h=u.inverse?1:0;u.setExtent(f[h],f[1-h]),$Qe(u,c?s.x:s.y)})}},r.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}ot(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",Qn).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",Qn).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,Ct(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,B(o.x,function(c,f){B(o.y,function(h,p){var v="x"+f+"y"+p,m=new GQe(v);m.master=i,m.model=e,i._coordsMap[v]=m,i._coordsList.push(m),m.addAxis(c),m.addAxis(h)})});function u(c){return function(f,h){if(tL(f,e)){var p=f.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=s.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=s.left?"right":"left"),s[p]=!0;var v=new jQe(c,Ob(f),[0,0],f.get("type"),p),m=v.type==="category";v.onBand=m&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=h,a._axesList.push(v),o[c][h]=v,l[c]++}}}},r.prototype._updateScale=function(e,t){B(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(nX(i)){var a=iX(i),s=a.xAxisModel,o=a.yAxisModel;if(!tL(s,t)||!tL(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(i,a){B(pC(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},r.prototype.getTooltipAxes=function(e){var t=[],n=[];return B(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);Ct(t,a)<0&&t.push(a),Ct(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,a){var s=new r(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,n.push(s)}),e.eachSeries(function(i){if(nX(i)){var a=iX(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(s.componentIndex,o.componentIndex)}}),n},r.dimensions=H4,r}();function tL(r,e){return r.getCoordSysModel()===e}function aX(r,e,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)sX(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&sX(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function sX(r){return r&&r.type!=="category"&&r.type!=="time"&&cKe(r)}function $Qe(r,e){var t=r.getExtent(),n=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+e}:function(i){return n-i+e},r.toLocalCoord=r.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}var Eh=Math.PI,us=function(){function r(e,t){this.group=new ft,this.opt=t,this.axisModel=e,st(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new ft({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return r.prototype.hasBuilder=function(e){return!!oX[e]},r.prototype.add=function(e){oX[e](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(e,t,n){var i=mB(t-e),a,s;return Gm(i)?(s=n>0?"top":"bottom",a="center"):Gm(i-Eh)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Eh?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r}(),oX={axisLine:function(r,e,t,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=n.transform,o=[a[0],0],l=[a[1],0],u=o[0]>l[0];s&&(Wi(o,o,s),Wi(l,l,s));var c=Ce({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new gi({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Wm(f.shape,f.style.lineWidth),f.anid="line",t.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var p=e.get(["axisLine","symbolSize"]);$e(h)&&(h=[h,h]),($e(p)||tr(p))&&(p=[p,p]);var v=sg(e.get(["axisLine","symbolOffset"])||0,p),m=p[0],y=p[1];B([{rotate:r.rotation+Math.PI/2,offset:v[0],r:0},{rotate:r.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(x,w){if(h[w]!=="none"&&h[w]!=null){var b=Vn(h[w],-m/2,-y/2,m,y,c.stroke,!0),T=x.r+x.offset,C=u?l:o;b.attr({rotation:x.rotate,x:C[0]+T*Math.cos(r.rotation),y:C[1]-T*Math.sin(r.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(r,e,t,n){var i=XQe(t,n,e,r),a=ZQe(t,n,e,r);if(YQe(e,a,i),KQe(t,n,e,r.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=Yce(Pe(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));Zce(s)}},axisName:function(r,e,t,n){var i=Ci(r.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=r.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,uX(a)?r.labelOffset+s*l:0],h,p=e.get("nameRotate");p!=null&&(p=p*Eh/180);var v;uX(a)?h=us.innerTextLayout(r.rotation,p??r.rotation,s):(h=qQe(r.rotation,a,p||0,u),v=r.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(h.rotation)),!isFinite(v)&&(v=null)));var m=o.getFont(),y=e.get("nameTruncate",!0)||{},x=y.ellipsis,w=Ci(r.nameTruncateMaxWidth,y.maxWidth,v),b=new Xt({x:f[0],y:f[1],rotation:h.rotation,silent:us.isLabelSilent(e),style:Ur(o,{text:i,font:m,overflow:"truncate",width:w,ellipsis:x,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||h.textAlign,verticalAlign:o.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(ng({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var T=us.makeAxisEventDataBase(e);T.targetType="axisName",T.name=i,dt(b).eventData=T}n.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function qQe(r,e,t,n){var i=mB(t-r),a,s,o=n[0]>n[1],l=e==="start"&&!o||e!=="start"&&o;return Gm(i-Eh/2)?(s=l?"bottom":"top",a="center"):Gm(i-Eh*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<Eh*1.5&&i>Eh/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function YQe(r,e,t){if(!Oce(r.axis)){var n=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],f=t[t.length-1],h=t[t.length-2];n===!1?(Ao(a),Ao(u)):lX(a,s)&&(n?(Ao(s),Ao(c)):(Ao(a),Ao(u))),i===!1?(Ao(o),Ao(f)):lX(l,o)&&(i?(Ao(l),Ao(h)):(Ao(o),Ao(f)))}}function Ao(r){r&&(r.ignore=!0)}function lX(r,e){var t=r&&r.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!t||!n)){var i=Tb([]);return md(i,i,-r.rotation),t.applyTransform(Wu([],i,r.getLocalTransform())),n.applyTransform(Wu([],i,e.getLocalTransform())),t.intersect(n)}}function uX(r){return r==="middle"||r==="center"}function Mfe(r,e,t,n,i){for(var a=[],s=[],o=[],l=0;l<r.length;l++){var u=r[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=t,e&&(Wi(s,s,e),Wi(o,o,e));var c=new gi({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Wm(c.shape,c.style.lineWidth),c.anid=i+"_"+r[l].tickValue,a.push(c)}return a}function XQe(r,e,t,n){var i=t.axis,a=t.getModel("axisTick"),s=a.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=i.getTicksCoords(),c=Mfe(u,e.transform,l,st(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)r.add(c[f]);return c}}function KQe(r,e,t,n){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=n*a.get("length"),u=st(o.getLineStyle(),st(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var f=Mfe(s[c],e.transform,l,u,"minorticks_"+c),h=0;h<f.length;h++)r.add(f[h])}}function ZQe(r,e,t,n){var i=t.axis,a=Ci(n.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=t.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),u=(Ci(n.labelRotate,s.get("rotate"))||0)*Eh/180,c=us.innerTextLayout(n.rotation,u,n.labelDirection),f=t.getCategories&&t.getCategories(!0),h=[],p=us.isLabelSilent(t),v=t.get("triggerEvent");return B(l,function(m,y){var x=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,w=m.formattedLabel,b=m.rawLabel,T=s;if(f&&f[x]){var C=f[x];ot(C)&&C.textStyle&&(T=new or(C.textStyle,s,t.ecModel))}var D=T.getTextColor()||t.get(["axisLine","lineStyle","color"]),A=i.dataToCoord(x),k=T.getShallow("align",!0)||c.textAlign,I=vt(T.getShallow("alignMinLabel",!0),k),M=vt(T.getShallow("alignMaxLabel",!0),k),P=T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||c.textVerticalAlign,O=vt(T.getShallow("verticalAlignMinLabel",!0),P),N=vt(T.getShallow("verticalAlignMaxLabel",!0),P),G=new Xt({x:A,y:n.labelOffset+n.labelDirection*o,rotation:c.rotation,silent:p,z2:10+(m.level||0),style:Ur(T,{text:w,align:y===0?I:y===l.length-1?M:k,verticalAlign:y===0?O:y===l.length-1?N:P,fill:rt(D)?D(i.type==="category"?b:i.type==="value"?x+"":x,y):D})});if(G.anid="label_"+x,ng({el:G,componentModel:t,itemName:w,formatterParamsExtra:{isTruncated:function(){return G.isTruncated},value:b,tickIndex:y}}),v){var j=us.makeAxisEventDataBase(t);j.targetType="axisLabel",j.value=b,j.tickIndex=y,i.type==="category"&&(j.dataIndex=x),dt(G).eventData=j}e.add(G),G.updateTransform(),h.push(G),r.add(G),G.decomposeTransform()}),h}}function QQe(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return JQe(t,r,e),t.seriesInvolved&&tJe(t,r),t}function JQe(r,e,t){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];B(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=Mw(o.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var c=o.model,f=c.getModel("tooltip",n);if(B(o.getAxes(),gt(m,!1,null)),o.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",p=f.get(["axisPointer","type"])==="cross",v=o.getTooltipAxes(f.get(["axisPointer","axis"]));(h||p)&&B(v.baseAxes,gt(m,p?"cross":!0,h)),p&&B(v.otherAxes,gt(m,"cross",!1))}function m(y,x,w){var b=w.model.getModel("axisPointer",i),T=b.get("show");if(!(!T||T==="auto"&&!y&&!j4(b))){x==null&&(x=b.get("triggerTooltip")),b=y?eJe(w,f,i,e,y,x):b;var C=b.get("snap"),D=b.get("triggerEmphasis"),A=Mw(w.model),k=x||C||w.type==="category",I=r.axesInfo[A]={key:A,axis:w,coordSys:o,axisPointerModel:b,triggerTooltip:x,triggerEmphasis:D,involveSeries:k,snap:C,useHandle:j4(b),seriesModels:[],linkGroup:null};u[A]=I,r.seriesInvolved=r.seriesInvolved||k;var M=rJe(a,w);if(M!=null){var P=s[M]||(s[M]={axesInfo:{}});P.axesInfo[A]=I,P.mapper=a[M].mapper,I.linkGroup=P}}}})}function eJe(r,e,t,n,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};B(o,function(h){l[h]=ut(s.get(h))}),l.snap=r.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=s.get("crossStyle");f&&st(u,f.textStyle)}}return r.model.getModel("axisPointer",new or(l,t,n))}function tJe(r,e){e.eachSeries(function(t){var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||B(r.coordSysAxesInfo[Mw(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function rJe(r,e){for(var t=e.model,n=e.dim,i=0;i<r.length;i++){var a=r[i]||{};if(rL(a[n+"AxisId"],t.id)||rL(a[n+"AxisIndex"],t.componentIndex)||rL(a[n+"AxisName"],t.name))return i}}function rL(r,e){return r==="all"||ke(r)&&Ct(r,e)>=0||r===e}function nJe(r){var e=DV(r);if(e){var t=e.axisPointerModel,n=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=n.parse(s));var o=j4(t);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function DV(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Mw(r)]}function iJe(r){var e=DV(r);return e&&e.axisPointerModel}function j4(r){return!!r.get(["handle","show"])}function Mw(r){return r.type+"||"+r.id}var cX={},lg=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.axisPointerClass&&nJe(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,n,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=iJe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){cX[t]=n},e.getAxisPointerClass=function(t){return t&&cX[t]},e.type="axis",e}($r),W4=Qt();function Pfe(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=o.length,f=W4(r).splitAreaColors,h=Je(),p=0;if(f)for(var v=0;v<u.length;v++){var m=f.get(u[v].tickValue);if(m!=null){p=(m+(c-1)*v)%c;break}}var y=i.toGlobalCoord(u[0].coord),x=s.getAreaStyle();o=ke(o)?o:[o];for(var v=1;v<u.length;v++){var w=i.toGlobalCoord(u[v].coord),b=void 0,T=void 0,C=void 0,D=void 0;i.isHorizontal()?(b=y,T=l.y,C=w-b,D=l.height,y=b+C):(b=l.x,T=y,C=l.width,D=w-T,y=T+D);var A=u[v-1].tickValue;A!=null&&h.set(A,p),e.add(new Kt({anid:A!=null?"area_"+A:null,shape:{x:b,y:T,width:C,height:D},style:st({fill:o[p]},x),autoBatch:!0,silent:!0})),p=(p+1)%c}W4(r).splitAreaColors=h}}}function Lfe(r){W4(r).splitAreaColors=null}var aJe=["axisLine","axisTickLabel","axisName"],sJe=["splitArea","splitLine","minorSplitLine"],Ofe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ft,this.group.add(this._axisGroup),!!t.get("show")){var o=t.getCoordSysModel(),l=G4(o,t),u=new us(t,Ce({handleAutoShown:function(f){for(var h=o.coordinateSystem.getCartesians(),p=0;p<h.length;p++)if(L4(h[p].getOtherAxis(t.axis).scale))return!0;return!1}},l));B(aJe,u.add,u),this._axisGroup.add(u.getGroup()),B(sJe,function(f){t.get([f,"show"])&&oJe[f](this,this._axisGroup,t,o)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Mb(s,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)}},e.prototype.remove=function(){Lfe(this)},e.type="cartesianAxis",e}(lg),oJe={splitLine:function(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color"),l=a.get("showMinLine")!==!1,u=a.get("showMaxLine")!==!1;o=ke(o)?o:[o];for(var c=n.coordinateSystem.getRect(),f=i.isHorizontal(),h=0,p=i.getTicksCoords({tickModel:a}),v=[],m=[],y=s.getLineStyle(),x=0;x<p.length;x++){var w=i.toGlobalCoord(p[x].coord);if(!(x===0&&!l||x===p.length-1&&!u)){var b=p[x].tickValue;f?(v[0]=w,v[1]=c.y,m[0]=w,m[1]=c.y+c.height):(v[0]=c.x,v[1]=w,m[0]=c.x+c.width,m[1]=w);var T=h++%o.length,C=new gi({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},style:st({stroke:o[T]},y),silent:!0});Wm(C.shape,y.lineWidth),e.add(C)}}}},minorSplitLine:function(r,e,t,n){var i=t.axis,a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],f=[],h=s.getLineStyle(),p=0;p<u.length;p++)for(var v=0;v<u[p].length;v++){var m=i.toGlobalCoord(u[p][v].coord);l?(c[0]=m,c[1]=o.y,f[0]=m,f[1]=o.y+o.height):(c[0]=o.x,c[1]=m,f[0]=o.x+o.width,f[1]=m);var y=new gi({anid:"minor_line_"+u[p][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:h,silent:!0});Wm(y.shape,h.lineWidth),e.add(y)}},splitArea:function(r,e,t,n){Pfe(r,e,t,n)}},Nfe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Ofe),lJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=Nfe.type,t}return e.type="yAxis",e}(Ofe),uJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new Kt({shape:t.coordinateSystem.getRect(),style:st({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}($r),fX={offset:0};function Ffe(r){r.registerComponentView(uJe),r.registerComponentModel(FQe),r.registerCoordinateSystem("cartesian2d",WQe),Xm(r,"x",U4,fX),Xm(r,"y",U4,fX),r.registerComponentView(Nfe),r.registerComponentView(lJe),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function cJe(r){Pt(Ffe),r.registerSeriesModel(MQe),r.registerChartView(NQe),r.registerLayout(Vb("scatter"))}function fJe(r){r.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();B(a,function(s,o){t.each(t.mapDimension(a[o].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,o);n[u][o]=hX(c)?c:dX(i)})}),t.each(function(s){var o=coe(n[s],function(l){return hX(l)})||dX(i);n[s].push(o.slice()),t.setItemLayout(s,n[s])})}})}function hX(r){return!isNaN(r[0])&&!isNaN(r[1])}function dX(r){return[r.cx,r.cy]}function hJe(r){var e=r.polar;if(e){ke(e)||(e=[e]);var t=[];B(e,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],ke(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):t.push(n)}),r.polar=t}B(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var dJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function u(h,p){var v=h.getItemVisual(p,"symbol")||"circle";if(v!=="none"){var m=My(h.getItemVisual(p,"symbolSize")),y=Vn(v,-1,-1,2,2),x=h.getItemVisual(p,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:x*Math.PI/180||0}),y}}function c(h,p,v,m,y,x){v.removeAll();for(var w=0;w<p.length-1;w++){var b=u(m,y);b&&(b.__dimIdx=w,h[w]?(b.setPosition(h[w]),ig[x?"initProps":"updateProps"](b,{x:p[w][0],y:p[w][1]},t,y)):b.setPosition(p[w]),v.add(b))}}function f(h){return Pe(h,function(p){return[a.cx,a.cy]})}o.diff(l).add(function(h){var p=o.getItemLayout(h);if(p){var v=new za,m=new Ga,y={shape:{points:p}};v.shape.points=f(p),m.shape.points=f(p),Zr(v,y,t,h),Zr(m,y,t,h);var x=new ft,w=new ft;x.add(m),x.add(v),x.add(w),c(m.shape.points,p,w,o,h,!0),o.setItemGraphicEl(h,x)}}).update(function(h,p){var v=l.getItemGraphicEl(p),m=v.childAt(0),y=v.childAt(1),x=v.childAt(2),w={shape:{points:o.getItemLayout(h)}};w.shape.points&&(c(m.shape.points,w.shape.points,x,o,h,!1),$l(y),$l(m),rr(m,w,t),rr(y,w,t),o.setItemGraphicEl(h,v))}).remove(function(h){s.remove(l.getItemGraphicEl(h))}).execute(),o.eachItemGraphicEl(function(h,p){var v=o.getItemModel(p),m=h.childAt(0),y=h.childAt(1),x=h.childAt(2),w=o.getItemVisual(p,"style"),b=w.fill;s.add(h),m.useStyle(st(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),da(m,v,"lineStyle"),da(y,v,"areaStyle");var T=v.getModel("areaStyle"),C=T.isEmpty()&&T.parentModel.isEmpty();y.ignore=C,B(["emphasis","select","blur"],function(k){var I=v.getModel([k,"areaStyle"]),M=I.isEmpty()&&I.parentModel.isEmpty();y.ensureState(k).ignore=M&&C}),y.useStyle(st(T.getAreaStyle(),{fill:b,opacity:.7,decal:w.decal}));var D=v.getModel("emphasis"),A=D.getModel("itemStyle").getItemStyle();x.eachChild(function(k){if(k instanceof Li){var I=k.style;k.useStyle(Ce({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},w))}else k.useStyle(w),k.setColor(b),k.style.strokeNoScale=!0;var M=k.ensureState("emphasis");M.style=ut(A);var P=o.getStore().get(o.getDimensionIndex(k.__dimIdx),p);(P==null||isNaN(P))&&(P=""),pa(k,Mi(v),{labelFetcher:o.hostModel,labelDataIndex:p,labelDimIndex:k.__dimIdx,defaultText:P,inheritColor:b,defaultOpacity:w.opacity})}),fn(h,D.get("focus"),D.get("blurScope"),D.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Cr),pJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ub(Ye(this.getData,this),Ye(this.getRawData,this))},e.prototype.getInitialData=function(t,n){return Ny(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=Mue(this,t);return Pi("section",{header:u,sortBlocks:!0,blocks:Pe(o,function(f){var h=a.get(a.mapDimension(f.dim),t);return Pi("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Pe(i.dimensions,function(u){return n.mapDimension(u)}),t),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Lr),h_=Rfe.value;function C2(r,e){return st({show:e},r)}var vJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),p=Pe(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var m=l;v.color!=null&&(m=st({color:v.color},l));var y=_t(ut(v),{boundaryGap:t,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:v.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:m,triggerEvent:h},!1);if($e(c)){var x=y.name;y.name=c.replace("{value}",x??"")}else rt(c)&&(y.name=c(y.name,y));var w=new or(y,null,this.ecModel);return Cn(w,Oy.prototype),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:_t({lineStyle:{color:"#bbb"}},h_.axisLine),axisLabel:C2(h_.axisLabel,!1),axisTick:C2(h_.axisTick,!1),splitLine:C2(h_.splitLine,!0),splitArea:C2(h_.splitArea,!0),indicator:[]},e}(Ut),gJe=["axisLine","axisTickLabel","axisName"],mJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes(),a=Pe(i,function(s){var o=s.model.get("showName")?s.name:"",l=new us(s.model,{axisName:o,position:[n.cx,n.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});B(a,function(s){B(gJe,s.add,s),this.group.add(s.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),f=o.get("show"),h=l.get("color"),p=u.get("color"),v=ke(h)?h:[h],m=ke(p)?p:[p],y=[],x=[];function w(j,U,X){var ie=X%U.length;return j[ie]=j[ie]||[],ie}if(a==="circle")for(var b=i[0].getTicksCoords(),T=n.cx,C=n.cy,D=0;D<b.length;D++){if(c){var A=w(y,v,D);y[A].push(new nc({shape:{cx:T,cy:C,r:b[D].coord}}))}if(f&&D<b.length-1){var A=w(x,m,D);x[A].push(new xy({shape:{cx:T,cy:C,r0:b[D].coord,r:b[D+1].coord}}))}}else for(var k,I=Pe(i,function(j,U){var X=j.getTicksCoords();return k=k==null?X.length-1:Math.min(X.length-1,k),Pe(X,function(ie){return n.coordToPoint(ie.coord,U)})}),M=[],D=0;D<=k;D++){for(var P=[],O=0;O<i.length;O++)P.push(I[O][D]);if(P[0]&&P.push(P[0].slice()),c){var A=w(y,v,D);y[A].push(new Ga({shape:{points:P}}))}if(f&&M){var A=w(x,m,D-1);x[A].push(new za({shape:{points:P.concat(M)}}))}M=P.slice().reverse()}var N=l.getLineStyle(),G=u.getAreaStyle();B(x,function(j,U){this.group.add(Ks(j,{style:st({stroke:"none",fill:m[U%m.length]},G),silent:!0}))},this),B(y,function(j,U){this.group.add(Ks(j,{style:st({fill:"none",stroke:v[U%v.length]},N),silent:!0}))},this)},e.type="radar",e}($r),yJe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return e}(nl),_Je=function(){function r(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=Pe(e.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new yJe(s,new hf);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(e,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],i=n.angle,a=this.cx+e*Math.cos(i),s=this.cy-e*Math.sin(i);return[a,s]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var a=Math.atan2(-n,t),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<s&&(o=c,l=u,s=f)}return[l,+(o&&o.coordToData(i))]},r.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),a=t.getHeight(),s=Math.min(i,a)/2;this.cx=We(n[0],i),this.cy=We(n[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");($e(o)||tr(o))&&(o=[0,o]),this.r0=We(o[0],s),this.r=We(o[1],s),B(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},r.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;B(n,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();B(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),s=new hf;s.setExtent(0,a),s.setInterval(1),B(n,function(o,l){kfe(o.scale,o.model,s)})},r.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var a=new r(i,e,t);n.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r}();function xJe(r){r.registerCoordinateSystem("radar",_Je),r.registerComponentModel(vJe),r.registerComponentView(mJe),r.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function wJe(r){Pt(xJe),r.registerChartView(dJe),r.registerSeriesModel(pJe),r.registerLayout(fJe),r.registerProcessor(zb("radar")),r.registerPreprocessor(hJe)}var pX="\0_ec_interaction_mutex";function bJe(r,e,t){var n=IV(r);n[e]=t}function SJe(r,e,t){var n=IV(r),i=n[e];i===t&&(n[e]=null)}function vX(r,e){return!!IV(r)[e]}function IV(r){return r[pX]||(r[pX]={})}Xl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},An);var Hb=function(r){ge(e,r);function e(t){var n=r.call(this)||this;n._zr=t;var i=Ye(n._mousedownHandler,n),a=Ye(n._mousemoveHandler,n),s=Ye(n._mouseupHandler,n),o=Ye(n._mousewheelHandler,n),l=Ye(n._pinchHandler,n);return n.enable=function(u,c){this.disable(),this._opt=st(ut(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",o),t.on("pinch",l))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",s),t.off("mousewheel",o),t.off("pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!WW(t)){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!wA("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||vX(this._zr,"globalPan"))){var n=t.offsetX,i=t.offsetY,a=this._x,s=this._y,o=n-a,l=i-s;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&of(t.event),Bfe(this,"pan","moveOnMouseMove",t,{dx:o,dy:l,oldX:a,oldY:s,newX:n,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){WW(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var n=wA("zoomOnMouseWheel",t,this._opt),i=wA("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!n&&!i)){if(n){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;nL(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);nL(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:o,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!vX(this._zr,"globalPan")){var n=t.pinchScale>1?1.1:1/1.1;nL(this,"zoom",null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Jo);function nL(r,e,t,n,i){r.pointerChecker&&r.pointerChecker(n,i.originX,i.originY)&&(of(n.event),Bfe(r,e,t,n,i))}function Bfe(r,e,t,n,i){i.isAvailableBehavior=Ye(wA,null,t,n),r.trigger(e,i)}function wA(r,e,t){var n=t[r];return!r||n&&(!$e(n)||e.event[n+"Key"])}function RV(r,e,t){var n=r.target;n.x+=e,n.y+=t,n.dirty()}function kV(r,e,t,n){var i=r.target,a=r.zoomLimit,s=r.zoom=r.zoom||1;if(s*=e,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var u=s/r.zoom;r.zoom=s,i.x-=(t-i.x)*(u-1),i.y-=(n-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var TJe={axisPointer:1,tooltip:1,brush:1};function dI(r,e,t){var n=e.getComponentByElement(r.topTarget),i=n&&n.coordinateSystem;return n&&n!==t&&!TJe.hasOwnProperty(n.mainType)&&i&&i.model!==t}function Vfe(r){if($e(r)){var e=new DOMParser;r=e.parseFromString(r,"text/xml")}var t=r;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var iL,_C={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},gX=jt(_C),xC={"alignment-baseline":"textBaseline","stop-color":"stopColor"},mX=jt(xC),AJe=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(e,t){t=t||{};var n=Vfe(e);this._defsUsePending=[];var i=new ft;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),js(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;DJe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(s){var h=pI(s);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&o!=null&&l!=null&&(f=Ufe(c,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var p=i;i=new ft,i.add(p),p.scaleX=p.scaleY=f.scale,p.x=f.x,p.y=f.y}return!t.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new Kt({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},r.prototype._parseNode=function(e,t,n,i,a,s){var o=e.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!a){var c=iL[o];if(c&&Ke(iL,o)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:l};n.push(h),o==="g"&&(u=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});t.add(l)}}var p=yX[o];if(p&&Ke(yX,o)){var v=p.call(this,e),m=e.getAttribute("id");m&&(this._defs[m]=v)}}if(l&&l.isGroup)for(var y=e.firstChild;y;)y.nodeType===1?this._parseNode(y,l,n,u,a,s):y.nodeType===3&&s&&this._parseText(y,l),y=y.nextSibling},r.prototype._parseText=function(e,t){var n=new jm({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Eo(t,n),js(e,n,this._defsUsePending,!1,!1),EJe(n,t);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,t.add(n),n},r.internalField=function(){iL={g:function(e,t){var n=new ft;return Eo(t,n),js(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new Kt;return Eo(t,n),js(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new nc;return Eo(t,n),js(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new gi;return Eo(t,n),js(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new Ib;return Eo(t,n),js(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n=e.getAttribute("points"),i;n&&(i=wX(n));var a=new za({shape:{points:i||[]},silent:!0});return Eo(t,a),js(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var n=e.getAttribute("points"),i;n&&(i=wX(n));var a=new Ga({shape:{points:i||[]},silent:!0});return Eo(t,a),js(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var n=new Li;return Eo(t,n),js(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new ft;return Eo(t,o),js(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new ft;return Eo(t,o),js(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,t){var n=e.getAttribute("d")||"",i=Ile(n);return Eo(t,i),js(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),r}(),yX={lineargradient:function(r){var e=parseInt(r.getAttribute("x1")||"0",10),t=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new by(e,t,n,i);return _X(r,a),xX(r,a),a},radialgradient:function(r){var e=parseInt(r.getAttribute("cx")||"0",10),t=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new kB(e,t,n);return _X(r,i),xX(r,i),i}};function _X(r,e){var t=r.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function xX(r,e){for(var t=r.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var n=t.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};zfe(t,a,a);var s=a.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:s})}t=t.nextSibling}}function Eo(r,e){r&&r.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),st(e.__inheritedStyle,r.__inheritedStyle))}function wX(r){for(var e=pI(r),t=[],n=0;n<e.length;n+=2){var i=parseFloat(e[n]),a=parseFloat(e[n+1]);t.push([i,a])}return t}function js(r,e,t,n,i){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};r.nodeType===1&&(kJe(r,e),zfe(r,s,o),n||MJe(r,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=bX(a,"fill",s.fill,t)),s.stroke!=null&&(a.style.stroke=bX(a,"stroke",s.stroke,t)),B(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),B(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=Pe(pI(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function EJe(r,e){var t=e.__selfStyle;if(t){var n=t.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),r.style.textAlign=o)}}var CJe=/^url\(\s*#(.*?)\)/;function bX(r,e,t,n){var i=t&&t.match(CJe);if(i){var a=Uo(i[1]);n.push([r,e,a]);return}return t==="none"&&(t=null),t}function DJe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n[0].style[n[1]]=r[n[2]]}}var IJe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function pI(r){return r.match(IJe)||[]}var RJe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,aL=Math.PI/180;function kJe(r,e){var t=r.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],i=null;t.replace(RJe,function(f,h,p){return n.push(h,p),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=pI(s);switch(i=i||Ps(),o){case"translate":jl(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":ND(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":md(i,i,-parseFloat(l[0])*aL,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*aL);Wu(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*aL);Wu(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var SX=/([^\s:;]+)\s*:\s*([^:;]+)/g;function zfe(r,e,t){var n=r.getAttribute("style");if(n){SX.lastIndex=0;for(var i;(i=SX.exec(n))!=null;){var a=i[1],s=Ke(_C,a)?_C[a]:null;s&&(e[s]=i[2]);var o=Ke(xC,a)?xC[a]:null;o&&(t[o]=i[2])}}}function MJe(r,e,t){for(var n=0;n<gX.length;n++){var i=gX[n],a=r.getAttribute(i);a!=null&&(e[_C[i]]=a)}for(var n=0;n<mX.length;n++){var i=mX[n],a=r.getAttribute(i);a!=null&&(t[xC[i]]=a)}}function Ufe(r,e){var t=e.width/r.width,n=e.height/r.height,i=Math.min(t,n);return{scale:i,x:-(r.x+r.width/2)*i+(e.x+e.width/2),y:-(r.y+r.height/2)*i+(e.y+e.height/2)}}function PJe(r,e){var t=new AJe;return t.parse(r,e)}var LJe=Je(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),OJe=function(){function r(e,t){this.type="geoSVG",this._usedGraphicMap=Je(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Vfe(t)}return r.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=FJe(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(e){var t,n;try{t=e&&PJe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,Ba(n!=null)}catch(y){throw new Error(`Invalid svg format
`+y.message)}var i=new ft;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):o&&(u=o.x,f=o.width),s!=null?(c=0,h=s):o&&(c=o.y,h=o.height),u==null||c==null){var p=n.getBoundingRect();u==null&&(u=p.x,f=p.width),c==null&&(c=p.y,h=p.height)}l=this._boundingRect=new Tt(u,c,f,h)}if(o){var v=Ufe(o,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}i.setClipPath(new Kt({shape:l.plain()}));var m=[];return B(t.named,function(y){LJe.get(y.svgNodeTagLower)!=null&&(m.push(y),NJe(y.el))}),{root:i,boundingRect:l,named:m}},r.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},r.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},r}();function NJe(r){r.silent=!1,r.isGroup&&r.traverse(function(e){e.silent=!1})}function FJe(r){var e=[],t=Je();return B(r,function(n){if(n.namedFrom==null){var i=new SKe(n.name,n.el);e.push(i),t.set(n.name,i)}}),{regions:e,regionsMap:t}}var $4=[126,25],TX="",Ip=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Ap=0;Ap<Ip.length;Ap++)for(var d0=0;d0<Ip[Ap].length;d0++)Ip[Ap][d0][0]/=10.5,Ip[Ap][d0][1]/=-10.5/.75,Ip[Ap][d0][0]+=$4[0],Ip[Ap][d0][1]+=$4[1];function BJe(r,e){if(r==="china"){for(var t=0;t<e.length;t++)if(e[t].name===TX)return;e.push(new Fce(TX,Pe(Ip,function(n){return{type:"polygon",exterior:n}}),$4))}}var VJe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function zJe(r,e){if(r==="china"){var t=VJe[e.name];if(t){var n=e.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/(10.5/.75),e.setCenter(n)}}}var UJe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function HJe(r,e){r==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:UJe[0]})}var GJe="name",jJe=function(){function r(e,t,n){this.type="geoJSON",this._parsedMap=Je(),this._mapName=e,this._specialAreas=n,this._geoJSON=$Je(t)}return r.prototype.load=function(e,t){t=t||GJe;var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:WJe(i)})}var a=Je(),s=[];return B(n.regions,function(o){var l=o.name;e&&Ke(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new Tt(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(e){var t=this._mapName,n=this._geoJSON,i;try{i=n?N4(n,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return BJe(t,i),B(i,function(a){var s=a.name;zJe(t,a),HJe(t,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function WJe(r){for(var e,t=0;t<r.length;t++){var n=r[t].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function $Je(r){return $e(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var d_=Je();const df={registerMap:function(r,e,t){if(e.svg){var n=new OJe(r,e.svg);d_.set(r,n)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var n=new jJe(r,i,t);d_.set(r,n)}},getGeoResource:function(r){return d_.get(r)},getMapForUser:function(r){var e=d_.get(r);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(r,e,t){var n=d_.get(r);if(n)return n.load(e,t)}};var MV=["rect","circle","line","ellipse","polygon","polyline","path"],qJe=Je(MV),YJe=Je(MV.concat(["g"])),XJe=Je(MV.concat(["g"])),Hfe=Qt();function D2(r){var e=r.getItemStyle(),t=r.get("areaColor");return t!=null&&(e.fill=t),e}function AX(r){var e=r.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Gfe=function(){function r(e){var t=new ft;this.uid=Ey("ec_map_draw"),this._controller=new Hb(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new ft),t.add(this._svgGroup=new ft)}return r.prototype.draw=function(e,t,n,i,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(x){!o&&x.getHostGeoModel()===e&&(o=x.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),h=f.raw,p=f.roam,v=!u.childAt(0)||a;v?(c.x=p.x,c.y=p.y,c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.dirty()):rr(c,p,e);var m=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,y={api:n,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:m,isGeo:s,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(y):l.resourceType==="geoSVG"&&this._buildSVG(y),this._updateController(e,t,n),this._updateMapSelectHandler(e,u,n,i)},r.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Je(),n=Je(),i=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,u=l&&l.stream;function c(p,v){return v&&(p=v(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function f(p){for(var v=[],m=!u&&l&&l.project,y=0;y<p.length;++y){var x=c(p[y],m);x&&v.push(x)}return v}function h(p){return{shape:{points:f(p)}}}i.removeAll(),B(e.geo.regions,function(p){var v=p.name,m=t.get(v),y=n.get(v)||{},x=y.dataIdx,w=y.regionModel;if(!m){m=t.set(v,new ft),i.add(m),x=o?o.indexOfName(v):null,w=e.isGeo?s.getRegionModel(v):o?o.getItemModel(x):null;var b=w.get("silent",!0);b!=null&&(m.silent=b),n.set(v,{dataIdx:x,regionModel:w})}var T=[],C=[];B(p.geometries,function(k){if(k.type==="polygon"){var I=[k.exterior].concat(k.interiors||[]);u&&(I=kX(I,u)),B(I,function(P){T.push(new za(h(P)))})}else{var M=k.points;u&&(M=kX(M,u,!0)),B(M,function(P){C.push(new Ga(h(P)))})}});var D=c(p.getCenter(),l&&l.project);function A(k,I){if(k.length){var M=new qD({culling:!0,segmentIgnoreThreshold:1,shape:{paths:k}});m.add(M),EX(e,M,x,w),CX(e,M,v,w,s,x,D),I&&(AX(M),B(M.states,AX))}}A(T),A(C,!0)}),t.each(function(p,v){var m=n.get(v),y=m.dataIdx,x=m.regionModel;DX(e,p,v,x,s,y),IX(e,p,v,x,s),RX(e,p,v,x,s)},this)},r.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=Je(),a=!1;B(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,u=e.data,c=s.svgNodeTagLower,f=s.el,h=u?u.indexOfName(o):null,p=l.getRegionModel(o);qJe.get(c)!=null&&f instanceof Zo&&EX(e,f,h,p),f instanceof Zo&&(f.culling=!0);var v=p.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!s.namedFrom&&(XJe.get(c)!=null&&CX(e,f,o,p,l,h,null),DX(e,f,o,p,l,h),IX(e,f,o,p,l),YJe.get(c)!=null)){var m=RX(e,f,o,p,l);m==="self"&&(a=!0);var y=i.get(o)||i.set(o,[]);y.push(f)}},this),this._enableBlurEntireSVG(a,e)},r.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Nv(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},r.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},r.prototype._useSVG=function(e){var t=df.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},r.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=df.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(e.get("roam")||!1);var o=e.mainType;function l(){var u={type:"geoRoam",componentType:o};return u[o+"Id"]=e.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,RV(s,u.dx,u.dy),n.dispatchAction(Ce(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,kV(s,u.scale,u.originX,u.originY),n.dispatchAction(Ce(l(),{totalZoom:s.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,f){return i.containPoint([c,f])&&!dI(u,n,e)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Hfe(t).ignore)})},r.prototype._updateMapSelectHandler=function(e,t,n,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r}();function EX(r,e,t,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=D2(i),u=D2(a),c=D2(o),f=D2(s),h=r.data;if(h){var p=h.getItemVisual(t,"style"),v=h.getItemVisual(t,"decal");r.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),v&&(l.decal=qm(v,r.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,Nv(e)}function CX(r,e,t,n,i,a,s){var o=r.data,l=r.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,h=void 0;(!o||a>=0)&&(h=i);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;pa(e,Mi(n),{labelFetcher:h,labelDataIndex:f,defaultText:t},p);var v=e.getTextContent();if(v&&(Hfe(v).ignore=v.ignore,e.textConfig&&s)){var m=e.getBoundingRect().clone();e.textConfig.layoutRect=m,e.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function DX(r,e,t,n,i,a){r.data?r.data.setItemGraphicEl(a,e):dt(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:n&&n.option||{}}}function IX(r,e,t,n,i){r.data||ng({el:e,componentModel:i,itemName:t,itemTooltipOption:n.get("tooltip")})}function RX(r,e,t,n,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return fn(e,s,a.get("blurScope"),a.get("disabled")),r.isGeo&&MWe(e,i,t),s}function kX(r,e,t){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!t&&o.polygonStart(),B(r,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!t&&o.polygonEnd(),n}var KJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new Gfe(i);s.add(o.group),o.draw(t,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,n,i){var a=t.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new nc({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:_y+1)});if(!f){var p=t.mainSeries.getData(),v=a.getName(l),m=p.indexOfName(v),y=a.getItemModel(l),x=y.getModel("label"),w=p.getItemGraphicEl(m);pa(h,Mi(y),{labelFetcher:{getFormattedLabel:function(b,T){return t.getFormattedLabel(m,T)}},defaultText:v}),h.disableLabelAnimation=!0,x.get("position")||h.setTextConfig({position:"bottom"}),w.onHoverStateChange=function(b){ZE(h,b)}}s.add(h)}}})},e.type="map",e}(Cr),ZJe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var n=Ny(this,{coordDimensions:["value"],encodeDefaulter:gt(qB,this)}),i=Je(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var u=df.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return B(u.regions,function(c){var f=c.name,h=i.get(f),p=c.properties&&c.properties.echartsStyle,v;h==null?(v={name:f},a.push(v)):v=n.getRawDataItem(h),p&&_t(v,p)}),n.appendData(a),n},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData(),s=this.getRawValue(t),o=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(o),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return Pi("section",{header:u.join(", "),noHeader:!u.length,blocks:[Pi("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",i=Vn(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Lr);function QJe(r,e){var t={};return B(r,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);t[s]=t[s]||[],isNaN(i)||t[s].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),s=0,o=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)o=Math.min(o,t[a][c]),l=Math.max(l,t[a][c]),s+=t[a][c];var f;return e==="min"?f=o:e==="max"?f=l:e==="average"?f=s/u:f=s,u===0?NaN:f})}function JJe(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),B(e,function(t,n){for(var i=QJe(Pe(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function eet(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getMapType();if(!(t.getHostGeoModel()||e[n])){var i={};B(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=o.getRegion(f);if(!(!h||isNaN(u))){var p=i[f]||0,v=o.dataToPoint(h.getCenter());i[f]=p+1,l.setItemLayout(c,{point:v,offset:p})}})});var a=t.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),e[n]=!0}})}var MX=Wi,Gb=function(r){ge(e,r);function e(t){var n=r.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Gc,n._rawTransformable=new Gc,n.name=t,n}return e.prototype.setBoundingRect=function(t,n,i,a){return this._rect=new Tt(t,n,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,n,i,a){this._transformTo(t,n,i,a),this._viewRect=new Tt(t,n,i,a)},e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Tt(t,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,n){t&&(this._center=[We(t[0],n.getWidth()),We(t[1],n.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var n=this.zoomLimit;n&&(n.max!=null&&(t=Math.min(n.max,t)),n.min!=null&&(t=Math.max(n.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),n=t.x+t.width/2,i=t.y+t.height/2;return[n,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=Wi([],a,t),i=Wi([],i,t),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),OD(this.transform||(this.transform=[]),n.transform||Ps()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],rg(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,i=new Gc;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?MX(i,t,a):ba(i,t)},e.prototype.pointToData=function(t){var n=this.invTransform;return n?MX([],t,n):[t[0],t[1]]},e.prototype.convertToPixel=function(t,n,i){var a=PX(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=PX(n);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Gc);function PX(r){var e=r.seriesModel;return e?e.coordinateSystem:null}var tet={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},jfe=["lng","lat"],q4=function(r){ge(e,r);function e(t,n,i){var a=r.call(this,t)||this;a.dimensions=jfe,a.type="geo",a._nameCoordMap=Je(),a.map=n;var s=i.projection,o=df.load(n,i.nameMap,i.nameProperty),l=df.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=tet[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var f;if(s)for(var h=0;h<u.length;h++){var p=u[h].getBoundingRect(s);f=f||p.clone(),f.union(p)}else f=o.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=s?1:vt(i.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new Tt(t,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(t))return n[i]}},e.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},e.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},e.prototype.dataToPoint=function(t,n,i){if($e(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,i)}},e.prototype.pointToData=function(t){var n=this.projection;return n&&(t=n.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return r.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,n,i){return r.prototype.dataToPoint.call(this,t,n,i)},e.prototype.convertToPixel=function(t,n,i){var a=LX(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=LX(n);return a===this?a.pointToData(i):null},e}(Gb);Cn(q4,Gb);function LX(r){var e=r.geoModel,t=r.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Qn).models[0]||{}).coordinateSystem:null}function OX(r,e){var t=r.get("boundingCoords");if(t!=null){var n=t[0],i=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(D,A,k,I){for(var M=k-D,P=I-A,O=0;O<=100;O++){var N=O/100,G=a.project([D+M*N,A+P*N]);Uc(n,n,G),Hc(i,i,G)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var f=this.getBoundingRect(),h=r.get("layoutCenter"),p=r.get("layoutSize"),v=e.getWidth(),m=e.getHeight(),y=f.width/f.height*this.aspectScale,x=!1,w,b;h&&p&&(w=[We(h[0],v),We(h[1],m)],b=We(p,Math.min(v,m)),!isNaN(w[0])&&!isNaN(w[1])&&!isNaN(b)&&(x=!0));var T;if(x)T={},y>1?(T.width=b,T.height=b/y):(T.height=b,T.width=b*y),T.y=w[1]-T.height/2,T.x=w[0]-T.width/2;else{var C=r.getBoxLayoutParams();C.aspect=y,T=ti(C,{width:v,height:m})}this.setViewRect(T.x,T.y,T.width,T.height),this.setCenter(r.get("center"),e),this.setZoom(r.get("zoom"))}function ret(r,e){B(e.get("geoCoord"),function(t,n){r.addGeoCoord(n,t)})}var net=function(){function r(){this.dimensions=jfe}return r.prototype.create=function(e,t){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),u=new q4(l+o,l,Ce({nameMap:s.get("nameMap")},i(s)));u.zoomLimit=s.get("scaleLimit"),n.push(u),s.coordinateSystem=u,u.model=s,u.resize=OX,u.resize(s,t)}),e.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=n[l]}});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),B(a,function(s,o){var l=Pe(s,function(c){return c.get("nameMap")}),u=new q4(o,o,Ce({nameMap:MD(l)},i(s[0])));u.zoomLimit=Ci.apply(null,Pe(s,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=OX,u.resize(s[0],t),B(s,function(c){c.coordinateSystem=u,ret(u,c)})}),n},r.prototype.getFilledRegions=function(e,t,n,i){for(var a=(e||[]).slice(),s=Je(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=df.load(t,n,i);return B(l.regions,function(u){var c=u.name,f=s.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&_t(f,h)}),a},r}(),Wfe=new net,iet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=df.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(t,i),Pv(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=Wfe.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Ko(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new or(s,t,t.ecModel)),s.selected&&(i[o]=!0)),a},Je()),n.selectedMap||(n.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new or(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,n){var i=this.getRegionModel(t),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:t};if(rt(a))return s.status=n,a(s);if($e(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Ut);function NX(r,e){return r.pointToProjected?r.pointToProjected(e):r.pointToData(e)}function PV(r,e,t,n){var i=r.getZoom(),a=r.getCenter(),s=e.zoom,o=r.projectedToPoint?r.projectedToPoint(a):r.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,r.setCenter(NX(r,o),n)),s!=null){if(t){var l=t.min||0,u=t.max||1/0;s=Math.max(Math.min(i*s,u),l)/i}r.scaleX*=s,r.scaleY*=s;var c=(e.originX-r.x)*(s-1),f=(e.originY-r.y)*(s-1);r.x-=c,r.y-=f,r.updateTransform(),r.setCenter(NX(r,o),n),r.setZoom(s*i)}return{center:r.getCenter(),zoom:r.getZoom()}}var aet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,n){this._api=n},e.prototype.render=function(t,n,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Gfe(i));var s=this._mapDraw;s.draw(t,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,n,i)},e.prototype._handleRegionClick=function(t){var n;Jp(t.target,function(i){return(n=dt(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(t,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=dt(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}($r);function set(r,e,t){df.registerMap(r,e,t)}function $fe(r){r.registerCoordinateSystem("geo",Wfe),r.registerComponentModel(iet),r.registerComponentView(aet),r.registerImpl("registerMap",set),r.registerImpl("getMap",function(t){return df.getMapForUser(t)});function e(t,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var u=l.coordinateSystem;B(u.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var c=[];B(s,function(f,h){s[h]&&c.push(h)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,i){var a=t.componentType||"series";n.eachComponent({mainType:a,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=PV(o,t,s.get("scaleLimit"),i);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&B(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function oet(r){Pt($fe),r.registerChartView(KJe),r.registerSeriesModel(ZJe),r.registerLayout(eet),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,JJe),jue("map",r.registerAction)}function uet(r){var e=r;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],n,i;n=t.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function cet(r,e){var t=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(t.length){det(r);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+e(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+e(r,i));r.parentNode.hierNode.defaultAncestor=pet(r,i,r.parentNode.hierNode.defaultAncestor||n[0],e)}function fet(r){var e=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:e},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function FX(r){return arguments.length?r:met}function W_(r,e){return r-=Math.PI/2,{x:e*Math.cos(r),y:e*Math.sin(r)}}function het(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function det(r){for(var e=r.children,t=e.length,n=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function pet(r,e,t,n){if(e){for(var i=r,a=r,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,f=o.hierNode.modifier;o=sL(o),a=oL(a),o&&a;){i=sL(i),s=oL(s),i.hierNode.ancestor=r;var h=o.hierNode.prelim+f-a.hierNode.prelim-u+n(o,a);h>0&&(get(vet(o,r,t),r,h),u+=h,l+=h),f+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=s.hierNode.modifier}o&&!sL(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=f-l),a&&!oL(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,t=r)}return t}function sL(r){var e=r.children;return e.length&&r.isExpand?e[e.length-1]:r.hierNode.thread}function oL(r){var e=r.children;return e.length&&r.isExpand?e[0]:r.hierNode.thread}function vet(r,e,t){return r.hierNode.ancestor.parentNode===e.parentNode?r.hierNode.ancestor:t}function get(r,e,t){var n=t/(e.hierNode.i-r.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,r.hierNode.change+=n}function met(r,e){return r.parentNode===e.parentNode?1:2}var yet=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),_et=function(r){ge(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new yet},e.prototype.buildPath=function(t,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=We(n.forkPosition,1),p=[];p[c]=s[c],p[f]=s[f]+(l[f]-s[f])*h,t.moveTo(s[0],s[1]),t.lineTo(p[0],p[1]),t.moveTo(o[0],o[1]),p[c]=o[c],t.lineTo(p[0],p[1]),p[c]=l[c],t.lineTo(p[0],p[1]),t.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var m=i[v];t.moveTo(m[0],m[1]),p[c]=m[c],t.lineTo(p[0],p[1])}},e}(Gt),xet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new ft,t}return e.prototype.init=function(t,n){this._controller=new Hb(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,n,i);var u=this._data;a.diff(u).add(function(c){BX(a,c)&&VX(a,c,null,o,t)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!BX(a,c)){h&&UX(u,f,h,o,t);return}VX(a,c,h,o,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&UX(u,c,f,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,n){var i=t.getData(),a=[];i.each(function(f){var h=i.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var s=[],o=[];jD(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=t.coordinateSystem=new Gb;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(t.get("center"),n),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(u,c,f){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,f)&&!dI(u,i,t)}),s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){RV(o,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){kV(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(t),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),i=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Cr);function BX(r,e){var t=r.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function VX(r,e,t,n,i){var a=!t,s=r.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:"#fff",c=r.tree.root,f=s.parentNode===c?s:s.parentNode||s,h=r.getItemGraphicEl(f.dataIndex),p=f.getLayout(),v=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,m=s.getLayout();a?(t=new Nb(r,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=v.x,t.y=v.y):t.updateData(r,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=m.rawX,t.__radialRawY=m.rawY,n.add(t),r.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,rr(t,{x:m.x,y:m.y},i);var y=t.getSymbolPath();if(i.get("layout")==="radial"){var x=c.children[0],w=x.getLayout(),b=x.children.length,T=void 0,C=void 0;if(m.x===w.x&&s.isExpand===!0&&x.children.length){var D={x:(x.children[0].getLayout().x+x.children[b-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[b-1].getLayout().y)/2};T=Math.atan2(D.y-w.y,D.x-w.x),T<0&&(T=Math.PI*2+T),C=D.x<w.x,C&&(T=T-Math.PI)}else T=Math.atan2(m.y-w.y,m.x-w.x),T<0&&(T=Math.PI*2+T),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(C=m.x<w.x,C&&(T=T-Math.PI)):(C=m.x>w.x,C||(T=T-Math.PI));var A=C?"left":"right",k=o.getModel("label"),I=k.get("rotate"),M=I*(Math.PI/180),P=y.getTextContent();P&&(y.setTextConfig({position:k.get("position")||A,rotation:I==null?-T:M,origin:"center"}),P.setStyle("verticalAlign","middle"))}var O=o.get(["emphasis","focus"]),N=O==="relative"?Hm(s.getAncestorsIndices(),s.getDescendantIndices()):O==="ancestor"?s.getAncestorsIndices():O==="descendant"?s.getDescendantIndices():null;N&&(dt(t).focus=N),wet(i,s,c,t,v,p,m,n),t.__edge&&(t.onHoverStateChange=function(G){if(G!=="blur"){var j=s.parentNode&&r.getItemGraphicEl(s.parentNode.dataIndex);j&&j.hoverState===Db||ZE(t.__edge,G)}})}function wet(r,e,t,n,i,a,s,o){var l=e.getModel(),u=r.get("edgeShape"),c=r.get("layout"),f=r.getOrient(),h=r.get(["lineStyle","curveness"]),p=r.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),m=n.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(m||(m=n.__edge=new wy({shape:Y4(c,f,h,i,i)})),rr(m,{shape:Y4(c,f,h,a,s)},r));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var y=e.children,x=[],w=0;w<y.length;w++){var b=y[w].getLayout();x.push([b.x,b.y])}m||(m=n.__edge=new _et({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:p}})),rr(m,{shape:{parentPoint:[s.x,s.y],childPoints:x}},r)}m&&!(u==="polyline"&&!e.isExpand)&&(m.useStyle(st({strokeNoScale:!0,fill:null},v)),da(m,l,"lineStyle"),Nv(m),o.add(m))}function zX(r,e,t,n,i){var a=e.tree.root,s=qfe(a,r),o=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(r.dataIndex);if(u){var c=e.getItemGraphicEl(o.dataIndex),f=c.__edge,h=u.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),p=n.get("edgeShape"),v=n.get("layout"),m=n.get("orient"),y=n.get(["lineStyle","curveness"]);h&&(p==="curve"?id(h,{shape:Y4(v,m,y,l,l),style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:i}):p==="polyline"&&n.get("layout")==="orthogonal"&&id(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:i}))}}function qfe(r,e){for(var t=e.parentNode===r?e:e.parentNode||e,n;n=t.getLayout(),n==null;)t=t.parentNode===r?t:t.parentNode||t;return{source:t,sourceLayout:n}}function UX(r,e,t,n,i){var a=r.tree.getNodeByDataIndex(e),s=r.tree.root,o=qfe(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};id(t,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(t),r.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){zX(u,r,n,i,l)}),zX(a,r,n,i,l)}function Y4(r,e,t,n,i){var a,s,o,l,u,c,f,h;if(r==="radial"){u=n.rawX,f=n.rawY,c=i.rawX,h=i.rawY;var p=W_(u,f),v=W_(u,f+(h-f)*t),m=W_(c,h+(f-h)*t),y=W_(c,h);return{x1:p.x||0,y1:p.y||0,x2:y.x||0,y2:y.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=n.x,f=n.y,c=i.x,h=i.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,s=f,o=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(a=u,s=f+(h-f)*t,o=c,l=h+(f-h)*t);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var Wo=Qt();function Yfe(r){var e=r.mainData,t=r.datas;t||(t={main:e},r.datasAttr={main:"data"}),r.datas=r.mainData=null,Xfe(e,t,r),B(t,function(n){B(e.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,gt(bet,r))})}),e.wrapMethod("cloneShallow",gt(Aet,r)),B(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,gt(Tet,r))}),Ba(t[e.dataType]===e)}function bet(r,e){if(Det(this)){var t=Ce({},Wo(this).datas);t[this.dataType]=e,Xfe(e,t,r)}else LV(e,this.dataType,Wo(this).mainData,r);return e}function Tet(r,e){return r.struct&&r.struct.update(),e}function Aet(r,e){return B(Wo(e).datas,function(t,n){t!==e&&LV(t.cloneShallow(),n,e,r)}),e}function Eet(r){var e=Wo(this).mainData;return r==null||e==null?e:Wo(e).datas[r]}function Cet(){var r=Wo(this).mainData;return r==null?[{data:r}]:Pe(jt(Wo(r).datas),function(e){return{type:e,data:Wo(r).datas[e]}})}function Det(r){return Wo(r).mainData===r}function Xfe(r,e,t){Wo(r).datas={},B(e,function(n,i){LV(n,i,r,t)})}function LV(r,e,t,n){Wo(t).datas[e]=r,Wo(r).mainData=t,r.dataType=e,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=r),r.getLinkedData=Eet,r.getLinkedDataAll=Cet}var Iet=function(){function r(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(e,t,n){rt(e)&&(n=t,t=e,e=null),e=e||{},$e(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,n);i==="postorder"&&t.call(n,this)},r.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},r.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].getNodeById(e);if(a)return a}},r.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].contains(e);if(a)return a}},r.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},r.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},r.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},r.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},r.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},r.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},r.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},r.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},r}(),OV=function(){function r(e){this.type="tree",this._nodes=[],this.hostModel=e}return r.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},r.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},r.prototype.getNodeById=function(e){return this.root.getNodeById(e)},r.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(var n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(e,t,n){var i=new r(t),a=[],s=1;o(e);function o(c,f){var h=c.value;s=Math.max(s,ke(h)?h.length:1),a.push(c);var p=new Iet(vi(c.name,""),i);f?Ret(p,f):i.root=p,i._nodes.push(p);var v=c.children;if(v)for(var m=0;m<v.length;m++)o(v[m],p)}i.root.updateDepthAndHeight(0);var l=Py(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new La(l,t);return u.initData(a),n&&n(u),Yfe({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r}();function Ret(r,e){var t=e.children;r.parentNode!==e&&(t.push(r),r.parentNode=e)}function Pw(r,e,t){if(r&&Ct(e,r.type)>=0){var n=t.getData().tree.root,i=r.targetNode;if($e(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function Kfe(r){for(var e=[];r;)r=r.parentNode,r&&e.push(r);return e.reverse()}function NV(r,e){var t=Kfe(r);return Ct(t,e)>=0}function vI(r,e){for(var t=[];r;){var n=r.dataIndex;t.push({name:r.name,dataIndex:n,value:e.getRawValue(n)}),r=r.parentNode}return t.reverse(),t}var ket=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},i=t.leaves||{},a=new or(i,this,this.ecModel),s=OV.createTree(n,this,o);function o(f){f.wrapMethod("getItemModel",function(h,p){var v=s.getNodeByDataIndex(p);return v&&v.children.length&&v.isExpand||(h.parentModel=a),h})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return Pi("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=vI(i,this),n.collapsed=!i.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Lr);function Met(r,e,t){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)e(a,t)}function p_(r,e){for(var t=[r],n;n=t.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function Pet(r,e){r.eachSeriesByType("tree",function(t){Let(t,e)})}function Let(r,e){var t=het(r,e);r.layoutInfo=t;var n=r.get("layout"),i=0,a=0,s=null;n==="radial"?(i=2*Math.PI,a=Math.min(t.height,t.width)/2,s=FX(function(b,T){return(b.parentNode===T.parentNode?1:2)/b.depth})):(i=t.width,a=t.height,s=FX());var o=r.getData().tree.root,l=o.children[0];if(l){uet(o),Met(l,cet,s),o.hierNode.modifier=-l.hierNode.prelim,p_(l,fet);var u=l,c=l,f=l;p_(l,function(b){var T=b.getLayout().x;T<u.getLayout().x&&(u=b),T>c.getLayout().x&&(c=b),b.depth>f.depth&&(f=b)});var h=u===c?1:s(u,c)/2,p=h-u.getLayout().x,v=0,m=0,y=0,x=0;if(n==="radial")v=i/(c.getLayout().x+h+p),m=a/(f.depth-1||1),p_(l,function(b){y=(b.getLayout().x+p)*v,x=(b.depth-1)*m;var T=W_(y,x);b.setLayout({x:T.x,y:T.y,rawX:y,rawY:x},!0)});else{var w=r.getOrient();w==="RL"||w==="LR"?(m=a/(c.getLayout().x+h+p),v=i/(f.depth-1||1),p_(l,function(b){x=(b.getLayout().x+p)*m,y=w==="LR"?(b.depth-1)*v:i-(b.depth-1)*v,b.setLayout({x:y,y:x},!0)})):(w==="TB"||w==="BT")&&(v=i/(c.getLayout().x+h+p),m=a/(f.depth-1||1),p_(l,function(b){y=(b.getLayout().x+p)*v,x=w==="TB"?(b.depth-1)*m:a-(b.depth-1)*m,b.setLayout({x:y,y:x},!0)}))}}}function Oet(r){r.eachSeriesByType("tree",function(e){var t=e.getData(),n=t.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");Ce(o,s)})})}function Net(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=PV(a,e,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function Fet(r){r.registerChartView(xet),r.registerSeriesModel(ket),r.registerLayout(Pet),r.registerVisual(Oet),Net(r)}var HX=["treemapZoomToNode","treemapRender","treemapMove"];function Bet(r){for(var e=0;e<HX.length;e++)r.registerAction({type:HX[e],update:"updateView"},An);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=Pw(t,o,a);if(l){var u=a.getViewRoot();u&&(t.direction=NV(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Zfe(r){var e=r.getData(),t=e.tree,n={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=w4(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var Vet=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};Qfe(i);var a=t.levels||[],s=this.designatedVisualItemStyle={},o=new or({itemStyle:s},this,n);a=t.levels=zet(a,n);var l=Pe(a||[],function(f){return new or(f,o,n)},this),u=OV.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(h,p){var v=u.getNodeByDataIndex(p),m=v?l[v.depth]:null;return h.parentModel=m||o,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Pi("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=vI(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Ce(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=Je(),this._idIndexMapCount=0);var i=n.get(t);return i==null&&n.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Zfe(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Lr);function Qfe(r){var e=0;B(r.children,function(n){Qfe(n);var i=n.value;ke(i)&&(i=i[0]),e+=i});var t=r.value;ke(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ke(r.value)?r.value[0]=t:r.value=t}function zet(r,e){var t=Pr(e.get("color")),n=Pr(e.get(["aria","decal","decals"]));if(t){r=r||[];var i,a;B(r,function(o){var l=new or(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=r[0]||(r[0]={});return i||(s.color=t.slice()),!a&&n&&(s.decal=n.slice()),r}}var Uet=8,GX=8,lL=5,Het=function(){function r(e){this.group=new ft,e.add(this.group)}return r.prototype.render=function(e,t,n,i){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,f,u),this._renderContent(e,f,o,l,u,c,i),tI(s,f.pos,f.box)}},r.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var a=vi(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+Uet*2,t.emptyItemWidth);t.totalWidth+=o+GX,t.renderList.push({node:i,text:a,width:o})}},r.prototype._renderContent=function(e,t,n,i,a,s,o){for(var l=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),f=M$e(t.pos,t.box),h=t.totalWidth,p=t.renderList,v=i.getModel("itemStyle").getItemStyle(),m=p.length-1;m>=0;m--){var y=p[m],x=y.node,w=y.width,b=y.text;h>f.width&&(h-=w-u,w=u,b=null);var T=new za({shape:{points:Get(l,0,w,c,m===p.length-1,m===0)},style:st(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Xt({style:Ur(a,{text:b})}),textConfig:{position:"inside"},z2:_y*1e4,onclick:gt(o,x)});T.disableLabelAnimation=!0,T.getTextContent().ensureState("emphasis").style=Ur(s,{text:b}),T.ensureState("emphasis").style=v,fn(T,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(T),jet(T,e,x),l+=w+GX}},r.prototype.remove=function(){this.group.removeAll()},r}();function Get(r,e,t,n,i,a){var s=[[i?r:r-lL,e],[r+t,e],[r+t,e+n],[i?r:r-lL,e+n]];return!a&&s.splice(2,0,[r+t+lL,e+n/2]),!i&&s.push([r,e+n/2]),s}function jet(r,e,t){dt(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&vI(t,e)}}var Wet=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(e,t,n,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(e){return this._finishedCallback=e,this},r.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},r}();function $et(){return new Wet}var X4=ft,jX=Kt,WX=3,$X="label",qX="upperLabel",qet=_y*10,Yet=_y*2,Xet=_y*3,Rp=Ov([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),YX=function(r){var e=Rp(r);return e.stroke=e.fill=e.lineWidth=null,e},wC=Qt(),Ket=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=v_(),t}return e.prototype.render=function(t,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Ct(s,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=Pw(a,o,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,h=this._storage,p=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),m=t.get("animation"),y=this._doRender(v,t,p);m&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,y,t,p):y.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new X4,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},e.prototype._doRender=function(t,n,i){var a=n.getData().tree,s=this._oldTree,o=v_(),l=v_(),u=this._storage,c=[];function f(w,b,T,C){return Zet(n,l,u,i,o,c,w,b,T,C)}m(a.root?[a.root]:[],s&&s.root?[s.root]:[],t,a===s||!s,0);var h=y(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===p.width&&v.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:h,renderFinally:x};function m(w,b,T,C,D){C?(b=w,B(w,function(I,M){!I.isRemoved()&&k(M,M)})):new cf(b,w,A,A).add(k).update(k).remove(gt(k,null)).execute();function A(I){return I.getId()}function k(I,M){var P=I!=null?w[I]:null,O=M!=null?b[M]:null,N=f(P,O,T,D);N&&m(P&&P.viewChildren||[],O&&O.viewChildren||[],N,C,D+1)}}function y(w){var b=v_();return w&&B(w,function(T,C){var D=b[C];B(T,function(A){A&&(D.push(A),wC(A).willDelete=!0)})}),b}function x(){B(h,function(w){B(w,function(b){b.parent&&b.parent.remove(b)})}),B(c,function(w){w.invisible=!0,w.dirty()})}},e.prototype._doAnimation=function(t,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(rt(s)?0:s)||0,u=(rt(o)?null:o)||"cubicOut",c=$et();B(n.willDeleteEls,function(f,h){B(f,function(p,v){if(!p.invisible){var m=p.parent,y,x=wC(m);if(a&&a.direction==="drillDown")y=m===a.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var w=0,b=0;x.willDelete||(w=x.nodeWidth/2,b=x.nodeHeight/2),y=h==="nodeGroup"?{x:w,y:b,style:{opacity:0}}:{shape:{x:w,y:b,width:0,height:0},style:{opacity:0}}}y&&c.add(p,y,l,0,u)}})}),B(this._storage,function(f,h){B(f,function(p,v){var m=n.lastsForAnimation[h][v],y={};m&&(p instanceof ft?m.oldX!=null&&(y.x=p.x,y.y=p.y,p.x=m.oldX,p.y=m.oldY):(m.oldShape&&(y.shape=Ce({},p.shape),p.setShape(m.oldShape)),m.fadein?(p.setStyle("opacity",0),y.style={opacity:1}):p.style.opacity!==1&&(y.style={opacity:1})),c.add(p,y,l,0,u))})},this),this._state="animating",c.finished(Ye(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(t){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new Hb(t.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",Ye(this._onPan,this)),n.on("zoom",Ye(this._onZoom,this)));var a=new Tt(0,0,t.getWidth(),t.getHeight());n.setPointerChecker(function(s,o,l){return a.contain(o,l)})},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>WX||Math.abs(t.dy)>WX)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var n=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new Tt(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,p=u.max||1/0;f=Math.max(Math.min(p,f),h)}var v=f/c.zoom;c.zoom=f;var m=this.seriesModel.layoutInfo;n-=m.x,i-=m.y;var y=Ps();jl(y,y,[-n,-i]),ND(y,y,[v,v]),jl(y,y,[n,i]),l.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var n=this;t.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&nC(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,n,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Het(this.group))).render(t,n,i.node,function(s){a._state!=="animating"&&(NV(t.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=v_(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,n),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e}(Cr);function v_(){return{nodeGroup:[],background:[],content:[]}}function Zet(r,e,t,n,i,a,s,o,l,u){if(!s)return;var c=s.getLayout(),f=r.getData(),h=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var p=c.width,v=c.height,m=c.borderWidth,y=c.invisible,x=s.getRawIndex(),w=o&&o.getRawIndex(),b=s.viewChildren,T=c.upperHeight,C=b&&b.length,D=h.getModel("itemStyle"),A=h.getModel(["emphasis","itemStyle"]),k=h.getModel(["blur","itemStyle"]),I=h.getModel(["select","itemStyle"]),M=D.get("borderRadius")||0,P=se("nodeGroup",X4);if(!P)return;if(l.add(P),P.x=c.x||0,P.y=c.y||0,P.markRedraw(),wC(P).nodeWidth=p,wC(P).nodeHeight=v,c.isAboveViewRoot)return P;var O=se("background",jX,u,Yet);O&&W(P,O,C&&c.upperLabelHeight);var N=h.getModel("emphasis"),G=N.get("focus"),j=N.get("blurScope"),U=N.get("disabled"),X=G==="ancestor"?s.getAncestorsIndices():G==="descendant"?s.getDescendantIndices():G;if(C)xw(P)&&Zp(P,!1),O&&(Zp(O,!U),f.setItemGraphicEl(s.dataIndex,O),d4(O,X,j));else{var ie=se("content",jX,u,Xet);ie&&Q(P,ie),O.disableMorphing=!0,O&&xw(O)&&Zp(O,!1),Zp(P,!U),f.setItemGraphicEl(s.dataIndex,P);var Z=h.getShallow("cursor");Z&&ie.attr("cursor",Z),d4(P,X,j)}return P;function W(Se,xe,Te){var Oe=dt(xe);if(Oe.dataIndex=s.dataIndex,Oe.seriesIndex=r.seriesIndex,xe.setShape({x:0,y:0,width:p,height:v,r:M}),y)H(xe);else{xe.invisible=!1;var ne=s.getVisual("style"),pt=ne.stroke,tt=YX(D);tt.fill=pt;var ct=Rp(A);ct.fill=A.get("borderColor");var it=Rp(k);it.fill=k.get("borderColor");var He=Rp(I);if(He.fill=I.get("borderColor"),Te){var xt=p-2*m;ee(xe,pt,ne.opacity,{x:m,y:0,width:xt,height:T})}else xe.removeTextContent();xe.setStyle(tt),xe.ensureState("emphasis").style=ct,xe.ensureState("blur").style=it,xe.ensureState("select").style=He,Nv(xe)}Se.add(xe)}function Q(Se,xe){var Te=dt(xe);Te.dataIndex=s.dataIndex,Te.seriesIndex=r.seriesIndex;var Oe=Math.max(p-2*m,0),ne=Math.max(v-2*m,0);if(xe.culling=!0,xe.setShape({x:m,y:m,width:Oe,height:ne,r:M}),y)H(xe);else{xe.invisible=!1;var pt=s.getVisual("style"),tt=pt.fill,ct=YX(D);ct.fill=tt,ct.decal=pt.decal;var it=Rp(A),He=Rp(k),xt=Rp(I);ee(xe,tt,pt.opacity,null),xe.setStyle(ct),xe.ensureState("emphasis").style=it,xe.ensureState("blur").style=He,xe.ensureState("select").style=xt,Nv(xe)}Se.add(xe)}function H(Se){!Se.invisible&&a.push(Se)}function ee(Se,xe,Te,Oe){var ne=h.getModel(Oe?qX:$X),pt=vi(h.get("name"),null),tt=ne.getShallow("show");pa(Se,Mi(h,Oe?qX:$X),{defaultText:tt?pt:null,inheritColor:xe,defaultOpacity:Te,labelFetcher:r,labelDataIndex:s.dataIndex});var ct=Se.getTextContent();if(ct){var it=ct.style,He=LD(it.padding||0);Oe&&(Se.setTextConfig({layoutRect:Oe}),ct.disableLabelLayout=!0),ct.beforeUpdate=function(){var gr=Math.max((Oe?Oe.width:Se.shape.width)-He[1]-He[3],0),Jr=Math.max((Oe?Oe.height:Se.shape.height)-He[0]-He[2],0);(it.width!==gr||it.height!==Jr)&&ct.setStyle({width:gr,height:Jr})},it.truncateMinChar=2,it.lineOverflow="truncate",J(it,Oe,c);var xt=ct.getState("emphasis");J(xt?xt.style:null,Oe,c)}}function J(Se,xe,Te){var Oe=Se?Se.text:null;if(!xe&&Te.isLeafRoot&&Oe!=null){var ne=r.get("drillDownIcon",!0);Se.text=ne?ne+" "+Oe:Oe}}function se(Se,xe,Te,Oe){var ne=w!=null&&t[Se][w],pt=i[Se];return ne?(t[Se][w]=null,de(pt,ne)):y||(ne=new xe,ne instanceof Zo&&(ne.z2=Qet(Te,Oe)),Me(pt,ne)),e[Se][x]=ne}function de(Se,xe){var Te=Se[x]={};xe instanceof X4?(Te.oldX=xe.x,Te.oldY=xe.y):Te.oldShape=Ce({},xe.shape)}function Me(Se,xe){var Te=Se[x]={},Oe=s.parentNode,ne=xe instanceof ft;if(Oe&&(!n||n.direction==="drillDown")){var pt=0,tt=0,ct=i.background[Oe.getRawIndex()];!n&&ct&&ct.oldShape&&(pt=ct.oldShape.width,tt=ct.oldShape.height),ne?(Te.oldX=0,Te.oldY=tt):Te.oldShape={x:pt,y:tt,width:0,height:0}}Te.fadein=!ne}}function Qet(r,e){return r*qet+e}var Lw=B,Jet=ot,bC=-1,ki=function(){function r(e){var t=e.mappingMethod,n=e.type,i=this.option=ut(e);this.type=n,this.mappingMethod=t,this._normalizeData=rtt[t];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(uL(i),ett(i)):t==="category"?i.categories?ttt(i):uL(i,!0):(Ba(t!=="linear"||i.dataExtent),uL(i))}return r.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},r.prototype.getNormalizer=function(){return Ye(this._normalizeData,this)},r.listVisualTypes=function(){return jt(r.visualHandlers)},r.isValidType=function(e){return r.visualHandlers.hasOwnProperty(e)},r.eachVisual=function(e,t,n){ot(e)?B(e,t,n):t.call(n,e)},r.mapVisual=function(e,t,n){var i,a=ke(e)?[]:ot(e)?{}:(i=!0,null);return r.eachVisual(e,function(s,o){var l=t.call(n,s,o);i?a=l:a[o]=l}),a},r.retrieveVisuals=function(e){var t={},n;return e&&Lw(r.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],n=!0)}),n?t:null},r.prepareVisualTypes=function(e){if(ke(e))e=e.slice();else if(Jet(e)){var t=[];Lw(e,function(n,i){t.push(i)}),e=t}else return[];return e.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},r.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},r.findPieceIndex=function(e,t,n){for(var i,a=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||$e(l)&&l===e+"")return s;n&&h(l,s)}}for(var s=0,o=t.length;s<o;s++){var u=t[s],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(R2(f[1],e,c[1]))return s}else if(c[1]===1/0){if(R2(f[0],c[0],e))return s}else if(R2(f[0],c[0],e)&&R2(f[1],e,c[1]))return s;n&&h(c[0],s),n&&h(c[1],s)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(p,v){var m=Math.abs(p-e);m<a&&(a=m,i=v)}},r.visualHandlers={color:{applyVisual:g_("color"),getColorMapper:function(){var e=this.option;return Ye(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),$_.call(this,t)}:function(t,n,i){var a=!!i;return!n&&(t=this._normalizeData(t)),i=Sx(t,e.parsedVisual,i),a?i:Fl(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Fl(Sx(e,this.option.parsedVisual),"rgba")},category:$_,piecewise:function(e,t){var n=Z4.call(this,t);return n==null&&(n=Fl(Sx(e,this.option.parsedVisual),"rgba")),n},fixed:kp}},colorHue:I2(function(e,t){return pm(e,t)}),colorSaturation:I2(function(e,t){return pm(e,null,t)}),colorLightness:I2(function(e,t){return pm(e,null,null,t)}),colorAlpha:I2(function(e,t){return vw(e,t)}),decal:{applyVisual:g_("decal"),_normalizedToVisual:{linear:null,category:$_,piecewise:null,fixed:null}},opacity:{applyVisual:g_("opacity"),_normalizedToVisual:K4([0,1])},liftZ:{applyVisual:g_("liftZ"),_normalizedToVisual:{linear:kp,category:kp,piecewise:kp,fixed:kp}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("symbol",i)},_normalizedToVisual:{linear:XX,category:$_,piecewise:function(e,t){var n=Z4.call(this,t);return n==null&&(n=XX.call(this,e)),n},fixed:kp}},symbolSize:{applyVisual:g_("symbolSize"),_normalizedToVisual:K4([0,1])}},r}();function ett(r){var e=r.pieceList;r.hasSpecialVisual=!1,B(e,function(t,n){t.originIndex=n,t.visual!=null&&(r.hasSpecialVisual=!0)})}function ttt(r){var e=r.categories,t=r.categoryMap={},n=r.visual;if(Lw(e,function(s,o){t[s]=o}),!ke(n)){var i=[];ot(n)?Lw(n,function(s,o){var l=t[o];i[l??bC]=s}):i[bC]=n,n=Jfe(r,i)}for(var a=e.length-1;a>=0;a--)n[a]==null&&(delete t[e[a]],e.pop())}function uL(r,e){var t=r.visual,n=[];ot(t)?Lw(t,function(a){n.push(a)}):t!=null&&n.push(t);var i={color:1,symbol:1};!e&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),Jfe(r,n)}function I2(r){return{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("color",r(t("color"),i))},_normalizedToVisual:K4([0,1])}}function XX(r){var e=this.option.visual;return e[Math.round(fr(r,[0,1],[0,e.length-1],!0))]||{}}function g_(r){return function(e,t,n){n(r,this.mapValueToVisual(e))}}function $_(r){var e=this.option.visual;return e[this.option.loop&&r!==bC?r%e.length:r]}function kp(){return this.option.visual[0]}function K4(r){return{linear:function(e){return fr(e,r,this.option.visual,!0)},category:$_,piecewise:function(e,t){var n=Z4.call(this,t);return n==null&&(n=fr(e,r,this.option.visual,!0)),n},fixed:kp}}function Z4(r){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var n=ki.findPieceIndex(r,t),i=t[n];if(i&&i.visual)return i.visual[this.type]}}function Jfe(r,e){return r.visual=e,r.type==="color"&&(r.parsedVisual=Pe(e,function(t){var n=ls(t);return n||[0,0,0,1]})),e}var rtt={linear:function(r){return fr(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var e=this.option.pieceList,t=ki.findPieceIndex(r,e,!0);if(t!=null)return fr(t,[0,e.length-1],[0,1],!0)},category:function(r){var e=this.option.categories?this.option.categoryMap[r]:r;return e??bC},fixed:An};function R2(r,e,t){return r?e<=t:e<t}var ntt="itemStyle",ehe=Qt();const itt={seriesType:"treemap",reset:function(r){var e=r.getData().tree,t=e.root;t.isRemoved()||the(t,{},r.getViewRoot().getAncestors(),r)}};function the(r,e,t,n){var i=r.getModel(),a=r.getLayout(),s=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(ntt),l=att(o,e,n),u=s.ensureUniqueItemVisual(r.dataIndex,"style"),c=o.get("borderColor"),f=o.get("borderColorSaturation"),h;f!=null&&(h=KX(l),c=stt(f,h)),u.stroke=c;var p=r.viewChildren;if(!p||!p.length)h=KX(l),u.fill=h;else{var v=ott(r,i,a,o,l,p);B(p,function(m,y){if(m.depth>=t.length||m===t[m.depth]){var x=ltt(i,l,m,y,v,n);the(m,x,t,n)}})}}}function att(r,e,t){var n=Ce({},e),i=t.designatedVisualItemStyle;return B(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var s=r.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function KX(r){var e=cL(r,"color");if(e){var t=cL(r,"colorAlpha"),n=cL(r,"colorSaturation");return n&&(e=pm(e,null,null,n)),t&&(e=vw(e,t)),e}}function stt(r,e){return e!=null?pm(e,null,null,r):null}function cL(r,e){var t=r[e];if(t!=null&&t!=="none")return t}function ott(r,e,t,n,i,a){if(!(!a||!a.length)){var s=fL(e,"color")||i.color!=null&&i.color!=="none"&&(fL(e,"colorAlpha")||fL(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:s.name,dataExtent:u,visual:s.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new ki(f);return ehe(h).drColorMappingBy=c,h}}}function fL(r,e){var t=r.get(e);return ke(t)&&t.length?{name:e,range:t}:null}function ltt(r,e,t,n,i,a){var s=Ce({},e);if(i){var o=i.type,l=o==="color"&&ehe(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(r.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var Ow=Math.max,SC=Math.min,ZX=Ci,FV=B,rhe=["itemStyle","borderWidth"],utt=["itemStyle","gapWidth"],ctt=["upperLabel","show"],ftt=["upperLabel","height"];const htt={seriesType:"treemap",reset:function(r,e,t,n){var i=t.getWidth(),a=t.getHeight(),s=r.option,o=ti(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=s.size||[],u=We(ZX(o.width,l[0]),i),c=We(ZX(o.height,l[1]),a),f=n&&n.type,h=["treemapZoomToNode","treemapRootToNode"],p=Pw(n,h,r),v=f==="treemapRender"||f==="treemapMove"?n.rootRect:null,m=r.getViewRoot(),y=Kfe(m);if(f!=="treemapMove"){var x=f==="treemapZoomToNode"?ytt(r,p,m,u,c):v?[v.width,v.height]:[u,c],w=s.sort;w&&w!=="asc"&&w!=="desc"&&(w="desc");var b={squareRatio:s.squareRatio,sort:w,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var T={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};m.setLayout(T),nhe(m,b,!1,0),T=m.getLayout(),FV(y,function(D,A){var k=(y[A+1]||m).getValue();D.setLayout(Ce({dataExtent:[k,k],borderWidth:0,upperHeight:0},T))})}var C=r.getData().tree.root;C.setLayout(_tt(o,v,p),!0),r.setLayoutInfo(o),ihe(C,new Tt(-o.x,-o.y,i,a),y,m,0)}};function nhe(r,e,t,n){var i,a;if(!r.isRemoved()){var s=r.getLayout();i=s.width,a=s.height;var o=r.getModel(),l=o.get(rhe),u=o.get(utt)/2,c=ahe(o),f=Math.max(l,c),h=l-u,p=f-u;r.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=Ow(i-2*h,0),a=Ow(a-h-p,0);var v=i*a,m=dtt(r,o,v,e,t,n);if(m.length){var y={x:h,y:p,width:i,height:a},x=SC(i,a),w=1/0,b=[];b.area=0;for(var T=0,C=m.length;T<C;){var D=m[T];b.push(D),b.area+=D.getLayout().area;var A=mtt(b,x,e.squareRatio);A<=w?(T++,w=A):(b.area-=b.pop().getLayout().area,QX(b,x,y,u,!1),x=SC(y.width,y.height),b.length=b.area=0,w=1/0)}if(b.length&&QX(b,x,y,u,!0),!t){var k=o.get("childrenVisibleMin");k!=null&&v<k&&(t=!0)}for(var T=0,C=m.length;T<C;T++)nhe(m[T],e,t,n+1)}}}function dtt(r,e,t,n,i,a){var s=r.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return r.viewChildren=[];s=sr(s,function(p){return!p.isRemoved()}),vtt(s,o);var u=gtt(e,s,o);if(u.sum===0)return r.viewChildren=[];if(u.sum=ptt(e,t,u.sum,o,s),u.sum===0)return r.viewChildren=[];for(var c=0,f=s.length;c<f;c++){var h=s[c].getValue()/u.sum*t;s[c].setLayout({area:h})}return l&&(s.length&&r.setLayout({isLeafRoot:!0},!0),s.length=0),r.viewChildren=s,r.setLayout({dataExtent:u.dataExtent},!0),s}function ptt(r,e,t,n,i){if(!n)return t;for(var a=r.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[n==="asc"?s-l-1:l].getValue();u/t*e<a&&(o=l,t-=u)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),t}function vtt(r,e){return e&&r.sort(function(t,n){var i=e==="asc"?t.getValue()-n.getValue():n.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}),r}function gtt(r,e,t){for(var n=0,i=0,a=e.length;i<a;i++)n+=e[i].getValue();var s=r.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],FV(e,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:n,dataExtent:o}}function mtt(r,e,t){for(var n=0,i=1/0,a=0,s=void 0,o=r.length;a<o;a++)s=r[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=r.area*r.area,u=e*e*t;return l?Ow(u*n/l,l/(u*i)):1/0}function QX(r,e,t,n,i){var a=e===t.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=t[o[a]],c=e?r.area/e:0;(i||c>t[l[s]])&&(c=t[l[s]]);for(var f=0,h=r.length;f<h;f++){var p=r[f],v={},m=c?p.getLayout().area/c:0,y=v[l[s]]=Ow(c-2*n,0),x=t[o[a]]+t[l[a]]-u,w=f===h-1||x<m?x:m,b=v[l[a]]=Ow(w-2*n,0);v[o[s]]=t[o[s]]+SC(n,y/2),v[o[a]]=u+SC(n,b/2),u+=w,p.setLayout(v,!0)}t[o[s]]+=c,t[l[s]]-=c}function ytt(r,e,t,n,i){var a=(e||{}).node,s=[n,i];if(!a||a===t)return s;for(var o,l=n*i,u=l*r.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,f=o.children,h=0,p=f.length;h<p;h++)c+=f[h].getValue();var v=a.getValue();if(v===0)return s;u*=c/v;var m=o.getModel(),y=m.get(rhe),x=Math.max(y,ahe(m));u+=4*y*y+(3*y+x)*Math.pow(u,.5),u>i4&&(u=i4),a=o}u<l&&(u=l);var w=Math.pow(u/l,.5);return[n*w,i*w]}function _tt(r,e,t){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!t)return n;var i=t.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:r.width/2-s[0],y:r.height/2-s[1]}}function ihe(r,e,t,n,i){var a=r.getLayout(),s=t[i],o=s&&s===r;if(!(s&&!o||i===t.length&&r!==n)){r.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new Tt(e.x-a.x,e.y-a.y,e.width,e.height);FV(r.viewChildren||[],function(u){ihe(u,l,t,n,i+1)})}}function ahe(r){return r.get(ctt)?r.get(ftt):0}function xtt(r){r.registerSeriesModel(Vet),r.registerChartView(Ket),r.registerVisual(itt),r.registerLayout(htt),Bet(r)}function wtt(r){var e=r.findComponents({mainType:"legend"});!e||!e.length||r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){tr(u)&&(u=s[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function btt(r){var e={};r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(o,e)),n.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&n.setItemVisual(s,c[f],h)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){$e(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(s,"style");Ce(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)i.setItemVisual(s,f[h],n.getItemVisual(l,f[h]))}})})}function k2(r){return r instanceof Array||(r=[r,r]),r}function Stt(r){r.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),i=k2(e.get("edgeSymbol")),a=k2(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=t.getEdgeByIndex(s),u=k2(o.getShallow("symbol",!0)),c=k2(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(s,"style");switch(Ce(h,f),h.stroke){case"source":{var p=l.node1.getVisual("style");h.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");h.stroke=p&&p.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var Q4="-->",gI=function(r){return r.get("autoCurveness")||null},she=function(r,e){var t=gI(r),n=20,i=[];if(tr(t))n=t;else if(ke(t)){r.__curvenessList=t;return}e>n&&(n=e);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));r.__curvenessList=i},Nw=function(r,e,t){var n=[r.id,r.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,n,i].join(Q4)},ohe=function(r){var e=r.split(Q4);return[e[0],e[2],e[1]].join(Q4)},Ttt=function(r,e){var t=Nw(r.node1,r.node2,e);return e.__edgeMap[t]},Att=function(r,e){var t=J4(Nw(r.node1,r.node2,e),e),n=J4(Nw(r.node2,r.node1,e),e);return t+n},J4=function(r,e){var t=e.__edgeMap;return t[r]?t[r].length:0};function Ett(r){gI(r)&&(r.__curvenessList=[],r.__edgeMap={},she(r))}function Ctt(r,e,t,n){if(gI(t)){var i=Nw(r,e,t),a=t.__edgeMap,s=a[ohe(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function BV(r,e,t,n){var i=gI(e),a=ke(i);if(!i)return null;var s=Ttt(r,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var u=Att(r,e);she(e,u),r.lineStyle=r.lineStyle||{};var c=Nw(r.node1,r.node2,e),f=e.__curvenessList,h=a||u%2?0:1;if(s.isForward)return f[h+o];var p=ohe(c),v=J4(p,e),m=f[o+v+h];return n?a?i&&i[0]===0?(v+h)%2?m:-m:((v%2?0:1)+h)%2?m:-m:(v+h)%2?m:-m:f[o+v+h]}function lhe(r){var e=r.coordinateSystem;if(!(e&&e.type!=="view")){var t=r.getGraph();t.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),VV(t,r)}}function VV(r,e){r.eachEdge(function(t,n){var i=Ol(t.getModel().get(["lineStyle","curveness"]),-BV(t,e,n,!0),0),a=ju(t.node1.getLayout()),s=ju(t.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),t.setLayout(o)})}function Dtt(r,e){r.eachSeriesByType("graph",function(t){var n=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),s=[];B(i.dimensions,function(h){s=s.concat(a.mapDimensionsAll(h))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var f=a.get(s[c],o);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}VV(a.graph,t)}else(!n||n==="none")&&lhe(t)})}function q_(r){var e=r.coordinateSystem;if(e.type!=="view")return 1;var t=r.option.nodeScaleRatio,n=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/n}function Y_(r){var e=r.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var JX=Math.PI,hL=[];function zV(r,e,t,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=r.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=s.count();if(s.setLayout({cx:l,cy:u}),!!f){if(t){var h=i.pointToData(n),p=h[0],v=h[1],m=[p-l,v-u];tg(m,m),_x(m,m,c),t.setLayout([l+m[0],u+m[1]],!0);var y=r.get(["circular","rotateLabel"]);uhe(t,y,l,u)}Itt[e](r,o,s,c,l,u,f),o.eachEdge(function(x,w){var b=Ol(x.getModel().get(["lineStyle","curveness"]),BV(x,r,w),0),T=ju(x.node1.getLayout()),C=ju(x.node2.getLayout()),D,A=(T[0]+C[0])/2,k=(T[1]+C[1])/2;+b&&(b*=3,D=[l*b+A*(1-b),u*b+k*(1-b)]),x.setLayout([T,C,D])})}}}var Itt={value:function(r,e,t,n,i,a,s){var o=0,l=t.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;o+=h,c.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=h})},symbolSize:function(r,e,t,n,i,a,s){var o=0;hL.length=s;var l=q_(r);e.eachNode(function(f){var h=Y_(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var p=Math.asin(h/2/n);isNaN(p)&&(p=JX/2),hL[f.dataIndex]=p,o+=p*2});var u=(2*JX-o)/s/2,c=0;e.eachNode(function(f){var h=u+hL[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=h})}};function uhe(r,e,t,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(e){var l=r.getLayout(),u=Math.atan2(l[1]-n,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";o.setTextConfig({rotation:-u,position:f,origin:"center"});var h=o.ensureState("emphasis");Ce(h.textConfig||(h.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function Rtt(r){r.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&zV(e,"symbolSize")})}var p0=zE;function ktt(r,e,t){for(var n=r,i=e,a=t.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=t.gravity==null?.1:t.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=gd(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=ju(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,p=h,v,m;return{warmUp:function(){p=h*.8},setFixed:function(y){n[y].fixed=!0},setUnfixed:function(y){n[y].fixed=!1},beforeStep:function(y){v=y},afterStep:function(y){m=y},step:function(y){v&&v(n,i);for(var x=[],w=n.length,b=0;b<i.length;b++){var T=i[b];if(!T.ignoreForceLayout){var C=T.n1,D=T.n2;bh(x,D.p,C.p);var A=hw(x)-T.d,k=D.w/(C.w+D.w);isNaN(k)&&(k=0),tg(x,x),!C.fixed&&p0(C.p,C.p,x,k*A*p),!D.fixed&&p0(D.p,D.p,x,-(1-k)*A*p)}}for(var b=0;b<w;b++){var I=n[b];I.fixed||(bh(x,l,I.p),p0(I.p,I.p,x,u*p))}for(var b=0;b<w;b++)for(var C=n[b],M=b+1;M<w;M++){var D=n[M];bh(x,D.p,C.p);var A=hw(x);A===0&&(goe(x,Math.random()-.5,Math.random()-.5),A=1);var P=(C.rep+D.rep)/A/A;!C.fixed&&p0(C.pp,C.pp,x,P),!D.fixed&&p0(D.pp,D.pp,x,-P)}for(var O=[],b=0;b<w;b++){var I=n[b];I.fixed||(bh(O,I.p,I.pp),p0(I.p,I.p,O,p),ba(I.pp,I.p))}p=p*.992;var N=p<.01;m&&m(n,i,N),y&&y(N)}}}function Mtt(r){r.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},i=e.getGraph(),a=i.data,s=i.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(b){var T=a.getId(b);a.setItemLayout(b,n[T]||[NaN,NaN])}):!l||l==="none"?lhe(e):l==="circular"&&zV(e,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),f=o.get("repulsion"),h=o.get("edgeLength"),p=ke(f)?f:[f,f],v=ke(h)?h:[h,h];v=[v[1],v[0]];var m=a.mapArray("value",function(b,T){var C=a.getItemLayout(T),D=fr(b,u,p);return isNaN(D)&&(D=(p[0]+p[1])/2),{w:D,rep:D,fixed:a.getItemModel(T).get("fixed"),p:!C||isNaN(C[0])||isNaN(C[1])?null:C}}),y=s.mapArray("value",function(b,T){var C=i.getEdgeByIndex(T),D=fr(b,c,v);isNaN(D)&&(D=(v[0]+v[1])/2);var A=C.getModel(),k=Ol(C.getModel().get(["lineStyle","curveness"]),-BV(C,e,T,!0),0);return{n1:m[C.node1.dataIndex],n2:m[C.node2.dataIndex],d:D,curveness:k,ignoreForceLayout:A.get("ignoreForceLayout")}}),x=t.getBoundingRect(),w=ktt(m,y,{rect:x,gravity:o.get("gravity"),friction:o.get("friction")});w.beforeStep(function(b,T){for(var C=0,D=b.length;C<D;C++)b[C].fixed&&ba(b[C].p,i.getNodeByIndex(C).getLayout())}),w.afterStep(function(b,T,C){for(var D=0,A=b.length;D<A;D++)b[D].fixed||i.getNodeByIndex(D).setLayout(b[D].p),n[a.getId(D)]=b[D].p;for(var D=0,A=T.length;D<A;D++){var k=T[D],I=i.getEdgeByIndex(D),M=k.n1.p,P=k.n2.p,O=I.getLayout();O=O?O.slice():[],O[0]=O[0]||[],O[1]=O[1]||[],ba(O[0],M),ba(O[1],P),+k.curveness&&(O[2]=[(M[0]+P[0])/2-(M[1]-P[1])*k.curveness,(M[1]+P[1])/2-(P[0]-M[0])*k.curveness]),I.setLayout(O)}}),e.forceLayout=w,e.preservedPoints=n,w.step()}else e.forceLayout=null})}function Ptt(r,e,t){var n=Ce(r.getBoxLayoutParams(),{aspect:t});return ti(n,{width:e.getWidth(),height:e.getHeight()})}function Ltt(r,e){var t=[];return r.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),s=a.mapArray(function(y){var x=a.getItemModel(y);return[+x.get("x"),+x.get("y")]}),o=[],l=[];jD(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=Ptt(n,e,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-o[0],h=l[1]-o[1],p=c.width,v=c.height,m=n.coordinateSystem=new Gb;m.zoomLimit=n.get("scaleLimit"),m.setBoundingRect(o[0],o[1],f,h),m.setViewRect(c.x,c.y,p,v),m.setCenter(n.get("center"),e),m.setZoom(n.get("zoom")),t.push(m)}}),t}var eK=gi.prototype,dL=wy.prototype,che=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(che);function pL(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Ott=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new che},e.prototype.buildPath=function(t,n){pL(n)?eK.buildPath.call(this,t,n):dL.buildPath.call(this,t,n)},e.prototype.pointAt=function(t){return pL(this.shape)?eK.pointAt.call(this,t):dL.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var n=this.shape,i=pL(n)?[n.x2-n.x1,n.y2-n.y1]:dL.tangentAt.call(this,t);return tg(i,i)},e}(Gt),vL=["fromSymbol","toSymbol"];function tK(r){return"_"+r+"Type"}function rK(r,e,t){var n=e.getItemVisual(t,r);if(!n||n==="none")return n;var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=My(i),u=sg(s||0,l);return n+l+u+(a||"")+(o||"")}function nK(r,e,t){var n=e.getItemVisual(t,r);if(!(!n||n==="none")){var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=My(i),u=sg(s||0,l),c=Vn(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=r,c}}function Ntt(r){var e=new Ott({name:"line",subPixelOptimize:!0});return e3(e.shape,r),e}function e3(r,e){r.x1=e[0][0],r.y1=e[0][1],r.x2=e[1][0],r.y2=e[1][1],r.percent=1;var t=e[2];t?(r.cpx1=t[0],r.cpy1=t[1]):(r.cpx1=NaN,r.cpy1=NaN)}var UV=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createLine(t,n,i),a}return e.prototype._createLine=function(t,n,i){var a=t.hostModel,s=t.getItemLayout(n),o=Ntt(s);o.shape.percent=0,Zr(o,{shape:{percent:1}},a,n),this.add(o),B(vL,function(l){var u=nK(l,t,n);this.add(u),this[tK(l)]=rK(l,t,n)},this),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(n),l={shape:{}};e3(l.shape,o),rr(s,l,a,n),B(vL,function(u){var c=rK(u,t,n),f=tK(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=nK(u,t,n);this.add(h)}this[f]=c},this),this._updateCommonStl(t,n,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,h=i&&i.focus,p=i&&i.blurScope;if(!i||t.hasItemOption){var v=t.getItemModel(n),m=v.getModel("emphasis");o=m.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),f=m.get("disabled"),h=m.get("focus"),p=m.get("blurScope"),c=Mi(v)}var y=t.getItemVisual(n,"style"),x=y.stroke;s.useStyle(y),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,B(vL,function(D){var A=this.childOfName(D);if(A){A.setColor(x),A.style.opacity=y.opacity;for(var k=0;k<ds.length;k++){var I=ds[k],M=s.getState(I);if(M){var P=M.style||{},O=A.ensureState(I),N=O.style||(O.style={});P.stroke!=null&&(N[A.__isEmptyBrush?"stroke":"fill"]=P.stroke),P.opacity!=null&&(N.opacity=P.opacity)}}A.markRedraw()}},this);var w=a.getRawValue(n);pa(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(D,A){return a.getFormattedLabel(D,A,t.dataType)}},inheritColor:x||"#000",defaultOpacity:y.opacity,defaultText:(w==null?t.getName(n):isFinite(w)?yn(w):w)+""});var b=this.getTextContent();if(b){var T=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=T.get("position")||"middle";var C=T.get("distance");ke(C)||(C=[C,C]),b.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),fn(this,h,p,f)},e.prototype.highlight=function(){lf(this)},e.prototype.downplay=function(){uf(this)},e.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},e.prototype.setLinePoints=function(t){var n=this.childOfName("line");e3(n.shape,t),n.dirty()},e.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=bh([],f,c);tg(h,h);function p(M,P){var O=M.__specifiedRotation;if(O==null){var N=l.tangentAt(P);M.attr("rotation",(P===1?-1:1)*Math.PI/2-Math.atan2(N[1],N[0]))}else M.attr("rotation",O)}if(n&&(n.setPosition(c),p(n,0),n.scaleX=n.scaleY=s*u,n.markRedraw()),i&&(i.setPosition(f),p(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,m=void 0,y=a.__labelDistance,x=y[0]*s,w=y[1]*s,b=u/2,T=l.tangentAt(b),C=[T[1],-T[0]],D=l.pointAt(b);C[1]>0&&(C[0]=-C[0],C[1]=-C[1]);var A=T[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var k=-Math.atan2(T[1],T[0]);f[0]<c[0]&&(k=Math.PI+k),a.rotation=k}var I=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":I=-w,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":I=w,m="top";break;default:I=0,m="middle"}switch(a.__position){case"end":a.x=h[0]*x+f[0],a.y=h[1]*w+f[1],v=h[0]>.8?"left":h[0]<-.8?"right":"center",m=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*x+c[0],a.y=-h[1]*w+c[1],v=h[0]>.8?"right":h[0]<-.8?"left":"center",m=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=x*A+c[0],a.y=c[1]+I,v=T[0]<0?"right":"left",a.originX=-x*A,a.originY=-I;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=D[0],a.y=D[1]+I,v="center",a.originY=-I;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-x*A+f[0],a.y=f[1]+I,v=T[0]>=0?"right":"left",a.originX=x*A,a.originY=-I;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||v})}},e}(ft),HV=function(){function r(e){this.group=new ft,this._LineCtor=e||UV}return r.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=e,a||i.removeAll();var s=iK(e);e.diff(a).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(a,e,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},r.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=iK(e),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function n(o){!o.isGroup&&!Ftt(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(gL(a)){var s=new this._LineCtor(t,i,this._seriesScope);s.traverse(n),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(e){yd(this._progressiveEls||this.group,e)},r.prototype._doAdd=function(e,t,n){var i=e.getItemLayout(t);if(gL(i)){var a=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,a),this.group.add(a)}},r.prototype._doUpdate=function(e,t,n,i,a){var s=e.getItemGraphicEl(n);if(!gL(t.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(t,i,a):s=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,s),this.group.add(s)},r}();function Ftt(r){return r.animators&&r.animators.length>0}function iK(r){var e=r.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Mi(e)}}function aK(r){return isNaN(r[0])||isNaN(r[1])}function gL(r){return r&&!aK(r[0])&&!aK(r[1])}var mL=[],yL=[],_L=[],v0=Hi,xL=Oh,sK=Math.abs;function oK(r,e,t){for(var n=r[0],i=r[1],a=r[2],s=1/0,o,l=t*t,u=.1,c=.1;c<=.9;c+=.1){mL[0]=v0(n[0],i[0],a[0],c),mL[1]=v0(n[1],i[1],a[1],c);var f=sK(xL(mL,e)-l);f<s&&(s=f,o=c)}for(var h=0;h<32;h++){var p=o+u;yL[0]=v0(n[0],i[0],a[0],o),yL[1]=v0(n[1],i[1],a[1],o),_L[0]=v0(n[0],i[0],a[0],p),_L[1]=v0(n[1],i[1],a[1],p);var f=xL(yL,e)-l;if(sK(f)<.01)break;var v=xL(_L,e)-l;u/=2,f<0?v>=0?o=o+u:o=o-u:v>=0?o=o-u:o=o+u}return o}function wL(r,e){var t=[],n=dw,i=[[],[],[]],a=[[],[]],s=[];e/=2,r.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");u.__original||(u.__original=[ju(u[0]),ju(u[1])],u[2]&&u.__original.push(ju(u[2])));var h=u.__original;if(u[2]!=null){if(ba(i[0],h[0]),ba(i[1],h[2]),ba(i[2],h[1]),c&&c!=="none"){var p=Y_(o.node1),v=oK(i,h[0],p*e);n(i[0][0],i[1][0],i[2][0],v,t),i[0][0]=t[3],i[1][0]=t[4],n(i[0][1],i[1][1],i[2][1],v,t),i[0][1]=t[3],i[1][1]=t[4]}if(f&&f!=="none"){var p=Y_(o.node2),v=oK(i,h[1],p*e);n(i[0][0],i[1][0],i[2][0],v,t),i[1][0]=t[1],i[2][0]=t[2],n(i[0][1],i[1][1],i[2][1],v,t),i[1][1]=t[1],i[2][1]=t[2]}ba(u[0],i[0]),ba(u[1],i[2]),ba(u[2],i[1])}else{if(ba(a[0],h[0]),ba(a[1],h[1]),bh(s,a[1],a[0]),tg(s,s),c&&c!=="none"){var p=Y_(o.node1);zE(a[0],a[0],s,p*e)}if(f&&f!=="none"){var p=Y_(o.node2);zE(a[1],a[1],s,-p*e)}ba(u[0],a[0]),ba(u[1],a[1])}})}function lK(r){return r.type==="view"}var Btt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){var i=new Fb,a=new HV,s=this.group;this._controller=new Hb(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(t,n,i){var a=this,s=t.coordinateSystem;this._model=t;var o=this._symbolDraw,l=this._lineDraw,u=this.group;if(lK(s)){var c={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?u.attr(c):rr(u,c,t)}wL(t.getGraph(),q_(t));var f=t.getData();o.updateData(f);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,n,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,v=t.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,v);var m=t.get("layout");f.graph.eachNode(function(b){var T=b.dataIndex,C=b.getGraphicEl(),D=b.getModel();if(C){C.off("drag").off("dragend");var A=D.get("draggable");A&&C.on("drag",function(I){switch(m){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,v),p.setFixed(T),f.setItemLayout(T,[C.x,C.y]);break;case"circular":f.setItemLayout(T,[C.x,C.y]),b.setLayout({fixed:!0},!0),zV(t,"symbolSize",b,[I.offsetX,I.offsetY]),a.updateLayout(t);break;case"none":default:f.setItemLayout(T,[C.x,C.y]),VV(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){p&&p.setUnfixed(T)}),C.setDraggable(A,!!D.get("cursor"));var k=D.get(["emphasis","focus"]);k==="adjacency"&&(dt(C).focus=b.getAdjacentDataIndices())}}),f.graph.eachEdge(function(b){var T=b.getGraphicEl(),C=b.getModel().get(["emphasis","focus"]);T&&C==="adjacency"&&(dt(T).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var y=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),x=f.getLayout("cx"),w=f.getLayout("cy");f.graph.eachNode(function(b){uhe(b,y,x,w)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,n){var i=this;(function a(){t.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(t,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;if(s.setPointerChecker(function(u,c,f){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,f)&&!dI(u,i,t)}),!lK(t.coordinateSystem)){s.disable();return}s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){RV(o,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){kV(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),wL(t.getGraph(),q_(t)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),i=q_(t);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){wL(t.getGraph(),q_(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Cr);function g0(r){return"_EC_"+r}var Vtt=function(){function r(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(!n[g0(e)]){var i=new Mp(e,t);return i.hostGraph=this,this.nodes.push(i),n[g0(e)]=i,i}},r.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},r.prototype.getNodeById=function(e){return this._nodesMap[g0(e)]},r.prototype.addEdge=function(e,t,n){var i=this._nodesMap,a=this._edgesMap;if(tr(e)&&(e=this.nodes[e]),tr(t)&&(t=this.nodes[t]),e instanceof Mp||(e=i[g0(e)]),t instanceof Mp||(t=i[g0(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new fhe(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),a[s]=o,o}},r.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},r.prototype.getEdge=function(e,t){e instanceof Mp&&(e=e.id),t instanceof Mp&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},r.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&e.call(t,n[a],a)},r.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&e.call(t,n[a],a)},r.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof Mp||(t=this._nodesMap[g0(t)]),!!t){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(i,t,null))for(var o=[t];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(i,f,l))return;o.push(f),f.__visited=!0}}}},r.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)n[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(o){var l=i[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)i[t.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var e=new r(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},r}(),Mp=function(){function r(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},r.prototype.getTrajectoryDataIndices=function(){for(var e=Je(),t=Je(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var a=[i.node1],s=[i.node2],o=0;o<a.length;){var l=a[o];o++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(o=0;o<s.length;){var c=s[o];o++,t.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),s.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},r}(),fhe=function(){function r(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=n??-1}return r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var e=Je(),t=Je();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,t.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)e.set(s.inEdges[o].dataIndex,!0),n.push(s.inEdges[o].node1)}for(a=0;a<i.length;){var l=i[a];a++,t.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)e.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:e.keys(),node:t.keys()}},r}();function hhe(r,e){return{getValue:function(t){var n=this[r][e];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[r][e].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[r][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[r][e].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[r][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][e].getRawIndex(this.dataIndex)}}}Cn(Mp,hhe("hostGraph","data"));Cn(fhe,hhe("hostGraph","edgeData"));function dhe(r,e,t,n,i){for(var a=new Vtt(n),s=0;s<r.length;s++)a.addNode(Ci(r[s].id,r[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<e.length;s++){var c=e[s],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),o.push(Ci(vi(c.id,null),f+" > "+h)),u++)}var p=t.get("coordinateSystem"),v;if(p==="cartesian2d"||p==="polar")v=ac(r,t);else{var m=Iy.get(p),y=m?m.dimensions||[]:[];Ct(y,"value")<0&&y.concat(["value"]);var x=Py(r,{coordDimensions:y,encodeDefine:t.getEncode()}).dimensions;v=new La(x,t),v.initData(r)}var w=new La(["value"],t);return w.initData(l,o),i&&i(v,w),Yfe({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var ztt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Ub(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){r.prototype.mergeDefaultAndTheme.apply(this,arguments),Pv(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=this;if(a&&i){Ett(this);var o=dhe(a,i,this,!0,l);return B(o.edges,function(u){Ctt(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var m=s._categoriesModels,y=v.getShallow("category"),x=m[y];return x&&(x.parentModel=v.parentModel,v.parentModel=x),v});var f=or.prototype.getModel;function h(v,m){var y=f.call(this,v,m);return y.resolveParentPath=p,y}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=p,v.getModel=h,v});function p(v){if(v&&(v[0]==="label"||v[1]==="label")){var m=v.slice();return v[0]==="label"?m[0]="edgeLabel":v[1]==="label"&&(m[1]="edgeLabel"),m}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(t,i),o=a.graph.getEdgeByIndex(t),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Pi("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var f=Lue({series:this,dataIndex:t,multipleSeries:n});return f},e.prototype._updateCategoriesData=function(){var t=Pe(this.option.categories||[],function(i){return i.value!=null?i:Ce({value:0},i)}),n=new La(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Lr),Utt={type:"graphRoam",event:"graphRoam",update:"none"};function Htt(r){r.registerChartView(Btt),r.registerSeriesModel(ztt),r.registerProcessor(wtt),r.registerVisual(btt),r.registerVisual(Stt),r.registerLayout(Dtt),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Rtt),r.registerLayout(Mtt),r.registerCoordinateSystem("graphView",{dimensions:Gb.dimensions,create:Ltt}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},An),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},An),r.registerAction(Utt,function(e,t,n){t.eachComponent({mainType:"series",query:e},function(i){var a=i.coordinateSystem,s=PV(a,e,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var Gtt=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),jtt=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new Gtt},e.prototype.buildPath=function(t,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,u=n.x-i(l)*o*(o>=s/3?1:2),c=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(n.x+i(l)*o,n.y+a(l)*o),t.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),t.lineTo(n.x-i(l)*o,n.y-a(l)*o),t.lineTo(u,c)},e}(Gt);function Wtt(r,e){var t=r.get("center"),n=e.getWidth(),i=e.getHeight(),a=Math.min(n,i),s=We(t[0],e.getWidth()),o=We(t[1],e.getHeight()),l=We(r.get("radius"),a/2);return{cx:s,cy:o,r:l}}function M2(r,e){var t=r==null?"":r+"";return e&&($e(e)?t=e.replace("{value}",t):rt(e)&&(t=e(r))),t}var $tt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),s=Wtt(t,i);this._renderMain(t,n,i,a,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,n,i,a,s){var o=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),p=h?yC:Va,v=f.get("show"),m=f.getModel("lineStyle"),y=m.get("width"),x=[u,c];TB(x,!l),u=x[0],c=x[1];for(var w=c-u,b=u,T=[],C=0;v&&C<a.length;C++){var D=Math.min(Math.max(a[C][0],0),1);c=u+w*D;var A=new p({shape:{startAngle:b,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-y,r:s.r},silent:!0});A.setStyle({fill:a[C][1]}),A.setStyle(m.getLineStyle(["color","width"])),T.push(A),b=c}T.reverse(),B(T,function(I){return o.add(I)});var k=function(I){if(I<=0)return a[0][1];var M;for(M=0;M<a.length;M++)if(a[M][0]>=I&&(M===0?0:a[M-1][0])<I)return a[M][1];return a[M-1][1]};this._renderTicks(t,n,i,k,s,u,c,l,y),this._renderTitleAndDetail(t,n,i,k,s),this._renderAnchor(t,s),this._renderPointer(t,n,i,k,s,u,c,l,y)},e.prototype._renderTicks=function(t,n,i,a,s,o,l,u,c){for(var f=this.group,h=s.cx,p=s.cy,v=s.r,m=+t.get("min"),y=+t.get("max"),x=t.getModel("splitLine"),w=t.getModel("axisTick"),b=t.getModel("axisLabel"),T=t.get("splitNumber"),C=w.get("splitNumber"),D=We(x.get("length"),v),A=We(w.get("length"),v),k=o,I=(l-o)/T,M=I/C,P=x.getModel("lineStyle").getLineStyle(),O=w.getModel("lineStyle").getLineStyle(),N=x.get("distance"),G,j,U=0;U<=T;U++){if(G=Math.cos(k),j=Math.sin(k),x.get("show")){var X=N?N+c:c,ie=new gi({shape:{x1:G*(v-X)+h,y1:j*(v-X)+p,x2:G*(v-D-X)+h,y2:j*(v-D-X)+p},style:P,silent:!0});P.stroke==="auto"&&ie.setStyle({stroke:a(U/T)}),f.add(ie)}if(b.get("show")){var X=b.get("distance")+N,Z=M2(yn(U/T*(y-m)+m),b.get("formatter")),W=a(U/T),Q=G*(v-D-X)+h,H=j*(v-D-X)+p,ee=b.get("rotate"),J=0;ee==="radial"?(J=-k+2*Math.PI,J>Math.PI/2&&(J+=Math.PI)):ee==="tangential"?J=-k-Math.PI/2:tr(ee)&&(J=ee*Math.PI/180),J===0?f.add(new Xt({style:Ur(b,{text:Z,x:Q,y:H,verticalAlign:j<-.8?"top":j>.8?"bottom":"middle",align:G<-.4?"left":G>.4?"right":"center"},{inheritColor:W}),silent:!0})):f.add(new Xt({style:Ur(b,{text:Z,x:Q,y:H,verticalAlign:"middle",align:"center"},{inheritColor:W}),silent:!0,originX:Q,originY:H,rotation:J}))}if(w.get("show")&&U!==T){var X=w.get("distance");X=X?X+c:c;for(var se=0;se<=C;se++){G=Math.cos(k),j=Math.sin(k);var de=new gi({shape:{x1:G*(v-X)+h,y1:j*(v-X)+p,x2:G*(v-A-X)+h,y2:j*(v-A-X)+p},silent:!0,style:O});O.stroke==="auto"&&de.setStyle({stroke:a((U+se/C)/T)}),f.add(de),k+=M}k-=M}else k+=I}},e.prototype._renderPointer=function(t,n,i,a,s,o,l,u,c){var f=this.group,h=this._data,p=this._progressEls,v=[],m=t.get(["pointer","show"]),y=t.getModel("progress"),x=y.get("show"),w=t.getData(),b=w.mapDimension("value"),T=+t.get("min"),C=+t.get("max"),D=[T,C],A=[o,l];function k(M,P){var O=w.getItemModel(M),N=O.getModel("pointer"),G=We(N.get("width"),s.r),j=We(N.get("length"),s.r),U=t.get(["pointer","icon"]),X=N.get("offsetCenter"),ie=We(X[0],s.r),Z=We(X[1],s.r),W=N.get("keepAspect"),Q;return U?Q=Vn(U,ie-G/2,Z-j,G,j,null,W):Q=new jtt({shape:{angle:-Math.PI/2,width:G,r:j,x:ie,y:Z}}),Q.rotation=-(P+Math.PI/2),Q.x=s.cx,Q.y=s.cy,Q}function I(M,P){var O=y.get("roundCap"),N=O?yC:Va,G=y.get("overlap"),j=G?y.get("width"):c/w.count(),U=G?s.r-j:s.r-(M+1)*j,X=G?s.r:s.r-M*j,ie=new N({shape:{startAngle:o,endAngle:P,cx:s.cx,cy:s.cy,clockwise:u,r0:U,r:X}});return G&&(ie.z2=fr(w.get(b,M),[T,C],[100,0],!0)),ie}(x||m)&&(w.diff(h).add(function(M){var P=w.get(b,M);if(m){var O=k(M,o);Zr(O,{rotation:-((isNaN(+P)?A[0]:fr(P,D,A,!0))+Math.PI/2)},t),f.add(O),w.setItemGraphicEl(M,O)}if(x){var N=I(M,o),G=y.get("clip");Zr(N,{shape:{endAngle:fr(P,D,A,G)}},t),f.add(N),c4(t.seriesIndex,w.dataType,M,N),v[M]=N}}).update(function(M,P){var O=w.get(b,M);if(m){var N=h.getItemGraphicEl(P),G=N?N.rotation:o,j=k(M,G);j.rotation=G,rr(j,{rotation:-((isNaN(+O)?A[0]:fr(O,D,A,!0))+Math.PI/2)},t),f.add(j),w.setItemGraphicEl(M,j)}if(x){var U=p[P],X=U?U.shape.endAngle:o,ie=I(M,X),Z=y.get("clip");rr(ie,{shape:{endAngle:fr(O,D,A,Z)}},t),f.add(ie),c4(t.seriesIndex,w.dataType,M,ie),v[M]=ie}}).execute(),w.each(function(M){var P=w.getItemModel(M),O=P.getModel("emphasis"),N=O.get("focus"),G=O.get("blurScope"),j=O.get("disabled");if(m){var U=w.getItemGraphicEl(M),X=w.getItemVisual(M,"style"),ie=X.fill;if(U instanceof Li){var Z=U.style;U.useStyle(Ce({image:Z.image,x:Z.x,y:Z.y,width:Z.width,height:Z.height},X))}else U.useStyle(X),U.type!=="pointer"&&U.setColor(ie);U.setStyle(P.getModel(["pointer","itemStyle"]).getItemStyle()),U.style.fill==="auto"&&U.setStyle("fill",a(fr(w.get(b,M),D,[0,1],!0))),U.z2EmphasisLift=0,da(U,P),fn(U,N,G,j)}if(x){var W=v[M];W.useStyle(w.getItemVisual(M,"style")),W.setStyle(P.getModel(["progress","itemStyle"]).getItemStyle()),W.z2EmphasisLift=0,da(W,P),fn(W,N,G,j)}}),this._progressEls=v)},e.prototype._renderAnchor=function(t,n){var i=t.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Vn(o,n.cx-s/2+We(l[0],n.r),n.cy-s/2+We(l[1],n.r),s,s,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,n,i,a,s){var o=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),h=new ft,p=[],v=[],m=t.isAnimationEnabled(),y=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){p[x]=new Xt({silent:!0}),v[x]=new Xt({silent:!0})}).update(function(x,w){p[x]=o._titleEls[w],v[x]=o._detailEls[w]}).execute(),l.each(function(x){var w=l.getItemModel(x),b=l.get(u,x),T=new ft,C=a(fr(b,[c,f],[0,1],!0)),D=w.getModel("title");if(D.get("show")){var A=D.get("offsetCenter"),k=s.cx+We(A[0],s.r),I=s.cy+We(A[1],s.r),M=p[x];M.attr({z2:y?0:2,style:Ur(D,{x:k,y:I,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:C})}),T.add(M)}var P=w.getModel("detail");if(P.get("show")){var O=P.get("offsetCenter"),N=s.cx+We(O[0],s.r),G=s.cy+We(O[1],s.r),j=We(P.get("width"),s.r),U=We(P.get("height"),s.r),X=t.get(["progress","show"])?l.getItemVisual(x,"style").fill:C,M=v[x],ie=P.get("formatter");M.attr({z2:y?0:2,style:Ur(P,{x:N,y:G,text:M2(b,ie),width:isNaN(j)?null:j,height:isNaN(U)?null:U,align:"center",verticalAlign:"middle"},{inheritColor:X})}),Ule(M,{normal:P},b,function(W){return M2(W,ie)}),m&&Hle(M,x,l,t,{getFormattedLabel:function(W,Q,H,ee,J,se){return M2(se?se.interpolatedValue:b,ie)}}),T.add(M)}h.add(T)}),this.group.add(h),this._titleEls=p,this._detailEls=v},e.type="gauge",e}(Cr),qtt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,n){return Ny(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Lr);function Ytt(r){r.registerChartView($tt),r.registerSeriesModel(qtt)}var Xtt=["itemStyle","opacity"],Ktt=function(r){ge(e,r);function e(t,n){var i=r.call(this)||this,a=i,s=new Ga,o=new Xt;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(t,n,!0),i}return e.prototype.updateData=function(t,n,i){var a=this,s=t.hostModel,o=t.getItemModel(n),l=t.getItemLayout(n),u=o.getModel("emphasis"),c=o.get(Xtt);c=c??1,i||$l(a),a.useStyle(t.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Zr(a,{style:{opacity:c}},s,n)):rr(a,{style:{opacity:c},shape:{points:l.points}},s,n),da(a,o),this._updateLabel(t,n),fn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=t.hostModel,l=t.getItemModel(n),u=t.getItemLayout(n),c=u.label,f=t.getItemVisual(n,"style"),h=f.fill;pa(s,Mi(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:t.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:h,outsideFill:h});var p=c.linePoints;a.setShape({points:p}),i.textGuideLineConfig={anchor:p?new bt(p[0][0],p[0][1]):null},rr(s,{style:{x:c.x,y:c.y}},o,n),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),_V(i,xV(l),{stroke:h})},e}(za),Ztt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new Ktt(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);ww(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Cr),Qtt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ub(Ye(this.getData,this),Ye(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,n){return Ny(this,{coordDimensions:["value"],encodeDefaulter:gt(qB,this)})},e.prototype._defaultLabelLine=function(t){Pv(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var n=this.getData(),i=r.prototype.getDataParams.call(this,t),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,t)/s*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Lr);function Jtt(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ert(r,e){for(var t=r.mapDimension("value"),n=r.mapArray(t,function(l){return l}),i=[],a=e==="ascending",s=0,o=r.count();s<o;s++)i[s]=s;return rt(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function trt(r){var e=r.hostModel,t=e.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=r.getItemLayout(n),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,h,p,v;if(c)s==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,p=(u[0][1]+u[3][1])/2,f="left"):s==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,p=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,p=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),v=[[h,p],[h,p]];else{var m=void 0,y=void 0,x=void 0,w=void 0,b=o.get("length");s==="left"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,x=m-b,h=x-5,f="right"):s==="right"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,x=m+b,h=x+5,f="left"):s==="top"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,w=y-b,p=w-5,f="center"):s==="bottom"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,w=y+b,p=w+5,f="center"):s==="rightTop"?(m=t==="horizontal"?u[3][0]:u[1][0],y=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(w=y-b,p=w-5,f="center"):(x=m+b,h=x+5,f="top")):s==="rightBottom"?(m=u[2][0],y=u[2][1],t==="horizontal"?(w=y+b,p=w+5,f="center"):(x=m+b,h=x+5,f="bottom")):s==="leftTop"?(m=u[0][0],y=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(w=y-b,p=w-5,f="center"):(x=m-b,h=x-5,f="right")):s==="leftBottom"?(m=t==="horizontal"?u[1][0]:u[3][0],y=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(w=y+b,p=w+5,f="center"):(x=m-b,h=x-5,f="right")):(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,t==="horizontal"?(w=y+b,p=w+5,f="center"):(x=m+b,h=x+5,f="left")),t==="horizontal"?(x=m,h=x):(w=y,p=w),v=[[m,y],[x,w]]}l.label={linePoints:v,x:h,y:p,verticalAlign:"middle",textAlign:f,inside:c}})}function rrt(r,e){r.eachSeriesByType("funnel",function(t){var n=t.getData(),i=n.mapDimension("value"),a=t.get("sort"),s=Jtt(t,e),o=t.get("orient"),l=s.width,u=s.height,c=ert(n,a),f=s.x,h=s.y,p=o==="horizontal"?[We(t.get("minSize"),u),We(t.get("maxSize"),u)]:[We(t.get("minSize"),l),We(t.get("maxSize"),l)],v=n.getDataExtent(i),m=t.get("min"),y=t.get("max");m==null&&(m=Math.min(v[0],0)),y==null&&(y=v[1]);var x=t.get("funnelAlign"),w=t.get("gap"),b=o==="horizontal"?l:u,T=(b-w*(n.count()-1))/n.count(),C=function(G,j){if(o==="horizontal"){var U=n.get(i,G)||0,X=fr(U,[m,y],p,!0),ie=void 0;switch(x){case"top":ie=h;break;case"center":ie=h+(u-X)/2;break;case"bottom":ie=h+(u-X);break}return[[j,ie],[j,ie+X]]}var Z=n.get(i,G)||0,W=fr(Z,[m,y],p,!0),Q;switch(x){case"left":Q=f;break;case"center":Q=f+(l-W)/2;break;case"right":Q=f+l-W;break}return[[Q,j],[Q+W,j]]};a==="ascending"&&(T=-T,w=-w,o==="horizontal"?f+=l:h+=u,c=c.reverse());for(var D=0;D<c.length;D++){var A=c[D],k=c[D+1],I=n.getItemModel(A);if(o==="horizontal"){var M=I.get(["itemStyle","width"]);M==null?M=T:(M=We(M,l),a==="ascending"&&(M=-M));var P=C(A,f),O=C(k,f+M);f+=M+w,n.setItemLayout(A,{points:P.concat(O.slice().reverse())})}else{var N=I.get(["itemStyle","height"]);N==null?N=T:(N=We(N,u),a==="ascending"&&(N=-N));var P=C(A,h),O=C(k,h+N);h+=N+w,n.setItemLayout(A,{points:P.concat(O.slice().reverse())})}}trt(n)})}function nrt(r){r.registerChartView(Ztt),r.registerSeriesModel(Qtt),r.registerLayout(rrt),r.registerProcessor(zb("funnel"))}var irt=.3,art=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new ft,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=cK(t);o.diff(l).add(h).update(p).remove(v).execute();function h(y){var x=uK(o,s,y,c,u);bL(x,o,y,f)}function p(y,x){var w=l.getItemGraphicEl(x),b=phe(o,y,c,u);o.setItemGraphicEl(y,w),rr(w,{shape:{points:b}},t,y),$l(w),bL(w,o,y,f)}function v(y){var x=l.getItemGraphicEl(y);s.remove(x)}if(!this._initialized){this._initialized=!0;var m=srt(u,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(m)}this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=cK(n),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=uK(a,this._dataGroup,c,o,s);f.incremental=!0,bL(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Cr);function srt(r,e,t){var n=r.model,i=r.getRect(),a=new Kt({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Zr(a,{shape:{width:i.width,height:i.height}},e,t),a}function phe(r,e,t,n){for(var i=[],a=0;a<t.length;a++){var s=t[a],o=r.get(r.mapDimension(s),e);ort(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function uK(r,e,t,n,i){var a=phe(r,t,n,i),s=new Ga({shape:{points:a},z2:10});return e.add(s),r.setItemGraphicEl(t,s),s}function cK(r){var e=r.get("smooth",!0);return e===!0&&(e=irt),e=Qu(e),Um(e)&&(e=0),{smooth:e}}function bL(r,e,t,n){r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");da(r,i,"lineStyle"),fn(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function ort(r,e){return e==="category"?r==null:r==null||isNaN(r)}var lrt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,n){return ac(null,this,{useEncodeDefaulter:Ye(urt,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){t===s&&a.push(i.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Lr);function urt(r){var e=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(e){var t={};return B(e.dimensions,function(n){var i=crt(n);t[n]=i}),t}}function crt(r){return+r.replace("dim","")}var frt=["lineStyle","opacity"],hrt={seriesType:"parallel",reset:function(r,e){var t=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(frt,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},i.start,i.end)}}}};function drt(r){prt(r),vrt(r)}function prt(r){if(!r.parallel){var e=!1;B(r.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(r.parallel=[{}])}}function vrt(r){var e=Pr(r.parallelAxis);B(e,function(t){if(ot(t)){var n=t.parallelIndex||0,i=Pr(r.parallel)[n];i&&i.parallelAxisDefault&&_t(t,i.parallelAxisDefault,!1)}})}var grt=5,mrt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this._model=t,this._api=i,this._handlers||(this._handlers={},B(yrt,function(a,s){i.getZr().on(s,this._handlers[s]=Ye(a,this))},this)),ky(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,n){Aw(this,"_throttledDispatchExpand"),B(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Ce({type:"parallelAxisExpand"},t))},e.type="parallel",e}($r),yrt={mousedown:function(r){SL(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var e=this._mouseDownPoint;if(SL(this,"click")&&e){var t=[r.offsetX,r.offsetY],n=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(n>grt)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!SL(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=t.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function SL(r,e){var t=r._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var _rt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var n=this.option;t&&_t(n,t,!0),this._initDimensions()},e.prototype.contains=function(t,n){var i=t.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){B(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[],i=sr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);B(i,function(a){t.push("dim"+a.get("dim")),n.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Ut),xrt=function(r){ge(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(nl);function ug(r,e,t,n,i,a){r=r||0;var s=t[1]-t[0];if(i!=null&&(i=m0(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(e[1]-e[0]);o=m0(o,[0,s]),i=a=m0(o,[i,a]),n=0}e[0]=m0(e[0],t),e[1]=m0(e[1],t);var l=TL(e,n);e[n]+=r;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[n]=m0(e[n],c);var f;return f=TL(e,n),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-n]=e[n]+l.sign*i),f=TL(e,n),a!=null&&f.span>a&&(e[1-n]=e[n]+f.sign*a),e}function TL(r,e){var t=r[e]-r[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function m0(r,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,r))}var AL=B,vhe=Math.min,ghe=Math.max,fK=Math.floor,wrt=Math.ceil,hK=yn,brt=Math.PI,Srt=function(){function r(e,t,n){this.type="parallel",this._axesMap=Je(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=e.dimensions,a=e.parallelAxisIndex;AL(i,function(s,o){var l=a[o],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(s,new xrt(s,Ob(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},r.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},r.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,s=e[1-a],o=e[a];return s>=n&&s<=n+t.axisLength&&o>=i&&o<=i+t.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();AL(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),Bv(s.scale,s.model)},this)}},this)},r.prototype.resize=function(e,t){this._rect=ti(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],i=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=t[i[s]],l=[0,o],u=this.dimensions.length,c=P2(e.get("axisExpandWidth"),l),f=P2(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&o>0,p=e.get("axisExpandWindow"),v;if(p)v=P2(p[1]-p[0],l),p[1]=p[0]+v;else{v=P2(c*(f-1),l);var m=e.get("axisExpandCenter")||fK(u/2);p=[c*m-v/2],p[1]=p[0]+v}var y=(o-v)/(u-f);y<3&&(y=0);var x=[fK(hK(p[0]/c,1))+1,wrt(hK(p[1]/c,1))-1],w=y/c*p[0];return{layout:a,pixelDimIndex:s,layoutBase:t[n[s]],layoutLength:o,axisBase:t[n[1-s]],axisLength:t[i[1-s]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:p,axisCount:u,winInnerIndices:x,axisExpandWindow0Pos:w}},r.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),AL(n,function(s,o){var l=(i.axisExpandable?Art:Trt)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:brt/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],h=c[a],p=Ps();md(p,p,h),jl(p,p,f),this._axesLayout[s]={position:f,rotation:h,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(e){return this._axesMap.get(e)},r.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},r.prototype.eachActiveState=function(e,t,n,i){n==null&&(n=0),i==null&&(i=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];B(s,function(y){o.push(e.mapDimension(y)),l.push(a.get(y).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=e.getValues(o,c),p=0,v=s.length;p<v;p++){var m=l[p].getActiveState(h[p]);if(m==="inactive"){f="inactive";break}}}t(f,c)}},r.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return Bl([e,0],n.transform)},r.prototype.getAxisLayout=function(e){return ut(this._axesLayout[e])},r.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var o=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&o<a*f[0]?(u="jump",l=o-a*f[2]):h&&c&&o>a*(1-f[0])?(u="jump",l=o-a*(1-f[2])):(l=o-a*f[1])>=0&&(l=o-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?ug(l,i,s,"all"):u="none";else{var p=i[1]-i[0],v=s[1]*o/p;i=[ghe(0,v-p/2)],i[1]=vhe(s[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:u}},r}();function P2(r,e){return vhe(ghe(r,e[0]),e[1])}function Trt(r,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*r,axisNameAvailableWidth:t,axisLabelShow:!0}}function Art(r,e){var t=e.layoutLength,n=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,u=!1,c;return r<s[0]?(o=r*a,c=a):r<=s[1]?(o=e.axisExpandWindow0Pos+r*n-e.axisExpandWindow[0],l=n,u=!0):(o=t-(i-1-r)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function Ert(r,e){var t=[];return r.eachComponent("parallel",function(n,i){var a=new Srt(n,r,e);a.name="parallel_"+i,a.resize(n,e),n.coordinateSystem=a,a.model=n,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Qn).models[0];n.coordinateSystem=i.coordinateSystem}}),t}var Crt={create:Ert},t3=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Ov([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=ut(t);if(n)for(var i=n.length-1;i>=0;i--)Js(n[i])},e.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=t&&t<=n[a][1])return"active";return"inactive"},e}(Ut);Cn(t3,Oy);var Vv=!0,Fw=Math.min,Km=Math.max,Drt=Math.pow,Irt=1e4,Rrt=6,krt=6,dK="globalPan",Mrt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Prt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},pK={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Lrt=0,GV=function(r){ge(e,r);function e(t){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new ft,n._uid="brushController_"+Lrt++,B(Urt,function(i,a){this._handlers[a]=Ye(i,this)},n),n}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||bJe(n,dK,this._uid),B(this._handlers,function(i,a){n.on(a,i)}),this._brushType=t.brushType,this._brushOption=_t(ut(pK),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;SJe(t,dK,this._uid),B(this._handlers,function(n,i){t.off(i,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};B(t,function(i){n[i.panelId]=ut(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Pe(t,function(h){return _t(ut(pK),h,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new cf(i,t,u,l).add(c).update(c).remove(f).execute(),this;function l(h,p){return(h.id!=null?h.id:n+p)+"-"+h.brushType}function u(h,p){return l(h.__brushOption,p)}function c(h,p){var v=t[h];if(p!=null&&i[p]===o)a[h]=i[p];else{var m=a[h]=p!=null?(i[p].__brushOption=v,i[p]):yhe(s,mhe(s,v));jV(s,m)}}function f(h){i[h]!==o&&s.group.remove(i[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),r3(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Jo);function mhe(r,e){var t=mI[e.brushType].createCover(r,e);return t.__brushOption=e,xhe(t,e),r.group.add(t),t}function yhe(r,e){var t=WV(e);return t.endCreating&&(t.endCreating(r,e),xhe(e,e.__brushOption)),e}function _he(r,e){var t=e.__brushOption;WV(e).updateCoverShape(r,e,t.range,t)}function xhe(r,e){var t=e.z;t==null&&(t=Irt),r.traverse(function(n){n.z=t,n.z2=t})}function jV(r,e){WV(e).updateCommon(r,e),_he(r,e)}function WV(r){return mI[r.__brushOption.brushType]}function $V(r,e,t){var n=r._panels;if(!n)return Vv;var i,a=r._transform;return B(n,function(s){s.isTargetByCursor(e,t,a)&&(i=s)}),i}function whe(r,e){var t=r._panels;if(!t)return Vv;var n=e.__brushOption.panelId;return n!=null?t[n]:Vv}function r3(r){var e=r._covers,t=e.length;return B(e,function(n){r.group.remove(n)},r),e.length=0,!!t}function zv(r,e){var t=Pe(r._covers,function(n){var i=n.__brushOption,a=ut(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Ort(r){var e=r._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],i=t[0]-n[0],a=t[1]-n[1],s=Drt(i*i+a*a,.5);return s>Rrt}function bhe(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function She(r,e,t,n){var i=new ft;return i.add(new Kt({name:"main",style:qV(t),silent:!0,draggable:!0,cursor:"move",drift:gt(vK,r,e,i,["n","s","w","e"]),ondragend:gt(zv,e,{isEnd:!0})})),B(n,function(a){i.add(new Kt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:gt(vK,r,e,i,a),ondragend:gt(zv,e,{isEnd:!0})}))}),i}function The(r,e,t,n){var i=n.brushStyle.lineWidth||0,a=Km(i,krt),s=t[0][0],o=t[1][0],l=s-i/2,u=o-i/2,c=t[0][1],f=t[1][1],h=c-a+i/2,p=f-a+i/2,v=c-s,m=f-o,y=v+i,x=m+i;Ic(r,e,"main",s,o,v,m),n.transformable&&(Ic(r,e,"w",l,u,a,x),Ic(r,e,"e",h,u,a,x),Ic(r,e,"n",l,u,y,a),Ic(r,e,"s",l,p,y,a),Ic(r,e,"nw",l,u,a,a),Ic(r,e,"ne",h,u,a,a),Ic(r,e,"sw",l,p,a,a),Ic(r,e,"se",h,p,a,a))}function n3(r,e){var t=e.__brushOption,n=t.transformable,i=e.childAt(0);i.useStyle(qV(t)),i.attr({silent:!n,cursor:n?"move":"default"}),B([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?i3(r,a[0]):Frt(r,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?Prt[o]+"-resize":null})})}function Ic(r,e,t,n,i,a,s){var o=e.childOfName(t);o&&o.setShape(Vrt(YV(r,e,[[n,i],[n+a,i+s]])))}function qV(r){return st({strokeNoScale:!0},r.brushStyle)}function Ahe(r,e,t,n){var i=[Fw(r,t),Fw(e,n)],a=[Km(r,t),Km(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function Nrt(r){return Bh(r.group)}function i3(r,e){var t={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=XD(t[e],Nrt(r));return n[i]}function Frt(r,e){var t=[i3(r,e[0]),i3(r,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function vK(r,e,t,n,i,a){var s=t.__brushOption,o=r.toRectRange(s.range),l=Ehe(e,i,a);B(n,function(u){var c=Mrt[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=r.fromRectRange(Ahe(o[0][0],o[1][0],o[0][1],o[1][1])),jV(e,t),zv(e,{isEnd:!1})}function Brt(r,e,t,n){var i=e.__brushOption.range,a=Ehe(r,t,n);B(i,function(s){s[0]+=a[0],s[1]+=a[1]}),jV(r,e),zv(r,{isEnd:!1})}function Ehe(r,e,t){var n=r.group,i=n.transformCoordToLocal(e,t),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function YV(r,e,t){var n=whe(r,e);return n&&n!==Vv?n.clipPath(t,r._transform):ut(t)}function Vrt(r){var e=Fw(r[0][0],r[1][0]),t=Fw(r[0][1],r[1][1]),n=Km(r[0][0],r[1][0]),i=Km(r[0][1],r[1][1]);return{x:e,y:t,width:n-e,height:i-t}}function zrt(r,e,t){if(!(!r._brushType||Hrt(r,e.offsetX,e.offsetY))){var n=r._zr,i=r._covers,a=$V(r,e,t);if(!r._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Vv||o.panelId===a.panelId)&&mI[o.brushType].contain(i[s],t[0],t[1]))return}a&&n.setCursorStyle("crosshair")}}function a3(r){var e=r.event;e.preventDefault&&e.preventDefault()}function s3(r,e,t){return r.childOfName("main").contain(e,t)}function Che(r,e,t,n){var i=r._creatingCover,a=r._creatingPanel,s=r._brushOption,o;if(r._track.push(t.slice()),Ort(r)||i){if(a&&!i){s.brushMode==="single"&&r3(r);var l=ut(s);l.brushType=gK(l.brushType,a),l.panelId=a===Vv?null:a.panelId,i=r._creatingCover=mhe(r,l),r._covers.push(i)}if(i){var u=mI[gK(r._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(YV(r,i,r._track)),n&&(yhe(r,i),u.updateCommon(r,i)),_he(r,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&$V(r,e,t)&&r3(r)&&(o={isEnd:n,removeOnClick:!0});return o}function gK(r,e){return r==="auto"?e.defaultBrushType:r}var Urt={mousedown:function(r){if(this._dragging)mK(this,r);else if(!r.target||!r.target.draggable){a3(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var t=this._creatingPanel=$V(this,r,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,t=r.offsetY,n=this.group.transformCoordToLocal(e,t);if(zrt(this,r,n),this._dragging){a3(r);var i=Che(this,r,n,!1);i&&zv(this,i)}},mouseup:function(r){mK(this,r)}};function mK(r,e){if(r._dragging){a3(e);var t=e.offsetX,n=e.offsetY,i=r.group.transformCoordToLocal(t,n),a=Che(r,e,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&zv(r,a)}}function Hrt(r,e,t){var n=r._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var mI={lineX:yK(0),lineY:yK(1),rect:{createCover:function(r,e){function t(n){return n}return She({toRectRange:t,fromRectRange:t},r,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var e=bhe(r);return Ahe(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,t,n){The(r,e,t,n)},updateCommon:n3,contain:s3},polygon:{createCover:function(r,e){var t=new ft;return t.add(new Ga({name:"main",style:qV(e),silent:!0})),t},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new za({name:"main",draggable:!0,drift:gt(Brt,r,e),ondragend:gt(zv,r,{isEnd:!0})}))},updateCoverShape:function(r,e,t,n){e.childAt(0).setShape({points:YV(r,e,t)})},updateCommon:n3,contain:s3}};function yK(r){return{createCover:function(e,t){return She({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},e,t,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(e){var t=bhe(e),n=Fw(t[0][r],t[1][r]),i=Km(t[0][r],t[1][r]);return[n,i]},updateCoverShape:function(e,t,n,i){var a,s=whe(e,t);if(s!==Vv&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(r);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-r]]}var l=[n,a];r&&l.reverse(),The(e,t,l,i)},updateCommon:n3,contain:s3}}function Dhe(r){return r=XV(r),function(e){return OB(e,r)}}function Ihe(r,e){return r=XV(r),function(t){var n=e??t,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function Rhe(r,e,t){var n=XV(r);return function(i,a){return n.contain(a[0],a[1])&&!dI(i,e,t)}}function XV(r){return Tt.create(r)}var Grt=["axisLine","axisTickLabel","axisName"],jrt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){r.prototype.init.apply(this,arguments),(this._brushController=new GV(n.getZr())).on("brush",Ye(this._onBrush,this))},e.prototype.render=function(t,n,i,a){if(!Wrt(t,n,a)){this.axisModel=t,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ft,this.group.add(this._axisGroup),!!t.get("show")){var o=qrt(t,n),l=o.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,h=l.getAxisLayout(f),p=Ce({strokeContainThreshold:c},h),v=new us(t,p);B(Grt,v.add,v),this._axisGroup.add(v.getGroup()),this._refreshBrushController(p,u,t,o,c,i),Mb(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,n,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Tt.create({x:l[0],y:-s/2,width:u,height:s});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Dhe(f),isTargetByCursor:Rhe(f,o,a),getLinearBrushOtherExtent:Ihe(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers($rt(i))},e.prototype._onBrush=function(t){var n=t.areas,i=this.axisModel,a=i.axis,s=Pe(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}($r);function Wrt(r,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===r}function $rt(r){var e=r.axis;return Pe(r.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function qrt(r,e){return e.getComponent("parallel",r.get("parallelIndex"))}var Yrt={type:"axisAreaSelect",event:"axisAreaSelected"};function Xrt(r){r.registerAction(Yrt,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),r.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var Krt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function khe(r){r.registerComponentView(mrt),r.registerComponentModel(_rt),r.registerCoordinateSystem("parallel",Crt),r.registerPreprocessor(drt),r.registerComponentModel(t3),r.registerComponentView(jrt),Xm(r,"parallel",t3,Krt),Xrt(r)}function Zrt(r){Pt(khe),r.registerChartView(art),r.registerSeriesModel(lrt),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,hrt)}var Qrt=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),Jrt=function(r){ge(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Qrt},e.prototype.buildPath=function(t,n){var i=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(t.lineTo(n.x2+i,n.y2),t.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(t.lineTo(n.x2,n.y2+i),t.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),t.closePath()},e.prototype.highlight=function(){lf(this)},e.prototype.downplay=function(){uf(this)},e}(Gt),ent=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return e.prototype.render=function(t,n,i){var a=this,s=t.getGraph(),o=this.group,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),h=t.getData("edge"),p=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,s.eachEdge(function(v){var m=new Jrt,y=dt(m);y.dataIndex=v.dataIndex,y.seriesIndex=t.seriesIndex,y.dataType="edge";var x=v.getModel(),w=x.getModel("lineStyle"),b=w.get("curveness"),T=v.node1.getLayout(),C=v.node1.getModel(),D=C.get("localX"),A=C.get("localY"),k=v.node2.getLayout(),I=v.node2.getModel(),M=I.get("localX"),P=I.get("localY"),O=v.getLayout(),N,G,j,U,X,ie,Z,W;m.shape.extent=Math.max(1,O.dy),m.shape.orient=p,p==="vertical"?(N=(D!=null?D*u:T.x)+O.sy,G=(A!=null?A*c:T.y)+T.dy,j=(M!=null?M*u:k.x)+O.ty,U=P!=null?P*c:k.y,X=N,ie=G*(1-b)+U*b,Z=j,W=G*b+U*(1-b)):(N=(D!=null?D*u:T.x)+T.dx,G=(A!=null?A*c:T.y)+O.sy,j=M!=null?M*u:k.x,U=(P!=null?P*c:k.y)+O.ty,X=N*(1-b)+j*b,ie=G,Z=N*b+j*(1-b),W=U),m.setShape({x1:N,y1:G,x2:j,y2:U,cpx1:X,cpy1:ie,cpx2:Z,cpy2:W}),m.useStyle(w.getItemStyle()),_K(m.style,p,v);var Q=""+x.get("value"),H=Mi(x,"edgeLabel");pa(m,H,{labelFetcher:{getFormattedLabel:function(se,de,Me,Se,xe,Te){return t.getFormattedLabel(se,de,"edge",Se,Ol(xe,H.normal&&H.normal.get("formatter"),Q),Te)}},labelDataIndex:v.dataIndex,defaultText:Q}),m.setTextConfig({position:"inside"});var ee=x.getModel("emphasis");da(m,x,"lineStyle",function(se){var de=se.getItemStyle();return _K(de,p,v),de}),o.add(m),h.setItemGraphicEl(v.dataIndex,m);var J=ee.get("focus");fn(m,J==="adjacency"?v.getAdjacentDataIndices():J==="trajectory"?v.getTrajectoryDataIndices():J,ee.get("blurScope"),ee.get("disabled"))}),s.eachNode(function(v){var m=v.getLayout(),y=v.getModel(),x=y.get("localX"),w=y.get("localY"),b=y.getModel("emphasis"),T=y.get(["itemStyle","borderRadius"])||0,C=new Kt({shape:{x:x!=null?x*u:m.x,y:w!=null?w*c:m.y,width:m.dx,height:m.dy,r:T},style:y.getModel("itemStyle").getItemStyle(),z2:10});pa(C,Mi(y),{labelFetcher:{getFormattedLabel:function(A,k){return t.getFormattedLabel(A,k,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),C.disableLabelAnimation=!0,C.setStyle("fill",v.getVisual("color")),C.setStyle("decal",v.getVisual("style").decal),da(C,y),o.add(C),f.setItemGraphicEl(v.dataIndex,C),dt(C).dataType="node";var D=b.get("focus");fn(C,D==="adjacency"?v.getAdjacentDataIndices():D==="trajectory"?v.getTrajectoryDataIndices():D,b.get("blurScope"),b.get("disabled"))}),f.eachItemGraphicEl(function(v,m){var y=f.getItemModel(m);y.get("draggable")&&(v.drift=function(x,w){a._focusAdjacencyDisabled=!0,this.shape.x+=x,this.shape.y+=w,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(tnt(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Cr);function _K(r,e,t){switch(r.fill){case"source":r.fill=t.node1.getVisual("color"),r.decal=t.node1.getVisual("style").decal;break;case"target":r.fill=t.node2.getVisual("color"),r.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),i=t.node2.getVisual("color");$e(n)&&$e(i)&&(r.fill=new by(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function tnt(r,e,t){var n=new Kt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Zr(n,{shape:{width:r.width+20}},e,t),n}var rnt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new or(s[l],this,n));var u=dhe(a,i,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(p,v){var m=p.parentModel,y=m.getData().getItemLayout(v);if(y){var x=y.depth,w=m.levelModels[x];w&&(p.parentModel=w)}return p}),h.wrapMethod("getItemModel",function(p,v){var m=p.parentModel,y=m.getGraph().getEdgeByIndex(v),x=y.node1.getLayout();if(x){var w=x.depth,b=m.levelModels[w];b&&(p.parentModel=b)}return p})}},e.prototype.setNodePosition=function(t,n){var i=this.option.data||this.option.nodes,a=i[t];a.localX=n[0],a.localY=n[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,i){function a(p){return isNaN(p)||p==null}if(i==="edge"){var s=this.getDataParams(t,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return Pi("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,h=this.getDataParams(t,i).data.name;return Pi("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,n){var i=r.prototype.getDataParams.call(this,t,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(t),s=a.getLayout().value;i.value=s}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Lr);function nnt(r,e){r.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),a=int(t,e);t.layoutInfo=a;var s=a.width,o=a.height,l=t.getGraph(),u=l.nodes,c=l.edges;snt(u);var f=sr(u,function(m){return m.getLayout().value===0}),h=f.length!==0?0:t.get("layoutIterations"),p=t.get("orient"),v=t.get("nodeAlign");ant(u,c,n,i,s,o,h,p,v)})}function int(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ant(r,e,t,n,i,a,s,o,l){ont(r,e,t,i,a,o,l),fnt(r,e,a,i,n,s,o),xnt(r,o)}function snt(r){B(r,function(e){var t=Uh(e.outEdges,TC),n=Uh(e.inEdges,TC),i=e.getValue()||0,a=Math.max(t,n,i);e.setLayout({value:a},!0)})}function ont(r,e,t,n,i,a,s){for(var o=[],l=[],u=[],c=[],f=0,h=0;h<e.length;h++)o[h]=1;for(var h=0;h<r.length;h++)l[h]=r[h].inEdges.length,l[h]===0&&u.push(r[h]);for(var p=-1;u.length;){for(var v=0;v<u.length;v++){var m=u[v],y=m.hostGraph.data.getRawDataItem(m.dataIndex),x=y.depth!=null&&y.depth>=0;x&&y.depth>p&&(p=y.depth),m.setLayout({depth:x?y.depth:f},!0),a==="vertical"?m.setLayout({dy:t},!0):m.setLayout({dx:t},!0);for(var w=0;w<m.outEdges.length;w++){var b=m.outEdges[w],T=e.indexOf(b);o[T]=0;var C=b.node2,D=r.indexOf(C);--l[D]===0&&c.indexOf(C)<0&&c.push(C)}}++f,u=c,c=[]}for(var h=0;h<o.length;h++)if(o[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var A=p>f-1?p:f-1;s&&s!=="left"&&lnt(r,s,a,A);var k=a==="vertical"?(i-t)/A:(n-t)/A;cnt(r,k,a)}function Mhe(r){var e=r.hostGraph.data.getRawDataItem(r.dataIndex);return e.depth!=null&&e.depth>=0}function lnt(r,e,t,n){if(e==="right"){for(var i=[],a=r,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++s}B(r,function(f){Mhe(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&unt(r,n)}function unt(r,e){B(r,function(t){!Mhe(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function cnt(r,e,t){B(r,function(n){var i=n.getLayout().depth*e;t==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function fnt(r,e,t,n,i,a,s){var o=hnt(r,s);dnt(o,e,t,n,i,s),EL(o,i,t,n,s);for(var l=1;a>0;a--)l*=.99,pnt(o,l,s),EL(o,i,t,n,s),_nt(o,l,s),EL(o,i,t,n,s)}function hnt(r,e){var t=[],n=e==="vertical"?"y":"x",i=s4(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),B(i.keys,function(a){t.push(i.buckets.get(a))}),t}function dnt(r,e,t,n,i,a){var s=1/0;B(r,function(o){var l=o.length,u=0;B(o,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(t-(l-1)*i)/u;c<s&&(s=c)}),B(r,function(o){B(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),B(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function EL(r,e,t,n,i){var a=i==="vertical"?"x":"y";B(r,function(s){s.sort(function(m,y){return m.getLayout()[a]-y.getLayout()[a]});for(var o,l,u,c=0,f=s.length,h=i==="vertical"?"dx":"dy",p=0;p<f;p++)l=s[p],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[h]+e;var v=i==="vertical"?n:t;if(u=c-e-v,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var p=f-2;p>=0;--p)l=s[p],u=l.getLayout()[a]+l.getLayout()[h]+e-c,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function pnt(r,e,t){B(r.slice().reverse(),function(n){B(n,function(i){if(i.outEdges.length){var a=Uh(i.outEdges,vnt,t)/Uh(i.outEdges,TC);if(isNaN(a)){var s=i.outEdges.length;a=s?Uh(i.outEdges,gnt,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-sd(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-sd(i,t))*e;i.setLayout({y:l},!0)}}})})}function vnt(r,e){return sd(r.node2,e)*r.getValue()}function gnt(r,e){return sd(r.node2,e)}function mnt(r,e){return sd(r.node1,e)*r.getValue()}function ynt(r,e){return sd(r.node1,e)}function sd(r,e){return e==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function TC(r){return r.getValue()}function Uh(r,e,t){for(var n=0,i=r.length,a=-1;++a<i;){var s=+e(r[a],t);isNaN(s)||(n+=s)}return n}function _nt(r,e,t){B(r,function(n){B(n,function(i){if(i.inEdges.length){var a=Uh(i.inEdges,mnt,t)/Uh(i.inEdges,TC);if(isNaN(a)){var s=i.inEdges.length;a=s?Uh(i.inEdges,ynt,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-sd(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-sd(i,t))*e;i.setLayout({y:l},!0)}}})})}function xnt(r,e){var t=e==="vertical"?"x":"y";B(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),B(r,function(n){var i=0,a=0;B(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),B(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function wnt(r){r.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var a=1/0,s=-1/0;B(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),B(n,function(o){var l=new ki({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&B(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function bnt(r){r.registerChartView(ent),r.registerSeriesModel(rnt),r.registerLayout(nnt),r.registerVisual(wnt),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var Phe=function(){function r(){}return r.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},r.prototype.getInitialData=function(e,t){var n,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],p=[i,a],v=p[c].get("type"),m=p[1-c].get("type"),y=e.data;if(y&&l){var x=[];B(y,function(T,C){var D;ke(T)?(D=T.slice(),T.unshift(C)):ke(T.value)?(D=Ce({},T),D.value=D.value.slice(),T.value.unshift(C)):D=T,x.push(D)}),e.data=x}var w=this.defaultValueDimensions,b=[{name:f,type:dC(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:dC(m),dimsDef:w.slice()}];return Ny(this,{coordDimensions:b,dimensionsCount:w.length+1,encodeDefaulter:gt(oue,b,this)})},r.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},r}(),Lhe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Lr);Cn(Lhe,Phe,!0);var Snt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=xK(c,a,u,l,!0);a.setItemGraphicEl(u,f),s.add(f)}}).update(function(u,c){var f=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(f);return}var h=a.getItemLayout(u);f?($l(f),Ohe(h,f,a,u)):f=xK(h,a,u,l),s.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},e.type="boxplot",e}(Cr),Tnt=function(){function r(){}return r}(),Ant=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new Tnt},e.prototype.buildPath=function(t,n){var i=n.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e}(Gt);function xK(r,e,t,n,i){var a=r.ends,s=new Ant({shape:{points:i?Ent(a,n,r):a}});return Ohe(r,s,e,t,i),s}function Ohe(r,e,t,n,i){var a=t.hostModel,s=ig[i?"initProps":"updateProps"];s(e,{shape:{points:r.ends}},a,n),e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(n),l=o.getModel("emphasis");da(e,o),fn(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Ent(r,e,t){return Pe(r,function(n){return n=n.slice(),n[e]=t.initBaseline,n})}var Lx=B;function Cnt(r){var e=Dnt(r);Lx(e,function(t){var n=t.seriesModels;n.length&&(Int(t),Lx(n,function(i,a){Rnt(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function Dnt(r){var e=[],t=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Ct(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(n)}),e}function Int(r){var e=r.axis,t=r.seriesModels,n=t.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;Lx(t,function(v){l=Math.max(l,v.getData().count())});var u=e.getExtent();o=Math.abs(u[1]-u[0])/l}Lx(t,function(v){var m=v.get("boxWidth");ke(m)||(m=[m,m]),s.push([We(m[0],o)||0,We(m[1],o)||0])});var c=o*.8-2,f=c/n*.3,h=(c-f*(n-1))/n,p=h/2-c/2;Lx(t,function(v,m){a.push(p),p+=f+h,i.push(Math.min(Math.max(h,s[m][0]),s[m][1]))})}function Rnt(r,e,t){var n=r.coordinateSystem,i=r.getData(),a=t/2,s=r.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),c=i.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var h=i.get(u,f),p=b(h,c[2],f),v=b(h,c[0],f),m=b(h,c[1],f),y=b(h,c[3],f),x=b(h,c[4],f),w=[];T(w,m,!1),T(w,y,!0),w.push(v,m,x,y),C(w,v),C(w,x),C(w,p),i.setItemLayout(f,{initBaseline:p[o],ends:w})}function b(D,A,k){var I=i.get(A,k),M=[];M[s]=D,M[o]=I;var P;return isNaN(D)||isNaN(I)?P=[NaN,NaN]:(P=n.dataToPoint(M),P[s]+=e),P}function T(D,A,k){var I=A.slice(),M=A.slice();I[s]+=a,M[s]-=a,k?D.push(I,M):D.push(M,I)}function C(D,A){var k=A.slice(),I=A.slice();k[s]-=a,I[s]+=a,D.push(k,I)}}function knt(r,e){e=e||{};for(var t=[],n=[],i=e.boundIQR,a=i==="none"||i===0,s=0;s<r.length;s++){var o=Js(r[s].slice()),l=dA(o,.25),u=dA(o,.5),c=dA(o,.75),f=o[0],h=o[o.length-1],p=(i??1.5)*(c-l),v=a?f:Math.max(f,l-p),m=a?h:Math.min(h,c+p),y=e.itemNameFormatter,x=rt(y)?y({value:s}):$e(y)?y.replace("{value}",s+""):s+"";t.push([x,v,l,u,c,m]);for(var w=0;w<o.length;w++){var b=o[w];if(b<v||b>m){var T=[x,b];n.push(T)}}}return{boxData:t,outliers:n}}var Mnt={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Ua){var n="";pr(n)}var i=knt(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function Pnt(r){r.registerSeriesModel(Lhe),r.registerChartView(Snt),r.registerLayout(Cnt),r.registerTransform(Mnt)}var Lnt=["itemStyle","borderColor"],Ont=["itemStyle","borderColor0"],Nnt=["itemStyle","borderColorDoji"],Fnt=["itemStyle","color"],Bnt=["itemStyle","color0"];function KV(r,e){return e.get(r>0?Fnt:Bnt)}function ZV(r,e){return e.get(r===0?Nnt:r>0?Lnt:Ont)}var Vnt={seriesType:"candlestick",plan:Ry(),performRawSeries:!0,reset:function(r,e){if(!e.isSeriesFiltered(r)){var t=r.pipelineContext.large;return!t&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=KV(o,s),l.stroke=ZV(o,s)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");Ce(u,l)}}}}}},znt=["color","borderColor"],Unt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){yd(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(o&&wK(u,f))return;var h=CL(f,c,!0);Zr(h,{shape:{points:f.ends}},t,c),DL(h,n,c,s),a.add(h),n.setItemGraphicEl(c,h)}}).update(function(c,f){var h=i.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(h);return}var p=n.getItemLayout(c);if(o&&wK(u,p)){a.remove(h);return}h?(rr(h,{shape:{points:p.ends}},t,c),$l(h)):h=CL(p),DL(h,n,c,s),a.add(h),n.setItemGraphicEl(c,h)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),bK(t,this.group);var n=t.get("clip",!0)?Bb(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=i.getItemLayout(s),l=CL(o);DL(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){bK(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Cr),Hnt=function(){function r(){}return r}(),Gnt=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new Hnt},e.prototype.buildPath=function(t,n){var i=n.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e}(Gt);function CL(r,e,t){var n=r.ends;return new Gnt({shape:{points:t?jnt(n,r):n},z2:100})}function wK(r,e){for(var t=!0,n=0;n<e.ends.length;n++)if(r.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function DL(r,e,t,n){var i=e.getItemModel(t);r.useStyle(e.getItemVisual(t,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,da(r,i);var a=e.getItemLayout(t).sign;B(r.states,function(o,l){var u=i.getModel(l),c=KV(a,u),f=ZV(a,u)||c,h=o.style||(o.style={});c&&(h.fill=c),f&&(h.stroke=f)});var s=i.getModel("emphasis");fn(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function jnt(r,e){return Pe(r,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var Wnt=function(){function r(){}return r}(),IL=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new Wnt},e.prototype.buildPath=function(t,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];t.moveTo(s,i[a++]),t.lineTo(s,i[a++])}else a+=3},e}(Gt);function bK(r,e,t,n){var i=r.getData(),a=i.getLayout("largePoints"),s=new IL({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new IL({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new IL({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),RL(1,s,r),RL(-1,o,r),RL(0,l,r),n&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function RL(r,e,t,n){var i=ZV(r,t)||KV(r,t),a=t.getModel("itemStyle").getItemStyle(znt);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var Nhe=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,i){var a=n.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Lr);Cn(Nhe,Phe,!0);function $nt(r){!r||!ke(r.series)||B(r.series,function(e){ot(e)&&e.type==="k"&&(e.type="candlestick")})}var qnt={seriesType:"candlestick",plan:Ry(),reset:function(r){var e=r.coordinateSystem,t=r.getData(),n=Ynt(r,t),i=0,a=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[i])),l=Pe(t.mapDimensionsAll(s[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?v:p};function p(m,y){for(var x,w=y.getStore();(x=m.next())!=null;){var b=w.get(o,x),T=w.get(u,x),C=w.get(c,x),D=w.get(f,x),A=w.get(h,x),k=Math.min(T,C),I=Math.max(T,C),M=X(k,b),P=X(I,b),O=X(D,b),N=X(A,b),G=[];ie(G,P,0),ie(G,M,1),G.push(W(N),W(P),W(O),W(M));var j=y.getItemModel(x),U=!!j.get(["itemStyle","borderColorDoji"]);y.setItemLayout(x,{sign:SK(w,x,T,C,c,U),initBaseline:T>C?P[a]:M[a],ends:G,brushRect:Z(D,A,b)})}function X(Q,H){var ee=[];return ee[i]=H,ee[a]=Q,isNaN(H)||isNaN(Q)?[NaN,NaN]:e.dataToPoint(ee)}function ie(Q,H,ee){var J=H.slice(),se=H.slice();J[i]=gA(J[i]+n/2,1,!1),se[i]=gA(se[i]-n/2,1,!0),ee?Q.push(J,se):Q.push(se,J)}function Z(Q,H,ee){var J=X(Q,ee),se=X(H,ee);return J[i]-=n/2,se[i]-=n/2,{x:J[0],y:J[1],width:n,height:se[1]-J[1]}}function W(Q){return Q[i]=gA(Q[i],1),Q}}function v(m,y){for(var x=ku(m.count*4),w=0,b,T=[],C=[],D,A=y.getStore(),k=!!r.get(["itemStyle","borderColorDoji"]);(D=m.next())!=null;){var I=A.get(o,D),M=A.get(u,D),P=A.get(c,D),O=A.get(f,D),N=A.get(h,D);if(isNaN(I)||isNaN(O)||isNaN(N)){x[w++]=NaN,w+=3;continue}x[w++]=SK(A,D,M,P,c,k),T[i]=I,T[a]=O,b=e.dataToPoint(T,null,C),x[w++]=b?b[0]:NaN,x[w++]=b?b[1]:NaN,T[a]=N,b=e.dataToPoint(T,null,C),x[w++]=b?b[1]:NaN}y.setLayout("largePoints",x)}}};function SK(r,e,t,n,i,a){var s;return t>n?s=-1:t<n?s=1:s=a?0:e>0?r.get(i,e-1)<=n?1:-1:1,s}function Ynt(r,e){var t=r.getBaseAxis(),n,i=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=We(vt(r.get("barMaxWidth"),i),i),s=We(vt(r.get("barMinWidth"),1),i),o=r.get("barWidth");return o!=null?We(o,i):Math.max(Math.min(i/2,a),s)}function Xnt(r){r.registerChartView(Unt),r.registerSeriesModel(Nhe),r.registerPreprocessor($nt),r.registerVisual(Vnt),r.registerLayout(qnt)}function TK(r,e){var t=e.rippleEffectColor||e.color;r.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var Knt=function(r){ge(e,r);function e(t,n){var i=r.call(this)||this,a=new Nb(t,n),s=new ft;return i.add(a),i.add(s),i.updateData(t,n),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,i=t.color,a=t.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=Vn(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),s.add(l)}TK(s,t)},e.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}TK(i,t)},e.prototype.highlight=function(){lf(this)},e.prototype.downplay=function(){uf(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,n){var i=this,a=t.hostModel;this.childAt(0).updateData(t,n);var s=this.childAt(1),o=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),u=My(t.getItemVisual(n,"symbolSize")),c=t.getItemVisual(n,"style"),f=c&&c.fill,h=o.getModel("emphasis");s.setScale(u),s.traverse(function(y){y.setStyle("fill",f)});var p=sg(t.getItemVisual(n,"symbolOffset"),u);p&&(s.x=p[0],s.y=p[1]);var v=t.getItemVisual(n,"symbolRotate");s.rotation=(v||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=o.get(["rippleEffect","scale"]),m.brushType=o.get(["rippleEffect","brushType"]),m.period=o.get(["rippleEffect","period"])*1e3,m.effectOffset=n/t.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=f,m.rippleEffectColor=o.get(["rippleEffect","color"]),m.rippleNumber=o.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?m.showEffectOn!=="render"&&i.startEffectAnimation(m):y==="normal"&&m.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=m,fn(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(ft),Znt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new Fb(Knt)},e.prototype.render=function(t,n,i){var a=t.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var n=t.coordinateSystem,i=n&&n.getArea&&n.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,n,i){var a=t.getData();this.group.dirty();var s=Vb("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=_oe(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Cr),Qnt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return ac(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Lr);function Jnt(r){r.registerChartView(Znt),r.registerSeriesModel(Qnt),r.registerLayout(Vb("effectScatter"))}var Fhe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;return a.add(a.createLine(t,n,i)),a._updateEffectSymbol(t,n),a}return e.prototype.createLine=function(t,n,i){return new UV(t,n,i)},e.prototype._updateEffectSymbol=function(t,n){var i=t.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");ke(s)||(s=[s,s]);var l=t.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=Vn(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,a,n))},e.prototype._updateEffectAnimation=function(t,n,i){var a=this.childAt(1);if(a){var s=t.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=Ci(n.get("delay"),function(p){return p/t.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;rt(f)?h=f(i):h=f,a.__t>0&&(h=-o*a.__t),this._animateSymbol(a,o,h,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,n,i,a,s){if(n>0){t.__t=0;var o=this,l=t.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(t)});a||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return zc(t.__p1,t.__cp1)+zc(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(t,n,i){this.childAt(0).updateData(t,n,i),this._updateEffectSymbol(t,n)},e.prototype._updateSymbolPosition=function(t){var n=t.__p1,i=t.__p2,a=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),u=Hi,c=jN;o[0]=u(n[0],a[0],i[0],s),o[1]=u(n[1],a[1],i[1],s);var f=t.__t<1?c(n[0],a[0],i[0],s):c(i[0],a[0],n[0],1-s),h=t.__t<1?c(n[1],a[1],i[1],s):c(i[1],a[1],n[1],1-s);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=zc(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*zc(n,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var i=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,i,n)},e}(ft),Bhe=function(r){ge(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createPolyline(t,n,i),a}return e.prototype._createPolyline=function(t,n,i){var a=t.getItemLayout(n),s=new Ga({shape:{points:a}});this.add(s),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(n)}};rr(s,o,a,n),this._updateCommonStl(t,n,i)},e.prototype._updateCommonStl=function(t,n,i){var a=this.childAt(0),s=t.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=o,fn(this,l,u,c)},e.prototype.updateLayout=function(t,n){var i=this.childAt(0);i.setShape("points",t.getItemLayout(n))},e}(ft),eit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,n,i){return new Bhe(t,n,i)},e.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=zc(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=i[l],h=i[l+1];t.x=f[0]*(1-c)+c*h[0],t.y=f[1]*(1-c)+c*h[1];var p=t.__t<1?h[0]-f[0]:f[0]-h[0],v=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(v,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},e}(Fhe),tit=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),rit=function(r){ge(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new tit},e.prototype.buildPath=function(t,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){t.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)t.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],c=i[s++],f=i[s++],h=i[s++];if(t.moveTo(u,c),a>0){var p=(u+f)/2-(c-h)*a,v=(c+h)/2-(f-u)*a;t.quadraticCurveTo(p,v,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],p=1;p<c;p++){var v=a[u++],m=a[u++];if(nh(f,h,v,m,o,t,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],v=a[u++],m=a[u++];if(s>0){var y=(f+v)/2-(h-m)*s,x=(h+m)/2-(v-f)*s;if(cle(f,h,y,x,v,m,o,t,n))return l}else if(nh(f,h,v,m,o,t,n))return l;l++}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(f,s),l=Math.max(f,l)}t=this._rect=new Tt(a,s,o,l)}return t},e}(Gt),nit=function(){function r(){this.group=new ft}return r.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},r.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new rit({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=dt(e);s.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),Vhe={seriesType:"lines",plan:Ry(),reset:function(r){var e=r.coordinateSystem;if(e){var t=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(t){for(var u=0,c=i.start;c<i.end;c++)u+=r.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var f=0,h=[],c=i.start;c<i.end;c++){var p=r.getLineCoords(c,s);t&&(o[f++]=p);for(var v=0;v<p;v++)h=e.dataToPoint(s[v],!1,h),o[f++]=h[0],o[f++]=h[1]}a.setLayout("linesPoints",o)}else for(var c=i.start;c<i.end;c++){var m=a.getItemModel(c),p=r.getLineCoords(c,s),y=[];if(t)for(var x=0;x<p;x++)y.push(e.dataToPoint(s[x]));else{y[0]=e.dataToPoint(s[0]),y[1]=e.dataToPoint(s[1]);var w=m.get(["lineStyle","curveness"]);+w&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*w,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*w])}a.setItemLayout(c,y)}}}}}},iit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var f=t.get("clip",!0)&&Bb(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,n,i){var a=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=Vhe.reset(t,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new nit:new HV(s?a?eit:Bhe:a?Fhe:UV),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var n=t.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.type="lines",e}(Cr),ait=typeof Uint32Array>"u"?Array:Uint32Array,sit=typeof Float64Array>"u"?Array:Float64Array;function AK(r){var e=r.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(r.data=Pe(e,function(t){var n=[t[0].coord,t[1].coord],i={coords:n};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),MD([i,t[0],t[1]])}))}var oit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],AK(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(AK(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Hm(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Hm(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),tr(t[0])){for(var i=t.length,a=new ait(i),s=new sit(i),o=0,l=0,u=0,c=0;c<i;){u++;var f=t[c++];a[l++]=o+n,a[l++]=f;for(var h=0;h<f;h++){var p=t[c++],v=t[c++];s[o++]=p,s[o++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,n){var i=new La(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Pi("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Lr);function L2(r){return r instanceof Array||(r=[r,r]),r}var lit={seriesType:"lines",reset:function(r){var e=L2(r.get("symbol")),t=L2(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]);function i(a,s){var o=a.getItemModel(s),l=L2(o.getShallow("symbol",!0)),u=L2(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function uit(r){r.registerChartView(iit),r.registerSeriesModel(oit),r.registerLayout(Vhe),r.registerVisual(lit)}var cit=256,fit=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Gl.createCanvas();this.canvas=e}return r.prototype.update=function(e,t,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),p=e.length;f.width=t,f.height=n;for(var v=0;v<p;++v){var m=e[v],y=m[0],x=m[1],w=m[2],b=i(w);h.globalAlpha=b,h.drawImage(o,y-c,x-c)}if(!f.width||!f.height)return f;for(var T=h.getImageData(0,0,f.width,f.height),C=T.data,D=0,A=C.length,k=this.minOpacity,I=this.maxOpacity,M=I-k;D<A;){var b=C[D+3]/256,P=Math.floor(b*(cit-1))*4;if(b>0){var O=s(b)?l:u;b>0&&(b=b*M+k),C[D++]=O[P],C[D++]=O[P+1],C[D++]=O[P+2],C[D++]=O[P+3]*b*256}else D+=4}return h.putImageData(T,0,0),f},r.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Gl.createCanvas()),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},r.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},r}();function hit(r,e,t){var n=r[1]-r[0];e=Pe(e,function(s){return{interval:[(s.interval[0]-r[0])/n,(s.interval[1]-r[0])/n]}});var i=e.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&t[o]}}function dit(r,e){var t=r[1]-r[0];return e=[(e[0]-r[0])/t,(e[1]-r[0])/t],function(n){return n>=e[0]&&n<=e[1]}}function EK(r){var e=r.dimensions;return e[0]==="lng"&&e[1]==="lat"}var pit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):EK(s)&&this._renderOnGeo(s,t,a,i)},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,n,i,a){var s=n.coordinateSystem;s&&(EK(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){yd(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,n,i,a,s){var o=t.coordinateSystem,l=og(o,"cartesian2d"),u,c,f,h;if(l){var p=o.getAxis("x"),v=o.getAxis("y");u=p.getBandWidth()+.5,c=v.getBandWidth()+.5,f=p.scale.getExtent(),h=v.scale.getExtent()}for(var m=this.group,y=t.getData(),x=t.getModel(["emphasis","itemStyle"]).getItemStyle(),w=t.getModel(["blur","itemStyle"]).getItemStyle(),b=t.getModel(["select","itemStyle"]).getItemStyle(),T=t.get(["itemStyle","borderRadius"]),C=Mi(t),D=t.getModel("emphasis"),A=D.get("focus"),k=D.get("blurScope"),I=D.get("disabled"),M=l?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],P=i;P<a;P++){var O=void 0,N=y.getItemVisual(P,"style");if(l){var G=y.get(M[0],P),j=y.get(M[1],P);if(isNaN(y.get(M[2],P))||isNaN(G)||isNaN(j)||G<f[0]||G>f[1]||j<h[0]||j>h[1])continue;var U=o.dataToPoint([G,j]);O=new Kt({shape:{x:U[0]-u/2,y:U[1]-c/2,width:u,height:c},style:N})}else{if(isNaN(y.get(M[1],P)))continue;O=new Kt({z2:1,shape:o.dataToRect([y.get(M[0],P)]).contentShape,style:N})}if(y.hasItemOption){var X=y.getItemModel(P),ie=X.getModel("emphasis");x=ie.getModel("itemStyle").getItemStyle(),w=X.getModel(["blur","itemStyle"]).getItemStyle(),b=X.getModel(["select","itemStyle"]).getItemStyle(),T=X.get(["itemStyle","borderRadius"]),A=ie.get("focus"),k=ie.get("blurScope"),I=ie.get("disabled"),C=Mi(X)}O.shape.r=T;var Z=t.getRawValue(P),W="-";Z&&Z[2]!=null&&(W=Z[2]+""),pa(O,C,{labelFetcher:t,labelDataIndex:P,defaultOpacity:N.opacity,defaultText:W}),O.ensureState("emphasis").style=x,O.ensureState("blur").style=w,O.ensureState("select").style=b,fn(O,A,k,I),O.incremental=s,s&&(O.states.emphasis.hoverLayer=!0),m.add(O),y.setItemGraphicEl(P,O),this._progressiveEls&&this._progressiveEls.push(O)}},e.prototype._renderOnGeo=function(t,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new fit;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),p=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),m=Math.min(c.height+c.y,a.getHeight()),y=v-h,x=m-p,w=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(w,function(A,k,I){var M=t.dataToPoint([A,k]);return M[0]-=h,M[1]-=p,M.push(I),M}),T=i.getExtent(),C=i.type==="visualMap.continuous"?dit(T,i.option.range):hit(T,i.getPieceList(),i.option.selected);u.update(b,y,x,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},C);var D=new Li({style:{width:y,height:x,x:h,y:p,image:u.canvas},silent:!0});this.group.add(D)},e.type="heatmap",e}(Cr),vit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return ac(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Iy.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Lr);function git(r){r.registerChartView(pit),r.registerSeriesModel(vit)}var mit=["itemStyle","borderWidth"],CK=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],kL=new nc,yit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:CK[+c],categoryDim:CK[1-+c]};s.diff(o).add(function(v){if(s.hasValue(v)){var m=IK(s,v),y=DK(s,v,m,h),x=RK(s,h,y);s.setItemGraphicEl(v,x),a.add(x),MK(x,h,y)}}).update(function(v,m){var y=o.getItemGraphicEl(m);if(!s.hasValue(v)){a.remove(y);return}var x=IK(s,v),w=DK(s,v,x,h),b=Whe(s,w);y&&b!==y.__pictorialShapeStr&&(a.remove(y),s.setItemGraphicEl(v,null),y=null),y?Ait(y,h,w):y=RK(s,h,w,!0),s.setItemGraphicEl(v,y),y.__pictorialSymbolMeta=w,a.add(y),MK(y,h,w)}).remove(function(v){var m=o.getItemGraphicEl(v);m&&kK(o,v,m.__pictorialSymbolMeta.animationModel,m)}).execute();var p=t.get("clip",!0)?Bb(t.coordinateSystem,!1,t):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,n){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(s){kK(a,dt(s).dataIndex,t,s)}):i.removeAll()},e.type="pictorialBar",e}(Cr);function DK(r,e,t,n){var i=r.getItemLayout(e),a=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:t,symbolType:r.getItemVisual(e,"symbol")||"circle",style:r.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};_it(t,a,i,n,h),xit(r,e,i,a,s,h.boundingLength,h.pxSign,c,n,h),wit(t,h.symbolScale,u,n,h);var p=h.symbolSize,v=sg(t.get("symbolOffset"),p);return bit(t,p,i,a,s,v,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function _it(r,e,t,n,i){var a=n.valueDim,s=r.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(ke(s)){var f=[ML(o,s[0])-l,ML(o,s[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else s!=null?c=ML(o,s)-l:e?c=n.coordSysExtent[a.index][u]-l:c=t[a.wh];i.boundingLength=c,e&&(i.repeatCutLength=t[a.wh]);var h=a.xy==="x",p=o.inverse;i.pxSign=h&&!p||!h&&p?c>=0?1:-1:c>0?1:-1}function ML(r,e){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)))}function xit(r,e,t,n,i,a,s,o,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),p=r.getItemVisual(e,"symbolSize"),v;ke(p)?v=p.slice():p==null?v=["100%","100%"]:v=[p,p],v[f.index]=We(v[f.index],h),v[c.index]=We(v[c.index],n?h:Math.abs(a)),u.symbolSize=v;var m=u.symbolScale=[v[0]/o,v[1]/o];m[c.index]*=(l.isHorizontal?-1:1)*s}function wit(r,e,t,n,i){var a=r.get(mit)||0;a&&(kL.attr({scaleX:e[0],scaleY:e[1],rotation:t}),kL.updateTransform(),a/=kL.getLineScale(),a*=e[n.valueDim.index]),i.valueLineWidth=a||0}function bit(r,e,t,n,i,a,s,o,l,u,c,f){var h=c.categoryDim,p=c.valueDim,v=f.pxSign,m=Math.max(e[p.index]+o,0),y=m;if(n){var x=Math.abs(l),w=Ci(r.get("symbolMargin"),"15%")+"",b=!1;w.lastIndexOf("!")===w.length-1&&(b=!0,w=w.slice(0,w.length-1));var T=We(w,e[p.index]),C=Math.max(m+T*2,0),D=b?0:T*2,A=_B(n),k=A?n:PK((x+D)/C),I=x-k*m;T=I/2/(b?k:Math.max(k-1,1)),C=m+T*2,D=b?0:T*2,!A&&n!=="fixed"&&(k=u?PK((Math.abs(u)+D)/C):0),y=k*C-D,f.repeatTimes=k,f.symbolMargin=T}var M=v*(y/2),P=f.pathPosition=[];P[h.index]=t[h.wh]/2,P[p.index]=s==="start"?M:s==="end"?l-M:l/2,a&&(P[0]+=a[0],P[1]+=a[1]);var O=f.bundlePosition=[];O[h.index]=t[h.xy],O[p.index]=t[p.xy];var N=f.barRectShape=Ce({},t);N[p.wh]=v*Math.max(Math.abs(t[p.wh]),Math.abs(P[p.index]+M)),N[h.wh]=t[h.wh];var G=f.clipShape={};G[h.xy]=-t[h.xy],G[h.wh]=c.ecSize[h.wh],G[p.xy]=0,G[p.wh]=t[p.wh]}function zhe(r){var e=r.symbolPatternSize,t=Vn(r.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function Uhe(r,e,t,n){var i=r.__pictorialBundle,a=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+s+t.symbolMargin*2;for(QV(r,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?_m(m,null,v(c),t,n):_m(m,null,{scaleX:0,scaleY:0},t,n,function(){i.remove(m)}),c++});c<u;c++){var h=zhe(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var p=v(c);_m(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},t,n)}function v(m){var y=o.slice(),x=t.pxSign,w=m;return(t.symbolRepeatDirection==="start"?x>0:x<0)&&(w=u-1-m),y[l.index]=f*(w-u/2+.5)+o[l.index],{x:y[0],y:y[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Hhe(r,e,t,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?_m(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(a=r.__pictorialMainPath=zhe(t),i.add(a),_m(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function Ghe(r,e,t){var n=Ce({},e.barRectShape),i=r.__pictorialBarRect;i?_m(i,null,{shape:n},e,t):(i=r.__pictorialBarRect=new Kt({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function jhe(r,e,t,n){if(t.symbolClip){var i=r.__pictorialClipPath,a=Ce({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(i)rr(i,{shape:a},o,l);else{a[s.wh]=0,i=new Kt({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var u={};u[s.wh]=t.clipShape[s.wh],ig[n?"updateProps":"initProps"](i,{shape:u},o,l)}}}function IK(r,e){var t=r.getItemModel(e);return t.getAnimationDelayParams=Sit,t.isAnimationEnabled=Tit,t}function Sit(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function Tit(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function RK(r,e,t,n){var i=new ft,a=new ft;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?Uhe(i,e,t):Hhe(i,e,t),Ghe(i,t,n),jhe(i,e,t,n),i.__pictorialShapeStr=Whe(r,t),i.__pictorialSymbolMeta=t,i}function Ait(r,e,t){var n=t.animationModel,i=t.dataIndex,a=r.__pictorialBundle;rr(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},n,i),t.symbolRepeat?Uhe(r,e,t,!0):Hhe(r,e,t,!0),Ghe(r,t,!0),jhe(r,e,t,!0)}function kK(r,e,t,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];QV(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),B(a,function(s){id(s,{scaleX:0,scaleY:0},t,e,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(e,null)}function Whe(r,e){return[r.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function QV(r,e,t){B(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&e.call(t,n)})}function _m(r,e,t,n,i,a){e&&r.attr(e),n.symbolClip&&!i?t&&r.attr(t):t&&ig[i?"updateProps":"initProps"](r,t,n.animationModel,n.dataIndex,a)}function MK(r,e,t){var n=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");QV(r,function(m){if(m instanceof Li){var y=m.style;m.useStyle(Ce({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},t.style))}else m.useStyle(t.style);var x=m.ensureState("emphasis");x.style=s,h&&(x.scaleX=m.scaleX*1.1,x.scaleY=m.scaleY*1.1),m.ensureState("blur").style=o,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=t.z2});var p=e.valueDim.posDesc[+(t.boundingLength>0)],v=r.__pictorialBarRect;v.ignoreClip=!0,pa(v,Mi(i),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:Ym(e.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:p}),fn(r,c,f,a.get("disabled"))}function PK(r){var e=Math.round(r);return Math.abs(r-e)<1e-4?e:Math.ceil(r)}var Eit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,r.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=_d(kw.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(kw);function Cit(r){r.registerChartView(yit),r.registerSeriesModel(Eit),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,gt(Dce,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ice("pictorialBar"))}var Dit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;o.x=0,o.y=c.y+f[0];function h(y){return y.name}var p=new cf(this._layersSeries||[],l,h,h),v=[];p.add(Ye(m,this,"add")).update(Ye(m,this,"update")).remove(Ye(m,this,"remove")).execute();function m(y,x,w){var b=s._layers;if(y==="remove"){o.remove(b[x]);return}for(var T=[],C=[],D,A=l[x].indices,k=0;k<A.length;k++){var I=a.getItemLayout(A[k]),M=I.x,P=I.y0,O=I.y;T.push(M,P),C.push(M,P+O),D=a.getItemVisual(A[k],"style")}var N,G=a.getItemLayout(A[0]),j=t.getModel("label"),U=j.get("margin"),X=t.getModel("emphasis");if(y==="add"){var ie=v[x]=new ft;N=new mfe({shape:{points:T,stackedOnPoints:C,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ie.add(N),o.add(ie),t.isAnimationEnabled()&&N.setClipPath(Iit(N.getBoundingRect(),t,function(){N.removeClipPath()}))}else{var ie=b[w];N=ie.childAt(0),o.add(ie),v[x]=ie,rr(N,{shape:{points:T,stackedOnPoints:C}},t),$l(N)}pa(N,Mi(t),{labelDataIndex:A[k-1],defaultText:a.getName(A[k-1]),inheritColor:D.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var Z=N.getTextContent();Z&&(Z.x=G.x-U,Z.y=G.y0+G.y/2),N.useStyle(D),a.setItemGraphicEl(x,N),da(N,t),fn(N,X.get("focus"),X.get("blurScope"),X.get("disabled"))}this._layersSeries=l,this._layers=v},e.type="themeRiver",e}(Cr);function Iit(r,e,t){var n=new Kt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Zr(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},e,t),n}var PL=2,Rit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ub(Ye(this.getData,this),Ye(this.getRawData,this))},e.prototype.fixData=function(t){var n=t.length,i={},a=s4(t,function(h){return i.hasOwnProperty(h[0]+"")||(i[h[0]+""]=-1),h[2]}),s=[];a.buckets.each(function(h,p){s.push({name:p,dataList:h})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var f=s[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,t[n]=[f,0,u],n++)}return t},e.prototype.getInitialData=function(t,n){for(var i=this.getReferringComponents("singleAxis",Qn).models[0],a=i.get("type"),s=sr(t.data,function(v){return v[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=Je(),c=0,f=0;f<o.length;++f)l.push(o[f][PL]),u.get(o[f][PL])||(u.set(o[f][PL],c),c++);var h=Py(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:dC(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new La(h,this);return p.initData(o),p},e.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),i=[],a=0;a<n;++a)i[a]=a;var s=t.mapDimension("single"),o=s4(i,function(u){return t.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(f,h){return t.get(s,f)-t.get(s,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,n,i){ke(t)||(t=t?[t]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,p=s[c].indices.length,v=0;v<p;++v){var m=a.get(t[0],s[c].indices[v]),y=Math.abs(m-n);y<=f&&(u=m,f=y,h=s[c].indices[v])}o.push(h)}return{dataIndices:o,nestestValue:u}},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getName(t),o=a.get(a.mapDimension("value"),t);return Pi("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Lr);function kit(r,e){r.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=We(o[0],s.height),o[1]=We(o[1],s.height);var u=s.height-o[0]-o[1];LK(n,t,u)}else{o[0]=We(o[0],s.width),o[1]=We(o[1],s.width);var c=s.width-o[0]-o[1];LK(n,t,c)}n.setLayout("layoutInfo",a)})}function LK(r,e,t){if(r.count())for(var n=e.coordinateSystem,i=e.getLayerSeries(),a=r.mapDimension("single"),s=r.mapDimension("value"),o=Pe(i,function(y){return Pe(y.indices,function(x){var w=n.dataToPoint(r.get(a,x));return w[1]=r.get(s,x),w})}),l=Mit(o),u=l.y0,c=t/l.max,f=i.length,h=i[0].indices.length,p,v=0;v<h;++v){p=u[v]*c,r.setItemLayout(i[0].indices[v],{layerIndex:0,x:o[0][v][0],y0:p,y:o[0][v][1]*c});for(var m=1;m<f;++m)p+=o[m-1][v][1]*c,r.setItemLayout(i[m].indices[v],{layerIndex:m,x:o[m][v][0],y0:p,y:o[m][v][1]*c})}}function Mit(r){for(var e=r.length,t=r[0].length,n=[],i=[],a=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=r[l][s][1];o>a&&(a=o),n.push(o)}for(var u=0;u<t;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<t;++c){var f=n[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function Pit(r){r.registerChartView(Dit),r.registerSeriesModel(Rit),r.registerLayout(kit),r.registerProcessor(zb("themeRiver"))}var Lit=2,Oit=4,OK=function(r){ge(e,r);function e(t,n,i,a){var s=r.call(this)||this;s.z2=Lit,s.textConfig={inside:!0},dt(s).seriesIndex=n.seriesIndex;var o=new Xt({z2:Oit,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,n,i,a),s}return e.prototype.updateData=function(t,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;dt(o).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=Ce({},c);f.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var p=n.getVisual("decal");p&&(h.decal=qm(p,s));var v=rv(l.getModel("itemStyle"),f,!0);Ce(f,v),B(ds,function(w){var b=o.ensureState(w),T=l.getModel([w,"itemStyle"]);b.style=T.getItemStyle();var C=rv(T,f);C&&(b.shape=C)}),t?(o.setShape(f),o.shape.r=c.r0,Zr(o,{shape:{r:c.r}},i,n.dataIndex)):(rr(o,{shape:f},i),$l(o)),o.useStyle(h),this._updateLabel(i);var m=l.getShallow("cursor");m&&o.attr("cursor",m),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),x=y==="relative"?Hm(n.getAncestorsIndices(),n.getDescendantIndices()):y==="ancestor"?n.getAncestorsIndices():y==="descendant"?n.getDescendantIndices():y;fn(this,x,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),p=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(v!=null&&Math.abs(o)<v);h.ignore=!m,B(_w,function(x){var w=x==="normal"?i.getModel("label"):i.getModel([x,"label"]),b=x==="normal",T=b?h:h.ensureState(x),C=t.getFormattedLabel(p,x);b&&(C=C||n.node.name),T.style=Ur(w,{},null,x!=="normal",!0),C&&(T.style.text=C);var D=w.get("show");D!=null&&!b&&(T.ignore=!D);var A=y(w,"position"),k=b?f:f.states[x],I=k.style.fill;k.textConfig={outsideFill:w.get("color")==="inherit"?I:null,inside:A!=="outside"};var M,P=y(w,"distance")||0,O=y(w,"align"),N=y(w,"rotate"),G=Math.PI*.5,j=Math.PI*1.5,U=eo(N==="tangential"?Math.PI/2-l:l),X=U>G&&!Gm(U-G)&&U<j;A==="outside"?(M=s.r+P,O=X?"right":"left"):!O||O==="center"?(o===2*Math.PI&&s.r0===0?M=0:M=(s.r+s.r0)/2,O="center"):O==="left"?(M=s.r0+P,O=X?"right":"left"):O==="right"&&(M=s.r-P,O=X?"left":"right"),T.style.align=O,T.style.verticalAlign=y(w,"verticalAlign")||"middle",T.x=M*u+s.cx,T.y=M*c+s.cy;var ie=0;N==="radial"?ie=eo(-l)+(X?Math.PI:0):N==="tangential"?ie=eo(Math.PI/2-l)+(X?Math.PI:0):tr(N)&&(ie=N*Math.PI/180),T.rotation=eo(ie)});function y(x,w){var b=x.get(w);return b??a.get(w)}h.dirtyStyle()},e}(Va),o3="sunburstRootToNode",NK="sunburstHighlight",Nit="sunburstUnhighlight";function Fit(r){r.registerAction({type:o3,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(i,a){var s=Pw(e,[o3],i);if(s){var o=i.getViewRoot();o&&(e.direction=NV(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),r.registerAction({type:NK,update:"none"},function(e,t,n){e=Ce({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var s=Pw(e,[NK],a);s&&(e.dataIndex=s.node.dataIndex)}n.dispatchAction(Ce(e,{type:"highlight"}))}),r.registerAction({type:Nit,update:"updateView"},function(e,t,n){e=Ce({},e),n.dispatchAction(Ce(e,{type:"downplay"}))})}var Bit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){var s=this;this.seriesModel=t,this.api=i,this.ecModel=n;var o=t.getData(),l=o.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(w){h.push(w)});var p=this._oldChildren||[];v(h,p),x(l,u),this._initEvents(),this._oldChildren=h;function v(w,b){if(w.length===0&&b.length===0)return;new cf(b,w,T,T).add(C).update(C).remove(gt(C,null)).execute();function T(D){return D.getId()}function C(D,A){var k=D==null?null:w[D],I=A==null?null:b[A];m(k,I)}}function m(w,b){if(!f&&w&&!w.getValue()&&(w=null),w!==l&&b!==l){if(b&&b.piece)w?(b.piece.updateData(!1,w,t,n,i),o.setItemGraphicEl(w.dataIndex,b.piece)):y(b);else if(w){var T=new OK(w,t,n,i);c.add(T),o.setItemGraphicEl(w.dataIndex,T)}}}function y(w){w&&w.piece&&(c.remove(w.piece),w.piece=null)}function x(w,b){b.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,w,t,n,i):(s.virtualPiece=new OK(w,t,n,i),c.add(s.virtualPiece)),b.piece.off("click"),s.virtualPiece.on("click",function(T){s._rootToNode(b.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";nC(u,c)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:o3,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e}(Cr),Vit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};$he(i);var a=this._levelModels=Pe(t.levels||[],function(l){return new or(l,this,n)},this),s=OV.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var f=s.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=vI(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Zfe(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Lr);function $he(r){var e=0;B(r.children,function(n){$he(n);var i=n.value;ke(i)&&(i=i[0]),e+=i});var t=r.value;ke(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ke(r.value)?r.value[0]=t:r.value=t}var FK=Math.PI/180;function zit(r,e,t){e.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");ke(a)||(a=[0,a]),ke(i)||(i=[i,i]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),u=We(i[0],s),c=We(i[1],o),f=We(a[0],l/2),h=We(a[1],l/2),p=-n.get("startAngle")*FK,v=n.get("minAngle")*FK,m=n.getData().tree.root,y=n.getViewRoot(),x=y.depth,w=n.get("sort");w!=null&&qhe(y,w);var b=0;B(y.children,function(U){!isNaN(U.getValue())&&b++});var T=y.getValue(),C=Math.PI/(T||b)*2,D=y.depth>0,A=y.height-(D?-1:1),k=(h-f)/(A||1),I=n.get("clockwise"),M=n.get("stillShowZeroSum"),P=I?1:-1,O=function(U,X){if(U){var ie=X;if(U!==m){var Z=U.getValue(),W=T===0&&M?C:Z*C;W<v&&(W=v),ie=X+P*W;var Q=U.depth-x-(D?-1:1),H=f+k*Q,ee=f+k*(Q+1),J=n.getLevelModel(U);if(J){var se=J.get("r0",!0),de=J.get("r",!0),Me=J.get("radius",!0);Me!=null&&(se=Me[0],de=Me[1]),se!=null&&(H=We(se,l/2)),de!=null&&(ee=We(de,l/2))}U.setLayout({angle:W,startAngle:X,endAngle:ie,clockwise:I,cx:u,cy:c,r0:H,r:ee})}if(U.children&&U.children.length){var Se=0;B(U.children,function(xe){Se+=O(xe,X+Se)})}return ie-X}};if(D){var N=f,G=f+k,j=Math.PI*2;m.setLayout({angle:j,startAngle:p,endAngle:p+j,clockwise:I,cx:u,cy:c,r0:N,r:G})}O(y,p)})}function qhe(r,e){var t=r.children||[];r.children=Uit(t,e),t.length&&B(r.children,function(n){qhe(n,e)})}function Uit(r,e){if(rt(e)){var t=Pe(r,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),Pe(t,function(i){return r[i.index]})}else{var n=e==="asc";return r.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function Hit(r){var e={};function t(n,i,a){for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",e);return n.depth>1&&$e(o)&&(o=WE(o,(n.depth-1)/(a-1)*.5)),o}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,n,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");Ce(u,l)})})}function Git(r){r.registerChartView(Bit),r.registerSeriesModel(Vit),r.registerLayout(gt(zit,"sunburst")),r.registerProcessor(gt(zb,"sunburst")),r.registerVisual(Hit),Fit(r)}var BK={color:"fill",borderColor:"stroke"},jit={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Zc=Qt(),Wit=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,n){return ac(null,this)},e.prototype.getDataParams=function(t,n,i){var a=r.prototype.getDataParams.call(this,t,n);return i&&(a.info=Zc(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Lr);function $it(r,e){return e=e||[0,0],Pe(["x","y"],function(t,n){var i=this.getAxis(t),a=e[n],s=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function qit(r){var e=r.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Ye($it,r)}}}function Yit(r,e){return e=e||[0,0],Pe([0,1],function(t){var n=e[t],i=r[t]/2,a=[],s=[];return a[t]=n-i,s[t]=n+i,a[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(s)[t])},this)}function Xit(r){var e=r.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:r.getZoom()},api:{coord:function(t){return r.dataToPoint(t)},size:Ye(Yit,r)}}}function Kit(r,e){var t=this.getAxis(),n=e instanceof Array?e[0]:e,i=(r instanceof Array?r[0]:r)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(n-i)-t.dataToCoord(n+i))}function Zit(r){var e=r.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Ye(Kit,r)}}}function Qit(r,e){return e=e||[0,0],Pe(["Radius","Angle"],function(t,n){var i="get"+t+"Axis",a=this[i](),s=e[n],o=r[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function Jit(r){var e=r.getRadiusAxis(),t=r.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),s=t.dataToAngle(i[1]),o=r.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Ye(Qit,r)}}}function eat(r){var e=r.getRect(),t=r.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)}}}}function Yhe(r,e,t,n){return r&&(r.legacy||r.legacy!==!1&&!t&&!n&&e!=="tspan"&&(e==="text"||Ke(r,"text")))}function Xhe(r,e,t){var n=r,i,a,s;if(e==="text")s=n;else{s={},Ke(n,"text")&&(s.text=n.text),Ke(n,"rich")&&(s.rich=n.rich),Ke(n,"textFill")&&(s.fill=n.textFill),Ke(n,"textStroke")&&(s.stroke=n.textStroke),Ke(n,"fontFamily")&&(s.fontFamily=n.fontFamily),Ke(n,"fontSize")&&(s.fontSize=n.fontSize),Ke(n,"fontStyle")&&(s.fontStyle=n.fontStyle),Ke(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=Ke(n,"textPosition");t?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),Ke(n,"textPosition")&&(i.position=n.textPosition),Ke(n,"textOffset")&&(i.offset=n.textOffset),Ke(n,"textRotation")&&(i.rotation=n.textRotation),Ke(n,"textDistance")&&(i.distance=n.textDistance)}return VK(s,r),B(s.rich,function(l){VK(l,l)}),{textConfig:i,textContent:a}}function VK(r,e){e&&(e.font=e.textFont||e.font,Ke(e,"textStrokeWidth")&&(r.lineWidth=e.textStrokeWidth),Ke(e,"textAlign")&&(r.align=e.textAlign),Ke(e,"textVerticalAlign")&&(r.verticalAlign=e.textVerticalAlign),Ke(e,"textLineHeight")&&(r.lineHeight=e.textLineHeight),Ke(e,"textWidth")&&(r.width=e.textWidth),Ke(e,"textHeight")&&(r.height=e.textHeight),Ke(e,"textBackgroundColor")&&(r.backgroundColor=e.textBackgroundColor),Ke(e,"textPadding")&&(r.padding=e.textPadding),Ke(e,"textBorderColor")&&(r.borderColor=e.textBorderColor),Ke(e,"textBorderWidth")&&(r.borderWidth=e.textBorderWidth),Ke(e,"textBorderRadius")&&(r.borderRadius=e.textBorderRadius),Ke(e,"textBoxShadowColor")&&(r.shadowColor=e.textBoxShadowColor),Ke(e,"textBoxShadowBlur")&&(r.shadowBlur=e.textBoxShadowBlur),Ke(e,"textBoxShadowOffsetX")&&(r.shadowOffsetX=e.textBoxShadowOffsetX),Ke(e,"textBoxShadowOffsetY")&&(r.shadowOffsetY=e.textBoxShadowOffsetY))}function zK(r,e,t){var n=r;n.textPosition=n.textPosition||t.position||"inside",t.offset!=null&&(n.textOffset=t.offset),t.rotation!=null&&(n.textRotation=t.rotation),t.distance!=null&&(n.textDistance=t.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||"#000";UK(n,e);var s=n.textFill==null;return i?s&&(n.textFill=t.insideFill||"#fff",!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=r.fill||t.outsideFill||"#000"),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=e.text,n.rich=e.rich,B(e.rich,function(o){UK(o,o)}),n}function UK(r,e){e&&(Ke(e,"fill")&&(r.textFill=e.fill),Ke(e,"stroke")&&(r.textStroke=e.fill),Ke(e,"lineWidth")&&(r.textStrokeWidth=e.lineWidth),Ke(e,"font")&&(r.font=e.font),Ke(e,"fontStyle")&&(r.fontStyle=e.fontStyle),Ke(e,"fontWeight")&&(r.fontWeight=e.fontWeight),Ke(e,"fontSize")&&(r.fontSize=e.fontSize),Ke(e,"fontFamily")&&(r.fontFamily=e.fontFamily),Ke(e,"align")&&(r.textAlign=e.align),Ke(e,"verticalAlign")&&(r.textVerticalAlign=e.verticalAlign),Ke(e,"lineHeight")&&(r.textLineHeight=e.lineHeight),Ke(e,"width")&&(r.textWidth=e.width),Ke(e,"height")&&(r.textHeight=e.height),Ke(e,"backgroundColor")&&(r.textBackgroundColor=e.backgroundColor),Ke(e,"padding")&&(r.textPadding=e.padding),Ke(e,"borderColor")&&(r.textBorderColor=e.borderColor),Ke(e,"borderWidth")&&(r.textBorderWidth=e.borderWidth),Ke(e,"borderRadius")&&(r.textBorderRadius=e.borderRadius),Ke(e,"shadowColor")&&(r.textBoxShadowColor=e.shadowColor),Ke(e,"shadowBlur")&&(r.textBoxShadowBlur=e.shadowBlur),Ke(e,"shadowOffsetX")&&(r.textBoxShadowOffsetX=e.shadowOffsetX),Ke(e,"shadowOffsetY")&&(r.textBoxShadowOffsetY=e.shadowOffsetY),Ke(e,"textShadowColor")&&(r.textShadowColor=e.textShadowColor),Ke(e,"textShadowBlur")&&(r.textShadowBlur=e.textShadowBlur),Ke(e,"textShadowOffsetX")&&(r.textShadowOffsetX=e.textShadowOffsetX),Ke(e,"textShadowOffsetY")&&(r.textShadowOffsetY=e.textShadowOffsetY))}var Khe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},HK=jt(Khe);Ko(Zu,function(r,e){return r[e]=1,r},{});Zu.join(", ");var AC=["","style","shape","extra"],Zm=Qt();function JV(r,e,t,n,i){var a=r+"Animation",s=Sy(r,n,i)||{},o=Zm(e).userDuring;return s.duration>0&&(s.during=o?Ye(aat,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=r),Ce(s,t[a]),s}function bA(r,e,t,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=t.isAnimationEnabled(),l=Zm(r),u=e.style;l.userDuring=e.during;var c={},f={};if(oat(r,e,f),jK("shape",e,f),jK("extra",e,f),!a&&o&&(sat(r,e,c),GK("shape",r,e,c),GK("extra",r,e,c),lat(r,e,u,c)),f.style=u,tat(r,f,s),nat(r,e),o)if(a){var h={};B(AC,function(v){var m=v?e[v]:e;m&&m.enterFrom&&(v&&(h[v]=h[v]||{}),Ce(v?h[v]:h,m.enterFrom))});var p=JV("enter",r,e,t,i);p.duration>0&&r.animateFrom(h,p)}else rat(r,e,i||0,t,c);Zhe(r,e),u?r.dirty():r.markRedraw()}function Zhe(r,e){for(var t=Zm(r).leaveToProps,n=0;n<AC.length;n++){var i=AC[n],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=Zm(r).leaveToProps={}),i&&(t[i]=t[i]||{}),Ce(i?t[i]:t,a.leaveTo))}}function yI(r,e,t,n){if(r){var i=r.parent,a=Zm(r).leaveToProps;if(a){var s=JV("update",r,e,t,0);s.done=function(){i.remove(r)},r.animateTo(a,s)}else i.remove(r)}}function mv(r){return r==="all"}function tat(r,e,t){var n=e.style;if(!r.isGroup&&n){if(t){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(r.style)}}r.setStyle(n)}e&&(e.style=null,e&&r.attr(e),e.style=n)}function rat(r,e,t,n,i){if(i){var a=JV("update",r,e,n,t);a.duration>0&&r.animateFrom(i,a)}}function nat(r,e){Ke(e,"silent")&&(r.silent=e.silent),Ke(e,"ignore")&&(r.ignore=e.ignore),r instanceof Zo&&Ke(e,"invisible")&&(r.invisible=e.invisible),r instanceof Gt&&Ke(e,"autoBatch")&&(r.autoBatch=e.autoBatch)}var xu={},iat={setTransform:function(r,e){return xu.el[r]=e,this},getTransform:function(r){return xu.el[r]},setShape:function(r,e){var t=xu.el,n=t.shape||(t.shape={});return n[r]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(r){var e=xu.el.shape;if(e)return e[r]},setStyle:function(r,e){var t=xu.el,n=t.style;return n&&(n[r]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(r){var e=xu.el.style;if(e)return e[r]},setExtra:function(r,e){var t=xu.el.extra||(xu.el.extra={});return t[r]=e,this},getExtra:function(r){var e=xu.el.extra;if(e)return e[r]}};function aat(){var r=this,e=r.el;if(e){var t=Zm(e).userDuring,n=r.userDuring;if(t!==n){r.el=r.userDuring=null;return}xu.el=e,n(iat)}}function GK(r,e,t,n){var i=t[r];if(i){var a=e[r],s;if(a){var o=t.transition,l=i.transition;if(l)if(!s&&(s=n[r]={}),mv(l))Ce(s,a);else for(var u=Pr(l),c=0;c<u.length;c++){var f=u[c],h=a[f];s[f]=h}else if(mv(o)||Ct(o,r)>=0){!s&&(s=n[r]={});for(var p=jt(a),c=0;c<p.length;c++){var f=p[c],h=a[f];uat(i[f],h)&&(s[f]=h)}}}}}function jK(r,e,t){var n=e[r];if(n)for(var i=t[r]={},a=jt(n),s=0;s<a.length;s++){var o=a[s];i[o]=Tx(n[o])}}function sat(r,e,t){for(var n=e.transition,i=mv(n)?Zu:Pr(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=r[s];t[s]=o}}}function oat(r,e,t){for(var n=0;n<HK.length;n++){var i=HK[n],a=Khe[i],s=e[i];s&&(t[a[0]]=s[0],t[a[1]]=s[1])}for(var n=0;n<Zu.length;n++){var o=Zu[n];e[o]!=null&&(t[o]=e[o])}}function lat(r,e,t,n){if(t){var i=r.style,a;if(i){var s=t.transition,o=e.transition;if(s&&!mv(s)){var l=Pr(s);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(r.getAnimationStyleProps&&(mv(o)||mv(s)||Ct(o,"style")>=0)){var h=r.getAnimationStyleProps(),p=h?h.style:null;if(p){!a&&(a=n.style={});for(var v=jt(t),u=0;u<v.length;u++){var c=v[u];if(p[c]){var f=i[c];a[c]=f}}}}}}}function uat(r,e){return ha(r)?r!==e:r!=null&&isFinite(r)}var Qhe=Qt(),cat=["percent","easing","shape","style","extra"];function Jhe(r){r.stopAnimation("keyframe"),r.attr(Qhe(r))}function EC(r,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ke(e)){B(e,function(o){EC(r,o,t)});return}var n=e.keyframes,i=e.duration;if(t&&i==null){var a=Sy("enter",t,0);i=a&&a.duration}if(!(!n||!i)){var s=Qhe(r);B(AC,function(o){if(!(o&&!r[o])){var l;n.sort(function(u,c){return u.percent-c.percent}),B(n,function(u){var c=r.animators,f=o?u[o]:u;if(f){var h=jt(f);if(o||(h=sr(h,function(m){return Ct(cat,m)<0})),!!h.length){l||(l=r.animate(o,e.loop,!0),l.scope="keyframe");for(var p=0;p<c.length;p++)c[p]!==l&&c[p].targetName===l.targetName&&c[p].stopTracks(h);o&&(s[o]=s[o]||{});var v=o?s[o]:s;B(h,function(m){v[m]=((o?r[o]:r)||{})[m]}),l.whenWithKeys(i*u.percent,f,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var Qc="emphasis",Ch="normal",e6="blur",t6="select",od=[Ch,Qc,e6,t6],LL={normal:["itemStyle"],emphasis:[Qc,"itemStyle"],blur:[e6,"itemStyle"],select:[t6,"itemStyle"]},OL={normal:["label"],emphasis:[Qc,"label"],blur:[e6,"label"],select:[t6,"label"]},fat=["x","y"],hat="e\0\0",Co={normal:{},emphasis:{},blur:{},select:{}},dat={cartesian2d:qit,geo:Xit,single:Zit,polar:Jit,calendar:eat};function l3(r){return r instanceof Gt}function u3(r){return r instanceof Zo}function pat(r,e){e.copyTransform(r),u3(e)&&u3(r)&&(e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e.invisible=r.invisible,e.ignore=r.ignore,l3(e)&&l3(r)&&e.setShape(r.shape))}var vat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,u=WK(t,o,n,i);s||l.removeAll(),o.diff(s).add(function(f){NL(i,null,f,u(f,a),t,l,o)}).remove(function(f){var h=s.getItemGraphicEl(f);h&&yI(h,Zc(h).option,t)}).update(function(f,h){var p=s.getItemGraphicEl(h);NL(i,p,f,u(f,a),t,l,o)}).execute();var c=t.get("clip",!0)?Bb(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,n,i,a,s){var o=n.getData(),l=WK(n,o,i,a),u=this._progressiveEls=[];function c(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=NL(null,null,f,l(f,s),n,this.group,o);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){yd(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},e.type="custom",e}(Cr);function r6(r){var e=r.type,t;if(e==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=rde(n);t=kb(a,null,i,n.layout||"center"),Zc(t).customPathData=a}else if(e==="image")t=new Li({}),Zc(t).customImagePath=r.style.image;else if(e==="text")t=new Xt({});else if(e==="group")t=new ft;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=YD(e);if(!s){var o="";pr(o)}t=new s}return Zc(t).customGraphicType=e,t.name=r.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function n6(r,e,t,n,i,a,s){Jhe(e);var o=i&&i.normal.cfg;o&&e.setTextConfig(o),n&&n.transition==null&&(n.transition=fat);var l=n&&n.style;if(l){if(e.type==="text"){var u=l;Ke(u,"textFill")&&(u.fill=u.textFill),Ke(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=l3(e)?l.decal:null;r&&f&&(f.dirty=!0,c=qm(f,r)),l.__decalPattern=c}if(u3(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}bA(e,n,a,{dataIndex:t,isInit:s,clearStyle:!0}),EC(e,n.keyframeAnimation,a)}function ede(r,e,t,n,i){var a=e.isGroup?null:e,s=i&&i[r].cfg;if(a){var o=a.ensureState(r);if(n===!1){var l=a.getState(r);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),Nv(a)}}function gat(r,e,t){if(!r.isGroup){var n=r,i=t.currentZ,a=t.currentZLevel;n.z=i,n.zlevel=a;var s=e.z2;s!=null&&(n.z2=s||0);for(var o=0;o<od.length;o++)mat(n,e,od[o])}}function mat(r,e,t){var n=t===Ch,i=n?e:CC(e,t),a=i?i.z2:null,s;a!=null&&(s=n?r:r.ensureState(t),s.z2=a||0)}function WK(r,e,t,n){var i=r.get("renderItem"),a=r.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):dat[a.type](a));for(var o=st({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:T,style:D,ordinalRawValue:C,styleEmphasis:A,visual:M,barLayout:P,currentSeriesIndices:O,font:N},s.api||{}),l={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:yat(r.getData())},u,c,f={},h={},p={},v={},m=0;m<od.length;m++){var y=od[m];p[y]=r.getModel(LL[y]),v[y]=r.getModel(OL[y])}function x(G){return G===u?c||(c=e.getItemModel(G)):e.getItemModel(G)}function w(G,j){return e.hasItemOption?G===u?f[j]||(f[j]=x(G).getModel(LL[j])):x(G).getModel(LL[j]):p[j]}function b(G,j){return e.hasItemOption?G===u?h[j]||(h[j]=x(G).getModel(OL[j])):x(G).getModel(OL[j]):v[j]}return function(G,j){return u=G,c=null,f={},h={},i&&i(st({dataIndexInside:G,dataIndex:e.getRawIndex(G),actionType:j?j.type:null},l),o)};function T(G,j){return j==null&&(j=u),e.getStore().get(e.getDimensionIndex(G||0),j)}function C(G,j){j==null&&(j=u),G=G||0;var U=e.getDimensionInfo(G);if(!U){var X=e.getDimensionIndex(G);return X>=0?e.getStore().get(X,j):void 0}var ie=e.get(U.name,j),Z=U&&U.ordinalMeta;return Z?Z.categories[ie]:ie}function D(G,j){j==null&&(j=u);var U=e.getItemVisual(j,"style"),X=U&&U.fill,ie=U&&U.opacity,Z=w(j,Ch).getItemStyle();X!=null&&(Z.fill=X),ie!=null&&(Z.opacity=ie);var W={inheritColor:$e(X)?X:"#000"},Q=b(j,Ch),H=Ur(Q,null,W,!1,!0);H.text=Q.getShallow("show")?vt(r.getFormattedLabel(j,Ch),Ym(e,j)):null;var ee=tC(Q,W,!1);return I(G,Z),Z=zK(Z,H,ee),G&&k(Z,G),Z.legacy=!0,Z}function A(G,j){j==null&&(j=u);var U=w(j,Qc).getItemStyle(),X=b(j,Qc),ie=Ur(X,null,null,!0,!0);ie.text=X.getShallow("show")?Ol(r.getFormattedLabel(j,Qc),r.getFormattedLabel(j,Ch),Ym(e,j)):null;var Z=tC(X,null,!0);return I(G,U),U=zK(U,ie,Z),G&&k(U,G),U.legacy=!0,U}function k(G,j){for(var U in j)Ke(j,U)&&(G[U]=j[U])}function I(G,j){G&&(G.textFill&&(j.textFill=G.textFill),G.textPosition&&(j.textPosition=G.textPosition))}function M(G,j){if(j==null&&(j=u),Ke(BK,G)){var U=e.getItemVisual(j,"style");return U?U[BK[G]]:null}if(Ke(jit,G))return e.getItemVisual(j,G)}function P(G){if(a.type==="cartesian2d"){var j=a.getBaseAxis();return WXe(st({axis:j},G))}}function O(){return t.getCurrentSeriesIndices()}function N(G){return NB(G,t)}}function yat(r){var e={};return B(r.dimensions,function(t){var n=r.getDimensionInfo(t);if(!n.isExtraCoord){var i=n.coordDim,a=e[i]=e[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(t)}}),e}function NL(r,e,t,n,i,a,s){if(!n){a.remove(e);return}var o=i6(r,e,t,n,i,a);return o&&s.setItemGraphicEl(t,o),o&&fn(o,n.focus,n.blurScope,n.emphasisDisabled),o}function i6(r,e,t,n,i,a){var s=-1,o=e;e&&tde(e,n,i)&&(s=Ct(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=r6(n),o&&pat(o,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Co.normal.cfg=Co.normal.conOpt=Co.emphasis.cfg=Co.emphasis.conOpt=Co.blur.cfg=Co.blur.conOpt=Co.select.cfg=Co.select.conOpt=null,Co.isLegacy=!1,xat(u,t,n,i,l,Co),_at(u,t,n,i,l),n6(r,u,t,n,Co,i,l),Ke(n,"info")&&(Zc(u).info=n.info);for(var c=0;c<od.length;c++){var f=od[c];if(f!==Ch){var h=CC(n,f),p=a6(n,h,f);ede(f,u,h,p,Co)}}return gat(u,n,i),n.type==="group"&&wat(r,u,t,n,i),s>=0?a.replaceAt(u,s):a.add(u),u}function tde(r,e,t){var n=Zc(r),i=e.type,a=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&Aat(a)&&rde(a)!==n.customPathData||i==="image"&&Ke(s,"image")&&s.image!==n.customImagePath}function _at(r,e,t,n,i){var a=t.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var s=r.getClipPath();s&&tde(s,a,n)&&(s=null),s||(s=r6(a),r.setClipPath(s)),n6(null,s,e,a,null,n,i)}}function xat(r,e,t,n,i,a){if(!r.isGroup){$K(t,null,a),$K(t,Qc,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=r.getTextContent();if(s===!1)c&&r.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=r6(s),r.setTextContent(c)),n6(null,c,e,s,null,n,i);for(var f=s&&s.style,h=0;h<od.length;h++){var p=od[h];if(p!==Ch){var v=a[p].conOpt;ede(p,c,v,a6(s,v,p),null)}}f?c.dirty():c.markRedraw()}}}}function $K(r,e,t){var n=e?CC(r,e):r,i=e?a6(r,n,Qc):r.style,a=r.type,s=n?n.textConfig:null,o=r.textContent,l=o?e?CC(o,e):o:null;if(i&&(t.isLegacy||Yhe(i,a,!!s,!!l))){t.isLegacy=!0;var u=Xhe(i,a,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=s,f.conOpt=l}function CC(r,e){return e?r?r[e]:null:r}function a6(r,e,t){var n=e&&e.style;return n==null&&t===Qc&&r&&(n=r.styleEmphasis),n}function wat(r,e,t,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){Sat({api:r,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<s;c++){var f=a[c],h=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),i6(r,h,t,f,i,e)):h.ignore=!0}for(var p=e.childCount()-1;p>=c;p--){var v=e.childAt(p);bat(e,v,i)}}}function bat(r,e,t){e&&yI(e,Zc(r).option,t)}function Sat(r){new cf(r.oldChildren,r.newChildren,qK,qK,r).add(YK).update(YK).remove(Tat).execute()}function qK(r,e){var t=r&&r.name;return t??hat+e}function YK(r,e){var t=this.context,n=r!=null?t.newChildren[r]:null,i=e!=null?t.oldChildren[e]:null;i6(t.api,i,t.dataIndex,n,t.seriesModel,t.group)}function Tat(r){var e=this.context,t=e.oldChildren[r];t&&yI(t,Zc(t).option,e.seriesModel)}function rde(r){return r&&(r.pathData||r.d)}function Aat(r){return r&&(Ke(r,"pathData")||Ke(r,"d"))}function Eat(r){r.registerChartView(vat),r.registerSeriesModel(Wit)}var Bp=Qt(),XK=ut,FL=Ye,s6=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,n,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new ft,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),n.getZr().add(o);else{var h=gt(KK,t,f);this.updatePointerEl(o,u,h),this.updateLabelEl(o,u,h,t)}QK(o,t,!0),this._renderHandle(a)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=DV(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(e,t,n,i,a){},r.prototype.createPointerEl=function(e,t,n,i){var a=t.pointer;if(a){var s=Bp(e).pointerEl=new ig[a.type](XK(t.pointer));e.add(s)}},r.prototype.createLabelEl=function(e,t,n,i){if(t.label){var a=Bp(e).labelEl=new Xt(XK(t.label));e.add(a),ZK(a,i)}},r.prototype.updatePointerEl=function(e,t,n){var i=Bp(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,n,i){var a=Bp(e).labelEl;a&&(a.setStyle(t.label.style),n(a,{x:t.label.x,y:t.label.y}),ZK(a,i))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=Ty(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){of(u.event)},onmousedown:FL(this._onHandleDragMove,this,0,0),drift:FL(this._onHandleDragMove,this),ondragend:FL(this._onHandleDragEnd,this)}),n.add(i)),QK(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ke(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,ky(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},r.prototype._moveHandleToValue=function(e,t){KK(this._axisPointerModel,!t&&this._moveAnimation,this._handle,BL(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(BL(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(BL(i)),Bp(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Aw(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},r}();function KK(r,e,t,n){nde(Bp(t).lastProp,n)||(Bp(t).lastProp=n,e?rr(t,n,r):(t.stopAnimation(),t.attr(n)))}function nde(r,e){if(ot(r)&&ot(e)){var t=!0;return B(e,function(n,i){t=t&&nde(r[i],n)}),!!t}else return r===e}function ZK(r,e){r[e.get(["label","show"])?"show":"hide"]()}function BL(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function QK(r,e,t){var n=e.get("z"),i=e.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=t)})}function o6(r){var e=r.get("type"),t=r.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function ide(r,e,t,n,i){var a=t.get("value"),s=ade(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=ag(o.get("padding")||0),u=o.getFont(),c=Eb(s,u),f=i.position,h=c.width+l[1]+l[3],p=c.height+l[0]+l[2],v=i.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var m=i.verticalAlign;m==="bottom"&&(f[1]-=p),m==="middle"&&(f[1]-=p/2),Cat(f,h,p,n);var y=o.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),r.label={x:f[0],y:f[1],style:Ur(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function Cat(r,e,t,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+e,i)-e,r[1]=Math.min(r[1]+t,a)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function ade(r,e,t,n,i){r=e.scale.parse(r);var a=e.scale.getLabel({value:r},{precision:i.precision}),s=i.formatter;if(s){var o={value:mV(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};B(n,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&o.seriesData.push(f)}),$e(s)?a=s.replace("{value}",a):rt(s)&&(a=s(o))}return a}function l6(r,e,t){var n=Ps();return md(n,n,t.rotation),jl(n,n,t.position),Bl([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function sde(r,e,t,n,i,a){var s=us.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),ide(e,n,i,a,{position:l6(n.axis,r,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function u6(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function ode(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}function JK(r,e,t,n,i,a){return{cx:r,cy:e,r0:t,r:n,startAngle:i,endAngle:a,clockwise:!0}}var Dat=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),c=eZ(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var h=o6(a),p=Iat[u](o,f,c);p.style=h,t.graphicKey=p.type,t.pointer=p}var v=G4(l.model,i);sde(n,t,v,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=G4(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=l6(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=eZ(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,f=[t.x,t.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,p=[h,h];p[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:p,tooltipOption:v[c]}},e}(s6);function eZ(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var Iat={line:function(r,e,t){var n=u6([e,t[0]],[e,t[1]],tZ(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=Math.max(1,r.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:ode([e-n/2,t[0]],[n,i],tZ(r))}}};function tZ(r){return r.dim==="x"?0:1}var Rat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Ut),jc=Qt(),kat=B;function lde(r,e,t){if(!Ht.node){var n=e.getZr();jc(n).records||(jc(n).records={}),Mat(n,e);var i=jc(n).records[r]||(jc(n).records[r]={});i.handler=t}}function Mat(r,e){if(jc(r).initialized)return;jc(r).initialized=!0,t("click",gt(rZ,"click")),t("mousemove",gt(rZ,"mousemove")),t("globalout",Lat);function t(n,i){r.on(n,function(a){var s=Oat(e);kat(jc(r).records,function(o){o&&i(o,a,s.dispatchAction)}),Pat(s.pendings,e)})}}function Pat(r,e){var t=r.showTip.length,n=r.hideTip.length,i;t?i=r.showTip[t-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function Lat(r,e,t){r.handler("leave",null,t)}function rZ(r,e,t,n){e.handler(r,t,n)}function Oat(r){var e={showTip:[],hideTip:[]},t=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=t,r.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function c3(r,e){if(!Ht.node){var t=e.getZr(),n=(jc(t).records||{})[r];n&&(jc(t).records[r]=null)}}var Nat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=n.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";lde("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){c3("axisPointer",n)},e.prototype.dispose=function(t,n){c3("axisPointer",n)},e.type="axisPointer",e}($r);function ude(r,e){var t=[],n=r.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=Lv(a,r);if(s==null||s<0||ke(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,p=f==="x"||f==="radius"?1:0,v=a.mapDimension(h),m=[];m[p]=a.get(v,s),m[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(Pe(l.dimensions,function(x){return a.mapDimension(x)}),s))||[];else if(o){var y=o.getBoundingRect().clone();y.applyTransform(o.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:o}}var nZ=Qt();function Fat(r,e,t){var n=r.currTrigger,i=[r.x,r.y],a=r,s=r.dispatchAction||Ye(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){SA(i)&&(i=ude({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=SA(i),u=a.axesInfo,c=o.axesInfo,f=n==="leave"||SA(i),h={},p={},v={list:[],map:{}},m={showPointer:gt(Vat,p),showTooltip:gt(zat,v)};B(o.coordSysMap,function(x,w){var b=l||x.containPoint(i);B(o.coordSysAxesInfo[w],function(T,C){var D=T.axis,A=jat(u,T);if(!f&&b&&(!u||A)){var k=A&&A.value;k==null&&!l&&(k=D.pointToData(i)),k!=null&&iZ(T,k,m,!1,h)}})});var y={};return B(c,function(x,w){var b=x.linkGroup;b&&!p[w]&&B(b.axesInfo,function(T,C){var D=p[C];if(T!==x&&D){var A=D.value;b.mapper&&(A=x.axis.scale.parse(b.mapper(A,aZ(T),aZ(x)))),y[x.key]=A}})}),B(y,function(x,w){iZ(c[w],x,m,!0,h)}),Uat(p,c,h),Hat(v,i,r,s),Gat(c,s,t),h}}function iZ(r,e,t,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var s=Bat(e,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&Ce(i,o[0]),!n&&r.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,o),t.showTooltip(r,s,l)}}function Bat(r,e){var t=e.axis,n=t.dim,i=r,a=[],s=Number.MAX_VALUE,o=-1;return B(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,h;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(c,r,t);h=p.dataIndices,f=p.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],r,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var v=r-f,m=Math.abs(v);m<=s&&((m<s||v>=0&&o<0)&&(s=m,o=v,i=f,a.length=0),B(h,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:i}}function Vat(r,e,t,n){r[e.key]={value:t,payloadBatch:n}}function zat(r,e,t,n){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=Mw(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Uat(r,e,t){var n=t.axesInfo=[];B(e,function(i,a){var s=i.axisPointerModel.option,o=r[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function Hat(r,e,t,n){if(SA(e)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function Gat(r,e,t){var n=t.getZr(),i="axisPointerLastHighlights",a=nZ(n)[i]||{},s=nZ(n)[i]={};B(r,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&B(f.seriesDataIndices,function(h){var p=h.seriesIndex+" | "+h.dataIndex;s[p]=h})});var o=[],l=[];B(a,function(u,c){!s[c]&&l.push(u)}),B(s,function(u,c){!a[c]&&o.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function jat(r,e){for(var t=0;t<(r||[]).length;t++){var n=r[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function aZ(r){var e=r.axis.model,t={},n=t.axisDim=r.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function SA(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function jb(r){lg.registerAxisPointerClass("CartesianAxisPointer",Dat),r.registerComponentModel(Rat),r.registerComponentView(Nat),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ke(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=QQe(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Fat)}function Wat(r){Pt(Ffe),Pt(jb)}var $at=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),f=o.dataToCoord(n),h=a.get("type");if(h&&h!=="none"){var p=o6(a),v=Yat[h](o,l,f,c);v.style=p,t.graphicKey=v.type,t.pointer=v}var m=a.get(["label","margin"]),y=qat(n,i,a,l,m);ide(t,i,a,s,y)},e}(s6);function qat(r,e,t,n,i){var a=e.axis,s=a.dataToCoord(r),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=Ps();md(h,h,o),jl(h,h,[n.cx,n.cy]),u=Bl([s,-i],h);var p=e.getModel("axisLabel").get("rotate")||0,v=us.innerTextLayout(o,p*Math.PI/180,-1);c=v.textAlign,f=v.textVerticalAlign}else{var m=l[1];u=n.coordToPoint([m+i,s]);var y=n.cx,x=n.cy;c=Math.abs(u[0]-y)/m<.3?"center":u[0]>y?"left":"right",f=Math.abs(u[1]-x)/m<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var Yat={line:function(r,e,t,n){return r.dim==="angle"?{type:"Line",shape:u6(e.coordToPoint([n[0],t]),e.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(r,e,t,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:JK(e.cx,e.cy,n[0],n[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:JK(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},Xat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var n,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Ut),c6=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Qn).models[0]},e.type="polarAxis",e}(Ut);Cn(c6,Oy);var Kat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(c6),Zat=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(c6),f6=function(r){ge(e,r);function e(t,n){return r.call(this,"radius",t,n)||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e}(nl);f6.prototype.dataToRadius=nl.prototype.dataToCoord;f6.prototype.radiusToData=nl.prototype.coordToData;var Qat=Qt(),h6=function(r){ge(e,r);function e(t,n){return r.call(this,"angle",t,n||[0,360])||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),i=t.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),u=Math.abs(l),c=Eb(o==null?"":o+"",n.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var p=Math.max(0,Math.floor(h)),v=Qat(t.model),m=v.lastAutoInterval,y=v.lastTickCount;return m!=null&&y!=null&&Math.abs(m-p)<=1&&Math.abs(y-s)<=1&&m>p?p=m:(v.lastTickCount=s,v.lastAutoInterval=p),p},e}(nl);h6.prototype.dataToAngle=nl.prototype.dataToCoord;h6.prototype.angleToData=nl.prototype.coordToData;var cde=["radius","angle"],Jat=function(){function r(e){this.dimensions=cde,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new f6,this._angleAxis=new h6,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},r.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},r.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},r.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},r.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},r.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},r.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI,i=Math.cos(n)*t+this.cx,a=-Math.sin(n)*t+this.cy;return[i,a]},r.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var i=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,p=this.r0;return h!==p&&f-s<=h*h&&f+s>=p*p}}},r.prototype.convertToPixel=function(e,t,n){var i=sZ(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=sZ(t);return i===this?this.pointToData(n):null},r}();function sZ(r){var e=r.seriesModel,t=r.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function est(r,e,t){var n=e.get("center"),i=t.getWidth(),a=t.getHeight();r.cx=We(n[0],i),r.cy=We(n[1],a);var s=r.getRadiusAxis(),o=Math.min(i,a)/2,l=e.get("radius");l==null?l=[0,"100%"]:ke(l)||(l=[0,l]);var u=[We(l[0],o),We(l[1],o)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}function tst(r,e){var t=this,n=t.getAngleAxis(),i=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();B(pC(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),B(pC(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),Bv(n.scale,n.model),Bv(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function rst(r){return r.mainType==="angleAxis"}function oZ(r,e){var t;if(r.type=e.get("type"),r.scale=Ob(e),r.onBand=e.get("boundaryGap")&&r.type==="category",r.inverse=e.get("inverse"),rst(e)){r.inverse=r.inverse!==e.get("clockwise");var n=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:n+(r.inverse?-360:360);r.setExtent(n,i)}e.axis=r,r.model=e}var nst={dimensions:cde,create:function(r,e){var t=[];return r.eachComponent("polar",function(n,i){var a=new Jat(i+"");a.update=tst;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");oZ(s,l),oZ(o,u),est(a,n,e),t.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Qn).models[0];n.coordinateSystem=i.coordinateSystem}}),t}},ist=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function O2(r,e,t){e[1]>e[0]&&(e=e.slice().reverse());var n=r.coordToPoint([e[0],t]),i=r.coordToPoint([e[1],t]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function N2(r){var e=r.getRadiusAxis();return e.inverse?0:1}function lZ(r){var e=r[0],t=r[r.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&r.pop()}var ast=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=Pe(i.getViewLabels(),function(c){c=ut(c);var f=i.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});lZ(u),lZ(o),B(ist,function(c){t.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&sst[c](this.group,t,a,o,l,s,u)},this)}},e.type="angleAxis",e}(lg),sst={axisLine:function(r,e,t,n,i,a){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=N2(t),f=c?0:1,h,p=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new ig[p]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):h=new xy({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:s.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,r.add(h)},axisTick:function(r,e,t,n,i,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[N2(t)],u=Pe(n,function(c){return new gi({shape:O2(t,[l,l+o],c.coord)})});r.add(Ks(u,{style:st(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[N2(t)],c=[],f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)c.push(new gi({shape:O2(t,[u,u+l],i[f][h].coord)}));r.add(Ks(c,{style:st(o.getModel("lineStyle").getLineStyle(),st(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,e,t,n,i,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");B(s,function(f,h){var p=l,v=f.tickValue,m=a[N2(t)],y=t.coordToPoint([m+u,f.coord]),x=t.cx,w=t.cy,b=Math.abs(y[0]-x)/m<.3?"center":y[0]>x?"left":"right",T=Math.abs(y[1]-w)/m<.3?"middle":y[1]>w?"top":"bottom";if(o&&o[v]){var C=o[v];ot(C)&&C.textStyle&&(p=new or(C.textStyle,l,l.ecModel))}var D=new Xt({silent:us.isLabelSilent(e),style:Ur(p,{x:y[0],y:y[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:b,verticalAlign:T})});if(r.add(D),c){var A=us.makeAxisEventDataBase(e);A.targetType="axisLabel",A.value=f.rawLabel,dt(D).eventData=A}},this)},splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new gi({shape:O2(t,a,n[f].coord)}))}for(var f=0;f<c.length;f++)r.add(Ks(c[f],{style:st({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new gi({shape:O2(t,a,i[u][c].coord)}));r.add(Ks(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(r,e,t,n,i,a){if(n.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-n[0].coord*f,p=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),m=e.get("clockwise"),y=1,x=n.length;y<=x;y++){var w=y===x?n[0].coord:n[y].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new Va({shape:{cx:t.cx,cy:t.cy,r0:p,r:v,startAngle:h,endAngle:-w*f,clockwise:m},silent:!0})),h=-w*f}for(var y=0;y<c.length;y++)r.add(Ks(c[y],{style:st({fill:l[y%l.length]},o.getAreaStyle()),silent:!0}))}}},ost=["axisLine","axisTickLabel","axisName"],lst=["splitLine","splitArea","minorSplitLine"],ust=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,a=this._axisGroup=new ft;this.group.add(a);var s=t.axis,o=s.polar,l=o.getAngleAxis(),u=s.getTicksCoords(),c=s.getMinorTicksCoords(),f=l.getExtent()[0],h=s.getExtent(),p=fst(o,t,f),v=new us(t,p);B(ost,v.add,v),a.add(v.getGroup()),Mb(i,a,t),B(lst,function(m){t.get([m,"show"])&&!s.scale.isBlank()&&cst[m](this.group,t,o,f,h,u,c)},this)}},e.type="radiusAxis",e}(lg),cst={splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),p=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],m=0;m<a.length;m++){var y=u++%l.length;v[y]=v[y]||[],v[y].push(new ig[p]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[m].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var m=0;m<v.length;m++)r.add(Ks(v[m],{style:st({stroke:l[m%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(r,e,t,n,i,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var f=0;f<s[c].length;f++)u.push(new nc({shape:{cx:t.cx,cy:t.cy,r:s[c][f].coord}}));r.add(Ks(u,{style:st({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,e,t,n,i,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var p=u++%l.length;c[p]=c[p]||[],c[p].push(new Va({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)r.add(Ks(c[h],{style:st({fill:l[h%l.length]},o.getAreaStyle()),silent:!0}))}}};function fst(r,e,t){return{position:[r.cx,r.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function fde(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function hde(r,e){return e.dim+r.model.componentIndex}function hst(r,e,t){var n={},i=dst(sr(e.getSeriesByType(r),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=hde(o,l),c=fde(a),f=i[u][c],h=f.offset,p=f.width,v=o.getOtherAxis(l),m=a.coordinateSystem.cx,y=a.coordinateSystem.cy,x=a.get("barMinHeight")||0,w=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var b=s.mapDimension(v.dim),T=s.mapDimension(l.dim),C=ff(s,b),D=l.dim!=="radius"||!a.get("roundCap",!0),A=v.model,k=A.get("startValue"),I=v.dataToCoord(k||0),M=0,P=s.count();M<P;M++){var O=s.get(b,M),N=s.get(T,M),G=O>=0?"p":"n",j=I;C&&(n[c][N]||(n[c][N]={p:I,n:I}),j=n[c][N][G]);var U=void 0,X=void 0,ie=void 0,Z=void 0;if(v.dim==="radius"){var W=v.dataToCoord(O)-I,Q=l.dataToCoord(N);Math.abs(W)<x&&(W=(W<0?-1:1)*x),U=j,X=j+W,ie=Q-h,Z=ie-p,C&&(n[c][N][G]=X)}else{var H=v.dataToCoord(O,D)-I,ee=l.dataToCoord(N);Math.abs(H)<w&&(H=(H<0?-1:1)*w),U=ee+h,X=U+p,ie=j,Z=j+H,C&&(n[c][N][G]=Z)}s.setItemLayout(M,{cx:m,cy:y,r0:U,r:X,startAngle:-ie*Math.PI/180,endAngle:-Z*Math.PI/180,clockwise:ie>=Z})}}})}function dst(r){var e={};B(r,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=hde(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var p=fde(n);h[p]||f.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var v=We(n.get("barWidth"),c),m=We(n.get("barMaxWidth"),c),y=n.get("barGap"),x=n.get("barCategoryGap");v&&!h[p].width&&(v=Math.min(f.remainedWidth,v),h[p].width=v,f.remainedWidth-=v),m&&(h[p].maxWidth=m),y!=null&&(f.gap=y),x!=null&&(f.categoryGap=x)});var t={};return B(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=We(n.categoryGap,s),l=We(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-o)/(c+(c-1)*l);f=Math.max(f,0),B(a,function(m,y){var x=m.maxWidth;x&&x<f&&(x=Math.min(x,u),m.width&&(x=Math.min(x,m.width)),u-=x,m.width=x,c--)}),f=(u-o)/(c+(c-1)*l),f=Math.max(f,0);var h=0,p;B(a,function(m,y){m.width||(m.width=f),p=m,h+=m.width*(1+l)}),p&&(h-=p.width*l);var v=-h/2;B(a,function(m,y){t[i][y]=t[i][y]||{offset:v,width:m.width},v+=m.width*(1+l)})}),t}var pst={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},vst={splitNumber:5},gst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}($r);function mst(r){Pt(jb),lg.registerAxisPointerClass("PolarAxisPointer",$at),r.registerCoordinateSystem("polar",nst),r.registerComponentModel(Xat),r.registerComponentView(gst),Xm(r,"angle",Kat,pst),Xm(r,"radius",Zat,vst),r.registerComponentView(ast),r.registerComponentView(ust),r.registerLayout(gt(hst,"bar"))}function f3(r,e){e=e||{};var t=r.coordinateSystem,n=r.axis,i={},a=n.position,s=n.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[s];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ci(e.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=e.rotate;return h==null&&(h=r.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-h:h,i.z2=1,i}var yst=["axisLine","axisTickLabel","axisName"],_st=["splitArea","splitLine"],xst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new ft;var l=f3(t),u=new us(t,l);B(yst,u.add,u),s.add(this._axisGroup),s.add(u.getGroup()),B(_st,function(c){t.get([c,"show"])&&wst[c](this,this.group,this._axisGroup,t)},this),Mb(o,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)},e.prototype.remove=function(){Lfe(this)},e.type="singleAxis",e}(lg),wst={splitLine:function(r,e,t,n){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=s.get("width"),u=n.coordinateSystem.getRect(),c=i.isHorizontal(),f=[],h=0,p=i.getTicksCoords({tickModel:a}),v=[],m=[],y=0;y<p.length;++y){var x=i.toGlobalCoord(p[y].coord);c?(v[0]=x,v[1]=u.y,m[0]=x,m[1]=u.y+u.height):(v[0]=u.x,v[1]=x,m[0]=u.x+u.width,m[1]=x);var w=new gi({shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},silent:!0});Wm(w.shape,l);var b=h++%o.length;f[b]=f[b]||[],f[b].push(w)}for(var T=s.getLineStyle(["color"]),y=0;y<f.length;++y)e.add(Ks(f[y],{style:st({stroke:o[y%o.length]},T),silent:!0}))}},splitArea:function(r,e,t,n){Pfe(r,t,n,n)}},TA=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Ut);Cn(TA,Oy.prototype);var bst=function(r){ge(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},e}(nl),dde=["single"],Sst=function(){function r(e,t,n){this.type="single",this.dimension="single",this.dimensions=dde,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=this.dimension,a=new bst(i,Ob(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();B(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Bv(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(e,t){this._rect=ti({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,n?e.x:e.y)},r.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+t}:function(s){return i-s+t},e.toLocalCoord=a?function(s){return s-t}:function(s){return i-s+t}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},r.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),i=[],a=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[a]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,i},r.prototype.convertToPixel=function(e,t,n){var i=uZ(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=uZ(t);return i===this?this.pointToData(n):null},r}();function uZ(r){var e=r.seriesModel,t=r.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Tst(r,e){var t=[];return r.eachComponent("singleAxis",function(n,i){var a=new Sst(n,r,e);a.name="single_"+i,a.resize(n,e),n.coordinateSystem=a,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Qn).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),t}var Ast={create:Tst,dimensions:dde},cZ=["x","y"],Est=["width","height"],Cst=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.coordinateSystem,u=VL(l,1-DC(o)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var h=o6(a),p=Dst[f](o,c,u);p.style=h,t.graphicKey=p.type,t.pointer=p}var v=f3(i);sde(n,t,v,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=f3(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=l6(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.coordinateSystem,l=DC(s),u=VL(o,l),c=[t.x,t.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=VL(o,1-l),h=(f[1]+f[0])/2,p=[h,h];return p[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},e}(s6),Dst={line:function(r,e,t){var n=u6([e,t[0]],[e,t[1]],DC(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=r.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:ode([e-n/2,t[0]],[n,i],DC(r))}}};function DC(r){return r.isHorizontal()?0:1}function VL(r,e){var t=r.getRect();return[t[cZ[e]],t[cZ[e]]+t[Est[e]]]}var Ist=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}($r);function Rst(r){Pt(jb),lg.registerAxisPointerClass("SingleAxisPointer",Cst),r.registerComponentView(Ist),r.registerComponentView(xst),r.registerComponentModel(TA),Xm(r,"single",TA,TA.defaultOption),r.registerCoordinateSystem("single",Ast)}var kst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=Cy(t);r.prototype.init.apply(this,arguments),fZ(t,a)},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),fZ(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Ut);function fZ(r,e){var t=r.cellSize,n;ke(t)?n=t:n=r.cellSize=[t,t],n.length===1&&(n[1]=n[0]);var i=Pe([0,1],function(a){return P$e(e,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});ad(r,e,{type:"box",ignoreSize:i})}var Mst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=n.getLocaleModel();this._renderDayRect(t,o,a),this._renderLines(t,o,l,a),this._renderYearText(t,o,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,o,l,a)},e.prototype._renderDayRect=function(t,n,i){for(var a=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,f=new Kt({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});i.add(f)}},e.prototype._renderLines=function(t,n,i,a){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,h=0;f.time<=n.end.time;h++){v(f.formatedDate),h===0&&(f=o.getDateInfo(n.start.y+"-"+n.start.m));var p=f.date;p.setMonth(p.getMonth()+1),f=o.getDateInfo(p)}v(o.getNextNDay(n.end.time,1).formatedDate);function v(m){s._firstDayOfMonth.push(o.getDateInfo(m)),s._firstDayPoints.push(o.dataToRect([m],!1).tl);var y=s._getLinePointsOfOneWeek(t,m,i);s._tlpoints.push(y[0]),s._blpoints.push(y[y.length-1]),u&&s._drawSplitline(y,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,i),l,a)},e.prototype._getEdgesPoints=function(t,n,i){var a=[t[0].slice(),t[t.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},e.prototype._drawSplitline=function(t,n,i){var a=new Ga({z2:20,shape:{points:t},style:n});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,n,i){for(var a=t.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToRect([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,n){return $e(t)&&t?I$e(t,n):rt(t)?t(n):n.nameMap},e.prototype._yearTextPositionControl=function(t,n,i,a,s){var o=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,n,i,a){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,p={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},v=n.start.y;+n.end.y>+n.start.y&&(v=v+"-"+n.end.y);var m=s.get("formatter"),y={start:n.start.y,end:n.end.y,nameMap:v},x=this._formatterLabel(m,y),w=new Xt({z2:30,style:Ur(s,{text:x}),silent:s.get("silent")});w.attr(this._yearTextPositionControl(w,p[l],i,l,o)),a.add(w)}},e.prototype._monthTextPositionControl=function(t,n,i,a,s){var o="left",l="top",u=t[0],c=t[1];return i==="horizontal"?(c=c+s,n&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,n&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,n,i,a){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||$e(o))&&(o&&(n=y4(o)||n),o=n.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,p=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",m=s.get("silent"),y=0;y<f[h].length-1;y++){var x=f[h][y].slice(),w=this._firstDayOfMonth[y];if(v){var b=this._firstDayPoints[y];x[p]=(b[p]+f[0][y+1][p])/2}var T=s.get("formatter"),C=o[+w.m-1],D={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:C},A=this._formatterLabel(T,D),k=new Xt({z2:30,style:Ce(Ur(s,{text:A}),this._monthTextPositionControl(x,v,i,u,l)),silent:m});a.add(k)}}},e.prototype._weekTextPositionControl=function(t,n,i,a,s){var o="center",l="middle",u=t[0],c=t[1],f=i==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*s[0]/2,o=f?"right":"left"):(c=c+a+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,n,i,a,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),f=o.get("margin"),h=l.getFirstDayOfWeek();if(!c||$e(c)){c&&(n=y4(c)||n);var p=n.get(["time","dayOfWeekShort"]);c=p||Pe(n.get(["time","dayOfWeekAbbr"]),function(D){return D[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];f=We(f,Math.min(m[1],m[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var y=o.get("silent"),x=0;x<7;x++){var w=l.getNextNDay(v,x),b=l.dataToRect([w.time],!1).center,T=x;T=Math.abs((x+h)%7);var C=new Xt({z2:30,style:Ce(Ur(o,{text:c[T]}),this._weekTextPositionControl(b,a,u,f,m)),silent:y});s.add(C)}}},e.type="calendar",e}($r),zL=864e5,Pst=function(){function r(e,t,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=e}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(e){e=ao(e);var t=e.getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+i+"-"+s,date:e}},r.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},r.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];B([0,1],function(f){c(a,f)&&(s[i[f]]=a[f]*o[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=ti(s,l);B([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/o[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(e,t){ke(e)&&(e=e[0]),t==null&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,a=n.formatedDate;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+zL))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},r.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},r.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},r.prototype.convertToPixel=function(e,t,n){var i=hZ(t);return i===this?i.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=hZ(t);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ke(e)&&e.length===1&&(e=e[0]),ke(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);t=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},r.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;t[0].time>t[1].time&&(n=!0,t.reverse());var i=Math.floor(t[1].time/zL)-Math.floor(t[0].time/zL)+1,a=new Date(t[0].time),s=a.getDate(),o=t[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-t[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+t[0].day+6)/7),f=n?-c+1:c-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},r.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},r.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var a=new r(i);n.push(a),i.coordinateSystem=a}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},r.dimensions=["time","value"],r}();function hZ(r){var e=r.calendarModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}function Lst(r){r.registerComponentModel(kst),r.registerComponentView(Mst),r.registerCoordinateSystem("calendar",Pst)}function Ost(r,e){var t=r.existing;if(e.id=r.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function dZ(r,e){var t;return B(e,function(n){r[n]!=null&&r[n]!=="auto"&&(t=!0)}),t}function Nst(r,e,t){var n=Ce({},t),i=r[e],a=t.$action||"merge";a==="merge"?i?(_t(i,n,!0),ad(i,n,{ignoreSize:!0}),rue(t,i),F2(t,i),F2(t,i,"shape"),F2(t,i,"style"),F2(t,i,"extra"),t.clipPath=i.clipPath):r[e]=n:a==="replace"?r[e]=n:a==="remove"&&i&&(r[e]=null)}var pde=["transition","enterFrom","leaveTo"],Fst=pde.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function F2(r,e,t){if(t&&(!r[t]&&e[t]&&(r[t]={}),r=r[t],e=e[t]),!(!r||!e))for(var n=t?pde:Fst,i=0;i<n.length;i++){var a=n[i];r[a]==null&&e[a]!=null&&(r[a]=e[a])}}function Bst(r,e){if(r&&(r.hv=e.hv=[dZ(e,["left","right"]),dZ(e,["top","bottom"])],r.type==="group")){var t=r,n=e;t.width==null&&(t.width=n.width=0),t.height==null&&(t.height=n.height=0)}}var Vst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,t,n),this.option.elements=i},e.prototype.optionUpdated=function(t,n){var i=this.option,a=(n?i:t).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=ele(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];B(l,function(c,f){var h=c.newOption;h&&(u.push(h),Ost(c,h),Nst(s,f,h),Bst(s[f],h))},this),i.elements=sr(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,n,i){B(t,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Ut),pZ={path:null,compoundPath:null,group:ft,image:Li,text:Xt},No=Qt(),zst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=Je()},e.prototype.render=function(t,n,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=t.get("z"),o=t.get("zlevel");B(n,function(l){var u=vi(l.id,null),c=u!=null?i.get(u):null,f=vi(l.parentId,null),h=f!=null?i.get(f):a,p=l.type,v=l.style;p==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var m=l.textContent,y=l.textConfig;if(v&&Yhe(v,p,!!y,!!m)){var x=Xhe(v,p,!0);!y&&x.textConfig&&(y=l.textConfig=x.textConfig),!m&&x.textContent&&(m=x.textContent)}var w=Ust(l),b=l.$action||"merge",T=b==="merge",C=b==="replace";if(T){var D=!c,A=c;D?A=vZ(u,h,l.type,i):(A&&(No(A).isNew=!1),Jhe(A)),A&&(bA(A,w,t,{isInit:D}),gZ(A,l,s,o))}else if(C){AA(c,l,i,t);var k=vZ(u,h,l.type,i);k&&(bA(k,w,t,{isInit:!0}),gZ(k,l,s,o))}else b==="remove"&&(Zhe(c,l),AA(c,l,i,t));var I=i.get(u);if(I&&m)if(T){var M=I.getTextContent();M?M.attr(m):I.setTextContent(new Xt(m))}else C&&I.setTextContent(new Xt(m));if(I){var P=l.clipPath;if(P){var O=P.type,N=void 0,D=!1;if(T){var G=I.getClipPath();D=!G||No(G).type!==O,N=D?h3(O):G}else C&&(D=!0,N=h3(O));I.setClipPath(N),bA(N,P,t,{isInit:D}),EC(N,P.keyframeAnimation,t)}var j=No(I);I.setTextConfig(y),j.option=l,Hst(I,t,l),ng({el:I,componentModel:t,itemName:I.name,itemTooltipOption:l.tooltip}),EC(I,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,n){for(var i=t.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],h=vi(f.id,null),p=h!=null?s.get(h):null;if(!(!p||!p.isGroup)){var v=p.parent,m=v===a,y=No(p),x=No(v);y.width=We(y.option.width,m?o:x.width)||0,y.height=We(y.option.height,m?l:x.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],h=vi(f.id,null),p=h!=null?s.get(h):null;if(p){var v=p.parent,x=No(v),w=v===a?{width:o,height:l}:{width:x.width,height:x.height},b={},T=tI(p,f,w,null,{hv:f.hv,boundingMode:f.bounding},b);if(!No(p).isNew&&T){for(var C=f.transition,D={},A=0;A<u.length;A++){var k=u[A],I=b[k];C&&(mv(C)||Ct(C,k)>=0)?D[k]=I:p[k]=I}rr(p,D,t,0)}else p.attr(b)}}},e.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(i){AA(i,No(i).option,n,t._lastGraphicModel)}),this._elMap=Je()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}($r);function h3(r){var e=Ke(pZ,r)?pZ[r]:YD(r),t=new e({});return No(t).type=r,t}function vZ(r,e,t,n){var i=h3(t);return e.add(i),n.set(r,i),No(i).id=r,No(i).isNew=!0,i}function AA(r,e,t,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){AA(a,e,t,n)}),yI(r,e,n),t.removeKey(No(r).id))}function gZ(r,e,t,n){r.isGroup||B([["cursor",Zo.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(i){var a=i[0];Ke(e,a)?r[a]=vt(e[a],i[1]):r[a]==null&&(r[a]=i[1])}),B(jt(e),function(i){if(i.indexOf("on")===0){var a=e[i];r[i]=rt(a)?a:null}}),Ke(e,"draggable")&&(r.draggable=e.draggable),e.name!=null&&(r.name=e.name),e.id!=null&&(r.id=e.id)}function Ust(r){return r=Ce({},r),B(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(tue),function(e){delete r[e]}),r}function Hst(r,e,t){var n=dt(r).eventData;!r.silent&&!r.ignore&&!n&&(n=dt(r).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:r.name}),n&&(n.info=t.info)}function Gst(r){r.registerComponentModel(Vst),r.registerComponentView(zst),r.registerPreprocessor(function(e){var t=e.graphic;ke(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var mZ=["x","y","radius","angle","single"],jst=["cartesian2d","polar","singleAxis"];function Wst(r){var e=r.get("coordinateSystem");return Ct(jst,e)>=0}function Dh(r){return r+"Axis"}function $st(r,e){var t=Je(),n=[],i=Je();r.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||o(c)});var a;do a=!1,r.eachComponent("dataZoom",s);while(a);function s(c){!i.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,p){var v=t.get(h);v&&v[p]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return n}function vde(r){var e=r.ecModel,t={infoList:[],infoMap:Je()};return r.eachTargetAxis(function(n,i){var a=e.getComponent(Dh(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(a)}}}),t}var UL=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},r}(),Bw=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,n,i){var a=yZ(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var n=yZ(t);_t(this.option,t,!0),_t(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;B([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=Je(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return B(mZ,function(i){var a=this.getReferringComponents(Dh(i),wje);if(a.specified){n=!0;var s=new UL;B(a.models,function(o){s.add(o.componentIndex)}),t.set(i,s)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(o,"single")}function l(u,c){var f=u[0];if(f){var h=new UL;if(h.add(f.componentIndex),t.set(c,h),a=!1,c==="x"||c==="y"){var p=f.getReferringComponents("grid",Qn).models[0];p&&B(u,function(v){f.componentIndex!==v.componentIndex&&p===v.getReferringComponents("grid",Qn).models[0]&&h.add(v.componentIndex)})}}}a&&B(mZ,function(u){if(a){var c=i.findComponents({mainType:Dh(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new UL;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,i=this.get("rangeMode");B([["start","startValue"],["end","endValue"]],function(a,s){var o=t[a[0]]!=null,l=t[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,i){t==null&&(t=this.ecModel.getComponent(Dh(n),i))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(i,a){B(i.indexList,function(s){t.call(n,a,s)})})},e.prototype.getAxisProxy=function(t,n){var i=this.getAxisModel(t,n);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[n])return this.ecModel.getComponent(Dh(t),n)},e.prototype.setRawRange=function(t){var n=this.option,i=this.settledOption;B([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(n[a[0]]=i[a[0]]=t[a[0]],n[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;B(["start","startValue","end","endValue"],function(i){n[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(t==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Ut);function yZ(r){var e={};return B(["start","end","startValue","endValue","throttle"],function(t){r.hasOwnProperty(t)&&(e[t]=r[t])}),e}var qst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Bw),d6=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.dataZoomModel=t,this.ecModel=n,this.api=i},e.type="dataZoom",e}($r),Yst=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(d6),k0=B,_Z=Js,Xst=function(){function r(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(e){return this._dataZoomModel===e},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Wst(t)){var n=Dh(this._dimName),i=t.getReferringComponents(n,Qn).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return ut(this._minMaxSpan)},r.prototype.calculateDataWindow=function(e){var t=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;k0(["start","end"],function(h,p){var v=e[h],m=e[h+"Value"];a[p]==="percent"?(v==null&&(v=s[p]),m=i.parse(fr(v,s,t))):(u=!0,m=m==null?t[p]:i.parse(m),v=fr(m,t,s)),l[p]=m==null||isNaN(m)?t[p]:m,o[p]=v==null||isNaN(v)?s[p]:v}),_Z(l),_Z(o);var c=this._minMaxSpan;u?f(l,o,t,s,!1):f(o,l,s,t,!0);function f(h,p,v,m,y){var x=y?"Span":"ValueSpan";ug(0,h,v,"all",c["min"+x],c["max"+x]);for(var w=0;w<2;w++)p[w]=fr(h[w],v,m,!0),y&&(p[w]=i.parse(p[w]))}return{valueWindow:l,percentWindow:o}},r.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Kst(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;k0(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=Pe(c,function(p){return u.getDimensionIndex(p)},u);u.filterSelf(function(p){for(var v,m,y,x=0;x<c.length;x++){var w=f.get(h[x],p),b=!isNaN(w),T=w<s[0],C=w>s[1];if(b&&!T&&!C)return!0;b&&(y=!0),T&&(v=!0),C&&(m=!0)}return y&&v&&m})}else k0(c,function(p){if(a==="empty")l.setData(u=u.map(p,function(m){return o(m)?m:NaN}));else{var v={};v[p]=s,u.selectRange(v)}});k0(c,function(p){u.setApproximateExtent(s,p)})}});function o(l){return l>=s[0]&&l<=s[1]}},r.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;k0(["min","max"],function(i){var a=t.get(i+"Span"),s=t.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=fr(n[0]+s,n,[0,100],!0):a!=null&&(s=fr(a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=gB(n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r}();function Kst(r,e,t){var n=[1/0,-1/0];k0(t,function(s){dKe(n,s.getData(),e)});var i=r.getAxisModel(),a=Pce(i.axis.scale,i,n).calculate();return[a.min,a.max]}var Zst={getTargetSeries:function(r){function e(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=r.getComponent(Dh(s),o);i(s,o,l,a)})})}e(function(i,a,s,o){s.__dzAxisProxy=null});var t=[];e(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new Xst(i,a,o,r),t.push(s.__dzAxisProxy))});var n=Je();return B(t,function(i){B(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,e){r.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).reset(t)}),t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).filterData(t,e)})}),r.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function Qst(r){r.registerAction("dataZoom",function(e,t){var n=$st(t,e);B(n,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var xZ=!1;function p6(r){xZ||(xZ=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,Zst),Qst(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Jst(r){r.registerComponentModel(qst),r.registerComponentView(Yst),p6(r)}var Bo=function(){function r(){}return r}(),gde={};function M0(r,e){gde[r]=e}function mde(r){return gde[r]}var eot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;B(this.option.feature,function(n,i){var a=mde(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),_t(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Ut);function tot(r,e,t){var n=e.getBoxLayoutParams(),i=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},s=ti(n,a,i);pv(e.get("orient"),r,e.get("itemGap"),s.width,s.height),tI(r,n,a,i)}function yde(r,e){var t=ag(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),r=new Kt({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),r}var rot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];B(u,function(v,m){f.push(m)}),new cf(this._featureNames||[],f).add(h).update(h).remove(gt(h,null)).execute(),this._featureNames=f;function h(v,m){var y=f[v],x=f[m],w=u[y],b=new or(w,t,t.ecModel),T;if(a&&a.newTitle!=null&&a.featureName===y&&(w.title=a.newTitle),y&&!x){if(not(y))T={onclick:b.option.onclick,featureName:y};else{var C=mde(y);if(!C)return;T=new C}c[y]=T}else if(T=c[x],!T)return;T.uid=Ey("toolbox-feature"),T.model=b,T.ecModel=n,T.api=i;var D=T instanceof Bo;if(!y&&x){D&&T.dispose&&T.dispose(n,i);return}if(!b.get("show")||D&&T.unusable){D&&T.remove&&T.remove(n,i);return}p(b,T,y),b.setIconStatus=function(A,k){var I=this.option,M=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[A]=k,M[A]&&(k==="emphasis"?lf:uf)(M[A])},T instanceof Bo&&T.render&&T.render(b,n,i,a)}function p(v,m,y){var x=v.getModel("iconStyle"),w=v.getModel(["emphasis","iconStyle"]),b=m instanceof Bo&&m.getIcons?m.getIcons():v.get("icon"),T=v.get("title")||{},C,D;$e(b)?(C={},C[y]=b):C=b,$e(T)?(D={},D[y]=T):D=T;var A=v.iconPaths={};B(C,function(k,I){var M=Ty(k,{},{x:-o/2,y:-o/2,width:o,height:o});M.setStyle(x.getItemStyle());var P=M.ensureState("emphasis");P.style=w.getItemStyle();var O=new Xt({style:{text:D[I],align:w.get("textAlign"),borderRadius:w.get("textBorderRadius"),padding:w.get("textPadding"),fill:null,font:NB({fontStyle:w.get("textFontStyle"),fontFamily:w.get("textFontFamily"),fontSize:w.get("textFontSize"),fontWeight:w.get("textFontWeight")},n)},ignore:!0});M.setTextContent(O),ng({el:M,componentModel:t,itemName:I,formatterParamsExtra:{title:D[I]}}),M.__title=D[I],M.on("mouseover",function(){var N=w.getItemStyle(),G=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";O.setStyle({fill:w.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:w.get("textBackgroundColor")}),M.setTextConfig({position:w.get("textPosition")||G}),O.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",I])!=="emphasis"&&i.leaveEmphasis(this),O.hide()}),(v.get(["iconStatus",I])==="emphasis"?lf:uf)(M),s.add(M),M.on("click",Ye(m.onclick,m,n,i,I)),A[I]=M})}tot(s,t,i),s.add(yde(s.getBoundingRect(),t)),l||s.eachChild(function(v){var m=v.__title,y=v.ensureState("emphasis"),x=y.textConfig||(y.textConfig={}),w=v.getTextContent(),b=w&&w.ensureState("emphasis");if(b&&!rt(b)&&m){var T=b.style||(b.style={}),C=Eb(m,Xt.makeFont(T)),D=v.x+s.x,A=v.y+s.y+o,k=!1;A+C.height>i.getHeight()&&(x.position="top",k=!0);var I=k?-5-C.height:o+10;D+C.width/2>i.getWidth()?(x.position=["100%",I],T.align="right"):D-C.width/2<0&&(x.position=[0,I],T.align="left")}})},e.prototype.updateView=function(t,n,i,a){B(this._features,function(s){s instanceof Bo&&s.updateView&&s.updateView(s.model,n,i,a)})},e.prototype.remove=function(t,n){B(this._features,function(i){i instanceof Bo&&i.remove&&i.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){B(this._features,function(i){i instanceof Bo&&i.dispose&&i.dispose(t,n)})},e.type="toolbox",e}($r);function not(r){return r.indexOf("my")===0}var iot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Ht.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var h=l.split(","),p=h[0].indexOf("base64")>-1,v=s?decodeURIComponent(h[1]):h[1];p&&(v=window.atob(v));var m=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var y=v.length,x=new Uint8Array(y);y--;)x[y]=v.charCodeAt(y);var w=new Blob([x]);window.navigator.msSaveOrOpenBlob(w,m)}else{var b=document.createElement("iframe");document.body.appendChild(b);var T=b.contentWindow,C=T.document;C.open("image/svg+xml","replace"),C.write(v),C.close(),T.focus(),C.execCommand("SaveAs",!0,m),document.body.removeChild(b)}}else{var D=i.get("lang"),A='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(D&&D[0]||"")+'" /></body>',k=window.open();k.document.write(A),k.document.title=a}},e.getDefaultOption=function(t){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e}(Bo),wZ="__ec_magicType_stack__",aot=[["line","bar"],["stack"]],sot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),i={};return B(t.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},e.getDefaultOption=function(t){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(t,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(bZ[i]){var o={series:[]},l=function(f){var h=f.subType,p=f.id,v=bZ[i](h,p,f,a);v&&(st(v,f.option),o.series.push(v));var m=f.coordinateSystem;if(m&&m.type==="cartesian2d"&&(i==="line"||i==="bar")){var y=m.getAxesByScale("ordinal")[0];if(y){var x=y.dim,w=x+"Axis",b=f.getReferringComponents(w,Qn).models[0],T=b.componentIndex;o[w]=o[w]||[];for(var C=0;C<=T;C++)o[w][T]=o[w][T]||{};o[w][T].boundaryGap=i==="bar"}}};B(aot,function(f){Ct(f,i)>=0&&B(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=i;i==="stack"&&(u=_t({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},e}(Bo),bZ={line:function(r,e,t,n){if(r==="bar")return _t({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,e,t,n){if(r==="line")return _t({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,e,t,n){var i=t.get("stack")===wZ;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),_t({id:e,stack:i?"":wZ},n.get(["option","stack"])||{},!0)}};Xl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,e){e.mergeOption(r.newOption)});var _I=new Array(60).join("-"),Qm="	";function oot(r){var e={},t=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}function lot(r){var e=[];return B(r,function(t,n){var i=t.categoryAxis,a=t.valueAxis,s=a.dim,o=[" "].concat(Pe(t.series,function(p){return p.name})),l=[i.model.getCategories()];B(t.series,function(p){var v=p.getRawData();l.push(p.getRawData().mapArray(v.mapDimension(s),function(m){return m}))});for(var u=[o.join(Qm)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(Qm))}e.push(u.join(`
`))}),e.join(`

`+_I+`

`)}function uot(r){return Pe(r,function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=t.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+Qm:"")+i.join(Qm))}),n.join(`
`)}).join(`

`+_I+`

`)}function cot(r){var e=oot(r);return{value:sr([lot(e.seriesGroupByCategoryAxis),uot(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+_I+`

`),meta:e.meta}}function IC(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function fot(r){var e=r.slice(0,r.indexOf(`
`));if(e.indexOf(Qm)>=0)return!0}var d3=new RegExp("["+Qm+"]+","g");function hot(r){for(var e=r.split(/\n+/g),t=IC(e.shift()).split(d3),n=[],i=Pe(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=IC(e[a]).split(d3);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function dot(r){for(var e=r.split(/\n+/g),t=IC(e.shift()),n=[],i=0;i<e.length;i++){var a=IC(e[i]);if(a){var s=a.split(d3),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:t,data:n}}function pot(r,e){var t=r.split(new RegExp(`
*`+_I+`
*`,"g")),n={series:[]};return B(t,function(i,a){if(fot(i)){var s=hot(i),o=e[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=dot(i);n.series.push(s)}}),n}var vot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),p=cot(t);if(rt(f)){var v=f(n.getOption());$e(v)?u.innerHTML=v:Mv(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),c.value=p.value,u.appendChild(c)}var y=p.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),T=document.createElement("div");w+=";background-color:"+a.get("buttonColor"),w+=";color:"+a.get("buttonTextColor");var C=this;function D(){i.removeChild(s),C._dom=null}GN(b,"click",D),GN(T,"click",function(){if(h==null&&f!=null||h!=null&&f==null){D();return}var A;try{rt(h)?A=h(u,n.getOption()):A=pot(c.value,y)}catch(k){throw D(),new Error("Data view format error "+k)}A&&n.dispatchAction({type:"changeDataView",newOption:A}),D()}),b.innerHTML=l[1],T.innerHTML=l[2],T.style.cssText=b.style.cssText=w,!a.get("readOnly")&&x.appendChild(T),x.appendChild(b),s.appendChild(o),s.appendChild(u),s.appendChild(x),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},e}(Bo);function got(r,e){return Pe(r,function(t,n){var i=e&&e[n];if(ot(i)&&!ke(i)){var a=ot(t)&&!ke(t);a||(t={value:t});var s=i.name!=null&&t.name==null;return t=st(t,i),s&&delete t.name,t}else return t})}Xl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,e){var t=[];B(r.newOption.series,function(n){var i=e.getSeriesByName(n.name)[0];if(!i)t.push(Ce({type:"scatter"},n));else{var a=i.get("data");t.push({name:n.name,data:got(n.data,a)})}}),e.mergeOption(st({series:t},r.newOption))});var _de=B,xde=Qt();function mot(r,e){var t=v6(r);_de(e,function(n,i){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s[i])break}if(a<0){var o=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function yot(r){var e=v6(r),t=e[e.length-1];e.length>1&&e.pop();var n={};return _de(t,function(i,a){for(var s=e.length-1;s>=0;s--)if(i=e[s][a],i){n[a]=i;break}}),n}function _ot(r){xde(r).snapshots=null}function xot(r){return v6(r).length}function v6(r){var e=xde(r);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var wot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){_ot(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return n},e}(Bo);Xl({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});var bot=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],g6=function(){function r(e,t,n){var i=this;this._targetInfoList=[];var a=SZ(t,e);B(Sot,function(s,o){(!n||!n.include||Ct(n.include,o)>=0)&&s(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=HL[n.brushType](0,a,i);n.__rangeOffset={offset:CZ[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},r.prototype.matchOutputRanges=function(e,t,n){B(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&B(a.coordSyses,function(s){var o=HL[i.brushType](1,s,i.range,!0);n(i,o.values,s,t)})},this)},r.prototype.setInputRanges=function(e,t){B(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=HL[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?CZ[n.brushType](a.values,s.offset,Tot(a.xyMinMax,s.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(e,t){return Pe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:Dhe(i),isTargetByCursor:Rhe(i,e,n.coordSysModel),getLinearBrushOtherExtent:Ihe(i)}})},r.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return i===!0||i&&Ct(i.coordSyses,t.coordinateSystem)>=0},r.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=SZ(t,e),a=0;a<n.length;a++){var s=n[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<TZ.length;l++)if(TZ[l](i,s))return s}return!0},r}();function p3(r){return r[0]>r[1]&&r.reverse(),r}function SZ(r,e){return Ex(r,e,{includeMainTypes:bot})}var Sot={grid:function(r,e){var t=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=Je(),s={},o={};!t&&!n&&!i||(B(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),B(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),B(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];B(u.getCartesians(),function(f,h){(Ct(t,f.getAxis("x").model)>=0||Ct(n,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:AZ.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(r,e){B(r.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:AZ.geo})})}},TZ=[function(r,e){var t=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(r,e){var t=r.geoModel;return t&&t===e.geoModel}],AZ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,e=r.getBoundingRect().clone();return e.applyTransform(Bh(r)),e}},HL={lineX:gt(EZ,0),lineY:gt(EZ,1),rect:function(r,e,t,n){var i=r?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),a=r?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),s=[p3([i[0],a[0]]),p3([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(r,e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Pe(t,function(s){var o=r?e.pointToData(s,n):e.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function EZ(r,e,t,n){var i=t.getAxis(["x","y"][r]),a=p3(Pe([0,1],function(o){return e?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[r]=a,s[1-r]=[NaN,NaN],{values:a,xyMinMax:s}}var CZ={lineX:gt(DZ,0),lineY:gt(DZ,1),rect:function(r,e,t){return[[r[0][0]-t[0]*e[0][0],r[0][1]-t[0]*e[0][1]],[r[1][0]-t[1]*e[1][0],r[1][1]-t[1]*e[1][1]]]},polygon:function(r,e,t){return Pe(r,function(n,i){return[n[0]-t[0]*e[i][0],n[1]-t[1]*e[i][1]]})}};function DZ(r,e,t,n){return[e[0]-n[r]*t[0],e[1]-n[r]*t[1]]}function Tot(r,e){var t=IZ(r),n=IZ(e),i=[t[0]/n[0],t[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function IZ(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var v3=B,Aot=gje("toolbox-dataZoom_"),Eot=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){this._brushController||(this._brushController=new GV(i.getZr()),this._brushController.on("brush",Ye(this._onBrush,this)).mount()),Iot(t,n,this,a,i),Dot(t,n)},e.prototype.onclick=function(t,n,i){Cot[i].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new g6(m6(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(o("x",f,c[0]),o("y",f,c[1])):o({lineX:"x",lineY:"y"}[h],f,c)}}),mot(a,i),this._dispatchZoomAction(i);function o(u,c,f){var h=c.getAxis(u),p=h.model,v=l(u,p,a),m=v.findRepresentativeAxisProxy(p).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(f=ug(0,f.slice(),h.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var v=p.getAxisModel(u,c.componentIndex);v&&(h=p)}),h}},e.prototype._dispatchZoomAction=function(t){var n=[];v3(t,function(i,a){n.push(ut(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},e}(Bo),Cot={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(yot(this.ecModel))}};function m6(r){var e={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Dot(r,e){r.setIconStatus("back",xot(e)>1?"emphasis":"normal")}function Iot(r,e,t,n,i){var a=t._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),t._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var s=new g6(m6(r),e,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}V$e("dataZoom",function(r){var e=r.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var n=e.getModel(t),i=[],a=m6(n),s=Ex(r,a);v3(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),v3(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:Aot+u+f};h[c]=f,i.push(h)}return i});function Rot(r){r.registerComponentModel(eot),r.registerComponentView(rot),M0("saveAsImage",iot),M0("magicType",sot),M0("dataView",vot),M0("dataZoom",Eot),M0("restore",wot),Pt(Jst)}var kot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Ut);function wde(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function bde(r){if(Ht.domSupported){for(var e=document.documentElement.style,t=0,n=r.length;t<n;t++)if(r[t]in e)return r[t]}}var Sde=bde(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mot=bde(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Tde(r,e){if(!r)return e;e=jB(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function Pot(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var Lot=Tde(Mot,"transition"),y6=Tde(Sde,"transform"),Oot="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ht.transform3dSupported?"will-change:transform;":"");function Not(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function Fot(r,e,t){if(!$e(t)||t==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");e=Fv(e);var a=Not(t),s=Math.max(Math.round(i)*1.5,6),o="",l=y6+":",u;Ct(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=s+i,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),p=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;o+=";"+a+":-"+p+"px";var v=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function Bot(r,e){var t="cubic-bezier(0.23,1,0.32,1)",n=" "+r/2+"s "+t,i="opacity"+n+",visibility"+n;return e||(n=" "+r+"s "+t,i+=Ht.transformSupported?","+y6+n:",left"+n+",top"+n),Lot+":"+i}function RZ(r,e,t){var n=r.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Ht.transformSupported)return t?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Ht.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+y6+":"+s+";":[["top",0],["left",0],[Sde,s]]}function Vot(r){var e=[],t=r.get("fontSize"),n=r.getTextColor();n&&e.push("color:"+n),e.push("font:"+r.getFont());var i=vt(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),B(["decoration","align"],function(u){var c=r.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function zot(r,e,t){var n=[],i=r.get("transitionDuration"),a=r.get("backgroundColor"),s=r.get("shadowBlur"),o=r.get("shadowColor"),l=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),c=r.getModel("textStyle"),f=Pue(r,"html"),h=l+"px "+u+"px "+s+"px "+o;return n.push("box-shadow:"+h),e&&i&&n.push(Bot(i,t)),a&&n.push("background-color:"+a),B(["width","color","radius"],function(p){var v="border-"+p,m=jB(v),y=r.get(m);y!=null&&n.push(v+":"+y+(p==="color"?"":"px"))}),n.push(Vot(c)),f!=null&&n.push("padding:"+ag(f).join("px ")+"px"),n.join(";")+";"}function kZ(r,e,t,n,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&jHe(r,s,t,n,i)}else{r[0]=n,r[1]=i;var o=a&&a.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Uot=function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ht.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=t.appendTo,s=a&&($e(a)?document.querySelector(a):Mv(a)?a:rt(a)&&a(e.getDom()));kZ(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(n),this._api=e,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,c=i.painter.getViewportRoot();Po(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=Pot(t,"position"),i=t.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=Oot+zot(e,!this._firstShow,this._longHide)+RZ(a[0],a[1],!0)+("border-color:"+Fv(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,n,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if($e(a)&&n.get("trigger")==="item"&&!wde(n)&&(o=Fot(n,i,a)),$e(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ke(e)||(e=[e]);for(var l=0;l<e.length;l++)Mv(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(kZ(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var i=this.el.style,a=RZ(n[0],n[1]);B(a,function(s){i[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Ht.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ye(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},r}(),Hot=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),PZ(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,n,i,a){var s=this;ot(e)&&pr(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new Xt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Pue(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),B(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),B(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=MZ(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},r.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;PZ(i,this._zr,e,t),e=i[0],t=i[1];var a=n.style,s=rh(a.borderWidth||0),o=MZ(a);n.x=e+s+o.left,n.y=t+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ye(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function rh(r){return Math.max(0,r)}function MZ(r){var e=rh(r.shadowBlur||0),t=rh(r.shadowOffsetX||0),n=rh(r.shadowOffsetY||0);return{left:rh(e-t),right:rh(e+t),top:rh(e-n),bottom:rh(e+n)}}function PZ(r,e,t,n){r[0]=t,r[1]=n,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Got=new Kt({shape:{x:-1,y:-1,width:2,height:2}}),jot=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(Ht.node||!n.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=Sje(i.get("renderMode"));this._tooltipContent=a==="richText"?new Hot(n):new Uot(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,n,i){if(!(Ht.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?ky(this,"_updatePosition",50,"fixRate"):Aw(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");lde("itemTooltip",this._api,Ye(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,i,a){if(!(a.from===this.uid||Ht.node||!i.getDom())){var s=LZ(a,i);this._ticket="";var o=a.dataByCoordSys,l=Yot(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Got;c.x=a.x,c.y=a.y,c.update(),dt(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,i,a))return;var f=ude(a,n),h=f.point[0],p=f.point[1];h!=null&&p!=null&&this._tryShow({offsetX:h,offsetY:p,target:f.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(LZ(a,i))},e.prototype._manuallyAxisShowTip=function(t,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var c=u.getData(),f=m_([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,n){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){var o=dt(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Jp(i,function(c){if(dt(c).dataIndex!=null)return l=c,!0;if(dt(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(t,l,n):u?this._showComponentItemTooltip(t,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var i=t.get("showDelay");n=Ye(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(t,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=m_([n.tooltipOption],a),l=this._renderMode,u=[],c=Pi("section",{blocks:[],noHeader:!0}),f=[],h=new CP;B(t,function(w){B(w.dataByAxis,function(b){var T=i.getComponent(b.axisDim+"Axis",b.axisIndex),C=b.value;if(!(!T||C==null)){var D=ade(C,T.axis,i,b.seriesDataIndices,b.valueLabelOpt),A=Pi("section",{header:D,noHeader:!Uo(D),sortBlocks:!0,blocks:[]});c.blocks.push(A),B(b.seriesDataIndices,function(k){var I=i.getSeriesByIndex(k.seriesIndex),M=k.dataIndexInside,P=I.getDataParams(M);if(!(P.dataIndex<0)){P.axisDim=b.axisDim,P.axisIndex=b.axisIndex,P.axisType=b.axisType,P.axisId=b.axisId,P.axisValue=mV(T.axis,{value:C}),P.axisValueLabel=D,P.marker=h.makeTooltipMarker("item",Fv(P.color),l);var O=wq(I.formatTooltip(M,!0,null)),N=O.frag;if(N){var G=m_([I],a).get("valueFormatter");A.blocks.push(G?Ce({valueFormatter:G},N):N)}O.text&&f.push(O.text),u.push(P)}})}})}),c.blocks.reverse(),f.reverse();var p=n.position,v=o.get("order"),m=Cq(c,h,l,v,i.get("useUTC"),o.get("textStyle"));m&&f.unshift(m);var y=l==="richText"?`

`:"<br/>",x=f.join(y);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(o,p,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,x,u,Math.random()+"",s[0],s[1],p,null,h)})},e.prototype._showSeriesItemTooltip=function(t,n,i){var a=this._ecModel,s=dt(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,f=s.dataType,h=u.getData(f),p=this._renderMode,v=t.positionDefault,m=m_([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=m.get("trigger");if(!(y!=null&&y!=="item")){var x=u.getDataParams(c,f),w=new CP;x.marker=w.makeTooltipMarker("item",Fv(x.color),p);var b=wq(u.formatTooltip(c,!1,f)),T=m.get("order"),C=m.get("valueFormatter"),D=b.frag,A=D?Cq(C?Ce({valueFormatter:C},D):D,w,p,T,a.get("useUTC"),m.get("textStyle")):b.text,k="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,A,x,k,t.offsetX,t.offsetY,t.position,t.target,w)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,i){var a=this._renderMode==="html",s=dt(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if($e(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=ut(l),l.content=Ca(l.content));var f=[l],h=this._ecModel.getComponent(s.componentMainType,s.componentIndex);h&&f.push(h),f.push({formatter:l.content});var p=t.positionDefault,v=m_(f,this._tooltipModel,p?{position:p}:null),m=v.get("content"),y=Math.random()+"",x=new CP;this._showOrMove(v,function(){var w=ut(v.get("formatterParams")||{});this._showTooltipContent(v,m,w,y,t.offsetX,t.offsetY,t.position,n,x)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,i,a,s,o,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var p=n,v=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor")),m=v.color;if(h)if($e(h)){var y=t.ecModel.get("useUTC"),x=ke(i)?i[0]:i,w=x&&x.axisType&&x.axisType.indexOf("time")>=0;p=h,w&&(p=Pb(x.axisValue,p,y)),p=WB(p,i,!0)}else if(rt(h)){var b=Ye(function(T,C){T===this._ticket&&(f.setContent(C,c,t,m,l),this._updatePosition(t,l,s,o,f,i,u))},this);this._ticket=a,p=h(i,a,b)}else p=h;f.setContent(p,c,t,m,l),f.show(t,m),this._updatePosition(t,l,s,o,f,i,u)}},e.prototype._getNearestPoint=function(t,n,i,a){if(i==="axis"||ke(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ke(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,i,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||t.get("position");var f=s.getSize(),h=t.get("align"),p=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),rt(n)&&(n=n([i,a],o,s.el,v,{viewSize:[u,c],contentSize:f.slice()})),ke(n))i=We(n[0],u),a=We(n[1],c);else if(ot(n)){var m=n;m.width=f[0],m.height=f[1];var y=ti(m,{width:u,height:c});i=y.x,a=y.y,h=null,p=null}else if($e(n)&&l){var x=qot(n,v,f,t.get("borderWidth"));i=x[0],a=x[1]}else{var x=Wot(i,a,s,u,c,h?null:20,p?null:20);i=x[0],a=x[1]}if(h&&(i-=OZ(h)?f[0]/2:h==="right"?f[0]:0),p&&(a-=OZ(p)?f[1]/2:p==="bottom"?f[1]:0),wde(t)){var x=$ot(i,a,s,u,c);i=x[0],a=x[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&B(i,function(o,l){var u=o.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];s=s&&u.length===f.length,s&&B(u,function(h,p){var v=f[p]||{},m=h.seriesDataIndices||[],y=v.seriesDataIndices||[];s=s&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&m.length===y.length,s&&B(m,function(x,w){var b=y[w];s=s&&x.seriesIndex===b.seriesIndex&&x.dataIndex===b.dataIndex}),a&&B(h.seriesDataIndices,function(x){var w=x.seriesIndex,b=n[w],T=a[w];b&&T&&T.data!==b.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){Ht.node||!n.getDom()||(Aw(this,"_updatePosition"),this._tooltipContent.dispose(),c3("itemTooltip",n))},e.type="tooltip",e}($r);function m_(r,e,t){var n=e.ecModel,i;t?(i=new or(t,n,n),i=new or(e.option,i,n)):i=e;for(var a=r.length-1;a>=0;a--){var s=r[a];s&&(s instanceof or&&(s=s.get("tooltip",!0)),$e(s)&&(s={formatter:s}),s&&(i=new or(s,i,n)))}return i}function LZ(r,e){return r.dispatchAction||Ye(e.dispatchAction,e)}function Wot(r,e,t,n,i,a,s){var o=t.getSize(),l=o[0],u=o[1];return a!=null&&(r+l+a+2>n?r-=l+a:r+=a),s!=null&&(e+u+s>i?e-=u+s:e+=s),[r,e]}function $ot(r,e,t,n,i){var a=t.getSize(),s=a[0],o=a[1];return r=Math.min(r+s,n)-s,e=Math.min(e+o,i)-o,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function qot(r,e,t,n){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=e.width,c=e.height;switch(r){case"inside":o=e.x+u/2-i/2,l=e.y+c/2-a/2;break;case"top":o=e.x+u/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+u/2-i/2,l=e.y+c+s;break;case"left":o=e.x-i-s,l=e.y+c/2-a/2;break;case"right":o=e.x+u+s,l=e.y+c/2-a/2}return[o,l]}function OZ(r){return r==="center"||r==="middle"}function Yot(r,e,t){var n=wB(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Cb(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=dt(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function Xot(r){Pt(jb),r.registerComponentModel(kot),r.registerComponentView(jot),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},An),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},An)}var Kot=["rect","polygon","keep","clear"];function Zot(r,e){var t=Pr(r?r.brush:[]);if(t.length){var n=[];B(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=r&&r.toolbox;ke(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),Qot(o),e&&!o.length&&o.push.apply(o,Kot)}}function Qot(r){var e={};B(r,function(t){e[t]=1}),r.length=0,B(e,function(t,n){r.push(n)})}var NZ=B;function FZ(r){if(r){for(var e in r)if(r.hasOwnProperty(e))return!0}}function g3(r,e,t){var n={};return NZ(e,function(a){var s=n[a]=i();NZ(r[a],function(o,l){if(ki.isValidType(l)){var u={type:l,visual:o};t&&t(u,a),s[l]=new ki(u),l==="opacity"&&(u=ut(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new ki(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function Ade(r,e,t){var n;B(t,function(i){e.hasOwnProperty(i)&&FZ(e[i])&&(n=!0)}),n&&B(t,function(i){e.hasOwnProperty(i)&&FZ(e[i])?r[i]=ut(e[i]):delete r[i]})}function Jot(r,e,t,n,i,a){var s={};B(r,function(f){var h=ki.prepareVisualTypes(e[f]);s[f]=h});var o;function l(f){return tV(t,o,f)}function u(f,h){Gue(t,o,f,h)}t.each(c);function c(f,h){o=f;var p=t.getRawDataItem(o);if(!(p&&p.visualMap===!1))for(var v=n.call(i,f),m=e[v],y=s[v],x=0,w=y.length;x<w;x++){var b=y[x];m[b]&&m[b].applyVisual(f,l,u)}}}function elt(r,e,t,n){var i={};return B(r,function(a){var s=ki.prepareVisualTypes(e[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function u(C){return tV(o,f,C)}function c(C,D){Gue(o,f,C,D)}for(var f,h=o.getStore();(f=s.next())!=null;){var p=o.getRawDataItem(f);if(!(p&&p.visualMap===!1))for(var v=n!=null?h.get(l,f):f,m=t(v),y=e[m],x=i[m],w=0,b=x.length;w<b;w++){var T=x[w];y[T]&&y[T].applyVisual(v,u,c)}}}}}function tlt(r){var e=r.brushType,t={point:function(n){return BZ[e].point(n,t,r)},rect:function(n){return BZ[e].rect(n,t,r)}};return t}var BZ={lineX:VZ(0),lineY:VZ(1),rect:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])},rect:function(r,e,t){return r&&t.boundingRect.intersect(r)}},polygon:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])&&Np(t.range,r[0],r[1])},rect:function(r,e,t){var n=t.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,s=r.width,o=r.height,l=n[0];if(Np(n,i,a)||Np(n,i+s,a)||Np(n,i,a+o)||Np(n,i+s,a+o)||Tt.create(r).contain(l[0],l[1])||U_(i,a,i+s,a,n)||U_(i,a,i,a+o,n)||U_(i+s,a,i+s,a+o,n)||U_(i,a+o,i+s,a+o,n))return!0}}};function VZ(r){var e=["x","y"],t=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[r];return y_(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[e[r]],n[e[r]]+n[t[r]]];return o[1]<o[0]&&o.reverse(),y_(o[0],s)||y_(o[1],s)||y_(s[0],o)||y_(s[1],o)}}}}function y_(r,e){return e[0]<=r&&r<=e[1]}var zZ=["inBrush","outOfBrush"],GL="__ecBrushSelect",m3="__ecInBrushSelectEvent";function Ede(r){r.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new g6(e.option,r);t.setInputRanges(e.areas,r)})}function rlt(r,e,t){var n=[],i,a;r.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Ede(r),r.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:ut(s.areas),selected:[]};n.push(l);var u=s.option,c=u.brushLink,f=[],h=[],p=[],v=!1;o||(i=u.throttleType,a=u.throttleDelay);var m=Pe(s.areas,function(C){var D=slt[C.brushType],A=st({boundingRect:D?D(C):void 0},C);return A.selectors=tlt(A),A}),y=g3(s.option,zZ,function(C){C.mappingMethod="fixed"});ke(c)&&B(c,function(C){f[C]=1});function x(C){return c==="all"||!!f[C]}function w(C){return!!C.length}r.eachSeries(function(C,D){var A=p[D]=[];C.subType==="parallel"?b(C,D):T(C,D,A)});function b(C,D){var A=C.coordinateSystem;v=v||A.hasAxisBrushed(),x(D)&&A.eachActiveState(C.getData(),function(k,I){k==="active"&&(h[I]=1)})}function T(C,D,A){if(!(!C.brushSelector||alt(s,D))&&(B(m,function(I){s.brushTargetManager.controlSeries(I,C,r)&&A.push(I),v=v||w(A)}),x(D)&&w(A))){var k=C.getData();k.each(function(I){UZ(C,A,k,I)&&(h[I]=1)})}}r.eachSeries(function(C,D){var A={seriesId:C.id,seriesIndex:D,seriesName:C.name,dataIndex:[]};l.selected.push(A);var k=p[D],I=C.getData(),M=x(D)?function(P){return h[P]?(A.dataIndex.push(I.getRawIndex(P)),"inBrush"):"outOfBrush"}:function(P){return UZ(C,k,I,P)?(A.dataIndex.push(I.getRawIndex(P)),"inBrush"):"outOfBrush"};(x(D)?v:w(k))&&Jot(zZ,y,I,M)})}),nlt(e,i,a,n,t)}function nlt(r,e,t,n,i){if(i){var a=r.getZr();if(!a[m3]){a[GL]||(a[GL]=ilt);var s=ky(a,GL,t,e);s(r,n)}}}function ilt(r,e){if(!r.isDisposed()){var t=r.getZr();t[m3]=!0,r.dispatchAction({type:"brushSelect",batch:e}),t[m3]=!1}}function UZ(r,e,t,n){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(r.brushSelector(n,t,s.selectors,s))return!0}}function alt(r,e){var t=r.option.seriesIndex;return t!=null&&t!=="all"&&(ke(t)?Ct(t,e)<0:e!==t)}var slt={rect:function(r){return HZ(r.range)},polygon:function(r){for(var e,t=r.range,n=0,i=t.length;n<i;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&HZ(e)}};function HZ(r){return new Tt(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var olt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new GV(n.getZr())).on("brush",Ye(this._onBrush,this)).mount()},e.prototype.render=function(t,n,i,a){this.model=t,this._updateController(t,n,i,a)},e.prototype.updateTransform=function(t,n,i,a){Ede(n),this._updateController(t,n,i,a)},e.prototype.updateVisual=function(t,n,i,a){this.updateTransform(t,n,i,a)},e.prototype.updateView=function(t,n,i,a){this._updateController(t,n,i,a)},e.prototype._updateController=function(t,n,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:ut(i),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:ut(i),$from:n})},e.type="brush",e}($r),llt="#ddd",ult=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&Ade(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:llt},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Pe(t,function(n){return GZ(this.option,n)},this))},e.prototype.setBrushOption=function(t){this.brushOption=GZ(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Ut);function GZ(r,e){return _t({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new or(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},e,!0)}var clt=["rect","polygon","lineX","lineY","keep","clear"],flt=function(r){ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,B(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,n,i){this.render(t,n,i)},e.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),i={};return B(t.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},e.prototype.onclick=function(t,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var n={show:!0,type:clt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return n},e}(Bo);function hlt(r){r.registerComponentView(olt),r.registerComponentModel(ult),r.registerPreprocessor(Zot),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,rlt),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},An),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},An),M0("brush",flt)}var dlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Ut),plt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),u=vt(t.get("textBaseline"),t.get("textVerticalAlign")),c=new Xt({style:Ur(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=t.get("subtext"),p=new Xt({style:Ur(o,{text:h,fill:o.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),m=t.get("sublink"),y=t.get("triggerEvent",!0);c.silent=!v&&!y,p.silent=!m&&!y,v&&c.on("click",function(){nC(v,"_"+t.get("target"))}),m&&p.on("click",function(){nC(m,"_"+t.get("subtarget"))}),dt(c).eventData=dt(p).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),h&&a.add(p);var x=a.getBoundingRect(),w=t.getBoxLayoutParams();w.width=x.width,w.height=x.height;var b=ti(w,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var T={align:l,verticalAlign:u};c.setStyle(T),p.setStyle(T),x=a.getBoundingRect();var C=b.margin,D=t.getItemStyle(["color","opacity"]);D.fill=t.get("backgroundColor");var A=new Kt({shape:{x:x.x-C[3],y:x.y-C[0],width:x.width+C[1]+C[3],height:x.height+C[0]+C[2],r:t.get("borderRadius")},style:D,subPixelOptimize:!0,silent:!0});a.add(A)}},e.type="title",e}($r);function vlt(r){r.registerComponentModel(dlt),r.registerComponentView(plt)}var jZ=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,n=t.data||[],i=t.axisType,a=this._names=[],s;i==="category"?(s=[],B(n,function(u,c){var f=vi(yy(u),""),h;ot(u)?(h=ut(u),h.value=c):h=c,s.push(h),a.push(f)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new La([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Ut),Cde=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=_d(jZ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(jZ);Cn(Cde,nI.prototype);var glt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}($r),mlt=function(r){ge(e,r);function e(t,n,i,a){var s=r.call(this,t,n,i)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(nl),jL=Math.PI,WZ=Qt(),ylt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.api=n},e.prototype.render=function(t,n,i){if(this.model=t,this.api=i,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Pi("nameValue",{noName:!0,value:c})},B(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,t)},this),this._renderAxisLabel(a,o,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,n){var i=t.get(["label","position"]),a=t.get("orient"),s=xlt(t,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":$e(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:jL/2},f=a==="vertical"?s.height:s.width,h=t.getModel("controlStyle"),p=h.get("show",!0),v=p?h.get("itemSize"):0,m=p?h.get("itemGap"):0,y=v+m,x=t.get(["label","rotate"])||0;x=x*jL/180;var w,b,T,C=h.get("position",!0),D=p&&h.get("showPlayBtn",!0),A=p&&h.get("showPrevBtn",!0),k=p&&h.get("showNextBtn",!0),I=0,M=f;C==="left"||C==="bottom"?(D&&(w=[0,0],I+=y),A&&(b=[I,0],I+=y),k&&(T=[M-v,0],M-=y)):(D&&(w=[M-v,0],M-=y),A&&(b=[0,0],I+=y),k&&(T=[M-v,0],M-=y));var P=[I,M];return t.get("inverse")&&P.reverse(),{viewRect:s,mainLength:f,orient:a,rotation:c[a],labelRotation:x,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:w,prevBtnPosition:b,nextBtnPosition:T,axisExtent:P,controlSize:v,controlGap:m}},e.prototype._position=function(t,n){var i=this._mainGroup,a=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=Ps(),l=s.x,u=s.y+s.height;jl(o,o,[-l,-u]),md(o,o,-jL/2),jl(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=w(s),f=w(i.getBoundingRect()),h=w(a.getBoundingRect()),p=[i.x,i.y],v=[a.x,a.y];v[0]=p[0]=c[0][0];var m=t.labelPosOpt;if(m==null||$e(m)){var y=m==="+"?0:1;b(p,f,c,1,y),b(v,h,c,1,1-y)}else{var y=m>=0?0:1;b(p,f,c,1,y),v[1]=p[1]+m}i.setPosition(p),a.setPosition(v),i.rotation=a.rotation=t.rotation,x(i),x(a);function x(T){T.originX=c[0][0]-T.x,T.originY=c[1][0]-T.y}function w(T){return[[T.x,T.x+T.width],[T.y,T.y+T.height]]}function b(T,C,D,A,k){T[A]+=D[A][k]-C[A][k]}},e.prototype._createAxis=function(t,n){var i=n.getData(),a=n.get("axisType"),s=_lt(n,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new mlt("value",s,t.axisExtent,a);return l.model=n,l},e.prototype._createGroup=function(t){var n=this[t]=new ft;return this.group.add(n),n},e.prototype._renderAxisLine=function(t,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new gi({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Ce({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new gi({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:st({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(t,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],B(l,function(u){var c=i.dataToCoord(u.value),f=o.getItemModel(u.value),h=f.getModel("itemStyle"),p=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:Ye(s._changeTimeline,s,u.value)},y=$Z(f,h,n,m);y.ensureState("emphasis").style=p.getItemStyle(),y.ensureState("progress").style=v.getItemStyle(),Fh(y);var x=dt(y);f.get("tooltip")?(x.dataIndex=u.value,x.dataModel=a):x.dataIndex=x.dataModel=null,s._tickSymbols.push(y)})},e.prototype._renderAxisLabel=function(t,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],B(u,function(c){var f=c.tickValue,h=l.getItemModel(f),p=h.getModel("label"),v=h.getModel(["emphasis","label"]),m=h.getModel(["progress","label"]),y=i.dataToCoord(c.tickValue),x=new Xt({x:y,y:0,rotation:t.labelRotation-t.rotation,onclick:Ye(s._changeTimeline,s,f),silent:!1,style:Ur(p,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});x.ensureState("emphasis").style=Ur(v),x.ensureState("progress").style=Ur(m),n.add(x),Fh(x),WZ(x).dataIndex=f,s._tickLabels.push(x)})}},e.prototype._renderControl=function(t,n,i,a){var s=t.controlSize,o=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(t.nextBtnPosition,"next",Ye(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",Ye(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,c?"stop":"play",Ye(this._handlePlayClick,this,!c),!0);function h(p,v,m,y){if(p){var x=Wl(vt(a.get(["controlStyle",v+"BtnSize"]),s),s),w=[0,-x/2,x,x],b=wlt(a,v+"Icon",w,{x:p[0],y:p[1],originX:s/2,originY:0,rotation:y?-o:0,rectHover:!0,style:l,onclick:m});b.ensureState("emphasis").style=u,n.add(b),Fh(b)}}},e.prototype._renderCurrentPointer=function(t,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Ye(u._handlePointerDrag,u),f.ondragend=Ye(u._handlePointerDragend,u),qZ(f,u._progressLine,o,i,a,!0)},onUpdate:function(f){qZ(f,u._progressLine,o,i,a)}};this._currentPointer=$Z(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,n){var i=this._toAxisCoord(t)[0],a=this._axis,s=Js(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var n=this._mainGroup.getLocalTransform();return Bl(t,n,!0)},e.prototype._findNearestTick=function(t){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-t);c<i&&(i=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t==="+"?t=n+1:t==="-"&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",WZ(i[a]).dataIndex<=t)},e.type="timeline.slider",e}(glt);function _lt(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new fI({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new vV({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new hf}}function xlt(r,e){return ti(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},r.get("padding"))}function wlt(r,e,t,n){var i=n.style,a=Ty(r.get(["controlStyle",e]),n||{},new Tt(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function $Z(r,e,t,n,i,a){var s=e.get("color");if(i)i.setColor(s),t.add(i),a&&a.onUpdate(i);else{var o=r.get("symbol");i=Vn(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),n=_t({rectHover:!0,z2:100},n,!0);var u=My(r.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=sg(r.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=r.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function qZ(r,e,t,n,i,a){if(!r.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",t));if(a||!s.get("animation",!0))r.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function blt(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),st({currentIndex:i.option.currentIndex},e)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function Slt(r){var e=r&&r.timeline;ke(e)||(e=e?[e]:[]),B(e,function(t){t&&Tlt(t)})}function Tlt(r){var e=r.type,t={number:"value",time:"time"};if(t[e]&&(r.axisType=t[e],delete r.type),YZ(r),Vp(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});Vp(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!Vp(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}B(r.data||[],function(i){ot(i)&&!ke(i)&&(!Vp(i,"value")&&Vp(i,"name")&&(i.value=i.name),YZ(i))})}function YZ(r){var e=r.itemStyle||(r.itemStyle={}),t=e.emphasis||(e.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};B(n,function(s,o){!a[o]&&!Vp(i,o)&&(i[o]=s)}),t.label&&!Vp(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function Vp(r,e){return r.hasOwnProperty(e)}function Alt(r){r.registerComponentModel(Cde),r.registerComponentView(ylt),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),blt(r),r.registerPreprocessor(Slt)}function _6(r,e){if(!r)return!1;for(var t=ke(r)?r:[r],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function B2(r){Pv(r,"label",["show"])}var V2=Qt(),pf=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Ht.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=V2(o)[s];if(!l||!l.data){V2(o)[s]=null;return}u?u._mergeOption(l,n,!0):(a&&B2(l),B(l.data,function(c){c instanceof Array?(B2(c[0]),B2(c[1])):B2(c)}),u=this.createMarkerModelFromSeries(l,this,n),Ce(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),V2(o)[s]=u},this)},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return Pi("section",{header:this.name,blocks:[Pi("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var i=nI.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,n){return V2(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Ut);Cn(pf,nI.prototype);var Elt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(pf);function y3(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function Clt(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function z2(r,e,t,n,i,a){var s=[],o=ff(e,n),l=o?e.getCalculationInfo("stackResultDimension"):n,u=x6(e,l,r),c=e.indicesOfNearest(l,u)[0];s[i]=e.get(t,c),s[a]=e.get(l,c);var f=e.get(n,c),h=Rl(e.get(n,c));return h=Math.min(h,20),h>=0&&(s[a]=+s[a].toFixed(h)),[s,f]}var WL={min:gt(z2,"min"),max:gt(z2,"max"),average:gt(z2,"average"),median:gt(z2,"median")};function Vw(r,e){if(e){var t=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!Clt(e)&&!ke(e.coord)&&ke(i)){var a=Dde(e,t,n,r);if(e=ut(e),e.type&&WL[e.type]&&a.baseAxis&&a.valueAxis){var s=Ct(i,a.baseAxis.dim),o=Ct(i,a.valueAxis.dim),l=WL[e.type](t,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ke(i))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)WL[u[c]]&&(u[c]=x6(t,t.mapDimension(i[c]),u[c]));return e}}function Dde(r,e,t,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,i.valueAxis=t.getAxis(Dlt(n,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function Dlt(r,e){var t=r.getData().getDimensionInfo(e);return t&&t.coordDim}function zw(r,e){return r&&r.containData&&e.coord&&!y3(e)?r.containData(e.coord):!0}function Ilt(r,e,t){return r&&r.containZone&&e.coord&&t.coord&&!y3(e)&&!y3(t)?r.containZone(e.coord,t.coord):!0}function Ide(r,e){return r?function(t,n,i,a){var s=a<2?t.coord&&t.coord[a]:t.value;return zh(s,e[a])}:function(t,n,i,a){return zh(t.value,e[a])}}function x6(r,e,t){if(t==="average"){var n=0,i=0;return r.each(e,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return t==="median"?r.getMedian(e):r.getDataExtent(e)[t==="max"?1:0]}var $L=Qt(),w6=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Je()},e.prototype.render=function(t,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){$L(o).keep=!1}),n.eachSeries(function(o){var l=pf.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!$L(o).keep&&a.group.remove(o.group)})},e.prototype.markKeep=function(t){$L(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var i=this;B(t,function(a){var s=pf.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?xle(l):DB(l))})}})},e.type="marker",e}($r);function XZ(r,e,t){var n=e.coordinateSystem;r.each(function(i){var a=r.getItemModel(i),s,o=We(a.get("x"),t.getWidth()),l=We(a.get("y"),t.getHeight());if(!isNaN(o)&&!isNaN(l))s=[o,l];else if(e.getMarkerPosition)s=e.getMarkerPosition(r.getValues(r.dimensions,i));else if(n){var u=r.get(n.dimensions[0],i),c=r.get(n.dimensions[1],i);s=n.dataToPoint([u,c])}isNaN(o)||(s[0]=o),isNaN(l)||(s[1]=l),r.setItemLayout(i,s)})}var Rlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=pf.getMarkerModelFromSeries(a,"markPoint");s&&(XZ(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new Fb),f=klt(s,t,n);n.setData(f),XZ(n.getData(),t,a),f.each(function(h){var p=f.getItemModel(h),v=p.getShallow("symbol"),m=p.getShallow("symbolSize"),y=p.getShallow("symbolRotate"),x=p.getShallow("symbolOffset"),w=p.getShallow("symbolKeepAspect");if(rt(v)||rt(m)||rt(y)||rt(x)){var b=n.getRawValue(h),T=n.getDataParams(h);rt(v)&&(v=v(b,T)),rt(m)&&(m=m(b,T)),rt(y)&&(y=y(b,T)),rt(x)&&(x=x(b,T))}var C=p.getModel("itemStyle").getItemStyle(),D=Lb(l,"color");C.fill||(C.fill=D),f.setItemVisual(h,{symbol:v,symbolSize:m,symbolRotate:y,symbolOffset:x,symbolKeepAspect:w,style:C})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(p){dt(p).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e}(w6);function klt(r,e,t){var n;r?n=Pe(r&&r.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return Ce(Ce({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new La(n,t),a=Pe(t.get("data"),gt(Vw,e));r&&(a=sr(a,gt(zw,r)));var s=Ide(!!r,n);return i.initData(a,null,s),i}function Mlt(r){r.registerComponentModel(Elt),r.registerComponentView(Rlt),r.registerPreprocessor(function(e){_6(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var Plt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(pf),U2=Qt(),Llt=function(r,e,t,n){var i=r.getData(),a;if(ke(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=e.getAxis(n.yAxis!=null?"y":"x"),l=Ci(n.yAxis,n.xAxis);else{var u=Dde(n,i,e,r);o=u.valueAxis;var c=dV(i,u.valueDataDim);l=x6(i,c,s)}var f=o.dim==="x"?0:1,h=1-f,p=ut(n),v={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,v.coord[h]=1/0;var m=t.get("precision");m>=0&&tr(l)&&(l=+l.toFixed(Math.min(m,20))),p.coord[f]=v.coord[f]=l,a=[p,v,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var y=[Vw(r,a[0]),Vw(r,a[1]),Ce({},a[2])];return y[2].type=y[2].type||null,_t(y[2],y[0]),_t(y[2],y[1]),y};function RC(r){return!isNaN(r)&&!isFinite(r)}function KZ(r,e,t,n){var i=1-r,a=n.dimensions[r];return RC(e[i])&&RC(t[i])&&e[r]===t[r]&&n.getAxis(a).containData(e[r])}function Olt(r,e){if(r.type==="cartesian2d"){var t=e[0].coord,n=e[1].coord;if(t&&n&&(KZ(1,t,n,r)||KZ(0,t,n,r)))return!0}return zw(r,e[0])&&zw(r,e[1])}function qL(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=We(s.get("x"),i.getWidth()),u=We(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition)o=n.getMarkerPosition(r.getValues(r.dimensions,e));else{var c=a.dimensions,f=r.get(c[0],e),h=r.get(c[1],e);o=a.dataToPoint([f,h])}if(og(a,"cartesian2d")){var p=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;RC(r.get(c[0],e))?o[0]=p.toGlobalCoord(p.getExtent()[t?0:1]):RC(r.get(c[1],e))&&(o[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}r.setItemLayout(e,o)}var Nlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=pf.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=U2(s).from,u=U2(s).to;l.each(function(c){qL(l,c,!0,a,i),qL(u,c,!1,a,i)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new HV);this.group.add(c.group);var f=Flt(s,t,n),h=f.from,p=f.to,v=f.line;U2(n).from=h,U2(n).to=p,n.setData(v);var m=n.get("symbol"),y=n.get("symbolSize"),x=n.get("symbolRotate"),w=n.get("symbolOffset");ke(m)||(m=[m,m]),ke(y)||(y=[y,y]),ke(x)||(x=[x,x]),ke(w)||(w=[w,w]),f.from.each(function(T){b(h,T,!0),b(p,T,!1)}),v.each(function(T){var C=v.getItemModel(T).getModel("lineStyle").getLineStyle();v.setItemLayout(T,[h.getItemLayout(T),p.getItemLayout(T)]),C.stroke==null&&(C.stroke=h.getItemVisual(T,"style").fill),v.setItemVisual(T,{fromSymbolKeepAspect:h.getItemVisual(T,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(T,"symbolOffset"),fromSymbolRotate:h.getItemVisual(T,"symbolRotate"),fromSymbolSize:h.getItemVisual(T,"symbolSize"),fromSymbol:h.getItemVisual(T,"symbol"),toSymbolKeepAspect:p.getItemVisual(T,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(T,"symbolOffset"),toSymbolRotate:p.getItemVisual(T,"symbolRotate"),toSymbolSize:p.getItemVisual(T,"symbolSize"),toSymbol:p.getItemVisual(T,"symbol"),style:C})}),c.updateData(v),f.line.eachItemGraphicEl(function(T){dt(T).dataModel=n,T.traverse(function(C){dt(C).dataModel=n})});function b(T,C,D){var A=T.getItemModel(C);qL(T,C,D,t,a);var k=A.getModel("itemStyle").getItemStyle();k.fill==null&&(k.fill=Lb(l,"color")),T.setItemVisual(C,{symbolKeepAspect:A.get("symbolKeepAspect"),symbolOffset:vt(A.get("symbolOffset",!0),w[D?0:1]),symbolRotate:vt(A.get("symbolRotate",!0),x[D?0:1]),symbolSize:vt(A.get("symbolSize"),y[D?0:1]),symbol:vt(A.get("symbol",!0),m[D?0:1]),style:k})}this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markLine",e}(w6);function Flt(r,e,t){var n;r?n=Pe(r&&r.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return Ce(Ce({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new La(n,t),a=new La(n,t),s=new La([],t),o=Pe(t.get("data"),gt(Llt,e,r,t));r&&(o=sr(o,gt(Olt,r)));var l=Ide(!!r,n);return i.initData(Pe(o,function(u){return u[0]}),null,l),a.initData(Pe(o,function(u){return u[1]}),null,l),s.initData(Pe(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function Blt(r){r.registerComponentModel(Plt),r.registerComponentView(Nlt),r.registerPreprocessor(function(e){_6(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Vlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(pf),H2=Qt(),zlt=function(r,e,t,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=Vw(r,i),o=Vw(r,a),l=s.coord,u=o.coord;l[0]=Ci(l[0],-1/0),l[1]=Ci(l[1],-1/0),u[0]=Ci(u[0],1/0),u[1]=Ci(u[1],1/0);var c=MD([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function kC(r){return!isNaN(r)&&!isFinite(r)}function ZZ(r,e,t,n){var i=1-r;return kC(e[i])&&kC(t[i])}function Ult(r,e){var t=e.coord[0],n=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:n,x:e.x1,y:e.y1};return og(r,"cartesian2d")?t&&n&&(ZZ(1,t,n)||ZZ(0,t,n))?!0:Ilt(r,i,a):zw(r,i)||zw(r,a)}function QZ(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=We(s.get(t[0]),i.getWidth()),u=We(s.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var c=r.getValues(["x0","y0"],e),f=r.getValues(["x1","y1"],e),h=a.clampData(c),p=a.clampData(f),v=[];t[0]==="x0"?v[0]=h[0]>p[0]?f[0]:c[0]:v[0]=h[0]>p[0]?c[0]:f[0],t[1]==="y0"?v[1]=h[1]>p[1]?f[1]:c[1]:v[1]=h[1]>p[1]?c[1]:f[1],o=n.getMarkerPosition(v,t,!0)}else{var m=r.get(t[0],e),y=r.get(t[1],e),x=[m,y];a.clampData&&a.clampData(x,x),o=a.dataToPoint(x,!0)}if(og(a,"cartesian2d")){var w=a.getAxis("x"),b=a.getAxis("y"),m=r.get(t[0],e),y=r.get(t[1],e);kC(m)?o[0]=w.toGlobalCoord(w.getExtent()[t[0]==="x0"?0:1]):kC(y)&&(o[1]=b.toGlobalCoord(b.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var JZ=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Hlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=pf.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=Pe(JZ,function(f){return QZ(o,l,f,a,i)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new ft});this.group.add(c.group),this.markKeep(c);var f=Glt(s,t,n);n.setData(f),f.each(function(h){var p=Pe(JZ,function(k){return QZ(f,h,k,t,a)}),v=s.getAxis("x").scale,m=s.getAxis("y").scale,y=v.getExtent(),x=m.getExtent(),w=[v.parse(f.get("x0",h)),v.parse(f.get("x1",h))],b=[m.parse(f.get("y0",h)),m.parse(f.get("y1",h))];Js(w),Js(b);var T=!(y[0]>w[1]||y[1]<w[0]||x[0]>b[1]||x[1]<b[0]),C=!T;f.setItemLayout(h,{points:p,allClipped:C});var D=f.getItemModel(h).getModel("itemStyle").getItemStyle(),A=Lb(l,"color");D.fill||(D.fill=A,$e(D.fill)&&(D.fill=vw(D.fill,.4))),D.stroke||(D.stroke=A),f.setItemVisual(h,"style",D)}),f.diff(H2(c).data).add(function(h){var p=f.getItemLayout(h);if(!p.allClipped){var v=new za({shape:{points:p.points}});f.setItemGraphicEl(h,v),c.group.add(v)}}).update(function(h,p){var v=H2(c).data.getItemGraphicEl(p),m=f.getItemLayout(h);m.allClipped?v&&c.group.remove(v):(v?rr(v,{shape:{points:m.points}},n,h):v=new za({shape:{points:m.points}}),f.setItemGraphicEl(h,v),c.group.add(v))}).remove(function(h){var p=H2(c).data.getItemGraphicEl(h);c.group.remove(p)}).execute(),f.eachItemGraphicEl(function(h,p){var v=f.getItemModel(p),m=f.getItemVisual(p,"style");h.useStyle(f.getItemVisual(p,"style")),pa(h,Mi(v),{labelFetcher:n,labelDataIndex:p,defaultText:f.getName(p)||"",inheritColor:$e(m.fill)?vw(m.fill,1):"#000"}),da(h,v),fn(h,null,null,v.get(["emphasis","disabled"])),dt(h).dataModel=n}),H2(c).data=f,c.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e}(w6);function Glt(r,e,t){var n,i,a=["x0","y0","x1","y1"];if(r){var s=Pe(r&&r.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Ce(Ce({},f),{name:u,ordinalMeta:null})});i=Pe(a,function(u,c){return{name:u,type:s[c%2].type}}),n=new La(i,t)}else i=[{name:"value",type:"float"}],n=new La(i,t);var o=Pe(t.get("data"),gt(zlt,e,r,t));r&&(o=sr(o,gt(Ult,r)));var l=r?function(u,c,f,h){var p=u.coord[Math.floor(h/2)][h%2];return zh(p,i[h])}:function(u,c,f,h){return zh(u.value,i[h])};return n.initData(o,null,l),n.hasItemOption=!0,n}function jlt(r){r.registerComponentModel(Vlt),r.registerComponentView(Hlt),r.registerPreprocessor(function(e){_6(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Wlt=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},_3=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,i=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ke(n)&&B(n,function(a,s){$e(a)&&(a={type:a}),n[s]=_t(a,Wlt(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&xB(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=Je(),o=Pe(a,function(l){return($e(l)||tr(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new or(l,this,this.ecModel))},this);this._data=sr(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;B(a,function(s){n[s.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;B(t,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;B(t,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&Ct(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Ut),y0=gt,x3=B,G2=ft,Rde=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new G2),this.group.add(this._selectorGroup=new G2),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,t,n,i,l,o,u);var c=t.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),p=ti(c,f,h),v=this.layoutInner(t,s,p,a,l,u),m=ti(st({width:v.width,height:v.height},c),f,h);this.group.x=m.x-v.x,this.group.y=m.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=yde(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,i,a,s,o,l){var u=this.getContentGroup(),c=Je(),f=n.get("selectedMode"),h=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),x3(n.getData(),function(p,v){var m=p.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var y=new G2;y.newline=!0,u.add(y);return}var x=i.getSeriesByName(m)[0];if(!c.get(m))if(x){var w=x.getData(),b=w.getVisual("legendLineStyle")||{},T=w.getVisual("legendIcon"),C=w.getVisual("style"),D=this._createItem(x,m,v,p,n,t,b,C,T,f,a);D.on("click",y0(eQ,m,null,a,h)).on("mouseover",y0(w3,x.name,null,a,h)).on("mouseout",y0(b3,x.name,null,a,h)),i.ssr&&D.eachChild(function(A){var k=dt(A);k.seriesIndex=x.seriesIndex,k.dataIndex=v,k.ssrType="legend"}),c.set(m,!0)}else i.eachRawSeries(function(A){if(!c.get(m)&&A.legendVisualProvider){var k=A.legendVisualProvider;if(!k.containName(m))return;var I=k.indexOfName(m),M=k.getItemVisual(I,"style"),P=k.getItemVisual(I,"legendIcon"),O=ls(M.fill);O&&O[3]===0&&(O[3]=.2,M=Ce(Ce({},M),{fill:Fl(O,"rgba")}));var N=this._createItem(A,m,v,p,n,t,{},M,P,f,a);N.on("click",y0(eQ,null,m,a,h)).on("mouseover",y0(w3,null,m,a,h)).on("mouseout",y0(b3,null,m,a,h)),i.ssr&&N.eachChild(function(G){var j=dt(G);j.seriesIndex=A.seriesIndex,j.dataIndex=v,j.ssrType="legend"}),c.set(m,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},e.prototype._createSelector=function(t,n,i,a,s){var o=this.getSelectorGroup();x3(t,function(u){var c=u.type,f=new Xt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(f);var h=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);pa(f,{normal:h,emphasis:p},{defaultText:u.title}),Fh(f)})},e.prototype._createItem=function(t,n,i,a,s,o,l,u,c,f,h){var p=t.visualDrawType,v=s.get("itemWidth"),m=s.get("itemHeight"),y=s.isSelected(n),x=a.get("symbolRotate"),w=a.get("symbolKeepAspect"),b=a.get("icon");c=b||c||"roundRect";var T=$lt(c,a,l,u,p,y,h),C=new G2,D=a.getModel("textStyle");if(rt(t.getLegendIcon)&&(!b||b==="inherit"))C.add(t.getLegendIcon({itemWidth:v,itemHeight:m,icon:c,iconRotate:x,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:w}));else{var A=b==="inherit"&&t.getData().getVisual("symbol")?x==="inherit"?t.getData().getVisual("symbolRotate"):x:0;C.add(qlt({itemWidth:v,itemHeight:m,icon:c,iconRotate:A,itemStyle:T.itemStyle,symbolKeepAspect:w}))}var k=o==="left"?v+5:-5,I=o,M=s.get("formatter"),P=n;$e(M)&&M?P=M.replace("{name}",n??""):rt(M)&&(P=M(n));var O=y?D.getTextColor():a.get("inactiveColor");C.add(new Xt({style:Ur(D,{text:P,x:k,y:m/2,fill:O,align:I,verticalAlign:"middle"},{inheritColor:O})}));var N=new Kt({shape:C.getBoundingRect(),style:{fill:"transparent"}}),G=a.getModel("tooltip");return G.get("show")&&ng({el:N,componentModel:s,itemName:n,itemTooltipOption:G.option}),C.add(N),C.eachChild(function(j){j.silent=!0}),N.silent=!f,this.getContentGroup().add(C),Fh(C),C.__legendDataIndex=i,C},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();pv(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){pv("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),p=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),m=t.getOrient().index,y=m===0?"width":"height",x=m===0?"height":"width",w=m===0?"y":"x";o==="end"?p[m]+=c[y]+v:f[m]+=h[y]+v,p[1-m]+=c[x]/2-h[x]/2,u.x=p[0],u.y=p[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[y]=c[y]+v+h[y],b[x]=Math.max(c[x],h[x]),b[w]=Math.min(0,h[w]+p[1-m]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}($r);function $lt(r,e,t,n,i,a,s){function o(y,x){y.lineWidth==="auto"&&(y.lineWidth=x.lineWidth>0?2:0),x3(y,function(w,b){y[b]==="inherit"&&(y[b]=x[b])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:qm(f,s),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:t).opacity),o(u,n);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(o(p,t),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!a){var v=e.get("inactiveBorderWidth"),m=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&m?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function qlt(r){var e=r.icon||"roundRect",t=Vn(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function eQ(r,e,t,n){b3(r,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:r??e}),w3(r,e,t,n)}function kde(r){for(var e=r.getZr().storage.getDisplayList(),t,n=0,i=e.length;n<i&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function w3(r,e,t,n){kde(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:n})}function b3(r,e,t,n){kde(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:n})}function Ylt(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function __(r,e,t){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(o){n?o[r]():o[r](e.name),tQ(o,i),a.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){B(i,function(l,u){o[l?"select":"unSelect"](u)}),tQ(o,s)}),n?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function tQ(r,e){var t=e||{};return B(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Ke(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function Xlt(r){r.registerAction("legendToggleSelect","legendselectchanged",gt(__,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",gt(__,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",gt(__,"inverseSelect")),r.registerAction("legendSelect","legendselected",gt(__,"select")),r.registerAction("legendUnSelect","legendunselected",gt(__,"unSelect"))}function Mde(r){r.registerComponentModel(_3),r.registerComponentView(Rde),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Ylt),r.registerSubTypeDefaulter("legend",function(){return"plain"}),Xlt(r)}var Klt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,i){var a=Cy(t);r.prototype.init.call(this,t,n,i),rQ(this,t,a)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),rQ(this,this.option,t)},e.type="legend.scroll",e.defaultOption=_d(_3.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(_3);function rQ(r,e,t){var n=r.getOrient(),i=[1,1];i[n.index]=0,ad(e,t,{type:"box",ignoreSize:!!i})}var nQ=ft,YL=["width","height"],XL=["x","y"],Zlt=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new nQ),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new nQ)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,i,a,s,o,l){var u=this;r.prototype.renderInner.call(this,t,n,i,a,s,o,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),h=ke(f)?f:[f,f];v("pagePrev",0);var p=n.getModel("pageTextStyle");c.add(new Xt({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(m,y){var x=m+"DataIndex",w=Ty(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:Ye(u._pageGo,u,x,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});w.name=m,c.add(w)}},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getSelectorGroup(),u=t.getOrient().index,c=YL[u],f=XL[u],h=YL[1-u],p=XL[1-u];s&&pv("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],x=ut(i);s&&(x[c]=i[c]-m[c]-v);var w=this._layoutContentAndController(t,a,x,u,c,h,p,f);if(s){if(o==="end")y[u]+=w[c]+v;else{var b=m[c]+v;y[u]-=b,w[f]-=b}w[c]+=m[c]+v,y[1-u]+=w[p]+w[h]/2-m[h]/2,w[h]=Math.max(w[h],m[h]),w[p]=Math.min(w[p],m[p]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return w},e.prototype._layoutContentAndController=function(t,n,i,a,s,o,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;pv(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),pv("horizontal",h,t.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),v=h.getBoundingRect(),m=this._showController=p[s]>i[s],y=[-p.x,-p.y];n||(y[a]=c[u]);var x=[0,0],w=[-v.x,-v.y],b=vt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var T=t.get("pageButtonPosition",!0);T==="end"?w[a]+=i[s]-v[s]:x[a]+=v[s]+b}w[1-a]+=p[o]/2-v[o]/2,c.setPosition(y),f.setPosition(x),h.setPosition(w);var C={x:0,y:0};if(C[s]=m?i[s]:p[s],C[o]=Math.max(p[o],v[o]),C[l]=Math.min(0,v[l]+w[1-a]),f.__rectSize=i[s],m){var D={x:0,y:0};D[s]=Math.max(i[s]-v[s]-b,0),D[o]=C[o],f.setClipPath(new Kt({shape:D})),f.__rectSize=D[s]}else h.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return A.pageIndex!=null&&rr(c,{x:A.contentPosition[0],y:A.contentPosition[1]},m?t:null),this._updatePageInfoView(t,A),C},e.prototype._pageGo=function(t,n,i){var a=this._getPageInfo(n)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var i=this._controllerGroup;B(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=n[f]!=null,p=i.childOfName(c);p&&(p.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;a&&s&&a.setStyle("text",$e(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=YL[s],l=XL[s],u=this._findTargetItemIndex(n),c=i.children(),f=c[u],h=c.length,p=h?1:0,v={contentPosition:[i.x,i.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var m=T(f);v.contentPosition[s]=-m.s;for(var y=u+1,x=m,w=m,b=null;y<=h;++y)b=T(c[y]),(!b&&w.e>x.s+a||b&&!C(b,x.s))&&(w.i>x.i?x=w:x=b,x&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=x.i),++v.pageCount)),w=b;for(var y=u-1,x=m,w=m,b=null;y>=-1;--y)b=T(c[y]),(!b||!C(w,b.s))&&x.i<w.i&&(w=x,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=x.i),++v.pageCount,++v.pageIndex),x=b;return v;function T(D){if(D){var A=D.getBoundingRect(),k=A[l]+D[l];return{s:k,e:k+A[o],i:D.__legendDataIndex}}}function C(D,A){return D.e>=A&&D.s<=A+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(n=o)}),n??a},e.type="legend.scroll",e}(Rde);function Qlt(r){r.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function Jlt(r){Pt(Mde),r.registerComponentModel(Klt),r.registerComponentView(Zlt),Qlt(r)}function eut(r){Pt(Mde),Pt(Jlt)}var tut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=_d(Bw.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Bw),b6=Qt();function rut(r,e,t){b6(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function nut(r,e){for(var t=b6(r).coordSysRecordMap,n=t.keys(),i=0;i<n.length;i++){var a=n[i],s=t.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||Pde(t,s))}}}function Pde(r,e){if(e){r.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function iut(r,e){var t={model:e,containsPoint:gt(sut,e),dispatchAction:gt(aut,r),dataZoomInfoMap:null,controller:null},n=t.controller=new Hb(r.getZr());return B(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];t.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&t.dispatchAction(s)})}),t}function aut(r,e){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function sut(r,e,t,n){return r.coordinateSystem.containPoint([t,n])}function out(r){var e,t="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return r.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[t+o]>n[t+e]&&(e=o),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function lut(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=b6(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=Je());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=vde(a);B(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,iut(t,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Je());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){Pde(i,a);return}var c=out(l);s.enable(c.controlType,c.opt),s.setPointerChecker(a.containsPoint),ky(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var uut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,n,i){if(r.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),rut(i,t,{pan:Ye(KL.pan,this),zoom:Ye(KL.zoom,this),scrollMove:Ye(KL.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){nut(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(d6),KL={zoom:function(r,e,t,n){var i=this.range,a=i.slice(),s=r.axisModels[0];if(s){var o=ZL[e](null,[n.originX,n.originY],s,t,r),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(ug(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:iQ(function(r,e,t,n,i,a){var s=ZL[n]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:iQ(function(r,e,t,n,i,a){var s=ZL[n]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return s.signal*(r[1]-r[0])*a.scrollDelta})};function iQ(r){return function(e,t,n,i){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=r(s,o,e,t,n,i);if(ug(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var ZL={grid:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(s.pixel=e[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return r=r?o.pointToCoord(r):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-r[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(r,e,t,n,i){var a=t.axis,s=i.model.coordinateSystem.getRect(),o={};return r=r||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function Lde(r){p6(r),r.registerComponentModel(tut),r.registerComponentView(uut),lut(r)}var cut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=_d(Bw.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Bw),x_=Kt,aQ=7,fut=1,QL=30,hut=7,w_="horizontal",sQ="vertical",dut=5,put=["line","bar","candlestick","scatter"],vut={easing:"cubicOut",duration:100,delay:0},gut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,n){this.api=n,this._onBrush=Ye(this._onBrush,this),this._onBrushEnd=Ye(this._onBrushEnd,this)},e.prototype.render=function(t,n,i,a){if(r.prototype.render.apply(this,arguments),ky(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Aw(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new ft;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,i=t.get("brushSelect"),a=i?hut:0,s=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===w_?{right:o.width-s.x-s.width,top:o.height-QL-aQ-a,width:s.width,height:QL}:{right:aQ,top:s.y,width:QL,height:s.height},u=Cy(t.option);B(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=ti(u,o);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===sQ&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===w_&&!s?{scaleY:l?1:-1,scaleX:1}:i===w_&&s?{scaleY:l?1:-1,scaleX:-1}:i===sQ&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([o]);t.x=n.x-u.x,t.y=n.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new x_({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new x_({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ye(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,i=this._shadowSize||[],a=t.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var f=s.getDataExtent(l),h=(f[1]-f[0])*.3;f=[f[0]-h,f[1]+h];var p=[0,n[1]],v=[0,n[0]],m=[[n[0],0],[0,0]],y=[],x=v[1]/(s.count()-1),w=0,b=Math.round(s.count()/n[0]),T;s.each([l],function(I,M){if(b>0&&M%b){w+=x;return}var P=I==null||isNaN(I)||I==="",O=P?0:fr(I,f,p,!0);P&&!T&&M?(m.push([m[m.length-1][0],0]),y.push([y[y.length-1][0],0])):!P&&T&&(m.push([w,0]),y.push([w,0])),m.push([w,O]),y.push([w,O]),w+=x,T=P}),u=this._shadowPolygonPts=m,c=this._shadowPolylinePts=y}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var C=this.dataZoomModel;function D(I){var M=C.getModel(I?"selectedDataBackground":"dataBackground"),P=new ft,O=new za({shape:{points:u},segmentIgnoreThreshold:1,style:M.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),N=new Ga({shape:{points:c},segmentIgnoreThreshold:1,style:M.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return P.add(O),P.add(N),P}for(var A=0;A<3;A++){var k=D(A===1);this._displayables.sliderGroup.add(k),this._displayables.dataShadowSegs.push(k)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();B(l,function(u){if(!i&&!(n!==!0&&Ct(put,u.get("type"))<0)){var c=a.getComponent(Dh(s),o).axis,f=mut(s),h,p=u.coordinateSystem;f!=null&&p.getOtherAxis&&(h=p.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),i={thisAxis:c,series:u,thisDim:s,otherDim:f,otherAxisInverse:h}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=n.filler=new x_({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new x_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:fut,fill:"rgba(0,0,0,0)"}})),B([0,1],function(b){var T=l.get("handleIcon");!sC[T]&&T.indexOf("path://")<0&&T.indexOf("image://")<0&&(T="path://"+T);var C=Vn(T,-1,0,2,2,null,!0);C.attr({cursor:oQ(this._orient),draggable:!0,drift:Ye(this._onDragMove,this,b),ondragend:Ye(this._onDragEnd,this),onmouseover:Ye(this._showDataInfo,this,!0),onmouseout:Ye(this._showDataInfo,this,!1),z2:5});var D=C.getBoundingRect(),A=l.get("handleSize");this._handleHeight=We(A,this._size[1]),this._handleWidth=D.width/D.height*this._handleHeight,C.setStyle(l.getModel("handleStyle").getItemStyle()),C.style.strokeNoScale=!0,C.rectHover=!0,C.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Fh(C);var k=l.get("handleColor");k!=null&&(C.style.fill=k),s.add(i[b]=C);var I=l.getModel("textStyle"),M=l.get("handleLabel")||{},P=M.show||!1;t.add(a[b]=new Xt({silent:!0,invisible:!P,style:Ur(I,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:I.getTextColor(),font:I.getFont()}),z2:10}))},this);var p=h;if(f){var v=We(l.get("moveHandleSize"),o[1]),m=n.moveHandle=new Kt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:v}}),y=v*.8,x=n.moveHandleIcon=Vn(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);x.silent=!0,x.y=o[1]+v/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(o[1]/2,Math.max(v,10));p=n.moveZone=new Kt({invisible:!0,shape:{y:o[1]-w,height:v+w}}),p.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),s.add(m),s.add(x),s.add(p)}p.attr({draggable:!0,cursor:oQ(this._orient),drift:Ye(this._onDragMove,this,"all"),ondragstart:Ye(this._showDataInfo,this,!0),ondragend:Ye(this._onDragEnd,this),onmouseover:Ye(this._showDataInfo,this,!0),onmouseout:Ye(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[fr(t[0],[0,100],n,!0),fr(t[1],[0,100],n,!0)]},e.prototype._updateInterval=function(t,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];ug(n,a,s,i.get("zoomLock")?"all":t,o.minSpan!=null?fr(o.minSpan,l,s,!0):null,o.maxSpan!=null?fr(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=Js([fr(a[0],s,l,!0),fr(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var n=this._displayables,i=this._handleEnds,a=Js(i.slice()),s=this._size;B([0,1],function(p){var v=n.handles[p],m=this._handleHeight;v.attr({scaleX:m/2,scaleY:m/2,x:i[p]+(p?-1:1),y:s[1]/2-m/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new Kt,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=Js(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(v){var m=Bh(i.handles[v].parent,this.group),y=XD(v===0?"right":"left",m),x=this._handleWidth/2+dut,w=Bl([h[v]+(v===0?-x:x),this._size[1]/2],m);a[v].setStyle({x:w[0],y:w[1],verticalAlign:s===w_?"middle":y,align:s===w_?y:"center",text:o[v]})}},e.prototype._formatLabel=function(t,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=t==null||isNaN(t)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return rt(a)?a(t,o):$e(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=t||this._dragging?s:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,n,i,a){this._dragging=!0,of(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Bl([n,i],s,!0),l=this._updateInterval(t,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var n=t.offsetX,i=t.offsetY;this._brushStart=new bt(n,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=Js([fr(i.x,s,o,!0),fr(i.x+i.width,s,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(of(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new x_({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,n),c=l.transformCoordToLocal(o.x,o.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?vut:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var t,n=vde(this.dataZoomModel).infoList;if(!t&&n.length){var i=n[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),s=this.api.getHeight();t={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return t},e.type="dataZoom.slider",e}(d6);function mut(r){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[r]}function oQ(r){return r==="vertical"?"ns-resize":"ew-resize"}function Ode(r){r.registerComponentModel(cut),r.registerComponentView(gut),p6(r)}function yut(r){Pt(Lde),Pt(Ode)}var Nde={get:function(r,e,t){var n=ut((_ut[r]||{})[e]);return t&&ke(n)?n[n.length-1]:n}},_ut={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},lQ=ki.mapVisual,xut=ki.eachVisual,wut=ke,uQ=B,but=Js,Sut=fr,MC=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&Ade(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var n=this.stateList;t=Ye(t,this),this.controllerVisuals=g3(this.option.controller,n,t),this.targetVisuals=g3(this.option.target,n,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,n=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,a){n.push(a)}):n=Pr(t),n},e.prototype.eachTargetSeries=function(t,n){B(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(n,a)},this)},e.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(i){i===t&&(n=!0)}),n},e.prototype.formatValueText=function(t,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],ke(t)&&(t=t.slice(),u=!0);var c=n?t:u?[f(t[0]),f(t[1])]:f(t);if($e(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(rt(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===o[0]?i[0]+" "+c[1]:t[1]===o[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===o[0]?"min":h===o[1]?"max":(+h).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,n=but([t.min,t.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});_t(a,i),_t(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(f){wut(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,p){var v=f[h],m=f[p];v&&!m&&(m=f[p]={},uQ(v,function(y,x){if(ki.isValidType(x)){var w=Nde.get(x,"inactive",o);w!=null&&(m[x]=w,x==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,p=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),m=this.getItemSymbol(),y=m||"roundRect";uQ(this.stateList,function(x){var w=this.itemSize,b=f[x];b||(b=f[x]={color:o?v:[v]}),b.symbol==null&&(b.symbol=h&&ut(h)||(o?y:[y])),b.symbolSize==null&&(b.symbolSize=p&&ut(p)||(o?w[0]:[w[0],w[0]])),b.symbol=lQ(b.symbol,function(D){return D==="none"?y:D});var T=b.symbolSize;if(T!=null){var C=-1/0;xut(T,function(D){D>C&&(C=D)}),b.symbolSize=lQ(T,function(D){return Sut(D,[0,C],[0,w[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Ut),cQ=[20,140],Tut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=cQ[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=cQ[1])},e.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):ke(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},e.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),B(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),n=Js((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},e.prototype.getValueState=function(t){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=t)&&(n[1]>=i[1]||t<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},e.prototype.getVisualMeta=function(t){var n=fQ(this,"outOfRange",this.getExtent()),i=fQ(this,"inRange",this.option.range.slice()),a=[];function s(p,v){a.push({value:p,color:t(p,v)})}for(var o=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var f=1;o<u;o++,f=0)f&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(f&&(a.length&&s(a[a.length-1].value,"outOfRange"),f=0),s(n[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=_d(MC.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(MC);function fQ(r,e,t){if(t[0]===t[1])return t.slice();for(var n=200,i=(t[1]-t[0])/n,a=t[0],s=[],o=0;o<=n&&a<t[1];o++)s.push(a),a+=i;return s.push(t[1]),s}var Fde=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n},e.prototype.render=function(t,n,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,n,i,a)},e.prototype.renderBackground=function(t){var n=this.visualMapModel,i=ag(n.get("padding")||0),a=t.getBoundingRect();t.add(new Kt({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function u(p){return o[p]}function c(p,v){o[p]=v}var f=s.controllerVisuals[a||s.getValueState(t)],h=ki.prepareVisualTypes(f);return B(h,function(p){var v=f[p];i.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",v=f.__alphaForOpacity),ki.dependsOn(p,n)&&v&&v.applyVisual(t,u,c)}),o[n]},e.prototype.positionGroup=function(t){var n=this.visualMapModel,i=this.api;tI(t,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,n,i,a){},e.type="visualMap",e}($r),hQ=[["left","right","width"],["top","bottom","height"]];function Bde(r,e,t){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},s=n.orient==="horizontal"?1:0,o=hQ[s],l=[0,null,10],u={},c=0;c<3;c++)u[hQ[1-s][c]]=l[c],u[o[c]]=c===2?t[0]:n[o[c]];var f=[["x","width",3],["y","height",0]][s],h=ti(u,a,n.padding);return o[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function EA(r,e){return B(r||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),r}var wu=fr,Aut=B,dQ=Math.min,JL=Math.max,Eut=12,Cut=6,Dut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,n){r.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=Ye(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ye(this._hideIndicator,this)},e.prototype.doRender=function(t,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var i=t.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(t,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),f=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new Xt({style:Ur(p,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":f,align:h==="horizontal"?f:"center",text:a})}))}},e.prototype._renderBar=function(t){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=Bde(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new ft;u.add(c),c.add(i.outOfRange=pQ()),c.add(i.inRange=pQ(null,o?gQ(this._orient):null,Ye(this._dragHandle,this,"all",!1),Ye(this._dragHandle,this,"all",!0))),c.setClipPath(new Kt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect(""),h=JL(f.width,f.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,h,s),this._createHandle(n,u,1,a,h,s)),this._createIndicator(n,u,a,h,s),t.add(u)},e.prototype._createHandle=function(t,n,i,a,s,o){var l=Ye(this._dragHandle,this,i,!1),u=Ye(this._dragHandle,this,i,!0),c=Wl(t.get("handleSize"),a[0]),f=Vn(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=gQ(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){of(x.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Zp(f,!0),n.add(f);var p=this.visualMapModel.textStyleModel,v=new Xt({cursor:h,draggable:!0,drift:l,onmousemove:function(x){of(x.event)},ondragend:u,style:Ur(p,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var m=[c,0],y=this._shapes;y.handleThumbs[i]=f,y.handleLabelPoints[i]=m,y.handleLabels[i]=v},e.prototype._createIndicator=function(t,n,i,a,s){var o=Wl(t.get("indicatorSize"),i[0]),l=Vn(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Li){var c=l.style;l.useStyle(Ce({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,h=new Xt({silent:!0,invisible:!0,style:Ur(f,{x:0,y:0,text:""})});this.group.add(h);var p=[(s==="horizontal"?a/2:Cut)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():vQ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[wu(n[0],i,a,!0),wu(n[1],i,a,!0)]},e.prototype._updateInterval=function(t,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];ug(n,a,s,t,0);var o=i.getExtent();this._dataInterval=[wu(a[0],s,o,!0),wu(a[1],s,o,!0)]},e.prototype._updateView=function(t){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new by(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,n){var i=100,a=[],s=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=t[0]+s*o;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),a},e.prototype._createBarPoints=function(t,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-n[1],t[1]]]},e.prototype._createBarGroup=function(t){var n=this._orient,i=this.visualMapModel.get("inverse");return new ft(n==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);Aut([0,1],function(f){var h=s[f];h.setStyle("fill",n.handlesColor[f]),h.y=t[f];var p=wu(t[f],[0,l[1]],u,!0),v=this.getControllerVisual(p,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var m=Bl(i.handleLabelPoints[f],Bh(h,this.group));if(this._orient==="horizontal"){var y=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;m[1]+=y}o[f].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},p=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),m=wu(t,o,u,!0),y=l[0]-v/2,x={x:f.x,y:f.y};f.y=m,f.x=y;var w=Bl(c.indicatorLabelPoint,Bh(f,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var T=this._applyTransform("left",c.mainGroup),C=this._orient,D=C==="horizontal";b.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:D?T:"middle",align:D?"center":T});var A={x:y,y:m,style:{fill:p}},k={style:{x:w[0],y:w[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var I={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(A,I),b.animateTo(k,I)}else f.attr(A),b.attr(k);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var P=0;P<M.length;P++)this.api.enterBlur(M[P])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=dQ(JL(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();t=dQ(JL(s[0],t),s[1]);var l=Iut(i,o,s),u=[t-l,t+l],c=wu(t,s,o,!0),f=[wu(u[0],s,o,!0),wu(u[1],s,o,!0)];u[0]<s[0]&&(f[0]=-1/0),u[1]>s[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,p=[];(n||vQ(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var v=_je(h,p);this._dispatchHighDown("downplay",EA(v[0],i)),this._dispatchHighDown("highlight",EA(v[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(Jp(t.target,function(l){var u=dt(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",EA(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,n,i,a){var s=Bh(n,a?null:this.group);return ke(t)?Bl(t,s,i):XD(t,s,i)},e.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Fde);function pQ(r,e,t,n){return new za({shape:{points:r},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){of(i.event)},ondragend:n})}function Iut(r,e,t){var n=Eut/2,i=r.get("hoverLinkDataSize");return i&&(n=wu(i,e,t,!0)/2),n}function vQ(r){var e=r.get("hoverLinkOnHandle");return!!(e??r.get("realtime"))}function gQ(r){return r==="vertical"?"ns-resize":"ew-resize"}var Rut={type:"selectDataRange",event:"dataRangeSelected",update:"update"},kut=function(r,e){e.eachComponent({mainType:"visualMap",query:r},function(t){t.setSelected(r.selected)})},Mut=[{createOnAllSeries:!0,reset:function(r,e){var t=[];return e.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||t.push(elt(n.stateList,n.targetVisuals,Ye(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),t}},{createOnAllSeries:!0,reset:function(r,e){var t=r.getData(),n=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(Ye(Put,null,r,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(t);s>=0&&(a.dimension=s,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function Put(r,e,t,n){for(var i=e.targetVisuals[n],a=ki.prepareVisualTypes(i),s={color:Lb(r.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,h)}return s.color;function f(p){return s[p]}function h(p,v){s[p]=v}}var mQ=B;function Lut(r){var e=r&&r.visualMap;ke(e)||(e=e?[e]:[]),mQ(e,function(t){if(t){_0(t,"splitList")&&!_0(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&ke(n)&&mQ(n,function(i){ot(i)&&(_0(i,"start")&&!_0(i,"min")&&(i.min=i.start),_0(i,"end")&&!_0(i,"max")&&(i.max=i.end))})}})}function _0(r,e){return r&&r.hasOwnProperty&&r.hasOwnProperty(e)}var yQ=!1;function Vde(r){yQ||(yQ=!0,r.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),r.registerAction(Rut,kut),B(Mut,function(e){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,e)}),r.registerPreprocessor(Lut))}function zde(r){r.registerComponentModel(Tut),r.registerComponentView(Dut),Vde(r)}var Out=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Nut[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=ut(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Pe(this._pieceList,function(l){return l=ut(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,n={},i=ki.listVisualTypes(),a=this.isCategory();B(t.pieces,function(o){B(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),B(n,function(o,l){var u=!1;B(this.stateList,function(c){u=u||s(t,c,l)||s(t.target,c,l)},this),!u&&B(this.stateList,function(c){(t[c]||(t[c]={}))[l]=Nde.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}r.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,n){var i=this.option,a=this._pieceList,s=(n?i:t).selected||{};if(i.selected=s,B(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),i.selectedMode==="single"){var o=!1;B(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=ut(t)},e.prototype.getValueState=function(t){var n=ki.findPieceIndex(t,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=ki.findPieceIndex(l,i);c===t&&s.push(u)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},e.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var i=t.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var p=t(h,f);c[0]===-1/0?i[0]=p:c[1]===1/0?i[1]=p:n.push({value:c[0],color:p},{value:c[1],color:p})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return B(o,function(c){var f=c.interval;f&&(f[0]>u&&s([u,f[0]],"outOfRange"),s(f.slice()),u=f[1])},this),{stops:n,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=_d(MC.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(MC),Nut={splitNumber:function(r){var e=this.option,t=Math.min(e.precision,20),n=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;r.push({interval:[o,l],close:[1,1]})}e.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),a4(r),B(r,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(r){var e=this.option;B(e.categories,function(t){r.push({text:this.formatValueText(t,!0),value:t})},this),_Q(e,r)},pieces:function(r){var e=this.option;B(e.pieces,function(t,n){ot(t)||(t={value:t});var i={text:"",index:n};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],p=0;p<3&&s[f]==null;p++)s[f]=t[h[p]],o[f]=l[p],c[f]=p===2;s[f]==null&&(s[f]=u[f])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=ki.retrieveVisuals(t),r.push(i)},this),_Q(e,r),a4(r),B(r,function(t){var n=t.close,i=[["<",""][n[1]],[">",""][n[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function _Q(r,e){var t=r.inverse;(r.orient==="vertical"?!t:t)&&e.reverse()}var Fut=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=a.getFont(),o=a.getTextColor(),l=this._getItemAlign(),u=n.itemSize,c=this._getViewData(),f=c.endsText,h=Ci(n.get("showLabel",!0),!f),p=!n.get("selectedMode");f&&this._renderEndsText(t,f[0],u,h,l),B(c.viewPieceList,function(v){var m=v.piece,y=new ft;y.onclick=Ye(this._onItemClick,this,m),this._enableHoverLink(y,v.indexInModelPieceList);var x=n.getRepresentValue(m);if(this._createItemSymbol(y,x,[0,0,u[0],u[1]],p),h){var w=this.visualMapModel.getValueState(x);y.add(new Xt({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:m.text,verticalAlign:"middle",align:l,font:s,fill:o,opacity:w==="outOfRange"?.5:1},silent:p}))}t.add(y)},this),f&&this._renderEndsText(t,f[1],u,h,l),pv(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,n){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:EA(o.findTargetDataIndices(n),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient==="vertical")return Bde(t,this.api,t.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,n,i,a,s){if(n){var o=new ft,l=this.visualMapModel.textStyleModel;o.add(new Xt({style:Ur(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,n=Pe(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),s=t.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},e.prototype._createItemSymbol=function(t,n,i,a){var s=Vn(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,t.add(s)},e.prototype._onItemClick=function(t){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=ut(i.selected),o=n.getSelectedMapKey(t);a==="single"||a===!0?(s[o]=!0,B(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e}(Fde);function Ude(r){r.registerComponentModel(Out),r.registerComponentView(Fut),Vde(r)}function But(r){Pt(zde),Pt(Ude)}var Vut={label:{enabled:!0},decal:{show:!1}},xQ=Qt(),zut={};function Uut(r,e){var t=r.getModel("aria");if(!t.get("enabled"))return;var n=ut(Vut);_t(n.label,r.getLocaleModel().get("aria"),!1),_t(t.option,n,!1),i(),a();function i(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=Je();r.eachSeries(function(h){if(!h.isColorBySeries()){var p=f.get(h.type);p||(p={},f.set(h.type,p)),xQ(h).scope=p}}),r.eachRawSeries(function(h){if(r.isSeriesFiltered(h))return;if(rt(h.enableAriaDecal)){h.enableAriaDecal();return}var p=h.getData();if(h.isColorBySeries()){var w=w4(h.ecModel,h.name,zut,r.getSeriesCount()),b=p.getVisual("decal");p.setVisual("decal",T(b,w))}else{var v=h.getRawData(),m={},y=xQ(h).scope;p.each(function(C){var D=p.getRawIndex(C);m[D]=C});var x=v.count();v.each(function(C){var D=m[C],A=v.getName(C)||C+"",k=w4(h.ecModel,A,y,x),I=p.getItemVisual(D,"decal");p.setItemVisual(D,"decal",T(I,k))})}function T(C,D){var A=C?Ce(Ce({},D),C):D;return A.dirty=!0,A}})}}function a(){var u=e.getZr().dom;if(u){var c=r.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=st(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=r.getSeriesCount(),p=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,m=Math.min(h,v),y;if(!(h<1)){var x=o();if(x){var w=f.get(["general","withTitle"]);y=s(w,{title:x})}else y=f.get(["general","withoutTitle"]);var b=[],T=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);y+=s(T,{seriesCount:h}),r.eachSeries(function(k,I){if(I<m){var M=void 0,P=k.get("name"),O=P?"withName":"withoutName";M=h>1?f.get(["series","multiple",O]):f.get(["series","single",O]),M=s(M,{seriesId:k.seriesIndex,seriesName:k.get("name"),seriesType:l(k.subType)});var N=k.getData();if(N.count()>p){var G=f.get(["data","partialData"]);M+=s(G,{displayCnt:p})}else M+=f.get(["data","allData"]);for(var j=f.get(["data","separator","middle"]),U=f.get(["data","separator","end"]),X=f.get(["data","excludeDimensionId"]),ie=[],Z=0;Z<N.count();Z++)if(Z<p){var W=N.getName(Z),Q=X?sr(N.getValues(Z),function(ee,J){return Ct(X,J)===-1}):N.getValues(Z),H=f.get(["data",W?"withName":"withoutName"]);ie.push(s(H,{name:W,value:Q.join(j)}))}M+=ie.join(j)+U,b.push(M)}});var C=f.getModel(["series","multiple","separator"]),D=C.get("middle"),A=C.get("end");y+=b.join(D)+A,u.setAttribute("aria-label",y)}}}}function s(u,c){if(!$e(u))return u;var f=u;return B(c,function(h,p){f=f.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),h)}),f}function o(){var u=r.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=r.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function Hut(r){if(!(!r||!r.aria)){var e=r.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},B(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function Gut(r){r.registerPreprocessor(Hut),r.registerVisual(r.PRIORITY.VISUAL.ARIA,Uut)}var wQ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},jut=function(){function r(e){var t=this._condVal=$e(e)?new RegExp(e):hoe(e)?e:null;if(t==null){var n="";pr(n)}}return r.prototype.evaluate=function(e){var t=typeof e;return $e(t)?this._condVal.test(e):tr(t)?this._condVal.test(e+""):!1},r}(),Wut=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),$ut=function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},r}(),qut=function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},r}(),Yut=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),Xut=function(){function r(){}return r.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},r}();function S6(r,e){if(r===!0||r===!1){var t=new Wut;return t.value=r,t}var n="";return Hde(r)||pr(n),r.and?bQ("and",r,e):r.or?bQ("or",r,e):r.not?Kut(r,e):Zut(r,e)}function bQ(r,e,t){var n=e[r],i="";ke(n)||pr(i),n.length||pr(i);var a=r==="and"?new $ut:new qut;return a.children=Pe(n,function(s){return S6(s,t)}),a.children.length||pr(i),a}function Kut(r,e){var t=r.not,n="";Hde(t)||pr(n);var i=new Yut;return i.child=S6(t,e),i.child||pr(n),i}function Zut(r,e){for(var t="",n=e.prepareGetValue(r),i=[],a=jt(r),s=r.parser,o=s?xue(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=Ke(wQ,u)?wQ[u]:u,f=r[u],h=o?o(f):f,p=xqe(c,h)||c==="reg"&&new jut(h);p||pr(t),i.push(p)}}i.length||pr(t);var v=new Xut;return v.valueGetterParam=n,v.valueParser=o,v.getValue=e.getValue,v.subCondList=i,v}function Hde(r){return ot(r)&&!ha(r)}var Qut=function(){function r(e,t){this._cond=S6(e,t)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function Jut(r,e){return new Qut(r,e)}var ect={type:"echarts:filter",transform:function(r){for(var e=r.upstream,t,n=Jut(r.config,{valueGetterAttrMap:Je({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;Ke(o,"dimension")||pr(l);var c=e.getDimensionInfo(u);return c||pr(l),{dimIdx:c.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),i=[],a=0,s=e.count();a<s;a++)t=e.getRawDataItem(a),n.evaluate()&&i.push(t);return{data:i}}},tct={type:"echarts:sort",transform:function(r){var e=r.upstream,t=r.config,n="",i=Pr(t);i.length||pr(n);var a=[];B(i,function(c){var f=c.dimension,h=c.order,p=c.parser,v=c.incomparable;if(f==null&&pr(n),h!=="asc"&&h!=="desc"&&pr(n),v&&v!=="min"&&v!=="max"){var m="";pr(m)}if(h!=="asc"&&h!=="desc"){var y="";pr(y)}var x=e.getDimensionInfo(f);x||pr(n);var w=p?xue(p):null;p&&!w&&pr(n),a.push({dimIdx:x.index,parser:w,comparator:new bue(h,v)})});var s=e.sourceFormat;s!==Ua&&s!==rl&&pr(n);for(var o=[],l=0,u=e.count();l<u;l++)o.push(e.getRawDataItem(l));return o.sort(function(c,f){for(var h=0;h<a.length;h++){var p=a[h],v=e.retrieveValueFromItem(c,p.dimIdx),m=e.retrieveValueFromItem(f,p.dimIdx);p.parser&&(v=p.parser(v),m=p.parser(m));var y=p.comparator.evaluate(v,m);if(y!==0)return y}return 0}),{data:o}}};function rct(r){r.registerTransform(ect),r.registerTransform(tct)}var nct=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,n,i){r.prototype.init.call(this,t,n,i),this._sourceManager=new Eue(this),Aq(this)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),Aq(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:$u},e}(Ut),ict=function(r){ge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}($r);function act(r){r.registerComponentModel(nct),r.registerComponentView(ict)}var yu=Ju.CMD;function Y0(r,e){return Math.abs(r-e)<1e-5}function S3(r){var e=r.data,t=r.len(),n=[],i,a=0,s=0,o=0,l=0;function u(N,G){i&&i.length>2&&n.push(i),i=[N,G]}function c(N,G,j,U){Y0(N,j)&&Y0(G,U)||i.push(N,G,j,U,j,U)}function f(N,G,j,U,X,ie){var Z=Math.abs(G-N),W=Math.tan(Z/4)*4/3,Q=G<N?-1:1,H=Math.cos(N),ee=Math.sin(N),J=Math.cos(G),se=Math.sin(G),de=H*X+j,Me=ee*ie+U,Se=J*X+j,xe=se*ie+U,Te=X*W*Q,Oe=ie*W*Q;i.push(de-Te*ee,Me+Oe*H,Se+Te*se,xe-Oe*J,Se,xe)}for(var h,p,v,m,y=0;y<t;){var x=e[y++],w=y===1;switch(w&&(a=e[y],s=e[y+1],o=a,l=s,(x===yu.L||x===yu.C||x===yu.Q)&&(i=[o,l])),x){case yu.M:a=o=e[y++],s=l=e[y++],u(o,l);break;case yu.L:h=e[y++],p=e[y++],c(a,s,h,p),a=h,s=p;break;case yu.C:i.push(e[y++],e[y++],e[y++],e[y++],a=e[y++],s=e[y++]);break;case yu.Q:h=e[y++],p=e[y++],v=e[y++],m=e[y++],i.push(a+2/3*(h-a),s+2/3*(p-s),v+2/3*(h-v),m+2/3*(p-m),v,m),a=v,s=m;break;case yu.A:var b=e[y++],T=e[y++],C=e[y++],D=e[y++],A=e[y++],k=e[y++]+A;y+=1;var I=!e[y++];h=Math.cos(A)*C+b,p=Math.sin(A)*D+T,w?(o=h,l=p,u(o,l)):c(a,s,h,p),a=Math.cos(k)*C+b,s=Math.sin(k)*D+T;for(var M=(I?-1:1)*Math.PI/2,P=A;I?P>k:P<k;P+=M){var O=I?Math.max(P+M,k):Math.min(P+M,k);f(P,O,b,T,C,D)}break;case yu.R:o=a=e[y++],l=s=e[y++],h=o+e[y++],p=l+e[y++],u(h,l),c(h,l,h,p),c(h,p,o,p),c(o,p,o,l),c(o,l,h,l);break;case yu.Z:i&&c(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function T3(r,e,t,n,i,a,s,o,l,u){if(Y0(r,t)&&Y0(e,n)&&Y0(i,s)&&Y0(a,o)){l.push(s,o);return}var c=2/u,f=c*c,h=s-r,p=o-e,v=Math.sqrt(h*h+p*p);h/=v,p/=v;var m=t-r,y=n-e,x=i-s,w=a-o,b=m*m+y*y,T=x*x+w*w;if(b<f&&T<f){l.push(s,o);return}var C=h*m+p*y,D=-h*x-p*w,A=b-C*C,k=T-D*D;if(A<f&&C>=0&&k<f&&D>=0){l.push(s,o);return}var I=[],M=[];nd(r,t,i,s,.5,I),nd(e,n,a,o,.5,M),T3(I[0],M[0],I[1],M[1],I[2],M[2],I[3],M[3],l,u),T3(I[4],M[4],I[5],M[5],I[6],M[6],I[7],M[7],l,u)}function sct(r,e){var t=S3(r),n=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],p=a[u++],v=a[u++],m=a[u++];T3(o,l,c,f,h,p,v,m,s,e),o=v,l=m}n.push(s)}return n}function Gde(r,e,t){var n=r[e],i=r[1-e],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%s]+=1;return l}function SQ(r,e,t){for(var n=r.r0,i=r.r,a=r.startAngle,s=r.endAngle,o=Math.abs(s-a),l=o*i,u=i-n,c=l>Math.abs(u),f=Gde([l,u],c?0:1,e),h=(c?o:u)/f.length,p=0;p<f.length;p++)for(var v=(c?u:o)/f[p],m=0;m<f[p];m++){var y={};c?(y.startAngle=a+h*p,y.endAngle=a+h*(p+1),y.r0=n+v*m,y.r=n+v*(m+1)):(y.startAngle=a+v*m,y.endAngle=a+v*(m+1),y.r0=n+h*p,y.r=n+h*(p+1)),y.clockwise=r.clockwise,y.cx=r.cx,y.cy=r.cy,t.push(y)}}function oct(r,e,t){for(var n=r.width,i=r.height,a=n>i,s=Gde([n,i],a?0:1,e),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=r[o]/s.length,h=0;h<s.length;h++)for(var p=r[l]/s[h],v=0;v<s[h];v++){var m={};m[u]=h*f,m[c]=v*p,m[o]=f,m[l]=p,m.x+=r.x,m.y+=r.y,t.push(m)}}function TQ(r,e,t,n){return r*n-t*e}function lct(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,f=o-a,h=TQ(c,f,l,u);if(Math.abs(h)<1e-6)return null;var p=r-i,v=e-a,m=TQ(p,v,c,f)/h;return m<0||m>1?null:new bt(m*l+r,m*u+e)}function uct(r,e,t){var n=new bt;bt.sub(n,t,e),n.normalize();var i=new bt;bt.sub(i,r,e);var a=i.dot(n);return a}function x0(r,e){var t=r[r.length-1];t&&t[0]===e[0]&&t[1]===e[1]||r.push(e)}function cct(r,e,t){for(var n=r.length,i=[],a=0;a<n;a++){var s=r[a],o=r[(a+1)%n],l=lct(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:uct(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(y,x){return y.projPt-x.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],v=[h],m=[p],a=u.idx+1;a<=c.idx;a++)x0(v,r[a].slice());x0(v,p),x0(v,h);for(var a=c.idx+1;a<=u.idx+n;a++)x0(m,r[a%n].slice());return x0(m,h),x0(m,p),[{points:v},{points:m}]}function AQ(r){var e=r.points,t=[],n=[];jD(e,t,n);var i=new Tt(t[0],t[1],n[0]-t[0],n[1]-t[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new bt,c=new bt;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),cct(e,u,c)}function PC(r,e,t,n){if(t===1)n.push(e);else{var i=Math.floor(t/2),a=r(e);PC(r,a[0],i,n),PC(r,a[1],t-i,n)}return n}function fct(r,e){for(var t=[],n=0;n<e;n++)t.push(RB(r));return t}function hct(r,e){e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel}function dct(r){for(var e=[],t=0;t<r.length;)e.push([r[t++],r[t++]]);return e}function pct(r,e){var t=[],n=r.shape,i;switch(r.type){case"rect":oct(n,e,t),i=Kt;break;case"sector":SQ(n,e,t),i=Va;break;case"circle":SQ({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,t),i=Va;break;default:var a=r.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=Pe(sct(r.getUpdatedPathProxy(),s),function(x){return dct(x)}),l=o.length;if(l===0)PC(AQ,{points:o[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:o[u]});else{var c=0,f=Pe(o,function(x){var w=[],b=[];jD(x,w,b);var T=(b[1]-w[1])*(b[0]-w[0]);return c+=T,{poly:x,area:T}});f.sort(function(x,w){return w.area-x.area});for(var h=e,u=0;u<l;u++){var p=f[u];if(h<=0)break;var v=u===l-1?h:Math.ceil(p.area/c*e);v<0||(PC(AQ,{points:p.poly},v,t),h-=v)}}i=za;break}if(!i)return fct(r,e);for(var m=[],u=0;u<t.length;u++){var y=new i;y.setShape(t[u]),hct(r,y),m.push(y)}return m}function vct(r,e){var t=r.length,n=e.length;if(t===n)return[r,e];for(var i=[],a=[],s=t<n?r:e,o=Math.min(t,n),l=Math.abs(n-t)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,f=[s[0],s[1]],h=l,p=2;p<o;){var v=s[p-2],m=s[p-1],y=s[p++],x=s[p++],w=s[p++],b=s[p++],T=s[p++],C=s[p++];if(h<=0){f.push(y,x,w,b,T,C);continue}for(var D=Math.min(h,c-1)+1,A=1;A<=D;A++){var k=A/D;nd(v,y,w,T,k,i),nd(m,x,b,C,k,a),v=i[3],m=a[3],f.push(i[1],a[1],i[2],a[2],v,m),y=i[5],x=a[5],w=i[6],b=a[6]}h-=D-1}return s===r?[f,e]:[r,f]}function EQ(r,e){for(var t=r.length,n=r[t-2],i=r[t-1],a=[],s=0;s<e.length;)a[s++]=n,a[s++]=i;return a}function gct(r,e){for(var t,n,i,a=[],s=[],o=0;o<Math.max(r.length,e.length);o++){var l=r[o],u=e[o],c=void 0,f=void 0;l?u?(t=vct(l,u),c=t[0],f=t[1],n=c,i=f):(f=EQ(i||l,l),c=l):(c=EQ(n||u,u),f=u),a.push(c),s.push(f)}return[a,s]}function CQ(r){for(var e=0,t=0,n=0,i=r.length,a=0,s=i-2;a<i;s=a,a+=2){var o=r[s],l=r[s+1],u=r[a],c=r[a+1],f=o*c-u*l;e+=f,t+=(o+u)*f,n+=(l+c)*f}return e===0?[r[0]||0,r[1]||0]:[t/e/3,n/e/3,e]}function mct(r,e,t,n){for(var i=(r.length-2)/6,a=1/0,s=0,o=r.length,l=o-2,u=0;u<i;u++){for(var c=u*6,f=0,h=0;h<o;h+=2){var p=h===0?c:(c+h-2)%l+2,v=r[p]-t[0],m=r[p+1]-t[1],y=e[h]-n[0],x=e[h+1]-n[1],w=y-v,b=x-m;f+=w*w+b*b}f<a&&(a=f,s=u)}return s}function yct(r){for(var e=[],t=r.length,n=0;n<t;n+=2)e[n]=r[t-n-2],e[n+1]=r[t-n-1];return e}function _ct(r,e,t,n){for(var i=[],a,s=0;s<r.length;s++){var o=r[s],l=e[s],u=CQ(o),c=CQ(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],p=0,v=1/0,m=[],y=o.length;a&&(o=yct(o));for(var x=mct(o,l,u,c)*6,w=y-2,b=0;b<w;b+=2){var T=(x+b)%w+2;f[b+2]=o[T]-u[0],f[b+3]=o[T+1]-u[1]}f[0]=o[x]-u[0],f[1]=o[x+1]-u[1];for(var C=n/t,D=-n/2;D<=n/2;D+=C){for(var A=Math.sin(D),k=Math.cos(D),I=0,b=0;b<o.length;b+=2){var M=f[b],P=f[b+1],O=l[b]-c[0],N=l[b+1]-c[1],G=O*k-N*A,j=O*A+N*k;m[b]=G,m[b+1]=j;var U=G-M,X=j-P;I+=U*U+X*X}if(I<v){v=I,p=D;for(var ie=0;ie<m.length;ie++)h[ie]=m[ie]}}i.push({from:f,to:h,fromCp:u,toCp:c,rotation:-p})}return i}function LC(r){return r.__isCombineMorphing}var jde="__mOriginal_";function OC(r,e,t){var n=jde+e,i=r[n]||r[e];r[n]||(r[n]=r[e]);var a=t.replace,s=t.after,o=t.before;r[e]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function Ox(r,e){var t=jde+e;r[t]&&(r[e]=r[t],r[t]=null)}function DQ(r,e){for(var t=0;t<r.length;t++)for(var n=r[t],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=e[0]*a+e[2]*s+e[4],n[i++]=e[1]*a+e[3]*s+e[5]}}function Wde(r,e){var t=r.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=gct(S3(t),S3(n)),a=i[0],s=i[1],o=r.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}o&&DQ(a,o),l&&DQ(s,l),OC(e,"updateTransform",{replace:u}),e.transform=null;var c=_ct(a,s,10,Math.PI),f=[];OC(e,"buildPath",{replace:function(h){for(var p=e.__morphT,v=1-p,m=[],y=0;y<c.length;y++){var x=c[y],w=x.from,b=x.to,T=x.rotation*p,C=x.fromCp,D=x.toCp,A=Math.sin(T),k=Math.cos(T);xx(m,C,D,p);for(var I=0;I<w.length;I+=2){var M=w[I],P=w[I+1],O=b[I],N=b[I+1],G=M*v+O*p,j=P*v+N*p;f[I]=G*k-j*A+m[0],f[I+1]=G*A+j*k+m[1]}var U=f[0],X=f[1];h.moveTo(U,X);for(var I=2;I<w.length;){var O=f[I++],N=f[I++],ie=f[I++],Z=f[I++],W=f[I++],Q=f[I++];U===O&&X===N&&ie===W&&Z===Q?h.lineTo(W,Q):h.bezierCurveTo(O,N,ie,Z,W,Q),U=W,X=Q}}}})}function T6(r,e,t){if(!r||!e)return e;var n=t.done,i=t.during;Wde(r,e),e.__morphT=0;function a(){Ox(e,"buildPath"),Ox(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},st({during:function(s){e.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},t)),e}function xct(r,e,t,n,i,a){var s=16;r=i===t?0:Math.round(32767*(r-t)/(i-t)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,f=0;(r&u)>0&&(c=1),(e&u)>0&&(f=1),o+=u*u*(3*c^f),f===0&&(c===1&&(r=u-1-r,e=u-1-e),l=r,r=e,e=l)}return o}function NC(r){var e=1/0,t=1/0,n=-1/0,i=-1/0,a=Pe(r,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),n=Math.max(c,n),i=Math.max(f,i),[c,f]}),s=Pe(a,function(o,l){return{cp:o,z:xct(o[0],o[1],e,t,n,i),path:r[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function $de(r){return pct(r.path,r.count)}function A3(){return{fromIndividuals:[],toIndividuals:[],count:0}}function wct(r,e,t){var n=[];function i(C){for(var D=0;D<C.length;D++){var A=C[D];LC(A)?i(A.childrenRef()):A instanceof Gt&&n.push(A)}}i(r);var a=n.length;if(!a)return A3();var s=t.dividePath||$de,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),A3();n=NC(n),o=NC(o);for(var l=t.done,u=t.during,c=t.individualDelay,f=new Gc,h=0;h<a;h++){var p=n[h],v=o[h];v.parent=e,v.copyTransform(f),c||Wde(p,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function m(C){for(var D=0;D<o.length;D++)o[D].addSelfToZr(C)}OC(e,"addSelfToZr",{after:function(C){m(C)}}),OC(e,"removeSelfFromZr",{after:function(C){for(var D=0;D<o.length;D++)o[D].removeSelfFromZr(C)}});function y(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Ox(e,"addSelfToZr"),Ox(e,"removeSelfFromZr")}var x=o.length;if(c)for(var w=x,b=function(){w--,w===0&&(y(),l&&l())},h=0;h<x;h++){var T=c?st({delay:(t.delay||0)+c(h,x,n[h],o[h]),done:b},t):t;T6(n[h],o[h],T)}else e.__morphT=0,e.animateTo({__morphT:1},st({during:function(C){for(var D=0;D<x;D++){var A=o[D];A.__morphT=e.__morphT,A.dirtyShape()}u&&u(C)},done:function(){y();for(var C=0;C<r.length;C++)Ox(r[C],"updateTransform");l&&l()}},t));return e.__zr&&m(e.__zr),{fromIndividuals:n,toIndividuals:o,count:x}}function bct(r,e,t){var n=e.length,i=[],a=t.dividePath||$de;function s(p){for(var v=0;v<p.length;v++){var m=p[v];LC(m)?s(m.childrenRef()):m instanceof Gt&&i.push(m)}}if(LC(r)){s(r.childrenRef());var o=i.length;if(o<n)for(var l=0,u=o;u<n;u++)i.push(RB(i[l++%o]));i.length=n}else{i=a({path:r,count:n});for(var c=r.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),A3()}i=NC(i),e=NC(e);for(var f=t.individualDelay,u=0;u<n;u++){var h=f?st({delay:(t.delay||0)+f(u,n,i[u],e[u])},t):t;T6(i[u],e[u],h)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function IQ(r){return ke(r[0])}function RQ(r,e){for(var t=[],n=r.length,i=0;i<n;i++)t.push({one:r[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,s=void 0;for(s=0;s<a;s++)t[s%n].many.push(e[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!t[i].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var a=l.length,u=Math.ceil(a/2);t[i].many=l.slice(u,a),t[o].many=l.slice(0,u),o++}return t}var Sct={clone:function(r){for(var e=[],t=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=RB(r.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function eO(r,e,t,n,i,a){if(!r.length||!e.length)return;var s=Sy("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;IQ(r)&&(u=r,c=e),IQ(e)&&(u=e,c=r);function f(x,w,b,T,C){var D=x.many,A=x.one;if(D.length===1&&!C){var k=w?D[0]:A,I=w?A:D[0];if(LC(k))f({many:[k],one:I},!0,b,T,!0);else{var M=o?st({delay:o(b,T)},l):l;T6(k,I,M),a(k,I,k,I,M)}}else for(var P=st({dividePath:Sct[t],individualDelay:o&&function(X,ie,Z,W){return o(X+b,T)}},l),O=w?wct(D,A,P):bct(A,D,P),N=O.fromIndividuals,G=O.toIndividuals,j=N.length,U=0;U<j;U++){var M=o?st({delay:o(U,j)},l):l;a(N[U],G[U],w?D[U]:x.one,w?x.one:D[U],M)}}for(var h=u?u===r:r.length>e.length,p=u?RQ(c,u):RQ(h?e:r,[h?r:e]),v=0,m=0;m<p.length;m++)v+=p[m].many.length;for(var y=0,m=0;m<p.length;m++)f(p[m],h,y,v),y+=p[m].many.length}function Pp(r){if(!r)return[];if(ke(r)){for(var e=[],t=0;t<r.length;t++)e.push(Pp(r[t]));return e}var n=[];return r.traverse(function(i){i instanceof Gt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var qde=1e4,Tct=0,kQ=1,MQ=2,Act=Qt();function Ect(r,e){for(var t=r.dimensions,n=0;n<t.length;n++){var i=r.getDimensionInfo(t[n]);if(i&&i.otherDims[e]===0)return t[n]}}function Cct(r,e,t){var n=r.getDimensionInfo(t),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,e);return i&&i.categories[a]||a+""}}function PQ(r,e,t,n){var i=n?"itemChildGroupId":"itemGroupId",a=Ect(r,i);if(a){var s=Cct(r,e,a);return s}var o=r.getRawDataItem(e),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return t||r.getId(e)}function LQ(r){var e=[];return B(r,function(t){var n=t.data,i=t.dataGroupId;if(!(n.count()>qde))for(var a=n.getIndices(),s=0;s<a.length;s++)e.push({data:n,groupId:PQ(n,s,i,!1),childGroupId:PQ(n,s,i,!0),divide:t.divide,dataIndex:s})}),e}function tO(r,e,t){r.traverse(function(n){n instanceof Gt&&Zr(n,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function rO(r){if(r.parent){var e=r.getComputedTransform();r.setLocalTransform(e),r.parent.remove(r)}}function w0(r){r.stopAnimation(),r.isGroup&&r.traverse(function(e){e.stopAnimation()})}function Dct(r,e,t){var n=Sy("update",t,e);n&&r.traverse(function(i){if(i instanceof Zo){var a=i$e(i);a&&i.animateFrom({style:a},n)}})}function Ict(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++){var i=r[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Yde(r,e,t){var n=LQ(r),i=LQ(e);function a(b,T,C,D,A){(C||b)&&T.animateFrom({style:C&&C!==b?Ce(Ce({},C.style),b.style):b.style},A)}var s=!1,o=Tct,l=Je(),u=Je();n.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){o=kQ;break}var h=i[c].childGroupId;if(h&&l.get(h)){o=MQ;break}}function p(b,T){return function(C){var D=C.data,A=C.dataIndex;return T?D.getId(A):b?o===kQ?C.childGroupId:C.groupId:o===MQ?C.childGroupId:C.groupId}}var v=Ict(n,i),m={};if(!v)for(var c=0;c<i.length;c++){var y=i[c],x=y.data.getItemGraphicEl(y.dataIndex);x&&(m[x.id]=!0)}function w(b,T){var C=n[T],D=i[b],A=D.data.hostModel,k=C.data.getItemGraphicEl(C.dataIndex),I=D.data.getItemGraphicEl(D.dataIndex);if(k===I){I&&Dct(I,D.dataIndex,A);return}k&&m[k.id]||I&&(w0(I),k?(w0(k),rO(k),s=!0,eO(Pp(k),Pp(I),D.divide,A,b,a)):tO(I,A,b))}new cf(n,i,p(!0,v),p(!1,v),null,"multiple").update(w).updateManyToOne(function(b,T){var C=i[b],D=C.data,A=D.hostModel,k=D.getItemGraphicEl(C.dataIndex),I=sr(Pe(T,function(M){return n[M].data.getItemGraphicEl(n[M].dataIndex)}),function(M){return M&&M!==k&&!m[M.id]});k&&(w0(k),I.length?(B(I,function(M){w0(M),rO(M)}),s=!0,eO(Pp(I),Pp(k),C.divide,A,b,a)):tO(k,A,C.dataIndex))}).updateOneToMany(function(b,T){var C=n[T],D=C.data.getItemGraphicEl(C.dataIndex);if(!(D&&m[D.id])){var A=sr(Pe(b,function(I){return i[I].data.getItemGraphicEl(i[I].dataIndex)}),function(I){return I&&I!==D}),k=i[b[0]].data.hostModel;A.length&&(B(A,function(I){return w0(I)}),D?(w0(D),rO(D),s=!0,eO(Pp(D),Pp(A),C.divide,k,b[0],a)):B(A,function(I){return tO(I,k,b[0])}))}}).updateManyToMany(function(b,T){new cf(T,b,function(C){return n[C].data.getId(n[C].dataIndex)},function(C){return i[C].data.getId(i[C].dataIndex)}).update(function(C,D){w(b[C],T[D])}).execute()}).execute(),s&&B(e,function(b){var T=b.data,C=T.hostModel,D=C&&t.getViewOfSeriesModel(C),A=Sy("update",C,0);D&&C.isAnimationEnabled()&&A&&A.duration>0&&D.group.traverse(function(k){k instanceof Gt&&!k.animators.length&&k.animateFrom({style:{opacity:0}},A)})})}function OQ(r){var e=r.getModel("universalTransition").get("seriesKey");return e||r.id}function NQ(r){return ke(r)?r.sort().join(","):r}function ih(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function Rct(r,e){var t=Je(),n=Je(),i=Je();return B(r.oldSeries,function(a,s){var o=r.oldDataGroupIds[s],l=r.oldData[s],u=OQ(a),c=NQ(u);n.set(c,{dataGroupId:o,data:l}),ke(u)&&B(u,function(f){i.set(f,{key:c,dataGroupId:o,data:l})})}),B(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=OQ(a),u=NQ(l),c=n.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:ih(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:ih(o),data:o}]});else if(ke(l)){var f=[];B(l,function(v){var m=n.get(v);m.data&&f.push({dataGroupId:m.dataGroupId,divide:ih(m.data),data:m.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:ih(o)}]})}else{var h=i.get(l);if(h){var p=t.get(h.key);p||(p={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:ih(h.data)}],newSeries:[]},t.set(h.key,p)),p.newSeries.push({dataGroupId:s,data:o,divide:ih(o)})}}}}),t}function FQ(r,e){for(var t=0;t<r.length;t++){var n=e.seriesIndex!=null&&e.seriesIndex===r[t].seriesIndex||e.seriesId!=null&&e.seriesId===r[t].id;if(n)return t}}function kct(r,e,t,n){var i=[],a=[];B(Pr(r.from),function(s){var o=FQ(e.oldSeries,s);o>=0&&i.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:ih(e.oldData[o]),groupIdDim:s.dimension})}),B(Pr(r.to),function(s){var o=FQ(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:ih(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&Yde(i,a,n)}function Mct(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){B(Pr(n.seriesTransition),function(i){B(Pr(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][_A]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(e,t,n){var i=Act(t);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)B(Pr(a),function(p){kct(p,i,n,t)});else{var s=Rct(i,n);B(s.keys(),function(p){var v=s.get(p);Yde(v.oldSeries,v.newSeries,t)})}B(n.updatedSeries,function(p){p[_A]&&(p[_A]=!1)})}for(var o=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<o.length;f++){var h=o[f].getData();h.count()<qde&&(l.push(o[f]),u.push(o[f].get("dataGroupId")),c.push(h))}})}Pt([zZe]);Pt([OZe]);Pt([sQe,wQe,kQe,cJe,wJe,oet,Fet,xtt,Htt,Ytt,nrt,Zrt,bnt,Pnt,Xnt,Jnt,uit,git,Cit,Pit,Git,Eat]);Pt(Wat);Pt(mst);Pt($fe);Pt(Rst);Pt(khe);Pt(Lst);Pt(Gst);Pt(Rot);Pt(Xot);Pt(jb);Pt(hlt);Pt(vlt);Pt(Alt);Pt(Mlt);Pt(Blt);Pt(jlt);Pt(eut);Pt(yut);Pt(Lde);Pt(Ode);Pt(But);Pt(zde);Pt(Ude);Pt(Gut);Pt(rct);Pt(act);Pt(Mct);Pt(tZe);const Pct=Object.freeze(Object.defineProperty({__proto__:null,Axis:nl,ChartView:Cr,ComponentModel:Ut,ComponentView:$r,List:La,Model:or,PRIORITY:tce,SeriesModel:Lr,color:SGe,connect:cXe,dataTool:mXe,dependencies:$Ye,disConnect:fXe,disconnect:uce,dispose:hXe,env:Ht,extendChartView:HKe,extendComponentModel:VKe,extendComponentView:zKe,extendSeriesModel:UKe,format:DKe,getCoordinateSystemDimensions:pXe,getInstanceByDom:oV,getInstanceById:dXe,getMap:gXe,graphic:CKe,helper:_Ke,init:uXe,innerDrawElementOnCanvas:nV,matrix:tGe,number:AKe,parseGeoJSON:N4,parseGeoJson:N4,registerAction:Xl,registerCoordinateSystem:hce,registerLayout:dce,registerLoading:hV,registerLocale:VB,registerMap:pce,registerPostInit:cce,registerPostUpdate:fce,registerPreprocessor:uV,registerProcessor:cV,registerTheme:lV,registerTransform:vce,registerUpdateLifecycle:oI,registerVisual:xd,setCanvasCreator:vXe,setPlatformAPI:ooe,throttle:aI,time:EKe,use:Pt,util:IKe,vector:UHe,version:WYe,zrUtil:LHe,zrender:ije},Symbol.toStringTag,{value:"Module"}));var Rc={},kc={},nO={},BQ;function Lct(){return BQ||(BQ=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=1,t=function(){return"".concat(e++)};r.default=t}(nO)),nO}var b_={},S_={},iO={},VQ;function Xde(){return VQ||(VQ=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){n.apply(s,l)},i)}};r.default=e}(iO)),iO}var Mc={},zQ;function A6(){if(zQ)return Mc;zQ=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.SizeSensorId=Mc.SensorTabIndex=Mc.SensorClassName=void 0;var r="size-sensor-id";Mc.SizeSensorId=r;var e="size-sensor-object";Mc.SensorClassName=e;var t="-1";return Mc.SensorTabIndex=t,Mc}var UQ;function Oct(){if(UQ)return S_;UQ=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.createSensor=void 0;var r=t(Xde()),e=A6();function t(i){return i&&i.__esModule?i:{default:i}}var n=function(a,s){var o=void 0,l=[],u=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var m=document.createElement("object");return m.onload=function(){m.contentDocument.defaultView.addEventListener("resize",c),c()},m.style.display="block",m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.height="100%",m.style.width="100%",m.style.overflow="hidden",m.style.pointerEvents="none",m.style.zIndex="-1",m.style.opacity="0",m.setAttribute("class",e.SensorClassName),m.setAttribute("tabindex",e.SensorTabIndex),m.type="text/html",a.appendChild(m),m.data="about:blank",m},c=(0,r.default)(function(){l.forEach(function(v){v(a)})}),f=function(m){o||(o=u()),l.indexOf(m)===-1&&l.push(m)},h=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",c),o.parentNode.removeChild(o),a.removeAttribute(e.SizeSensorId),o=void 0,l=[],s&&s())},p=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&o&&h()};return{element:a,bind:f,destroy:h,unbind:p}};return S_.createSensor=n,S_}var T_={},HQ;function Nct(){if(HQ)return T_;HQ=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.createSensor=void 0;var r=A6(),e=t(Xde());function t(i){return i&&i.__esModule?i:{default:i}}var n=function(a,s){var o=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(v){v(a)})}),c=function(){var m=new ResizeObserver(u);return m.observe(a),u(),m},f=function(m){o||(o=c()),l.indexOf(m)===-1&&l.push(m)},h=function(){o.disconnect(),l=[],o=void 0,a.removeAttribute(r.SizeSensorId),s&&s()},p=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&o&&h()};return{element:a,bind:f,destroy:h,unbind:p}};return T_.createSensor=n,T_}var GQ;function Fct(){if(GQ)return b_;GQ=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.createSensor=void 0;var r=Oct(),e=Nct(),t=typeof ResizeObserver<"u"?e.createSensor:r.createSensor;return b_.createSensor=t,b_}var jQ;function Bct(){if(jQ)return kc;jQ=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.removeSensor=kc.getSensor=kc.Sensors=void 0;var r=n(Lct()),e=Fct(),t=A6();function n(l){return l&&l.__esModule?l:{default:l}}var i={};kc.Sensors=i;function a(l){l&&i[l]&&delete i[l]}var s=function(u){var c=u.getAttribute(t.SizeSensorId);if(c&&i[c])return i[c];var f=(0,r.default)();u.setAttribute(t.SizeSensorId,f);var h=(0,e.createSensor)(u,function(){return a(f)});return i[f]=h,h};kc.getSensor=s;var o=function(u){var c=u.element.getAttribute(t.SizeSensorId);u.destroy(),a(c)};return kc.removeSensor=o,kc}var WQ;function Vct(){if(WQ)return Rc;WQ=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.ver=Rc.clear=Rc.bind=void 0;var r=Bct(),e=function(a,s){var o=(0,r.getSensor)(a);return o.bind(s),function(){o.unbind(s)}};Rc.bind=e;var t=function(a){var s=(0,r.getSensor)(a);(0,r.removeSensor)(s)};Rc.clear=t;var n="1.0.2";return Rc.ver=n,Rc}var $Q=Vct();function qQ(r,e){var t={};return e.forEach(function(n){t[n]=r[n]}),t}function aO(r){return typeof r=="function"}function zct(r){return typeof r=="string"}var sO,YQ;function Uct(){return YQ||(YQ=1,sO=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!r(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),sO}var Hct=Uct();const b0=FC(Hct);var Gct=function(r){KF(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=t.echarts,n.ele=null,n.isInitialResize=!0,n}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var n=this.props.shouldSetOption;if(!(aO(n)&&!n(t,this.props))){if(!b0(t.theme,this.props.theme)||!b0(t.opts,this.props.opts)||!b0(t.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];b0(qQ(this.props,i),qQ(t,i))||this.updateEChartsOption(),(!b0(t.style,this.props.style)||!b0(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},e.prototype.dispose=function(){if(this.ele){try{$Q.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){var t=this,n=this.props,i=n.onEvents,a=n.onChartReady,s=this.updateEChartsOption();this.bindEvents(s,i||{}),aO(a)&&a(s),this.ele&&$Q.bind(this.ele,function(){t.resize()})},e.prototype.bindEvents=function(t,n){function i(s,o){zct(s)&&aO(o)&&t.on(s,function(l){o(l,t)})}for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i(a,n[a])},e.prototype.updateEChartsOption=function(){var t=this.props,n=t.option,i=t.notMerge,a=i===void 0?!1:i,s=t.lazyUpdate,o=s===void 0?!1:s,l=t.showLoading,u=t.loadingOption,c=u===void 0?null:u,f=this.getEchartsInstance();return f.setOption(n,a,o),l?f.showLoading(c):f.hideLoading(),f},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(n){console.warn(n)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,n=this.props,i=n.style,a=n.className,s=a===void 0?"":a,o=Si({height:300},i);return Ml.createElement("div",{ref:function(l){t.ele=l},style:o,className:"echarts-for-react "+s})},e}(ce.PureComponent),oO=function(r){KF(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=Pct,n}return e}(Gct);const jct="_container_1ksqt_1",Wct="_ganadoresGrid_1ksqt_117",$ct="_ganadorBox_1ksqt_133",qct="_logoRow_1ksqt_161",Yct="_logoImage_1ksqt_179",A_={container:jct,ganadoresGrid:Wct,ganadorBox:$ct,logoRow:qct,logoImage:Yct},Xct={"Santa Cruz":14,"La Paz":14,Cochabamba:9,Potos:7,Chuquisaca:5,Oruro:4,Tarija:4,Beni:4,Pando:2},E6=[{nombre:"ALIANZA POPULAR (AP)",acronimo:"ap",colores:["#5BA5D6","#fdfeffff","#477B29","#58A6D7"]},{nombre:"LIBERTAD Y PROGRESO ADN (LYP-ADN)",acronimo:"adn",colores:["#D9042B","#0D8C2D","#FFFFFF","#F20505","#000000"]},{nombre:"AUTONOMA PARA BOLIVIA SMATE (APB-SUMATE)",acronimo:"sumate",colores:["#410A59","#D91807"]},{nombre:"LIBERTAD Y DEMOCRACIA (LIBRE)",acronimo:"libre",colores:["#1D3973","#155FBF","#F20505","#ffffffff"]},{nombre:"LA FUERZA DEL PUEBLO (FP)",acronimo:"FP",colores:["#52C5F2","#57D6F2","#F2F2F2","#0D0D0D"]},{nombre:"MAS-IPSP",acronimo:"mas",colores:["#0B2447","#031f47"]},{nombre:"MORENA",acronimo:"morena",colores:["#F20587","#69BF2C","#F2CB05","#F25116","#676767"]},{nombre:"UNIDAD",acronimo:"unidad",colores:["#FFBA49","#020873"]},{nombre:"PARTIDO DEMOCRATA CRISTIANO (PDC)",acronimo:"pdc",colores:["#D90B1C","#D90B31","#733641","#027373","#0D0D0D"]},{nombre:"BIA-YUQUI",acronimo:"BIA-YUQUI",colores:["#000000","#888888"]},{nombre:"OICH",acronimo:"OICH",colores:["#000000","#888888"]}],XQ=(r,e=0)=>{const t=E6.find(n=>n.nombre===r||n.acronimo===r);return t?.colores[e%t.colores.length]||"#888"},lO=r=>E6.find(n=>n.nombre===r||n.acronimo===r)?.acronimo||r,Kct=r=>{const e=E6.find(i=>i.nombre===r||i.acronimo===r);if(!e)return"#888";const t=e.colores;return t.length===1?t[0]:`linear-gradient(135deg, ${t.map((i,a)=>{const s=a/(t.length-1)*100;return`${i} ${s}%`}).join(", ")})`};function Zct(){const[r,e]=ce.useState([]),[t,n]=ce.useState({}),[i,a]=ce.useState(!0);if(ce.useEffect(()=>{(async()=>{try{const D=await bn(Fr(er,"departamentos")),A={};D.forEach(P=>{A[P.id]=P.data().nombre}),n(A);const k=qn(Fr(er,"recepcion"),wn("estado","==","aprobado")),M=(await bn(k)).docs.map(P=>({id:P.id,...P.data()}));e(M),a(!1)}catch(D){console.error("Error:",D),a(!1)}})()},[]),i)return q.jsx("p",{children:"Cargando datos electorales..."});const s=Object.values(t),o={},l={},u={};let c=0,f=0,h=0,p=0;s.forEach(C=>{o[C]={},l[C]={habilitados:0,validos:0,nulos:0,blancos:0}}),r.forEach(C=>{const D=t[C.departamento];D&&(Object.entries(C.votosPresidente||{}).forEach(([A,k])=>{const I=parseInt(k)||0;o[D][A]=(o[D][A]||0)+I,u[A]=(u[A]||0)+I}),l[D].habilitados+=parseInt(C.habilitados||0)||0,l[D].validos+=parseInt(C.validosPresidente||0)||0,l[D].nulos+=parseInt(C.nulosPresidente||0)||0,l[D].blancos+=parseInt(C.blancosPresidente||0)||0,c+=parseInt(C.habilitados||0)||0,f+=parseInt(C.validosPresidente||0)||0,h+=parseInt(C.nulosPresidente||0)||0,p+=parseInt(C.blancosPresidente||0)||0)});const v=(C,D)=>{const A=[],k={};for(const I in C){k[I]=0;for(let M=1;M<=D;M++)A.push({partido:I,valor:C[I]/M})}return A.sort((I,M)=>M.valor-I.valor),A.slice(0,D).forEach(({partido:I})=>k[I]++),k},m=f+h+p,y=Object.values(u).reduce((C,D)=>C+D,0),x=Object.keys(u),w={title:{text:"Participacin Electoral Nacional"},series:[{type:"pie",radius:"50%",data:[{value:f,name:"Vlidos"},{value:h,name:"Nulos"},{value:p,name:"Blancos"},{value:c-m,name:"Abstencin"}]}]},b={title:{text:"Votacin Presidencial Nacional (%)",left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#1D3973"}},tooltip:{trigger:"item",backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,padding:10,textStyle:{color:"#333",fontSize:13},formatter:function(C){const D=C.name,A=lO(D),k=u[D]||0,I=(k*100/y).toFixed(2);return`
        <div style="display: flex; align-items: center;">
          <div style="
            background: ${Kct(D)};
            border-radius: 6px;
            padding: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            margin-right: 12px;
          ">
            <img src="/img/logos/${A}.png"
                alt="${A}"
                style="width: 100%; height: 100%; object-fit: contain;"
                onerror="this.style.display='none'" />
          </div>
          <div>
            <strong style="font-size: 14px;">${D}</strong><br/>
            <span style="color: #555;">Votos:</span> ${k.toLocaleString()}<br/>
            <span style="color: #555;">Porcentaje:</span> <strong>${I}%</strong>
          </div>
        </div>
      `}},xAxis:{type:"category",data:x,axisLabel:{interval:0,formatter:function(C){return`{label|${(lO(C)||C).toString().trim().toUpperCase()}}`},rich:{label:{fontSize:12,fontWeight:"bold",color:"#333",padding:[4,0]}}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",max:100,axisLabel:{formatter:"{value} %"}},series:[{name:"Porcentaje",type:"bar",barWidth:"60%",data:x.map(C=>Number((u[C]*100/y).toFixed(2))),itemStyle:{color:C=>XQ(x[C.dataIndex])},label:{show:!0,position:"top",formatter:"{c}%",fontSize:11,color:"#444"},animation:!0,animationDuration:2e3,animationEasing:"cubicOut",animationDelay:C=>C*100}]},T={title:{text:"Diputados Uninominales por Departamento"},xAxis:{type:"category",data:s},yAxis:{type:"value"},series:x.map(C=>({name:C,type:"bar",stack:"total",data:s.map(D=>v(o[D],Xct[D]||0)[C]||0),itemStyle:{color:XQ(C)}}))};return q.jsxs("div",{className:A_.container,children:[q.jsx("h1",{children:"Resultados Electorales Nacional y por Departamento"}),q.jsx(oO,{option:w,style:{height:300}}),q.jsx(oO,{option:b,style:{height:400}}),q.jsx(oO,{option:T,style:{height:400}}),q.jsxs("section",{children:[q.jsx("h2",{children:"Ganador Presidencial por Departamento"}),q.jsx("div",{className:A_.ganadoresGrid,children:s.map(C=>{const D=o[C];if(!Object.values(D).reduce((P,O)=>P+O,0))return null;const[k,I]=Object.entries(D).sort((P,O)=>O[1]-P[1])[0],M=lO(k);return console.log(`Departamento: ${C}, Partido ganador: ${k}, Acrnimo: ${M}`),console.log(`Ruta imagen: /img/logos/${M}.png`),q.jsxs("div",{className:A_.ganadorBox,children:[q.jsx("strong",{children:C}),q.jsxs("div",{className:A_.logoRow,children:[q.jsx("img",{src:`/img/logos/${M}.png`,alt:M,className:A_.logoImage,onError:P=>P.target.style.display="none"}),q.jsxs("div",{children:[M,q.jsx("br",{}),I.toLocaleString()," votos"]})]})]},C)})})]})]})}function Qct(){return q.jsx(q.Fragment,{children:q.jsx(xSe,{})})}function Jct(){const r=ey(),[e,t]=ce.useState(!1);return ce.useEffect(()=>{t(!0);const n=setTimeout(()=>t(!1),300);return()=>clearTimeout(n)},[r]),e?q.jsx(hD,{}):q.jsxs(_ge,{children:[q.jsx(Do,{path:"/",element:q.jsx(Qct,{})}),q.jsx(Do,{path:"/login",element:q.jsx($Se,{})}),q.jsx(Do,{path:"/signup",element:q.jsx(ZSe,{})}),q.jsx(Do,{path:"/delegado/registro_electoral",element:q.jsx(BFe,{})}),q.jsx(Do,{path:"/revisor/registros_cargados",element:q.jsx(pHe,{})}),q.jsx(Do,{path:"/resultados/resultados_graficos",element:q.jsx(Zct,{})}),q.jsx(Do,{path:"/jefesR/GestionUsuariosPage",element:q.jsx(mHe,{})}),q.jsx(Do,{path:"/test",element:q.jsx(gke,{})}),q.jsx(Do,{path:"/testv1",element:q.jsx(z7e,{})}),q.jsx(Do,{path:"/testv2",element:q.jsx(U7e,{})}),q.jsx(Do,{path:"/testEstres",element:q.jsx(K7e,{})})]})}function eft(){return q.jsxs(Cge,{children:[q.jsx(hSe,{}),q.jsx("main",{style:{minHeight:"80vh"},children:q.jsx(Jct,{})}),q.jsx(SSe,{})]})}Rve.createRoot(document.getElementById("root")).render(q.jsx(ce.StrictMode,{children:q.jsx(eft,{})}));
